"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@walletconnect";
exports.ids = ["vendor-chunks/@walletconnect"];
exports.modules = {

/***/ "(ssr)/./node_modules/@walletconnect/core/dist/index.es.js":
/*!***********************************************************!*\
  !*** ./node_modules/@walletconnect/core/dist/index.es.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CORE_CONTEXT: () => (/* binding */ he),\n/* harmony export */   CORE_DEFAULT: () => (/* binding */ Et),\n/* harmony export */   CORE_PROTOCOL: () => (/* binding */ ze),\n/* harmony export */   CORE_STORAGE_OPTIONS: () => (/* binding */ It),\n/* harmony export */   CORE_STORAGE_PREFIX: () => (/* binding */ B),\n/* harmony export */   CORE_VERSION: () => (/* binding */ Le),\n/* harmony export */   CRYPTO_CLIENT_SEED: () => (/* binding */ ke),\n/* harmony export */   CRYPTO_CONTEXT: () => (/* binding */ Tt),\n/* harmony export */   CRYPTO_JWT_TTL: () => (/* binding */ Ct),\n/* harmony export */   Core: () => (/* binding */ Jo),\n/* harmony export */   Crypto: () => (/* binding */ vi),\n/* harmony export */   ECHO_CONTEXT: () => (/* binding */ Xt),\n/* harmony export */   ECHO_URL: () => (/* binding */ Zt),\n/* harmony export */   EVENTS_CLIENT_API_URL: () => (/* binding */ ii),\n/* harmony export */   EVENTS_STORAGE_CLEANUP_INTERVAL: () => (/* binding */ ti),\n/* harmony export */   EVENTS_STORAGE_CONTEXT: () => (/* binding */ ei),\n/* harmony export */   EVENTS_STORAGE_VERSION: () => (/* binding */ Qt),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_ERRORS: () => (/* binding */ ir),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_TRACES: () => (/* binding */ tr),\n/* harmony export */   EVENT_CLIENT_CONTEXT: () => (/* binding */ Zs),\n/* harmony export */   EVENT_CLIENT_PAIRING_ERRORS: () => (/* binding */ Y),\n/* harmony export */   EVENT_CLIENT_PAIRING_TRACES: () => (/* binding */ G),\n/* harmony export */   EVENT_CLIENT_SESSION_ERRORS: () => (/* binding */ er),\n/* harmony export */   EVENT_CLIENT_SESSION_TRACES: () => (/* binding */ Qs),\n/* harmony export */   EXPIRER_CONTEXT: () => (/* binding */ qt),\n/* harmony export */   EXPIRER_DEFAULT_TTL: () => (/* binding */ Js),\n/* harmony export */   EXPIRER_EVENTS: () => (/* binding */ M),\n/* harmony export */   EXPIRER_STORAGE_VERSION: () => (/* binding */ Gt),\n/* harmony export */   EchoClient: () => (/* binding */ Mi),\n/* harmony export */   EventClient: () => (/* binding */ Bi),\n/* harmony export */   Expirer: () => (/* binding */ ji),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ Bt),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ F),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Vt),\n/* harmony export */   JsonRpcHistory: () => (/* binding */ ki),\n/* harmony export */   KEYCHAIN_CONTEXT: () => (/* binding */ Pt),\n/* harmony export */   KEYCHAIN_STORAGE_VERSION: () => (/* binding */ St),\n/* harmony export */   KeyChain: () => (/* binding */ Di),\n/* harmony export */   MESSAGES_CONTEXT: () => (/* binding */ Rt),\n/* harmony export */   MESSAGES_STORAGE_VERSION: () => (/* binding */ Ot),\n/* harmony export */   MESSAGE_DIRECTION: () => (/* binding */ le),\n/* harmony export */   MessageTracker: () => (/* binding */ _i),\n/* harmony export */   PAIRING_CONTEXT: () => (/* binding */ Mt),\n/* harmony export */   PAIRING_DEFAULT_TTL: () => (/* binding */ Ys),\n/* harmony export */   PAIRING_EVENTS: () => (/* binding */ se),\n/* harmony export */   PAIRING_RPC_OPTS: () => (/* binding */ ie),\n/* harmony export */   PAIRING_STORAGE_VERSION: () => (/* binding */ Kt),\n/* harmony export */   PENDING_SUB_RESOLUTION_TIMEOUT: () => (/* binding */ Hs),\n/* harmony export */   PUBLISHER_CONTEXT: () => (/* binding */ At),\n/* harmony export */   PUBLISHER_DEFAULT_TTL: () => (/* binding */ je),\n/* harmony export */   Pairing: () => (/* binding */ Li),\n/* harmony export */   RELAYER_CONTEXT: () => (/* binding */ $t),\n/* harmony export */   RELAYER_DEFAULT_LOGGER: () => (/* binding */ Nt),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ xt),\n/* harmony export */   RELAYER_DEFAULT_RELAY_URL: () => (/* binding */ Ue),\n/* harmony export */   RELAYER_EVENTS: () => (/* binding */ C),\n/* harmony export */   RELAYER_PROVIDER_EVENTS: () => (/* binding */ L),\n/* harmony export */   RELAYER_RECONNECT_TIMEOUT: () => (/* binding */ Lt),\n/* harmony export */   RELAYER_SDK_VERSION: () => (/* binding */ _e),\n/* harmony export */   RELAYER_STORAGE_OPTIONS: () => (/* binding */ qs),\n/* harmony export */   RELAYER_SUBSCRIBER_SUFFIX: () => (/* binding */ zt),\n/* harmony export */   RELAYER_TRANSPORT_CUTOFF: () => (/* binding */ Gs),\n/* harmony export */   Relayer: () => (/* binding */ Si),\n/* harmony export */   STORE_STORAGE_VERSION: () => (/* binding */ kt),\n/* harmony export */   SUBSCRIBER_CONTEXT: () => (/* binding */ Ut),\n/* harmony export */   SUBSCRIBER_DEFAULT_TTL: () => (/* binding */ Ws),\n/* harmony export */   SUBSCRIBER_EVENTS: () => (/* binding */ $),\n/* harmony export */   SUBSCRIBER_STORAGE_VERSION: () => (/* binding */ Ft),\n/* harmony export */   Store: () => (/* binding */ zi),\n/* harmony export */   Subscriber: () => (/* binding */ Ti),\n/* harmony export */   TRANSPORT_TYPES: () => (/* binding */ Q),\n/* harmony export */   TRUSTED_VERIFY_URLS: () => (/* binding */ Jt),\n/* harmony export */   VERIFY_CONTEXT: () => (/* binding */ Wt),\n/* harmony export */   VERIFY_SERVER: () => (/* binding */ ue),\n/* harmony export */   VERIFY_SERVER_V3: () => (/* binding */ Yt),\n/* harmony export */   Verify: () => (/* binding */ Ui),\n/* harmony export */   WALLETCONNECT_CLIENT_ID: () => (/* binding */ jt),\n/* harmony export */   WALLETCONNECT_LINK_MODE_APPS: () => (/* binding */ Fe),\n/* harmony export */   \"default\": () => (/* binding */ Te)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/heartbeat */ \"(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js\");\n/* harmony import */ var _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/keyvaluestorage */ \"(ssr)/./node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @walletconnect/jsonrpc-ws-connection */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\nconst ze=\"wc\",Le=2,he=\"core\",B=`${ze}@2:${he}:`,Et={name:he,logger:\"error\"},It={database:\":memory:\"},Tt=\"crypto\",ke=\"client_ed25519_seed\",Ct=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Pt=\"keychain\",St=\"0.3\",Rt=\"messages\",Ot=\"0.3\",je=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.SIX_HOURS,At=\"publisher\",xt=\"irn\",Nt=\"error\",Ue=\"wss://relay.walletconnect.org\",$t=\"relayer\",C={message:\"relayer_message\",message_ack:\"relayer_message_ack\",connect:\"relayer_connect\",disconnect:\"relayer_disconnect\",error:\"relayer_error\",connection_stalled:\"relayer_connection_stalled\",transport_closed:\"relayer_transport_closed\",publish:\"relayer_publish\"},zt=\"_subscription\",L={payload:\"payload\",connect:\"connect\",disconnect:\"disconnect\",error:\"error\"},Lt=.1,qs={database:\":memory:\"},_e=\"2.19.2\",Gs=1e4,Q={link_mode:\"link_mode\",relay:\"relay\"},le={inbound:\"inbound\",outbound:\"outbound\"},kt=\"0.3\",jt=\"WALLETCONNECT_CLIENT_ID\",Fe=\"WALLETCONNECT_LINK_MODE_APPS\",$={created:\"subscription_created\",deleted:\"subscription_deleted\",expired:\"subscription_expired\",disabled:\"subscription_disabled\",sync:\"subscription_sync\",resubscribed:\"subscription_resubscribed\"},Ws=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,Ut=\"subscription\",Ft=\"0.3\",Hs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS*1e3,Mt=\"pairing\",Kt=\"0.3\",Ys=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,ie={wc_pairingDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0}}},se={create:\"pairing_create\",expire:\"pairing_expire\",delete:\"pairing_delete\",ping:\"pairing_ping\"},F={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},Bt=\"history\",Vt=\"0.3\",qt=\"expirer\",M={created:\"expirer_created\",deleted:\"expirer_deleted\",expired:\"expirer_expired\",sync:\"expirer_sync\"},Gt=\"0.3\",Js=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Wt=\"verify-api\",Xs=\"https://verify.walletconnect.com\",Ht=\"https://verify.walletconnect.org\",ue=Ht,Yt=`${ue}/v3`,Jt=[Xs,Ht],Xt=\"echo\",Zt=\"https://echo.walletconnect.com\",Zs=\"event-client\",G={pairing_started:\"pairing_started\",pairing_uri_validation_success:\"pairing_uri_validation_success\",pairing_uri_not_expired:\"pairing_uri_not_expired\",store_new_pairing:\"store_new_pairing\",subscribing_pairing_topic:\"subscribing_pairing_topic\",subscribe_pairing_topic_success:\"subscribe_pairing_topic_success\",existing_pairing:\"existing_pairing\",pairing_not_expired:\"pairing_not_expired\",emit_inactive_pairing:\"emit_inactive_pairing\",emit_session_proposal:\"emit_session_proposal\",subscribing_to_pairing_topic:\"subscribing_to_pairing_topic\"},Y={no_wss_connection:\"no_wss_connection\",no_internet_connection:\"no_internet_connection\",malformed_pairing_uri:\"malformed_pairing_uri\",active_pairing_already_exists:\"active_pairing_already_exists\",subscribe_pairing_topic_failure:\"subscribe_pairing_topic_failure\",pairing_expired:\"pairing_expired\",proposal_expired:\"proposal_expired\",proposal_listener_not_found:\"proposal_listener_not_found\"},Qs={session_approve_started:\"session_approve_started\",proposal_not_expired:\"proposal_not_expired\",session_namespaces_validation_success:\"session_namespaces_validation_success\",create_session_topic:\"create_session_topic\",subscribing_session_topic:\"subscribing_session_topic\",subscribe_session_topic_success:\"subscribe_session_topic_success\",publishing_session_approve:\"publishing_session_approve\",session_approve_publish_success:\"session_approve_publish_success\",store_session:\"store_session\",publishing_session_settle:\"publishing_session_settle\",session_settle_publish_success:\"session_settle_publish_success\"},er={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",proposal_expired:\"proposal_expired\",subscribe_session_topic_failure:\"subscribe_session_topic_failure\",session_approve_publish_failure:\"session_approve_publish_failure\",session_settle_publish_failure:\"session_settle_publish_failure\",session_approve_namespace_validation_failure:\"session_approve_namespace_validation_failure\",proposal_not_found:\"proposal_not_found\"},tr={authenticated_session_approve_started:\"authenticated_session_approve_started\",authenticated_session_not_expired:\"authenticated_session_not_expired\",chains_caip2_compliant:\"chains_caip2_compliant\",chains_evm_compliant:\"chains_evm_compliant\",create_authenticated_session_topic:\"create_authenticated_session_topic\",cacaos_verified:\"cacaos_verified\",store_authenticated_session:\"store_authenticated_session\",subscribing_authenticated_session_topic:\"subscribing_authenticated_session_topic\",subscribe_authenticated_session_topic_success:\"subscribe_authenticated_session_topic_success\",publishing_authenticated_session_approve:\"publishing_authenticated_session_approve\",authenticated_session_approve_publish_success:\"authenticated_session_approve_publish_success\"},ir={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",missing_session_authenticate_request:\"missing_session_authenticate_request\",session_authenticate_request_expired:\"session_authenticate_request_expired\",chains_caip2_compliant_failure:\"chains_caip2_compliant_failure\",chains_evm_compliant_failure:\"chains_evm_compliant_failure\",invalid_cacao:\"invalid_cacao\",subscribe_authenticated_session_topic_failure:\"subscribe_authenticated_session_topic_failure\",authenticated_session_approve_publish_failure:\"authenticated_session_approve_publish_failure\",authenticated_session_pending_request_not_found:\"authenticated_session_pending_request_not_found\"},Qt=.1,ei=\"event-client\",ti=86400,ii=\"https://pulse.walletconnect.org/batch\";function sr(r,e){if(r.length>=255)throw new TypeError(\"Alphabet too long\");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+\" is ambiguous\");t[o]=s}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(u.length===0)return\"\";for(var b=0,x=0,I=0,D=u.length;I!==D&&u[I]===0;)I++,b++;for(var j=(D-I)*l+1>>>0,T=new Uint8Array(j);I!==D;){for(var q=u[I],J=0,K=j-1;(q!==0||J<x)&&K!==-1;K--,J++)q+=256*T[K]>>>0,T[K]=q%a>>>0,q=q/a>>>0;if(q!==0)throw new Error(\"Non-zero carry\");x=J,I++}for(var H=j-x;H!==j&&T[H]===0;)H++;for(var me=c.repeat(b);H<j;++H)me+=r.charAt(T[H]);return me}function g(u){if(typeof u!=\"string\")throw new TypeError(\"Expected String\");if(u.length===0)return new Uint8Array;var b=0;if(u[b]!==\" \"){for(var x=0,I=0;u[b]===c;)x++,b++;for(var D=(u.length-b)*h+1>>>0,j=new Uint8Array(D);u[b];){var T=t[u.charCodeAt(b)];if(T===255)return;for(var q=0,J=D-1;(T!==0||q<I)&&J!==-1;J--,q++)T+=a*j[J]>>>0,j[J]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error(\"Non-zero carry\");I=q,b++}if(u[b]!==\" \"){for(var K=D-I;K!==D&&j[K]===0;)K++;for(var H=new Uint8Array(x+(D-K)),me=x;K!==D;)H[me++]=j[K++];return H}}}function _(u){var b=g(u);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:g,decode:_}}var rr=sr,nr=rr;const si=r=>{if(r instanceof Uint8Array&&r.constructor.name===\"Uint8Array\")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error(\"Unknown type, must be binary type\")},or=r=>new TextEncoder().encode(r),ar=r=>new TextDecoder().decode(r);class cr{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class hr{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return ri(this,e)}}class lr{constructor(e){this.decoders=e}or(e){return ri(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ri=(r,e)=>new lr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class ur{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new cr(e,t,i),this.decoder=new hr(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ee=({name:r,prefix:e,encode:t,decode:i})=>new ur(r,e,t,i),de=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=nr(t,e);return Ee({prefix:r,name:e,encode:i,decode:n=>si(s(n))})},dr=(r,e,t,i)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=r.length;for(;r[n-1]===\"=\";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let l=0;l<n;++l){const d=s[r[l]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},gr=(r,e,t)=>{const i=e[e.length-1]===\"=\",s=(1<<t)-1;let n=\"\",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+=\"=\";return n},P=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Ee({prefix:e,name:r,encode(s){return gr(s,i,t)},decode(s){return dr(s,i,t,r)}}),pr=Ee({prefix:\"\\0\",name:\"identity\",encode:r=>ar(r),decode:r=>or(r)});var yr=Object.freeze({__proto__:null,identity:pr});const br=P({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var mr=Object.freeze({__proto__:null,base2:br});const fr=P({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var Dr=Object.freeze({__proto__:null,base8:fr});const vr=de({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var wr=Object.freeze({__proto__:null,base10:vr});const _r=P({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Er=P({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Ir=Object.freeze({__proto__:null,base16:_r,base16upper:Er});const Tr=P({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Cr=P({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),Pr=P({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),Sr=P({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),Rr=P({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),Or=P({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),Ar=P({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),xr=P({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),Nr=P({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var $r=Object.freeze({__proto__:null,base32:Tr,base32upper:Cr,base32pad:Pr,base32padupper:Sr,base32hex:Rr,base32hexupper:Or,base32hexpad:Ar,base32hexpadupper:xr,base32z:Nr});const zr=de({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),Lr=de({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var kr=Object.freeze({__proto__:null,base36:zr,base36upper:Lr});const jr=de({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Ur=de({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var Fr=Object.freeze({__proto__:null,base58btc:jr,base58flickr:Ur});const Mr=P({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),Kr=P({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),Br=P({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),Vr=P({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var qr=Object.freeze({__proto__:null,base64:Mr,base64pad:Kr,base64url:Br,base64urlpad:Vr});const ni=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),Gr=ni.reduce((r,e,t)=>(r[t]=e,r),[]),Wr=ni.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Hr(r){return r.reduce((e,t)=>(e+=Gr[t],e),\"\")}function Yr(r){const e=[];for(const t of r){const i=Wr[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const Jr=Ee({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:Hr,decode:Yr});var Xr=Object.freeze({__proto__:null,base256emoji:Jr}),Zr=ai,oi=128,Qr=127,en=~Qr,tn=Math.pow(2,31);function ai(r,e,t){e=e||[],t=t||0;for(var i=t;r>=tn;)e[t++]=r&255|oi,r/=128;for(;r&en;)e[t++]=r&255|oi,r>>>=7;return e[t]=r|0,ai.bytes=t-i+1,e}var sn=Me,rn=128,ci=127;function Me(r,i){var t=0,i=i||0,s=0,n=i,o,a=r.length;do{if(n>=a)throw Me.bytes=0,new RangeError(\"Could not decode varint\");o=r[n++],t+=s<28?(o&ci)<<s:(o&ci)*Math.pow(2,s),s+=7}while(o>=rn);return Me.bytes=n-i,t}var nn=Math.pow(2,7),on=Math.pow(2,14),an=Math.pow(2,21),cn=Math.pow(2,28),hn=Math.pow(2,35),ln=Math.pow(2,42),un=Math.pow(2,49),dn=Math.pow(2,56),gn=Math.pow(2,63),pn=function(r){return r<nn?1:r<on?2:r<an?3:r<cn?4:r<hn?5:r<ln?6:r<un?7:r<dn?8:r<gn?9:10},yn={encode:Zr,decode:sn,encodingLength:pn},hi=yn;const li=(r,e,t=0)=>(hi.encode(r,e,t),e),ui=r=>hi.encodingLength(r),Ke=(r,e)=>{const t=e.byteLength,i=ui(r),s=i+ui(t),n=new Uint8Array(s+t);return li(r,n,0),li(t,n,i),n.set(e,s),new bn(r,t,e,n)};class bn{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s}}const di=({name:r,code:e,encode:t})=>new mn(r,e,t);class mn{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ke(this.code,t):t.then(i=>Ke(this.code,i))}else throw Error(\"Unknown type, must be binary type\")}}const gi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),fn=di({name:\"sha2-256\",code:18,encode:gi(\"SHA-256\")}),Dn=di({name:\"sha2-512\",code:19,encode:gi(\"SHA-512\")});var vn=Object.freeze({__proto__:null,sha256:fn,sha512:Dn});const pi=0,wn=\"identity\",yi=si,_n=r=>Ke(pi,yi(r)),En={code:pi,name:wn,encode:yi,digest:_n};var In=Object.freeze({__proto__:null,identity:En});new TextEncoder,new TextDecoder;const bi={...yr,...mr,...Dr,...wr,...Ir,...$r,...kr,...Fr,...qr,...Xr};({...vn,...In});function Tn(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function mi(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const fi=mi(\"utf8\",\"u\",r=>\"u\"+new TextDecoder(\"utf8\").decode(r),r=>new TextEncoder().encode(r.substring(1))),Be=mi(\"ascii\",\"a\",r=>{let e=\"a\";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Tn(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Cn={utf8:fi,\"utf-8\":fi,hex:bi.base16,latin1:Be,ascii:Be,binary:Be,...bi};function Pn(r,e=\"utf8\"){const t=Cn[e];if(!t)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,\"utf8\"):t.decoder.decode(`${t.prefix}${r}`)}var Sn=Object.defineProperty,Rn=(r,e,t)=>e in r?Sn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,W=(r,e,t)=>Rn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Di{constructor(e,t){this.core=e,this.logger=t,W(this,\"keychain\",new Map),W(this,\"name\",Pt),W(this,\"version\",St),W(this,\"initialized\",!1),W(this,\"storagePrefix\",B),W(this,\"init\",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<\"u\"&&(this.keychain=i),this.initialized=!0}}),W(this,\"has\",i=>(this.isInitialized(),this.keychain.has(i))),W(this,\"set\",async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()}),W(this,\"get\",i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>\"u\"){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${i}`);throw new Error(n)}return s}),W(this,\"del\",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var On=Object.defineProperty,An=(r,e,t)=>e in r?On(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,S=(r,e,t)=>An(r,typeof e!=\"symbol\"?e+\"\":e,t);class vi{constructor(e,t,i){this.core=e,this.logger=t,S(this,\"name\",Tt),S(this,\"keychain\"),S(this,\"randomSessionIdentifier\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)()),S(this,\"initialized\",!1),S(this,\"init\",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),S(this,\"hasKeys\",s=>(this.isInitialized(),this.keychain.has(s))),S(this,\"getClientId\",async()=>{this.isInitialized();const s=await this.getClientSeed(),n=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(s);return _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.encodeIss(n.publicKey)}),S(this,\"generateKeyPair\",()=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateKeyPair)();return this.setPrivateKey(s.publicKey,s.privateKey)}),S(this,\"signJWT\",async s=>{this.isInitialized();const n=await this.getClientSeed(),o=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(n),a=this.randomSessionIdentifier,c=Ct;return await _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.signJWT(a,s,c,o)}),S(this,\"generateSharedKey\",(s,n,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deriveSymKey)(a,n);return this.setSymKey(c,o)}),S(this,\"setSymKey\",async(s,n)=>{this.isInitialized();const o=n||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashKey)(s);return await this.keychain.set(o,s),o}),S(this,\"deleteKeyPair\",async s=>{this.isInitialized(),await this.keychain.del(s)}),S(this,\"deleteSymKey\",async s=>{this.isInitialized(),await this.keychain.del(s)}),S(this,\"encode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateEncoding)(o),c=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonStringify)(n);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a))return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encodeTypeTwoEnvelope)(c,o?.encoding);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const g=a.senderPublicKey,_=a.receiverPublicKey;s=await this.generateSharedKey(g,_)}const h=this.getSymKey(s),{type:l,senderPublicKey:d}=a;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encrypt)({type:l,symKey:h,message:c,senderPublicKey:d,encoding:o?.encoding})}),S(this,\"decode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateDecoding)(n,o);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a)){const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeTwoEnvelope)(n,o?.encoding);return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(c)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;s=await this.generateSharedKey(c,h)}try{const c=this.getSymKey(s),h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decrypt)({symKey:c,encoded:n,encoding:o?.encoding});return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),S(this,\"getPayloadType\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeByte)(o.type)}),S(this,\"getPayloadSenderPublicKey\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return o.senderPublicKey?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_7__.toString)(o.senderPublicKey,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE16):void 0}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.keychain=i||new Di(this.core,this.logger)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e=\"\";try{e=this.keychain.get(ke)}catch{e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),await this.keychain.set(ke,e)}return Pn(e,\"base16\")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var xn=Object.defineProperty,Nn=Object.defineProperties,$n=Object.getOwnPropertyDescriptors,wi=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,Ve=(r,e,t)=>e in r?xn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kn=(r,e)=>{for(var t in e||(e={}))zn.call(e,t)&&Ve(r,t,e[t]);if(wi)for(var t of wi(e))Ln.call(e,t)&&Ve(r,t,e[t]);return r},jn=(r,e)=>Nn(r,$n(e)),k=(r,e,t)=>Ve(r,typeof e!=\"symbol\"?e+\"\":e,t);class _i extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,k(this,\"messages\",new Map),k(this,\"messagesWithoutClientAck\",new Map),k(this,\"name\",Rt),k(this,\"version\",Ot),k(this,\"initialized\",!1),k(this,\"storagePrefix\",B),k(this,\"init\",async()=>{if(!this.initialized){this.logger.trace(\"Initialized\");try{const i=await this.getRelayerMessages();typeof i<\"u\"&&(this.messages=i);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<\"u\"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),k(this,\"set\",async(i,s,n)=>{this.isInitialized();const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);let a=this.messages.get(i);if(typeof a>\"u\"&&(a={}),typeof a[o]<\"u\")return o;if(a[o]=s,this.messages.set(i,a),n===le.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,jn(kn({},c),{[o]:s}))}return await this.persist(),o}),k(this,\"get\",i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>\"u\"&&(s={}),s}),k(this,\"getWithoutAck\",i=>{this.isInitialized();const s={};for(const n of i){const o=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(o)}return s}),k(this,\"has\",(i,s)=>{this.isInitialized();const n=this.get(i),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);return typeof n[o]<\"u\"}),k(this,\"ack\",async(i,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(i);if(typeof n>\"u\")return;const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);delete n[o],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,n),await this.persist()}),k(this,\"del\",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e,this.name),this.core=t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name+\"_withoutClientAck\"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Un=Object.defineProperty,Fn=Object.defineProperties,Mn=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,Kn=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,qe=(r,e,t)=>e in r?Un(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ie=(r,e)=>{for(var t in e||(e={}))Kn.call(e,t)&&qe(r,t,e[t]);if(Ei)for(var t of Ei(e))Bn.call(e,t)&&qe(r,t,e[t]);return r},Ge=(r,e)=>Fn(r,Mn(e)),V=(r,e,t)=>qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Vn extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,V(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),V(this,\"name\",At),V(this,\"queue\",new Map),V(this,\"publishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),V(this,\"initialPublishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),V(this,\"needsTransportRestart\",!1),V(this,\"publish\",async(i,s,n)=>{var o;this.logger.debug(\"Publishing Payload\"),this.logger.trace({type:\"method\",method:\"publish\",params:{topic:i,message:s,opts:n}});const a=n?.ttl||je,c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(n),h=n?.prompt||!1,l=n?.tag||0,d=n?.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),g={topic:i,message:s,opts:{ttl:a,relay:c,prompt:h,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}},_=`Failed to publish payload, please try again. id:${d} tag:${l}`;try{const u=new Promise(async b=>{const x=({id:D})=>{g.opts.id===D&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(C.publish,x),b(g))};this.relayer.events.on(C.publish,x);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((D,j)=>{this.rpcPublish({topic:i,message:s,ttl:a,prompt:h,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}).then(D).catch(T=>{this.logger.warn(T,T?.message),j(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${l}`);try{await I,this.events.removeListener(C.publish,x)}catch(D){this.queue.set(d,Ge(Ie({},g),{attempt:1})),this.logger.warn(D,D?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:d,topic:i,message:s,opts:n}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(u,this.publishTimeout,_)}catch(u){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(u),(o=n?.internal)!=null&&o.throwOnFailedPublish)throw u}finally{this.queue.delete(d)}}),V(this,\"on\",(i,s)=>{this.events.on(i,s)}),V(this,\"once\",(i,s)=>{this.events.once(i,s)}),V(this,\"off\",(i,s)=>{this.events.off(i,s)}),V(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async rpcPublish(e){var t,i,s,n;const{topic:o,message:a,ttl:c=je,prompt:h,tag:l,id:d,attestation:g,tvf:_}=e,u={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol).publish,params:Ie({topic:o,message:a,ttl:c,prompt:h,tag:l,attestation:g},_),id:d};(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((t=u.params)==null?void 0:t.prompt)&&((i=u.params)==null||delete i.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((s=u.params)==null?void 0:s.tag)&&((n=u.params)==null||delete n.tag),this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"message\",direction:\"outgoing\",request:u});const b=await this.relayer.request(u);return this.relayer.events.emit(C.publish,e),this.logger.debug(\"Successfully Published Payload\"),b}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const i=e.attempt+1;this.queue.set(t,Ge(Ie({},e),{attempt:i}));const{topic:s,message:n,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`),await this.rpcPublish(Ge(Ie({},e),{topic:s,message:n,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C.connection_stalled);return}this.checkQueue()}),this.relayer.on(C.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var qn=Object.defineProperty,Gn=(r,e,t)=>e in r?qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,re=(r,e,t)=>Gn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Wn{constructor(){re(this,\"map\",new Map),re(this,\"set\",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])}),re(this,\"get\",e=>this.map.get(e)||[]),re(this,\"exists\",(e,t)=>this.get(e).includes(t)),re(this,\"delete\",(e,t)=>{if(typeof t>\"u\"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const s=i.filter(n=>n!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),re(this,\"clear\",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Hn=Object.defineProperty,Yn=Object.defineProperties,Jn=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Xn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable,We=(r,e,t)=>e in r?Hn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ge=(r,e)=>{for(var t in e||(e={}))Xn.call(e,t)&&We(r,t,e[t]);if(Ii)for(var t of Ii(e))Zn.call(e,t)&&We(r,t,e[t]);return r},He=(r,e)=>Yn(r,Jn(e)),f=(r,e,t)=>We(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ti extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,f(this,\"subscriptions\",new Map),f(this,\"topicMap\",new Wn),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),f(this,\"name\",Ut),f(this,\"version\",Ft),f(this,\"pending\",new Map),f(this,\"cached\",[]),f(this,\"initialized\",!1),f(this,\"storagePrefix\",B),f(this,\"subscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),f(this,\"initialSubscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),f(this,\"clientId\"),f(this,\"batchSubscribeTopicsLimit\",500),f(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f(this,\"subscribe\",async(i,s)=>{this.isInitialized(),this.logger.debug(\"Subscribing Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}});try{const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(s),o={topic:i,relay:n,transportType:s?.transportType};this.pending.set(i,o);const a=await this.rpcSubscribe(i,n,s);return typeof a==\"string\"&&(this.onSubscribe(a,o),this.logger.debug(\"Successfully Subscribed Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}})),a}catch(n){throw this.logger.debug(\"Failed to Subscribe Topic\"),this.logger.error(n),n}}),f(this,\"unsubscribe\",async(i,s)=>{this.isInitialized(),typeof s?.id<\"u\"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)}),f(this,\"isSubscribed\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i))})),f(this,\"isKnownTopic\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(n=>n.topic===i))})),f(this,\"on\",(i,s)=>{this.events.on(i,s)}),f(this,\"once\",(i,s)=>{this.events.once(i,s)}),f(this,\"off\",(i,s)=>{this.events.off(i,s)}),f(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),f(this,\"start\",async()=>{await this.onConnect()}),f(this,\"stop\",async()=>{await this.onDisconnect()}),f(this,\"restart\",async()=>{await this.restore(),await this.onRestart()}),f(this,\"checkPending\",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(s=>{i.push(s)}),await this.batchSubscribe(i)}),f(this,\"registerEventListeners\",()=>{this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on($.created,async i=>{const s=$.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()}),this.events.on($.deleted,async i=>{const s=$.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()})}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.clientId=\"\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+\"//\"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async s=>await this.unsubscribeById(e,s,t)))}async unsubscribeById(e,t,i){this.logger.debug(\"Unsubscribing Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}});try{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(i);await this.restartToComplete({topic:e,id:t,relay:s}),await this.rpcUnsubscribe(e,t,s);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug(\"Successfully Unsubscribed Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}})}catch(s){throw this.logger.debug(\"Failed to Unsubscribe Topic\"),this.logger.error(s),s}}async rpcSubscribe(e,t,i){var s;(!i||i?.transportType===Q.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const n={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).subscribe,params:{topic:e}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:n});const o=(s=i?.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(i?.transportType===Q.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(l=>this.logger.warn(l))},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),a;const c=new Promise(async l=>{const d=g=>{g.topic===e&&(this.events.removeListener($.created,d),l(g.id))};this.events.on($.created,d);try{const g=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((_,u)=>{this.relayer.request(n).catch(b=>{this.logger.warn(b,b?.message),u(b)}).then(_)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener($.created,d),l(g)}catch{}}),h=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(a){if(this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"),this.relayer.events.emit(C.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});try{await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise(s=>{this.relayer.request(i).catch(n=>this.logger.warn(n)).then(s)}),this.subscribeTimeout,\"rpcBatchSubscribe failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});let s;try{s=await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((n,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(n)}),this.subscribeTimeout,\"rpcBatchFetchMessages failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}return s}rpcUnsubscribe(e,t,i){const s={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,He(ge({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,ge({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug(\"Setting subscription\"),this.logger.trace({type:\"method\",method:\"setSubscription\",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,ge({},t)),this.topicMap.set(t.topic,e),this.events.emit($.created,t)}getSubscription(e){this.logger.debug(\"Getting subscription\"),this.logger.trace({type:\"method\",method:\"getSubscription\",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug(\"Deleting subscription\"),this.logger.trace({type:\"method\",method:\"deleteSubscription\",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit($.deleted,He(ge({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit($.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>\"u\"||!e.length)return;if(this.subscriptions.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>He(ge({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.sleep)((0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(e+await this.getClientId())}}var Qn=Object.defineProperty,Ci=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,Ye=(r,e,t)=>e in r?Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pi=(r,e)=>{for(var t in e||(e={}))eo.call(e,t)&&Ye(r,t,e[t]);if(Ci)for(var t of Ci(e))to.call(e,t)&&Ye(r,t,e[t]);return r},y=(r,e,t)=>Ye(r,typeof e!=\"symbol\"?e+\"\":e,t);class Si extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IRelayer{constructor(e){super(e),y(this,\"protocol\",\"wc\"),y(this,\"version\",2),y(this,\"core\"),y(this,\"logger\"),y(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),y(this,\"provider\"),y(this,\"messages\"),y(this,\"subscriber\"),y(this,\"publisher\"),y(this,\"name\",$t),y(this,\"transportExplicitlyClosed\",!1),y(this,\"initialized\",!1),y(this,\"connectionAttemptInProgress\",!1),y(this,\"relayUrl\"),y(this,\"projectId\"),y(this,\"packageName\"),y(this,\"bundleId\"),y(this,\"hasExperiencedNetworkDisruption\",!1),y(this,\"pingTimeout\"),y(this,\"heartBeatTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS+_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS)),y(this,\"reconnectTimeout\"),y(this,\"connectPromise\"),y(this,\"reconnectInProgress\",!1),y(this,\"requestsInFlight\",[]),y(this,\"connectTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),y(this,\"request\",async t=>{var i,s;this.logger.debug(\"Publishing Request Payload\");const n=t.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:t.method,topic:(i=t.params)==null?void 0:i.topic},\"relayer.request - publishing...\");const o=`${n}:${((s=t.params)==null?void 0:s.tag)||\"\"}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${n}`),o}}),y(this,\"resetPingTimeout\",()=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,i,s,n;try{this.logger.debug({},\"pingTimeout: Connection stalled, terminating...\"),(n=(s=(i=(t=this.provider)==null?void 0:t.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||n.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),y(this,\"onPayloadHandler\",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),y(this,\"onConnectHandler\",()=>{this.logger.warn({},\"Relayer connected \\u{1F6DC}\"),this.startPingTimeout(),this.events.emit(C.connect)}),y(this,\"onDisconnectHandler\",()=>{this.logger.warn({},\"Relayer disconnected \\u{1F6D1}\"),this.requestsInFlight=[],this.onProviderDisconnect()}),y(this,\"onProviderErrorHandler\",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(C.error,t),this.logger.fatal(\"Fatal socket error received, closing transport\"),this.transportClose()}),y(this,\"registerProviderListeners\",()=>{this.provider.on(L.payload,this.onPayloadHandler),this.provider.on(L.connect,this.onConnectHandler),this.provider.on(L.disconnect,this.onDisconnectHandler),this.provider.on(L.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<\"u\"&&typeof e.logger!=\"string\"?(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e.logger,this.name):(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:e.logger||Nt})),this.messages=new _i(this.logger,e.core),this.subscriber=new Ti(this,this.logger),this.publisher=new Vn(this,this.logger),this.relayUrl=e?.relayUrl||Ue,this.projectId=e.projectId,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAndroid)()?this.packageName=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)():(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isIos)()&&(this.bundleId=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)()),this.provider={}}async init(){if(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Q.relay},le.outbound)}async subscribe(e,t){var i,s,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType===\"relay\")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>\"u\"?!0:(s=t?.internal)==null?void 0:s.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||\"\",c;const h=l=>{l.topic===e&&(this.subscriber.off($.created,h),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on($.created,h)}),new Promise(async(l,d)=>{a=await this.subscriber.subscribe(e,Pi({internal:{throwOnFailedPublish:o}},t)).catch(g=>{o&&d(g)})||a,l()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(this.provider.disconnect(),2e3,\"provider.disconnect()\").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn(\"Starting WS connection skipped because the client has no topics to work with.\");return}if(this.connectPromise?(this.logger.debug({},\"Waiting for existing connection attempt to resolve...\"),await this.connectPromise,this.logger.debug({},\"Existing connection attempt resolved\")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},\"Restarting transport...\"),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)())throw new Error(\"No internet connection detected. Please restart your network and try again.\")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace(\"Batch message events is empty. Ignoring...\");return}const t=e.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(s){this.logger.warn(s,\"Error while processing batch message event: \"+s?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:\"irn\"},active:!1};await this.core.pairing.pairings.set(i,n)}this.events.emit(C.message,e),await this.recordMessageEvent(e,le.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,s)=>{const n=()=>{s(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(L.disconnect,n),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(L.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(L.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(L.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const s=i;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t*1))),t++}}startPingTimeout(){var e,t,i,s,n;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.on(\"ping\",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__.JsonRpcProvider(new _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__[\"default\"]((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatRelayRpcUrl)({sdkVersion:_e,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:i,message:s}=e;await this.messages.set(i,s,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const s=this.messages.has(t,i);return s&&this.logger.warn(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug(\"Incoming Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"incoming\",payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(e)){if(!e.method.endsWith(zt))return;const t=e.params,{topic:i,message:s,publishedAt:n,attestation:o}=t.data,a={topic:i,message:s,publishedAt:n,transportType:Q.relay,attestation:o};this.logger.debug(\"Emitting Relayer Payload\"),this.logger.trace(Pi({type:\"event\",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(e)&&this.events.emit(C.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,le.inbound),this.events.emit(C.message,e))}async acknowledgePayload(e){const t=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(L.payload,this.onPayloadHandler),this.provider.off(L.connect,this.onConnectHandler),this.provider.off(L.disconnect,this.onDisconnectHandler),this.provider.off(L.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)();(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.subscribeToNetworkChange)(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(Lt)))))}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function io(){}function Ri(r){if(!r||typeof r!=\"object\")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)===\"[object Object]\":!1}function Oi(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function Ai(r){return r==null?r===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(r)}const so=\"[object RegExp]\",ro=\"[object String]\",no=\"[object Number]\",oo=\"[object Boolean]\",xi=\"[object Arguments]\",ao=\"[object Symbol]\",co=\"[object Date]\",ho=\"[object Map]\",lo=\"[object Set]\",uo=\"[object Array]\",go=\"[object Function]\",po=\"[object ArrayBuffer]\",Je=\"[object Object]\",yo=\"[object Error]\",bo=\"[object DataView]\",mo=\"[object Uint8Array]\",fo=\"[object Uint8ClampedArray]\",Do=\"[object Uint16Array]\",vo=\"[object Uint32Array]\",wo=\"[object BigUint64Array]\",_o=\"[object Int8Array]\",Eo=\"[object Int16Array]\",Io=\"[object Int32Array]\",To=\"[object BigInt64Array]\",Co=\"[object Float32Array]\",Po=\"[object Float64Array]\";function So(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function Ro(r,e,t){return pe(r,e,void 0,void 0,void 0,void 0,t)}function pe(r,e,t,i,s,n,o){const a=o(r,e,t,i,s,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case\"bigint\":case\"string\":case\"boolean\":case\"symbol\":case\"undefined\":return r===e;case\"number\":return r===e||Object.is(r,e);case\"function\":return r===e;case\"object\":return ye(r,e,n,o)}return ye(r,e,n,o)}function ye(r,e,t,i){if(Object.is(r,e))return!0;let s=Ai(r),n=Ai(e);if(s===xi&&(s=Je),n===xi&&(n=Je),s!==n)return!1;switch(s){case ro:return r.toString()===e.toString();case no:{const c=r.valueOf(),h=e.valueOf();return So(c,h)}case oo:case co:case ao:return Object.is(r.valueOf(),e.valueOf());case so:return r.source===e.source&&r.flags===e.flags;case go:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(s){case ho:{if(r.size!==e.size)return!1;for(const[c,h]of r.entries())if(!e.has(c)||!pe(h,e.get(c),c,r,e,t,i))return!1;return!0}case lo:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),h=Array.from(e.values());for(let l=0;l<c.length;l++){const d=c[l],g=h.findIndex(_=>pe(d,_,void 0,r,e,t,i));if(g===-1)return!1;h.splice(g,1)}return!0}case uo:case mo:case fo:case Do:case vo:case wo:case _o:case Eo:case Io:case To:case Co:case Po:{if(typeof Buffer<\"u\"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!pe(r[c],e[c],c,r,e,t,i))return!1;return!0}case po:return r.byteLength!==e.byteLength?!1:ye(new Uint8Array(r),new Uint8Array(e),t,i);case bo:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:ye(new Uint8Array(r),new Uint8Array(e),t,i);case yo:return r.name===e.name&&r.message===e.message;case Je:{if(!(ye(r.constructor,e.constructor,t,i)||Ri(r)&&Ri(e)))return!1;const h=[...Object.keys(r),...Oi(r)],l=[...Object.keys(e),...Oi(e)];if(h.length!==l.length)return!1;for(let d=0;d<h.length;d++){const g=h[d],_=r[g];if(!Object.hasOwn(e,g))return!1;const u=e[g];if(!pe(_,u,g,r,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function Oo(r,e){return Ro(r,e,io)}var Ao=Object.defineProperty,Ni=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,No=Object.prototype.propertyIsEnumerable,Xe=(r,e,t)=>e in r?Ao(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$i=(r,e)=>{for(var t in e||(e={}))xo.call(e,t)&&Xe(r,t,e[t]);if(Ni)for(var t of Ni(e))No.call(e,t)&&Xe(r,t,e[t]);return r},z=(r,e,t)=>Xe(r,typeof e!=\"symbol\"?e+\"\":e,t);class zi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IStore{constructor(e,t,i,s=B,n=void 0){super(e,t,i,s),this.core=e,this.logger=t,this.name=i,z(this,\"map\",new Map),z(this,\"version\",kt),z(this,\"cached\",[]),z(this,\"initialized\",!1),z(this,\"getKey\"),z(this,\"storagePrefix\",B),z(this,\"recentlyDeleted\",[]),z(this,\"recentlyDeletedLimit\",200),z(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)(o)?this.map.set(this.getKey(o),o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isProposalStruct)(o)?this.map.set(o.id,o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isSessionStruct)(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),z(this,\"set\",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug(\"Setting value\"),this.logger.trace({type:\"method\",method:\"set\",key:o,value:a}),this.map.set(o,a),await this.persist())}),z(this,\"get\",o=>(this.isInitialized(),this.logger.debug(\"Getting value\"),this.logger.trace({type:\"method\",method:\"get\",key:o}),this.getData(o))),z(this,\"getAll\",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Oo(a[c],o[c]))):this.values)),z(this,\"update\",async(o,a)=>{this.isInitialized(),this.logger.debug(\"Updating value\"),this.logger.trace({type:\"method\",method:\"update\",key:o,update:a});const c=$i($i({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),z(this,\"delete\",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug(\"Deleting value\"),this.logger.trace({type:\"method\",method:\"delete\",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.storagePrefix=s,this.getKey=n}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>\"u\"||!e.length)return;if(this.map.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var $o=Object.defineProperty,zo=(r,e,t)=>e in r?$o(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p=(r,e,t)=>zo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Li{constructor(e,t){this.core=e,this.logger=t,p(this,\"name\",Mt),p(this,\"version\",Kt),p(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_0___default())),p(this,\"pairings\"),p(this,\"initialized\",!1),p(this,\"storagePrefix\",B),p(this,\"ignoredPayloadTypes\",[_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.TYPE_1]),p(this,\"registeredMethods\",[]),p(this,\"init\",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace(\"Initialized\"))}),p(this,\"register\",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),p(this,\"create\",async i=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),n=await this.core.crypto.setSymKey(s),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),a={protocol:xt},c={topic:n,expiry:o,relay:a,active:!1,methods:i?.methods},h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(se.create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:i?.transportType}),{topic:n,uri:h}}),p(this,\"pair\",async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[G.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i.uri);s.props.properties.topic=n,s.addTrace(G.pairing_uri_validation_success),s.addTrace(G.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(n)){if(l=this.pairings.get(n),s.addTrace(G.existing_pairing),l.active)throw s.setError(Y.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(G.pairing_not_expired)}const d=c||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),g={topic:n,relay:a,expiry:d,active:!1,methods:h};this.core.expirer.set(n,d),await this.pairings.set(n,g),s.addTrace(G.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(se.create,g),s.addTrace(G.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),s.addTrace(G.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Y.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(_){throw s.setError(Y.subscribe_pairing_topic_failure),_}return s.addTrace(G.subscribe_pairing_topic_success),g}),p(this,\"activate\",async({topic:i})=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES);this.core.expirer.set(i,s),await this.pairings.update(i,{active:!0,expiry:s})}),p(this,\"ping\",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn(\"ping() is deprecated and will be removed in the next major release.\");const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,\"wc_pairingPing\",{}),{done:o,resolve:a,reject:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),({error:h})=>{h?c(h):a()}),await o()}}),p(this,\"updateExpiry\",async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})}),p(this,\"updateMetadata\",async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})}),p(this,\"getPairings\",()=>(this.isInitialized(),this.pairings.values)),p(this,\"disconnect\",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,\"wc_pairingDelete\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),await this.deletePairing(s))}),p(this,\"formatUriFromPairing\",i=>{this.isInitialized();const{topic:s,relay:n,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(s);return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),p(this,\"sendRequest\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(s,n),a=await this.core.crypto.encode(i,o),c=ie[s].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),p(this,\"sendResult\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=ie[c].res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),p(this,\"sendError\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcError)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=ie[c]?ie[c].res:ie.unregistered_method.res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),p(this,\"deletePairing\",async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])}),p(this,\"cleanup\",async()=>{const i=this.pairings.getAll().filter(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)))}),p(this,\"onRelayEventRequest\",async i=>{const{topic:s,payload:n}=i;switch(n.method){case\"wc_pairingPing\":return await this.onPairingPingRequest(s,n);case\"wc_pairingDelete\":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),p(this,\"onRelayEventResponse\",async i=>{const{topic:s,payload:n}=i,o=(await this.core.history.get(s,n.id)).request.method;switch(o){case\"wc_pairingPing\":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(o)}}),p(this,\"onPairingPingRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(se.ping,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),p(this,\"onPairingPingResponse\",(i,s)=>{const{id:n}=s;setTimeout(()=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{error:s.error})},500)}),p(this,\"onPairingDeleteRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(se.delete,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),p(this,\"onUnknownRpcMethodRequest\",async(i,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",o);await this.sendError(n,i,a),this.logger.error(a)}catch(a){await this.sendError(n,i,a),this.logger.error(a)}}),p(this,\"onUnknownRpcMethodResponse\",i=>{this.registeredMethods.includes(i)||this.logger.error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",i))}),p(this,\"isValidPair\",(i,s)=>{var n;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() params: ${i}`);throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidUrl)(i.uri)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() uri: ${i.uri}`);throw s.setError(Y.malformed_pairing_uri),new Error(a)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i?.uri);if(!((n=o?.relay)!=null&&n.protocol)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#relay-protocol\");throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#symKey\");throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o?.expiryTimestamp)<Date.now()){s.setError(Y.pairing_expired);const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",\"pair() URI has expired. Please try again with a new connection URI.\");throw new Error(a)}}),p(this,\"isValidPing\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),p(this,\"isValidDisconnect\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),p(this,\"isValidPairingTopic\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidString)(i,!1)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",`pairing topic: ${i}`);throw new Error(s)}}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.pairings=new zi(this.core,this.logger,this.name,this.storagePrefix)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(C.message,async e=>{const{topic:t,message:i,transportType:s}=e;if(this.pairings.keys.includes(t)&&s!==Q.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const n=await this.core.crypto.decode(t,i);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,i)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(M.expired,async e=>{const{topic:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseExpirerTarget)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(se.expire,{topic:t}))})}}var Lo=Object.defineProperty,ko=(r,e,t)=>e in r?Lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R=(r,e,t)=>ko(r,typeof e!=\"symbol\"?e+\"\":e,t);class ki extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,R(this,\"records\",new Map),R(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),R(this,\"name\",Bt),R(this,\"version\",Vt),R(this,\"cached\",[]),R(this,\"initialized\",!1),R(this,\"storagePrefix\",B),R(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),R(this,\"set\",(i,s,n)=>{if(this.isInitialized(),this.logger.debug(\"Setting JSON-RPC request history record\"),this.logger.trace({type:\"method\",method:\"set\",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(F.created,o)}),R(this,\"resolve\",async i=>{if(this.isInitialized(),this.logger.debug(\"Updating JSON-RPC response history record\"),this.logger.trace({type:\"method\",method:\"update\",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>\"u\"&&(s.response=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(F.updated,s))}),R(this,\"get\",async(i,s)=>(this.isInitialized(),this.logger.debug(\"Getting record\"),this.logger.trace({type:\"method\",method:\"get\",topic:i,id:s}),await this.getRecord(s))),R(this,\"delete\",(i,s)=>{this.isInitialized(),this.logger.debug(\"Deleting record\"),this.logger.trace({type:\"method\",method:\"delete\",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<\"u\"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(F.deleted,n)}}),this.persist()}),R(this,\"exists\",async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:!1)),R(this,\"on\",(i,s)=>{this.events.on(i,s)}),R(this,\"once\",(i,s)=>{this.events.once(i,s)}),R(this,\"off\",(i,s)=>{this.events.off(i,s)}),R(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<\"u\")return;const i={topic:t.topic,request:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(F.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>\"u\"||!e.length)return;if(this.records.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(F.created,e=>{const t=F.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(F.updated,e=>{const t=F.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(F.deleted,e=>{const t=F.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(F.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var jo=Object.defineProperty,Uo=(r,e,t)=>e in r?jo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,A=(r,e,t)=>Uo(r,typeof e!=\"symbol\"?e+\"\":e,t);class ji extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,A(this,\"expirations\",new Map),A(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),A(this,\"name\",qt),A(this,\"version\",Gt),A(this,\"cached\",[]),A(this,\"initialized\",!1),A(this,\"storagePrefix\",B),A(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),A(this,\"has\",i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<\"u\"}catch{return!1}}),A(this,\"set\",(i,s)=>{this.isInitialized();const n=this.formatTarget(i),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(M.created,{target:n,expiration:o})}),A(this,\"get\",i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)}),A(this,\"del\",i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(M.deleted,{target:s,expiration:n})}}),A(this,\"on\",(i,s)=>{this.events.on(i,s)}),A(this,\"once\",(i,s)=>{this.events.once(i,s)}),A(this,\"off\",(i,s)=>{this.events.off(i,s)}),A(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e==\"string\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatTopicTarget)(e);if(typeof e==\"number\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatIdTarget)(e);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"UNKNOWN_TYPE\",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(M.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>\"u\"||!e.length)return;if(this.expirations.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(M.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(M.created,e=>{const t=M.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(M.expired,e=>{const t=M.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(M.deleted,e=>{const t=M.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Fo=Object.defineProperty,Mo=(r,e,t)=>e in r?Fo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w=(r,e,t)=>Mo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ui extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IVerify{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,w(this,\"name\",Wt),w(this,\"abortController\"),w(this,\"isDevEnv\"),w(this,\"verifyUrlV3\",Yt),w(this,\"storagePrefix\",B),w(this,\"version\",Le),w(this,\"publicKey\"),w(this,\"fetchPromise\"),w(this,\"init\",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug(\"verify v2 public key expired\"),await this.removePublicKey()))}),w(this,\"register\",async s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isBrowser)()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const h=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__.getDocument)(),l=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),d=await new Promise((g,_)=>{const u=()=>{window.removeEventListener(\"message\",x),h.body.removeChild(b),_(\"attestation aborted\")};this.abortController.signal.addEventListener(\"abort\",u);const b=h.createElement(\"iframe\");b.src=c,b.style.display=\"none\",b.addEventListener(\"error\",u,{signal:this.abortController.signal});const x=I=>{if(I.data&&typeof I.data==\"string\")try{const D=JSON.parse(I.data);if(D.type===\"verify_attestation\"){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(D.attestation).payload.id!==o)return;clearInterval(l),h.body.removeChild(b),this.abortController.signal.removeEventListener(\"abort\",u),window.removeEventListener(\"message\",x),g(D.attestation===null?\"\":D.attestation)}}catch(D){this.logger.warn(D)}};h.body.appendChild(b),window.addEventListener(\"message\",x,{signal:this.abortController.signal})});return this.logger.debug(\"jwt attestation\",d),d}catch(h){this.logger.warn(h)}return\"\"}),w(this,\"resolve\",async s=>{if(this.isDevEnv)return\"\";const{attestationId:n,hash:o,encryptedId:a}=s;if(n===\"\"){this.logger.debug(\"resolve: attestationId is empty, skipping\");return}if(n){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(n).payload.id!==a)return;const h=await this.isValidJwtAttestation(n);if(h){if(!h.isVerified){this.logger.warn(\"resolve: jwt attestation: origin url not verified\");return}return h}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),w(this,\"fetchAttestation\",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const o=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),a=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),w(this,\"getVerifyUrl\",s=>{let n=s||ue;return Jt.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${ue}`),n=ue),n}),w(this,\"fetchPublicKey\",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}}),w(this,\"persistPublicKey\",async s=>{this.logger.debug(\"persisting public key to local storage\",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),w(this,\"removePublicKey\",async()=>{this.logger.debug(\"removing verify v2 public key from storage\"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),w(this,\"isValidJwtAttestation\",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}}),w(this,\"getPublicKey\",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),w(this,\"fetchAndPersistPublicKey\",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),w(this,\"validateAttestation\",(s,n)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.verifyP256Jwt)(s,n.publicKey),a={hasExpired:(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn(\"resolve: jwt attestation expired\"),new Error(\"JWT attestation expired\");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//verify:public:key\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(e))}}var Ko=Object.defineProperty,Bo=(r,e,t)=>e in r?Ko(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fi=(r,e,t)=>Bo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Mi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEchoClient{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Fi(this,\"context\",Xt),Fi(this,\"registerDeviceToken\",async i=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=!1}=i,c=`${Zt}/${this.projectId}/clients`;await fetch(c,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})})}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context)}}var Vo=Object.defineProperty,Ki=Object.getOwnPropertySymbols,qo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable,Ze=(r,e,t)=>e in r?Vo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,be=(r,e)=>{for(var t in e||(e={}))qo.call(e,t)&&Ze(r,t,e[t]);if(Ki)for(var t of Ki(e))Go.call(e,t)&&Ze(r,t,e[t]);return r},E=(r,e,t)=>Ze(r,typeof e!=\"symbol\"?e+\"\":e,t);class Bi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEventClient{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,E(this,\"context\",ei),E(this,\"storagePrefix\",B),E(this,\"storageVersion\",Qt),E(this,\"events\",new Map),E(this,\"shouldPersist\",!1),E(this,\"init\",async()=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)())try{const s={eventId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:\"INIT\",type:\"\",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUA)(this.core.relayer.protocol,this.core.relayer.version,_e)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),E(this,\"createEvent\",s=>{const{event:n=\"ERROR\",type:o=\"\",properties:{topic:a,trace:c}}=s,h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),l=this.core.projectId||\"\",d=Date.now(),g=be({eventId:h,timestamp:d,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,g),this.shouldPersist=!0),g}),E(this,\"getEvent\",s=>{const{eventId:n,topic:o}=s;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return be(be({},a),this.setMethods(a.eventId))}),E(this,\"deleteEvent\",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0}),E(this,\"setEventListeners\",()=>{this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(Date.now())-(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(s.timestamp)>ti&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),E(this,\"setMethods\",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),E(this,\"addTrace\",(s,n)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(n),this.events.set(s,o),this.shouldPersist=!0)}),E(this,\"setError\",(s,n)=>{const o=this.events.get(s);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),E(this,\"persist\",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),E(this,\"restore\",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,be(be({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}}),E(this,\"submit\",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),E(this,\"sendEvent\",async s=>{const n=this.getAppDomain()?\"\":\"&sp=desktop\";return await fetch(`${ii}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${_e}${n}`,{method:\"POST\",body:JSON.stringify(s)})}),E(this,\"getAppDomain\",()=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppMetadata)().url),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+\"//\"+this.context}}var Wo=Object.defineProperty,Vi=Object.getOwnPropertySymbols,Ho=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,Qe=(r,e,t)=>e in r?Wo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qi=(r,e)=>{for(var t in e||(e={}))Ho.call(e,t)&&Qe(r,t,e[t]);if(Vi)for(var t of Vi(e))Yo.call(e,t)&&Qe(r,t,e[t]);return r},v=(r,e,t)=>Qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Te extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ICore{constructor(e){var t;super(e),v(this,\"protocol\",ze),v(this,\"version\",Le),v(this,\"name\",he),v(this,\"relayUrl\"),v(this,\"projectId\"),v(this,\"customStoragePrefix\"),v(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),v(this,\"logger\"),v(this,\"heartbeat\"),v(this,\"relayer\"),v(this,\"crypto\"),v(this,\"storage\"),v(this,\"history\"),v(this,\"expirer\"),v(this,\"pairing\"),v(this,\"verify\"),v(this,\"echoClient\"),v(this,\"linkModeSupportedApps\"),v(this,\"eventClient\"),v(this,\"initialized\",!1),v(this,\"logChunkController\"),v(this,\"on\",(a,c)=>this.events.on(a,c)),v(this,\"once\",(a,c)=>this.events.once(a,c)),v(this,\"off\",(a,c)=>this.events.off(a,c)),v(this,\"removeListener\",(a,c)=>this.events.removeListener(a,c)),v(this,\"dispatchEnvelope\",({topic:a,message:c,sessionExists:h})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:Q.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:h})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn(\"Failed to copy global core\",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ue,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:\"\";const s=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:typeof e?.logger==\"string\"&&e.logger?e.logger:Et.logger,name:he}),{logger:n,chunkLoggerController:o}=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generatePlatformLogger)({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(n,this.name),this.heartbeat=new _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HeartBeat,this.crypto=new vi(this,this.logger,e?.keychain),this.history=new ki(this,this.logger),this.expirer=new ji(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__[\"default\"](qi(qi({},It),e?.storageOptions)),this.relayer=new Si({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Li(this,this.logger),this.verify=new Ui(this,this.logger,this.storage),this.echoClient=new Mi(this.projectId||\"\",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Bi(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Te(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(jt,i),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Fe,this.linkModeSupportedApps))}async initialize(){this.logger.trace(\"Initialized\");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Fe)||[],this.initialized=!0,this.logger.info(\"Core Initialization Success\")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=\"\"){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn(\"Failed to get global WalletConnect core\",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||\"\"}`;globalThis[i]=e}catch(i){console.warn(\"Failed to set global WalletConnect core\",i)}}isGlobalCoreDisabled(){try{return typeof process<\"u\"&&process.env.DISABLE_GLOBAL_CORE===\"true\"}catch{return!0}}}const Jo=Te;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWk2RSxrQ0FBa0MsR0FBRyxLQUFLLEdBQUcsT0FBTyx1QkFBdUIsS0FBSyxvQkFBb0IseUNBQXlDLHdEQUFFLGtEQUFrRCwwREFBRSx1RkFBdUYsa1FBQWtRLHVCQUF1QiwwRUFBMEUsV0FBVyxvQkFBb0IsdUJBQXVCLG9DQUFvQyxLQUFLLHNDQUFzQyw0RUFBNEUsZ01BQWdNLElBQUksNERBQUUsK0JBQStCLDZEQUFFLDhCQUE4Qiw0REFBRSxLQUFLLGtCQUFrQixLQUFLLElBQUksd0RBQUUsbUJBQW1CLE1BQU0sSUFBSSx3REFBRSxxQkFBcUIsaUJBQWlCLEtBQUssSUFBSSwrREFBRSxvQkFBb0IsTUFBTSxJQUFJLCtEQUFFLHFCQUFxQixzQkFBc0IsS0FBSyxJQUFJLHdEQUFFLGlCQUFpQixNQUFNLElBQUksd0RBQUUsbUJBQW1CLEtBQUssNEZBQTRGLElBQUksa0dBQWtHLHVDQUF1QyxrR0FBa0csYUFBYSx3REFBRSx5R0FBeUcsR0FBRyxtRkFBbUYsd2hCQUF3aEIsSUFBSSxvWUFBb1ksS0FBSyw4bEJBQThsQixLQUFLLGtjQUFrYyxLQUFLLHN2QkFBc3ZCLEtBQUssc3FCQUFzcUIsNkVBQTZFLGlCQUFpQiwwREFBMEQsa0NBQWtDLFdBQVcsYUFBYSxZQUFZLFdBQVcsS0FBSyxvQ0FBb0MscURBQXFELE9BQU8scUZBQXFGLGNBQWMsd05BQXdOLHlCQUF5QiwrQkFBK0IsZ0JBQWdCLFNBQVMsNENBQTRDLE1BQU0sRUFBRSx5QkFBeUIscUJBQXFCLCtDQUErQywyQ0FBMkMsUUFBUSxjQUFjLGdCQUFnQixLQUFLLHVCQUF1QixJQUFJLHVCQUF1QixVQUFV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LE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxlQUFlLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLHFCQUFxQixNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdB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LDBDQUEwQyxvQkFBb0IsTUFBTSw2REFBNkQseUNBQXlDLEVBQUUsaUNBQWlDLHVJQUF1SSxtQkFBbUIsaUNBQWlDLElBQUksK1JBQStSLFNBQVMsK0RBQStELFdBQVcscUNBQXFDLG9CQUFvQixJQUFJLHNDQUFzQyw4QkFBOEIsRUFBRSxPQUFPLEVBQUUsUUFBUSx3TUFBd00sZUFBZSx1QkFBdUIsU0FBUywwREFBMEQsUUFBUSxpQkFBaUIsTUFBTSxJQUFJLHNDQUFzQyw4QkFBOEIsb0RBQW9ELEVBQUUsZ0JBQWdCLFNBQVMsMkRBQTJELHVCQUF1QixJQUFJLG9FQUFvRSxNQUFNLFdBQVcsWUFBZzdEO0FBQ2ovMUYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2NvcmUvZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2kse0V2ZW50RW1pdHRlciBhcyBlZX1mcm9tXCJldmVudHNcIjtpbXBvcnR7SEVBUlRCRUFUX0VWRU5UUyBhcyBuZSxIZWFydEJlYXQgYXMgV2l9ZnJvbVwiQHdhbGxldGNvbm5lY3QvaGVhcnRiZWF0XCI7aW1wb3J0IEhpIGZyb21cIkB3YWxsZXRjb25uZWN0L2tleXZhbHVlc3RvcmFnZVwiO2ltcG9ydHtnZW5lcmF0ZUNoaWxkTG9nZ2VyIGFzIE4sZ2V0TG9nZ2VyQ29udGV4dCBhcyBVLHBpbm8gYXMgWWksZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMgYXMgZXQsZ2VuZXJhdGVQbGF0Zm9ybUxvZ2dlciBhcyBKaX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9sb2dnZXJcIjtpbXBvcnR7SU1lc3NhZ2VUcmFja2VyIGFzIFhpLElQdWJsaXNoZXIgYXMgWmksSVN1YnNjcmliZXIgYXMgUWksSVJlbGF5ZXIgYXMgZXMsSVN0b3JlIGFzIHRzLElKc29uUnBjSGlzdG9yeSBhcyBpcyxJRXhwaXJlciBhcyBzcyxJVmVyaWZ5IGFzIHJzLElFY2hvQ2xpZW50IGFzIG5zLElFdmVudENsaWVudCBhcyBvcyxJQ29yZSBhcyBhc31mcm9tXCJAd2FsbGV0Y29ubmVjdC90eXBlc1wiO2ltcG9ydHtPTkVfREFZIGFzIHRlLFNJWF9IT1VSUyBhcyBjcyxUSElSVFlfREFZUyBhcyBDZSxGSVZFX1NFQ09ORFMgYXMgUGUsVEhJUlRZX1NFQ09ORFMgYXMgU2UsdG9NaWxpc2Vjb25kcyBhcyBPLE9ORV9NSU5VVEUgYXMgdHQsT05FX1NFQ09ORCBhcyBaLEZJVkVfTUlOVVRFUyBhcyBmZSxmcm9tTWlsaXNlY29uZHMgYXMgaXR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdGltZVwiO2ltcG9ydHtzYWZlSnNvblN0cmluZ2lmeSBhcyBocyxzYWZlSnNvblBhcnNlIGFzIHN0fWZyb21cIkB3YWxsZXRjb25uZWN0L3NhZmUtanNvblwiO2ltcG9ydCphcyBEZSBmcm9tXCJAd2FsbGV0Y29ubmVjdC9yZWxheS1hdXRoXCI7aW1wb3J0e2RlY29kZUpXVCBhcyBydH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9yZWxheS1hdXRoXCI7aW1wb3J0e21hcFRvT2JqIGFzIFJlLG9ialRvTWFwIGFzIE9lLGdldEludGVybmFsRXJyb3IgYXMgbSxnZW5lcmF0ZVJhbmRvbUJ5dGVzMzIgYXMgQWUsZ2VuZXJhdGVLZXlQYWlyIGFzIGxzLGRlcml2ZVN5bUtleSBhcyB1cyxoYXNoS2V5IGFzIGRzLHZhbGlkYXRlRW5jb2RpbmcgYXMgZ3MsaXNUeXBlVHdvRW52ZWxvcGUgYXMgbnQsZW5jb2RlVHlwZVR3b0VudmVsb3BlIGFzIHBzLGlzVHlwZU9uZUVudmVsb3BlIGFzIG90LGVuY3J5cHQgYXMgeXMsdmFsaWRhdGVEZWNvZGluZyBhcyBicyxkZWNvZGVUeXBlVHdvRW52ZWxvcGUgYXMgbXMsZGVjcnlwdCBhcyBmcyxkZXNlcmlhbGl6ZSBhcyBhdCxkZWNvZGVUeXBlQnl0ZSBhcyBEcyxCQVNFNjQgYXMgY3QsQkFTRTE2IGFzIHZzLGhhc2hNZXNzYWdlIGFzIHZlLGdldFJlbGF5UHJvdG9jb2xBcGkgYXMgb2UsZ2V0UmVsYXlQcm90b2NvbE5hbWUgYXMgd2UsaXNVbmRlZmluZWQgYXMgeGUsY3JlYXRlRXhwaXJpbmdQcm9taXNlIGFzIFgsZ2V0U2RrRXJyb3IgYXMgYWUsc2xlZXAgYXMgd3MsaXNBbmRyb2lkIGFzIF9zLGdldEFwcElkIGFzIGh0LGlzSW9zIGFzIEVzLGlzT25saW5lIGFzIGx0LGNhbGNFeHBpcnkgYXMgY2UsaXNOb2RlIGFzIHV0LGZvcm1hdFJlbGF5UnBjVXJsIGFzIElzLHN1YnNjcmliZVRvTmV0d29ya0NoYW5nZSBhcyBUcyxpc1Byb3Bvc2FsU3RydWN0IGFzIENzLGlzU2Vzc2lvblN0cnVjdCBhcyBQcyxwYXJzZUV4cGlyZXJUYXJnZXQgYXMgU3MsVFlQRV8xIGFzIFJzLGZvcm1hdFVyaSBhcyBkdCxwYXJzZVVyaSBhcyBndCxjcmVhdGVEZWxheWVkUHJvbWlzZSBhcyBPcyxlbmdpbmVFdmVudCBhcyBOZSxpc0V4cGlyZWQgYXMgcHQsaXNWYWxpZFBhcmFtcyBhcyAkZSxpc1ZhbGlkVXJsIGFzIEFzLGlzVmFsaWRTdHJpbmcgYXMgeHMsZm9ybWF0VG9waWNUYXJnZXQgYXMgTnMsZm9ybWF0SWRUYXJnZXQgYXMgJHMsaXNUZXN0UnVuIGFzIHl0LGlzQnJvd3NlciBhcyB6cyx2ZXJpZnlQMjU2Snd0IGFzIExzLHV1aWR2NCBhcyBidCxmb3JtYXRVQSBhcyBrcyxnZXRBcHBNZXRhZGF0YSBhcyBqc31mcm9tXCJAd2FsbGV0Y29ubmVjdC91dGlsc1wiO2ltcG9ydHt0b1N0cmluZyBhcyBVc31mcm9tXCJ1aW50OGFycmF5c1wiO2ltcG9ydHtKc29uUnBjUHJvdmlkZXIgYXMgRnN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy1wcm92aWRlclwiO2ltcG9ydHtnZXRCaWdJbnRScGNJZCBhcyBtdCxpc0pzb25ScGNSZXF1ZXN0IGFzIGZ0LGlzSnNvblJwY1Jlc3BvbnNlIGFzIER0LGZvcm1hdEpzb25ScGNSZXN1bHQgYXMgdnQsZm9ybWF0SnNvblJwY1JlcXVlc3QgYXMgd3QsZm9ybWF0SnNvblJwY0Vycm9yIGFzIE1zLGlzSnNvblJwY1Jlc3VsdCBhcyBLcyxpc0pzb25ScGNFcnJvciBhcyBfdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7aW1wb3J0IEJzIGZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvblwiO2ltcG9ydHtnZXREb2N1bWVudCBhcyBWc31mcm9tXCJAd2FsbGV0Y29ubmVjdC93aW5kb3ctZ2V0dGVyc1wiO2NvbnN0IHplPVwid2NcIixMZT0yLGhlPVwiY29yZVwiLEI9YCR7emV9QDI6JHtoZX06YCxFdD17bmFtZTpoZSxsb2dnZXI6XCJlcnJvclwifSxJdD17ZGF0YWJhc2U6XCI6bWVtb3J5OlwifSxUdD1cImNyeXB0b1wiLGtlPVwiY2xpZW50X2VkMjU1MTlfc2VlZFwiLEN0PXRlLFB0PVwia2V5Y2hhaW5cIixTdD1cIjAuM1wiLFJ0PVwibWVzc2FnZXNcIixPdD1cIjAuM1wiLGplPWNzLEF0PVwicHVibGlzaGVyXCIseHQ9XCJpcm5cIixOdD1cImVycm9yXCIsVWU9XCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0Lm9yZ1wiLCR0PVwicmVsYXllclwiLEM9e21lc3NhZ2U6XCJyZWxheWVyX21lc3NhZ2VcIixtZXNzYWdlX2FjazpcInJlbGF5ZXJfbWVzc2FnZV9hY2tcIixjb25uZWN0OlwicmVsYXllcl9jb25uZWN0XCIsZGlzY29ubmVjdDpcInJlbGF5ZXJfZGlzY29ubmVjdFwiLGVycm9yOlwicmVsYXllcl9lcnJvclwiLGNvbm5lY3Rpb25fc3RhbGxlZDpcInJlbGF5ZXJfY29ubmVjdGlvbl9zdGFsbGVkXCIsdHJhbnNwb3J0X2Nsb3NlZDpcInJlbGF5ZXJfdHJhbnNwb3J0X2Nsb3NlZFwiLHB1Ymxpc2g6XCJyZWxheWVyX3B1Ymxpc2hcIn0senQ9XCJfc3Vic2NyaXB0aW9uXCIsTD17cGF5bG9hZDpcInBheWxvYWRcIixjb25uZWN0OlwiY29ubmVjdFwiLGRpc2Nvbm5lY3Q6XCJkaXNjb25uZWN0XCIsZXJyb3I6XCJlcnJvclwifSxMdD0uMSxxcz17ZGF0YWJhc2U6XCI6bWVtb3J5OlwifSxfZT1cIjIuMTkuMlwiLEdzPTFlNCxRPXtsaW5rX21vZGU6XCJsaW5rX21vZGVcIixyZWxheTpcInJlbGF5XCJ9LGxlPXtpbmJvdW5kOlwiaW5ib3VuZFwiLG91dGJvdW5kOlwib3V0Ym91bmRcIn0sa3Q9XCIwLjNcIixqdD1cIldBTExFVENPTk5FQ1RfQ0xJRU5UX0lEXCIsRmU9XCJXQUxMRVRDT05ORUNUX0xJTktfTU9ERV9BUFBTXCIsJD17Y3JlYXRlZDpcInN1YnNjcmlwdGlvbl9jcmVhdGVkXCIsZGVsZXRlZDpcInN1YnNjcmlwdGlvbl9kZWxldGVkXCIsZXhwaXJlZDpcInN1YnNjcmlwdGlvbl9leHBpcmVkXCIsZGlzYWJsZWQ6XCJzdWJzY3JpcHRpb25fZGlzYWJsZWRcIixzeW5jOlwic3Vic2NyaXB0aW9uX3N5bmNcIixyZXN1YnNjcmliZWQ6XCJzdWJzY3JpcHRpb25fcmVzdWJzY3JpYmVkXCJ9LFdzPUNlLFV0PVwic3Vic2NyaXB0aW9uXCIsRnQ9XCIwLjNcIixIcz1QZSoxZTMsTXQ9XCJwYWlyaW5nXCIsS3Q9XCIwLjNcIixZcz1DZSxpZT17d2NfcGFpcmluZ0RlbGV0ZTp7cmVxOnt0dGw6dGUscHJvbXB0OiExLHRhZzoxZTN9LHJlczp7dHRsOnRlLHByb21wdDohMSx0YWc6MTAwMX19LHdjX3BhaXJpbmdQaW5nOntyZXE6e3R0bDpTZSxwcm9tcHQ6ITEsdGFnOjEwMDJ9LHJlczp7dHRsOlNlLHByb21wdDohMSx0YWc6MTAwM319LHVucmVnaXN0ZXJlZF9tZXRob2Q6e3JlcTp7dHRsOnRlLHByb21wdDohMSx0YWc6MH0scmVzOnt0dGw6dGUscHJvbXB0OiExLHRhZzowfX19LHNlPXtjcmVhdGU6XCJwYWlyaW5nX2NyZWF0ZVwiLGV4cGlyZTpcInBhaXJpbmdfZXhwaXJlXCIsZGVsZXRlOlwicGFpcmluZ19kZWxldGVcIixwaW5nOlwicGFpcmluZ19waW5nXCJ9LEY9e2NyZWF0ZWQ6XCJoaXN0b3J5X2NyZWF0ZWRcIix1cGRhdGVkOlwiaGlzdG9yeV91cGRhdGVkXCIsZGVsZXRlZDpcImhpc3RvcnlfZGVsZXRlZFwiLHN5bmM6XCJoaXN0b3J5X3N5bmNcIn0sQnQ9XCJoaXN0b3J5XCIsVnQ9XCIwLjNcIixxdD1cImV4cGlyZXJcIixNPXtjcmVhdGVkOlwiZXhwaXJlcl9jcmVhdGVkXCIsZGVsZXRlZDpcImV4cGlyZXJfZGVsZXRlZFwiLGV4cGlyZWQ6XCJleHBpcmVyX2V4cGlyZWRcIixzeW5jOlwiZXhwaXJlcl9zeW5jXCJ9LEd0PVwiMC4zXCIsSnM9dGUsV3Q9XCJ2ZXJpZnktYXBpXCIsWHM9XCJodHRwczovL3ZlcmlmeS53YWxsZXRjb25uZWN0LmNvbVwiLEh0PVwiaHR0cHM6Ly92ZXJpZnkud2FsbGV0Y29ubmVjdC5vcmdcIix1ZT1IdCxZdD1gJHt1ZX0vdjNgLEp0PVtYcyxIdF0sWHQ9XCJlY2hvXCIsWnQ9XCJodHRwczovL2VjaG8ud2FsbGV0Y29ubmVjdC5jb21cIixacz1cImV2ZW50LWNsaWVudFwiLEc9e3BhaXJpbmdfc3RhcnRlZDpcInBhaXJpbmdfc3RhcnRlZFwiLHBhaXJpbmdfdXJpX3ZhbGlkYXRpb25fc3VjY2VzczpcInBhaXJpbmdfdXJpX3ZhbGlkYXRpb25fc3VjY2Vzc1wiLHBhaXJpbmdfdXJpX25vdF9leHBpcmVkOlwicGFpcmluZ191cmlfbm90X2V4cGlyZWRcIixzdG9yZV9uZXdfcGFpcmluZzpcInN0b3JlX25ld19wYWlyaW5nXCIsc3Vic2NyaWJpbmdfcGFpcmluZ190b3BpYzpcInN1YnNjcmliaW5nX3BhaXJpbmdfdG9waWNcIixzdWJzY3JpYmVfcGFpcmluZ190b3BpY19zdWNjZXNzOlwic3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfc3VjY2Vzc1wiLGV4aXN0aW5nX3BhaXJpbmc6XCJleGlzdGluZ19wYWlyaW5nXCIscGFpcmluZ19ub3RfZXhwaXJlZDpcInBhaXJpbmdfbm90X2V4cGlyZWRcIixlbWl0X2luYWN0aXZlX3BhaXJpbmc6XCJlbWl0X2luYWN0aXZlX3BhaXJpbmdcIixlbWl0X3Nlc3Npb25fcHJvcG9zYWw6XCJlbWl0X3Nlc3Npb25fcHJvcG9zYWxcIixzdWJzY3JpYmluZ190b19wYWlyaW5nX3RvcGljOlwic3Vic2NyaWJpbmdfdG9fcGFpcmluZ190b3BpY1wifSxZPXtub193c3NfY29ubmVjdGlvbjpcIm5vX3dzc19jb25uZWN0aW9uXCIsbm9faW50ZXJuZXRfY29ubmVjdGlvbjpcIm5vX2ludGVybmV0X2Nvbm5lY3Rpb25cIixtYWxmb3JtZWRfcGFpcmluZ191cmk6XCJtYWxmb3JtZWRfcGFpcmluZ191cmlcIixhY3RpdmVfcGFpcmluZ19hbHJlYWR5X2V4aXN0czpcImFjdGl2ZV9wYWlyaW5nX2FscmVhZHlfZXhpc3RzXCIsc3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfZmFpbHVyZTpcInN1YnNjcmliZV9wYWlyaW5nX3RvcGljX2ZhaWx1cmVcIixwYWlyaW5nX2V4cGlyZWQ6XCJwYWlyaW5nX2V4cGlyZWRcIixwcm9wb3NhbF9leHBpcmVkOlwicHJvcG9zYWxfZXhwaXJlZFwiLHByb3Bvc2FsX2xpc3RlbmVyX25vdF9mb3VuZDpcInByb3Bvc2FsX2xpc3RlbmVyX25vdF9mb3VuZFwifSxRcz17c2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWQ6XCJzZXNzaW9uX2FwcHJvdmVfc3RhcnRlZFwiLHByb3Bvc2FsX25vdF9leHBpcmVkOlwicHJvcG9zYWxfbm90X2V4cGlyZWRcIixzZXNzaW9uX25hbWVzcGFjZXNfdmFsaWRhdGlvbl9zdWNjZXNzOlwic2Vzc2lvbl9uYW1lc3BhY2VzX3ZhbGlkYXRpb25fc3VjY2Vzc1wiLGNyZWF0ZV9zZXNzaW9uX3RvcGljOlwiY3JlYXRlX3Nlc3Npb25fdG9waWNcIixzdWJzY3JpYmluZ19zZXNzaW9uX3RvcGljOlwic3Vic2NyaWJpbmdfc2Vzc2lvbl90b3BpY1wiLHN1YnNjcmliZV9zZXNzaW9uX3RvcGljX3N1Y2Nlc3M6XCJzdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19zdWNjZXNzXCIscHVibGlzaGluZ19zZXNzaW9uX2FwcHJvdmU6XCJwdWJsaXNoaW5nX3Nlc3Npb25fYXBwcm92ZVwiLHNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3M6XCJzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzXCIsc3RvcmVfc2Vzc2lvbjpcInN0b3JlX3Nlc3Npb25cIixwdWJsaXNoaW5nX3Nlc3Npb25fc2V0dGxlOlwicHVibGlzaGluZ19zZXNzaW9uX3NldHRsZVwiLHNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfc3VjY2VzczpcInNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfc3VjY2Vzc1wifSxlcj17bm9faW50ZXJuZXRfY29ubmVjdGlvbjpcIm5vX2ludGVybmV0X2Nvbm5lY3Rpb25cIixub193c3NfY29ubmVjdGlvbjpcIm5vX3dzc19jb25uZWN0aW9uXCIscHJvcG9zYWxfZXhwaXJlZDpcInByb3Bvc2FsX2V4cGlyZWRcIixzdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19mYWlsdXJlOlwic3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZVwiLHNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmU6XCJzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlXCIsc2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9mYWlsdXJlOlwic2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9mYWlsdXJlXCIsc2Vzc2lvbl9hcHByb3ZlX25hbWVzcGFjZV92YWxpZGF0aW9uX2ZhaWx1cmU6XCJzZXNzaW9uX2FwcHJvdmVfbmFtZXNwYWNlX3ZhbGlkYXRpb25fZmFpbHVyZVwiLHByb3Bvc2FsX25vdF9mb3VuZDpcInByb3Bvc2FsX25vdF9mb3VuZFwifSx0cj17YXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZDpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWRcIixhdXRoZW50aWNhdGVkX3Nlc3Npb25fbm90X2V4cGlyZWQ6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fbm90X2V4cGlyZWRcIixjaGFpbnNfY2FpcDJfY29tcGxpYW50OlwiY2hhaW5zX2NhaXAyX2NvbXBsaWFudFwiLGNoYWluc19ldm1fY29tcGxpYW50OlwiY2hhaW5zX2V2bV9jb21wbGlhbnRcIixjcmVhdGVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljOlwiY3JlYXRlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY1wiLGNhY2Fvc192ZXJpZmllZDpcImNhY2Fvc192ZXJpZmllZFwiLHN0b3JlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbjpcInN0b3JlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvblwiLHN1YnNjcmliaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpYzpcInN1YnNjcmliaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY1wiLHN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfc3VjY2VzczpcInN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfc3VjY2Vzc1wiLHB1Ymxpc2hpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmU6XCJwdWJsaXNoaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlXCIsYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzXCJ9LGlyPXtub19pbnRlcm5ldF9jb25uZWN0aW9uOlwibm9faW50ZXJuZXRfY29ubmVjdGlvblwiLG5vX3dzc19jb25uZWN0aW9uOlwibm9fd3NzX2Nvbm5lY3Rpb25cIixtaXNzaW5nX3Nlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3Q6XCJtaXNzaW5nX3Nlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3RcIixzZXNzaW9uX2F1dGhlbnRpY2F0ZV9yZXF1ZXN0X2V4cGlyZWQ6XCJzZXNzaW9uX2F1dGhlbnRpY2F0ZV9yZXF1ZXN0X2V4cGlyZWRcIixjaGFpbnNfY2FpcDJfY29tcGxpYW50X2ZhaWx1cmU6XCJjaGFpbnNfY2FpcDJfY29tcGxpYW50X2ZhaWx1cmVcIixjaGFpbnNfZXZtX2NvbXBsaWFudF9mYWlsdXJlOlwiY2hhaW5zX2V2bV9jb21wbGlhbnRfZmFpbHVyZVwiLGludmFsaWRfY2FjYW86XCJpbnZhbGlkX2NhY2FvXCIsc3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19mYWlsdXJlOlwic3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19mYWlsdXJlXCIsYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlXCIsYXV0aGVudGljYXRlZF9zZXNzaW9uX3BlbmRpbmdfcmVxdWVzdF9ub3RfZm91bmQ6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fcGVuZGluZ19yZXF1ZXN0X25vdF9mb3VuZFwifSxRdD0uMSxlaT1cImV2ZW50LWNsaWVudFwiLHRpPTg2NDAwLGlpPVwiaHR0cHM6Ly9wdWxzZS53YWxsZXRjb25uZWN0Lm9yZy9iYXRjaFwiO2Z1bmN0aW9uIHNyKHIsZSl7aWYoci5sZW5ndGg+PTI1NSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQWxwaGFiZXQgdG9vIGxvbmdcIik7Zm9yKHZhciB0PW5ldyBVaW50OEFycmF5KDI1NiksaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV09MjU1O2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbj1yLmNoYXJBdChzKSxvPW4uY2hhckNvZGVBdCgwKTtpZih0W29dIT09MjU1KXRocm93IG5ldyBUeXBlRXJyb3IobitcIiBpcyBhbWJpZ3VvdXNcIik7dFtvXT1zfXZhciBhPXIubGVuZ3RoLGM9ci5jaGFyQXQoMCksaD1NYXRoLmxvZyhhKS9NYXRoLmxvZygyNTYpLGw9TWF0aC5sb2coMjU2KS9NYXRoLmxvZyhhKTtmdW5jdGlvbiBkKHUpe2lmKHUgaW5zdGFuY2VvZiBVaW50OEFycmF5fHwoQXJyYXlCdWZmZXIuaXNWaWV3KHUpP3U9bmV3IFVpbnQ4QXJyYXkodS5idWZmZXIsdS5ieXRlT2Zmc2V0LHUuYnl0ZUxlbmd0aCk6QXJyYXkuaXNBcnJheSh1KSYmKHU9VWludDhBcnJheS5mcm9tKHUpKSksISh1IGluc3RhbmNlb2YgVWludDhBcnJheSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIFVpbnQ4QXJyYXlcIik7aWYodS5sZW5ndGg9PT0wKXJldHVyblwiXCI7Zm9yKHZhciBiPTAseD0wLEk9MCxEPXUubGVuZ3RoO0khPT1EJiZ1W0ldPT09MDspSSsrLGIrKztmb3IodmFyIGo9KEQtSSkqbCsxPj4+MCxUPW5ldyBVaW50OEFycmF5KGopO0khPT1EOyl7Zm9yKHZhciBxPXVbSV0sSj0wLEs9ai0xOyhxIT09MHx8Sjx4KSYmSyE9PS0xO0stLSxKKyspcSs9MjU2KlRbS10+Pj4wLFRbS109cSVhPj4+MCxxPXEvYT4+PjA7aWYocSE9PTApdGhyb3cgbmV3IEVycm9yKFwiTm9uLXplcm8gY2FycnlcIik7eD1KLEkrK31mb3IodmFyIEg9ai14O0ghPT1qJiZUW0hdPT09MDspSCsrO2Zvcih2YXIgbWU9Yy5yZXBlYXQoYik7SDxqOysrSCltZSs9ci5jaGFyQXQoVFtIXSk7cmV0dXJuIG1lfWZ1bmN0aW9uIGcodSl7aWYodHlwZW9mIHUhPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIFN0cmluZ1wiKTtpZih1Lmxlbmd0aD09PTApcmV0dXJuIG5ldyBVaW50OEFycmF5O3ZhciBiPTA7aWYodVtiXSE9PVwiIFwiKXtmb3IodmFyIHg9MCxJPTA7dVtiXT09PWM7KXgrKyxiKys7Zm9yKHZhciBEPSh1Lmxlbmd0aC1iKSpoKzE+Pj4wLGo9bmV3IFVpbnQ4QXJyYXkoRCk7dVtiXTspe3ZhciBUPXRbdS5jaGFyQ29kZUF0KGIpXTtpZihUPT09MjU1KXJldHVybjtmb3IodmFyIHE9MCxKPUQtMTsoVCE9PTB8fHE8SSkmJkohPT0tMTtKLS0scSsrKVQrPWEqaltKXT4+PjAsaltKXT1UJTI1Nj4+PjAsVD1ULzI1Nj4+PjA7aWYoVCE9PTApdGhyb3cgbmV3IEVycm9yKFwiTm9uLXplcm8gY2FycnlcIik7ST1xLGIrK31pZih1W2JdIT09XCIgXCIpe2Zvcih2YXIgSz1ELUk7SyE9PUQmJmpbS109PT0wOylLKys7Zm9yKHZhciBIPW5ldyBVaW50OEFycmF5KHgrKEQtSykpLG1lPXg7SyE9PUQ7KUhbbWUrK109altLKytdO3JldHVybiBIfX19ZnVuY3Rpb24gXyh1KXt2YXIgYj1nKHUpO2lmKGIpcmV0dXJuIGI7dGhyb3cgbmV3IEVycm9yKGBOb24tJHtlfSBjaGFyYWN0ZXJgKX1yZXR1cm57ZW5jb2RlOmQsZGVjb2RlVW5zYWZlOmcsZGVjb2RlOl99fXZhciBycj1zcixucj1ycjtjb25zdCBzaT1yPT57aWYociBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJnIuY29uc3RydWN0b3IubmFtZT09PVwiVWludDhBcnJheVwiKXJldHVybiByO2lmKHIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocik7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHIpKXJldHVybiBuZXcgVWludDhBcnJheShyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQsci5ieXRlTGVuZ3RoKTt0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIil9LG9yPXI9Pm5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShyKSxhcj1yPT5uZXcgVGV4dERlY29kZXIoKS5kZWNvZGUocik7Y2xhc3MgY3J7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMubmFtZT1lLHRoaXMucHJlZml4PXQsdGhpcy5iYXNlRW5jb2RlPWl9ZW5jb2RlKGUpe2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXJldHVybmAke3RoaXMucHJlZml4fSR7dGhpcy5iYXNlRW5jb2RlKGUpfWA7dGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIil9fWNsYXNzIGhye2NvbnN0cnVjdG9yKGUsdCxpKXtpZih0aGlzLm5hbWU9ZSx0aGlzLnByZWZpeD10LHQuY29kZVBvaW50QXQoMCk9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcmVmaXggY2hhcmFjdGVyXCIpO3RoaXMucHJlZml4Q29kZVBvaW50PXQuY29kZVBvaW50QXQoMCksdGhpcy5iYXNlRGVjb2RlPWl9ZGVjb2RlKGUpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXtpZihlLmNvZGVQb2ludEF0KDApIT09dGhpcy5wcmVmaXhDb2RlUG9pbnQpdGhyb3cgRXJyb3IoYFVuYWJsZSB0byBkZWNvZGUgbXVsdGliYXNlIHN0cmluZyAke0pTT04uc3RyaW5naWZ5KGUpfSwgJHt0aGlzLm5hbWV9IGRlY29kZXIgb25seSBzdXBwb3J0cyBpbnB1dHMgcHJlZml4ZWQgd2l0aCAke3RoaXMucHJlZml4fWApO3JldHVybiB0aGlzLmJhc2VEZWNvZGUoZS5zbGljZSh0aGlzLnByZWZpeC5sZW5ndGgpKX1lbHNlIHRocm93IEVycm9yKFwiQ2FuIG9ubHkgbXVsdGliYXNlIGRlY29kZSBzdHJpbmdzXCIpfW9yKGUpe3JldHVybiByaSh0aGlzLGUpfX1jbGFzcyBscntjb25zdHJ1Y3RvcihlKXt0aGlzLmRlY29kZXJzPWV9b3IoZSl7cmV0dXJuIHJpKHRoaXMsZSl9ZGVjb2RlKGUpe2NvbnN0IHQ9ZVswXSxpPXRoaXMuZGVjb2RlcnNbdF07aWYoaSlyZXR1cm4gaS5kZWNvZGUoZSk7dGhyb3cgUmFuZ2VFcnJvcihgVW5hYmxlIHRvIGRlY29kZSBtdWx0aWJhc2Ugc3RyaW5nICR7SlNPTi5zdHJpbmdpZnkoZSl9LCBvbmx5IGlucHV0cyBwcmVmaXhlZCB3aXRoICR7T2JqZWN0LmtleXModGhpcy5kZWNvZGVycyl9IGFyZSBzdXBwb3J0ZWRgKX19Y29uc3Qgcmk9KHIsZSk9Pm5ldyBscih7Li4uci5kZWNvZGVyc3x8e1tyLnByZWZpeF06cn0sLi4uZS5kZWNvZGVyc3x8e1tlLnByZWZpeF06ZX19KTtjbGFzcyB1cntjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLm5hbWU9ZSx0aGlzLnByZWZpeD10LHRoaXMuYmFzZUVuY29kZT1pLHRoaXMuYmFzZURlY29kZT1zLHRoaXMuZW5jb2Rlcj1uZXcgY3IoZSx0LGkpLHRoaXMuZGVjb2Rlcj1uZXcgaHIoZSx0LHMpfWVuY29kZShlKXtyZXR1cm4gdGhpcy5lbmNvZGVyLmVuY29kZShlKX1kZWNvZGUoZSl7cmV0dXJuIHRoaXMuZGVjb2Rlci5kZWNvZGUoZSl9fWNvbnN0IEVlPSh7bmFtZTpyLHByZWZpeDplLGVuY29kZTp0LGRlY29kZTppfSk9Pm5ldyB1cihyLGUsdCxpKSxkZT0oe3ByZWZpeDpyLG5hbWU6ZSxhbHBoYWJldDp0fSk9Pntjb25zdHtlbmNvZGU6aSxkZWNvZGU6c309bnIodCxlKTtyZXR1cm4gRWUoe3ByZWZpeDpyLG5hbWU6ZSxlbmNvZGU6aSxkZWNvZGU6bj0+c2kocyhuKSl9KX0sZHI9KHIsZSx0LGkpPT57Y29uc3Qgcz17fTtmb3IobGV0IGw9MDtsPGUubGVuZ3RoOysrbClzW2VbbF1dPWw7bGV0IG49ci5sZW5ndGg7Zm9yKDtyW24tMV09PT1cIj1cIjspLS1uO2NvbnN0IG89bmV3IFVpbnQ4QXJyYXkobip0Lzh8MCk7bGV0IGE9MCxjPTAsaD0wO2ZvcihsZXQgbD0wO2w8bjsrK2wpe2NvbnN0IGQ9c1tyW2xdXTtpZihkPT09dm9pZCAwKXRocm93IG5ldyBTeW50YXhFcnJvcihgTm9uLSR7aX0gY2hhcmFjdGVyYCk7Yz1jPDx0fGQsYSs9dCxhPj04JiYoYS09OCxvW2grK109MjU1JmM+PmEpfWlmKGE+PXR8fDI1NSZjPDw4LWEpdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVW5leHBlY3RlZCBlbmQgb2YgZGF0YVwiKTtyZXR1cm4gb30sZ3I9KHIsZSx0KT0+e2NvbnN0IGk9ZVtlLmxlbmd0aC0xXT09PVwiPVwiLHM9KDE8PHQpLTE7bGV0IG49XCJcIixvPTAsYT0wO2ZvcihsZXQgYz0wO2M8ci5sZW5ndGg7KytjKWZvcihhPWE8PDh8cltjXSxvKz04O28+dDspby09dCxuKz1lW3MmYT4+b107aWYobyYmKG4rPWVbcyZhPDx0LW9dKSxpKWZvcig7bi5sZW5ndGgqdCY3OyluKz1cIj1cIjtyZXR1cm4gbn0sUD0oe25hbWU6cixwcmVmaXg6ZSxiaXRzUGVyQ2hhcjp0LGFscGhhYmV0Oml9KT0+RWUoe3ByZWZpeDplLG5hbWU6cixlbmNvZGUocyl7cmV0dXJuIGdyKHMsaSx0KX0sZGVjb2RlKHMpe3JldHVybiBkcihzLGksdCxyKX19KSxwcj1FZSh7cHJlZml4OlwiXFwwXCIsbmFtZTpcImlkZW50aXR5XCIsZW5jb2RlOnI9PmFyKHIpLGRlY29kZTpyPT5vcihyKX0pO3ZhciB5cj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpZGVudGl0eTpwcn0pO2NvbnN0IGJyPVAoe3ByZWZpeDpcIjBcIixuYW1lOlwiYmFzZTJcIixhbHBoYWJldDpcIjAxXCIsYml0c1BlckNoYXI6MX0pO3ZhciBtcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMjpicn0pO2NvbnN0IGZyPVAoe3ByZWZpeDpcIjdcIixuYW1lOlwiYmFzZThcIixhbHBoYWJldDpcIjAxMjM0NTY3XCIsYml0c1BlckNoYXI6M30pO3ZhciBEcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlODpmcn0pO2NvbnN0IHZyPWRlKHtwcmVmaXg6XCI5XCIsbmFtZTpcImJhc2UxMFwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OVwifSk7dmFyIHdyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UxMDp2cn0pO2NvbnN0IF9yPVAoe3ByZWZpeDpcImZcIixuYW1lOlwiYmFzZTE2XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmXCIsYml0c1BlckNoYXI6NH0pLEVyPVAoe3ByZWZpeDpcIkZcIixuYW1lOlwiYmFzZTE2dXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZcIixiaXRzUGVyQ2hhcjo0fSk7dmFyIElyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UxNjpfcixiYXNlMTZ1cHBlcjpFcn0pO2NvbnN0IFRyPVAoe3ByZWZpeDpcImJcIixuYW1lOlwiYmFzZTMyXCIsYWxwaGFiZXQ6XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2N1wiLGJpdHNQZXJDaGFyOjV9KSxDcj1QKHtwcmVmaXg6XCJCXCIsbmFtZTpcImJhc2UzMnVwcGVyXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjIzNDU2N1wiLGJpdHNQZXJDaGFyOjV9KSxQcj1QKHtwcmVmaXg6XCJjXCIsbmFtZTpcImJhc2UzMnBhZFwiLGFscGhhYmV0OlwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoyMzQ1Njc9XCIsYml0c1BlckNoYXI6NX0pLFNyPVAoe3ByZWZpeDpcIkNcIixuYW1lOlwiYmFzZTMycGFkdXBwZXJcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMjM0NTY3PVwiLGJpdHNQZXJDaGFyOjV9KSxScj1QKHtwcmVmaXg6XCJ2XCIsbmFtZTpcImJhc2UzMmhleFwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZcIixiaXRzUGVyQ2hhcjo1fSksT3I9UCh7cHJlZml4OlwiVlwiLG5hbWU6XCJiYXNlMzJoZXh1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZcIixiaXRzUGVyQ2hhcjo1fSksQXI9UCh7cHJlZml4OlwidFwiLG5hbWU6XCJiYXNlMzJoZXhwYWRcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2PVwiLGJpdHNQZXJDaGFyOjV9KSx4cj1QKHtwcmVmaXg6XCJUXCIsbmFtZTpcImJhc2UzMmhleHBhZHVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVj1cIixiaXRzUGVyQ2hhcjo1fSksTnI9UCh7cHJlZml4OlwiaFwiLG5hbWU6XCJiYXNlMzJ6XCIsYWxwaGFiZXQ6XCJ5Ym5kcmZnOGVqa21jcHF4b3QxdXdpc3phMzQ1aDc2OVwiLGJpdHNQZXJDaGFyOjV9KTt2YXIgJHI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTMyOlRyLGJhc2UzMnVwcGVyOkNyLGJhc2UzMnBhZDpQcixiYXNlMzJwYWR1cHBlcjpTcixiYXNlMzJoZXg6UnIsYmFzZTMyaGV4dXBwZXI6T3IsYmFzZTMyaGV4cGFkOkFyLGJhc2UzMmhleHBhZHVwcGVyOnhyLGJhc2UzMno6TnJ9KTtjb25zdCB6cj1kZSh7cHJlZml4Olwia1wiLG5hbWU6XCJiYXNlMzZcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwifSksTHI9ZGUoe3ByZWZpeDpcIktcIixuYW1lOlwiYmFzZTM2dXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwifSk7dmFyIGtyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UzNjp6cixiYXNlMzZ1cHBlcjpMcn0pO2NvbnN0IGpyPWRlKHtuYW1lOlwiYmFzZTU4YnRjXCIscHJlZml4OlwielwiLGFscGhhYmV0OlwiMTIzNDU2Nzg5QUJDREVGR0hKS0xNTlBRUlNUVVZXWFlaYWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5elwifSksVXI9ZGUoe25hbWU6XCJiYXNlNThmbGlja3JcIixwcmVmaXg6XCJaXCIsYWxwaGFiZXQ6XCIxMjM0NTY3ODlhYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6QUJDREVGR0hKS0xNTlBRUlNUVVZXWFlaXCJ9KTt2YXIgRnI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTU4YnRjOmpyLGJhc2U1OGZsaWNrcjpVcn0pO2NvbnN0IE1yPVAoe3ByZWZpeDpcIm1cIixuYW1lOlwiYmFzZTY0XCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsYml0c1BlckNoYXI6Nn0pLEtyPVAoe3ByZWZpeDpcIk1cIixuYW1lOlwiYmFzZTY0cGFkXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLGJpdHNQZXJDaGFyOjZ9KSxCcj1QKHtwcmVmaXg6XCJ1XCIsbmFtZTpcImJhc2U2NHVybFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktX1wiLGJpdHNQZXJDaGFyOjZ9KSxWcj1QKHtwcmVmaXg6XCJVXCIsbmFtZTpcImJhc2U2NHVybHBhZFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXz1cIixiaXRzUGVyQ2hhcjo2fSk7dmFyIHFyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U2NDpNcixiYXNlNjRwYWQ6S3IsYmFzZTY0dXJsOkJyLGJhc2U2NHVybHBhZDpWcn0pO2NvbnN0IG5pPUFycmF5LmZyb20oXCJcXHV7MUY2ODB9XFx1ezFGQTkwfVxcdTI2MDRcXHV7MUY2RjB9XFx1ezFGMzBDfVxcdXsxRjMxMX1cXHV7MUYzMTJ9XFx1ezFGMzEzfVxcdXsxRjMxNH1cXHV7MUYzMTV9XFx1ezFGMzE2fVxcdXsxRjMxN31cXHV7MUYzMTh9XFx1ezFGMzBEfVxcdXsxRjMwRn1cXHV7MUYzMEV9XFx1ezFGNDA5fVxcdTI2MDBcXHV7MUY0QkJ9XFx1ezFGNUE1fVxcdXsxRjRCRX1cXHV7MUY0QkZ9XFx1ezFGNjAyfVxcdTI3NjRcXHV7MUY2MER9XFx1ezFGOTIzfVxcdXsxRjYwQX1cXHV7MUY2NEZ9XFx1ezFGNDk1fVxcdXsxRjYyRH1cXHV7MUY2MTh9XFx1ezFGNDREfVxcdXsxRjYwNX1cXHV7MUY0NEZ9XFx1ezFGNjAxfVxcdXsxRjUyNX1cXHV7MUY5NzB9XFx1ezFGNDk0fVxcdXsxRjQ5Nn1cXHV7MUY0OTl9XFx1ezFGNjIyfVxcdXsxRjkxNH1cXHV7MUY2MDZ9XFx1ezFGNjQ0fVxcdXsxRjRBQX1cXHV7MUY2MDl9XFx1MjYzQVxcdXsxRjQ0Q31cXHV7MUY5MTd9XFx1ezFGNDlDfVxcdXsxRjYxNH1cXHV7MUY2MEV9XFx1ezFGNjA3fVxcdXsxRjMzOX1cXHV7MUY5MjZ9XFx1ezFGMzg5fVxcdXsxRjQ5RX1cXHUyNzBDXFx1MjcyOFxcdXsxRjkzN31cXHV7MUY2MzF9XFx1ezFGNjBDfVxcdXsxRjMzOH1cXHV7MUY2NEN9XFx1ezFGNjBCfVxcdXsxRjQ5N31cXHV7MUY0OUF9XFx1ezFGNjBGfVxcdXsxRjQ5Qn1cXHV7MUY2NDJ9XFx1ezFGNDkzfVxcdXsxRjkyOX1cXHV7MUY2MDR9XFx1ezFGNjAwfVxcdXsxRjVBNH1cXHV7MUY2MDN9XFx1ezFGNEFGfVxcdXsxRjY0OH1cXHV7MUY0NDd9XFx1ezFGM0I2fVxcdXsxRjYxMn1cXHV7MUY5MkR9XFx1Mjc2M1xcdXsxRjYxQ31cXHV7MUY0OEJ9XFx1ezFGNDQwfVxcdXsxRjYyQX1cXHV7MUY2MTF9XFx1ezFGNEE1fVxcdXsxRjY0Qn1cXHV7MUY2MUV9XFx1ezFGNjI5fVxcdXsxRjYyMX1cXHV7MUY5MkF9XFx1ezFGNDRBfVxcdXsxRjk3M31cXHV7MUY2MjV9XFx1ezFGOTI0fVxcdXsxRjQ0OX1cXHV7MUY0ODN9XFx1ezFGNjMzfVxcdTI3MEJcXHV7MUY2MUF9XFx1ezFGNjFEfVxcdXsxRjYzNH1cXHV7MUYzMUZ9XFx1ezFGNjJDfVxcdXsxRjY0M31cXHV7MUYzNDB9XFx1ezFGMzM3fVxcdXsxRjYzQn1cXHV7MUY2MTN9XFx1MkI1MFxcdTI3MDVcXHV7MUY5N0F9XFx1ezFGMzA4fVxcdXsxRjYwOH1cXHV7MUY5MTh9XFx1ezFGNEE2fVxcdTI3MTRcXHV7MUY2MjN9XFx1ezFGM0MzfVxcdXsxRjQ5MH1cXHUyNjM5XFx1ezFGMzhBfVxcdXsxRjQ5OH1cXHV7MUY2MjB9XFx1MjYxRFxcdXsxRjYxNX1cXHV7MUYzM0F9XFx1ezFGMzgyfVxcdXsxRjMzQn1cXHV7MUY2MTB9XFx1ezFGNTk1fVxcdXsxRjQ5RH1cXHV7MUY2NEF9XFx1ezFGNjM5fVxcdXsxRjVFM31cXHV7MUY0QUJ9XFx1ezFGNDgwfVxcdXsxRjQ1MX1cXHV7MUYzQjV9XFx1ezFGOTFFfVxcdXsxRjYxQn1cXHV7MUY1MzR9XFx1ezFGNjI0fVxcdXsxRjMzQ31cXHV7MUY2MkJ9XFx1MjZCRFxcdXsxRjkxOX1cXHUyNjE1XFx1ezFGM0M2fVxcdXsxRjkyQn1cXHV7MUY0NDh9XFx1ezFGNjJFfVxcdXsxRjY0Nn1cXHV7MUYzN0J9XFx1ezFGMzQzfVxcdXsxRjQzNn1cXHV7MUY0ODF9XFx1ezFGNjMyfVxcdXsxRjMzRn1cXHV7MUY5RTF9XFx1ezFGMzgxfVxcdTI2QTFcXHV7MUYzMUV9XFx1ezFGMzg4fVxcdTI3NENcXHUyNzBBXFx1ezFGNDRCfVxcdXsxRjYzMH1cXHV7MUY5Mjh9XFx1ezFGNjM2fVxcdXsxRjkxRH1cXHV7MUY2QjZ9XFx1ezFGNEIwfVxcdXsxRjM1M31cXHV7MUY0QTJ9XFx1ezFGOTFGfVxcdXsxRjY0MX1cXHV7MUY2QTh9XFx1ezFGNEE4fVxcdXsxRjkyQ31cXHUyNzA4XFx1ezFGMzgwfVxcdXsxRjM3QX1cXHV7MUY5MTN9XFx1ezFGNjE5fVxcdXsxRjQ5Rn1cXHV7MUYzMzF9XFx1ezFGNjE2fVxcdXsxRjQ3Nn1cXHV7MUY5NzR9XFx1MjVCNlxcdTI3QTFcXHUyNzUzXFx1ezFGNDhFfVxcdXsxRjRCOH1cXHUyQjA3XFx1ezFGNjI4fVxcdXsxRjMxQX1cXHV7MUY5OEJ9XFx1ezFGNjM3fVxcdXsxRjU3QX1cXHUyNkEwXFx1ezFGNjQ1fVxcdXsxRjYxRn1cXHV7MUY2MzV9XFx1ezFGNDRFfVxcdXsxRjkzMn1cXHV7MUY5MjB9XFx1ezFGOTI3fVxcdXsxRjRDQ31cXHV7MUY1MzV9XFx1ezFGNDg1fVxcdXsxRjlEMH1cXHV7MUY0M0V9XFx1ezFGMzUyfVxcdXsxRjYxN31cXHV7MUY5MTF9XFx1ezFGMzBBfVxcdXsxRjkyRn1cXHV7MUY0Mzd9XFx1MjYwRVxcdXsxRjRBN31cXHV7MUY2MkZ9XFx1ezFGNDg2fVxcdXsxRjQ0Nn1cXHV7MUYzQTR9XFx1ezFGNjQ3fVxcdXsxRjM1MX1cXHUyNzQ0XFx1ezFGMzM0fVxcdXsxRjRBM31cXHV7MUY0Mzh9XFx1ezFGNDhDfVxcdXsxRjRDRH1cXHV7MUY5NDB9XFx1ezFGOTIyfVxcdXsxRjQ0NX1cXHV7MUY0QTF9XFx1ezFGNEE5fVxcdXsxRjQ1MH1cXHV7MUY0Rjh9XFx1ezFGNDdCfVxcdXsxRjkxMH1cXHV7MUY5MkV9XFx1ezFGM0JDfVxcdXsxRjk3NX1cXHV7MUY2QTl9XFx1ezFGMzRFfVxcdXsxRjM0QX1cXHV7MUY0N0N9XFx1ezFGNDhEfVxcdXsxRjRFM31cXHV7MUY5NDJ9XCIpLEdyPW5pLnJlZHVjZSgocixlLHQpPT4oclt0XT1lLHIpLFtdKSxXcj1uaS5yZWR1Y2UoKHIsZSx0KT0+KHJbZS5jb2RlUG9pbnRBdCgwKV09dCxyKSxbXSk7ZnVuY3Rpb24gSHIocil7cmV0dXJuIHIucmVkdWNlKChlLHQpPT4oZSs9R3JbdF0sZSksXCJcIil9ZnVuY3Rpb24gWXIocil7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBvZiByKXtjb25zdCBpPVdyW3QuY29kZVBvaW50QXQoMCldO2lmKGk9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBOb24tYmFzZTI1NmVtb2ppIGNoYXJhY3RlcjogJHt0fWApO2UucHVzaChpKX1yZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSl9Y29uc3QgSnI9RWUoe3ByZWZpeDpcIlxcdXsxRjY4MH1cIixuYW1lOlwiYmFzZTI1NmVtb2ppXCIsZW5jb2RlOkhyLGRlY29kZTpZcn0pO3ZhciBYcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMjU2ZW1vamk6SnJ9KSxacj1haSxvaT0xMjgsUXI9MTI3LGVuPX5Rcix0bj1NYXRoLnBvdygyLDMxKTtmdW5jdGlvbiBhaShyLGUsdCl7ZT1lfHxbXSx0PXR8fDA7Zm9yKHZhciBpPXQ7cj49dG47KWVbdCsrXT1yJjI1NXxvaSxyLz0xMjg7Zm9yKDtyJmVuOyllW3QrK109ciYyNTV8b2kscj4+Pj03O3JldHVybiBlW3RdPXJ8MCxhaS5ieXRlcz10LWkrMSxlfXZhciBzbj1NZSxybj0xMjgsY2k9MTI3O2Z1bmN0aW9uIE1lKHIsaSl7dmFyIHQ9MCxpPWl8fDAscz0wLG49aSxvLGE9ci5sZW5ndGg7ZG97aWYobj49YSl0aHJvdyBNZS5ieXRlcz0wLG5ldyBSYW5nZUVycm9yKFwiQ291bGQgbm90IGRlY29kZSB2YXJpbnRcIik7bz1yW24rK10sdCs9czwyOD8obyZjaSk8PHM6KG8mY2kpKk1hdGgucG93KDIscykscys9N313aGlsZShvPj1ybik7cmV0dXJuIE1lLmJ5dGVzPW4taSx0fXZhciBubj1NYXRoLnBvdygyLDcpLG9uPU1hdGgucG93KDIsMTQpLGFuPU1hdGgucG93KDIsMjEpLGNuPU1hdGgucG93KDIsMjgpLGhuPU1hdGgucG93KDIsMzUpLGxuPU1hdGgucG93KDIsNDIpLHVuPU1hdGgucG93KDIsNDkpLGRuPU1hdGgucG93KDIsNTYpLGduPU1hdGgucG93KDIsNjMpLHBuPWZ1bmN0aW9uKHIpe3JldHVybiByPG5uPzE6cjxvbj8yOnI8YW4/MzpyPGNuPzQ6cjxobj81OnI8bG4/NjpyPHVuPzc6cjxkbj84OnI8Z24/OToxMH0seW49e2VuY29kZTpacixkZWNvZGU6c24sZW5jb2RpbmdMZW5ndGg6cG59LGhpPXluO2NvbnN0IGxpPShyLGUsdD0wKT0+KGhpLmVuY29kZShyLGUsdCksZSksdWk9cj0+aGkuZW5jb2RpbmdMZW5ndGgociksS2U9KHIsZSk9Pntjb25zdCB0PWUuYnl0ZUxlbmd0aCxpPXVpKHIpLHM9aSt1aSh0KSxuPW5ldyBVaW50OEFycmF5KHMrdCk7cmV0dXJuIGxpKHIsbiwwKSxsaSh0LG4saSksbi5zZXQoZSxzKSxuZXcgYm4ocix0LGUsbil9O2NsYXNzIGJue2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMuY29kZT1lLHRoaXMuc2l6ZT10LHRoaXMuZGlnZXN0PWksdGhpcy5ieXRlcz1zfX1jb25zdCBkaT0oe25hbWU6cixjb2RlOmUsZW5jb2RlOnR9KT0+bmV3IG1uKHIsZSx0KTtjbGFzcyBtbntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5uYW1lPWUsdGhpcy5jb2RlPXQsdGhpcy5lbmNvZGU9aX1kaWdlc3QoZSl7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpe2NvbnN0IHQ9dGhpcy5lbmNvZGUoZSk7cmV0dXJuIHQgaW5zdGFuY2VvZiBVaW50OEFycmF5P0tlKHRoaXMuY29kZSx0KTp0LnRoZW4oaT0+S2UodGhpcy5jb2RlLGkpKX1lbHNlIHRocm93IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpfX1jb25zdCBnaT1yPT5hc3luYyBlPT5uZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChyLGUpKSxmbj1kaSh7bmFtZTpcInNoYTItMjU2XCIsY29kZToxOCxlbmNvZGU6Z2koXCJTSEEtMjU2XCIpfSksRG49ZGkoe25hbWU6XCJzaGEyLTUxMlwiLGNvZGU6MTksZW5jb2RlOmdpKFwiU0hBLTUxMlwiKX0pO3ZhciB2bj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxzaGEyNTY6Zm4sc2hhNTEyOkRufSk7Y29uc3QgcGk9MCx3bj1cImlkZW50aXR5XCIseWk9c2ksX249cj0+S2UocGkseWkocikpLEVuPXtjb2RlOnBpLG5hbWU6d24sZW5jb2RlOnlpLGRpZ2VzdDpfbn07dmFyIEluPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGlkZW50aXR5OkVufSk7bmV3IFRleHRFbmNvZGVyLG5ldyBUZXh0RGVjb2Rlcjtjb25zdCBiaT17Li4ueXIsLi4ubXIsLi4uRHIsLi4ud3IsLi4uSXIsLi4uJHIsLi4ua3IsLi4uRnIsLi4ucXIsLi4uWHJ9Oyh7Li4udm4sLi4uSW59KTtmdW5jdGlvbiBUbihyPTApe3JldHVybiBnbG9iYWxUaGlzLkJ1ZmZlciE9bnVsbCYmZ2xvYmFsVGhpcy5CdWZmZXIuYWxsb2NVbnNhZmUhPW51bGw/Z2xvYmFsVGhpcy5CdWZmZXIuYWxsb2NVbnNhZmUocik6bmV3IFVpbnQ4QXJyYXkocil9ZnVuY3Rpb24gbWkocixlLHQsaSl7cmV0dXJue25hbWU6cixwcmVmaXg6ZSxlbmNvZGVyOntuYW1lOnIscHJlZml4OmUsZW5jb2RlOnR9LGRlY29kZXI6e2RlY29kZTppfX19Y29uc3QgZmk9bWkoXCJ1dGY4XCIsXCJ1XCIscj0+XCJ1XCIrbmV3IFRleHREZWNvZGVyKFwidXRmOFwiKS5kZWNvZGUocikscj0+bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIuc3Vic3RyaW5nKDEpKSksQmU9bWkoXCJhc2NpaVwiLFwiYVwiLHI9PntsZXQgZT1cImFcIjtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHJbdF0pO3JldHVybiBlfSxyPT57cj1yLnN1YnN0cmluZygxKTtjb25zdCBlPVRuKHIubGVuZ3RoKTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyllW3RdPXIuY2hhckNvZGVBdCh0KTtyZXR1cm4gZX0pLENuPXt1dGY4OmZpLFwidXRmLThcIjpmaSxoZXg6YmkuYmFzZTE2LGxhdGluMTpCZSxhc2NpaTpCZSxiaW5hcnk6QmUsLi4uYml9O2Z1bmN0aW9uIFBuKHIsZT1cInV0ZjhcIil7Y29uc3QgdD1DbltlXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGVuY29kaW5nIFwiJHtlfVwiYCk7cmV0dXJuKGU9PT1cInV0ZjhcInx8ZT09PVwidXRmLThcIikmJmdsb2JhbFRoaXMuQnVmZmVyIT1udWxsJiZnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tIT1udWxsP2dsb2JhbFRoaXMuQnVmZmVyLmZyb20ocixcInV0ZjhcIik6dC5kZWNvZGVyLmRlY29kZShgJHt0LnByZWZpeH0ke3J9YCl9dmFyIFNuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxSbj0ocixlLHQpPT5lIGluIHI/U24ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LFc9KHIsZSx0KT0+Um4ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBEaXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsVyh0aGlzLFwia2V5Y2hhaW5cIixuZXcgTWFwKSxXKHRoaXMsXCJuYW1lXCIsUHQpLFcodGhpcyxcInZlcnNpb25cIixTdCksVyh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksVyh0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLFcodGhpcyxcImluaXRcIixhc3luYygpPT57aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0IGk9YXdhaXQgdGhpcy5nZXRLZXlDaGFpbigpO3R5cGVvZiBpPFwidVwiJiYodGhpcy5rZXljaGFpbj1pKSx0aGlzLmluaXRpYWxpemVkPSEwfX0pLFcodGhpcyxcImhhc1wiLGk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmtleWNoYWluLmhhcyhpKSkpLFcodGhpcyxcInNldFwiLGFzeW5jKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmtleWNoYWluLnNldChpLHMpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksVyh0aGlzLFwiZ2V0XCIsaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9dGhpcy5rZXljaGFpbi5nZXQoaSk7aWYodHlwZW9mIHM+XCJ1XCIpe2NvbnN0e21lc3NhZ2U6bn09bShcIk5PX01BVENISU5HX0tFWVwiLGAke3RoaXMubmFtZX06ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9cmV0dXJuIHN9KSxXKHRoaXMsXCJkZWxcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5kZWxldGUoaSksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKX1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9YXN5bmMgc2V0S2V5Q2hhaW4oZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksUmUoZSkpfWFzeW5jIGdldEtleUNoYWluKCl7Y29uc3QgZT1hd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSk7cmV0dXJuIHR5cGVvZiBlPFwidVwiP09lKGUpOnZvaWQgMH1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRLZXlDaGFpbih0aGlzLmtleWNoYWluKX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIE9uPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxBbj0ocixlLHQpPT5lIGluIHI/T24ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LFM9KHIsZSx0KT0+QW4ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyB2aXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxTKHRoaXMsXCJuYW1lXCIsVHQpLFModGhpcyxcImtleWNoYWluXCIpLFModGhpcyxcInJhbmRvbVNlc3Npb25JZGVudGlmaWVyXCIsQWUoKSksUyh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksUyh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwoYXdhaXQgdGhpcy5rZXljaGFpbi5pbml0KCksdGhpcy5pbml0aWFsaXplZD0hMCl9KSxTKHRoaXMsXCJoYXNLZXlzXCIscz0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uaGFzKHMpKSksUyh0aGlzLFwiZ2V0Q2xpZW50SWRcIixhc3luYygpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz1hd2FpdCB0aGlzLmdldENsaWVudFNlZWQoKSxuPURlLmdlbmVyYXRlS2V5UGFpcihzKTtyZXR1cm4gRGUuZW5jb2RlSXNzKG4ucHVibGljS2V5KX0pLFModGhpcyxcImdlbmVyYXRlS2V5UGFpclwiLCgpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz1scygpO3JldHVybiB0aGlzLnNldFByaXZhdGVLZXkocy5wdWJsaWNLZXkscy5wcml2YXRlS2V5KX0pLFModGhpcyxcInNpZ25KV1RcIixhc3luYyBzPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbj1hd2FpdCB0aGlzLmdldENsaWVudFNlZWQoKSxvPURlLmdlbmVyYXRlS2V5UGFpcihuKSxhPXRoaXMucmFuZG9tU2Vzc2lvbklkZW50aWZpZXIsYz1DdDtyZXR1cm4gYXdhaXQgRGUuc2lnbkpXVChhLHMsYyxvKX0pLFModGhpcyxcImdlbmVyYXRlU2hhcmVkS2V5XCIsKHMsbixvKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGE9dGhpcy5nZXRQcml2YXRlS2V5KHMpLGM9dXMoYSxuKTtyZXR1cm4gdGhpcy5zZXRTeW1LZXkoYyxvKX0pLFModGhpcyxcInNldFN5bUtleVwiLGFzeW5jKHMsbik9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBvPW58fGRzKHMpO3JldHVybiBhd2FpdCB0aGlzLmtleWNoYWluLnNldChvLHMpLG99KSxTKHRoaXMsXCJkZWxldGVLZXlQYWlyXCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMua2V5Y2hhaW4uZGVsKHMpfSksUyh0aGlzLFwiZGVsZXRlU3ltS2V5XCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMua2V5Y2hhaW4uZGVsKHMpfSksUyh0aGlzLFwiZW5jb2RlXCIsYXN5bmMocyxuLG8pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgYT1ncyhvKSxjPWhzKG4pO2lmKG50KGEpKXJldHVybiBwcyhjLG8/LmVuY29kaW5nKTtpZihvdChhKSl7Y29uc3QgZz1hLnNlbmRlclB1YmxpY0tleSxfPWEucmVjZWl2ZXJQdWJsaWNLZXk7cz1hd2FpdCB0aGlzLmdlbmVyYXRlU2hhcmVkS2V5KGcsXyl9Y29uc3QgaD10aGlzLmdldFN5bUtleShzKSx7dHlwZTpsLHNlbmRlclB1YmxpY0tleTpkfT1hO3JldHVybiB5cyh7dHlwZTpsLHN5bUtleTpoLG1lc3NhZ2U6YyxzZW5kZXJQdWJsaWNLZXk6ZCxlbmNvZGluZzpvPy5lbmNvZGluZ30pfSksUyh0aGlzLFwiZGVjb2RlXCIsYXN5bmMocyxuLG8pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3QgYT1icyhuLG8pO2lmKG50KGEpKXtjb25zdCBjPW1zKG4sbz8uZW5jb2RpbmcpO3JldHVybiBzdChjKX1pZihvdChhKSl7Y29uc3QgYz1hLnJlY2VpdmVyUHVibGljS2V5LGg9YS5zZW5kZXJQdWJsaWNLZXk7cz1hd2FpdCB0aGlzLmdlbmVyYXRlU2hhcmVkS2V5KGMsaCl9dHJ5e2NvbnN0IGM9dGhpcy5nZXRTeW1LZXkocyksaD1mcyh7c3ltS2V5OmMsZW5jb2RlZDpuLGVuY29kaW5nOm8/LmVuY29kaW5nfSk7cmV0dXJuIHN0KGgpfWNhdGNoKGMpe3RoaXMubG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gZGVjb2RlIG1lc3NhZ2UgZnJvbSB0b3BpYzogJyR7c30nLCBjbGllbnRJZDogJyR7YXdhaXQgdGhpcy5nZXRDbGllbnRJZCgpfSdgKSx0aGlzLmxvZ2dlci5lcnJvcihjKX19KSxTKHRoaXMsXCJnZXRQYXlsb2FkVHlwZVwiLChzLG49Y3QpPT57Y29uc3Qgbz1hdCh7ZW5jb2RlZDpzLGVuY29kaW5nOm59KTtyZXR1cm4gRHMoby50eXBlKX0pLFModGhpcyxcImdldFBheWxvYWRTZW5kZXJQdWJsaWNLZXlcIiwocyxuPWN0KT0+e2NvbnN0IG89YXQoe2VuY29kZWQ6cyxlbmNvZGluZzpufSk7cmV0dXJuIG8uc2VuZGVyUHVibGljS2V5P1VzKG8uc2VuZGVyUHVibGljS2V5LHZzKTp2b2lkIDB9KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKSx0aGlzLmtleWNoYWluPWl8fG5ldyBEaSh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpfWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWFzeW5jIHNldFByaXZhdGVLZXkoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5rZXljaGFpbi5zZXQoZSx0KSxlfWdldFByaXZhdGVLZXkoZSl7cmV0dXJuIHRoaXMua2V5Y2hhaW4uZ2V0KGUpfWFzeW5jIGdldENsaWVudFNlZWQoKXtsZXQgZT1cIlwiO3RyeXtlPXRoaXMua2V5Y2hhaW4uZ2V0KGtlKX1jYXRjaHtlPUFlKCksYXdhaXQgdGhpcy5rZXljaGFpbi5zZXQoa2UsZSl9cmV0dXJuIFBuKGUsXCJiYXNlMTZcIil9Z2V0U3ltS2V5KGUpe3JldHVybiB0aGlzLmtleWNoYWluLmdldChlKX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIHhuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxObj1PYmplY3QuZGVmaW5lUHJvcGVydGllcywkbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyx3aT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHpuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksTG49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxWZT0ocixlLHQpPT5lIGluIHI/eG4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LGtuPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSl6bi5jYWxsKGUsdCkmJlZlKHIsdCxlW3RdKTtpZih3aSlmb3IodmFyIHQgb2Ygd2koZSkpTG4uY2FsbChlLHQpJiZWZShyLHQsZVt0XSk7cmV0dXJuIHJ9LGpuPShyLGUpPT5ObihyLCRuKGUpKSxrPShyLGUsdCk9PlZlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgX2kgZXh0ZW5kcyBYaXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5sb2dnZXI9ZSx0aGlzLmNvcmU9dCxrKHRoaXMsXCJtZXNzYWdlc1wiLG5ldyBNYXApLGsodGhpcyxcIm1lc3NhZ2VzV2l0aG91dENsaWVudEFja1wiLG5ldyBNYXApLGsodGhpcyxcIm5hbWVcIixSdCksayh0aGlzLFwidmVyc2lvblwiLE90KSxrKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxrKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsQiksayh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9PntpZighdGhpcy5pbml0aWFsaXplZCl7dGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKTt0cnl7Y29uc3QgaT1hd2FpdCB0aGlzLmdldFJlbGF5ZXJNZXNzYWdlcygpO3R5cGVvZiBpPFwidVwiJiYodGhpcy5tZXNzYWdlcz1pKTtjb25zdCBzPWF3YWl0IHRoaXMuZ2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjaygpO3R5cGVvZiBzPFwidVwiJiYodGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2s9cyksdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixzaXplOnRoaXMubWVzc2FnZXMuc2l6ZX0pfWNhdGNoKGkpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihpKX1maW5hbGx5e3RoaXMuaW5pdGlhbGl6ZWQ9ITB9fX0pLGsodGhpcyxcInNldFwiLGFzeW5jKGkscyxuKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG89dmUocyk7bGV0IGE9dGhpcy5tZXNzYWdlcy5nZXQoaSk7aWYodHlwZW9mIGE+XCJ1XCImJihhPXt9KSx0eXBlb2YgYVtvXTxcInVcIilyZXR1cm4gbztpZihhW29dPXMsdGhpcy5tZXNzYWdlcy5zZXQoaSxhKSxuPT09bGUuaW5ib3VuZCl7Y29uc3QgYz10aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5nZXQoaSl8fHt9O3RoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLnNldChpLGpuKGtuKHt9LGMpLHtbb106c30pKX1yZXR1cm4gYXdhaXQgdGhpcy5wZXJzaXN0KCksb30pLGsodGhpcyxcImdldFwiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtsZXQgcz10aGlzLm1lc3NhZ2VzLmdldChpKTtyZXR1cm4gdHlwZW9mIHM+XCJ1XCImJihzPXt9KSxzfSksayh0aGlzLFwiZ2V0V2l0aG91dEFja1wiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXt9O2Zvcihjb25zdCBuIG9mIGkpe2NvbnN0IG89dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZ2V0KG4pfHx7fTtzW25dPU9iamVjdC52YWx1ZXMobyl9cmV0dXJuIHN9KSxrKHRoaXMsXCJoYXNcIiwoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49dGhpcy5nZXQoaSksbz12ZShzKTtyZXR1cm4gdHlwZW9mIG5bb108XCJ1XCJ9KSxrKHRoaXMsXCJhY2tcIixhc3luYyhpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbj10aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5nZXQoaSk7aWYodHlwZW9mIG4+XCJ1XCIpcmV0dXJuO2NvbnN0IG89dmUocyk7ZGVsZXRlIG5bb10sT2JqZWN0LmtleXMobikubGVuZ3RoPT09MD90aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5kZWxldGUoaSk6dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suc2V0KGksbiksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSxrKHRoaXMsXCJkZWxcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5tZXNzYWdlcy5kZWxldGUoaSksdGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZGVsZXRlKGkpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksdGhpcy5sb2dnZXI9TihlLHRoaXMubmFtZSksdGhpcy5jb3JlPXR9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBzdG9yYWdlS2V5V2l0aG91dENsaWVudEFjaygpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWUrXCJfd2l0aG91dENsaWVudEFja1wifWFzeW5jIHNldFJlbGF5ZXJNZXNzYWdlcyhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxSZShlKSl9YXN5bmMgc2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjayhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleVdpdGhvdXRDbGllbnRBY2ssUmUoZSkpfWFzeW5jIGdldFJlbGF5ZXJNZXNzYWdlcygpe2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpO3JldHVybiB0eXBlb2YgZTxcInVcIj9PZShlKTp2b2lkIDB9YXN5bmMgZ2V0UmVsYXllck1lc3NhZ2VzV2l0aG91dENsaWVudEFjaygpe2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXlXaXRob3V0Q2xpZW50QWNrKTtyZXR1cm4gdHlwZW9mIGU8XCJ1XCI/T2UoZSk6dm9pZCAwfWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldFJlbGF5ZXJNZXNzYWdlcyh0aGlzLm1lc3NhZ2VzKSxhd2FpdCB0aGlzLnNldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2sodGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2spfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgVW49T2JqZWN0LmRlZmluZVByb3BlcnR5LEZuPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLE1uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLEVpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsS249T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxCbj1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLHFlPShyLGUsdCk9PmUgaW4gcj9VbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsSWU9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKUtuLmNhbGwoZSx0KSYmcWUocix0LGVbdF0pO2lmKEVpKWZvcih2YXIgdCBvZiBFaShlKSlCbi5jYWxsKGUsdCkmJnFlKHIsdCxlW3RdKTtyZXR1cm4gcn0sR2U9KHIsZSk9PkZuKHIsTW4oZSkpLFY9KHIsZSx0KT0+cWUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBWbiBleHRlbmRzIFppe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnJlbGF5ZXI9ZSx0aGlzLmxvZ2dlcj10LFYodGhpcyxcImV2ZW50c1wiLG5ldyBlZSksVih0aGlzLFwibmFtZVwiLEF0KSxWKHRoaXMsXCJxdWV1ZVwiLG5ldyBNYXApLFYodGhpcyxcInB1Ymxpc2hUaW1lb3V0XCIsTyh0dCkpLFYodGhpcyxcImluaXRpYWxQdWJsaXNoVGltZW91dFwiLE8oWioxNSkpLFYodGhpcyxcIm5lZWRzVHJhbnNwb3J0UmVzdGFydFwiLCExKSxWKHRoaXMsXCJwdWJsaXNoXCIsYXN5bmMoaSxzLG4pPT57dmFyIG87dGhpcy5sb2dnZXIuZGVidWcoXCJQdWJsaXNoaW5nIFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJwdWJsaXNoXCIscGFyYW1zOnt0b3BpYzppLG1lc3NhZ2U6cyxvcHRzOm59fSk7Y29uc3QgYT1uPy50dGx8fGplLGM9d2UobiksaD1uPy5wcm9tcHR8fCExLGw9bj8udGFnfHwwLGQ9bj8uaWR8fG10KCkudG9TdHJpbmcoKSxnPXt0b3BpYzppLG1lc3NhZ2U6cyxvcHRzOnt0dGw6YSxyZWxheTpjLHByb21wdDpoLHRhZzpsLGlkOmQsYXR0ZXN0YXRpb246bj8uYXR0ZXN0YXRpb24sdHZmOm4/LnR2Zn19LF89YEZhaWxlZCB0byBwdWJsaXNoIHBheWxvYWQsIHBsZWFzZSB0cnkgYWdhaW4uIGlkOiR7ZH0gdGFnOiR7bH1gO3RyeXtjb25zdCB1PW5ldyBQcm9taXNlKGFzeW5jIGI9Pntjb25zdCB4PSh7aWQ6RH0pPT57Zy5vcHRzLmlkPT09RCYmKHRoaXMucmVtb3ZlUmVxdWVzdEZyb21RdWV1ZShEKSx0aGlzLnJlbGF5ZXIuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCx4KSxiKGcpKX07dGhpcy5yZWxheWVyLmV2ZW50cy5vbihDLnB1Ymxpc2gseCk7Y29uc3QgST1YKG5ldyBQcm9taXNlKChELGopPT57dGhpcy5ycGNQdWJsaXNoKHt0b3BpYzppLG1lc3NhZ2U6cyx0dGw6YSxwcm9tcHQ6aCx0YWc6bCxpZDpkLGF0dGVzdGF0aW9uOm4/LmF0dGVzdGF0aW9uLHR2ZjpuPy50dmZ9KS50aGVuKEQpLmNhdGNoKFQ9Pnt0aGlzLmxvZ2dlci53YXJuKFQsVD8ubWVzc2FnZSksaihUKX0pfSksdGhpcy5pbml0aWFsUHVibGlzaFRpbWVvdXQsYEZhaWxlZCBpbml0aWFsIHB1Ymxpc2gsIHJldHJ5aW5nLi4uLiBpZDoke2R9IHRhZzoke2x9YCk7dHJ5e2F3YWl0IEksdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoQy5wdWJsaXNoLHgpfWNhdGNoKEQpe3RoaXMucXVldWUuc2V0KGQsR2UoSWUoe30sZykse2F0dGVtcHQ6MX0pKSx0aGlzLmxvZ2dlci53YXJuKEQsRD8ubWVzc2FnZSl9fSk7dGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJwdWJsaXNoXCIscGFyYW1zOntpZDpkLHRvcGljOmksbWVzc2FnZTpzLG9wdHM6bn19KSxhd2FpdCBYKHUsdGhpcy5wdWJsaXNoVGltZW91dCxfKX1jYXRjaCh1KXtpZih0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBQdWJsaXNoIFBheWxvYWRcIiksdGhpcy5sb2dnZXIuZXJyb3IodSksKG89bj8uaW50ZXJuYWwpIT1udWxsJiZvLnRocm93T25GYWlsZWRQdWJsaXNoKXRocm93IHV9ZmluYWxseXt0aGlzLnF1ZXVlLmRlbGV0ZShkKX19KSxWKHRoaXMsXCJvblwiLChpLHMpPT57dGhpcy5ldmVudHMub24oaSxzKX0pLFYodGhpcyxcIm9uY2VcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uY2UoaSxzKX0pLFYodGhpcyxcIm9mZlwiLChpLHMpPT57dGhpcy5ldmVudHMub2ZmKGkscyl9KSxWKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChpLHMpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSxzKX0pLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpfWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWFzeW5jIHJwY1B1Ymxpc2goZSl7dmFyIHQsaSxzLG47Y29uc3R7dG9waWM6byxtZXNzYWdlOmEsdHRsOmM9amUscHJvbXB0OmgsdGFnOmwsaWQ6ZCxhdHRlc3RhdGlvbjpnLHR2ZjpffT1lLHU9e21ldGhvZDpvZSh3ZSgpLnByb3RvY29sKS5wdWJsaXNoLHBhcmFtczpJZSh7dG9waWM6byxtZXNzYWdlOmEsdHRsOmMscHJvbXB0OmgsdGFnOmwsYXR0ZXN0YXRpb246Z30sXyksaWQ6ZH07eGUoKHQ9dS5wYXJhbXMpPT1udWxsP3ZvaWQgMDp0LnByb21wdCkmJigoaT11LnBhcmFtcyk9PW51bGx8fGRlbGV0ZSBpLnByb21wdCkseGUoKHM9dS5wYXJhbXMpPT1udWxsP3ZvaWQgMDpzLnRhZykmJigobj11LnBhcmFtcyk9PW51bGx8fGRlbGV0ZSBuLnRhZyksdGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWVzc2FnZVwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDp1fSk7Y29uc3QgYj1hd2FpdCB0aGlzLnJlbGF5ZXIucmVxdWVzdCh1KTtyZXR1cm4gdGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEMucHVibGlzaCxlKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBQdWJsaXNoZWQgUGF5bG9hZFwiKSxifXJlbW92ZVJlcXVlc3RGcm9tUXVldWUoZSl7dGhpcy5xdWV1ZS5kZWxldGUoZSl9Y2hlY2tRdWV1ZSgpe3RoaXMucXVldWUuZm9yRWFjaChhc3luYyhlLHQpPT57Y29uc3QgaT1lLmF0dGVtcHQrMTt0aGlzLnF1ZXVlLnNldCh0LEdlKEllKHt9LGUpLHthdHRlbXB0Oml9KSk7Y29uc3R7dG9waWM6cyxtZXNzYWdlOm4sb3B0czpvLGF0dGVzdGF0aW9uOmF9PWU7dGhpcy5sb2dnZXIud2Fybih7fSxgUHVibGlzaGVyOiBxdWV1ZS0+cHVibGlzaGluZzogJHtlLm9wdHMuaWR9LCB0YWc6ICR7ZS5vcHRzLnRhZ30sIGF0dGVtcHQ6ICR7aX1gKSxhd2FpdCB0aGlzLnJwY1B1Ymxpc2goR2UoSWUoe30sZSkse3RvcGljOnMsbWVzc2FnZTpuLHR0bDpvLnR0bCxwcm9tcHQ6by5wcm9tcHQsdGFnOm8udGFnLGlkOm8uaWQsYXR0ZXN0YXRpb246YSx0dmY6by50dmZ9KSksdGhpcy5sb2dnZXIud2Fybih7fSxgUHVibGlzaGVyOiBxdWV1ZS0+cHVibGlzaGVkOiAke2Uub3B0cy5pZH1gKX0pfXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLnJlbGF5ZXIuY29yZS5oZWFydGJlYXQub24obmUucHVsc2UsKCk9PntpZih0aGlzLm5lZWRzVHJhbnNwb3J0UmVzdGFydCl7dGhpcy5uZWVkc1RyYW5zcG9ydFJlc3RhcnQ9ITEsdGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEMuY29ubmVjdGlvbl9zdGFsbGVkKTtyZXR1cm59dGhpcy5jaGVja1F1ZXVlKCl9KSx0aGlzLnJlbGF5ZXIub24oQy5tZXNzYWdlX2FjayxlPT57dGhpcy5yZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKGUuaWQudG9TdHJpbmcoKSl9KX19dmFyIHFuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxHbj0ocixlLHQpPT5lIGluIHI/cW4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LHJlPShyLGUsdCk9PkduKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgV257Y29uc3RydWN0b3IoKXtyZSh0aGlzLFwibWFwXCIsbmV3IE1hcCkscmUodGhpcyxcInNldFwiLChlLHQpPT57Y29uc3QgaT10aGlzLmdldChlKTt0aGlzLmV4aXN0cyhlLHQpfHx0aGlzLm1hcC5zZXQoZSxbLi4uaSx0XSl9KSxyZSh0aGlzLFwiZ2V0XCIsZT0+dGhpcy5tYXAuZ2V0KGUpfHxbXSkscmUodGhpcyxcImV4aXN0c1wiLChlLHQpPT50aGlzLmdldChlKS5pbmNsdWRlcyh0KSkscmUodGhpcyxcImRlbGV0ZVwiLChlLHQpPT57aWYodHlwZW9mIHQ+XCJ1XCIpe3RoaXMubWFwLmRlbGV0ZShlKTtyZXR1cm59aWYoIXRoaXMubWFwLmhhcyhlKSlyZXR1cm47Y29uc3QgaT10aGlzLmdldChlKTtpZighdGhpcy5leGlzdHMoZSx0KSlyZXR1cm47Y29uc3Qgcz1pLmZpbHRlcihuPT5uIT09dCk7aWYoIXMubGVuZ3RoKXt0aGlzLm1hcC5kZWxldGUoZSk7cmV0dXJufXRoaXMubWFwLnNldChlLHMpfSkscmUodGhpcyxcImNsZWFyXCIsKCk9Pnt0aGlzLm1hcC5jbGVhcigpfSl9Z2V0IHRvcGljcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSl9fXZhciBIbj1PYmplY3QuZGVmaW5lUHJvcGVydHksWW49T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsSm49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsSWk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxYbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFpuPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsV2U9KHIsZSx0KT0+ZSBpbiByP0huKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxnZT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpWG4uY2FsbChlLHQpJiZXZShyLHQsZVt0XSk7aWYoSWkpZm9yKHZhciB0IG9mIElpKGUpKVpuLmNhbGwoZSx0KSYmV2Uocix0LGVbdF0pO3JldHVybiByfSxIZT0ocixlKT0+WW4ocixKbihlKSksZj0ocixlLHQpPT5XZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFRpIGV4dGVuZHMgUWl7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPXQsZih0aGlzLFwic3Vic2NyaXB0aW9uc1wiLG5ldyBNYXApLGYodGhpcyxcInRvcGljTWFwXCIsbmV3IFduKSxmKHRoaXMsXCJldmVudHNcIixuZXcgZWUpLGYodGhpcyxcIm5hbWVcIixVdCksZih0aGlzLFwidmVyc2lvblwiLEZ0KSxmKHRoaXMsXCJwZW5kaW5nXCIsbmV3IE1hcCksZih0aGlzLFwiY2FjaGVkXCIsW10pLGYodGhpcyxcImluaXRpYWxpemVkXCIsITEpLGYodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSxmKHRoaXMsXCJzdWJzY3JpYmVUaW1lb3V0XCIsTyh0dCkpLGYodGhpcyxcImluaXRpYWxTdWJzY3JpYmVUaW1lb3V0XCIsTyhaKjE1KSksZih0aGlzLFwiY2xpZW50SWRcIiksZih0aGlzLFwiYmF0Y2hTdWJzY3JpYmVUb3BpY3NMaW1pdFwiLDUwMCksZih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSxhd2FpdCB0aGlzLnJlc3RvcmUoKSksdGhpcy5pbml0aWFsaXplZD0hMH0pLGYodGhpcyxcInN1YnNjcmliZVwiLGFzeW5jKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1YnNjcmliaW5nIFRvcGljXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic3Vic2NyaWJlXCIscGFyYW1zOnt0b3BpYzppLG9wdHM6c319KTt0cnl7Y29uc3Qgbj13ZShzKSxvPXt0b3BpYzppLHJlbGF5Om4sdHJhbnNwb3J0VHlwZTpzPy50cmFuc3BvcnRUeXBlfTt0aGlzLnBlbmRpbmcuc2V0KGksbyk7Y29uc3QgYT1hd2FpdCB0aGlzLnJwY1N1YnNjcmliZShpLG4scyk7cmV0dXJuIHR5cGVvZiBhPT1cInN0cmluZ1wiJiYodGhpcy5vblN1YnNjcmliZShhLG8pLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3VjY2Vzc2Z1bGx5IFN1YnNjcmliZWQgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmksb3B0czpzfX0pKSxhfWNhdGNoKG4pe3Rocm93IHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFN1YnNjcmliZSBUb3BpY1wiKSx0aGlzLmxvZ2dlci5lcnJvcihuKSxufX0pLGYodGhpcyxcInVuc3Vic2NyaWJlXCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHR5cGVvZiBzPy5pZDxcInVcIj9hd2FpdCB0aGlzLnVuc3Vic2NyaWJlQnlJZChpLHMuaWQscyk6YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5VG9waWMoaSxzKX0pLGYodGhpcyxcImlzU3Vic2NyaWJlZFwiLGk9Pm5ldyBQcm9taXNlKHM9PntzKHRoaXMudG9waWNNYXAudG9waWNzLmluY2x1ZGVzKGkpKX0pKSxmKHRoaXMsXCJpc0tub3duVG9waWNcIixpPT5uZXcgUHJvbWlzZShzPT57cyh0aGlzLnRvcGljTWFwLnRvcGljcy5pbmNsdWRlcyhpKXx8dGhpcy5wZW5kaW5nLmhhcyhpKXx8dGhpcy5jYWNoZWQuc29tZShuPT5uLnRvcGljPT09aSkpfSkpLGYodGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSksZih0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSksZih0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLGYodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksZih0aGlzLFwic3RhcnRcIixhc3luYygpPT57YXdhaXQgdGhpcy5vbkNvbm5lY3QoKX0pLGYodGhpcyxcInN0b3BcIixhc3luYygpPT57YXdhaXQgdGhpcy5vbkRpc2Nvbm5lY3QoKX0pLGYodGhpcyxcInJlc3RhcnRcIixhc3luYygpPT57YXdhaXQgdGhpcy5yZXN0b3JlKCksYXdhaXQgdGhpcy5vblJlc3RhcnQoKX0pLGYodGhpcyxcImNoZWNrUGVuZGluZ1wiLGFzeW5jKCk9PntpZih0aGlzLnBlbmRpbmcuc2l6ZT09PTAmJighdGhpcy5pbml0aWFsaXplZHx8IXRoaXMucmVsYXllci5jb25uZWN0ZWQpKXJldHVybjtjb25zdCBpPVtdO3RoaXMucGVuZGluZy5mb3JFYWNoKHM9PntpLnB1c2gocyl9KSxhd2FpdCB0aGlzLmJhdGNoU3Vic2NyaWJlKGkpfSksZih0aGlzLFwicmVnaXN0ZXJFdmVudExpc3RlbmVyc1wiLCgpPT57dGhpcy5yZWxheWVyLmNvcmUuaGVhcnRiZWF0Lm9uKG5lLnB1bHNlLGFzeW5jKCk9Pnthd2FpdCB0aGlzLmNoZWNrUGVuZGluZygpfSksdGhpcy5ldmVudHMub24oJC5jcmVhdGVkLGFzeW5jIGk9Pntjb25zdCBzPSQuY3JlYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3N9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnMsZGF0YTppfSksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmV2ZW50cy5vbigkLmRlbGV0ZWQsYXN5bmMgaT0+e2NvbnN0IHM9JC5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7c31gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6cyxkYXRhOml9KSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pfSksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSksdGhpcy5jbGllbnRJZD1cIlwifWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5yZWxheWVyLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLnNpemV9Z2V0IGlkcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuc3Vic2NyaXB0aW9ucy5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN1YnNjcmlwdGlvbnMudmFsdWVzKCkpfWdldCB0b3BpY3MoKXtyZXR1cm4gdGhpcy50b3BpY01hcC50b3BpY3N9Z2V0IGhhc0FueVRvcGljcygpe3JldHVybiB0aGlzLnRvcGljTWFwLnRvcGljcy5sZW5ndGg+MHx8dGhpcy5wZW5kaW5nLnNpemU+MHx8dGhpcy5jYWNoZWQubGVuZ3RoPjB8fHRoaXMuc3Vic2NyaXB0aW9ucy5zaXplPjB9aGFzU3Vic2NyaXB0aW9uKGUsdCl7bGV0IGk9ITE7dHJ5e2k9dGhpcy5nZXRTdWJzY3JpcHRpb24oZSkudG9waWM9PT10fWNhdGNoe31yZXR1cm4gaX1yZXNldCgpe3RoaXMuY2FjaGVkPVtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9b25EaXNhYmxlKCl7dGhpcy5jYWNoZWQ9dGhpcy52YWx1ZXMsdGhpcy5zdWJzY3JpcHRpb25zLmNsZWFyKCksdGhpcy50b3BpY01hcC5jbGVhcigpfWFzeW5jIHVuc3Vic2NyaWJlQnlUb3BpYyhlLHQpe2NvbnN0IGk9dGhpcy50b3BpY01hcC5nZXQoZSk7YXdhaXQgUHJvbWlzZS5hbGwoaS5tYXAoYXN5bmMgcz0+YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5SWQoZSxzLHQpKSl9YXN5bmMgdW5zdWJzY3JpYmVCeUlkKGUsdCxpKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlVuc3Vic2NyaWJpbmcgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1bnN1YnNjcmliZVwiLHBhcmFtczp7dG9waWM6ZSxpZDp0LG9wdHM6aX19KTt0cnl7Y29uc3Qgcz13ZShpKTthd2FpdCB0aGlzLnJlc3RhcnRUb0NvbXBsZXRlKHt0b3BpYzplLGlkOnQscmVsYXk6c30pLGF3YWl0IHRoaXMucnBjVW5zdWJzY3JpYmUoZSx0LHMpO2NvbnN0IG49YWUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiLGAke3RoaXMubmFtZX0sICR7ZX1gKTthd2FpdCB0aGlzLm9uVW5zdWJzY3JpYmUoZSx0LG4pLHRoaXMubG9nZ2VyLmRlYnVnKFwiU3VjY2Vzc2Z1bGx5IFVuc3Vic2NyaWJlZCBUb3BpY1wiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVuc3Vic2NyaWJlXCIscGFyYW1zOnt0b3BpYzplLGlkOnQsb3B0czppfX0pfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFVuc3Vic2NyaWJlIFRvcGljXCIpLHRoaXMubG9nZ2VyLmVycm9yKHMpLHN9fWFzeW5jIHJwY1N1YnNjcmliZShlLHQsaSl7dmFyIHM7KCFpfHxpPy50cmFuc3BvcnRUeXBlPT09US5yZWxheSkmJmF3YWl0IHRoaXMucmVzdGFydFRvQ29tcGxldGUoe3RvcGljOmUsaWQ6ZSxyZWxheTp0fSk7Y29uc3Qgbj17bWV0aG9kOm9lKHQucHJvdG9jb2wpLnN1YnNjcmliZSxwYXJhbXM6e3RvcGljOmV9fTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJwYXlsb2FkXCIsZGlyZWN0aW9uOlwib3V0Z29pbmdcIixyZXF1ZXN0Om59KTtjb25zdCBvPShzPWk/LmludGVybmFsKT09bnVsbD92b2lkIDA6cy50aHJvd09uRmFpbGVkUHVibGlzaDt0cnl7Y29uc3QgYT1hd2FpdCB0aGlzLmdldFN1YnNjcmlwdGlvbklkKGUpO2lmKGk/LnRyYW5zcG9ydFR5cGU9PT1RLmxpbmtfbW9kZSlyZXR1cm4gc2V0VGltZW91dCgoKT0+eyh0aGlzLnJlbGF5ZXIuY29ubmVjdGVkfHx0aGlzLnJlbGF5ZXIuY29ubmVjdGluZykmJnRoaXMucmVsYXllci5yZXF1ZXN0KG4pLmNhdGNoKGw9PnRoaXMubG9nZ2VyLndhcm4obCkpfSxPKFopKSxhO2NvbnN0IGM9bmV3IFByb21pc2UoYXN5bmMgbD0+e2NvbnN0IGQ9Zz0+e2cudG9waWM9PT1lJiYodGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoJC5jcmVhdGVkLGQpLGwoZy5pZCkpfTt0aGlzLmV2ZW50cy5vbigkLmNyZWF0ZWQsZCk7dHJ5e2NvbnN0IGc9YXdhaXQgWChuZXcgUHJvbWlzZSgoXyx1KT0+e3RoaXMucmVsYXllci5yZXF1ZXN0KG4pLmNhdGNoKGI9Pnt0aGlzLmxvZ2dlci53YXJuKGIsYj8ubWVzc2FnZSksdShiKX0pLnRoZW4oXyl9KSx0aGlzLmluaXRpYWxTdWJzY3JpYmVUaW1lb3V0LGBTdWJzY3JpYmluZyB0byAke2V9IGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbmApO3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKCQuY3JlYXRlZCxkKSxsKGcpfWNhdGNoe319KSxoPWF3YWl0IFgoYyx0aGlzLnN1YnNjcmliZVRpbWVvdXQsYFN1YnNjcmliaW5nIHRvICR7ZX0gZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluYCk7aWYoIWgmJm8pdGhyb3cgbmV3IEVycm9yKGBTdWJzY3JpYmluZyB0byAke2V9IGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbmApO3JldHVybiBoP2E6bnVsbH1jYXRjaChhKXtpZih0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFN1YnNjcmliZSBQYXlsb2FkIHN0YWxsZWRcIiksdGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEMuY29ubmVjdGlvbl9zdGFsbGVkKSxvKXRocm93IGF9cmV0dXJuIG51bGx9YXN5bmMgcnBjQmF0Y2hTdWJzY3JpYmUoZSl7aWYoIWUubGVuZ3RoKXJldHVybjtjb25zdCB0PWVbMF0ucmVsYXksaT17bWV0aG9kOm9lKHQucHJvdG9jb2wpLmJhdGNoU3Vic2NyaWJlLHBhcmFtczp7dG9waWNzOmUubWFwKHM9PnMudG9waWMpfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDppfSk7dHJ5e2F3YWl0IGF3YWl0IFgobmV3IFByb21pc2Uocz0+e3RoaXMucmVsYXllci5yZXF1ZXN0KGkpLmNhdGNoKG49PnRoaXMubG9nZ2VyLndhcm4obikpLnRoZW4ocyl9KSx0aGlzLnN1YnNjcmliZVRpbWVvdXQsXCJycGNCYXRjaFN1YnNjcmliZSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5cIil9Y2F0Y2h7dGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEMuY29ubmVjdGlvbl9zdGFsbGVkKX19YXN5bmMgcnBjQmF0Y2hGZXRjaE1lc3NhZ2VzKGUpe2lmKCFlLmxlbmd0aClyZXR1cm47Y29uc3QgdD1lWzBdLnJlbGF5LGk9e21ldGhvZDpvZSh0LnByb3RvY29sKS5iYXRjaEZldGNoTWVzc2FnZXMscGFyYW1zOnt0b3BpY3M6ZS5tYXAobj0+bi50b3BpYyl9fTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJwYXlsb2FkXCIsZGlyZWN0aW9uOlwib3V0Z29pbmdcIixyZXF1ZXN0Oml9KTtsZXQgczt0cnl7cz1hd2FpdCBhd2FpdCBYKG5ldyBQcm9taXNlKChuLG8pPT57dGhpcy5yZWxheWVyLnJlcXVlc3QoaSkuY2F0Y2goYT0+e3RoaXMubG9nZ2VyLndhcm4oYSksbyhhKX0pLnRoZW4obil9KSx0aGlzLnN1YnNjcmliZVRpbWVvdXQsXCJycGNCYXRjaEZldGNoTWVzc2FnZXMgZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluXCIpfWNhdGNoe3RoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCl9cmV0dXJuIHN9cnBjVW5zdWJzY3JpYmUoZSx0LGkpe2NvbnN0IHM9e21ldGhvZDpvZShpLnByb3RvY29sKS51bnN1YnNjcmliZSxwYXJhbXM6e3RvcGljOmUsaWQ6dH19O3JldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJwYXlsb2FkXCIsZGlyZWN0aW9uOlwib3V0Z29pbmdcIixyZXF1ZXN0OnN9KSx0aGlzLnJlbGF5ZXIucmVxdWVzdChzKX1vblN1YnNjcmliZShlLHQpe3RoaXMuc2V0U3Vic2NyaXB0aW9uKGUsSGUoZ2Uoe30sdCkse2lkOmV9KSksdGhpcy5wZW5kaW5nLmRlbGV0ZSh0LnRvcGljKX1vbkJhdGNoU3Vic2NyaWJlKGUpe2UubGVuZ3RoJiZlLmZvckVhY2godD0+e3RoaXMuc2V0U3Vic2NyaXB0aW9uKHQuaWQsZ2Uoe30sdCkpLHRoaXMucGVuZGluZy5kZWxldGUodC50b3BpYyl9KX1hc3luYyBvblVuc3Vic2NyaWJlKGUsdCxpKXt0aGlzLmV2ZW50cy5yZW1vdmVBbGxMaXN0ZW5lcnModCksdGhpcy5oYXNTdWJzY3JpcHRpb24odCxlKSYmdGhpcy5kZWxldGVTdWJzY3JpcHRpb24odCxpKSxhd2FpdCB0aGlzLnJlbGF5ZXIubWVzc2FnZXMuZGVsKGUpfWFzeW5jIHNldFJlbGF5ZXJTdWJzY3JpcHRpb25zKGUpe2F3YWl0IHRoaXMucmVsYXllci5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksZSl9YXN5bmMgZ2V0UmVsYXllclN1YnNjcmlwdGlvbnMoKXtyZXR1cm4gYXdhaXQgdGhpcy5yZWxheWVyLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl9c2V0U3Vic2NyaXB0aW9uKGUsdCl7dGhpcy5sb2dnZXIuZGVidWcoXCJTZXR0aW5nIHN1YnNjcmlwdGlvblwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInNldFN1YnNjcmlwdGlvblwiLGlkOmUsc3Vic2NyaXB0aW9uOnR9KSx0aGlzLmFkZFN1YnNjcmlwdGlvbihlLHQpfWFkZFN1YnNjcmlwdGlvbihlLHQpe3RoaXMuc3Vic2NyaXB0aW9ucy5zZXQoZSxnZSh7fSx0KSksdGhpcy50b3BpY01hcC5zZXQodC50b3BpYyxlKSx0aGlzLmV2ZW50cy5lbWl0KCQuY3JlYXRlZCx0KX1nZXRTdWJzY3JpcHRpb24oZSl7dGhpcy5sb2dnZXIuZGVidWcoXCJHZXR0aW5nIHN1YnNjcmlwdGlvblwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImdldFN1YnNjcmlwdGlvblwiLGlkOmV9KTtjb25zdCB0PXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSk7aWYoIXQpe2NvbnN0e21lc3NhZ2U6aX09bShcIk5PX01BVENISU5HX0tFWVwiLGAke3RoaXMubmFtZX06ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9cmV0dXJuIHR9ZGVsZXRlU3Vic2NyaXB0aW9uKGUsdCl7dGhpcy5sb2dnZXIuZGVidWcoXCJEZWxldGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJkZWxldGVTdWJzY3JpcHRpb25cIixpZDplLHJlYXNvbjp0fSk7Y29uc3QgaT10aGlzLmdldFN1YnNjcmlwdGlvbihlKTt0aGlzLnN1YnNjcmlwdGlvbnMuZGVsZXRlKGUpLHRoaXMudG9waWNNYXAuZGVsZXRlKGkudG9waWMsZSksdGhpcy5ldmVudHMuZW1pdCgkLmRlbGV0ZWQsSGUoZ2Uoe30saSkse3JlYXNvbjp0fSkpfWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldFJlbGF5ZXJTdWJzY3JpcHRpb25zKHRoaXMudmFsdWVzKSx0aGlzLmV2ZW50cy5lbWl0KCQuc3luYyl9YXN5bmMgb25SZXN0YXJ0KCl7aWYodGhpcy5jYWNoZWQubGVuZ3RoKXtjb25zdCBlPVsuLi50aGlzLmNhY2hlZF0sdD1NYXRoLmNlaWwodGhpcy5jYWNoZWQubGVuZ3RoL3RoaXMuYmF0Y2hTdWJzY3JpYmVUb3BpY3NMaW1pdCk7Zm9yKGxldCBpPTA7aTx0O2krKyl7Y29uc3Qgcz1lLnNwbGljZSgwLHRoaXMuYmF0Y2hTdWJzY3JpYmVUb3BpY3NMaW1pdCk7YXdhaXQgdGhpcy5iYXRjaFN1YnNjcmliZShzKX19dGhpcy5ldmVudHMuZW1pdCgkLnJlc3Vic2NyaWJlZCl9YXN5bmMgcmVzdG9yZSgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuZ2V0UmVsYXllclN1YnNjcmlwdGlvbnMoKTtpZih0eXBlb2YgZT5cInVcInx8IWUubGVuZ3RoKXJldHVybjtpZih0aGlzLnN1YnNjcmlwdGlvbnMuc2l6ZSl7Y29uc3R7bWVzc2FnZTp0fT1tKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSx0aGlzLmxvZ2dlci5lcnJvcihgJHt0aGlzLm5hbWV9OiAke0pTT04uc3RyaW5naWZ5KHRoaXMudmFsdWVzKX1gKSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHN1YnNjcmlwdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHN1YnNjcmlwdGlvbnM6dGhpcy52YWx1ZXN9KX1jYXRjaChlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgc3Vic2NyaXB0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fWFzeW5jIGJhdGNoU3Vic2NyaWJlKGUpe2UubGVuZ3RoJiYoYXdhaXQgdGhpcy5ycGNCYXRjaFN1YnNjcmliZShlKSx0aGlzLm9uQmF0Y2hTdWJzY3JpYmUoYXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoYXN5bmMgdD0+SGUoZ2Uoe30sdCkse2lkOmF3YWl0IHRoaXMuZ2V0U3Vic2NyaXB0aW9uSWQodC50b3BpYyl9KSkpKSl9YXN5bmMgYmF0Y2hGZXRjaE1lc3NhZ2VzKGUpe2lmKCFlLmxlbmd0aClyZXR1cm47dGhpcy5sb2dnZXIudHJhY2UoYEZldGNoaW5nIGJhdGNoIG1lc3NhZ2VzIGZvciAke2UubGVuZ3RofSBzdWJzY3JpcHRpb25zYCk7Y29uc3QgdD1hd2FpdCB0aGlzLnJwY0JhdGNoRmV0Y2hNZXNzYWdlcyhlKTt0JiZ0Lm1lc3NhZ2VzJiYoYXdhaXQgd3MoTyhaKSksYXdhaXQgdGhpcy5yZWxheWVyLmhhbmRsZUJhdGNoTWVzc2FnZUV2ZW50cyh0Lm1lc3NhZ2VzKSl9YXN5bmMgb25Db25uZWN0KCl7YXdhaXQgdGhpcy5yZXN0YXJ0KCksdGhpcy5yZXNldCgpfW9uRGlzY29ubmVjdCgpe3RoaXMub25EaXNhYmxlKCl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgcmVzdGFydFRvQ29tcGxldGUoZSl7IXRoaXMucmVsYXllci5jb25uZWN0ZWQmJiF0aGlzLnJlbGF5ZXIuY29ubmVjdGluZyYmKHRoaXMuY2FjaGVkLnB1c2goZSksYXdhaXQgdGhpcy5yZWxheWVyLnRyYW5zcG9ydE9wZW4oKSl9YXN5bmMgZ2V0Q2xpZW50SWQoKXtyZXR1cm4gdGhpcy5jbGllbnRJZHx8KHRoaXMuY2xpZW50SWQ9YXdhaXQgdGhpcy5yZWxheWVyLmNvcmUuY3J5cHRvLmdldENsaWVudElkKCkpLHRoaXMuY2xpZW50SWR9YXN5bmMgZ2V0U3Vic2NyaXB0aW9uSWQoZSl7cmV0dXJuIHZlKGUrYXdhaXQgdGhpcy5nZXRDbGllbnRJZCgpKX19dmFyIFFuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxDaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdG89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxZZT0ocixlLHQpPT5lIGluIHI/UW4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LFBpPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSllby5jYWxsKGUsdCkmJlllKHIsdCxlW3RdKTtpZihDaSlmb3IodmFyIHQgb2YgQ2koZSkpdG8uY2FsbChlLHQpJiZZZShyLHQsZVt0XSk7cmV0dXJuIHJ9LHk9KHIsZSx0KT0+WWUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBTaSBleHRlbmRzIGVze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHkodGhpcyxcInByb3RvY29sXCIsXCJ3Y1wiKSx5KHRoaXMsXCJ2ZXJzaW9uXCIsMikseSh0aGlzLFwiY29yZVwiKSx5KHRoaXMsXCJsb2dnZXJcIikseSh0aGlzLFwiZXZlbnRzXCIsbmV3IGVlKSx5KHRoaXMsXCJwcm92aWRlclwiKSx5KHRoaXMsXCJtZXNzYWdlc1wiKSx5KHRoaXMsXCJzdWJzY3JpYmVyXCIpLHkodGhpcyxcInB1Ymxpc2hlclwiKSx5KHRoaXMsXCJuYW1lXCIsJHQpLHkodGhpcyxcInRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWRcIiwhMSkseSh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSkseSh0aGlzLFwiY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzXCIsITEpLHkodGhpcyxcInJlbGF5VXJsXCIpLHkodGhpcyxcInByb2plY3RJZFwiKSx5KHRoaXMsXCJwYWNrYWdlTmFtZVwiKSx5KHRoaXMsXCJidW5kbGVJZFwiKSx5KHRoaXMsXCJoYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uXCIsITEpLHkodGhpcyxcInBpbmdUaW1lb3V0XCIpLHkodGhpcyxcImhlYXJ0QmVhdFRpbWVvdXRcIixPKFNlK1BlKSkseSh0aGlzLFwicmVjb25uZWN0VGltZW91dFwiKSx5KHRoaXMsXCJjb25uZWN0UHJvbWlzZVwiKSx5KHRoaXMsXCJyZWNvbm5lY3RJblByb2dyZXNzXCIsITEpLHkodGhpcyxcInJlcXVlc3RzSW5GbGlnaHRcIixbXSkseSh0aGlzLFwiY29ubmVjdFRpbWVvdXRcIixPKFoqMTUpKSx5KHRoaXMsXCJyZXF1ZXN0XCIsYXN5bmMgdD0+e3ZhciBpLHM7dGhpcy5sb2dnZXIuZGVidWcoXCJQdWJsaXNoaW5nIFJlcXVlc3QgUGF5bG9hZFwiKTtjb25zdCBuPXQuaWR8fG10KCkudG9TdHJpbmcoKTthd2FpdCB0aGlzLnRvRXN0YWJsaXNoQ29ubmVjdGlvbigpO3RyeXt0aGlzLmxvZ2dlci50cmFjZSh7aWQ6bixtZXRob2Q6dC5tZXRob2QsdG9waWM6KGk9dC5wYXJhbXMpPT1udWxsP3ZvaWQgMDppLnRvcGljfSxcInJlbGF5ZXIucmVxdWVzdCAtIHB1Ymxpc2hpbmcuLi5cIik7Y29uc3Qgbz1gJHtufTokeygocz10LnBhcmFtcyk9PW51bGw/dm9pZCAwOnMudGFnKXx8XCJcIn1gO3RoaXMucmVxdWVzdHNJbkZsaWdodC5wdXNoKG8pO2NvbnN0IGE9YXdhaXQgdGhpcy5wcm92aWRlci5yZXF1ZXN0KHQpO3JldHVybiB0aGlzLnJlcXVlc3RzSW5GbGlnaHQ9dGhpcy5yZXF1ZXN0c0luRmxpZ2h0LmZpbHRlcihjPT5jIT09byksYX1jYXRjaChvKXt0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFB1Ymxpc2ggUmVxdWVzdDogJHtufWApLG99fSkseSh0aGlzLFwicmVzZXRQaW5nVGltZW91dFwiLCgpPT57dXQoKSYmKGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0KSx0aGlzLnBpbmdUaW1lb3V0PXNldFRpbWVvdXQoKCk9Pnt2YXIgdCxpLHMsbjt0cnl7dGhpcy5sb2dnZXIuZGVidWcoe30sXCJwaW5nVGltZW91dDogQ29ubmVjdGlvbiBzdGFsbGVkLCB0ZXJtaW5hdGluZy4uLlwiKSwobj0ocz0oaT0odD10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6dC5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6aS5zb2NrZXQpPT1udWxsP3ZvaWQgMDpzLnRlcm1pbmF0ZSk9PW51bGx8fG4uY2FsbChzKX1jYXRjaChvKXt0aGlzLmxvZ2dlci53YXJuKG8sbz8ubWVzc2FnZSl9fSx0aGlzLmhlYXJ0QmVhdFRpbWVvdXQpKX0pLHkodGhpcyxcIm9uUGF5bG9hZEhhbmRsZXJcIix0PT57dGhpcy5vblByb3ZpZGVyUGF5bG9hZCh0KSx0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKX0pLHkodGhpcyxcIm9uQ29ubmVjdEhhbmRsZXJcIiwoKT0+e3RoaXMubG9nZ2VyLndhcm4oe30sXCJSZWxheWVyIGNvbm5lY3RlZCBcXHV7MUY2REN9XCIpLHRoaXMuc3RhcnRQaW5nVGltZW91dCgpLHRoaXMuZXZlbnRzLmVtaXQoQy5jb25uZWN0KX0pLHkodGhpcyxcIm9uRGlzY29ubmVjdEhhbmRsZXJcIiwoKT0+e3RoaXMubG9nZ2VyLndhcm4oe30sXCJSZWxheWVyIGRpc2Nvbm5lY3RlZCBcXHV7MUY2RDF9XCIpLHRoaXMucmVxdWVzdHNJbkZsaWdodD1bXSx0aGlzLm9uUHJvdmlkZXJEaXNjb25uZWN0KCl9KSx5KHRoaXMsXCJvblByb3ZpZGVyRXJyb3JIYW5kbGVyXCIsdD0+e3RoaXMubG9nZ2VyLmZhdGFsKGBGYXRhbCBzb2NrZXQgZXJyb3I6ICR7dC5tZXNzYWdlfWApLHRoaXMuZXZlbnRzLmVtaXQoQy5lcnJvcix0KSx0aGlzLmxvZ2dlci5mYXRhbChcIkZhdGFsIHNvY2tldCBlcnJvciByZWNlaXZlZCwgY2xvc2luZyB0cmFuc3BvcnRcIiksdGhpcy50cmFuc3BvcnRDbG9zZSgpfSkseSh0aGlzLFwicmVnaXN0ZXJQcm92aWRlckxpc3RlbmVyc1wiLCgpPT57dGhpcy5wcm92aWRlci5vbihMLnBheWxvYWQsdGhpcy5vblBheWxvYWRIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9uKEwuY29ubmVjdCx0aGlzLm9uQ29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub24oTC5kaXNjb25uZWN0LHRoaXMub25EaXNjb25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vbihMLmVycm9yLHRoaXMub25Qcm92aWRlckVycm9ySGFuZGxlcil9KSx0aGlzLmNvcmU9ZS5jb3JlLHRoaXMubG9nZ2VyPXR5cGVvZiBlLmxvZ2dlcjxcInVcIiYmdHlwZW9mIGUubG9nZ2VyIT1cInN0cmluZ1wiP04oZS5sb2dnZXIsdGhpcy5uYW1lKTpZaShldCh7bGV2ZWw6ZS5sb2dnZXJ8fE50fSkpLHRoaXMubWVzc2FnZXM9bmV3IF9pKHRoaXMubG9nZ2VyLGUuY29yZSksdGhpcy5zdWJzY3JpYmVyPW5ldyBUaSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLnB1Ymxpc2hlcj1uZXcgVm4odGhpcyx0aGlzLmxvZ2dlciksdGhpcy5yZWxheVVybD1lPy5yZWxheVVybHx8VWUsdGhpcy5wcm9qZWN0SWQ9ZS5wcm9qZWN0SWQsX3MoKT90aGlzLnBhY2thZ2VOYW1lPWh0KCk6RXMoKSYmKHRoaXMuYnVuZGxlSWQ9aHQoKSksdGhpcy5wcm92aWRlcj17fX1hc3luYyBpbml0KCl7aWYodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSxhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5tZXNzYWdlcy5pbml0KCksdGhpcy5zdWJzY3JpYmVyLmluaXQoKV0pLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5zdWJzY3JpYmVyLmhhc0FueVRvcGljcyl0cnl7YXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2FybihlLGU/Lm1lc3NhZ2UpfX1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1nZXQgY29ubmVjdGVkKCl7dmFyIGUsdCxpO3JldHVybigoaT0odD0oZT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6ZS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6dC5zb2NrZXQpPT1udWxsP3ZvaWQgMDppLnJlYWR5U3RhdGUpPT09MXx8ITF9Z2V0IGNvbm5lY3RpbmcoKXt2YXIgZSx0LGk7cmV0dXJuKChpPSh0PShlPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDplLmNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDp0LnNvY2tldCk9PW51bGw/dm9pZCAwOmkucmVhZHlTdGF0ZSk9PT0wfHx0aGlzLmNvbm5lY3RQcm9taXNlIT09dm9pZCAwfHwhMX1hc3luYyBwdWJsaXNoKGUsdCxpKXt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKGUsdCxpKSxhd2FpdCB0aGlzLnJlY29yZE1lc3NhZ2VFdmVudCh7dG9waWM6ZSxtZXNzYWdlOnQscHVibGlzaGVkQXQ6RGF0ZS5ub3coKSx0cmFuc3BvcnRUeXBlOlEucmVsYXl9LGxlLm91dGJvdW5kKX1hc3luYyBzdWJzY3JpYmUoZSx0KXt2YXIgaSxzLG47dGhpcy5pc0luaXRpYWxpemVkKCksKCEodCE9bnVsbCYmdC50cmFuc3BvcnRUeXBlKXx8dD8udHJhbnNwb3J0VHlwZT09PVwicmVsYXlcIikmJmF3YWl0IHRoaXMudG9Fc3RhYmxpc2hDb25uZWN0aW9uKCk7Y29uc3Qgbz10eXBlb2YoKGk9dD8uaW50ZXJuYWwpPT1udWxsP3ZvaWQgMDppLnRocm93T25GYWlsZWRQdWJsaXNoKT5cInVcIj8hMDoocz10Py5pbnRlcm5hbCk9PW51bGw/dm9pZCAwOnMudGhyb3dPbkZhaWxlZFB1Ymxpc2g7bGV0IGE9KChuPXRoaXMuc3Vic2NyaWJlci50b3BpY01hcC5nZXQoZSkpPT1udWxsP3ZvaWQgMDpuWzBdKXx8XCJcIixjO2NvbnN0IGg9bD0+e2wudG9waWM9PT1lJiYodGhpcy5zdWJzY3JpYmVyLm9mZigkLmNyZWF0ZWQsaCksYygpKX07cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKFtuZXcgUHJvbWlzZShsPT57Yz1sLHRoaXMuc3Vic2NyaWJlci5vbigkLmNyZWF0ZWQsaCl9KSxuZXcgUHJvbWlzZShhc3luYyhsLGQpPT57YT1hd2FpdCB0aGlzLnN1YnNjcmliZXIuc3Vic2NyaWJlKGUsUGkoe2ludGVybmFsOnt0aHJvd09uRmFpbGVkUHVibGlzaDpvfX0sdCkpLmNhdGNoKGc9PntvJiZkKGcpfSl8fGEsbCgpfSldKSxhfWFzeW5jIHVuc3Vic2NyaWJlKGUsdCl7dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKGUsdCl9b24oZSx0KXt0aGlzLmV2ZW50cy5vbihlLHQpfW9uY2UoZSx0KXt0aGlzLmV2ZW50cy5vbmNlKGUsdCl9b2ZmKGUsdCl7dGhpcy5ldmVudHMub2ZmKGUsdCl9cmVtb3ZlTGlzdGVuZXIoZSx0KXt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihlLHQpfWFzeW5jIHRyYW5zcG9ydERpc2Nvbm5lY3QoKXt0aGlzLnByb3ZpZGVyLmRpc2Nvbm5lY3QmJih0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb258fHRoaXMuY29ubmVjdGVkKT9hd2FpdCBYKHRoaXMucHJvdmlkZXIuZGlzY29ubmVjdCgpLDJlMyxcInByb3ZpZGVyLmRpc2Nvbm5lY3QoKVwiKS5jYXRjaCgoKT0+dGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpKTp0aGlzLm9uUHJvdmlkZXJEaXNjb25uZWN0KCl9YXN5bmMgdHJhbnNwb3J0Q2xvc2UoKXt0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQ9ITAsYXdhaXQgdGhpcy50cmFuc3BvcnREaXNjb25uZWN0KCl9YXN5bmMgdHJhbnNwb3J0T3BlbihlKXtpZighdGhpcy5zdWJzY3JpYmVyLmhhc0FueVRvcGljcyl7dGhpcy5sb2dnZXIud2FybihcIlN0YXJ0aW5nIFdTIGNvbm5lY3Rpb24gc2tpcHBlZCBiZWNhdXNlIHRoZSBjbGllbnQgaGFzIG5vIHRvcGljcyB0byB3b3JrIHdpdGguXCIpO3JldHVybn1pZih0aGlzLmNvbm5lY3RQcm9taXNlPyh0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxcIldhaXRpbmcgZm9yIGV4aXN0aW5nIGNvbm5lY3Rpb24gYXR0ZW1wdCB0byByZXNvbHZlLi4uXCIpLGF3YWl0IHRoaXMuY29ubmVjdFByb21pc2UsdGhpcy5sb2dnZXIuZGVidWcoe30sXCJFeGlzdGluZyBjb25uZWN0aW9uIGF0dGVtcHQgcmVzb2x2ZWRcIikpOih0aGlzLmNvbm5lY3RQcm9taXNlPW5ldyBQcm9taXNlKGFzeW5jKHQsaSk9Pnthd2FpdCB0aGlzLmNvbm5lY3QoZSkudGhlbih0KS5jYXRjaChpKS5maW5hbGx5KCgpPT57dGhpcy5jb25uZWN0UHJvbWlzZT12b2lkIDB9KX0pLGF3YWl0IHRoaXMuY29ubmVjdFByb21pc2UpLCF0aGlzLmNvbm5lY3RlZCl0aHJvdyBuZXcgRXJyb3IoYENvdWxkbid0IGVzdGFibGlzaCBzb2NrZXQgY29ubmVjdGlvbiB0byB0aGUgcmVsYXkgc2VydmVyOiAke3RoaXMucmVsYXlVcmx9YCl9YXN5bmMgcmVzdGFydFRyYW5zcG9ydChlKXt0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxcIlJlc3RhcnRpbmcgdHJhbnNwb3J0Li4uXCIpLCF0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcyYmKHRoaXMucmVsYXlVcmw9ZXx8dGhpcy5yZWxheVVybCxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxhd2FpdCB0aGlzLnRyYW5zcG9ydENsb3NlKCksYXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCkpfWFzeW5jIGNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKXtpZighYXdhaXQgbHQoKSl0aHJvdyBuZXcgRXJyb3IoXCJObyBpbnRlcm5ldCBjb25uZWN0aW9uIGRldGVjdGVkLiBQbGVhc2UgcmVzdGFydCB5b3VyIG5ldHdvcmsgYW5kIHRyeSBhZ2Fpbi5cIil9YXN5bmMgaGFuZGxlQmF0Y2hNZXNzYWdlRXZlbnRzKGUpe2lmKGU/Lmxlbmd0aD09PTApe3RoaXMubG9nZ2VyLnRyYWNlKFwiQmF0Y2ggbWVzc2FnZSBldmVudHMgaXMgZW1wdHkuIElnbm9yaW5nLi4uXCIpO3JldHVybn1jb25zdCB0PWUuc29ydCgoaSxzKT0+aS5wdWJsaXNoZWRBdC1zLnB1Ymxpc2hlZEF0KTt0aGlzLmxvZ2dlci5kZWJ1ZyhgQmF0Y2ggb2YgJHt0Lmxlbmd0aH0gbWVzc2FnZSBldmVudHMgc29ydGVkYCk7Zm9yKGNvbnN0IGkgb2YgdCl0cnl7YXdhaXQgdGhpcy5vbk1lc3NhZ2VFdmVudChpKX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMsXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGJhdGNoIG1lc3NhZ2UgZXZlbnQ6IFwiK3M/Lm1lc3NhZ2UpfXRoaXMubG9nZ2VyLnRyYWNlKGBCYXRjaCBvZiAke3QubGVuZ3RofSBtZXNzYWdlIGV2ZW50cyBwcm9jZXNzZWRgKX1hc3luYyBvbkxpbmtNZXNzYWdlRXZlbnQoZSx0KXtjb25zdHt0b3BpYzppfT1lO2lmKCF0LnNlc3Npb25FeGlzdHMpe2NvbnN0IHM9Y2UoZmUpLG49e3RvcGljOmksZXhwaXJ5OnMscmVsYXk6e3Byb3RvY29sOlwiaXJuXCJ9LGFjdGl2ZTohMX07YXdhaXQgdGhpcy5jb3JlLnBhaXJpbmcucGFpcmluZ3Muc2V0KGksbil9dGhpcy5ldmVudHMuZW1pdChDLm1lc3NhZ2UsZSksYXdhaXQgdGhpcy5yZWNvcmRNZXNzYWdlRXZlbnQoZSxsZS5pbmJvdW5kKX1hc3luYyBjb25uZWN0KGUpe2F3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLGUmJmUhPT10aGlzLnJlbGF5VXJsJiYodGhpcy5yZWxheVVybD1lLGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpKSx0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcz0hMCx0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQ9ITE7bGV0IHQ9MTtmb3IoO3Q8Njspe3RyeXtpZih0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQpYnJlYWs7dGhpcy5sb2dnZXIuZGVidWcoe30sYENvbm5lY3RpbmcgdG8gJHt0aGlzLnJlbGF5VXJsfSwgYXR0ZW1wdDogJHt0fS4uLmApLGF3YWl0IHRoaXMuY3JlYXRlUHJvdmlkZXIoKSxhd2FpdCBuZXcgUHJvbWlzZShhc3luYyhpLHMpPT57Y29uc3Qgbj0oKT0+e3MobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBpbnRlcnJ1cHRlZCB3aGlsZSB0cnlpbmcgdG8gc3Vic2NyaWJlXCIpKX07dGhpcy5wcm92aWRlci5vbmNlKEwuZGlzY29ubmVjdCxuKSxhd2FpdCBYKG5ldyBQcm9taXNlKChvLGEpPT57dGhpcy5wcm92aWRlci5jb25uZWN0KCkudGhlbihvKS5jYXRjaChhKX0pLHRoaXMuY29ubmVjdFRpbWVvdXQsYFNvY2tldCBzdGFsbGVkIHdoZW4gdHJ5aW5nIHRvIGNvbm5lY3QgdG8gJHt0aGlzLnJlbGF5VXJsfWApLmNhdGNoKG89PntzKG8pfSkuZmluYWxseSgoKT0+e3RoaXMucHJvdmlkZXIub2ZmKEwuZGlzY29ubmVjdCxuKSxjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lb3V0KX0pLGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jKG8sYSk9Pntjb25zdCBjPSgpPT57YShuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGludGVycnVwdGVkIHdoaWxlIHRyeWluZyB0byBzdWJzY3JpYmVcIikpfTt0aGlzLnByb3ZpZGVyLm9uY2UoTC5kaXNjb25uZWN0LGMpLGF3YWl0IHRoaXMuc3Vic2NyaWJlci5zdGFydCgpLnRoZW4obykuY2F0Y2goYSkuZmluYWxseSgoKT0+e3RoaXMucHJvdmlkZXIub2ZmKEwuZGlzY29ubmVjdCxjKX0pfSksdGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uPSExLGkoKX0pfWNhdGNoKGkpe2F3YWl0IHRoaXMuc3Vic2NyaWJlci5zdG9wKCk7Y29uc3Qgcz1pO3RoaXMubG9nZ2VyLndhcm4oe30scy5tZXNzYWdlKSx0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb249ITB9ZmluYWxseXt0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcz0hMX1pZih0aGlzLmNvbm5lY3RlZCl7dGhpcy5sb2dnZXIuZGVidWcoe30sYENvbm5lY3RlZCB0byAke3RoaXMucmVsYXlVcmx9IHN1Y2Nlc3NmdWxseSBvbiBhdHRlbXB0OiAke3R9YCk7YnJlYWt9YXdhaXQgbmV3IFByb21pc2UoaT0+c2V0VGltZW91dChpLE8odCoxKSkpLHQrK319c3RhcnRQaW5nVGltZW91dCgpe3ZhciBlLHQsaSxzLG47aWYodXQoKSl0cnl7KHQ9KGU9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOmUuY29ubmVjdGlvbikhPW51bGwmJnQuc29ja2V0JiYoKG49KHM9KGk9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOmkuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnMuc29ja2V0KT09bnVsbHx8bi5vbihcInBpbmdcIiwoKT0+e3RoaXMucmVzZXRQaW5nVGltZW91dCgpfSkpLHRoaXMucmVzZXRQaW5nVGltZW91dCgpfWNhdGNoKG8pe3RoaXMubG9nZ2VyLndhcm4obyxvPy5tZXNzYWdlKX19YXN5bmMgY3JlYXRlUHJvdmlkZXIoKXt0aGlzLnByb3ZpZGVyLmNvbm5lY3Rpb24mJnRoaXMudW5yZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzKCk7Y29uc3QgZT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLnNpZ25KV1QodGhpcy5yZWxheVVybCk7dGhpcy5wcm92aWRlcj1uZXcgRnMobmV3IEJzKElzKHtzZGtWZXJzaW9uOl9lLHByb3RvY29sOnRoaXMucHJvdG9jb2wsdmVyc2lvbjp0aGlzLnZlcnNpb24scmVsYXlVcmw6dGhpcy5yZWxheVVybCxwcm9qZWN0SWQ6dGhpcy5wcm9qZWN0SWQsYXV0aDplLHVzZU9uQ2xvc2VFdmVudDohMCxidW5kbGVJZDp0aGlzLmJ1bmRsZUlkLHBhY2thZ2VOYW1lOnRoaXMucGFja2FnZU5hbWV9KSkpLHRoaXMucmVnaXN0ZXJQcm92aWRlckxpc3RlbmVycygpfWFzeW5jIHJlY29yZE1lc3NhZ2VFdmVudChlLHQpe2NvbnN0e3RvcGljOmksbWVzc2FnZTpzfT1lO2F3YWl0IHRoaXMubWVzc2FnZXMuc2V0KGkscyx0KX1hc3luYyBzaG91bGRJZ25vcmVNZXNzYWdlRXZlbnQoZSl7Y29uc3R7dG9waWM6dCxtZXNzYWdlOml9PWU7aWYoIWl8fGkubGVuZ3RoPT09MClyZXR1cm4gdGhpcy5sb2dnZXIud2FybihgSWdub3JpbmcgaW52YWxpZC9lbXB0eSBtZXNzYWdlOiAke2l9YCksITA7aWYoIWF3YWl0IHRoaXMuc3Vic2NyaWJlci5pc0tub3duVG9waWModCkpcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oYElnbm9yaW5nIG1lc3NhZ2UgZm9yIHVua25vd24gdG9waWMgJHt0fWApLCEwO2NvbnN0IHM9dGhpcy5tZXNzYWdlcy5oYXModCxpKTtyZXR1cm4gcyYmdGhpcy5sb2dnZXIud2FybihgSWdub3JpbmcgZHVwbGljYXRlIG1lc3NhZ2U6ICR7aX1gKSxzfWFzeW5jIG9uUHJvdmlkZXJQYXlsb2FkKGUpe2lmKHRoaXMubG9nZ2VyLmRlYnVnKFwiSW5jb21pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJpbmNvbWluZ1wiLHBheWxvYWQ6ZX0pLGZ0KGUpKXtpZighZS5tZXRob2QuZW5kc1dpdGgoenQpKXJldHVybjtjb25zdCB0PWUucGFyYW1zLHt0b3BpYzppLG1lc3NhZ2U6cyxwdWJsaXNoZWRBdDpuLGF0dGVzdGF0aW9uOm99PXQuZGF0YSxhPXt0b3BpYzppLG1lc3NhZ2U6cyxwdWJsaXNoZWRBdDpuLHRyYW5zcG9ydFR5cGU6US5yZWxheSxhdHRlc3RhdGlvbjpvfTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkVtaXR0aW5nIFJlbGF5ZXIgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZShQaSh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dC5pZH0sYSkpLHRoaXMuZXZlbnRzLmVtaXQodC5pZCxhKSxhd2FpdCB0aGlzLmFja25vd2xlZGdlUGF5bG9hZChlKSxhd2FpdCB0aGlzLm9uTWVzc2FnZUV2ZW50KGEpfWVsc2UgRHQoZSkmJnRoaXMuZXZlbnRzLmVtaXQoQy5tZXNzYWdlX2FjayxlKX1hc3luYyBvbk1lc3NhZ2VFdmVudChlKXthd2FpdCB0aGlzLnNob3VsZElnbm9yZU1lc3NhZ2VFdmVudChlKXx8KGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KGUsbGUuaW5ib3VuZCksdGhpcy5ldmVudHMuZW1pdChDLm1lc3NhZ2UsZSkpfWFzeW5jIGFja25vd2xlZGdlUGF5bG9hZChlKXtjb25zdCB0PXZ0KGUuaWQsITApO2F3YWl0IHRoaXMucHJvdmlkZXIuY29ubmVjdGlvbi5zZW5kKHQpfXVucmVnaXN0ZXJQcm92aWRlckxpc3RlbmVycygpe3RoaXMucHJvdmlkZXIub2ZmKEwucGF5bG9hZCx0aGlzLm9uUGF5bG9hZEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKEwuY29ubmVjdCx0aGlzLm9uQ29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKEwuZGlzY29ubmVjdCx0aGlzLm9uRGlzY29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKEwuZXJyb3IsdGhpcy5vblByb3ZpZGVyRXJyb3JIYW5kbGVyKSxjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCl9YXN5bmMgcmVnaXN0ZXJFdmVudExpc3RlbmVycygpe2xldCBlPWF3YWl0IGx0KCk7VHMoYXN5bmMgdD0+e2UhPT10JiYoZT10LHQ/YXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCkuY2F0Y2goaT0+dGhpcy5sb2dnZXIuZXJyb3IoaSxpPy5tZXNzYWdlKSk6KHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMCxhd2FpdCB0aGlzLnRyYW5zcG9ydERpc2Nvbm5lY3QoKSx0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQ9ITEpKX0pfWFzeW5jIG9uUHJvdmlkZXJEaXNjb25uZWN0KCl7Y2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpLHRoaXMuZXZlbnRzLmVtaXQoQy5kaXNjb25uZWN0KSx0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcz0hMSwhdGhpcy5yZWNvbm5lY3RJblByb2dyZXNzJiYodGhpcy5yZWNvbm5lY3RJblByb2dyZXNzPSEwLGF3YWl0IHRoaXMuc3Vic2NyaWJlci5zdG9wKCksdGhpcy5zdWJzY3JpYmVyLmhhc0FueVRvcGljcyYmKHRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZHx8KHRoaXMucmVjb25uZWN0VGltZW91dD1zZXRUaW1lb3V0KGFzeW5jKCk9Pnthd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKS5jYXRjaChlPT50aGlzLmxvZ2dlci5lcnJvcihlLGU/Lm1lc3NhZ2UpKSx0aGlzLnJlY29ubmVjdFRpbWVvdXQ9dm9pZCAwLHRoaXMucmVjb25uZWN0SW5Qcm9ncmVzcz0hMX0sTyhMdCkpKSkpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fWFzeW5jIHRvRXN0YWJsaXNoQ29ubmVjdGlvbigpe2F3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLCF0aGlzLmNvbm5lY3RlZCYmYXdhaXQgdGhpcy5jb25uZWN0KCl9fWZ1bmN0aW9uIGlvKCl7fWZ1bmN0aW9uIFJpKHIpe2lmKCFyfHx0eXBlb2YgciE9XCJvYmplY3RcIilyZXR1cm4hMTtjb25zdCBlPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtyZXR1cm4gZT09PW51bGx8fGU9PT1PYmplY3QucHJvdG90eXBlfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1udWxsP09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKT09PVwiW29iamVjdCBPYmplY3RdXCI6ITF9ZnVuY3Rpb24gT2kocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocikuZmlsdGVyKGU9Pk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChyLGUpKX1mdW5jdGlvbiBBaShyKXtyZXR1cm4gcj09bnVsbD9yPT09dm9pZCAwP1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpfWNvbnN0IHNvPVwiW29iamVjdCBSZWdFeHBdXCIscm89XCJbb2JqZWN0IFN0cmluZ11cIixubz1cIltvYmplY3QgTnVtYmVyXVwiLG9vPVwiW29iamVjdCBCb29sZWFuXVwiLHhpPVwiW29iamVjdCBBcmd1bWVudHNdXCIsYW89XCJbb2JqZWN0IFN5bWJvbF1cIixjbz1cIltvYmplY3QgRGF0ZV1cIixobz1cIltvYmplY3QgTWFwXVwiLGxvPVwiW29iamVjdCBTZXRdXCIsdW89XCJbb2JqZWN0IEFycmF5XVwiLGdvPVwiW29iamVjdCBGdW5jdGlvbl1cIixwbz1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsSmU9XCJbb2JqZWN0IE9iamVjdF1cIix5bz1cIltvYmplY3QgRXJyb3JdXCIsYm89XCJbb2JqZWN0IERhdGFWaWV3XVwiLG1vPVwiW29iamVjdCBVaW50OEFycmF5XVwiLGZvPVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIixEbz1cIltvYmplY3QgVWludDE2QXJyYXldXCIsdm89XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLHdvPVwiW29iamVjdCBCaWdVaW50NjRBcnJheV1cIixfbz1cIltvYmplY3QgSW50OEFycmF5XVwiLEVvPVwiW29iamVjdCBJbnQxNkFycmF5XVwiLElvPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLFRvPVwiW29iamVjdCBCaWdJbnQ2NEFycmF5XVwiLENvPVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIsUG89XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjtmdW5jdGlvbiBTbyhyLGUpe3JldHVybiByPT09ZXx8TnVtYmVyLmlzTmFOKHIpJiZOdW1iZXIuaXNOYU4oZSl9ZnVuY3Rpb24gUm8ocixlLHQpe3JldHVybiBwZShyLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHQpfWZ1bmN0aW9uIHBlKHIsZSx0LGkscyxuLG8pe2NvbnN0IGE9byhyLGUsdCxpLHMsbik7aWYoYSE9PXZvaWQgMClyZXR1cm4gYTtpZih0eXBlb2Ygcj09dHlwZW9mIGUpc3dpdGNoKHR5cGVvZiByKXtjYXNlXCJiaWdpbnRcIjpjYXNlXCJzdHJpbmdcIjpjYXNlXCJib29sZWFuXCI6Y2FzZVwic3ltYm9sXCI6Y2FzZVwidW5kZWZpbmVkXCI6cmV0dXJuIHI9PT1lO2Nhc2VcIm51bWJlclwiOnJldHVybiByPT09ZXx8T2JqZWN0LmlzKHIsZSk7Y2FzZVwiZnVuY3Rpb25cIjpyZXR1cm4gcj09PWU7Y2FzZVwib2JqZWN0XCI6cmV0dXJuIHllKHIsZSxuLG8pfXJldHVybiB5ZShyLGUsbixvKX1mdW5jdGlvbiB5ZShyLGUsdCxpKXtpZihPYmplY3QuaXMocixlKSlyZXR1cm4hMDtsZXQgcz1BaShyKSxuPUFpKGUpO2lmKHM9PT14aSYmKHM9SmUpLG49PT14aSYmKG49SmUpLHMhPT1uKXJldHVybiExO3N3aXRjaChzKXtjYXNlIHJvOnJldHVybiByLnRvU3RyaW5nKCk9PT1lLnRvU3RyaW5nKCk7Y2FzZSBubzp7Y29uc3QgYz1yLnZhbHVlT2YoKSxoPWUudmFsdWVPZigpO3JldHVybiBTbyhjLGgpfWNhc2Ugb286Y2FzZSBjbzpjYXNlIGFvOnJldHVybiBPYmplY3QuaXMoci52YWx1ZU9mKCksZS52YWx1ZU9mKCkpO2Nhc2Ugc286cmV0dXJuIHIuc291cmNlPT09ZS5zb3VyY2UmJnIuZmxhZ3M9PT1lLmZsYWdzO2Nhc2UgZ286cmV0dXJuIHI9PT1lfXQ9dD8/bmV3IE1hcDtjb25zdCBvPXQuZ2V0KHIpLGE9dC5nZXQoZSk7aWYobyE9bnVsbCYmYSE9bnVsbClyZXR1cm4gbz09PWU7dC5zZXQocixlKSx0LnNldChlLHIpO3RyeXtzd2l0Y2gocyl7Y2FzZSBobzp7aWYoci5zaXplIT09ZS5zaXplKXJldHVybiExO2Zvcihjb25zdFtjLGhdb2Ygci5lbnRyaWVzKCkpaWYoIWUuaGFzKGMpfHwhcGUoaCxlLmdldChjKSxjLHIsZSx0LGkpKXJldHVybiExO3JldHVybiEwfWNhc2UgbG86e2lmKHIuc2l6ZSE9PWUuc2l6ZSlyZXR1cm4hMTtjb25zdCBjPUFycmF5LmZyb20oci52YWx1ZXMoKSksaD1BcnJheS5mcm9tKGUudmFsdWVzKCkpO2ZvcihsZXQgbD0wO2w8Yy5sZW5ndGg7bCsrKXtjb25zdCBkPWNbbF0sZz1oLmZpbmRJbmRleChfPT5wZShkLF8sdm9pZCAwLHIsZSx0LGkpKTtpZihnPT09LTEpcmV0dXJuITE7aC5zcGxpY2UoZywxKX1yZXR1cm4hMH1jYXNlIHVvOmNhc2UgbW86Y2FzZSBmbzpjYXNlIERvOmNhc2Ugdm86Y2FzZSB3bzpjYXNlIF9vOmNhc2UgRW86Y2FzZSBJbzpjYXNlIFRvOmNhc2UgQ286Y2FzZSBQbzp7aWYodHlwZW9mIEJ1ZmZlcjxcInVcIiYmQnVmZmVyLmlzQnVmZmVyKHIpIT09QnVmZmVyLmlzQnVmZmVyKGUpfHxyLmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgYz0wO2M8ci5sZW5ndGg7YysrKWlmKCFwZShyW2NdLGVbY10sYyxyLGUsdCxpKSlyZXR1cm4hMTtyZXR1cm4hMH1jYXNlIHBvOnJldHVybiByLmJ5dGVMZW5ndGghPT1lLmJ5dGVMZW5ndGg/ITE6eWUobmV3IFVpbnQ4QXJyYXkociksbmV3IFVpbnQ4QXJyYXkoZSksdCxpKTtjYXNlIGJvOnJldHVybiByLmJ5dGVMZW5ndGghPT1lLmJ5dGVMZW5ndGh8fHIuYnl0ZU9mZnNldCE9PWUuYnl0ZU9mZnNldD8hMTp5ZShuZXcgVWludDhBcnJheShyKSxuZXcgVWludDhBcnJheShlKSx0LGkpO2Nhc2UgeW86cmV0dXJuIHIubmFtZT09PWUubmFtZSYmci5tZXNzYWdlPT09ZS5tZXNzYWdlO2Nhc2UgSmU6e2lmKCEoeWUoci5jb25zdHJ1Y3RvcixlLmNvbnN0cnVjdG9yLHQsaSl8fFJpKHIpJiZSaShlKSkpcmV0dXJuITE7Y29uc3QgaD1bLi4uT2JqZWN0LmtleXMociksLi4uT2kocildLGw9Wy4uLk9iamVjdC5rZXlzKGUpLC4uLk9pKGUpXTtpZihoLmxlbmd0aCE9PWwubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgZD0wO2Q8aC5sZW5ndGg7ZCsrKXtjb25zdCBnPWhbZF0sXz1yW2ddO2lmKCFPYmplY3QuaGFzT3duKGUsZykpcmV0dXJuITE7Y29uc3QgdT1lW2ddO2lmKCFwZShfLHUsZyxyLGUsdCxpKSlyZXR1cm4hMX1yZXR1cm4hMH1kZWZhdWx0OnJldHVybiExfX1maW5hbGx5e3QuZGVsZXRlKHIpLHQuZGVsZXRlKGUpfX1mdW5jdGlvbiBPbyhyLGUpe3JldHVybiBSbyhyLGUsaW8pfXZhciBBbz1PYmplY3QuZGVmaW5lUHJvcGVydHksTmk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyx4bz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LE5vPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsWGU9KHIsZSx0KT0+ZSBpbiByP0FvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCwkaT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpeG8uY2FsbChlLHQpJiZYZShyLHQsZVt0XSk7aWYoTmkpZm9yKHZhciB0IG9mIE5pKGUpKU5vLmNhbGwoZSx0KSYmWGUocix0LGVbdF0pO3JldHVybiByfSx6PShyLGUsdCk9PlhlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgemkgZXh0ZW5kcyB0c3tjb25zdHJ1Y3RvcihlLHQsaSxzPUIsbj12b2lkIDApe3N1cGVyKGUsdCxpLHMpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsdGhpcy5uYW1lPWkseih0aGlzLFwibWFwXCIsbmV3IE1hcCkseih0aGlzLFwidmVyc2lvblwiLGt0KSx6KHRoaXMsXCJjYWNoZWRcIixbXSkseih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSkseih0aGlzLFwiZ2V0S2V5XCIpLHoodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSx6KHRoaXMsXCJyZWNlbnRseURlbGV0ZWRcIixbXSkseih0aGlzLFwicmVjZW50bHlEZWxldGVkTGltaXRcIiwyMDApLHoodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5yZXN0b3JlKCksdGhpcy5jYWNoZWQuZm9yRWFjaChvPT57dGhpcy5nZXRLZXkmJm8hPT1udWxsJiYheGUobyk/dGhpcy5tYXAuc2V0KHRoaXMuZ2V0S2V5KG8pLG8pOkNzKG8pP3RoaXMubWFwLnNldChvLmlkLG8pOlBzKG8pJiZ0aGlzLm1hcC5zZXQoby50b3BpYyxvKX0pLHRoaXMuY2FjaGVkPVtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSkseih0aGlzLFwic2V0XCIsYXN5bmMobyxhKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubWFwLmhhcyhvKT9hd2FpdCB0aGlzLnVwZGF0ZShvLGEpOih0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzZXRcIixrZXk6byx2YWx1ZTphfSksdGhpcy5tYXAuc2V0KG8sYSksYXdhaXQgdGhpcy5wZXJzaXN0KCkpfSkseih0aGlzLFwiZ2V0XCIsbz0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImdldFwiLGtleTpvfSksdGhpcy5nZXREYXRhKG8pKSkseih0aGlzLFwiZ2V0QWxsXCIsbz0+KHRoaXMuaXNJbml0aWFsaXplZCgpLG8/dGhpcy52YWx1ZXMuZmlsdGVyKGE9Pk9iamVjdC5rZXlzKG8pLmV2ZXJ5KGM9Pk9vKGFbY10sb1tjXSkpKTp0aGlzLnZhbHVlcykpLHoodGhpcyxcInVwZGF0ZVwiLGFzeW5jKG8sYSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlVwZGF0aW5nIHZhbHVlXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwidXBkYXRlXCIsa2V5Om8sdXBkYXRlOmF9KTtjb25zdCBjPSRpKCRpKHt9LHRoaXMuZ2V0RGF0YShvKSksYSk7dGhpcy5tYXAuc2V0KG8sYyksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSx6KHRoaXMsXCJkZWxldGVcIixhc3luYyhvLGEpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5tYXAuaGFzKG8pJiYodGhpcy5sb2dnZXIuZGVidWcoXCJEZWxldGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImRlbGV0ZVwiLGtleTpvLHJlYXNvbjphfSksdGhpcy5tYXAuZGVsZXRlKG8pLHRoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQobyksYXdhaXQgdGhpcy5wZXJzaXN0KCkpfSksdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSksdGhpcy5zdG9yYWdlUHJlZml4PXMsdGhpcy5nZXRLZXk9bn1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLm1hcC5zaXplfWdldCBrZXlzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAudmFsdWVzKCkpfWFkZFRvUmVjZW50bHlEZWxldGVkKGUpe3RoaXMucmVjZW50bHlEZWxldGVkLnB1c2goZSksdGhpcy5yZWNlbnRseURlbGV0ZWQubGVuZ3RoPj10aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0JiZ0aGlzLnJlY2VudGx5RGVsZXRlZC5zcGxpY2UoMCx0aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0LzIpfWFzeW5jIHNldERhdGFTdG9yZShlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXREYXRhU3RvcmUoKXtyZXR1cm4gYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfWdldERhdGEoZSl7Y29uc3QgdD10aGlzLm1hcC5nZXQoZSk7aWYoIXQpe2lmKHRoaXMucmVjZW50bHlEZWxldGVkLmluY2x1ZGVzKGUpKXtjb25zdHttZXNzYWdlOnN9PW0oXCJNSVNTSU5HX09SX0lOVkFMSURcIixgUmVjb3JkIHdhcyByZWNlbnRseSBkZWxldGVkIC0gJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IocyksbmV3IEVycm9yKHMpfWNvbnN0e21lc3NhZ2U6aX09bShcIk5PX01BVENISU5HX0tFWVwiLGAke3RoaXMubmFtZX06ICR7ZX1gKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihpKSxuZXcgRXJyb3IoaSl9cmV0dXJuIHR9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0RGF0YVN0b3JlKHRoaXMudmFsdWVzKX1hc3luYyByZXN0b3JlKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5nZXREYXRhU3RvcmUoKTtpZih0eXBlb2YgZT5cInVcInx8IWUubGVuZ3RoKXJldHVybjtpZih0aGlzLm1hcC5zaXplKXtjb25zdHttZXNzYWdlOnR9PW0oXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIix0aGlzLm5hbWUpO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLG5ldyBFcnJvcih0KX10aGlzLmNhY2hlZD1lLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgdmFsdWUgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHZhbHVlOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHZhbHVlIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihlKX19aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciAkbz1PYmplY3QuZGVmaW5lUHJvcGVydHksem89KHIsZSx0KT0+ZSBpbiByPyRvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxwPShyLGUsdCk9PnpvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgTGl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHAodGhpcyxcIm5hbWVcIixNdCkscCh0aGlzLFwidmVyc2lvblwiLEt0KSxwKHRoaXMsXCJldmVudHNcIixuZXcgR2kpLHAodGhpcyxcInBhaXJpbmdzXCIpLHAodGhpcyxcImluaXRpYWxpemVkXCIsITEpLHAodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSxwKHRoaXMsXCJpZ25vcmVkUGF5bG9hZFR5cGVzXCIsW1JzXSkscCh0aGlzLFwicmVnaXN0ZXJlZE1ldGhvZHNcIixbXSkscCh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwoYXdhaXQgdGhpcy5wYWlyaW5ncy5pbml0KCksYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5yZWdpc3RlclJlbGF5ZXJFdmVudHMoKSx0aGlzLnJlZ2lzdGVyRXhwaXJlckV2ZW50cygpLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSl9KSxwKHRoaXMsXCJyZWdpc3RlclwiLCh7bWV0aG9kczppfSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLnJlZ2lzdGVyZWRNZXRob2RzPVsuLi5uZXcgU2V0KFsuLi50aGlzLnJlZ2lzdGVyZWRNZXRob2RzLC4uLmldKV19KSxwKHRoaXMsXCJjcmVhdGVcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz1BZSgpLG49YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5zZXRTeW1LZXkocyksbz1jZShmZSksYT17cHJvdG9jb2w6eHR9LGM9e3RvcGljOm4sZXhwaXJ5Om8scmVsYXk6YSxhY3RpdmU6ITEsbWV0aG9kczppPy5tZXRob2RzfSxoPWR0KHtwcm90b2NvbDp0aGlzLmNvcmUucHJvdG9jb2wsdmVyc2lvbjp0aGlzLmNvcmUudmVyc2lvbix0b3BpYzpuLHN5bUtleTpzLHJlbGF5OmEsZXhwaXJ5VGltZXN0YW1wOm8sbWV0aG9kczppPy5tZXRob2RzfSk7cmV0dXJuIHRoaXMuZXZlbnRzLmVtaXQoc2UuY3JlYXRlLGMpLHRoaXMuY29yZS5leHBpcmVyLnNldChuLG8pLGF3YWl0IHRoaXMucGFpcmluZ3Muc2V0KG4sYyksYXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKG4se3RyYW5zcG9ydFR5cGU6aT8udHJhbnNwb3J0VHlwZX0pLHt0b3BpYzpuLHVyaTpofX0pLHAodGhpcyxcInBhaXJcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz10aGlzLmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoe3Byb3BlcnRpZXM6e3RvcGljOmk/LnVyaSx0cmFjZTpbRy5wYWlyaW5nX3N0YXJ0ZWRdfX0pO3RoaXMuaXNWYWxpZFBhaXIoaSxzKTtjb25zdHt0b3BpYzpuLHN5bUtleTpvLHJlbGF5OmEsZXhwaXJ5VGltZXN0YW1wOmMsbWV0aG9kczpofT1ndChpLnVyaSk7cy5wcm9wcy5wcm9wZXJ0aWVzLnRvcGljPW4scy5hZGRUcmFjZShHLnBhaXJpbmdfdXJpX3ZhbGlkYXRpb25fc3VjY2Vzcykscy5hZGRUcmFjZShHLnBhaXJpbmdfdXJpX25vdF9leHBpcmVkKTtsZXQgbDtpZih0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMobikpe2lmKGw9dGhpcy5wYWlyaW5ncy5nZXQobikscy5hZGRUcmFjZShHLmV4aXN0aW5nX3BhaXJpbmcpLGwuYWN0aXZlKXRocm93IHMuc2V0RXJyb3IoWS5hY3RpdmVfcGFpcmluZ19hbHJlYWR5X2V4aXN0cyksbmV3IEVycm9yKGBQYWlyaW5nIGFscmVhZHkgZXhpc3RzOiAke259LiBQbGVhc2UgdHJ5IGFnYWluIHdpdGggYSBuZXcgY29ubmVjdGlvbiBVUkkuYCk7cy5hZGRUcmFjZShHLnBhaXJpbmdfbm90X2V4cGlyZWQpfWNvbnN0IGQ9Y3x8Y2UoZmUpLGc9e3RvcGljOm4scmVsYXk6YSxleHBpcnk6ZCxhY3RpdmU6ITEsbWV0aG9kczpofTt0aGlzLmNvcmUuZXhwaXJlci5zZXQobixkKSxhd2FpdCB0aGlzLnBhaXJpbmdzLnNldChuLGcpLHMuYWRkVHJhY2UoRy5zdG9yZV9uZXdfcGFpcmluZyksaS5hY3RpdmF0ZVBhaXJpbmcmJmF3YWl0IHRoaXMuYWN0aXZhdGUoe3RvcGljOm59KSx0aGlzLmV2ZW50cy5lbWl0KHNlLmNyZWF0ZSxnKSxzLmFkZFRyYWNlKEcuZW1pdF9pbmFjdGl2ZV9wYWlyaW5nKSx0aGlzLmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhuKXx8YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5zZXRTeW1LZXkobyxuKSxzLmFkZFRyYWNlKEcuc3Vic2NyaWJpbmdfcGFpcmluZ190b3BpYyk7dHJ5e2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKX1jYXRjaHtzLnNldEVycm9yKFkubm9faW50ZXJuZXRfY29ubmVjdGlvbil9dHJ5e2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLnN1YnNjcmliZShuLHtyZWxheTphfSl9Y2F0Y2goXyl7dGhyb3cgcy5zZXRFcnJvcihZLnN1YnNjcmliZV9wYWlyaW5nX3RvcGljX2ZhaWx1cmUpLF99cmV0dXJuIHMuYWRkVHJhY2UoRy5zdWJzY3JpYmVfcGFpcmluZ190b3BpY19zdWNjZXNzKSxnfSkscCh0aGlzLFwiYWN0aXZhdGVcIixhc3luYyh7dG9waWM6aX0pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz1jZShmZSk7dGhpcy5jb3JlLmV4cGlyZXIuc2V0KGkscyksYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSx7YWN0aXZlOiEwLGV4cGlyeTpzfSl9KSxwKHRoaXMsXCJwaW5nXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZFBpbmcoaSksdGhpcy5sb2dnZXIud2FybihcInBpbmcoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cIik7Y29uc3R7dG9waWM6c309aTtpZih0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMocykpe2NvbnN0IG49YXdhaXQgdGhpcy5zZW5kUmVxdWVzdChzLFwid2NfcGFpcmluZ1BpbmdcIix7fSkse2RvbmU6byxyZXNvbHZlOmEscmVqZWN0OmN9PU9zKCk7dGhpcy5ldmVudHMub25jZShOZShcInBhaXJpbmdfcGluZ1wiLG4pLCh7ZXJyb3I6aH0pPT57aD9jKGgpOmEoKX0pLGF3YWl0IG8oKX19KSxwKHRoaXMsXCJ1cGRhdGVFeHBpcnlcIixhc3luYyh7dG9waWM6aSxleHBpcnk6c30pPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSx7ZXhwaXJ5OnN9KX0pLHAodGhpcyxcInVwZGF0ZU1ldGFkYXRhXCIsYXN5bmMoe3RvcGljOmksbWV0YWRhdGE6c30pPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSx7cGVlck1ldGFkYXRhOnN9KX0pLHAodGhpcyxcImdldFBhaXJpbmdzXCIsKCk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLnBhaXJpbmdzLnZhbHVlcykpLHAodGhpcyxcImRpc2Nvbm5lY3RcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5pc1ZhbGlkRGlzY29ubmVjdChpKTtjb25zdHt0b3BpYzpzfT1pO3RoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhzKSYmKGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QocyxcIndjX3BhaXJpbmdEZWxldGVcIixhZShcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSxhd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcocykpfSkscCh0aGlzLFwiZm9ybWF0VXJpRnJvbVBhaXJpbmdcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3R7dG9waWM6cyxyZWxheTpuLGV4cGlyeTpvLG1ldGhvZHM6YX09aSxjPXRoaXMuY29yZS5jcnlwdG8ua2V5Y2hhaW4uZ2V0KHMpO3JldHVybiBkdCh7cHJvdG9jb2w6dGhpcy5jb3JlLnByb3RvY29sLHZlcnNpb246dGhpcy5jb3JlLnZlcnNpb24sdG9waWM6cyxzeW1LZXk6YyxyZWxheTpuLGV4cGlyeVRpbWVzdGFtcDpvLG1ldGhvZHM6YX0pfSkscCh0aGlzLFwic2VuZFJlcXVlc3RcIixhc3luYyhpLHMsbik9Pntjb25zdCBvPXd0KHMsbiksYT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShpLG8pLGM9aWVbc10ucmVxO3JldHVybiB0aGlzLmNvcmUuaGlzdG9yeS5zZXQoaSxvKSx0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKGksYSxjKSxvLmlkfSkscCh0aGlzLFwic2VuZFJlc3VsdFwiLGFzeW5jKGkscyxuKT0+e2NvbnN0IG89dnQoaSxuKSxhPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uZW5jb2RlKHMsbyksYz0oYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkuZ2V0KHMsaSkpLnJlcXVlc3QubWV0aG9kLGg9aWVbY10ucmVzO2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxhLGgpLGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LnJlc29sdmUobyl9KSxwKHRoaXMsXCJzZW5kRXJyb3JcIixhc3luYyhpLHMsbik9Pntjb25zdCBvPU1zKGksbiksYT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShzLG8pLGM9KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChzLGkpKS5yZXF1ZXN0Lm1ldGhvZCxoPWllW2NdP2llW2NdLnJlczppZS51bnJlZ2lzdGVyZWRfbWV0aG9kLnJlczthd2FpdCB0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKHMsYSxoKSxhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKG8pfSkscCh0aGlzLFwiZGVsZXRlUGFpcmluZ1wiLGFzeW5jKGkscyk9Pnthd2FpdCB0aGlzLmNvcmUucmVsYXllci51bnN1YnNjcmliZShpKSxhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wYWlyaW5ncy5kZWxldGUoaSxhZShcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx0aGlzLmNvcmUuY3J5cHRvLmRlbGV0ZVN5bUtleShpKSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY29yZS5leHBpcmVyLmRlbChpKV0pfSkscCh0aGlzLFwiY2xlYW51cFwiLGFzeW5jKCk9Pntjb25zdCBpPXRoaXMucGFpcmluZ3MuZ2V0QWxsKCkuZmlsdGVyKHM9PnB0KHMuZXhwaXJ5KSk7YXdhaXQgUHJvbWlzZS5hbGwoaS5tYXAocz0+dGhpcy5kZWxldGVQYWlyaW5nKHMudG9waWMpKSl9KSxwKHRoaXMsXCJvblJlbGF5RXZlbnRSZXF1ZXN0XCIsYXN5bmMgaT0+e2NvbnN0e3RvcGljOnMscGF5bG9hZDpufT1pO3N3aXRjaChuLm1ldGhvZCl7Y2FzZVwid2NfcGFpcmluZ1BpbmdcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblBhaXJpbmdQaW5nUmVxdWVzdChzLG4pO2Nhc2VcIndjX3BhaXJpbmdEZWxldGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblBhaXJpbmdEZWxldGVSZXF1ZXN0KHMsbik7ZGVmYXVsdDpyZXR1cm4gYXdhaXQgdGhpcy5vblVua25vd25ScGNNZXRob2RSZXF1ZXN0KHMsbil9fSkscCh0aGlzLFwib25SZWxheUV2ZW50UmVzcG9uc2VcIixhc3luYyBpPT57Y29uc3R7dG9waWM6cyxwYXlsb2FkOm59PWksbz0oYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkuZ2V0KHMsbi5pZCkpLnJlcXVlc3QubWV0aG9kO3N3aXRjaChvKXtjYXNlXCJ3Y19wYWlyaW5nUGluZ1wiOnJldHVybiB0aGlzLm9uUGFpcmluZ1BpbmdSZXNwb25zZShzLG4pO2RlZmF1bHQ6cmV0dXJuIHRoaXMub25Vbmtub3duUnBjTWV0aG9kUmVzcG9uc2Uobyl9fSkscCh0aGlzLFwib25QYWlyaW5nUGluZ1JlcXVlc3RcIixhc3luYyhpLHMpPT57Y29uc3R7aWQ6bn09czt0cnl7dGhpcy5pc1ZhbGlkUGluZyh7dG9waWM6aX0pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdChuLGksITApLHRoaXMuZXZlbnRzLmVtaXQoc2UucGluZyx7aWQ6bix0b3BpYzppfSl9Y2F0Y2gobyl7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixpLG8pLHRoaXMubG9nZ2VyLmVycm9yKG8pfX0pLHAodGhpcyxcIm9uUGFpcmluZ1BpbmdSZXNwb25zZVwiLChpLHMpPT57Y29uc3R7aWQ6bn09cztzZXRUaW1lb3V0KCgpPT57S3Mocyk/dGhpcy5ldmVudHMuZW1pdChOZShcInBhaXJpbmdfcGluZ1wiLG4pLHt9KTpfdChzKSYmdGhpcy5ldmVudHMuZW1pdChOZShcInBhaXJpbmdfcGluZ1wiLG4pLHtlcnJvcjpzLmVycm9yfSl9LDUwMCl9KSxwKHRoaXMsXCJvblBhaXJpbmdEZWxldGVSZXF1ZXN0XCIsYXN5bmMoaSxzKT0+e2NvbnN0e2lkOm59PXM7dHJ5e3RoaXMuaXNWYWxpZERpc2Nvbm5lY3Qoe3RvcGljOml9KSxhd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcoaSksdGhpcy5ldmVudHMuZW1pdChzZS5kZWxldGUse2lkOm4sdG9waWM6aX0pfWNhdGNoKG8pe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4saSxvKSx0aGlzLmxvZ2dlci5lcnJvcihvKX19KSxwKHRoaXMsXCJvblVua25vd25ScGNNZXRob2RSZXF1ZXN0XCIsYXN5bmMoaSxzKT0+e2NvbnN0e2lkOm4sbWV0aG9kOm99PXM7dHJ5e2lmKHRoaXMucmVnaXN0ZXJlZE1ldGhvZHMuaW5jbHVkZXMobykpcmV0dXJuO2NvbnN0IGE9YWUoXCJXQ19NRVRIT0RfVU5TVVBQT1JURURcIixvKTthd2FpdCB0aGlzLnNlbmRFcnJvcihuLGksYSksdGhpcy5sb2dnZXIuZXJyb3IoYSl9Y2F0Y2goYSl7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixpLGEpLHRoaXMubG9nZ2VyLmVycm9yKGEpfX0pLHAodGhpcyxcIm9uVW5rbm93blJwY01ldGhvZFJlc3BvbnNlXCIsaT0+e3RoaXMucmVnaXN0ZXJlZE1ldGhvZHMuaW5jbHVkZXMoaSl8fHRoaXMubG9nZ2VyLmVycm9yKGFlKFwiV0NfTUVUSE9EX1VOU1VQUE9SVEVEXCIsaSkpfSkscCh0aGlzLFwiaXNWYWxpZFBhaXJcIiwoaSxzKT0+e3ZhciBuO2lmKCEkZShpKSl7Y29uc3R7bWVzc2FnZTphfT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXIoKSBwYXJhbXM6ICR7aX1gKTt0aHJvdyBzLnNldEVycm9yKFkubWFsZm9ybWVkX3BhaXJpbmdfdXJpKSxuZXcgRXJyb3IoYSl9aWYoIUFzKGkudXJpKSl7Y29uc3R7bWVzc2FnZTphfT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXIoKSB1cmk6ICR7aS51cml9YCk7dGhyb3cgcy5zZXRFcnJvcihZLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWNvbnN0IG89Z3QoaT8udXJpKTtpZighKChuPW8/LnJlbGF5KSE9bnVsbCYmbi5wcm90b2NvbCkpe2NvbnN0e21lc3NhZ2U6YX09bShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwicGFpcigpIHVyaSNyZWxheS1wcm90b2NvbFwiKTt0aHJvdyBzLnNldEVycm9yKFkubWFsZm9ybWVkX3BhaXJpbmdfdXJpKSxuZXcgRXJyb3IoYSl9aWYoIShvIT1udWxsJiZvLnN5bUtleSkpe2NvbnN0e21lc3NhZ2U6YX09bShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwicGFpcigpIHVyaSNzeW1LZXlcIik7dGhyb3cgcy5zZXRFcnJvcihZLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKG8hPW51bGwmJm8uZXhwaXJ5VGltZXN0YW1wJiZPKG8/LmV4cGlyeVRpbWVzdGFtcCk8RGF0ZS5ub3coKSl7cy5zZXRFcnJvcihZLnBhaXJpbmdfZXhwaXJlZCk7Y29uc3R7bWVzc2FnZTphfT1tKFwiRVhQSVJFRFwiLFwicGFpcigpIFVSSSBoYXMgZXhwaXJlZC4gUGxlYXNlIHRyeSBhZ2FpbiB3aXRoIGEgbmV3IGNvbm5lY3Rpb24gVVJJLlwiKTt0aHJvdyBuZXcgRXJyb3IoYSl9fSkscCh0aGlzLFwiaXNWYWxpZFBpbmdcIixhc3luYyBpPT57aWYoISRlKGkpKXtjb25zdHttZXNzYWdlOm59PW0oXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGluZygpIHBhcmFtczogJHtpfWApO3Rocm93IG5ldyBFcnJvcihuKX1jb25zdHt0b3BpYzpzfT1pO2F3YWl0IHRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyhzKX0pLHAodGhpcyxcImlzVmFsaWREaXNjb25uZWN0XCIsYXN5bmMgaT0+e2lmKCEkZShpKSl7Y29uc3R7bWVzc2FnZTpufT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGRpc2Nvbm5lY3QoKSBwYXJhbXM6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3R7dG9waWM6c309aTthd2FpdCB0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMocyl9KSxwKHRoaXMsXCJpc1ZhbGlkUGFpcmluZ1RvcGljXCIsYXN5bmMgaT0+e2lmKCF4cyhpLCExKSl7Y29uc3R7bWVzc2FnZTpzfT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXJpbmcgdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWlmKCF0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMoaSkpe2NvbnN0e21lc3NhZ2U6c309bShcIk5PX01BVENISU5HX0tFWVwiLGBwYWlyaW5nIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9aWYocHQodGhpcy5wYWlyaW5ncy5nZXQoaSkuZXhwaXJ5KSl7YXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKGkpO2NvbnN0e21lc3NhZ2U6c309bShcIkVYUElSRURcIixgcGFpcmluZyB0b3BpYzogJHtpfWApO3Rocm93IG5ldyBFcnJvcihzKX19KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKSx0aGlzLnBhaXJpbmdzPW5ldyB6aSh0aGlzLmNvcmUsdGhpcy5sb2dnZXIsdGhpcy5uYW1lLHRoaXMuc3RvcmFnZVByZWZpeCl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19cmVnaXN0ZXJSZWxheWVyRXZlbnRzKCl7dGhpcy5jb3JlLnJlbGF5ZXIub24oQy5tZXNzYWdlLGFzeW5jIGU9Pntjb25zdHt0b3BpYzp0LG1lc3NhZ2U6aSx0cmFuc3BvcnRUeXBlOnN9PWU7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHQpJiZzIT09US5saW5rX21vZGUmJiF0aGlzLmlnbm9yZWRQYXlsb2FkVHlwZXMuaW5jbHVkZXModGhpcy5jb3JlLmNyeXB0by5nZXRQYXlsb2FkVHlwZShpKSkpdHJ5e2NvbnN0IG49YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5kZWNvZGUodCxpKTtmdChuKT8odGhpcy5jb3JlLmhpc3Rvcnkuc2V0KHQsbiksYXdhaXQgdGhpcy5vblJlbGF5RXZlbnRSZXF1ZXN0KHt0b3BpYzp0LHBheWxvYWQ6bn0pKTpEdChuKSYmKGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LnJlc29sdmUobiksYXdhaXQgdGhpcy5vblJlbGF5RXZlbnRSZXNwb25zZSh7dG9waWM6dCxwYXlsb2FkOm59KSx0aGlzLmNvcmUuaGlzdG9yeS5kZWxldGUodCxuLmlkKSksYXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIubWVzc2FnZXMuYWNrKHQsaSl9Y2F0Y2gobil7dGhpcy5sb2dnZXIuZXJyb3Iobil9fSl9cmVnaXN0ZXJFeHBpcmVyRXZlbnRzKCl7dGhpcy5jb3JlLmV4cGlyZXIub24oTS5leHBpcmVkLGFzeW5jIGU9Pntjb25zdHt0b3BpYzp0fT1TcyhlLnRhcmdldCk7dCYmdGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHQpJiYoYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKHQsITApLHRoaXMuZXZlbnRzLmVtaXQoc2UuZXhwaXJlLHt0b3BpYzp0fSkpfSl9fXZhciBMbz1PYmplY3QuZGVmaW5lUHJvcGVydHksa289KHIsZSx0KT0+ZSBpbiByP0xvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxSPShyLGUsdCk9PmtvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3Mga2kgZXh0ZW5kcyBpc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxSKHRoaXMsXCJyZWNvcmRzXCIsbmV3IE1hcCksUih0aGlzLFwiZXZlbnRzXCIsbmV3IGVlKSxSKHRoaXMsXCJuYW1lXCIsQnQpLFIodGhpcyxcInZlcnNpb25cIixWdCksUih0aGlzLFwiY2FjaGVkXCIsW10pLFIodGhpcyxcImluaXRpYWxpemVkXCIsITEpLFIodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSxSKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLGF3YWl0IHRoaXMucmVzdG9yZSgpLHRoaXMuY2FjaGVkLmZvckVhY2goaT0+dGhpcy5yZWNvcmRzLnNldChpLmlkLGkpKSx0aGlzLmNhY2hlZD1bXSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLFIodGhpcyxcInNldFwiLChpLHMsbik9PntpZih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgSlNPTi1SUEMgcmVxdWVzdCBoaXN0b3J5IHJlY29yZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInNldFwiLHRvcGljOmkscmVxdWVzdDpzLGNoYWluSWQ6bn0pLHRoaXMucmVjb3Jkcy5oYXMocy5pZCkpcmV0dXJuO2NvbnN0IG89e2lkOnMuaWQsdG9waWM6aSxyZXF1ZXN0OnttZXRob2Q6cy5tZXRob2QscGFyYW1zOnMucGFyYW1zfHxudWxsfSxjaGFpbklkOm4sZXhwaXJ5OmNlKENlKX07dGhpcy5yZWNvcmRzLnNldChvLmlkLG8pLHRoaXMucGVyc2lzdCgpLHRoaXMuZXZlbnRzLmVtaXQoRi5jcmVhdGVkLG8pfSksUih0aGlzLFwicmVzb2x2ZVwiLGFzeW5jIGk9PntpZih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlVwZGF0aW5nIEpTT04tUlBDIHJlc3BvbnNlIGhpc3RvcnkgcmVjb3JkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwidXBkYXRlXCIscmVzcG9uc2U6aX0pLCF0aGlzLnJlY29yZHMuaGFzKGkuaWQpKXJldHVybjtjb25zdCBzPWF3YWl0IHRoaXMuZ2V0UmVjb3JkKGkuaWQpO3R5cGVvZiBzLnJlc3BvbnNlPlwidVwiJiYocy5yZXNwb25zZT1fdChpKT97ZXJyb3I6aS5lcnJvcn06e3Jlc3VsdDppLnJlc3VsdH0sdGhpcy5yZWNvcmRzLnNldChzLmlkLHMpLHRoaXMucGVyc2lzdCgpLHRoaXMuZXZlbnRzLmVtaXQoRi51cGRhdGVkLHMpKX0pLFIodGhpcyxcImdldFwiLGFzeW5jKGkscyk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIkdldHRpbmcgcmVjb3JkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZ2V0XCIsdG9waWM6aSxpZDpzfSksYXdhaXQgdGhpcy5nZXRSZWNvcmQocykpKSxSKHRoaXMsXCJkZWxldGVcIiwoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgcmVjb3JkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZGVsZXRlXCIsaWQ6c30pLHRoaXMudmFsdWVzLmZvckVhY2gobj0+e2lmKG4udG9waWM9PT1pKXtpZih0eXBlb2YgczxcInVcIiYmbi5pZCE9PXMpcmV0dXJuO3RoaXMucmVjb3Jkcy5kZWxldGUobi5pZCksdGhpcy5ldmVudHMuZW1pdChGLmRlbGV0ZWQsbil9fSksdGhpcy5wZXJzaXN0KCl9KSxSKHRoaXMsXCJleGlzdHNcIixhc3luYyhpLHMpPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5yZWNvcmRzLmhhcyhzKT8oYXdhaXQgdGhpcy5nZXRSZWNvcmQocykpLnRvcGljPT09aTohMSkpLFIodGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSksUih0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSksUih0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLFIodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBzaXplKCl7cmV0dXJuIHRoaXMucmVjb3Jkcy5zaXplfWdldCBrZXlzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yZWNvcmRzLmtleXMoKSl9Z2V0IHZhbHVlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMucmVjb3Jkcy52YWx1ZXMoKSl9Z2V0IHBlbmRpbmcoKXtjb25zdCBlPVtdO3JldHVybiB0aGlzLnZhbHVlcy5mb3JFYWNoKHQ9PntpZih0eXBlb2YgdC5yZXNwb25zZTxcInVcIilyZXR1cm47Y29uc3QgaT17dG9waWM6dC50b3BpYyxyZXF1ZXN0Ond0KHQucmVxdWVzdC5tZXRob2QsdC5yZXF1ZXN0LnBhcmFtcyx0LmlkKSxjaGFpbklkOnQuY2hhaW5JZH07cmV0dXJuIGUucHVzaChpKX0pLGV9YXN5bmMgc2V0SnNvblJwY1JlY29yZHMoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksZSl9YXN5bmMgZ2V0SnNvblJwY1JlY29yZHMoKXtyZXR1cm4gYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfWdldFJlY29yZChlKXt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCB0PXRoaXMucmVjb3Jkcy5nZXQoZSk7aWYoIXQpe2NvbnN0e21lc3NhZ2U6aX09bShcIk5PX01BVENISU5HX0tFWVwiLGAke3RoaXMubmFtZX06ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9cmV0dXJuIHR9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0SnNvblJwY1JlY29yZHModGhpcy52YWx1ZXMpLHRoaXMuZXZlbnRzLmVtaXQoRi5zeW5jKX1hc3luYyByZXN0b3JlKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5nZXRKc29uUnBjUmVjb3JkcygpO2lmKHR5cGVvZiBlPlwidVwifHwhZS5sZW5ndGgpcmV0dXJuO2lmKHRoaXMucmVjb3Jkcy5zaXplKXtjb25zdHttZXNzYWdlOnR9PW0oXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIix0aGlzLm5hbWUpO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLG5ldyBFcnJvcih0KX10aGlzLmNhY2hlZD1lLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJyZXN0b3JlXCIscmVjb3Jkczp0aGlzLnZhbHVlc30pfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihlKX19cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe3RoaXMuZXZlbnRzLm9uKEYuY3JlYXRlZCxlPT57Y29uc3QgdD1GLmNyZWF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LHJlY29yZDplfSl9KSx0aGlzLmV2ZW50cy5vbihGLnVwZGF0ZWQsZT0+e2NvbnN0IHQ9Ri51cGRhdGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxyZWNvcmQ6ZX0pfSksdGhpcy5ldmVudHMub24oRi5kZWxldGVkLGU9Pntjb25zdCB0PUYuZGVsZXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQscmVjb3JkOmV9KX0pLHRoaXMuY29yZS5oZWFydGJlYXQub24obmUucHVsc2UsKCk9Pnt0aGlzLmNsZWFudXAoKX0pfWNsZWFudXAoKXt0cnl7dGhpcy5pc0luaXRpYWxpemVkKCk7bGV0IGU9ITE7dGhpcy5yZWNvcmRzLmZvckVhY2godD0+e08odC5leHBpcnl8fDApLURhdGUubm93KCk8PTAmJih0aGlzLmxvZ2dlci5pbmZvKGBEZWxldGluZyBleHBpcmVkIGhpc3RvcnkgbG9nOiAke3QuaWR9YCksdGhpcy5yZWNvcmRzLmRlbGV0ZSh0LmlkKSx0aGlzLmV2ZW50cy5lbWl0KEYuZGVsZXRlZCx0LCExKSxlPSEwKX0pLGUmJnRoaXMucGVyc2lzdCgpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLndhcm4oZSl9fWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgam89T2JqZWN0LmRlZmluZVByb3BlcnR5LFVvPShyLGUsdCk9PmUgaW4gcj9qbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsQT0ocixlLHQpPT5VbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIGppIGV4dGVuZHMgc3N7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsQSh0aGlzLFwiZXhwaXJhdGlvbnNcIixuZXcgTWFwKSxBKHRoaXMsXCJldmVudHNcIixuZXcgZWUpLEEodGhpcyxcIm5hbWVcIixxdCksQSh0aGlzLFwidmVyc2lvblwiLEd0KSxBKHRoaXMsXCJjYWNoZWRcIixbXSksQSh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksQSh0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLEEodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5yZXN0b3JlKCksdGhpcy5jYWNoZWQuZm9yRWFjaChpPT50aGlzLmV4cGlyYXRpb25zLnNldChpLnRhcmdldCxpKSksdGhpcy5jYWNoZWQ9W10sdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksdGhpcy5pbml0aWFsaXplZD0hMCl9KSxBKHRoaXMsXCJoYXNcIixpPT57dHJ5e2NvbnN0IHM9dGhpcy5mb3JtYXRUYXJnZXQoaSk7cmV0dXJuIHR5cGVvZiB0aGlzLmdldEV4cGlyYXRpb24ocyk8XCJ1XCJ9Y2F0Y2h7cmV0dXJuITF9fSksQSh0aGlzLFwic2V0XCIsKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBuPXRoaXMuZm9ybWF0VGFyZ2V0KGkpLG89e3RhcmdldDpuLGV4cGlyeTpzfTt0aGlzLmV4cGlyYXRpb25zLnNldChuLG8pLHRoaXMuY2hlY2tFeHBpcnkobixvKSx0aGlzLmV2ZW50cy5lbWl0KE0uY3JlYXRlZCx7dGFyZ2V0Om4sZXhwaXJhdGlvbjpvfSl9KSxBKHRoaXMsXCJnZXRcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz10aGlzLmZvcm1hdFRhcmdldChpKTtyZXR1cm4gdGhpcy5nZXRFeHBpcmF0aW9uKHMpfSksQSh0aGlzLFwiZGVsXCIsaT0+e2lmKHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMuaGFzKGkpKXtjb25zdCBzPXRoaXMuZm9ybWF0VGFyZ2V0KGkpLG49dGhpcy5nZXRFeHBpcmF0aW9uKHMpO3RoaXMuZXhwaXJhdGlvbnMuZGVsZXRlKHMpLHRoaXMuZXZlbnRzLmVtaXQoTS5kZWxldGVkLHt0YXJnZXQ6cyxleHBpcmF0aW9uOm59KX19KSxBKHRoaXMsXCJvblwiLChpLHMpPT57dGhpcy5ldmVudHMub24oaSxzKX0pLEEodGhpcyxcIm9uY2VcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uY2UoaSxzKX0pLEEodGhpcyxcIm9mZlwiLChpLHMpPT57dGhpcy5ldmVudHMub2ZmKGkscyl9KSxBKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChpLHMpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSxzKX0pLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpfWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuZXhwaXJhdGlvbnMuc2l6ZX1nZXQga2V5cygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuZXhwaXJhdGlvbnMua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5leHBpcmF0aW9ucy52YWx1ZXMoKSl9Zm9ybWF0VGFyZ2V0KGUpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXJldHVybiBOcyhlKTtpZih0eXBlb2YgZT09XCJudW1iZXJcIilyZXR1cm4gJHMoZSk7Y29uc3R7bWVzc2FnZTp0fT1tKFwiVU5LTk9XTl9UWVBFXCIsYFRhcmdldCB0eXBlOiAke3R5cGVvZiBlfWApO3Rocm93IG5ldyBFcnJvcih0KX1hc3luYyBzZXRFeHBpcmF0aW9ucyhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXRFeHBpcmF0aW9ucygpe3JldHVybiBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0RXhwaXJhdGlvbnModGhpcy52YWx1ZXMpLHRoaXMuZXZlbnRzLmVtaXQoTS5zeW5jKX1hc3luYyByZXN0b3JlKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5nZXRFeHBpcmF0aW9ucygpO2lmKHR5cGVvZiBlPlwidVwifHwhZS5sZW5ndGgpcmV0dXJuO2lmKHRoaXMuZXhwaXJhdGlvbnMuc2l6ZSl7Y29uc3R7bWVzc2FnZTp0fT1tKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIGV4cGlyYXRpb25zIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixleHBpcmF0aW9uczp0aGlzLnZhbHVlc30pfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSBleHBpcmF0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fWdldEV4cGlyYXRpb24oZSl7Y29uc3QgdD10aGlzLmV4cGlyYXRpb25zLmdldChlKTtpZighdCl7Y29uc3R7bWVzc2FnZTppfT1tKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IHRoaXMubG9nZ2VyLndhcm4oaSksbmV3IEVycm9yKGkpfXJldHVybiB0fWNoZWNrRXhwaXJ5KGUsdCl7Y29uc3R7ZXhwaXJ5Oml9PXQ7TyhpKS1EYXRlLm5vdygpPD0wJiZ0aGlzLmV4cGlyZShlLHQpfWV4cGlyZShlLHQpe3RoaXMuZXhwaXJhdGlvbnMuZGVsZXRlKGUpLHRoaXMuZXZlbnRzLmVtaXQoTS5leHBpcmVkLHt0YXJnZXQ6ZSxleHBpcmF0aW9uOnR9KX1jaGVja0V4cGlyYXRpb25zKCl7dGhpcy5jb3JlLnJlbGF5ZXIuY29ubmVjdGVkJiZ0aGlzLmV4cGlyYXRpb25zLmZvckVhY2goKGUsdCk9PnRoaXMuY2hlY2tFeHBpcnkodCxlKSl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe3RoaXMuY29yZS5oZWFydGJlYXQub24obmUucHVsc2UsKCk9PnRoaXMuY2hlY2tFeHBpcmF0aW9ucygpKSx0aGlzLmV2ZW50cy5vbihNLmNyZWF0ZWQsZT0+e2NvbnN0IHQ9TS5jcmVhdGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxkYXRhOmV9KSx0aGlzLnBlcnNpc3QoKX0pLHRoaXMuZXZlbnRzLm9uKE0uZXhwaXJlZCxlPT57Y29uc3QgdD1NLmV4cGlyZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LGRhdGE6ZX0pLHRoaXMucGVyc2lzdCgpfSksdGhpcy5ldmVudHMub24oTS5kZWxldGVkLGU9Pntjb25zdCB0PU0uZGVsZXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQsZGF0YTplfSksdGhpcy5wZXJzaXN0KCl9KX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIEZvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxNbz0ocixlLHQpPT5lIGluIHI/Rm8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LHc9KHIsZSx0KT0+TW8ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBVaSBleHRlbmRzIHJze2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLHQsaSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCx0aGlzLnN0b3JlPWksdyh0aGlzLFwibmFtZVwiLFd0KSx3KHRoaXMsXCJhYm9ydENvbnRyb2xsZXJcIiksdyh0aGlzLFwiaXNEZXZFbnZcIiksdyh0aGlzLFwidmVyaWZ5VXJsVjNcIixZdCksdyh0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLHcodGhpcyxcInZlcnNpb25cIixMZSksdyh0aGlzLFwicHVibGljS2V5XCIpLHcodGhpcyxcImZldGNoUHJvbWlzZVwiKSx3KHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3ZhciBzO3RoaXMuaXNEZXZFbnZ8fCh0aGlzLnB1YmxpY0tleT1hd2FpdCB0aGlzLnN0b3JlLmdldEl0ZW0odGhpcy5zdG9yZUtleSksdGhpcy5wdWJsaWNLZXkmJk8oKHM9dGhpcy5wdWJsaWNLZXkpPT1udWxsP3ZvaWQgMDpzLmV4cGlyZXNBdCk8RGF0ZS5ub3coKSYmKHRoaXMubG9nZ2VyLmRlYnVnKFwidmVyaWZ5IHYyIHB1YmxpYyBrZXkgZXhwaXJlZFwiKSxhd2FpdCB0aGlzLnJlbW92ZVB1YmxpY0tleSgpKSl9KSx3KHRoaXMsXCJyZWdpc3RlclwiLGFzeW5jIHM9PntpZighenMoKXx8dGhpcy5pc0RldkVudilyZXR1cm47Y29uc3Qgbj13aW5kb3cubG9jYXRpb24ub3JpZ2luLHtpZDpvLGRlY3J5cHRlZElkOmF9PXMsYz1gJHt0aGlzLnZlcmlmeVVybFYzfS9hdHRlc3RhdGlvbj9wcm9qZWN0SWQ9JHt0aGlzLmNvcmUucHJvamVjdElkfSZvcmlnaW49JHtufSZpZD0ke299JmRlY3J5cHRlZElkPSR7YX1gO3RyeXtjb25zdCBoPVZzKCksbD10aGlzLnN0YXJ0QWJvcnRUaW1lcihaKjUpLGQ9YXdhaXQgbmV3IFByb21pc2UoKGcsXyk9Pntjb25zdCB1PSgpPT57d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIseCksaC5ib2R5LnJlbW92ZUNoaWxkKGIpLF8oXCJhdHRlc3RhdGlvbiBhYm9ydGVkXCIpfTt0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdSk7Y29uc3QgYj1oLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7Yi5zcmM9YyxiLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsYi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIix1LHtzaWduYWw6dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsfSk7Y29uc3QgeD1JPT57aWYoSS5kYXRhJiZ0eXBlb2YgSS5kYXRhPT1cInN0cmluZ1wiKXRyeXtjb25zdCBEPUpTT04ucGFyc2UoSS5kYXRhKTtpZihELnR5cGU9PT1cInZlcmlmeV9hdHRlc3RhdGlvblwiKXtpZihydChELmF0dGVzdGF0aW9uKS5wYXlsb2FkLmlkIT09bylyZXR1cm47Y2xlYXJJbnRlcnZhbChsKSxoLmJvZHkucmVtb3ZlQ2hpbGQoYiksdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHUpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHgpLGcoRC5hdHRlc3RhdGlvbj09PW51bGw/XCJcIjpELmF0dGVzdGF0aW9uKX19Y2F0Y2goRCl7dGhpcy5sb2dnZXIud2FybihEKX19O2guYm9keS5hcHBlbmRDaGlsZChiKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix4LHtzaWduYWw6dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsfSl9KTtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJqd3QgYXR0ZXN0YXRpb25cIixkKSxkfWNhdGNoKGgpe3RoaXMubG9nZ2VyLndhcm4oaCl9cmV0dXJuXCJcIn0pLHcodGhpcyxcInJlc29sdmVcIixhc3luYyBzPT57aWYodGhpcy5pc0RldkVudilyZXR1cm5cIlwiO2NvbnN0e2F0dGVzdGF0aW9uSWQ6bixoYXNoOm8sZW5jcnlwdGVkSWQ6YX09cztpZihuPT09XCJcIil7dGhpcy5sb2dnZXIuZGVidWcoXCJyZXNvbHZlOiBhdHRlc3RhdGlvbklkIGlzIGVtcHR5LCBza2lwcGluZ1wiKTtyZXR1cm59aWYobil7aWYocnQobikucGF5bG9hZC5pZCE9PWEpcmV0dXJuO2NvbnN0IGg9YXdhaXQgdGhpcy5pc1ZhbGlkSnd0QXR0ZXN0YXRpb24obik7aWYoaCl7aWYoIWguaXNWZXJpZmllZCl7dGhpcy5sb2dnZXIud2FybihcInJlc29sdmU6IGp3dCBhdHRlc3RhdGlvbjogb3JpZ2luIHVybCBub3QgdmVyaWZpZWRcIik7cmV0dXJufXJldHVybiBofX1pZighbylyZXR1cm47Y29uc3QgYz10aGlzLmdldFZlcmlmeVVybChzPy52ZXJpZnlVcmwpO3JldHVybiB0aGlzLmZldGNoQXR0ZXN0YXRpb24obyxjKX0pLHcodGhpcyxcImZldGNoQXR0ZXN0YXRpb25cIixhc3luYyhzLG4pPT57dGhpcy5sb2dnZXIuZGVidWcoYHJlc29sdmluZyBhdHRlc3RhdGlvbjogJHtzfSBmcm9tIHVybDogJHtufWApO2NvbnN0IG89dGhpcy5zdGFydEFib3J0VGltZXIoWio1KSxhPWF3YWl0IGZldGNoKGAke259L2F0dGVzdGF0aW9uLyR7c30/djJTdXBwb3J0ZWQ9dHJ1ZWAse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KTtyZXR1cm4gY2xlYXJUaW1lb3V0KG8pLGEuc3RhdHVzPT09MjAwP2F3YWl0IGEuanNvbigpOnZvaWQgMH0pLHcodGhpcyxcImdldFZlcmlmeVVybFwiLHM9PntsZXQgbj1zfHx1ZTtyZXR1cm4gSnQuaW5jbHVkZXMobil8fCh0aGlzLmxvZ2dlci5pbmZvKGB2ZXJpZnkgdXJsOiAke259LCBub3QgaW5jbHVkZWQgaW4gdHJ1c3RlZCBsaXN0LCBhc3NpZ25pbmcgZGVmYXVsdDogJHt1ZX1gKSxuPXVlKSxufSksdyh0aGlzLFwiZmV0Y2hQdWJsaWNLZXlcIixhc3luYygpPT57dHJ5e3RoaXMubG9nZ2VyLmRlYnVnKGBmZXRjaGluZyBwdWJsaWMga2V5IGZyb206ICR7dGhpcy52ZXJpZnlVcmxWM31gKTtjb25zdCBzPXRoaXMuc3RhcnRBYm9ydFRpbWVyKFBlKSxuPWF3YWl0IGZldGNoKGAke3RoaXMudmVyaWZ5VXJsVjN9L3B1YmxpYy1rZXlgLHtzaWduYWw6dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsfSk7cmV0dXJuIGNsZWFyVGltZW91dChzKSxhd2FpdCBuLmpzb24oKX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMpfX0pLHcodGhpcyxcInBlcnNpc3RQdWJsaWNLZXlcIixhc3luYyBzPT57dGhpcy5sb2dnZXIuZGVidWcoXCJwZXJzaXN0aW5nIHB1YmxpYyBrZXkgdG8gbG9jYWwgc3RvcmFnZVwiLHMpLGF3YWl0IHRoaXMuc3RvcmUuc2V0SXRlbSh0aGlzLnN0b3JlS2V5LHMpLHRoaXMucHVibGljS2V5PXN9KSx3KHRoaXMsXCJyZW1vdmVQdWJsaWNLZXlcIixhc3luYygpPT57dGhpcy5sb2dnZXIuZGVidWcoXCJyZW1vdmluZyB2ZXJpZnkgdjIgcHVibGljIGtleSBmcm9tIHN0b3JhZ2VcIiksYXdhaXQgdGhpcy5zdG9yZS5yZW1vdmVJdGVtKHRoaXMuc3RvcmVLZXkpLHRoaXMucHVibGljS2V5PXZvaWQgMH0pLHcodGhpcyxcImlzVmFsaWRKd3RBdHRlc3RhdGlvblwiLGFzeW5jIHM9Pntjb25zdCBuPWF3YWl0IHRoaXMuZ2V0UHVibGljS2V5KCk7dHJ5e2lmKG4pcmV0dXJuIHRoaXMudmFsaWRhdGVBdHRlc3RhdGlvbihzLG4pfWNhdGNoKGEpe3RoaXMubG9nZ2VyLmVycm9yKGEpLHRoaXMubG9nZ2VyLndhcm4oXCJlcnJvciB2YWxpZGF0aW5nIGF0dGVzdGF0aW9uXCIpfWNvbnN0IG89YXdhaXQgdGhpcy5mZXRjaEFuZFBlcnNpc3RQdWJsaWNLZXkoKTt0cnl7aWYobylyZXR1cm4gdGhpcy52YWxpZGF0ZUF0dGVzdGF0aW9uKHMsbyl9Y2F0Y2goYSl7dGhpcy5sb2dnZXIuZXJyb3IoYSksdGhpcy5sb2dnZXIud2FybihcImVycm9yIHZhbGlkYXRpbmcgYXR0ZXN0YXRpb25cIil9fSksdyh0aGlzLFwiZ2V0UHVibGljS2V5XCIsYXN5bmMoKT0+dGhpcy5wdWJsaWNLZXk/dGhpcy5wdWJsaWNLZXk6YXdhaXQgdGhpcy5mZXRjaEFuZFBlcnNpc3RQdWJsaWNLZXkoKSksdyh0aGlzLFwiZmV0Y2hBbmRQZXJzaXN0UHVibGljS2V5XCIsYXN5bmMoKT0+e2lmKHRoaXMuZmV0Y2hQcm9taXNlKXJldHVybiBhd2FpdCB0aGlzLmZldGNoUHJvbWlzZSx0aGlzLnB1YmxpY0tleTt0aGlzLmZldGNoUHJvbWlzZT1uZXcgUHJvbWlzZShhc3luYyBuPT57Y29uc3Qgbz1hd2FpdCB0aGlzLmZldGNoUHVibGljS2V5KCk7byYmKGF3YWl0IHRoaXMucGVyc2lzdFB1YmxpY0tleShvKSxuKG8pKX0pO2NvbnN0IHM9YXdhaXQgdGhpcy5mZXRjaFByb21pc2U7cmV0dXJuIHRoaXMuZmV0Y2hQcm9taXNlPXZvaWQgMCxzfSksdyh0aGlzLFwidmFsaWRhdGVBdHRlc3RhdGlvblwiLChzLG4pPT57Y29uc3Qgbz1McyhzLG4ucHVibGljS2V5KSxhPXtoYXNFeHBpcmVkOk8oby5leHApPERhdGUubm93KCkscGF5bG9hZDpvfTtpZihhLmhhc0V4cGlyZWQpdGhyb3cgdGhpcy5sb2dnZXIud2FybihcInJlc29sdmU6IGp3dCBhdHRlc3RhdGlvbiBleHBpcmVkXCIpLG5ldyBFcnJvcihcIkpXVCBhdHRlc3RhdGlvbiBleHBpcmVkXCIpO3JldHVybntvcmlnaW46YS5wYXlsb2FkLm9yaWdpbixpc1NjYW06YS5wYXlsb2FkLmlzU2NhbSxpc1ZlcmlmaWVkOmEucGF5bG9hZC5pc1ZlcmlmaWVkfX0pLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpLHRoaXMuYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5pc0RldkVudj15dCgpLHRoaXMuaW5pdCgpfWdldCBzdG9yZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy92ZXJpZnk6cHVibGljOmtleVwifWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfXN0YXJ0QWJvcnRUaW1lcihlKXtyZXR1cm4gdGhpcy5hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcixzZXRUaW1lb3V0KCgpPT50aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpLE8oZSkpfX12YXIgS289T2JqZWN0LmRlZmluZVByb3BlcnR5LEJvPShyLGUsdCk9PmUgaW4gcj9LbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsRmk9KHIsZSx0KT0+Qm8ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBNaSBleHRlbmRzIG5ze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnByb2plY3RJZD1lLHRoaXMubG9nZ2VyPXQsRmkodGhpcyxcImNvbnRleHRcIixYdCksRmkodGhpcyxcInJlZ2lzdGVyRGV2aWNlVG9rZW5cIixhc3luYyBpPT57Y29uc3R7Y2xpZW50SWQ6cyx0b2tlbjpuLG5vdGlmaWNhdGlvblR5cGU6byxlbmFibGVFbmNyeXB0ZWQ6YT0hMX09aSxjPWAke1p0fS8ke3RoaXMucHJvamVjdElkfS9jbGllbnRzYDthd2FpdCBmZXRjaChjLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7Y2xpZW50X2lkOnMsdHlwZTpvLHRva2VuOm4sYWx3YXlzX3JhdzphfSl9KX0pLHRoaXMubG9nZ2VyPU4odCx0aGlzLmNvbnRleHQpfX12YXIgVm89T2JqZWN0LmRlZmluZVByb3BlcnR5LEtpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMscW89T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxHbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFplPShyLGUsdCk9PmUgaW4gcj9WbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsYmU9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKXFvLmNhbGwoZSx0KSYmWmUocix0LGVbdF0pO2lmKEtpKWZvcih2YXIgdCBvZiBLaShlKSlHby5jYWxsKGUsdCkmJlplKHIsdCxlW3RdKTtyZXR1cm4gcn0sRT0ocixlLHQpPT5aZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIEJpIGV4dGVuZHMgb3N7Y29uc3RydWN0b3IoZSx0LGk9ITApe3N1cGVyKGUsdCxpKSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LEUodGhpcyxcImNvbnRleHRcIixlaSksRSh0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLEUodGhpcyxcInN0b3JhZ2VWZXJzaW9uXCIsUXQpLEUodGhpcyxcImV2ZW50c1wiLG5ldyBNYXApLEUodGhpcyxcInNob3VsZFBlcnNpc3RcIiwhMSksRSh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9PntpZigheXQoKSl0cnl7Y29uc3Qgcz17ZXZlbnRJZDpidCgpLHRpbWVzdGFtcDpEYXRlLm5vdygpLGRvbWFpbjp0aGlzLmdldEFwcERvbWFpbigpLHByb3BzOntldmVudDpcIklOSVRcIix0eXBlOlwiXCIscHJvcGVydGllczp7Y2xpZW50X2lkOmF3YWl0IHRoaXMuY29yZS5jcnlwdG8uZ2V0Q2xpZW50SWQoKSx1c2VyX2FnZW50OmtzKHRoaXMuY29yZS5yZWxheWVyLnByb3RvY29sLHRoaXMuY29yZS5yZWxheWVyLnZlcnNpb24sX2UpfX19O2F3YWl0IHRoaXMuc2VuZEV2ZW50KFtzXSl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzKX19KSxFKHRoaXMsXCJjcmVhdGVFdmVudFwiLHM9Pntjb25zdHtldmVudDpuPVwiRVJST1JcIix0eXBlOm89XCJcIixwcm9wZXJ0aWVzOnt0b3BpYzphLHRyYWNlOmN9fT1zLGg9YnQoKSxsPXRoaXMuY29yZS5wcm9qZWN0SWR8fFwiXCIsZD1EYXRlLm5vdygpLGc9YmUoe2V2ZW50SWQ6aCx0aW1lc3RhbXA6ZCxwcm9wczp7ZXZlbnQ6bix0eXBlOm8scHJvcGVydGllczp7dG9waWM6YSx0cmFjZTpjfX0sYnVuZGxlSWQ6bCxkb21haW46dGhpcy5nZXRBcHBEb21haW4oKX0sdGhpcy5zZXRNZXRob2RzKGgpKTtyZXR1cm4gdGhpcy50ZWxlbWV0cnlFbmFibGVkJiYodGhpcy5ldmVudHMuc2V0KGgsZyksdGhpcy5zaG91bGRQZXJzaXN0PSEwKSxnfSksRSh0aGlzLFwiZ2V0RXZlbnRcIixzPT57Y29uc3R7ZXZlbnRJZDpuLHRvcGljOm99PXM7aWYobilyZXR1cm4gdGhpcy5ldmVudHMuZ2V0KG4pO2NvbnN0IGE9QXJyYXkuZnJvbSh0aGlzLmV2ZW50cy52YWx1ZXMoKSkuZmluZChjPT5jLnByb3BzLnByb3BlcnRpZXMudG9waWM9PT1vKTtpZihhKXJldHVybiBiZShiZSh7fSxhKSx0aGlzLnNldE1ldGhvZHMoYS5ldmVudElkKSl9KSxFKHRoaXMsXCJkZWxldGVFdmVudFwiLHM9Pntjb25zdHtldmVudElkOm59PXM7dGhpcy5ldmVudHMuZGVsZXRlKG4pLHRoaXMuc2hvdWxkUGVyc2lzdD0hMH0pLEUodGhpcyxcInNldEV2ZW50TGlzdGVuZXJzXCIsKCk9Pnt0aGlzLmNvcmUuaGVhcnRiZWF0Lm9uKG5lLnB1bHNlLGFzeW5jKCk9Pnt0aGlzLnNob3VsZFBlcnNpc3QmJmF3YWl0IHRoaXMucGVyc2lzdCgpLHRoaXMuZXZlbnRzLmZvckVhY2gocz0+e2l0KERhdGUubm93KCkpLWl0KHMudGltZXN0YW1wKT50aSYmKHRoaXMuZXZlbnRzLmRlbGV0ZShzLmV2ZW50SWQpLHRoaXMuc2hvdWxkUGVyc2lzdD0hMCl9KX0pfSksRSh0aGlzLFwic2V0TWV0aG9kc1wiLHM9Pih7YWRkVHJhY2U6bj0+dGhpcy5hZGRUcmFjZShzLG4pLHNldEVycm9yOm49PnRoaXMuc2V0RXJyb3IocyxuKX0pKSxFKHRoaXMsXCJhZGRUcmFjZVwiLChzLG4pPT57Y29uc3Qgbz10aGlzLmV2ZW50cy5nZXQocyk7byYmKG8ucHJvcHMucHJvcGVydGllcy50cmFjZS5wdXNoKG4pLHRoaXMuZXZlbnRzLnNldChzLG8pLHRoaXMuc2hvdWxkUGVyc2lzdD0hMCl9KSxFKHRoaXMsXCJzZXRFcnJvclwiLChzLG4pPT57Y29uc3Qgbz10aGlzLmV2ZW50cy5nZXQocyk7byYmKG8ucHJvcHMudHlwZT1uLG8udGltZXN0YW1wPURhdGUubm93KCksdGhpcy5ldmVudHMuc2V0KHMsbyksdGhpcy5zaG91bGRQZXJzaXN0PSEwKX0pLEUodGhpcyxcInBlcnNpc3RcIixhc3luYygpPT57YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksQXJyYXkuZnJvbSh0aGlzLmV2ZW50cy52YWx1ZXMoKSkpLHRoaXMuc2hvdWxkUGVyc2lzdD0hMX0pLEUodGhpcyxcInJlc3RvcmVcIixhc3luYygpPT57dHJ5e2NvbnN0IHM9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfHxbXTtpZighcy5sZW5ndGgpcmV0dXJuO3MuZm9yRWFjaChuPT57dGhpcy5ldmVudHMuc2V0KG4uZXZlbnRJZCxiZShiZSh7fSxuKSx0aGlzLnNldE1ldGhvZHMobi5ldmVudElkKSkpfSl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzKX19KSxFKHRoaXMsXCJzdWJtaXRcIixhc3luYygpPT57aWYoIXRoaXMudGVsZW1ldHJ5RW5hYmxlZHx8dGhpcy5ldmVudHMuc2l6ZT09PTApcmV0dXJuO2NvbnN0IHM9W107Zm9yKGNvbnN0W24sb11vZiB0aGlzLmV2ZW50cylvLnByb3BzLnR5cGUmJnMucHVzaChvKTtpZihzLmxlbmd0aCE9PTApdHJ5e2lmKChhd2FpdCB0aGlzLnNlbmRFdmVudChzKSkub2spZm9yKGNvbnN0IG4gb2Ygcyl0aGlzLmV2ZW50cy5kZWxldGUobi5ldmVudElkKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITB9Y2F0Y2gobil7dGhpcy5sb2dnZXIud2FybihuKX19KSxFKHRoaXMsXCJzZW5kRXZlbnRcIixhc3luYyBzPT57Y29uc3Qgbj10aGlzLmdldEFwcERvbWFpbigpP1wiXCI6XCImc3A9ZGVza3RvcFwiO3JldHVybiBhd2FpdCBmZXRjaChgJHtpaX0/cHJvamVjdElkPSR7dGhpcy5jb3JlLnByb2plY3RJZH0mc3Q9ZXZlbnRzX3NkayZzdj1qcy0ke19lfSR7bn1gLHttZXRob2Q6XCJQT1NUXCIsYm9keTpKU09OLnN0cmluZ2lmeShzKX0pfSksRSh0aGlzLFwiZ2V0QXBwRG9tYWluXCIsKCk9PmpzKCkudXJsKSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5jb250ZXh0KSx0aGlzLnRlbGVtZXRyeUVuYWJsZWQ9aSxpP3RoaXMucmVzdG9yZSgpLnRoZW4oYXN5bmMoKT0+e2F3YWl0IHRoaXMuc3VibWl0KCksdGhpcy5zZXRFdmVudExpc3RlbmVycygpfSk6dGhpcy5wZXJzaXN0KCl9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMuc3RvcmFnZVZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMuY29udGV4dH19dmFyIFdvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxWaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLEhvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWW89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxRZT0ocixlLHQpPT5lIGluIHI/V28ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LHFpPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlIby5jYWxsKGUsdCkmJlFlKHIsdCxlW3RdKTtpZihWaSlmb3IodmFyIHQgb2YgVmkoZSkpWW8uY2FsbChlLHQpJiZRZShyLHQsZVt0XSk7cmV0dXJuIHJ9LHY9KHIsZSx0KT0+UWUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBUZSBleHRlbmRzIGFze2NvbnN0cnVjdG9yKGUpe3ZhciB0O3N1cGVyKGUpLHYodGhpcyxcInByb3RvY29sXCIsemUpLHYodGhpcyxcInZlcnNpb25cIixMZSksdih0aGlzLFwibmFtZVwiLGhlKSx2KHRoaXMsXCJyZWxheVVybFwiKSx2KHRoaXMsXCJwcm9qZWN0SWRcIiksdih0aGlzLFwiY3VzdG9tU3RvcmFnZVByZWZpeFwiKSx2KHRoaXMsXCJldmVudHNcIixuZXcgZWUpLHYodGhpcyxcImxvZ2dlclwiKSx2KHRoaXMsXCJoZWFydGJlYXRcIiksdih0aGlzLFwicmVsYXllclwiKSx2KHRoaXMsXCJjcnlwdG9cIiksdih0aGlzLFwic3RvcmFnZVwiKSx2KHRoaXMsXCJoaXN0b3J5XCIpLHYodGhpcyxcImV4cGlyZXJcIiksdih0aGlzLFwicGFpcmluZ1wiKSx2KHRoaXMsXCJ2ZXJpZnlcIiksdih0aGlzLFwiZWNob0NsaWVudFwiKSx2KHRoaXMsXCJsaW5rTW9kZVN1cHBvcnRlZEFwcHNcIiksdih0aGlzLFwiZXZlbnRDbGllbnRcIiksdih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksdih0aGlzLFwibG9nQ2h1bmtDb250cm9sbGVyXCIpLHYodGhpcyxcIm9uXCIsKGEsYyk9PnRoaXMuZXZlbnRzLm9uKGEsYykpLHYodGhpcyxcIm9uY2VcIiwoYSxjKT0+dGhpcy5ldmVudHMub25jZShhLGMpKSx2KHRoaXMsXCJvZmZcIiwoYSxjKT0+dGhpcy5ldmVudHMub2ZmKGEsYykpLHYodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGEsYyk9PnRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGEsYykpLHYodGhpcyxcImRpc3BhdGNoRW52ZWxvcGVcIiwoe3RvcGljOmEsbWVzc2FnZTpjLHNlc3Npb25FeGlzdHM6aH0pPT57aWYoIWF8fCFjKXJldHVybjtjb25zdCBsPXt0b3BpYzphLG1lc3NhZ2U6YyxwdWJsaXNoZWRBdDpEYXRlLm5vdygpLHRyYW5zcG9ydFR5cGU6US5saW5rX21vZGV9O3RoaXMucmVsYXllci5vbkxpbmtNZXNzYWdlRXZlbnQobCx7c2Vzc2lvbkV4aXN0czpofSl9KTtjb25zdCBpPXRoaXMuZ2V0R2xvYmFsQ29yZShlPy5jdXN0b21TdG9yYWdlUHJlZml4KTtpZihpKXRyeXtyZXR1cm4gdGhpcy5jdXN0b21TdG9yYWdlUHJlZml4PWkuY3VzdG9tU3RvcmFnZVByZWZpeCx0aGlzLmxvZ2dlcj1pLmxvZ2dlcix0aGlzLmhlYXJ0YmVhdD1pLmhlYXJ0YmVhdCx0aGlzLmNyeXB0bz1pLmNyeXB0byx0aGlzLmhpc3Rvcnk9aS5oaXN0b3J5LHRoaXMuZXhwaXJlcj1pLmV4cGlyZXIsdGhpcy5zdG9yYWdlPWkuc3RvcmFnZSx0aGlzLnJlbGF5ZXI9aS5yZWxheWVyLHRoaXMucGFpcmluZz1pLnBhaXJpbmcsdGhpcy52ZXJpZnk9aS52ZXJpZnksdGhpcy5lY2hvQ2xpZW50PWkuZWNob0NsaWVudCx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1pLmxpbmtNb2RlU3VwcG9ydGVkQXBwcyx0aGlzLmV2ZW50Q2xpZW50PWkuZXZlbnRDbGllbnQsdGhpcy5pbml0aWFsaXplZD1pLmluaXRpYWxpemVkLHRoaXMubG9nQ2h1bmtDb250cm9sbGVyPWkubG9nQ2h1bmtDb250cm9sbGVyLGl9Y2F0Y2goYSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNvcHkgZ2xvYmFsIGNvcmVcIixhKX10aGlzLnByb2plY3RJZD1lPy5wcm9qZWN0SWQsdGhpcy5yZWxheVVybD1lPy5yZWxheVVybHx8VWUsdGhpcy5jdXN0b21TdG9yYWdlUHJlZml4PWUhPW51bGwmJmUuY3VzdG9tU3RvcmFnZVByZWZpeD9gOiR7ZS5jdXN0b21TdG9yYWdlUHJlZml4fWA6XCJcIjtjb25zdCBzPWV0KHtsZXZlbDp0eXBlb2YgZT8ubG9nZ2VyPT1cInN0cmluZ1wiJiZlLmxvZ2dlcj9lLmxvZ2dlcjpFdC5sb2dnZXIsbmFtZTpoZX0pLHtsb2dnZXI6bixjaHVua0xvZ2dlckNvbnRyb2xsZXI6b309Smkoe29wdHM6cyxtYXhTaXplSW5CeXRlczplPy5tYXhMb2dCbG9iU2l6ZUluQnl0ZXMsbG9nZ2VyT3ZlcnJpZGU6ZT8ubG9nZ2VyfSk7dGhpcy5sb2dDaHVua0NvbnRyb2xsZXI9bywodD10aGlzLmxvZ0NodW5rQ29udHJvbGxlcikhPW51bGwmJnQuZG93bmxvYWRMb2dzQmxvYkluQnJvd3NlciYmKHdpbmRvdy5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyPWFzeW5jKCk9Pnt2YXIgYSxjOyhhPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKSE9bnVsbCYmYS5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyJiYoKGM9dGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpPT1udWxsfHxjLmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXIoe2NsaWVudElkOmF3YWl0IHRoaXMuY3J5cHRvLmdldENsaWVudElkKCl9KSl9KSx0aGlzLmxvZ2dlcj1OKG4sdGhpcy5uYW1lKSx0aGlzLmhlYXJ0YmVhdD1uZXcgV2ksdGhpcy5jcnlwdG89bmV3IHZpKHRoaXMsdGhpcy5sb2dnZXIsZT8ua2V5Y2hhaW4pLHRoaXMuaGlzdG9yeT1uZXcga2kodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5leHBpcmVyPW5ldyBqaSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLnN0b3JhZ2U9ZSE9bnVsbCYmZS5zdG9yYWdlP2Uuc3RvcmFnZTpuZXcgSGkocWkocWkoe30sSXQpLGU/LnN0b3JhZ2VPcHRpb25zKSksdGhpcy5yZWxheWVyPW5ldyBTaSh7Y29yZTp0aGlzLGxvZ2dlcjp0aGlzLmxvZ2dlcixyZWxheVVybDp0aGlzLnJlbGF5VXJsLHByb2plY3RJZDp0aGlzLnByb2plY3RJZH0pLHRoaXMucGFpcmluZz1uZXcgTGkodGhpcyx0aGlzLmxvZ2dlciksdGhpcy52ZXJpZnk9bmV3IFVpKHRoaXMsdGhpcy5sb2dnZXIsdGhpcy5zdG9yYWdlKSx0aGlzLmVjaG9DbGllbnQ9bmV3IE1pKHRoaXMucHJvamVjdElkfHxcIlwiLHRoaXMubG9nZ2VyKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1bXSx0aGlzLmV2ZW50Q2xpZW50PW5ldyBCaSh0aGlzLHRoaXMubG9nZ2VyLGU/LnRlbGVtZXRyeUVuYWJsZWQpLHRoaXMuc2V0R2xvYmFsQ29yZSh0aGlzKX1zdGF0aWMgYXN5bmMgaW5pdChlKXtjb25zdCB0PW5ldyBUZShlKTthd2FpdCB0LmluaXRpYWxpemUoKTtjb25zdCBpPWF3YWl0IHQuY3J5cHRvLmdldENsaWVudElkKCk7cmV0dXJuIGF3YWl0IHQuc3RvcmFnZS5zZXRJdGVtKGp0LGkpLHR9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9YXN5bmMgc3RhcnQoKXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXRpYWxpemUoKX1hc3luYyBnZXRMb2dzQmxvYigpe3ZhciBlO3JldHVybihlPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKT09bnVsbD92b2lkIDA6ZS5sb2dzVG9CbG9iKHtjbGllbnRJZDphd2FpdCB0aGlzLmNyeXB0by5nZXRDbGllbnRJZCgpfSl9YXN5bmMgYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoZSl7dGhpcy5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXMoZSl8fCh0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5wdXNoKGUpLGF3YWl0IHRoaXMuc3RvcmFnZS5zZXRJdGVtKEZlLHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzKSl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY3J5cHRvLmluaXQoKSxhd2FpdCB0aGlzLmhpc3RvcnkuaW5pdCgpLGF3YWl0IHRoaXMuZXhwaXJlci5pbml0KCksYXdhaXQgdGhpcy5yZWxheWVyLmluaXQoKSxhd2FpdCB0aGlzLmhlYXJ0YmVhdC5pbml0KCksYXdhaXQgdGhpcy5wYWlyaW5nLmluaXQoKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1hd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShGZSl8fFtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5sb2dnZXIuaW5mbyhcIkNvcmUgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKX1jYXRjaChlKXt0aHJvdyB0aGlzLmxvZ2dlci53YXJuKGBDb3JlIEluaXRpYWxpemF0aW9uIEZhaWx1cmUgYXQgZXBvY2ggJHtEYXRlLm5vdygpfWAsZSksdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKSxlfX1nZXRHbG9iYWxDb3JlKGU9XCJcIil7dHJ5e2lmKHRoaXMuaXNHbG9iYWxDb3JlRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgdD1gX3dhbGxldENvbm5lY3RDb3JlXyR7ZX1gLGk9YCR7dH1fY291bnRgO3JldHVybiBnbG9iYWxUaGlzW2ldPShnbG9iYWxUaGlzW2ldfHwwKSsxLGdsb2JhbFRoaXNbaV0+MSYmY29uc29sZS53YXJuKGBXYWxsZXRDb25uZWN0IENvcmUgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4gVGhpcyBpcyBwcm9iYWJseSBhIG1pc3Rha2UgYW5kIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuIEluaXQoKSB3YXMgY2FsbGVkICR7Z2xvYmFsVGhpc1tpXX0gdGltZXMuYCksZ2xvYmFsVGhpc1t0XX1jYXRjaCh0KXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZ2V0IGdsb2JhbCBXYWxsZXRDb25uZWN0IGNvcmVcIix0KTtyZXR1cm59fXNldEdsb2JhbENvcmUoZSl7dmFyIHQ7dHJ5e2lmKHRoaXMuaXNHbG9iYWxDb3JlRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgaT1gX3dhbGxldENvbm5lY3RDb3JlXyR7KCh0PWUub3B0cyk9PW51bGw/dm9pZCAwOnQuY3VzdG9tU3RvcmFnZVByZWZpeCl8fFwiXCJ9YDtnbG9iYWxUaGlzW2ldPWV9Y2F0Y2goaSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHNldCBnbG9iYWwgV2FsbGV0Q29ubmVjdCBjb3JlXCIsaSl9fWlzR2xvYmFsQ29yZURpc2FibGVkKCl7dHJ5e3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmcHJvY2Vzcy5lbnYuRElTQUJMRV9HTE9CQUxfQ09SRT09PVwidHJ1ZVwifWNhdGNoe3JldHVybiEwfX19Y29uc3QgSm89VGU7ZXhwb3J0e2hlIGFzIENPUkVfQ09OVEVYVCxFdCBhcyBDT1JFX0RFRkFVTFQsemUgYXMgQ09SRV9QUk9UT0NPTCxJdCBhcyBDT1JFX1NUT1JBR0VfT1BUSU9OUyxCIGFzIENPUkVfU1RPUkFHRV9QUkVGSVgsTGUgYXMgQ09SRV9WRVJTSU9OLGtlIGFzIENSWVBUT19DTElFTlRfU0VFRCxUdCBhcyBDUllQVE9fQ09OVEVYVCxDdCBhcyBDUllQVE9fSldUX1RUTCxKbyBhcyBDb3JlLHZpIGFzIENyeXB0byxYdCBhcyBFQ0hPX0NPTlRFWFQsWnQgYXMgRUNIT19VUkwsaWkgYXMgRVZFTlRTX0NMSUVOVF9BUElfVVJMLHRpIGFzIEVWRU5UU19TVE9SQUdFX0NMRUFOVVBfSU5URVJWQUwsZWkgYXMgRVZFTlRTX1NUT1JBR0VfQ09OVEVYVCxRdCBhcyBFVkVOVFNfU1RPUkFHRV9WRVJTSU9OLGlyIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfRVJST1JTLHRyIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfVFJBQ0VTLFpzIGFzIEVWRU5UX0NMSUVOVF9DT05URVhULFkgYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfRVJST1JTLEcgYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfVFJBQ0VTLGVyIGFzIEVWRU5UX0NMSUVOVF9TRVNTSU9OX0VSUk9SUyxRcyBhcyBFVkVOVF9DTElFTlRfU0VTU0lPTl9UUkFDRVMscXQgYXMgRVhQSVJFUl9DT05URVhULEpzIGFzIEVYUElSRVJfREVGQVVMVF9UVEwsTSBhcyBFWFBJUkVSX0VWRU5UUyxHdCBhcyBFWFBJUkVSX1NUT1JBR0VfVkVSU0lPTixNaSBhcyBFY2hvQ2xpZW50LEJpIGFzIEV2ZW50Q2xpZW50LGppIGFzIEV4cGlyZXIsQnQgYXMgSElTVE9SWV9DT05URVhULEYgYXMgSElTVE9SWV9FVkVOVFMsVnQgYXMgSElTVE9SWV9TVE9SQUdFX1ZFUlNJT04sa2kgYXMgSnNvblJwY0hpc3RvcnksUHQgYXMgS0VZQ0hBSU5fQ09OVEVYVCxTdCBhcyBLRVlDSEFJTl9TVE9SQUdFX1ZFUlNJT04sRGkgYXMgS2V5Q2hhaW4sUnQgYXMgTUVTU0FHRVNfQ09OVEVYVCxPdCBhcyBNRVNTQUdFU19TVE9SQUdFX1ZFUlNJT04sbGUgYXMgTUVTU0FHRV9ESVJFQ1RJT04sX2kgYXMgTWVzc2FnZVRyYWNrZXIsTXQgYXMgUEFJUklOR19DT05URVhULFlzIGFzIFBBSVJJTkdfREVGQVVMVF9UVEwsc2UgYXMgUEFJUklOR19FVkVOVFMsaWUgYXMgUEFJUklOR19SUENfT1BUUyxLdCBhcyBQQUlSSU5HX1NUT1JBR0VfVkVSU0lPTixIcyBhcyBQRU5ESU5HX1NVQl9SRVNPTFVUSU9OX1RJTUVPVVQsQXQgYXMgUFVCTElTSEVSX0NPTlRFWFQsamUgYXMgUFVCTElTSEVSX0RFRkFVTFRfVFRMLExpIGFzIFBhaXJpbmcsJHQgYXMgUkVMQVlFUl9DT05URVhULE50IGFzIFJFTEFZRVJfREVGQVVMVF9MT0dHRVIseHQgYXMgUkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MLFVlIGFzIFJFTEFZRVJfREVGQVVMVF9SRUxBWV9VUkwsQyBhcyBSRUxBWUVSX0VWRU5UUyxMIGFzIFJFTEFZRVJfUFJPVklERVJfRVZFTlRTLEx0IGFzIFJFTEFZRVJfUkVDT05ORUNUX1RJTUVPVVQsX2UgYXMgUkVMQVlFUl9TREtfVkVSU0lPTixxcyBhcyBSRUxBWUVSX1NUT1JBR0VfT1BUSU9OUyx6dCBhcyBSRUxBWUVSX1NVQlNDUklCRVJfU1VGRklYLEdzIGFzIFJFTEFZRVJfVFJBTlNQT1JUX0NVVE9GRixTaSBhcyBSZWxheWVyLGt0IGFzIFNUT1JFX1NUT1JBR0VfVkVSU0lPTixVdCBhcyBTVUJTQ1JJQkVSX0NPTlRFWFQsV3MgYXMgU1VCU0NSSUJFUl9ERUZBVUxUX1RUTCwkIGFzIFNVQlNDUklCRVJfRVZFTlRTLEZ0IGFzIFNVQlNDUklCRVJfU1RPUkFHRV9WRVJTSU9OLHppIGFzIFN0b3JlLFRpIGFzIFN1YnNjcmliZXIsUSBhcyBUUkFOU1BPUlRfVFlQRVMsSnQgYXMgVFJVU1RFRF9WRVJJRllfVVJMUyxXdCBhcyBWRVJJRllfQ09OVEVYVCx1ZSBhcyBWRVJJRllfU0VSVkVSLFl0IGFzIFZFUklGWV9TRVJWRVJfVjMsVWkgYXMgVmVyaWZ5LGp0IGFzIFdBTExFVENPTk5FQ1RfQ0xJRU5UX0lELEZlIGFzIFdBTExFVENPTk5FQ1RfTElOS19NT0RFX0FQUFMsVGUgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/core/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/dist/cjs/crypto.js":
/*!********************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/dist/cjs/crypto.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isBrowserCryptoAvailable = exports.getSubtleCrypto = exports.getBrowerCrypto = void 0;\nfunction getBrowerCrypto() {\n    return (global === null || global === void 0 ? void 0 : global.crypto) || (global === null || global === void 0 ? void 0 : global.msCrypto) || {};\n}\nexports.getBrowerCrypto = getBrowerCrypto;\nfunction getSubtleCrypto() {\n    const browserCrypto = getBrowerCrypto();\n    return browserCrypto.subtle || browserCrypto.webkitSubtle;\n}\nexports.getSubtleCrypto = getSubtleCrypto;\nfunction isBrowserCryptoAvailable() {\n    return !!getBrowerCrypto() && !!getSubtleCrypto();\n}\nexports.isBrowserCryptoAvailable = isBrowserCryptoAvailable;\n//# sourceMappingURL=crypto.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvY3J5cHRvLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdDQUFnQyxHQUFHLHVCQUF1QixHQUFHLHVCQUF1QjtBQUNwRjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9lbnZpcm9ubWVudC9kaXN0L2Nqcy9jcnlwdG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzQnJvd3NlckNyeXB0b0F2YWlsYWJsZSA9IGV4cG9ydHMuZ2V0U3VidGxlQ3J5cHRvID0gZXhwb3J0cy5nZXRCcm93ZXJDcnlwdG8gPSB2b2lkIDA7XG5mdW5jdGlvbiBnZXRCcm93ZXJDcnlwdG8oKSB7XG4gICAgcmV0dXJuIChnbG9iYWwgPT09IG51bGwgfHwgZ2xvYmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBnbG9iYWwuY3J5cHRvKSB8fCAoZ2xvYmFsID09PSBudWxsIHx8IGdsb2JhbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ2xvYmFsLm1zQ3J5cHRvKSB8fCB7fTtcbn1cbmV4cG9ydHMuZ2V0QnJvd2VyQ3J5cHRvID0gZ2V0QnJvd2VyQ3J5cHRvO1xuZnVuY3Rpb24gZ2V0U3VidGxlQ3J5cHRvKCkge1xuICAgIGNvbnN0IGJyb3dzZXJDcnlwdG8gPSBnZXRCcm93ZXJDcnlwdG8oKTtcbiAgICByZXR1cm4gYnJvd3NlckNyeXB0by5zdWJ0bGUgfHwgYnJvd3NlckNyeXB0by53ZWJraXRTdWJ0bGU7XG59XG5leHBvcnRzLmdldFN1YnRsZUNyeXB0byA9IGdldFN1YnRsZUNyeXB0bztcbmZ1bmN0aW9uIGlzQnJvd3NlckNyeXB0b0F2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gISFnZXRCcm93ZXJDcnlwdG8oKSAmJiAhIWdldFN1YnRsZUNyeXB0bygpO1xufVxuZXhwb3J0cy5pc0Jyb3dzZXJDcnlwdG9BdmFpbGFibGUgPSBpc0Jyb3dzZXJDcnlwdG9BdmFpbGFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcnlwdG8uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/dist/cjs/crypto.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/dist/cjs/env.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/dist/cjs/env.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isBrowser = exports.isNode = exports.isReactNative = void 0;\nfunction isReactNative() {\n    return (typeof document === \"undefined\" &&\n        typeof navigator !== \"undefined\" &&\n        navigator.product === \"ReactNative\");\n}\nexports.isReactNative = isReactNative;\nfunction isNode() {\n    return (typeof process !== \"undefined\" &&\n        typeof process.versions !== \"undefined\" &&\n        typeof process.versions.node !== \"undefined\");\n}\nexports.isNode = isNode;\nfunction isBrowser() {\n    return !isReactNative() && !isNode();\n}\nexports.isBrowser = isBrowser;\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvZW52LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixHQUFHLGNBQWMsR0FBRyxxQkFBcUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvZW52LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0Jyb3dzZXIgPSBleHBvcnRzLmlzTm9kZSA9IGV4cG9ydHMuaXNSZWFjdE5hdGl2ZSA9IHZvaWQgMDtcbmZ1bmN0aW9uIGlzUmVhY3ROYXRpdmUoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gXCJSZWFjdE5hdGl2ZVwiKTtcbn1cbmV4cG9ydHMuaXNSZWFjdE5hdGl2ZSA9IGlzUmVhY3ROYXRpdmU7XG5mdW5jdGlvbiBpc05vZGUoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlICE9PSBcInVuZGVmaW5lZFwiKTtcbn1cbmV4cG9ydHMuaXNOb2RlID0gaXNOb2RlO1xuZnVuY3Rpb24gaXNCcm93c2VyKCkge1xuICAgIHJldHVybiAhaXNSZWFjdE5hdGl2ZSgpICYmICFpc05vZGUoKTtcbn1cbmV4cG9ydHMuaXNCcm93c2VyID0gaXNCcm93c2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW52LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/dist/cjs/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/environment/dist/cjs/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@walletconnect/environment/dist/cjs/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./crypto */ \"(ssr)/./node_modules/@walletconnect/environment/dist/cjs/crypto.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./env */ \"(ssr)/./node_modules/@walletconnect/environment/dist/cjs/env.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnQvZGlzdC9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0IscUJBQXFCLG1CQUFPLENBQUMsb0ZBQVU7QUFDdkMscUJBQXFCLG1CQUFPLENBQUMsOEVBQU87QUFDcEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2Vudmlyb25tZW50L2Rpc3QvY2pzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NyeXB0b1wiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9lbnZcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/environment/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/events/dist/esm/events.js":
/*!***************************************************************!*\
  !*** ./node_modules/@walletconnect/events/dist/esm/events.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IEvents: () => (/* binding */ IEvents)\n/* harmony export */ });\nclass IEvents {\n}\n//# sourceMappingURL=events.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZXZlbnRzL2Rpc3QvZXNtL2V2ZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9ldmVudHMvZGlzdC9lc20vZXZlbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBJRXZlbnRzIHtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/events/dist/esm/events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@walletconnect/events/dist/esm/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IEvents: () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_0__.IEvents)\n/* harmony export */ });\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/events.js\");\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvZXZlbnRzL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlCO0FBQ3pCIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9ldmVudHMvZGlzdC9lc20vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vZXZlbnRzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js":
/*!****************************************************************!*\
  !*** ./node_modules/@walletconnect/heartbeat/dist/index.es.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HEARTBEAT_EVENTS: () => (/* binding */ r),\n/* harmony export */   HEARTBEAT_INTERVAL: () => (/* binding */ s),\n/* harmony export */   HeartBeat: () => (/* binding */ i),\n/* harmony export */   IHeartBeat: () => (/* binding */ n)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\");\nclass n extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_2__.IEvents{constructor(e){super()}}const s=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_SECONDS,r={pulse:\"heartbeat_pulse\"};class i extends n{constructor(e){super(e),this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.interval=s,this.interval=e?.interval||s}static async init(e){const t=new i(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.interval))}pulse(){this.events.emit(r.pulse)}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvaGVhcnRiZWF0L2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTRKLGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsU0FBUyxRQUFRLDZEQUFDLElBQUkseUJBQXlCLGtCQUFrQixlQUFlLHlCQUF5QixnREFBQyw4Q0FBOEMscUJBQXFCLGlCQUFpQix3QkFBd0IsYUFBYSx3QkFBd0IsT0FBTyxnQ0FBZ0MsUUFBUSxvQkFBb0IsVUFBVSxzQkFBc0IsU0FBUyxxQkFBcUIsb0JBQW9CLGdDQUFnQyxtQkFBbUIsOENBQThDLGtFQUFDLGlCQUFpQixRQUFRLDJCQUFnSDtBQUN4ekIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2hlYXJ0YmVhdC9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtFdmVudEVtaXR0ZXIgYXMgYX1mcm9tXCJldmVudHNcIjtpbXBvcnR7RklWRV9TRUNPTkRTIGFzIG8sdG9NaWxpc2Vjb25kcyBhcyBsfWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7SUV2ZW50cyBhcyB2fWZyb21cIkB3YWxsZXRjb25uZWN0L2V2ZW50c1wiO2NsYXNzIG4gZXh0ZW5kcyB2e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCl9fWNvbnN0IHM9byxyPXtwdWxzZTpcImhlYXJ0YmVhdF9wdWxzZVwifTtjbGFzcyBpIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmV2ZW50cz1uZXcgYSx0aGlzLmludGVydmFsPXMsdGhpcy5pbnRlcnZhbD1lPy5pbnRlcnZhbHx8c31zdGF0aWMgYXN5bmMgaW5pdChlKXtjb25zdCB0PW5ldyBpKGUpO3JldHVybiBhd2FpdCB0LmluaXQoKSx0fWFzeW5jIGluaXQoKXthd2FpdCB0aGlzLmluaXRpYWxpemUoKX1zdG9wKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsUmVmKX1vbihlLHQpe3RoaXMuZXZlbnRzLm9uKGUsdCl9b25jZShlLHQpe3RoaXMuZXZlbnRzLm9uY2UoZSx0KX1vZmYoZSx0KXt0aGlzLmV2ZW50cy5vZmYoZSx0KX1yZW1vdmVMaXN0ZW5lcihlLHQpe3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGUsdCl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMuaW50ZXJ2YWxSZWY9c2V0SW50ZXJ2YWwoKCk9PnRoaXMucHVsc2UoKSxsKHRoaXMuaW50ZXJ2YWwpKX1wdWxzZSgpe3RoaXMuZXZlbnRzLmVtaXQoci5wdWxzZSl9fWV4cG9ydHtyIGFzIEhFQVJUQkVBVF9FVkVOVFMscyBhcyBIRUFSVEJFQVRfSU5URVJWQUwsaSBhcyBIZWFydEJlYXQsbiBhcyBJSGVhcnRCZWF0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpConnection: () => (/* binding */ f),\n/* harmony export */   \"default\": () => (/* binding */ f)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cross-fetch */ \"(ssr)/./node_modules/cross-fetch/dist/node-ponyfill.js\");\n/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cross_fetch__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nvar P=Object.defineProperty,w=Object.defineProperties,E=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,l=(r,t,e)=>t in r?P(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,p=(r,t)=>{for(var e in t||(t={}))L.call(t,e)&&l(r,e,t[e]);if(c)for(var e of c(t))O.call(t,e)&&l(r,e,t[e]);return r},v=(r,t)=>w(r,E(t));const j={Accept:\"application/json\",\"Content-Type\":\"application/json\"},T=\"POST\",d={headers:j,method:T},g=10;class f{constructor(t,e=!1){if(this.url=t,this.disableProviderPing=e,this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error(\"Connection already closed\");this.onClose()}async send(t){this.isAvailable||await this.register();try{const e=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__.safeJsonStringify)(t),s=await(await cross_fetch__WEBPACK_IMPORTED_MODULE_1___default()(this.url,v(p({},d),{body:e}))).json();this.onPayload({data:s})}catch(e){this.onError(t.id,e)}}async register(t=this.url){if(!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount(\"register_error\")>=e||this.events.listenerCount(\"open\")>=e)&&this.events.setMaxListeners(e+1),new Promise((s,i)=>{this.events.once(\"register_error\",n=>{this.resetMaxListeners(),i(n)}),this.events.once(\"open\",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>\"u\")return i(new Error(\"HTTP connection is missing or invalid\"));s()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const e=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__.safeJsonStringify)({id:1,jsonrpc:\"2.0\",method:\"test\",params:[]});await cross_fetch__WEBPACK_IMPORTED_MODULE_1___default()(t,v(p({},d),{body:e}))}this.onOpen()}catch(e){const s=this.parseError(e);throw this.events.emit(\"register_error\",s),this.onClose(),s}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit(\"open\")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit(\"close\")}onPayload(t){if(typeof t.data>\"u\")return;const e=typeof t.data==\"string\"?(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_2__.safeJsonParse)(t.data):t.data;this.events.emit(\"payload\",e)}onError(t,e){const s=this.parseError(e),i=s.message||s.toString(),n=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(t,i);this.events.emit(\"payload\",n)}parseError(t,e=this.url){return (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.parseConnectionError)(t,e,\"HTTP\")}resetMaxListeners(){this.events.getMaxListeners()>g&&this.events.setMaxListeners(g)}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1odHRwLWNvbm5lY3Rpb24vZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE0UCwyTkFBMk4sa0RBQWtELG1CQUFtQixxQkFBcUIsMkJBQTJCLGdEQUFnRCxTQUFTLG9CQUFvQixTQUFTLDREQUE0RCxhQUFhLG1CQUFtQixNQUFNLFFBQVEsb0JBQW9CLHlEQUF5RCxnREFBQywwQ0FBMEMsdUVBQUMsNEVBQTRFLEVBQUUsR0FBRyxzQ0FBc0MsZ0JBQWdCLHdCQUF3QixpQkFBaUIsd0JBQXdCLFFBQVEsb0JBQW9CLFVBQVUsc0JBQXNCLFNBQVMscUJBQXFCLG9CQUFvQixnQ0FBZ0MsdUJBQXVCLHVCQUF1QixjQUFjLGtFQUFrRSxlQUFlLGNBQWMsd0NBQXdDLElBQUksUUFBUSwyRUFBQyxrQkFBa0Isa0RBQUMsZ0JBQWdCLEtBQUssT0FBTyxXQUFXLGdCQUFnQixPQUFPLEVBQUUsU0FBUyxzQkFBc0IsMkJBQTJCLElBQUksdUVBQUMsNEVBQTRFLEVBQUUsR0FBRyxxQkFBcUIsc0NBQXNDLG1KQUFtSixzQ0FBc0MsOEJBQThCLCtCQUErQixxSEFBcUgsSUFBSSxFQUFFLEVBQUUsK0JBQStCLElBQUksOEJBQThCLFFBQVEsMkVBQUMsRUFBRSwyQ0FBMkMsRUFBRSxNQUFNLGtEQUFDLFNBQVMsS0FBSyxPQUFPLEdBQUcsY0FBYyxTQUFTLDJCQUEyQiw2REFBNkQsU0FBUyxpRUFBaUUsVUFBVSxrRUFBa0UsYUFBYSw0QkFBNEIsZ0NBQWdDLHVFQUFDLGdCQUFnQiw4QkFBOEIsYUFBYSx1REFBdUQsZ0ZBQUMsTUFBTSw4QkFBOEIseUJBQXlCLE9BQU8sa0ZBQUMsYUFBYSxvQkFBb0IsaUVBQTBHO0FBQ3QyRiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1odHRwLWNvbm5lY3Rpb24vZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7RXZlbnRFbWl0dGVyIGFzIG19ZnJvbVwiZXZlbnRzXCI7aW1wb3J0IG8gZnJvbVwiY3Jvc3MtZmV0Y2hcIjtpbXBvcnR7c2FmZUpzb25TdHJpbmdpZnkgYXMgYSxzYWZlSnNvblBhcnNlIGFzIHl9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uXCI7aW1wb3J0e2lzSHR0cFVybCBhcyBoLGZvcm1hdEpzb25ScGNFcnJvciBhcyBiLHBhcnNlQ29ubmVjdGlvbkVycm9yIGFzIHV9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO3ZhciBQPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx3PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLEU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsYz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLEw9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxPPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsbD0ocix0LGUpPT50IGluIHI/UChyLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpyW3RdPWUscD0ocix0KT0+e2Zvcih2YXIgZSBpbiB0fHwodD17fSkpTC5jYWxsKHQsZSkmJmwocixlLHRbZV0pO2lmKGMpZm9yKHZhciBlIG9mIGModCkpTy5jYWxsKHQsZSkmJmwocixlLHRbZV0pO3JldHVybiByfSx2PShyLHQpPT53KHIsRSh0KSk7Y29uc3Qgaj17QWNjZXB0OlwiYXBwbGljYXRpb24vanNvblwiLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LFQ9XCJQT1NUXCIsZD17aGVhZGVyczpqLG1ldGhvZDpUfSxnPTEwO2NsYXNzIGZ7Y29uc3RydWN0b3IodCxlPSExKXtpZih0aGlzLnVybD10LHRoaXMuZGlzYWJsZVByb3ZpZGVyUGluZz1lLHRoaXMuZXZlbnRzPW5ldyBtLHRoaXMuaXNBdmFpbGFibGU9ITEsdGhpcy5yZWdpc3RlcmluZz0hMSwhaCh0KSl0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVkIFVSTCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIEhUVFAgY29ubmVjdGlvbjogJHt0fWApO3RoaXMudXJsPXQsdGhpcy5kaXNhYmxlUHJvdmlkZXJQaW5nPWV9Z2V0IGNvbm5lY3RlZCgpe3JldHVybiB0aGlzLmlzQXZhaWxhYmxlfWdldCBjb25uZWN0aW5nKCl7cmV0dXJuIHRoaXMucmVnaXN0ZXJpbmd9b24odCxlKXt0aGlzLmV2ZW50cy5vbih0LGUpfW9uY2UodCxlKXt0aGlzLmV2ZW50cy5vbmNlKHQsZSl9b2ZmKHQsZSl7dGhpcy5ldmVudHMub2ZmKHQsZSl9cmVtb3ZlTGlzdGVuZXIodCxlKXt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcih0LGUpfWFzeW5jIG9wZW4odD10aGlzLnVybCl7YXdhaXQgdGhpcy5yZWdpc3Rlcih0KX1hc3luYyBjbG9zZSgpe2lmKCF0aGlzLmlzQXZhaWxhYmxlKXRocm93IG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gYWxyZWFkeSBjbG9zZWRcIik7dGhpcy5vbkNsb3NlKCl9YXN5bmMgc2VuZCh0KXt0aGlzLmlzQXZhaWxhYmxlfHxhd2FpdCB0aGlzLnJlZ2lzdGVyKCk7dHJ5e2NvbnN0IGU9YSh0KSxzPWF3YWl0KGF3YWl0IG8odGhpcy51cmwsdihwKHt9LGQpLHtib2R5OmV9KSkpLmpzb24oKTt0aGlzLm9uUGF5bG9hZCh7ZGF0YTpzfSl9Y2F0Y2goZSl7dGhpcy5vbkVycm9yKHQuaWQsZSl9fWFzeW5jIHJlZ2lzdGVyKHQ9dGhpcy51cmwpe2lmKCFoKHQpKXRocm93IG5ldyBFcnJvcihgUHJvdmlkZWQgVVJMIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggSFRUUCBjb25uZWN0aW9uOiAke3R9YCk7aWYodGhpcy5yZWdpc3RlcmluZyl7Y29uc3QgZT10aGlzLmV2ZW50cy5nZXRNYXhMaXN0ZW5lcnMoKTtyZXR1cm4odGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChcInJlZ2lzdGVyX2Vycm9yXCIpPj1lfHx0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KFwib3BlblwiKT49ZSkmJnRoaXMuZXZlbnRzLnNldE1heExpc3RlbmVycyhlKzEpLG5ldyBQcm9taXNlKChzLGkpPT57dGhpcy5ldmVudHMub25jZShcInJlZ2lzdGVyX2Vycm9yXCIsbj0+e3RoaXMucmVzZXRNYXhMaXN0ZW5lcnMoKSxpKG4pfSksdGhpcy5ldmVudHMub25jZShcIm9wZW5cIiwoKT0+e2lmKHRoaXMucmVzZXRNYXhMaXN0ZW5lcnMoKSx0eXBlb2YgdGhpcy5pc0F2YWlsYWJsZT5cInVcIilyZXR1cm4gaShuZXcgRXJyb3IoXCJIVFRQIGNvbm5lY3Rpb24gaXMgbWlzc2luZyBvciBpbnZhbGlkXCIpKTtzKCl9KX0pfXRoaXMudXJsPXQsdGhpcy5yZWdpc3RlcmluZz0hMDt0cnl7aWYoIXRoaXMuZGlzYWJsZVByb3ZpZGVyUGluZyl7Y29uc3QgZT1hKHtpZDoxLGpzb25ycGM6XCIyLjBcIixtZXRob2Q6XCJ0ZXN0XCIscGFyYW1zOltdfSk7YXdhaXQgbyh0LHYocCh7fSxkKSx7Ym9keTplfSkpfXRoaXMub25PcGVuKCl9Y2F0Y2goZSl7Y29uc3Qgcz10aGlzLnBhcnNlRXJyb3IoZSk7dGhyb3cgdGhpcy5ldmVudHMuZW1pdChcInJlZ2lzdGVyX2Vycm9yXCIscyksdGhpcy5vbkNsb3NlKCksc319b25PcGVuKCl7dGhpcy5pc0F2YWlsYWJsZT0hMCx0aGlzLnJlZ2lzdGVyaW5nPSExLHRoaXMuZXZlbnRzLmVtaXQoXCJvcGVuXCIpfW9uQ2xvc2UoKXt0aGlzLmlzQXZhaWxhYmxlPSExLHRoaXMucmVnaXN0ZXJpbmc9ITEsdGhpcy5ldmVudHMuZW1pdChcImNsb3NlXCIpfW9uUGF5bG9hZCh0KXtpZih0eXBlb2YgdC5kYXRhPlwidVwiKXJldHVybjtjb25zdCBlPXR5cGVvZiB0LmRhdGE9PVwic3RyaW5nXCI/eSh0LmRhdGEpOnQuZGF0YTt0aGlzLmV2ZW50cy5lbWl0KFwicGF5bG9hZFwiLGUpfW9uRXJyb3IodCxlKXtjb25zdCBzPXRoaXMucGFyc2VFcnJvcihlKSxpPXMubWVzc2FnZXx8cy50b1N0cmluZygpLG49Yih0LGkpO3RoaXMuZXZlbnRzLmVtaXQoXCJwYXlsb2FkXCIsbil9cGFyc2VFcnJvcih0LGU9dGhpcy51cmwpe3JldHVybiB1KHQsZSxcIkhUVFBcIil9cmVzZXRNYXhMaXN0ZW5lcnMoKXt0aGlzLmV2ZW50cy5nZXRNYXhMaXN0ZW5lcnMoKT5nJiZ0aGlzLmV2ZW50cy5zZXRNYXhMaXN0ZW5lcnMoZyl9fWV4cG9ydHtmIGFzIEh0dHBDb25uZWN0aW9uLGYgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonRpcProvider: () => (/* binding */ o),\n/* harmony export */   \"default\": () => (/* binding */ o)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nclass o extends _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.IJsonRpcProvider{constructor(t){super(t),this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async request(t,e){return this.requestStrict((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.formatJsonRpcRequest)(t.method,t.params||[],t.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.getBigIntRpcId)().toString()),e)}async requestStrict(t,e){return new Promise(async(i,s)=>{if(!this.connection.connected)try{await this.open()}catch(n){s(n)}this.events.on(`${t.id}`,n=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.isJsonRpcError)(n)?s(n.error):i(n.result)});try{await this.connection.send(t,e)}catch(n){s(n)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit(\"payload\",t),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.isJsonRpcResponse)(t)?this.events.emit(`${t.id}`,t):this.events.emit(\"message\",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit(\"error\",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:\"\"}`)),this.events.emit(\"disconnect\")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t==\"string\"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit(\"connect\"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on(\"payload\",t=>this.onPayload(t)),this.connection.on(\"close\",t=>this.onClose(t)),this.connection.on(\"error\",t=>this.events.emit(\"error\",t)),this.connection.on(\"register_error\",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy1wcm92aWRlci9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQStMLGdCQUFnQiwwRUFBQyxDQUFDLGVBQWUseUJBQXlCLGdEQUFDLG9JQUFvSSxpQ0FBaUMsbUJBQW1CLG1CQUFtQixtQkFBbUIsUUFBUSxvQkFBb0IsVUFBVSxzQkFBc0IsU0FBUyxxQkFBcUIsb0JBQW9CLGdDQUFnQyxtQkFBbUIsMEJBQTBCLGtGQUFDLDZCQUE2Qiw0RUFBQyxrQkFBa0IseUJBQXlCLGdDQUFnQyxrQ0FBa0Msa0JBQWtCLFNBQVMsS0FBSyxrQkFBa0IsS0FBSyxNQUFNLDRFQUFDLDJCQUEyQixFQUFFLElBQUksZ0NBQWdDLFNBQVMsTUFBTSxFQUFFLGlDQUFpQyxTQUFTLGFBQWEsOEJBQThCLCtFQUFDLHdCQUF3QixLQUFLLGlDQUFpQyw0QkFBNEIsRUFBRSxXQUFXLHlHQUF5RyxRQUFRLEVBQUUsYUFBYSxTQUFTLE1BQU0sbUNBQW1DLDhCQUE4Qiw2UkFBNlIsY0FBYyw4QkFBOEIseUJBQXlCLDZSQUF1VTtBQUNyK0QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtcHJvdmlkZXIvZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7RXZlbnRFbWl0dGVyIGFzIGN9ZnJvbVwiZXZlbnRzXCI7aW1wb3J0e0lKc29uUnBjUHJvdmlkZXIgYXMgcixmb3JtYXRKc29uUnBjUmVxdWVzdCBhcyBoLGdldEJpZ0ludFJwY0lkIGFzIGEsaXNKc29uUnBjRXJyb3IgYXMgZCxpc0pzb25ScGNSZXNwb25zZSBhcyB2fWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjtjbGFzcyBvIGV4dGVuZHMgcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmV2ZW50cz1uZXcgYyx0aGlzLmhhc1JlZ2lzdGVyZWRFdmVudExpc3RlbmVycz0hMSx0aGlzLmNvbm5lY3Rpb249dGhpcy5zZXRDb25uZWN0aW9uKHQpLHRoaXMuY29ubmVjdGlvbi5jb25uZWN0ZWQmJnRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpfWFzeW5jIGNvbm5lY3QodD10aGlzLmNvbm5lY3Rpb24pe2F3YWl0IHRoaXMub3Blbih0KX1hc3luYyBkaXNjb25uZWN0KCl7YXdhaXQgdGhpcy5jbG9zZSgpfW9uKHQsZSl7dGhpcy5ldmVudHMub24odCxlKX1vbmNlKHQsZSl7dGhpcy5ldmVudHMub25jZSh0LGUpfW9mZih0LGUpe3RoaXMuZXZlbnRzLm9mZih0LGUpfXJlbW92ZUxpc3RlbmVyKHQsZSl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIodCxlKX1hc3luYyByZXF1ZXN0KHQsZSl7cmV0dXJuIHRoaXMucmVxdWVzdFN0cmljdChoKHQubWV0aG9kLHQucGFyYW1zfHxbXSx0LmlkfHxhKCkudG9TdHJpbmcoKSksZSl9YXN5bmMgcmVxdWVzdFN0cmljdCh0LGUpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhpLHMpPT57aWYoIXRoaXMuY29ubmVjdGlvbi5jb25uZWN0ZWQpdHJ5e2F3YWl0IHRoaXMub3BlbigpfWNhdGNoKG4pe3Mobil9dGhpcy5ldmVudHMub24oYCR7dC5pZH1gLG49PntkKG4pP3Mobi5lcnJvcik6aShuLnJlc3VsdCl9KTt0cnl7YXdhaXQgdGhpcy5jb25uZWN0aW9uLnNlbmQodCxlKX1jYXRjaChuKXtzKG4pfX0pfXNldENvbm5lY3Rpb24odD10aGlzLmNvbm5lY3Rpb24pe3JldHVybiB0fW9uUGF5bG9hZCh0KXt0aGlzLmV2ZW50cy5lbWl0KFwicGF5bG9hZFwiLHQpLHYodCk/dGhpcy5ldmVudHMuZW1pdChgJHt0LmlkfWAsdCk6dGhpcy5ldmVudHMuZW1pdChcIm1lc3NhZ2VcIix7dHlwZTp0Lm1ldGhvZCxkYXRhOnQucGFyYW1zfSl9b25DbG9zZSh0KXt0JiZ0LmNvZGU9PT0zZTMmJnRoaXMuZXZlbnRzLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihgV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkIGFibm9ybWFsbHkgd2l0aCBjb2RlOiAke3QuY29kZX0gJHt0LnJlYXNvbj9gKCR7dC5yZWFzb259KWA6XCJcIn1gKSksdGhpcy5ldmVudHMuZW1pdChcImRpc2Nvbm5lY3RcIil9YXN5bmMgb3Blbih0PXRoaXMuY29ubmVjdGlvbil7dGhpcy5jb25uZWN0aW9uPT09dCYmdGhpcy5jb25uZWN0aW9uLmNvbm5lY3RlZHx8KHRoaXMuY29ubmVjdGlvbi5jb25uZWN0ZWQmJnRoaXMuY2xvc2UoKSx0eXBlb2YgdD09XCJzdHJpbmdcIiYmKGF3YWl0IHRoaXMuY29ubmVjdGlvbi5vcGVuKHQpLHQ9dGhpcy5jb25uZWN0aW9uKSx0aGlzLmNvbm5lY3Rpb249dGhpcy5zZXRDb25uZWN0aW9uKHQpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi5vcGVuKCksdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksdGhpcy5ldmVudHMuZW1pdChcImNvbm5lY3RcIikpfWFzeW5jIGNsb3NlKCl7YXdhaXQgdGhpcy5jb25uZWN0aW9uLmNsb3NlKCl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe3RoaXMuaGFzUmVnaXN0ZXJlZEV2ZW50TGlzdGVuZXJzfHwodGhpcy5jb25uZWN0aW9uLm9uKFwicGF5bG9hZFwiLHQ9PnRoaXMub25QYXlsb2FkKHQpKSx0aGlzLmNvbm5lY3Rpb24ub24oXCJjbG9zZVwiLHQ9PnRoaXMub25DbG9zZSh0KSksdGhpcy5jb25uZWN0aW9uLm9uKFwiZXJyb3JcIix0PT50aGlzLmV2ZW50cy5lbWl0KFwiZXJyb3JcIix0KSksdGhpcy5jb25uZWN0aW9uLm9uKFwicmVnaXN0ZXJfZXJyb3JcIix0PT50aGlzLm9uQ2xvc2UoKSksdGhpcy5oYXNSZWdpc3RlcmVkRXZlbnRMaXN0ZW5lcnM9ITApfX1leHBvcnR7byBhcyBKc29uUnBjUHJvdmlkZXIsbyBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js":
/*!********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IBaseJsonRpcProvider: () => (/* binding */ n),\n/* harmony export */   IEvents: () => (/* binding */ e),\n/* harmony export */   IJsonRpcConnection: () => (/* binding */ o),\n/* harmony export */   IJsonRpcProvider: () => (/* binding */ r)\n/* harmony export */ });\nclass e{}class o extends e{constructor(c){super()}}class n extends e{constructor(){super()}}class r extends n{constructor(c){super()}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy10eXBlcy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxTQUFTLGtCQUFrQixlQUFlLFNBQVMsa0JBQWtCLGNBQWMsU0FBUyxrQkFBa0IsZUFBZSxTQUFzRztBQUNuTyIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy10eXBlcy9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIGV7fWNsYXNzIG8gZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGMpe3N1cGVyKCl9fWNsYXNzIG4gZXh0ZW5kcyBle2NvbnN0cnVjdG9yKCl7c3VwZXIoKX19Y2xhc3MgciBleHRlbmRzIG57Y29uc3RydWN0b3IoYyl7c3VwZXIoKX19ZXhwb3J0e24gYXMgSUJhc2VKc29uUnBjUHJvdmlkZXIsZSBhcyBJRXZlbnRzLG8gYXMgSUpzb25ScGNDb25uZWN0aW9uLHIgYXMgSUpzb25ScGNQcm92aWRlcn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ERROR: () => (/* binding */ DEFAULT_ERROR),\n/* harmony export */   INTERNAL_ERROR: () => (/* binding */ INTERNAL_ERROR),\n/* harmony export */   INVALID_PARAMS: () => (/* binding */ INVALID_PARAMS),\n/* harmony export */   INVALID_REQUEST: () => (/* binding */ INVALID_REQUEST),\n/* harmony export */   METHOD_NOT_FOUND: () => (/* binding */ METHOD_NOT_FOUND),\n/* harmony export */   PARSE_ERROR: () => (/* binding */ PARSE_ERROR),\n/* harmony export */   RESERVED_ERROR_CODES: () => (/* binding */ RESERVED_ERROR_CODES),\n/* harmony export */   SERVER_ERROR: () => (/* binding */ SERVER_ERROR),\n/* harmony export */   SERVER_ERROR_CODE_RANGE: () => (/* binding */ SERVER_ERROR_CODE_RANGE),\n/* harmony export */   STANDARD_ERROR_MAP: () => (/* binding */ STANDARD_ERROR_MAP)\n/* harmony export */ });\nconst PARSE_ERROR = \"PARSE_ERROR\";\nconst INVALID_REQUEST = \"INVALID_REQUEST\";\nconst METHOD_NOT_FOUND = \"METHOD_NOT_FOUND\";\nconst INVALID_PARAMS = \"INVALID_PARAMS\";\nconst INTERNAL_ERROR = \"INTERNAL_ERROR\";\nconst SERVER_ERROR = \"SERVER_ERROR\";\nconst RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];\nconst SERVER_ERROR_CODE_RANGE = [-32000, -32099];\nconst STANDARD_ERROR_MAP = {\n    [PARSE_ERROR]: { code: -32700, message: \"Parse error\" },\n    [INVALID_REQUEST]: { code: -32600, message: \"Invalid Request\" },\n    [METHOD_NOT_FOUND]: { code: -32601, message: \"Method not found\" },\n    [INVALID_PARAMS]: { code: -32602, message: \"Invalid params\" },\n    [INTERNAL_ERROR]: { code: -32603, message: \"Internal error\" },\n    [SERVER_ERROR]: { code: -32000, message: \"Server error\" },\n};\nconst DEFAULT_ERROR = SERVER_ERROR;\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQLHFCQUFxQixzQ0FBc0M7QUFDM0QseUJBQXlCLDBDQUEwQztBQUNuRSwwQkFBMEIsMkNBQTJDO0FBQ3JFLHdCQUF3Qix5Q0FBeUM7QUFDakUsd0JBQXdCLHlDQUF5QztBQUNqRSxzQkFBc0IsdUNBQXVDO0FBQzdEO0FBQ087QUFDUCIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBBUlNFX0VSUk9SID0gXCJQQVJTRV9FUlJPUlwiO1xuZXhwb3J0IGNvbnN0IElOVkFMSURfUkVRVUVTVCA9IFwiSU5WQUxJRF9SRVFVRVNUXCI7XG5leHBvcnQgY29uc3QgTUVUSE9EX05PVF9GT1VORCA9IFwiTUVUSE9EX05PVF9GT1VORFwiO1xuZXhwb3J0IGNvbnN0IElOVkFMSURfUEFSQU1TID0gXCJJTlZBTElEX1BBUkFNU1wiO1xuZXhwb3J0IGNvbnN0IElOVEVSTkFMX0VSUk9SID0gXCJJTlRFUk5BTF9FUlJPUlwiO1xuZXhwb3J0IGNvbnN0IFNFUlZFUl9FUlJPUiA9IFwiU0VSVkVSX0VSUk9SXCI7XG5leHBvcnQgY29uc3QgUkVTRVJWRURfRVJST1JfQ09ERVMgPSBbLTMyNzAwLCAtMzI2MDAsIC0zMjYwMSwgLTMyNjAyLCAtMzI2MDNdO1xuZXhwb3J0IGNvbnN0IFNFUlZFUl9FUlJPUl9DT0RFX1JBTkdFID0gWy0zMjAwMCwgLTMyMDk5XTtcbmV4cG9ydCBjb25zdCBTVEFOREFSRF9FUlJPUl9NQVAgPSB7XG4gICAgW1BBUlNFX0VSUk9SXTogeyBjb2RlOiAtMzI3MDAsIG1lc3NhZ2U6IFwiUGFyc2UgZXJyb3JcIiB9LFxuICAgIFtJTlZBTElEX1JFUVVFU1RdOiB7IGNvZGU6IC0zMjYwMCwgbWVzc2FnZTogXCJJbnZhbGlkIFJlcXVlc3RcIiB9LFxuICAgIFtNRVRIT0RfTk9UX0ZPVU5EXTogeyBjb2RlOiAtMzI2MDEsIG1lc3NhZ2U6IFwiTWV0aG9kIG5vdCBmb3VuZFwiIH0sXG4gICAgW0lOVkFMSURfUEFSQU1TXTogeyBjb2RlOiAtMzI2MDIsIG1lc3NhZ2U6IFwiSW52YWxpZCBwYXJhbXNcIiB9LFxuICAgIFtJTlRFUk5BTF9FUlJPUl06IHsgY29kZTogLTMyNjAzLCBtZXNzYWdlOiBcIkludGVybmFsIGVycm9yXCIgfSxcbiAgICBbU0VSVkVSX0VSUk9SXTogeyBjb2RlOiAtMzIwMDAsIG1lc3NhZ2U6IFwiU2VydmVyIGVycm9yXCIgfSxcbn07XG5leHBvcnQgY29uc3QgREVGQVVMVF9FUlJPUiA9IFNFUlZFUl9FUlJPUjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isNodeJs: () => (/* binding */ isNodeJs)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/environment */ \"(ssr)/./node_modules/@walletconnect/environment/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"isNodeJs\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\nconst isNodeJs = _walletconnect_environment__WEBPACK_IMPORTED_MODULE_0__.isNode;\n\n//# sourceMappingURL=env.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9lbnYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW9EO0FBQzdDLGlCQUFpQiw4REFBTTtBQUNhO0FBQzNDIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzL2Rpc3QvZXNtL2Vudi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05vZGUgfSBmcm9tIFwiQHdhbGxldGNvbm5lY3QvZW52aXJvbm1lbnRcIjtcbmV4cG9ydCBjb25zdCBpc05vZGVKcyA9IGlzTm9kZTtcbmV4cG9ydCAqIGZyb20gXCJAd2FsbGV0Y29ubmVjdC9lbnZpcm9ubWVudFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW52LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getError: () => (/* binding */ getError),\n/* harmony export */   getErrorByCode: () => (/* binding */ getErrorByCode),\n/* harmony export */   isReservedErrorCode: () => (/* binding */ isReservedErrorCode),\n/* harmony export */   isServerErrorCode: () => (/* binding */ isServerErrorCode),\n/* harmony export */   isValidErrorCode: () => (/* binding */ isValidErrorCode),\n/* harmony export */   parseConnectionError: () => (/* binding */ parseConnectionError),\n/* harmony export */   validateJsonRpcError: () => (/* binding */ validateJsonRpcError)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\");\n\nfunction isServerErrorCode(code) {\n    return code <= _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR_CODE_RANGE[0] && code >= _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR_CODE_RANGE[1];\n}\nfunction isReservedErrorCode(code) {\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.RESERVED_ERROR_CODES.includes(code);\n}\nfunction isValidErrorCode(code) {\n    return typeof code === \"number\";\n}\nfunction getError(type) {\n    if (!Object.keys(_constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP).includes(type)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR];\n    }\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[type];\n}\nfunction getErrorByCode(code) {\n    const match = Object.values(_constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP).find(e => e.code === code);\n    if (!match) {\n        return _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR];\n    }\n    return match;\n}\nfunction validateJsonRpcError(response) {\n    if (typeof response.error.code === \"undefined\") {\n        return { valid: false, error: \"Missing code for JSON-RPC error\" };\n    }\n    if (typeof response.error.message === \"undefined\") {\n        return { valid: false, error: \"Missing message for JSON-RPC error\" };\n    }\n    if (!isValidErrorCode(response.error.code)) {\n        return {\n            valid: false,\n            error: `Invalid error code type for JSON-RPC: ${response.error.code}`,\n        };\n    }\n    if (isReservedErrorCode(response.error.code)) {\n        const error = getErrorByCode(response.error.code);\n        if (error.message !== _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP[_constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR].message &&\n            response.error.message === error.message) {\n            return {\n                valid: false,\n                error: `Invalid error code message for JSON-RPC: ${response.error.code}`,\n            };\n        }\n    }\n    return { valid: true };\n}\nfunction parseConnectionError(e, url, type) {\n    return e.message.includes(\"getaddrinfo ENOTFOUND\") || e.message.includes(\"connect ECONNREFUSED\")\n        ? new Error(`Unavailable ${type} RPC url at ${url}`)\n        : e;\n}\n//# sourceMappingURL=error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9lcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFnSDtBQUN6RztBQUNQLG1CQUFtQiwrREFBdUIsZUFBZSwrREFBdUI7QUFDaEY7QUFDTztBQUNQLFdBQVcsNERBQW9CO0FBQy9CO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxxQkFBcUIsMERBQWtCO0FBQ3ZDLGVBQWUsMERBQWtCLENBQUMscURBQWE7QUFDL0M7QUFDQSxXQUFXLDBEQUFrQjtBQUM3QjtBQUNPO0FBQ1AsZ0NBQWdDLDBEQUFrQjtBQUNsRDtBQUNBLGVBQWUsMERBQWtCLENBQUMscURBQWE7QUFDL0M7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELG9CQUFvQjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwwREFBa0IsQ0FBQyxxREFBYTtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsb0JBQW9CO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQSxtQ0FBbUMsTUFBTSxhQUFhLElBQUk7QUFDMUQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzL2Rpc3QvZXNtL2Vycm9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNFUlZFUl9FUlJPUl9DT0RFX1JBTkdFLCBSRVNFUlZFRF9FUlJPUl9DT0RFUywgU1RBTkRBUkRfRVJST1JfTUFQLCBERUZBVUxUX0VSUk9SLCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2VydmVyRXJyb3JDb2RlKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA8PSBTRVJWRVJfRVJST1JfQ09ERV9SQU5HRVswXSAmJiBjb2RlID49IFNFUlZFUl9FUlJPUl9DT0RFX1JBTkdFWzFdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVzZXJ2ZWRFcnJvckNvZGUoY29kZSkge1xuICAgIHJldHVybiBSRVNFUlZFRF9FUlJPUl9DT0RFUy5pbmNsdWRlcyhjb2RlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRXJyb3JDb2RlKGNvZGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIGNvZGUgPT09IFwibnVtYmVyXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3IodHlwZSkge1xuICAgIGlmICghT2JqZWN0LmtleXMoU1RBTkRBUkRfRVJST1JfTUFQKS5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgICByZXR1cm4gU1RBTkRBUkRfRVJST1JfTUFQW0RFRkFVTFRfRVJST1JdO1xuICAgIH1cbiAgICByZXR1cm4gU1RBTkRBUkRfRVJST1JfTUFQW3R5cGVdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yQnlDb2RlKGNvZGUpIHtcbiAgICBjb25zdCBtYXRjaCA9IE9iamVjdC52YWx1ZXMoU1RBTkRBUkRfRVJST1JfTUFQKS5maW5kKGUgPT4gZS5jb2RlID09PSBjb2RlKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBTVEFOREFSRF9FUlJPUl9NQVBbREVGQVVMVF9FUlJPUl07XG4gICAgfVxuICAgIHJldHVybiBtYXRjaDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUpzb25ScGNFcnJvcihyZXNwb25zZSkge1xuICAgIGlmICh0eXBlb2YgcmVzcG9uc2UuZXJyb3IuY29kZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yOiBcIk1pc3NpbmcgY29kZSBmb3IgSlNPTi1SUEMgZXJyb3JcIiB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogXCJNaXNzaW5nIG1lc3NhZ2UgZm9yIEpTT04tUlBDIGVycm9yXCIgfTtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkRXJyb3JDb2RlKHJlc3BvbnNlLmVycm9yLmNvZGUpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogYEludmFsaWQgZXJyb3IgY29kZSB0eXBlIGZvciBKU09OLVJQQzogJHtyZXNwb25zZS5lcnJvci5jb2RlfWAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc1Jlc2VydmVkRXJyb3JDb2RlKHJlc3BvbnNlLmVycm9yLmNvZGUpKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gZ2V0RXJyb3JCeUNvZGUocmVzcG9uc2UuZXJyb3IuY29kZSk7XG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlICE9PSBTVEFOREFSRF9FUlJPUl9NQVBbREVGQVVMVF9FUlJPUl0ubWVzc2FnZSAmJlxuICAgICAgICAgICAgcmVzcG9uc2UuZXJyb3IubWVzc2FnZSA9PT0gZXJyb3IubWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGBJbnZhbGlkIGVycm9yIGNvZGUgbWVzc2FnZSBmb3IgSlNPTi1SUEM6ICR7cmVzcG9uc2UuZXJyb3IuY29kZX1gLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ29ubmVjdGlvbkVycm9yKGUsIHVybCwgdHlwZSkge1xuICAgIHJldHVybiBlLm1lc3NhZ2UuaW5jbHVkZXMoXCJnZXRhZGRyaW5mbyBFTk9URk9VTkRcIikgfHwgZS5tZXNzYWdlLmluY2x1ZGVzKFwiY29ubmVjdCBFQ09OTlJFRlVTRURcIilcbiAgICAgICAgPyBuZXcgRXJyb3IoYFVuYXZhaWxhYmxlICR7dHlwZX0gUlBDIHVybCBhdCAke3VybH1gKVxuICAgICAgICA6IGU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatErrorMessage: () => (/* binding */ formatErrorMessage),\n/* harmony export */   formatJsonRpcError: () => (/* binding */ formatJsonRpcError),\n/* harmony export */   formatJsonRpcRequest: () => (/* binding */ formatJsonRpcRequest),\n/* harmony export */   formatJsonRpcResult: () => (/* binding */ formatJsonRpcResult),\n/* harmony export */   getBigIntRpcId: () => (/* binding */ getBigIntRpcId),\n/* harmony export */   payloadId: () => (/* binding */ payloadId)\n/* harmony export */ });\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\");\n\n\nfunction payloadId(entropy = 3) {\n    const date = Date.now() * Math.pow(10, entropy);\n    const extra = Math.floor(Math.random() * Math.pow(10, entropy));\n    return date + extra;\n}\nfunction getBigIntRpcId(entropy = 6) {\n    return BigInt(payloadId(entropy));\n}\nfunction formatJsonRpcRequest(method, params, id) {\n    return {\n        id: id || payloadId(),\n        jsonrpc: \"2.0\",\n        method,\n        params,\n    };\n}\nfunction formatJsonRpcResult(id, result) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        result,\n    };\n}\nfunction formatJsonRpcError(id, error, data) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        error: formatErrorMessage(error, data),\n    };\n}\nfunction formatErrorMessage(error, data) {\n    if (typeof error === \"undefined\") {\n        return (0,_error__WEBPACK_IMPORTED_MODULE_0__.getError)(_constants__WEBPACK_IMPORTED_MODULE_1__.INTERNAL_ERROR);\n    }\n    if (typeof error === \"string\") {\n        error = Object.assign(Object.assign({}, (0,_error__WEBPACK_IMPORTED_MODULE_0__.getError)(_constants__WEBPACK_IMPORTED_MODULE_1__.SERVER_ERROR)), { message: error });\n    }\n    if (typeof data !== \"undefined\") {\n        error.data = data;\n    }\n    if ((0,_error__WEBPACK_IMPORTED_MODULE_0__.isReservedErrorCode)(error.code)) {\n        error = (0,_error__WEBPACK_IMPORTED_MODULE_0__.getErrorByCode)(error.code);\n    }\n    return error;\n}\n//# sourceMappingURL=format.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9mb3JtYXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBd0U7QUFDYjtBQUNwRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsZUFBZSxnREFBUSxDQUFDLHNEQUFjO0FBQ3RDO0FBQ0E7QUFDQSw4Q0FBOEMsRUFBRSxnREFBUSxDQUFDLG9EQUFZLE1BQU0sZ0JBQWdCO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyREFBbUI7QUFDM0IsZ0JBQWdCLHNEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzL2Rpc3QvZXNtL2Zvcm1hdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRFcnJvciwgZ2V0RXJyb3JCeUNvZGUsIGlzUmVzZXJ2ZWRFcnJvckNvZGUgfSBmcm9tIFwiLi9lcnJvclwiO1xuaW1wb3J0IHsgSU5URVJOQUxfRVJST1IsIFNFUlZFUl9FUlJPUiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBheWxvYWRJZChlbnRyb3B5ID0gMykge1xuICAgIGNvbnN0IGRhdGUgPSBEYXRlLm5vdygpICogTWF0aC5wb3coMTAsIGVudHJvcHkpO1xuICAgIGNvbnN0IGV4dHJhID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5wb3coMTAsIGVudHJvcHkpKTtcbiAgICByZXR1cm4gZGF0ZSArIGV4dHJhO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEJpZ0ludFJwY0lkKGVudHJvcHkgPSA2KSB7XG4gICAgcmV0dXJuIEJpZ0ludChwYXlsb2FkSWQoZW50cm9weSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEpzb25ScGNSZXF1ZXN0KG1ldGhvZCwgcGFyYW1zLCBpZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBpZCB8fCBwYXlsb2FkSWQoKSxcbiAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBwYXJhbXMsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRKc29uUnBjUmVzdWx0KGlkLCByZXN1bHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZCxcbiAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgcmVzdWx0LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0SnNvblJwY0Vycm9yKGlkLCBlcnJvciwgZGF0YSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICBlcnJvcjogZm9ybWF0RXJyb3JNZXNzYWdlKGVycm9yLCBkYXRhKSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEVycm9yTWVzc2FnZShlcnJvciwgZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZXJyb3IgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGdldEVycm9yKElOVEVSTkFMX0VSUk9SKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBlcnJvciA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZ2V0RXJyb3IoU0VSVkVSX0VSUk9SKSksIHsgbWVzc2FnZTogZXJyb3IgfSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBlcnJvci5kYXRhID0gZGF0YTtcbiAgICB9XG4gICAgaWYgKGlzUmVzZXJ2ZWRFcnJvckNvZGUoZXJyb3IuY29kZSkpIHtcbiAgICAgICAgZXJyb3IgPSBnZXRFcnJvckJ5Q29kZShlcnJvci5jb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ybWF0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ERROR),\n/* harmony export */   IBaseJsonRpcProvider: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IBaseJsonRpcProvider),\n/* harmony export */   IEvents: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IEvents),\n/* harmony export */   IJsonRpcConnection: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IJsonRpcConnection),\n/* harmony export */   IJsonRpcProvider: () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_5__.IJsonRpcProvider),\n/* harmony export */   INTERNAL_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_ERROR),\n/* harmony export */   INVALID_PARAMS: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.INVALID_PARAMS),\n/* harmony export */   INVALID_REQUEST: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.INVALID_REQUEST),\n/* harmony export */   METHOD_NOT_FOUND: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.METHOD_NOT_FOUND),\n/* harmony export */   PARSE_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.PARSE_ERROR),\n/* harmony export */   RESERVED_ERROR_CODES: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.RESERVED_ERROR_CODES),\n/* harmony export */   SERVER_ERROR: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR),\n/* harmony export */   SERVER_ERROR_CODE_RANGE: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.SERVER_ERROR_CODE_RANGE),\n/* harmony export */   STANDARD_ERROR_MAP: () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_0__.STANDARD_ERROR_MAP),\n/* harmony export */   formatErrorMessage: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatErrorMessage),\n/* harmony export */   formatJsonRpcError: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError),\n/* harmony export */   formatJsonRpcRequest: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest),\n/* harmony export */   formatJsonRpcResult: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult),\n/* harmony export */   getBigIntRpcId: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId),\n/* harmony export */   getError: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.getError),\n/* harmony export */   getErrorByCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.getErrorByCode),\n/* harmony export */   isHttpUrl: () => (/* reexport safe */ _url__WEBPACK_IMPORTED_MODULE_6__.isHttpUrl),\n/* harmony export */   isJsonRpcError: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcError),\n/* harmony export */   isJsonRpcPayload: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcPayload),\n/* harmony export */   isJsonRpcRequest: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcRequest),\n/* harmony export */   isJsonRpcResponse: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcResponse),\n/* harmony export */   isJsonRpcResult: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcResult),\n/* harmony export */   isJsonRpcValidationInvalid: () => (/* reexport safe */ _validators__WEBPACK_IMPORTED_MODULE_7__.isJsonRpcValidationInvalid),\n/* harmony export */   isLocalhostUrl: () => (/* reexport safe */ _url__WEBPACK_IMPORTED_MODULE_6__.isLocalhostUrl),\n/* harmony export */   isReservedErrorCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.isReservedErrorCode),\n/* harmony export */   isServerErrorCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.isServerErrorCode),\n/* harmony export */   isValidDefaultRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidDefaultRoute),\n/* harmony export */   isValidErrorCode: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.isValidErrorCode),\n/* harmony export */   isValidLeadingWildcardRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidLeadingWildcardRoute),\n/* harmony export */   isValidRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidRoute),\n/* harmony export */   isValidTrailingWildcardRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidTrailingWildcardRoute),\n/* harmony export */   isValidWildcardRoute: () => (/* reexport safe */ _routing__WEBPACK_IMPORTED_MODULE_4__.isValidWildcardRoute),\n/* harmony export */   isWsUrl: () => (/* reexport safe */ _url__WEBPACK_IMPORTED_MODULE_6__.isWsUrl),\n/* harmony export */   parseConnectionError: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.parseConnectionError),\n/* harmony export */   payloadId: () => (/* reexport safe */ _format__WEBPACK_IMPORTED_MODULE_3__.payloadId),\n/* harmony export */   validateJsonRpcError: () => (/* reexport safe */ _error__WEBPACK_IMPORTED_MODULE_1__.validateJsonRpcError)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js\");\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./env */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _env__WEBPACK_IMPORTED_MODULE_2__) if([\"default\",\"DEFAULT_ERROR\",\"INTERNAL_ERROR\",\"INVALID_PARAMS\",\"INVALID_REQUEST\",\"METHOD_NOT_FOUND\",\"PARSE_ERROR\",\"RESERVED_ERROR_CODES\",\"SERVER_ERROR\",\"SERVER_ERROR_CODE_RANGE\",\"STANDARD_ERROR_MAP\",\"getError\",\"getErrorByCode\",\"isReservedErrorCode\",\"isServerErrorCode\",\"isValidErrorCode\",\"parseConnectionError\",\"validateJsonRpcError\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _env__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _format__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./format */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js\");\n/* harmony import */ var _routing__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./routing */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js\");\n/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./url */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js\");\n/* harmony import */ var _validators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./validators */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js\");\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTRCO0FBQ0o7QUFDRjtBQUNHO0FBQ0M7QUFDRjtBQUNGO0FBQ087QUFDN0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHMvZGlzdC9lc20vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lcnJvclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZW52XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9mb3JtYXRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3JvdXRpbmdcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3R5cGVzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi91cmxcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3ZhbGlkYXRvcnNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isValidDefaultRoute: () => (/* binding */ isValidDefaultRoute),\n/* harmony export */   isValidLeadingWildcardRoute: () => (/* binding */ isValidLeadingWildcardRoute),\n/* harmony export */   isValidRoute: () => (/* binding */ isValidRoute),\n/* harmony export */   isValidTrailingWildcardRoute: () => (/* binding */ isValidTrailingWildcardRoute),\n/* harmony export */   isValidWildcardRoute: () => (/* binding */ isValidWildcardRoute)\n/* harmony export */ });\nfunction isValidRoute(route) {\n    if (route.includes(\"*\")) {\n        return isValidWildcardRoute(route);\n    }\n    if (/\\W/g.test(route)) {\n        return false;\n    }\n    return true;\n}\nfunction isValidDefaultRoute(route) {\n    return route === \"*\";\n}\nfunction isValidWildcardRoute(route) {\n    if (isValidDefaultRoute(route)) {\n        return true;\n    }\n    if (!route.includes(\"*\")) {\n        return false;\n    }\n    if (route.split(\"*\").length !== 2) {\n        return false;\n    }\n    if (route.split(\"*\").filter(x => x.trim() === \"\").length !== 1) {\n        return false;\n    }\n    return true;\n}\nfunction isValidLeadingWildcardRoute(route) {\n    return !isValidDefaultRoute(route) && isValidWildcardRoute(route) && !route.split(\"*\")[0].trim();\n}\nfunction isValidTrailingWildcardRoute(route) {\n    return !isValidDefaultRoute(route) && isValidWildcardRoute(route) && !route.split(\"*\")[1].trim();\n}\n//# sourceMappingURL=routing.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS9yb3V0aW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHMvZGlzdC9lc20vcm91dGluZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNWYWxpZFJvdXRlKHJvdXRlKSB7XG4gICAgaWYgKHJvdXRlLmluY2x1ZGVzKFwiKlwiKSkge1xuICAgICAgICByZXR1cm4gaXNWYWxpZFdpbGRjYXJkUm91dGUocm91dGUpO1xuICAgIH1cbiAgICBpZiAoL1xcVy9nLnRlc3Qocm91dGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZERlZmF1bHRSb3V0ZShyb3V0ZSkge1xuICAgIHJldHVybiByb3V0ZSA9PT0gXCIqXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFdpbGRjYXJkUm91dGUocm91dGUpIHtcbiAgICBpZiAoaXNWYWxpZERlZmF1bHRSb3V0ZShyb3V0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghcm91dGUuaW5jbHVkZXMoXCIqXCIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLnNwbGl0KFwiKlwiKS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocm91dGUuc3BsaXQoXCIqXCIpLmZpbHRlcih4ID0+IHgudHJpbSgpID09PSBcIlwiKS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkTGVhZGluZ1dpbGRjYXJkUm91dGUocm91dGUpIHtcbiAgICByZXR1cm4gIWlzVmFsaWREZWZhdWx0Um91dGUocm91dGUpICYmIGlzVmFsaWRXaWxkY2FyZFJvdXRlKHJvdXRlKSAmJiAhcm91dGUuc3BsaXQoXCIqXCIpWzBdLnRyaW0oKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVHJhaWxpbmdXaWxkY2FyZFJvdXRlKHJvdXRlKSB7XG4gICAgcmV0dXJuICFpc1ZhbGlkRGVmYXVsdFJvdXRlKHJvdXRlKSAmJiBpc1ZhbGlkV2lsZGNhcmRSb3V0ZShyb3V0ZSkgJiYgIXJvdXRlLnNwbGl0KFwiKlwiKVsxXS50cmltKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0aW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IBaseJsonRpcProvider: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IBaseJsonRpcProvider),\n/* harmony export */   IEvents: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IEvents),\n/* harmony export */   IJsonRpcConnection: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IJsonRpcConnection),\n/* harmony export */   IJsonRpcProvider: () => (/* reexport safe */ _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__.IJsonRpcProvider)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_jsonrpc_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/jsonrpc-types */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-types/dist/index.es.js\");\n\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE2QztBQUM3QyIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS90eXBlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy10eXBlc1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHttpUrl: () => (/* binding */ isHttpUrl),\n/* harmony export */   isLocalhostUrl: () => (/* binding */ isLocalhostUrl),\n/* harmony export */   isWsUrl: () => (/* binding */ isWsUrl)\n/* harmony export */ });\nconst HTTP_REGEX = \"^https?:\";\nconst WS_REGEX = \"^wss?:\";\nfunction getUrlProtocol(url) {\n    const matches = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!matches || !matches.length)\n        return;\n    return matches[0];\n}\nfunction matchRegexProtocol(url, regex) {\n    const protocol = getUrlProtocol(url);\n    if (typeof protocol === \"undefined\")\n        return false;\n    return new RegExp(regex).test(protocol);\n}\nfunction isHttpUrl(url) {\n    return matchRegexProtocol(url, HTTP_REGEX);\n}\nfunction isWsUrl(url) {\n    return matchRegexProtocol(url, WS_REGEX);\n}\nfunction isLocalhostUrl(url) {\n    return new RegExp(\"wss?://localhost(:d{2,5})?\").test(url);\n}\n//# sourceMappingURL=url.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS91cmwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1AsMkNBQTJDLElBQUk7QUFDL0M7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS91cmwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSFRUUF9SRUdFWCA9IFwiXmh0dHBzPzpcIjtcbmNvbnN0IFdTX1JFR0VYID0gXCJed3NzPzpcIjtcbmZ1bmN0aW9uIGdldFVybFByb3RvY29sKHVybCkge1xuICAgIGNvbnN0IG1hdGNoZXMgPSB1cmwubWF0Y2gobmV3IFJlZ0V4cCgvXlxcdys6LywgXCJnaVwiKSk7XG4gICAgaWYgKCFtYXRjaGVzIHx8ICFtYXRjaGVzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuO1xuICAgIHJldHVybiBtYXRjaGVzWzBdO1xufVxuZnVuY3Rpb24gbWF0Y2hSZWdleFByb3RvY29sKHVybCwgcmVnZXgpIHtcbiAgICBjb25zdCBwcm90b2NvbCA9IGdldFVybFByb3RvY29sKHVybCk7XG4gICAgaWYgKHR5cGVvZiBwcm90b2NvbCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4KS50ZXN0KHByb3RvY29sKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0h0dHBVcmwodXJsKSB7XG4gICAgcmV0dXJuIG1hdGNoUmVnZXhQcm90b2NvbCh1cmwsIEhUVFBfUkVHRVgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzV3NVcmwodXJsKSB7XG4gICAgcmV0dXJuIG1hdGNoUmVnZXhQcm90b2NvbCh1cmwsIFdTX1JFR0VYKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xvY2FsaG9zdFVybCh1cmwpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChcIndzcz86Ly9sb2NhbGhvc3QoOmR7Miw1fSk/XCIpLnRlc3QodXJsKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isJsonRpcError: () => (/* binding */ isJsonRpcError),\n/* harmony export */   isJsonRpcPayload: () => (/* binding */ isJsonRpcPayload),\n/* harmony export */   isJsonRpcRequest: () => (/* binding */ isJsonRpcRequest),\n/* harmony export */   isJsonRpcResponse: () => (/* binding */ isJsonRpcResponse),\n/* harmony export */   isJsonRpcResult: () => (/* binding */ isJsonRpcResult),\n/* harmony export */   isJsonRpcValidationInvalid: () => (/* binding */ isJsonRpcValidationInvalid)\n/* harmony export */ });\nfunction isJsonRpcPayload(payload) {\n    return (typeof payload === \"object\" &&\n        \"id\" in payload &&\n        \"jsonrpc\" in payload &&\n        payload.jsonrpc === \"2.0\");\n}\nfunction isJsonRpcRequest(payload) {\n    return isJsonRpcPayload(payload) && \"method\" in payload;\n}\nfunction isJsonRpcResponse(payload) {\n    return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));\n}\nfunction isJsonRpcResult(payload) {\n    return \"result\" in payload;\n}\nfunction isJsonRpcError(payload) {\n    return \"error\" in payload;\n}\nfunction isJsonRpcValidationInvalid(validation) {\n    return \"error\" in validation && validation.valid === false;\n}\n//# sourceMappingURL=validators.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlscy9kaXN0L2VzbS92YWxpZGF0b3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzL2Rpc3QvZXNtL3ZhbGlkYXRvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzSnNvblJwY1BheWxvYWQocGF5bG9hZCkge1xuICAgIHJldHVybiAodHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgXCJpZFwiIGluIHBheWxvYWQgJiZcbiAgICAgICAgXCJqc29ucnBjXCIgaW4gcGF5bG9hZCAmJlxuICAgICAgICBwYXlsb2FkLmpzb25ycGMgPT09IFwiMi4wXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvblJwY1JlcXVlc3QocGF5bG9hZCkge1xuICAgIHJldHVybiBpc0pzb25ScGNQYXlsb2FkKHBheWxvYWQpICYmIFwibWV0aG9kXCIgaW4gcGF5bG9hZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25ScGNSZXNwb25zZShwYXlsb2FkKSB7XG4gICAgcmV0dXJuIGlzSnNvblJwY1BheWxvYWQocGF5bG9hZCkgJiYgKGlzSnNvblJwY1Jlc3VsdChwYXlsb2FkKSB8fCBpc0pzb25ScGNFcnJvcihwYXlsb2FkKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNKc29uUnBjUmVzdWx0KHBheWxvYWQpIHtcbiAgICByZXR1cm4gXCJyZXN1bHRcIiBpbiBwYXlsb2FkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvblJwY0Vycm9yKHBheWxvYWQpIHtcbiAgICByZXR1cm4gXCJlcnJvclwiIGluIHBheWxvYWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNKc29uUnBjVmFsaWRhdGlvbkludmFsaWQodmFsaWRhdGlvbikge1xuICAgIHJldHVybiBcImVycm9yXCIgaW4gdmFsaWRhdGlvbiAmJiB2YWxpZGF0aW9uLnZhbGlkID09PSBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbGlkYXRvcnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WsConnection: () => (/* binding */ f),\n/* harmony export */   \"default\": () => (/* binding */ f)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst v=()=>typeof WebSocket<\"u\"?WebSocket:typeof global<\"u\"&&typeof global.WebSocket<\"u\"?global.WebSocket:typeof window<\"u\"&&typeof window.WebSocket<\"u\"?window.WebSocket:typeof self<\"u\"&&typeof self.WebSocket<\"u\"?self.WebSocket:__webpack_require__(/*! ws */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/index.js\"),w=()=>typeof WebSocket<\"u\"||typeof global<\"u\"&&typeof global.WebSocket<\"u\"||typeof window<\"u\"&&typeof window.WebSocket<\"u\"||typeof self<\"u\"&&typeof self.WebSocket<\"u\",d=r=>r.split(\"?\")[0],h=10,b=v();class f{constructor(e){if(this.url=e,this.events=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.registering=!1,!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<\"u\"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>\"u\"){t(new Error(\"Connection already closed\"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>\"u\"&&(this.socket=await this.register());try{this.socket.send((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount(\"register_error\")>=t||this.events.listenerCount(\"open\")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,s)=>{this.events.once(\"register_error\",o=>{this.resetMaxListeners(),s(o)}),this.events.once(\"open\",()=>{if(this.resetMaxListeners(),typeof this.socket>\"u\")return s(new Error(\"WebSocket connection is missing or invalid\"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isReactNative)()?void 0:{rejectUnauthorized:!(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.isLocalhostUrl)(e)},o=new b(e,[],s);w()?o.onerror=i=>{const a=i;n(this.emitError(a.error))}:o.on(\"error\",i=>{n(this.emitError(i))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit(\"open\")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit(\"close\",e)}onPayload(e){if(typeof e.data>\"u\")return;const t=typeof e.data==\"string\"?(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonParse)(e.data):e.data;this.events.emit(\"payload\",t)}onError(e,t){const n=this.parseError(t),s=n.message||n.toString(),o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.formatJsonRpcError)(e,s);this.events.emit(\"payload\",o)}parseError(e,t=this.url){return (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_2__.parseConnectionError)(e,d(t),\"WS\")}resetMaxListeners(){this.events.getMaxListeners()>h&&this.events.setMaxListeners(h)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${d(this.url)}`));return this.events.emit(\"register_error\",t),t}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNRLHFPQUFxTyxtQkFBTyxDQUFDLDhGQUFJLHlNQUF5TSxRQUFRLGVBQWUsOEJBQThCLGdEQUFDLHNCQUFzQixxRUFBQyxpRkFBaUYsRUFBRSxHQUFHLFdBQVcsZ0JBQWdCLDhCQUE4QixpQkFBaUIsd0JBQXdCLFFBQVEsb0JBQW9CLFVBQVUsc0JBQXNCLFNBQVMscUJBQXFCLG9CQUFvQixnQ0FBZ0MsdUJBQXVCLHVCQUF1QixjQUFjLDJCQUEyQiwyQkFBMkIsMENBQTBDLE9BQU8sd0JBQXdCLG9CQUFvQixxQkFBcUIsRUFBRSxjQUFjLDREQUE0RCxJQUFJLGlCQUFpQiwyRUFBQyxLQUFLLFNBQVMsc0JBQXNCLHFCQUFxQixJQUFJLHFFQUFDLGlGQUFpRixFQUFFLEdBQUcscUJBQXFCLHNDQUFzQyxtSkFBbUosc0NBQXNDLDhCQUE4QiwrQkFBK0IscUhBQXFILGVBQWUsRUFBRSxFQUFFLDBEQUEwRCxRQUFRLDJFQUFDLFdBQVcsb0JBQW9CLDRFQUFDLElBQUksaUJBQWlCLGtCQUFrQixVQUFVLDJCQUEyQixrQkFBa0IscUJBQXFCLGdCQUFnQixxQkFBcUIsRUFBRSxVQUFVLHlIQUF5SCxXQUFXLG1FQUFtRSxhQUFhLDRCQUE0QixnQ0FBZ0MsdUVBQUMsZ0JBQWdCLDhCQUE4QixhQUFhLHVEQUF1RCxnRkFBQyxNQUFNLDhCQUE4Qix5QkFBeUIsT0FBTyxrRkFBQyxjQUFjLG9CQUFvQixnRUFBZ0UsYUFBYSx1RkFBdUYsWUFBWSxJQUFJLCtDQUFzRjtBQUNsK0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtFdmVudEVtaXR0ZXIgYXMgbH1mcm9tXCJldmVudHNcIjtpbXBvcnR7c2FmZUpzb25TdHJpbmdpZnkgYXMgdSxzYWZlSnNvblBhcnNlIGFzIHB9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uXCI7aW1wb3J0e2lzV3NVcmwgYXMgYyxpc1JlYWN0TmF0aXZlIGFzIGcsaXNMb2NhbGhvc3RVcmwgYXMgeSxmb3JtYXRKc29uUnBjRXJyb3IgYXMgayxwYXJzZUNvbm5lY3Rpb25FcnJvciBhcyBtfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjtjb25zdCB2PSgpPT50eXBlb2YgV2ViU29ja2V0PFwidVwiP1dlYlNvY2tldDp0eXBlb2YgZ2xvYmFsPFwidVwiJiZ0eXBlb2YgZ2xvYmFsLldlYlNvY2tldDxcInVcIj9nbG9iYWwuV2ViU29ja2V0OnR5cGVvZiB3aW5kb3c8XCJ1XCImJnR5cGVvZiB3aW5kb3cuV2ViU29ja2V0PFwidVwiP3dpbmRvdy5XZWJTb2NrZXQ6dHlwZW9mIHNlbGY8XCJ1XCImJnR5cGVvZiBzZWxmLldlYlNvY2tldDxcInVcIj9zZWxmLldlYlNvY2tldDpyZXF1aXJlKFwid3NcIiksdz0oKT0+dHlwZW9mIFdlYlNvY2tldDxcInVcInx8dHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mIGdsb2JhbC5XZWJTb2NrZXQ8XCJ1XCJ8fHR5cGVvZiB3aW5kb3c8XCJ1XCImJnR5cGVvZiB3aW5kb3cuV2ViU29ja2V0PFwidVwifHx0eXBlb2Ygc2VsZjxcInVcIiYmdHlwZW9mIHNlbGYuV2ViU29ja2V0PFwidVwiLGQ9cj0+ci5zcGxpdChcIj9cIilbMF0saD0xMCxiPXYoKTtjbGFzcyBme2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMudXJsPWUsdGhpcy5ldmVudHM9bmV3IGwsdGhpcy5yZWdpc3RlcmluZz0hMSwhYyhlKSl0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVkIFVSTCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFdlYlNvY2tldCBjb25uZWN0aW9uOiAke2V9YCk7dGhpcy51cmw9ZX1nZXQgY29ubmVjdGVkKCl7cmV0dXJuIHR5cGVvZiB0aGlzLnNvY2tldDxcInVcIn1nZXQgY29ubmVjdGluZygpe3JldHVybiB0aGlzLnJlZ2lzdGVyaW5nfW9uKGUsdCl7dGhpcy5ldmVudHMub24oZSx0KX1vbmNlKGUsdCl7dGhpcy5ldmVudHMub25jZShlLHQpfW9mZihlLHQpe3RoaXMuZXZlbnRzLm9mZihlLHQpfXJlbW92ZUxpc3RlbmVyKGUsdCl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSx0KX1hc3luYyBvcGVuKGU9dGhpcy51cmwpe2F3YWl0IHRoaXMucmVnaXN0ZXIoZSl9YXN5bmMgY2xvc2UoKXtyZXR1cm4gbmV3IFByb21pc2UoKGUsdCk9PntpZih0eXBlb2YgdGhpcy5zb2NrZXQ+XCJ1XCIpe3QobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBhbHJlYWR5IGNsb3NlZFwiKSk7cmV0dXJufXRoaXMuc29ja2V0Lm9uY2xvc2U9bj0+e3RoaXMub25DbG9zZShuKSxlKCl9LHRoaXMuc29ja2V0LmNsb3NlKCl9KX1hc3luYyBzZW5kKGUpe3R5cGVvZiB0aGlzLnNvY2tldD5cInVcIiYmKHRoaXMuc29ja2V0PWF3YWl0IHRoaXMucmVnaXN0ZXIoKSk7dHJ5e3RoaXMuc29ja2V0LnNlbmQodShlKSl9Y2F0Y2godCl7dGhpcy5vbkVycm9yKGUuaWQsdCl9fXJlZ2lzdGVyKGU9dGhpcy51cmwpe2lmKCFjKGUpKXRocm93IG5ldyBFcnJvcihgUHJvdmlkZWQgVVJMIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggV2ViU29ja2V0IGNvbm5lY3Rpb246ICR7ZX1gKTtpZih0aGlzLnJlZ2lzdGVyaW5nKXtjb25zdCB0PXRoaXMuZXZlbnRzLmdldE1heExpc3RlbmVycygpO3JldHVybih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KFwicmVnaXN0ZXJfZXJyb3JcIik+PXR8fHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQoXCJvcGVuXCIpPj10KSYmdGhpcy5ldmVudHMuc2V0TWF4TGlzdGVuZXJzKHQrMSksbmV3IFByb21pc2UoKG4scyk9Pnt0aGlzLmV2ZW50cy5vbmNlKFwicmVnaXN0ZXJfZXJyb3JcIixvPT57dGhpcy5yZXNldE1heExpc3RlbmVycygpLHMobyl9KSx0aGlzLmV2ZW50cy5vbmNlKFwib3BlblwiLCgpPT57aWYodGhpcy5yZXNldE1heExpc3RlbmVycygpLHR5cGVvZiB0aGlzLnNvY2tldD5cInVcIilyZXR1cm4gcyhuZXcgRXJyb3IoXCJXZWJTb2NrZXQgY29ubmVjdGlvbiBpcyBtaXNzaW5nIG9yIGludmFsaWRcIikpO24odGhpcy5zb2NrZXQpfSl9KX1yZXR1cm4gdGhpcy51cmw9ZSx0aGlzLnJlZ2lzdGVyaW5nPSEwLG5ldyBQcm9taXNlKCh0LG4pPT57Y29uc3Qgcz1nKCk/dm9pZCAwOntyZWplY3RVbmF1dGhvcml6ZWQ6IXkoZSl9LG89bmV3IGIoZSxbXSxzKTt3KCk/by5vbmVycm9yPWk9Pntjb25zdCBhPWk7bih0aGlzLmVtaXRFcnJvcihhLmVycm9yKSl9Om8ub24oXCJlcnJvclwiLGk9PntuKHRoaXMuZW1pdEVycm9yKGkpKX0pLG8ub25vcGVuPSgpPT57dGhpcy5vbk9wZW4obyksdChvKX19KX1vbk9wZW4oZSl7ZS5vbm1lc3NhZ2U9dD0+dGhpcy5vblBheWxvYWQodCksZS5vbmNsb3NlPXQ9PnRoaXMub25DbG9zZSh0KSx0aGlzLnNvY2tldD1lLHRoaXMucmVnaXN0ZXJpbmc9ITEsdGhpcy5ldmVudHMuZW1pdChcIm9wZW5cIil9b25DbG9zZShlKXt0aGlzLnNvY2tldD12b2lkIDAsdGhpcy5yZWdpc3RlcmluZz0hMSx0aGlzLmV2ZW50cy5lbWl0KFwiY2xvc2VcIixlKX1vblBheWxvYWQoZSl7aWYodHlwZW9mIGUuZGF0YT5cInVcIilyZXR1cm47Y29uc3QgdD10eXBlb2YgZS5kYXRhPT1cInN0cmluZ1wiP3AoZS5kYXRhKTplLmRhdGE7dGhpcy5ldmVudHMuZW1pdChcInBheWxvYWRcIix0KX1vbkVycm9yKGUsdCl7Y29uc3Qgbj10aGlzLnBhcnNlRXJyb3IodCkscz1uLm1lc3NhZ2V8fG4udG9TdHJpbmcoKSxvPWsoZSxzKTt0aGlzLmV2ZW50cy5lbWl0KFwicGF5bG9hZFwiLG8pfXBhcnNlRXJyb3IoZSx0PXRoaXMudXJsKXtyZXR1cm4gbShlLGQodCksXCJXU1wiKX1yZXNldE1heExpc3RlbmVycygpe3RoaXMuZXZlbnRzLmdldE1heExpc3RlbmVycygpPmgmJnRoaXMuZXZlbnRzLnNldE1heExpc3RlbmVycyhoKX1lbWl0RXJyb3IoZSl7Y29uc3QgdD10aGlzLnBhcnNlRXJyb3IobmV3IEVycm9yKGU/Lm1lc3NhZ2V8fGBXZWJTb2NrZXQgY29ubmVjdGlvbiBmYWlsZWQgZm9yIGhvc3Q6ICR7ZCh0aGlzLnVybCl9YCkpO3JldHVybiB0aGlzLmV2ZW50cy5lbWl0KFwicmVnaXN0ZXJfZXJyb3JcIix0KSx0fX1leHBvcnR7ZiBhcyBXc0Nvbm5lY3Rpb24sZiBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/index.js ***!
  \************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst WebSocket = __webpack_require__(/*! ./lib/websocket */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket.js\");\n\nWebSocket.createWebSocketStream = __webpack_require__(/*! ./lib/stream */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/stream.js\");\nWebSocket.Server = __webpack_require__(/*! ./lib/websocket-server */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket-server.js\");\nWebSocket.Receiver = __webpack_require__(/*! ./lib/receiver */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/receiver.js\");\nWebSocket.Sender = __webpack_require__(/*! ./lib/sender */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/sender.js\");\n\nmodule.exports = WebSocket;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixrQkFBa0IsbUJBQU8sQ0FBQyxtSEFBaUI7O0FBRTNDLGtDQUFrQyxtQkFBTyxDQUFDLDZHQUFjO0FBQ3hELG1CQUFtQixtQkFBTyxDQUFDLGlJQUF3QjtBQUNuRCxxQkFBcUIsbUJBQU8sQ0FBQyxpSEFBZ0I7QUFDN0MsbUJBQW1CLG1CQUFPLENBQUMsNkdBQWM7O0FBRXpDIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb24vbm9kZV9tb2R1bGVzL3dzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgV2ViU29ja2V0ID0gcmVxdWlyZSgnLi9saWIvd2Vic29ja2V0Jyk7XG5cbldlYlNvY2tldC5jcmVhdGVXZWJTb2NrZXRTdHJlYW0gPSByZXF1aXJlKCcuL2xpYi9zdHJlYW0nKTtcbldlYlNvY2tldC5TZXJ2ZXIgPSByZXF1aXJlKCcuL2xpYi93ZWJzb2NrZXQtc2VydmVyJyk7XG5XZWJTb2NrZXQuUmVjZWl2ZXIgPSByZXF1aXJlKCcuL2xpYi9yZWNlaXZlcicpO1xuV2ViU29ja2V0LlNlbmRlciA9IHJlcXVpcmUoJy4vbGliL3NlbmRlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYlNvY2tldDtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst { EMPTY_BUFFER } = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) return target.slice(0, offset);\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n  const length = buffer.length;\n  for (let i = 0; i < length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = Buffer.from(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\ntry {\n  const bufferUtil = __webpack_require__(/*! bufferutil */ \"?63cd\");\n  const bu = bufferUtil.BufferUtil || bufferUtil;\n\n  module.exports = {\n    concat,\n    mask(source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bu.mask(source, mask, output, offset, length);\n    },\n    toArrayBuffer,\n    toBuffer,\n    unmask(buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bu.unmask(buffer, mask);\n    }\n  };\n} catch (e) /* istanbul ignore next */ {\n  module.exports = {\n    concat,\n    mask: _mask,\n    toArrayBuffer,\n    toBuffer,\n    unmask: _unmask\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvYnVmZmVyLXV0aWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsUUFBUSxlQUFlLEVBQUUsbUJBQU8sQ0FBQywrR0FBYTs7QUFFOUM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxZQUFZLFFBQVE7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsbUJBQU8sQ0FBQyx5QkFBWTtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9ub2RlX21vZHVsZXMvd3MvbGliL2J1ZmZlci11dGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgeyBFTVBUWV9CVUZGRVIgfSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG5cbi8qKlxuICogTWVyZ2VzIGFuIGFycmF5IG9mIGJ1ZmZlcnMgaW50byBhIG5ldyBidWZmZXIuXG4gKlxuICogQHBhcmFtIHtCdWZmZXJbXX0gbGlzdCBUaGUgYXJyYXkgb2YgYnVmZmVycyB0byBjb25jYXRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3RhbExlbmd0aCBUaGUgdG90YWwgbGVuZ3RoIG9mIGJ1ZmZlcnMgaW4gdGhlIGxpc3RcbiAqIEByZXR1cm4ge0J1ZmZlcn0gVGhlIHJlc3VsdGluZyBidWZmZXJcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gY29uY2F0KGxpc3QsIHRvdGFsTGVuZ3RoKSB7XG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIEVNUFRZX0JVRkZFUjtcbiAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSByZXR1cm4gbGlzdFswXTtcblxuICBjb25zdCB0YXJnZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBidWYgPSBsaXN0W2ldO1xuICAgIHRhcmdldC5zZXQoYnVmLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBidWYubGVuZ3RoO1xuICB9XG5cbiAgaWYgKG9mZnNldCA8IHRvdGFsTGVuZ3RoKSByZXR1cm4gdGFyZ2V0LnNsaWNlKDAsIG9mZnNldCk7XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBNYXNrcyBhIGJ1ZmZlciB1c2luZyB0aGUgZ2l2ZW4gbWFzay5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gc291cmNlIFRoZSBidWZmZXIgdG8gbWFza1xuICogQHBhcmFtIHtCdWZmZXJ9IG1hc2sgVGhlIG1hc2sgdG8gdXNlXG4gKiBAcGFyYW0ge0J1ZmZlcn0gb3V0cHV0IFRoZSBidWZmZXIgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBUaGUgb2Zmc2V0IGF0IHdoaWNoIHRvIHN0YXJ0IHdyaXRpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggVGhlIG51bWJlciBvZiBieXRlcyB0byBtYXNrLlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBfbWFzayhzb3VyY2UsIG1hc2ssIG91dHB1dCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIG91dHB1dFtvZmZzZXQgKyBpXSA9IHNvdXJjZVtpXSBeIG1hc2tbaSAmIDNdO1xuICB9XG59XG5cbi8qKlxuICogVW5tYXNrcyBhIGJ1ZmZlciB1c2luZyB0aGUgZ2l2ZW4gbWFzay5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gdW5tYXNrXG4gKiBAcGFyYW0ge0J1ZmZlcn0gbWFzayBUaGUgbWFzayB0byB1c2VcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gX3VubWFzayhidWZmZXIsIG1hc2spIHtcbiAgLy8gUmVxdWlyZWQgdW50aWwgaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2lzc3Vlcy85MDA2IGlzIHJlc29sdmVkLlxuICBjb25zdCBsZW5ndGggPSBidWZmZXIubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYnVmZmVyW2ldIF49IG1hc2tbaSAmIDNdO1xuICB9XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBidWZmZXIgdG8gYW4gYEFycmF5QnVmZmVyYC5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmIFRoZSBidWZmZXIgdG8gY29udmVydFxuICogQHJldHVybiB7QXJyYXlCdWZmZXJ9IENvbnZlcnRlZCBidWZmZXJcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gdG9BcnJheUJ1ZmZlcihidWYpIHtcbiAgaWYgKGJ1Zi5ieXRlTGVuZ3RoID09PSBidWYuYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICByZXR1cm4gYnVmLmJ1ZmZlcjtcbiAgfVxuXG4gIHJldHVybiBidWYuYnVmZmVyLnNsaWNlKGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZU9mZnNldCArIGJ1Zi5ieXRlTGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZGF0YWAgdG8gYSBgQnVmZmVyYC5cbiAqXG4gKiBAcGFyYW0geyp9IGRhdGEgVGhlIGRhdGEgdG8gY29udmVydFxuICogQHJldHVybiB7QnVmZmVyfSBUaGUgYnVmZmVyXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9XG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHRvQnVmZmVyKGRhdGEpIHtcbiAgdG9CdWZmZXIucmVhZE9ubHkgPSB0cnVlO1xuXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoZGF0YSkpIHJldHVybiBkYXRhO1xuXG4gIGxldCBidWY7XG5cbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIGJ1ZiA9IEJ1ZmZlci5mcm9tKGRhdGEpO1xuICB9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSkge1xuICAgIGJ1ZiA9IEJ1ZmZlci5mcm9tKGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCk7XG4gIH0gZWxzZSB7XG4gICAgYnVmID0gQnVmZmVyLmZyb20oZGF0YSk7XG4gICAgdG9CdWZmZXIucmVhZE9ubHkgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBidWY7XG59XG5cbnRyeSB7XG4gIGNvbnN0IGJ1ZmZlclV0aWwgPSByZXF1aXJlKCdidWZmZXJ1dGlsJyk7XG4gIGNvbnN0IGJ1ID0gYnVmZmVyVXRpbC5CdWZmZXJVdGlsIHx8IGJ1ZmZlclV0aWw7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY29uY2F0LFxuICAgIG1hc2soc291cmNlLCBtYXNrLCBvdXRwdXQsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICBpZiAobGVuZ3RoIDwgNDgpIF9tYXNrKHNvdXJjZSwgbWFzaywgb3V0cHV0LCBvZmZzZXQsIGxlbmd0aCk7XG4gICAgICBlbHNlIGJ1Lm1hc2soc291cmNlLCBtYXNrLCBvdXRwdXQsIG9mZnNldCwgbGVuZ3RoKTtcbiAgICB9LFxuICAgIHRvQXJyYXlCdWZmZXIsXG4gICAgdG9CdWZmZXIsXG4gICAgdW5tYXNrKGJ1ZmZlciwgbWFzaykge1xuICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPCAzMikgX3VubWFzayhidWZmZXIsIG1hc2spO1xuICAgICAgZWxzZSBidS51bm1hc2soYnVmZmVyLCBtYXNrKTtcbiAgICB9XG4gIH07XG59IGNhdGNoIChlKSAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB7XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNvbmNhdCxcbiAgICBtYXNrOiBfbWFzayxcbiAgICB0b0FycmF5QnVmZmVyLFxuICAgIHRvQnVmZmVyLFxuICAgIHVubWFzazogX3VubWFza1xuICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js ***!
  \********************************************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  EMPTY_BUFFER: Buffer.alloc(0),\n  NOOP: () => {}\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9ub2RlX21vZHVsZXMvd3MvbGliL2NvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBCSU5BUllfVFlQRVM6IFsnbm9kZWJ1ZmZlcicsICdhcnJheWJ1ZmZlcicsICdmcmFnbWVudHMnXSxcbiAgR1VJRDogJzI1OEVBRkE1LUU5MTQtNDdEQS05NUNBLUM1QUIwREM4NUIxMScsXG4gIGtTdGF0dXNDb2RlOiBTeW1ib2woJ3N0YXR1cy1jb2RlJyksXG4gIGtXZWJTb2NrZXQ6IFN5bWJvbCgnd2Vic29ja2V0JyksXG4gIEVNUFRZX0JVRkZFUjogQnVmZmVyLmFsbG9jKDApLFxuICBOT09QOiAoKSA9PiB7fVxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/event-target.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/event-target.js ***!
  \***********************************************************************************************/
/***/ ((module) => {

eval("\n\n/**\n * Class representing an event.\n *\n * @private\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(type, target) {\n    this.target = target;\n    this.type = type;\n  }\n}\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n * @private\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The received data\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(data, target) {\n    super('message', target);\n\n    this.data = data;\n  }\n}\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n * @private\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {Number} code The status code explaining why the connection is being\n   *     closed\n   * @param {String} reason A human-readable string explaining why the\n   *     connection is closing\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(code, reason, target) {\n    super('close', target);\n\n    this.wasClean = target._closeFrameReceived && target._closeFrameSent;\n    this.reason = reason;\n    this.code = code;\n  }\n}\n\n/**\n * Class representing an open event.\n *\n * @extends Event\n * @private\n */\nclass OpenEvent extends Event {\n  /**\n   * Create a new `OpenEvent`.\n   *\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(target) {\n    super('open', target);\n  }\n}\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n * @private\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {Object} error The error that generated this event\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(error, target) {\n    super('error', target);\n\n    this.message = error.message;\n    this.error = error;\n  }\n}\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {Function} listener The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean`` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, listener, options) {\n    if (typeof listener !== 'function') return;\n\n    function onMessage(data) {\n      listener.call(this, new MessageEvent(data, this));\n    }\n\n    function onClose(code, message) {\n      listener.call(this, new CloseEvent(code, message, this));\n    }\n\n    function onError(error) {\n      listener.call(this, new ErrorEvent(error, this));\n    }\n\n    function onOpen() {\n      listener.call(this, new OpenEvent(this));\n    }\n\n    const method = options && options.once ? 'once' : 'on';\n\n    if (type === 'message') {\n      onMessage._listener = listener;\n      this[method](type, onMessage);\n    } else if (type === 'close') {\n      onClose._listener = listener;\n      this[method](type, onClose);\n    } else if (type === 'error') {\n      onError._listener = listener;\n      this[method](type, onError);\n    } else if (type === 'open') {\n      onOpen._listener = listener;\n      this[method](type, onOpen);\n    } else {\n      this[method](type, listener);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {Function} listener The listener to remove\n   * @public\n   */\n  removeEventListener(type, listener) {\n    const listeners = this.listeners(type);\n\n    for (let i = 0; i < listeners.length; i++) {\n      if (listeners[i] === listener || listeners[i]._listener === listener) {\n        this.removeListener(type, listeners[i]);\n      }\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvZXZlbnQtdGFyZ2V0LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHNDQUFzQztBQUNuRCxhQUFhLFdBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxXQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFdBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsV0FBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9ub2RlX21vZHVsZXMvd3MvbGliL2V2ZW50LXRhcmdldC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGFuIGV2ZW50LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEV2ZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBgRXZlbnRgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBBIHJlZmVyZW5jZSB0byB0aGUgdGFyZ2V0IHRvIHdoaWNoIHRoZSBldmVudCB3YXNcbiAgICogICAgIGRpc3BhdGNoZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHR5cGUsIHRhcmdldCkge1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBtZXNzYWdlIGV2ZW50LlxuICpcbiAqIEBleHRlbmRzIEV2ZW50XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBNZXNzYWdlRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYE1lc3NhZ2VFdmVudGAuXG4gICAqXG4gICAqIEBwYXJhbSB7KFN0cmluZ3xCdWZmZXJ8QXJyYXlCdWZmZXJ8QnVmZmVyW10pfSBkYXRhIFRoZSByZWNlaXZlZCBkYXRhXG4gICAqIEBwYXJhbSB7V2ViU29ja2V0fSB0YXJnZXQgQSByZWZlcmVuY2UgdG8gdGhlIHRhcmdldCB0byB3aGljaCB0aGUgZXZlbnQgd2FzXG4gICAqICAgICBkaXNwYXRjaGVkXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhLCB0YXJnZXQpIHtcbiAgICBzdXBlcignbWVzc2FnZScsIHRhcmdldCk7XG5cbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG59XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgY2xvc2UgZXZlbnQuXG4gKlxuICogQGV4dGVuZHMgRXZlbnRcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIENsb3NlRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYENsb3NlRXZlbnRgLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gY29kZSBUaGUgc3RhdHVzIGNvZGUgZXhwbGFpbmluZyB3aHkgdGhlIGNvbm5lY3Rpb24gaXMgYmVpbmdcbiAgICogICAgIGNsb3NlZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gcmVhc29uIEEgaHVtYW4tcmVhZGFibGUgc3RyaW5nIGV4cGxhaW5pbmcgd2h5IHRoZVxuICAgKiAgICAgY29ubmVjdGlvbiBpcyBjbG9zaW5nXG4gICAqIEBwYXJhbSB7V2ViU29ja2V0fSB0YXJnZXQgQSByZWZlcmVuY2UgdG8gdGhlIHRhcmdldCB0byB3aGljaCB0aGUgZXZlbnQgd2FzXG4gICAqICAgICBkaXNwYXRjaGVkXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb2RlLCByZWFzb24sIHRhcmdldCkge1xuICAgIHN1cGVyKCdjbG9zZScsIHRhcmdldCk7XG5cbiAgICB0aGlzLndhc0NsZWFuID0gdGFyZ2V0Ll9jbG9zZUZyYW1lUmVjZWl2ZWQgJiYgdGFyZ2V0Ll9jbG9zZUZyYW1lU2VudDtcbiAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICB9XG59XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGFuIG9wZW4gZXZlbnQuXG4gKlxuICogQGV4dGVuZHMgRXZlbnRcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIE9wZW5FdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBgT3BlbkV2ZW50YC5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJTb2NrZXR9IHRhcmdldCBBIHJlZmVyZW5jZSB0byB0aGUgdGFyZ2V0IHRvIHdoaWNoIHRoZSBldmVudCB3YXNcbiAgICogICAgIGRpc3BhdGNoZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRhcmdldCkge1xuICAgIHN1cGVyKCdvcGVuJywgdGFyZ2V0KTtcbiAgfVxufVxuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhbiBlcnJvciBldmVudC5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgRXJyb3JFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBgRXJyb3JFdmVudGAuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlcnJvciBUaGUgZXJyb3IgdGhhdCBnZW5lcmF0ZWQgdGhpcyBldmVudFxuICAgKiBAcGFyYW0ge1dlYlNvY2tldH0gdGFyZ2V0IEEgcmVmZXJlbmNlIHRvIHRoZSB0YXJnZXQgdG8gd2hpY2ggdGhlIGV2ZW50IHdhc1xuICAgKiAgICAgZGlzcGF0Y2hlZFxuICAgKi9cbiAgY29uc3RydWN0b3IoZXJyb3IsIHRhcmdldCkge1xuICAgIHN1cGVyKCdlcnJvcicsIHRhcmdldCk7XG5cbiAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgcHJvdmlkZXMgbWV0aG9kcyBmb3IgZW11bGF0aW5nIHRoZSBgRXZlbnRUYXJnZXRgIGludGVyZmFjZS4gSXQncyBub3RcbiAqIG1lYW50IHRvIGJlIHVzZWQgZGlyZWN0bHkuXG4gKlxuICogQG1peGluXG4gKi9cbmNvbnN0IEV2ZW50VGFyZ2V0ID0ge1xuICAvKipcbiAgICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciB0byBhZGRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBbiBvcHRpb25zIG9iamVjdCBzcGVjaWZpZXMgY2hhcmFjdGVyaXN0aWNzIGFib3V0XG4gICAqICAgICB0aGUgZXZlbnQgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5vbmNlPWZhbHNlXSBBIGBCb29sZWFuYGAgaW5kaWNhdGluZyB0aGF0IHRoZVxuICAgKiAgICAgbGlzdGVuZXIgc2hvdWxkIGJlIGludm9rZWQgYXQgbW9zdCBvbmNlIGFmdGVyIGJlaW5nIGFkZGVkLiBJZiBgdHJ1ZWAsXG4gICAqICAgICB0aGUgbGlzdGVuZXIgd291bGQgYmUgYXV0b21hdGljYWxseSByZW1vdmVkIHdoZW4gaW52b2tlZC5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHJldHVybjtcblxuICAgIGZ1bmN0aW9uIG9uTWVzc2FnZShkYXRhKSB7XG4gICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIG5ldyBNZXNzYWdlRXZlbnQoZGF0YSwgdGhpcykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQ2xvc2UoY29kZSwgbWVzc2FnZSkge1xuICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgQ2xvc2VFdmVudChjb2RlLCBtZXNzYWdlLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25FcnJvcihlcnJvcikge1xuICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgRXJyb3JFdmVudChlcnJvciwgdGhpcykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uT3BlbigpIHtcbiAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgbmV3IE9wZW5FdmVudCh0aGlzKSk7XG4gICAgfVxuXG4gICAgY29uc3QgbWV0aG9kID0gb3B0aW9ucyAmJiBvcHRpb25zLm9uY2UgPyAnb25jZScgOiAnb24nO1xuXG4gICAgaWYgKHR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgb25NZXNzYWdlLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgdGhpc1ttZXRob2RdKHR5cGUsIG9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnY2xvc2UnKSB7XG4gICAgICBvbkNsb3NlLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgdGhpc1ttZXRob2RdKHR5cGUsIG9uQ2xvc2UpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgb25FcnJvci5fbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgIHRoaXNbbWV0aG9kXSh0eXBlLCBvbkVycm9yKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvcGVuJykge1xuICAgICAgb25PcGVuLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgdGhpc1ttZXRob2RdKHR5cGUsIG9uT3Blbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXNbbWV0aG9kXSh0eXBlLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZXZlbnQgdHlwZSB0byByZW1vdmVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIHRvIHJlbW92ZVxuICAgKiBAcHVibGljXG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnModHlwZSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdGVuZXJzW2ldLl9saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudFRhcmdldDtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/event-target.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/extension.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/extension.js ***!
  \********************************************************************************************/
/***/ ((module) => {

eval("\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n\n  if (header === undefined || header === '') return offers;\n\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 /* ' ' */ || code === 0x09 /* '\\t' */) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvZXh0ZW5zaW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLHlCQUF5QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLG1CQUFtQjtBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRLDRCQUE0QjtBQUNwQztBQUNBLGlFQUFpRSxFQUFFO0FBQ25FOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUiwrREFBK0QsRUFBRTtBQUNqRTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsaUVBQWlFLEVBQUU7QUFDbkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUiwrREFBK0QsRUFBRTtBQUNqRTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxFQUFFO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVixpRUFBaUUsRUFBRTtBQUNuRTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLGlFQUFpRSxFQUFFO0FBQ25FOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLCtEQUErRCxFQUFFO0FBQ2pFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELEVBQUUsR0FBRyxFQUFFO0FBQzFELDJCQUEyQjtBQUMzQixlQUFlO0FBQ2Y7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEsbUJBQW1CIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb24vbm9kZV9tb2R1bGVzL3dzL2xpYi9leHRlbnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vL1xuLy8gQWxsb3dlZCB0b2tlbiBjaGFyYWN0ZXJzOlxuLy9cbi8vICchJywgJyMnLCAnJCcsICclJywgJyYnLCAnJycsICcqJywgJysnLCAnLScsXG4vLyAnLicsIDAtOSwgQS1aLCAnXicsICdfJywgJ2AnLCBhLXosICd8JywgJ34nXG4vL1xuLy8gdG9rZW5DaGFyc1szMl0gPT09IDAgLy8gJyAnXG4vLyB0b2tlbkNoYXJzWzMzXSA9PT0gMSAvLyAnISdcbi8vIHRva2VuQ2hhcnNbMzRdID09PSAwIC8vICdcIidcbi8vIC4uLlxuLy9cbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgdG9rZW5DaGFycyA9IFtcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgLy8gMCAtIDE1XG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIC8vIDE2IC0gMzFcbiAgMCwgMSwgMCwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMSwgMSwgMCwgMSwgMSwgMCwgLy8gMzIgLSA0N1xuICAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAvLyA0OCAtIDYzXG4gIDAsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIC8vIDY0IC0gNzlcbiAgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMCwgMCwgMCwgMSwgMSwgLy8gODAgLSA5NVxuICAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAvLyA5NiAtIDExMVxuICAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAxLCAwLCAxLCAwIC8vIDExMiAtIDEyN1xuXTtcblxuLyoqXG4gKiBBZGRzIGFuIG9mZmVyIHRvIHRoZSBtYXAgb2YgZXh0ZW5zaW9uIG9mZmVycyBvciBhIHBhcmFtZXRlciB0byB0aGUgbWFwIG9mXG4gKiBwYXJhbWV0ZXJzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0IFRoZSBtYXAgb2YgZXh0ZW5zaW9uIG9mZmVycyBvciBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgZXh0ZW5zaW9uIG9yIHBhcmFtZXRlciBuYW1lXG4gKiBAcGFyYW0geyhPYmplY3R8Qm9vbGVhbnxTdHJpbmcpfSBlbGVtIFRoZSBleHRlbnNpb24gcGFyYW1ldGVycyBvciB0aGVcbiAqICAgICBwYXJhbWV0ZXIgdmFsdWVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHB1c2goZGVzdCwgbmFtZSwgZWxlbSkge1xuICBpZiAoZGVzdFtuYW1lXSA9PT0gdW5kZWZpbmVkKSBkZXN0W25hbWVdID0gW2VsZW1dO1xuICBlbHNlIGRlc3RbbmFtZV0ucHVzaChlbGVtKTtcbn1cblxuLyoqXG4gKiBQYXJzZXMgdGhlIGBTZWMtV2ViU29ja2V0LUV4dGVuc2lvbnNgIGhlYWRlciBpbnRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVyIFRoZSBmaWVsZCB2YWx1ZSBvZiB0aGUgaGVhZGVyXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBwYXJzZWQgb2JqZWN0XG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKGhlYWRlcikge1xuICBjb25zdCBvZmZlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIGlmIChoZWFkZXIgPT09IHVuZGVmaW5lZCB8fCBoZWFkZXIgPT09ICcnKSByZXR1cm4gb2ZmZXJzO1xuXG4gIGxldCBwYXJhbXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBsZXQgbXVzdFVuZXNjYXBlID0gZmFsc2U7XG4gIGxldCBpc0VzY2FwaW5nID0gZmFsc2U7XG4gIGxldCBpblF1b3RlcyA9IGZhbHNlO1xuICBsZXQgZXh0ZW5zaW9uTmFtZTtcbiAgbGV0IHBhcmFtTmFtZTtcbiAgbGV0IHN0YXJ0ID0gLTE7XG4gIGxldCBlbmQgPSAtMTtcbiAgbGV0IGkgPSAwO1xuXG4gIGZvciAoOyBpIDwgaGVhZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY29kZSA9IGhlYWRlci5jaGFyQ29kZUF0KGkpO1xuXG4gICAgaWYgKGV4dGVuc2lvbk5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGVuZCA9PT0gLTEgJiYgdG9rZW5DaGFyc1tjb2RlXSA9PT0gMSkge1xuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSBzdGFydCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4MjAgLyogJyAnICovIHx8IGNvZGUgPT09IDB4MDkgLyogJ1xcdCcgKi8pIHtcbiAgICAgICAgaWYgKGVuZCA9PT0gLTEgJiYgc3RhcnQgIT09IC0xKSBlbmQgPSBpO1xuICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDNiIC8qICc7JyAqLyB8fCBjb2RlID09PSAweDJjIC8qICcsJyAqLykge1xuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhdCBpbmRleCAke2l9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5kID09PSAtMSkgZW5kID0gaTtcbiAgICAgICAgY29uc3QgbmFtZSA9IGhlYWRlci5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgaWYgKGNvZGUgPT09IDB4MmMpIHtcbiAgICAgICAgICBwdXNoKG9mZmVycywgbmFtZSwgcGFyYW1zKTtcbiAgICAgICAgICBwYXJhbXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4dGVuc2lvbk5hbWUgPSBuYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnQgPSBlbmQgPSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGFyYW1OYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChlbmQgPT09IC0xICYmIHRva2VuQ2hhcnNbY29kZV0gPT09IDEpIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkgc3RhcnQgPSBpO1xuICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDIwIHx8IGNvZGUgPT09IDB4MDkpIHtcbiAgICAgICAgaWYgKGVuZCA9PT0gLTEgJiYgc3RhcnQgIT09IC0xKSBlbmQgPSBpO1xuICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDNiIHx8IGNvZGUgPT09IDB4MmMpIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuZCA9PT0gLTEpIGVuZCA9IGk7XG4gICAgICAgIHB1c2gocGFyYW1zLCBoZWFkZXIuc2xpY2Uoc3RhcnQsIGVuZCksIHRydWUpO1xuICAgICAgICBpZiAoY29kZSA9PT0gMHgyYykge1xuICAgICAgICAgIHB1c2gob2ZmZXJzLCBleHRlbnNpb25OYW1lLCBwYXJhbXMpO1xuICAgICAgICAgIHBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZXh0ZW5zaW9uTmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0ID0gZW5kID0gLTE7XG4gICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4M2QgLyogJz0nICovICYmIHN0YXJ0ICE9PSAtMSAmJiBlbmQgPT09IC0xKSB7XG4gICAgICAgIHBhcmFtTmFtZSA9IGhlYWRlci5zbGljZShzdGFydCwgaSk7XG4gICAgICAgIHN0YXJ0ID0gZW5kID0gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy9cbiAgICAgIC8vIFRoZSB2YWx1ZSBvZiBhIHF1b3RlZC1zdHJpbmcgYWZ0ZXIgdW5lc2NhcGluZyBtdXN0IGNvbmZvcm0gdG8gdGhlXG4gICAgICAvLyB0b2tlbiBBQk5GLCBzbyBvbmx5IHRva2VuIGNoYXJhY3RlcnMgYXJlIHZhbGlkLlxuICAgICAgLy8gUmVmOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjQ1NSNzZWN0aW9uLTkuMVxuICAgICAgLy9cbiAgICAgIGlmIChpc0VzY2FwaW5nKSB7XG4gICAgICAgIGlmICh0b2tlbkNoYXJzW2NvZGVdICE9PSAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhdCBpbmRleCAke2l9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkgc3RhcnQgPSBpO1xuICAgICAgICBlbHNlIGlmICghbXVzdFVuZXNjYXBlKSBtdXN0VW5lc2NhcGUgPSB0cnVlO1xuICAgICAgICBpc0VzY2FwaW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGluUXVvdGVzKSB7XG4gICAgICAgIGlmICh0b2tlbkNoYXJzW2NvZGVdID09PSAxKSB7XG4gICAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkgc3RhcnQgPSBpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4MjIgLyogJ1wiJyAqLyAmJiBzdGFydCAhPT0gLTEpIHtcbiAgICAgICAgICBpblF1b3RlcyA9IGZhbHNlO1xuICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHg1YyAvKiAnXFwnICovKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhdCBpbmRleCAke2l9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgyMiAmJiBoZWFkZXIuY2hhckNvZGVBdChpIC0gMSkgPT09IDB4M2QpIHtcbiAgICAgICAgaW5RdW90ZXMgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChlbmQgPT09IC0xICYmIHRva2VuQ2hhcnNbY29kZV0gPT09IDEpIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSkgc3RhcnQgPSBpO1xuICAgICAgfSBlbHNlIGlmIChzdGFydCAhPT0gLTEgJiYgKGNvZGUgPT09IDB4MjAgfHwgY29kZSA9PT0gMHgwOSkpIHtcbiAgICAgICAgaWYgKGVuZCA9PT0gLTEpIGVuZCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4M2IgfHwgY29kZSA9PT0gMHgyYykge1xuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhdCBpbmRleCAke2l9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5kID09PSAtMSkgZW5kID0gaTtcbiAgICAgICAgbGV0IHZhbHVlID0gaGVhZGVyLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICBpZiAobXVzdFVuZXNjYXBlKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXFxcL2csICcnKTtcbiAgICAgICAgICBtdXN0VW5lc2NhcGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwdXNoKHBhcmFtcywgcGFyYW1OYW1lLCB2YWx1ZSk7XG4gICAgICAgIGlmIChjb2RlID09PSAweDJjKSB7XG4gICAgICAgICAgcHVzaChvZmZlcnMsIGV4dGVuc2lvbk5hbWUsIHBhcmFtcyk7XG4gICAgICAgICAgcGFyYW1zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBleHRlbnNpb25OYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW1OYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGFydCA9IGVuZCA9IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhdCBpbmRleCAke2l9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSAtMSB8fCBpblF1b3Rlcykge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQnKTtcbiAgfVxuXG4gIGlmIChlbmQgPT09IC0xKSBlbmQgPSBpO1xuICBjb25zdCB0b2tlbiA9IGhlYWRlci5zbGljZShzdGFydCwgZW5kKTtcbiAgaWYgKGV4dGVuc2lvbk5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHB1c2gob2ZmZXJzLCB0b2tlbiwgcGFyYW1zKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAocGFyYW1OYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHB1c2gocGFyYW1zLCB0b2tlbiwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChtdXN0VW5lc2NhcGUpIHtcbiAgICAgIHB1c2gocGFyYW1zLCBwYXJhbU5hbWUsIHRva2VuLnJlcGxhY2UoL1xcXFwvZywgJycpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHVzaChwYXJhbXMsIHBhcmFtTmFtZSwgdG9rZW4pO1xuICAgIH1cbiAgICBwdXNoKG9mZmVycywgZXh0ZW5zaW9uTmFtZSwgcGFyYW1zKTtcbiAgfVxuXG4gIHJldHVybiBvZmZlcnM7XG59XG5cbi8qKlxuICogQnVpbGRzIHRoZSBgU2VjLVdlYlNvY2tldC1FeHRlbnNpb25zYCBoZWFkZXIgZmllbGQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGV4dGVuc2lvbnMgVGhlIG1hcCBvZiBleHRlbnNpb25zIGFuZCBwYXJhbWV0ZXJzIHRvIGZvcm1hdFxuICogQHJldHVybiB7U3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIG9iamVjdFxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBmb3JtYXQoZXh0ZW5zaW9ucykge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZXh0ZW5zaW9ucylcbiAgICAubWFwKChleHRlbnNpb24pID0+IHtcbiAgICAgIGxldCBjb25maWd1cmF0aW9ucyA9IGV4dGVuc2lvbnNbZXh0ZW5zaW9uXTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShjb25maWd1cmF0aW9ucykpIGNvbmZpZ3VyYXRpb25zID0gW2NvbmZpZ3VyYXRpb25zXTtcbiAgICAgIHJldHVybiBjb25maWd1cmF0aW9uc1xuICAgICAgICAubWFwKChwYXJhbXMpID0+IHtcbiAgICAgICAgICByZXR1cm4gW2V4dGVuc2lvbl1cbiAgICAgICAgICAgIC5jb25jYXQoXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykubWFwKChrKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlcyA9IHBhcmFtc1trXTtcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVzKSkgdmFsdWVzID0gW3ZhbHVlc107XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgLm1hcCgodikgPT4gKHYgPT09IHRydWUgPyBrIDogYCR7a309JHt2fWApKVxuICAgICAgICAgICAgICAgICAgLmpvaW4oJzsgJyk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuam9pbignOyAnKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJywgJyk7XG4gICAgfSlcbiAgICAuam9pbignLCAnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7IGZvcm1hdCwgcGFyc2UgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/extension.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/limiter.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/limiter.js ***!
  \******************************************************************************************/
/***/ ((module) => {

eval("\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvbGltaXRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvbGltaXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGtEb25lID0gU3ltYm9sKCdrRG9uZScpO1xuY29uc3Qga1J1biA9IFN5bWJvbCgna1J1bicpO1xuXG4vKipcbiAqIEEgdmVyeSBzaW1wbGUgam9iIHF1ZXVlIHdpdGggYWRqdXN0YWJsZSBjb25jdXJyZW5jeS4gQWRhcHRlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vU1RSTUwvYXN5bmMtbGltaXRlclxuICovXG5jbGFzcyBMaW1pdGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYExpbWl0ZXJgLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvbmN1cnJlbmN5PUluZmluaXR5XSBUaGUgbWF4aW11bSBudW1iZXIgb2Ygam9icyBhbGxvd2VkXG4gICAqICAgICB0byBydW4gY29uY3VycmVudGx5XG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25jdXJyZW5jeSkge1xuICAgIHRoaXNba0RvbmVdID0gKCkgPT4ge1xuICAgICAgdGhpcy5wZW5kaW5nLS07XG4gICAgICB0aGlzW2tSdW5dKCk7XG4gICAgfTtcbiAgICB0aGlzLmNvbmN1cnJlbmN5ID0gY29uY3VycmVuY3kgfHwgSW5maW5pdHk7XG4gICAgdGhpcy5qb2JzID0gW107XG4gICAgdGhpcy5wZW5kaW5nID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgam9iIHRvIHRoZSBxdWV1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gam9iIFRoZSBqb2IgdG8gcnVuXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGFkZChqb2IpIHtcbiAgICB0aGlzLmpvYnMucHVzaChqb2IpO1xuICAgIHRoaXNba1J1bl0oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgam9iIGZyb20gdGhlIHF1ZXVlIGFuZCBydW5zIGl0IGlmIHBvc3NpYmxlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgW2tSdW5dKCkge1xuICAgIGlmICh0aGlzLnBlbmRpbmcgPT09IHRoaXMuY29uY3VycmVuY3kpIHJldHVybjtcblxuICAgIGlmICh0aGlzLmpvYnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBqb2IgPSB0aGlzLmpvYnMuc2hpZnQoKTtcblxuICAgICAgdGhpcy5wZW5kaW5nKys7XG4gICAgICBqb2IodGhpc1trRG9uZV0pO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IExpbWl0ZXI7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/limiter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js ***!
  \*****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\n\nconst bufferUtil = __webpack_require__(/*! ./buffer-util */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js\");\nconst Limiter = __webpack_require__(/*! ./limiter */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/limiter.js\");\nconst { kStatusCode, NOOP } = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      //\n      // An `'error'` event is emitted, only on Node.js < 10.0.0, if the\n      // `zlib.DeflateRaw` instance is closed while data is being processed.\n      // This can happen if `PerMessageDeflate#cleanup()` is called at the wrong\n      // time due to an abnormal WebSocket closure.\n      //\n      this._deflate.on('error', NOOP);\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvcGVybWVzc2FnZS1kZWZsYXRlLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGFBQWEsbUJBQU8sQ0FBQyxrQkFBTTs7QUFFM0IsbUJBQW1CLG1CQUFPLENBQUMsbUhBQWU7QUFDMUMsZ0JBQWdCLG1CQUFPLENBQUMsMkdBQVc7QUFDbkMsUUFBUSxvQkFBb0IsRUFBRSxtQkFBTyxDQUFDLCtHQUFhOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsa0JBQWtCO0FBQy9CO0FBQ0EsYUFBYSxrQkFBa0I7QUFDL0I7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFB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O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0NBQWdDLFNBQVM7QUFDekM7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvcGVybWVzc2FnZS1kZWZsYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgemxpYiA9IHJlcXVpcmUoJ3psaWInKTtcblxuY29uc3QgYnVmZmVyVXRpbCA9IHJlcXVpcmUoJy4vYnVmZmVyLXV0aWwnKTtcbmNvbnN0IExpbWl0ZXIgPSByZXF1aXJlKCcuL2xpbWl0ZXInKTtcbmNvbnN0IHsga1N0YXR1c0NvZGUsIE5PT1AgfSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG5cbmNvbnN0IFRSQUlMRVIgPSBCdWZmZXIuZnJvbShbMHgwMCwgMHgwMCwgMHhmZiwgMHhmZl0pO1xuY29uc3Qga1Blck1lc3NhZ2VEZWZsYXRlID0gU3ltYm9sKCdwZXJtZXNzYWdlLWRlZmxhdGUnKTtcbmNvbnN0IGtUb3RhbExlbmd0aCA9IFN5bWJvbCgndG90YWwtbGVuZ3RoJyk7XG5jb25zdCBrQ2FsbGJhY2sgPSBTeW1ib2woJ2NhbGxiYWNrJyk7XG5jb25zdCBrQnVmZmVycyA9IFN5bWJvbCgnYnVmZmVycycpO1xuY29uc3Qga0Vycm9yID0gU3ltYm9sKCdlcnJvcicpO1xuXG4vL1xuLy8gV2UgbGltaXQgemxpYiBjb25jdXJyZW5jeSwgd2hpY2ggcHJldmVudHMgc2V2ZXJlIG1lbW9yeSBmcmFnbWVudGF0aW9uXG4vLyBhcyBkb2N1bWVudGVkIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvODg3MSNpc3N1ZWNvbW1lbnQtMjUwOTE1OTEzXG4vLyBhbmQgaHR0cHM6Ly9naXRodWIuY29tL3dlYnNvY2tldHMvd3MvaXNzdWVzLzEyMDJcbi8vXG4vLyBJbnRlbnRpb25hbGx5IGdsb2JhbDsgaXQncyB0aGUgZ2xvYmFsIHRocmVhZCBwb29sIHRoYXQncyBhbiBpc3N1ZS5cbi8vXG5sZXQgemxpYkxpbWl0ZXI7XG5cbi8qKlxuICogcGVybWVzc2FnZS1kZWZsYXRlIGltcGxlbWVudGF0aW9uLlxuICovXG5jbGFzcyBQZXJNZXNzYWdlRGVmbGF0ZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgUGVyTWVzc2FnZURlZmxhdGUgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQ29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2VydmVyTm9Db250ZXh0VGFrZW92ZXI9ZmFsc2VdIFJlcXVlc3QvYWNjZXB0XG4gICAqICAgICBkaXNhYmxpbmcgb2Ygc2VydmVyIGNvbnRleHQgdGFrZW92ZXJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jbGllbnROb0NvbnRleHRUYWtlb3Zlcj1mYWxzZV0gQWR2ZXJ0aXNlL1xuICAgKiAgICAgYWNrbm93bGVkZ2UgZGlzYWJsaW5nIG9mIGNsaWVudCBjb250ZXh0IHRha2VvdmVyXG4gICAqIEBwYXJhbSB7KEJvb2xlYW58TnVtYmVyKX0gW29wdGlvbnMuc2VydmVyTWF4V2luZG93Qml0c10gUmVxdWVzdC9jb25maXJtIHRoZVxuICAgKiAgICAgdXNlIG9mIGEgY3VzdG9tIHNlcnZlciB3aW5kb3cgc2l6ZVxuICAgKiBAcGFyYW0geyhCb29sZWFufE51bWJlcil9IFtvcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHNdIEFkdmVydGlzZSBzdXBwb3J0XG4gICAqICAgICBmb3IsIG9yIHJlcXVlc3QsIGEgY3VzdG9tIGNsaWVudCB3aW5kb3cgc2l6ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuemxpYkRlZmxhdGVPcHRpb25zXSBPcHRpb25zIHRvIHBhc3MgdG8gemxpYiBvblxuICAgKiAgICAgZGVmbGF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuemxpYkluZmxhdGVPcHRpb25zXSBPcHRpb25zIHRvIHBhc3MgdG8gemxpYiBvblxuICAgKiAgICAgaW5mbGF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudGhyZXNob2xkPTEwMjRdIFNpemUgKGluIGJ5dGVzKSBiZWxvdyB3aGljaFxuICAgKiAgICAgbWVzc2FnZXMgc2hvdWxkIG5vdCBiZSBjb21wcmVzc2VkXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb25jdXJyZW5jeUxpbWl0PTEwXSBUaGUgbnVtYmVyIG9mIGNvbmN1cnJlbnRcbiAgICogICAgIGNhbGxzIHRvIHpsaWJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbaXNTZXJ2ZXI9ZmFsc2VdIENyZWF0ZSB0aGUgaW5zdGFuY2UgaW4gZWl0aGVyIHNlcnZlciBvclxuICAgKiAgICAgY2xpZW50IG1vZGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhQYXlsb2FkPTBdIFRoZSBtYXhpbXVtIGFsbG93ZWQgbWVzc2FnZSBsZW5ndGhcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGlzU2VydmVyLCBtYXhQYXlsb2FkKSB7XG4gICAgdGhpcy5fbWF4UGF5bG9hZCA9IG1heFBheWxvYWQgfCAwO1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMuX3RocmVzaG9sZCA9XG4gICAgICB0aGlzLl9vcHRpb25zLnRocmVzaG9sZCAhPT0gdW5kZWZpbmVkID8gdGhpcy5fb3B0aW9ucy50aHJlc2hvbGQgOiAxMDI0O1xuICAgIHRoaXMuX2lzU2VydmVyID0gISFpc1NlcnZlcjtcbiAgICB0aGlzLl9kZWZsYXRlID0gbnVsbDtcbiAgICB0aGlzLl9pbmZsYXRlID0gbnVsbDtcblxuICAgIHRoaXMucGFyYW1zID0gbnVsbDtcblxuICAgIGlmICghemxpYkxpbWl0ZXIpIHtcbiAgICAgIGNvbnN0IGNvbmN1cnJlbmN5ID1cbiAgICAgICAgdGhpcy5fb3B0aW9ucy5jb25jdXJyZW5jeUxpbWl0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IHRoaXMuX29wdGlvbnMuY29uY3VycmVuY3lMaW1pdFxuICAgICAgICAgIDogMTA7XG4gICAgICB6bGliTGltaXRlciA9IG5ldyBMaW1pdGVyKGNvbmN1cnJlbmN5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBnZXQgZXh0ZW5zaW9uTmFtZSgpIHtcbiAgICByZXR1cm4gJ3Blcm1lc3NhZ2UtZGVmbGF0ZSc7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiBvZmZlci5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fSBFeHRlbnNpb24gcGFyYW1ldGVyc1xuICAgKiBAcHVibGljXG4gICAqL1xuICBvZmZlcigpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB7fTtcblxuICAgIGlmICh0aGlzLl9vcHRpb25zLnNlcnZlck5vQ29udGV4dFRha2VvdmVyKSB7XG4gICAgICBwYXJhbXMuc2VydmVyX25vX2NvbnRleHRfdGFrZW92ZXIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5fb3B0aW9ucy5jbGllbnROb0NvbnRleHRUYWtlb3Zlcikge1xuICAgICAgcGFyYW1zLmNsaWVudF9ub19jb250ZXh0X3Rha2VvdmVyID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX29wdGlvbnMuc2VydmVyTWF4V2luZG93Qml0cykge1xuICAgICAgcGFyYW1zLnNlcnZlcl9tYXhfd2luZG93X2JpdHMgPSB0aGlzLl9vcHRpb25zLnNlcnZlck1heFdpbmRvd0JpdHM7XG4gICAgfVxuICAgIGlmICh0aGlzLl9vcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHMpIHtcbiAgICAgIHBhcmFtcy5jbGllbnRfbWF4X3dpbmRvd19iaXRzID0gdGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzID09IG51bGwpIHtcbiAgICAgIHBhcmFtcy5jbGllbnRfbWF4X3dpbmRvd19iaXRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjY2VwdCBhbiBleHRlbnNpb24gbmVnb3RpYXRpb24gb2ZmZXIvcmVzcG9uc2UuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNvbmZpZ3VyYXRpb25zIFRoZSBleHRlbnNpb24gbmVnb3RpYXRpb24gb2ZmZXJzL3JlcG9uc2VcbiAgICogQHJldHVybiB7T2JqZWN0fSBBY2NlcHRlZCBjb25maWd1cmF0aW9uXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGFjY2VwdChjb25maWd1cmF0aW9ucykge1xuICAgIGNvbmZpZ3VyYXRpb25zID0gdGhpcy5ub3JtYWxpemVQYXJhbXMoY29uZmlndXJhdGlvbnMpO1xuXG4gICAgdGhpcy5wYXJhbXMgPSB0aGlzLl9pc1NlcnZlclxuICAgICAgPyB0aGlzLmFjY2VwdEFzU2VydmVyKGNvbmZpZ3VyYXRpb25zKVxuICAgICAgOiB0aGlzLmFjY2VwdEFzQ2xpZW50KGNvbmZpZ3VyYXRpb25zKTtcblxuICAgIHJldHVybiB0aGlzLnBhcmFtcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlcyBhbGwgcmVzb3VyY2VzIHVzZWQgYnkgdGhlIGV4dGVuc2lvbi5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY2xlYW51cCgpIHtcbiAgICBpZiAodGhpcy5faW5mbGF0ZSkge1xuICAgICAgdGhpcy5faW5mbGF0ZS5jbG9zZSgpO1xuICAgICAgdGhpcy5faW5mbGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2RlZmxhdGUpIHtcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy5fZGVmbGF0ZVtrQ2FsbGJhY2tdO1xuXG4gICAgICB0aGlzLl9kZWZsYXRlLmNsb3NlKCk7XG4gICAgICB0aGlzLl9kZWZsYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgIG5ldyBFcnJvcihcbiAgICAgICAgICAgICdUaGUgZGVmbGF0ZSBzdHJlYW0gd2FzIGNsb3NlZCB3aGlsZSBkYXRhIHdhcyBiZWluZyBwcm9jZXNzZWQnXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAgQWNjZXB0IGFuIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiBvZmZlci5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gb2ZmZXJzIFRoZSBleHRlbnNpb24gbmVnb3RpYXRpb24gb2ZmZXJzXG4gICAqIEByZXR1cm4ge09iamVjdH0gQWNjZXB0ZWQgY29uZmlndXJhdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYWNjZXB0QXNTZXJ2ZXIob2ZmZXJzKSB7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMuX29wdGlvbnM7XG4gICAgY29uc3QgYWNjZXB0ZWQgPSBvZmZlcnMuZmluZCgocGFyYW1zKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIChvcHRzLnNlcnZlck5vQ29udGV4dFRha2VvdmVyID09PSBmYWxzZSAmJlxuICAgICAgICAgIHBhcmFtcy5zZXJ2ZXJfbm9fY29udGV4dF90YWtlb3ZlcikgfHxcbiAgICAgICAgKHBhcmFtcy5zZXJ2ZXJfbWF4X3dpbmRvd19iaXRzICYmXG4gICAgICAgICAgKG9wdHMuc2VydmVyTWF4V2luZG93Qml0cyA9PT0gZmFsc2UgfHxcbiAgICAgICAgICAgICh0eXBlb2Ygb3B0cy5zZXJ2ZXJNYXhXaW5kb3dCaXRzID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICBvcHRzLnNlcnZlck1heFdpbmRvd0JpdHMgPiBwYXJhbXMuc2VydmVyX21heF93aW5kb3dfYml0cykpKSB8fFxuICAgICAgICAodHlwZW9mIG9wdHMuY2xpZW50TWF4V2luZG93Qml0cyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAhcGFyYW1zLmNsaWVudF9tYXhfd2luZG93X2JpdHMpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGlmICghYWNjZXB0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm9uZSBvZiB0aGUgZXh0ZW5zaW9uIG9mZmVycyBjYW4gYmUgYWNjZXB0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zZXJ2ZXJOb0NvbnRleHRUYWtlb3Zlcikge1xuICAgICAgYWNjZXB0ZWQuc2VydmVyX25vX2NvbnRleHRfdGFrZW92ZXIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAob3B0cy5jbGllbnROb0NvbnRleHRUYWtlb3Zlcikge1xuICAgICAgYWNjZXB0ZWQuY2xpZW50X25vX2NvbnRleHRfdGFrZW92ZXIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdHMuc2VydmVyTWF4V2luZG93Qml0cyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGFjY2VwdGVkLnNlcnZlcl9tYXhfd2luZG93X2JpdHMgPSBvcHRzLnNlcnZlck1heFdpbmRvd0JpdHM7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0cy5jbGllbnRNYXhXaW5kb3dCaXRzID09PSAnbnVtYmVyJykge1xuICAgICAgYWNjZXB0ZWQuY2xpZW50X21heF93aW5kb3dfYml0cyA9IG9wdHMuY2xpZW50TWF4V2luZG93Qml0cztcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgYWNjZXB0ZWQuY2xpZW50X21heF93aW5kb3dfYml0cyA9PT0gdHJ1ZSB8fFxuICAgICAgb3B0cy5jbGllbnRNYXhXaW5kb3dCaXRzID09PSBmYWxzZVxuICAgICkge1xuICAgICAgZGVsZXRlIGFjY2VwdGVkLmNsaWVudF9tYXhfd2luZG93X2JpdHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjY2VwdGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjY2VwdCB0aGUgZXh0ZW5zaW9uIG5lZ290aWF0aW9uIHJlc3BvbnNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSByZXNwb25zZSBUaGUgZXh0ZW5zaW9uIG5lZ290aWF0aW9uIHJlc3BvbnNlXG4gICAqIEByZXR1cm4ge09iamVjdH0gQWNjZXB0ZWQgY29uZmlndXJhdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYWNjZXB0QXNDbGllbnQocmVzcG9uc2UpIHtcbiAgICBjb25zdCBwYXJhbXMgPSByZXNwb25zZVswXTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMuX29wdGlvbnMuY2xpZW50Tm9Db250ZXh0VGFrZW92ZXIgPT09IGZhbHNlICYmXG4gICAgICBwYXJhbXMuY2xpZW50X25vX2NvbnRleHRfdGFrZW92ZXJcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBwYXJhbWV0ZXIgXCJjbGllbnRfbm9fY29udGV4dF90YWtlb3ZlclwiJyk7XG4gICAgfVxuXG4gICAgaWYgKCFwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cykge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHMgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHBhcmFtcy5jbGllbnRfbWF4X3dpbmRvd19iaXRzID0gdGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0aGlzLl9vcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHMgPT09IGZhbHNlIHx8XG4gICAgICAodHlwZW9mIHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgcGFyYW1zLmNsaWVudF9tYXhfd2luZG93X2JpdHMgPiB0aGlzLl9vcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHMpXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbmV4cGVjdGVkIG9yIGludmFsaWQgcGFyYW1ldGVyIFwiY2xpZW50X21heF93aW5kb3dfYml0c1wiJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBjb25maWd1cmF0aW9ucyBUaGUgZXh0ZW5zaW9uIG5lZ290aWF0aW9uIG9mZmVycy9yZXBvbnNlXG4gICAqIEByZXR1cm4ge0FycmF5fSBUaGUgb2ZmZXJzL3Jlc3BvbnNlIHdpdGggbm9ybWFsaXplZCBwYXJhbWV0ZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBub3JtYWxpemVQYXJhbXMoY29uZmlndXJhdGlvbnMpIHtcbiAgICBjb25maWd1cmF0aW9ucy5mb3JFYWNoKChwYXJhbXMpID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcmFtc1trZXldO1xuXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYXJhbWV0ZXIgXCIke2tleX1cIiBtdXN0IGhhdmUgb25seSBhIHNpbmdsZSB2YWx1ZWApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsdWUgPSB2YWx1ZVswXTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnY2xpZW50X21heF93aW5kb3dfYml0cycpIHtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bSA9ICt2YWx1ZTtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihudW0pIHx8IG51bSA8IDggfHwgbnVtID4gMTUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICBgSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyIFwiJHtrZXl9XCI6ICR7dmFsdWV9YFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSBudW07XG4gICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgIGBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgXCIke2tleX1cIjogJHt2YWx1ZX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzZXJ2ZXJfbWF4X3dpbmRvd19iaXRzJykge1xuICAgICAgICAgIGNvbnN0IG51bSA9ICt2YWx1ZTtcbiAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIobnVtKSB8fCBudW0gPCA4IHx8IG51bSA+IDE1KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICBgSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyIFwiJHtrZXl9XCI6ICR7dmFsdWV9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsdWUgPSBudW07XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAga2V5ID09PSAnY2xpZW50X25vX2NvbnRleHRfdGFrZW92ZXInIHx8XG4gICAgICAgICAga2V5ID09PSAnc2VydmVyX25vX2NvbnRleHRfdGFrZW92ZXInXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgYEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciBcIiR7a2V5fVwiOiAke3ZhbHVlfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwYXJhbWV0ZXIgXCIke2tleX1cImApO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvbmZpZ3VyYXRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIERlY29tcHJlc3MgZGF0YS4gQ29uY3VycmVuY3kgbGltaXRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgQ29tcHJlc3NlZCBkYXRhXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmluIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGlzIHRoZSBsYXN0IGZyYWdtZW50XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGRlY29tcHJlc3MoZGF0YSwgZmluLCBjYWxsYmFjaykge1xuICAgIHpsaWJMaW1pdGVyLmFkZCgoZG9uZSkgPT4ge1xuICAgICAgdGhpcy5fZGVjb21wcmVzcyhkYXRhLCBmaW4sIChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgICBkb25lKCk7XG4gICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXByZXNzIGRhdGEuIENvbmN1cnJlbmN5IGxpbWl0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIERhdGEgdG8gY29tcHJlc3NcbiAgICogQHBhcmFtIHtCb29sZWFufSBmaW4gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRoaXMgaXMgdGhlIGxhc3QgZnJhZ21lbnRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2tcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29tcHJlc3MoZGF0YSwgZmluLCBjYWxsYmFjaykge1xuICAgIHpsaWJMaW1pdGVyLmFkZCgoZG9uZSkgPT4ge1xuICAgICAgdGhpcy5fY29tcHJlc3MoZGF0YSwgZmluLCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWNvbXByZXNzIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIENvbXByZXNzZWQgZGF0YVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZpbiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdGhpcyBpcyB0aGUgbGFzdCBmcmFnbWVudFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RlY29tcHJlc3MoZGF0YSwgZmluLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy5faXNTZXJ2ZXIgPyAnY2xpZW50JyA6ICdzZXJ2ZXInO1xuXG4gICAgaWYgKCF0aGlzLl9pbmZsYXRlKSB7XG4gICAgICBjb25zdCBrZXkgPSBgJHtlbmRwb2ludH1fbWF4X3dpbmRvd19iaXRzYDtcbiAgICAgIGNvbnN0IHdpbmRvd0JpdHMgPVxuICAgICAgICB0eXBlb2YgdGhpcy5wYXJhbXNba2V5XSAhPT0gJ251bWJlcidcbiAgICAgICAgICA/IHpsaWIuWl9ERUZBVUxUX1dJTkRPV0JJVFNcbiAgICAgICAgICA6IHRoaXMucGFyYW1zW2tleV07XG5cbiAgICAgIHRoaXMuX2luZmxhdGUgPSB6bGliLmNyZWF0ZUluZmxhdGVSYXcoe1xuICAgICAgICAuLi50aGlzLl9vcHRpb25zLnpsaWJJbmZsYXRlT3B0aW9ucyxcbiAgICAgICAgd2luZG93Qml0c1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9pbmZsYXRlW2tQZXJNZXNzYWdlRGVmbGF0ZV0gPSB0aGlzO1xuICAgICAgdGhpcy5faW5mbGF0ZVtrVG90YWxMZW5ndGhdID0gMDtcbiAgICAgIHRoaXMuX2luZmxhdGVba0J1ZmZlcnNdID0gW107XG4gICAgICB0aGlzLl9pbmZsYXRlLm9uKCdlcnJvcicsIGluZmxhdGVPbkVycm9yKTtcbiAgICAgIHRoaXMuX2luZmxhdGUub24oJ2RhdGEnLCBpbmZsYXRlT25EYXRhKTtcbiAgICB9XG5cbiAgICB0aGlzLl9pbmZsYXRlW2tDYWxsYmFja10gPSBjYWxsYmFjaztcblxuICAgIHRoaXMuX2luZmxhdGUud3JpdGUoZGF0YSk7XG4gICAgaWYgKGZpbikgdGhpcy5faW5mbGF0ZS53cml0ZShUUkFJTEVSKTtcblxuICAgIHRoaXMuX2luZmxhdGUuZmx1c2goKCkgPT4ge1xuICAgICAgY29uc3QgZXJyID0gdGhpcy5faW5mbGF0ZVtrRXJyb3JdO1xuXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRoaXMuX2luZmxhdGUuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5faW5mbGF0ZSA9IG51bGw7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGJ1ZmZlclV0aWwuY29uY2F0KFxuICAgICAgICB0aGlzLl9pbmZsYXRlW2tCdWZmZXJzXSxcbiAgICAgICAgdGhpcy5faW5mbGF0ZVtrVG90YWxMZW5ndGhdXG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy5faW5mbGF0ZS5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkKSB7XG4gICAgICAgIHRoaXMuX2luZmxhdGUuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5faW5mbGF0ZSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pbmZsYXRlW2tUb3RhbExlbmd0aF0gPSAwO1xuICAgICAgICB0aGlzLl9pbmZsYXRlW2tCdWZmZXJzXSA9IFtdO1xuXG4gICAgICAgIGlmIChmaW4gJiYgdGhpcy5wYXJhbXNbYCR7ZW5kcG9pbnR9X25vX2NvbnRleHRfdGFrZW92ZXJgXSkge1xuICAgICAgICAgIHRoaXMuX2luZmxhdGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayhudWxsLCBkYXRhKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wcmVzcyBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBEYXRhIHRvIGNvbXByZXNzXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmluIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGlzIHRoZSBsYXN0IGZyYWdtZW50XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY29tcHJlc3MoZGF0YSwgZmluLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy5faXNTZXJ2ZXIgPyAnc2VydmVyJyA6ICdjbGllbnQnO1xuXG4gICAgaWYgKCF0aGlzLl9kZWZsYXRlKSB7XG4gICAgICBjb25zdCBrZXkgPSBgJHtlbmRwb2ludH1fbWF4X3dpbmRvd19iaXRzYDtcbiAgICAgIGNvbnN0IHdpbmRvd0JpdHMgPVxuICAgICAgICB0eXBlb2YgdGhpcy5wYXJhbXNba2V5XSAhPT0gJ251bWJlcidcbiAgICAgICAgICA/IHpsaWIuWl9ERUZBVUxUX1dJTkRPV0JJVFNcbiAgICAgICAgICA6IHRoaXMucGFyYW1zW2tleV07XG5cbiAgICAgIHRoaXMuX2RlZmxhdGUgPSB6bGliLmNyZWF0ZURlZmxhdGVSYXcoe1xuICAgICAgICAuLi50aGlzLl9vcHRpb25zLnpsaWJEZWZsYXRlT3B0aW9ucyxcbiAgICAgICAgd2luZG93Qml0c1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2RlZmxhdGVba1RvdGFsTGVuZ3RoXSA9IDA7XG4gICAgICB0aGlzLl9kZWZsYXRlW2tCdWZmZXJzXSA9IFtdO1xuXG4gICAgICAvL1xuICAgICAgLy8gQW4gYCdlcnJvcidgIGV2ZW50IGlzIGVtaXR0ZWQsIG9ubHkgb24gTm9kZS5qcyA8IDEwLjAuMCwgaWYgdGhlXG4gICAgICAvLyBgemxpYi5EZWZsYXRlUmF3YCBpbnN0YW5jZSBpcyBjbG9zZWQgd2hpbGUgZGF0YSBpcyBiZWluZyBwcm9jZXNzZWQuXG4gICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgYFBlck1lc3NhZ2VEZWZsYXRlI2NsZWFudXAoKWAgaXMgY2FsbGVkIGF0IHRoZSB3cm9uZ1xuICAgICAgLy8gdGltZSBkdWUgdG8gYW4gYWJub3JtYWwgV2ViU29ja2V0IGNsb3N1cmUuXG4gICAgICAvL1xuICAgICAgdGhpcy5fZGVmbGF0ZS5vbignZXJyb3InLCBOT09QKTtcbiAgICAgIHRoaXMuX2RlZmxhdGUub24oJ2RhdGEnLCBkZWZsYXRlT25EYXRhKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kZWZsYXRlW2tDYWxsYmFja10gPSBjYWxsYmFjaztcblxuICAgIHRoaXMuX2RlZmxhdGUud3JpdGUoZGF0YSk7XG4gICAgdGhpcy5fZGVmbGF0ZS5mbHVzaCh6bGliLlpfU1lOQ19GTFVTSCwgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9kZWZsYXRlKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBkZWZsYXRlIHN0cmVhbSB3YXMgY2xvc2VkIHdoaWxlIGRhdGEgd2FzIGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgICAgLy9cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgZGF0YSA9IGJ1ZmZlclV0aWwuY29uY2F0KFxuICAgICAgICB0aGlzLl9kZWZsYXRlW2tCdWZmZXJzXSxcbiAgICAgICAgdGhpcy5fZGVmbGF0ZVtrVG90YWxMZW5ndGhdXG4gICAgICApO1xuXG4gICAgICBpZiAoZmluKSBkYXRhID0gZGF0YS5zbGljZSgwLCBkYXRhLmxlbmd0aCAtIDQpO1xuXG4gICAgICAvL1xuICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGNhbGxiYWNrIHdpbGwgbm90IGJlIGNhbGxlZCBhZ2FpbiBpblxuICAgICAgLy8gYFBlck1lc3NhZ2VEZWZsYXRlI2NsZWFudXAoKWAuXG4gICAgICAvL1xuICAgICAgdGhpcy5fZGVmbGF0ZVtrQ2FsbGJhY2tdID0gbnVsbDtcblxuICAgICAgdGhpcy5fZGVmbGF0ZVtrVG90YWxMZW5ndGhdID0gMDtcbiAgICAgIHRoaXMuX2RlZmxhdGVba0J1ZmZlcnNdID0gW107XG5cbiAgICAgIGlmIChmaW4gJiYgdGhpcy5wYXJhbXNbYCR7ZW5kcG9pbnR9X25vX2NvbnRleHRfdGFrZW92ZXJgXSkge1xuICAgICAgICB0aGlzLl9kZWZsYXRlLnJlc2V0KCk7XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrKG51bGwsIGRhdGEpO1xuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGVyTWVzc2FnZURlZmxhdGU7XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgemxpYi5EZWZsYXRlUmF3YCBzdHJlYW0gYCdkYXRhJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IGNodW5rIEEgY2h1bmsgb2YgZGF0YVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGVmbGF0ZU9uRGF0YShjaHVuaykge1xuICB0aGlzW2tCdWZmZXJzXS5wdXNoKGNodW5rKTtcbiAgdGhpc1trVG90YWxMZW5ndGhdICs9IGNodW5rLmxlbmd0aDtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGB6bGliLkluZmxhdGVSYXdgIHN0cmVhbSBgJ2RhdGEnYCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gY2h1bmsgQSBjaHVuayBvZiBkYXRhXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpbmZsYXRlT25EYXRhKGNodW5rKSB7XG4gIHRoaXNba1RvdGFsTGVuZ3RoXSArPSBjaHVuay5sZW5ndGg7XG5cbiAgaWYgKFxuICAgIHRoaXNba1Blck1lc3NhZ2VEZWZsYXRlXS5fbWF4UGF5bG9hZCA8IDEgfHxcbiAgICB0aGlzW2tUb3RhbExlbmd0aF0gPD0gdGhpc1trUGVyTWVzc2FnZURlZmxhdGVdLl9tYXhQYXlsb2FkXG4gICkge1xuICAgIHRoaXNba0J1ZmZlcnNdLnB1c2goY2h1bmspO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXNba0Vycm9yXSA9IG5ldyBSYW5nZUVycm9yKCdNYXggcGF5bG9hZCBzaXplIGV4Y2VlZGVkJyk7XG4gIHRoaXNba0Vycm9yXS5jb2RlID0gJ1dTX0VSUl9VTlNVUFBPUlRFRF9NRVNTQUdFX0xFTkdUSCc7XG4gIHRoaXNba0Vycm9yXVtrU3RhdHVzQ29kZV0gPSAxMDA5O1xuICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgaW5mbGF0ZU9uRGF0YSk7XG4gIHRoaXMucmVzZXQoKTtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGB6bGliLkluZmxhdGVSYXdgIHN0cmVhbSBgJ2Vycm9yJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyIFRoZSBlbWl0dGVkIGVycm9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpbmZsYXRlT25FcnJvcihlcnIpIHtcbiAgLy9cbiAgLy8gVGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIGBabGliI2Nsb3NlKClgIGFzIHRoZSBoYW5kbGUgaXMgYXV0b21hdGljYWxseVxuICAvLyBjbG9zZWQgd2hlbiBhbiBlcnJvciBpcyBlbWl0dGVkLlxuICAvL1xuICB0aGlzW2tQZXJNZXNzYWdlRGVmbGF0ZV0uX2luZmxhdGUgPSBudWxsO1xuICBlcnJba1N0YXR1c0NvZGVdID0gMTAwNztcbiAgdGhpc1trQ2FsbGJhY2tdKGVycik7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/receiver.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/receiver.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst { Writable } = __webpack_require__(/*! stream */ \"stream\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js\");\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\nconst { concat, toArrayBuffer, unmask } = __webpack_require__(/*! ./buffer-util */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js\");\nconst { isValidStatusCode, isValidUTF8 } = __webpack_require__(/*! ./validation */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/validation.js\");\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {String} [binaryType=nodebuffer] The type for binary data\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Boolean} [isServer=false] Specifies whether to operate in client or\n   *     server mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(binaryType, extensions, isServer, maxPayload) {\n    super();\n\n    this._binaryType = binaryType || BINARY_TYPES[0];\n    this[kWebSocket] = undefined;\n    this._extensions = extensions || {};\n    this._isServer = !!isServer;\n    this._maxPayload = maxPayload | 0;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n      if (this._masked) unmask(data, this._mask);\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its lenght is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf.toString());\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, '');\n        this.end();\n      } else if (data.length === 1) {\n        return error(\n          RangeError,\n          'invalid payload length 1',\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = data.slice(2);\n\n        if (!isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf.toString());\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvcmVjZWl2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsUUFBUSxXQUFXLEVBQUUsbUJBQU8sQ0FBQyxzQkFBUTs7QUFFckMsMEJBQTBCLG1CQUFPLENBQUMsaUlBQXNCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLEVBQUUsbUJBQU8sQ0FBQywrR0FBYTtBQUN6QixRQUFRLGdDQUFnQyxFQUFFLG1CQUFPLENBQUMsbUhBQWU7QUFDakUsUUFBUSxpQ0FBaUMsRUFBRSxtQkFBTyxDQUFDLGlIQUFjOztBQUVqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsYUFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixhQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QixjQUFjLDhCQUE4QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbUJBQW1CO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyw4QkFBOEI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEtBQUs7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0NBQWdDO0FBQzNDLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFFBQVE7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvcmVjZWl2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB7IFdyaXRhYmxlIH0gPSByZXF1aXJlKCdzdHJlYW0nKTtcblxuY29uc3QgUGVyTWVzc2FnZURlZmxhdGUgPSByZXF1aXJlKCcuL3Blcm1lc3NhZ2UtZGVmbGF0ZScpO1xuY29uc3Qge1xuICBCSU5BUllfVFlQRVMsXG4gIEVNUFRZX0JVRkZFUixcbiAga1N0YXR1c0NvZGUsXG4gIGtXZWJTb2NrZXRcbn0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xuY29uc3QgeyBjb25jYXQsIHRvQXJyYXlCdWZmZXIsIHVubWFzayB9ID0gcmVxdWlyZSgnLi9idWZmZXItdXRpbCcpO1xuY29uc3QgeyBpc1ZhbGlkU3RhdHVzQ29kZSwgaXNWYWxpZFVURjggfSA9IHJlcXVpcmUoJy4vdmFsaWRhdGlvbicpO1xuXG5jb25zdCBHRVRfSU5GTyA9IDA7XG5jb25zdCBHRVRfUEFZTE9BRF9MRU5HVEhfMTYgPSAxO1xuY29uc3QgR0VUX1BBWUxPQURfTEVOR1RIXzY0ID0gMjtcbmNvbnN0IEdFVF9NQVNLID0gMztcbmNvbnN0IEdFVF9EQVRBID0gNDtcbmNvbnN0IElORkxBVElORyA9IDU7XG5cbi8qKlxuICogSHlCaSBSZWNlaXZlciBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBAZXh0ZW5kcyBXcml0YWJsZVxuICovXG5jbGFzcyBSZWNlaXZlciBleHRlbmRzIFdyaXRhYmxlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBSZWNlaXZlciBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtiaW5hcnlUeXBlPW5vZGVidWZmZXJdIFRoZSB0eXBlIGZvciBiaW5hcnkgZGF0YVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2V4dGVuc2lvbnNdIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBuZWdvdGlhdGVkIGV4dGVuc2lvbnNcbiAgICogQHBhcmFtIHtCb29sZWFufSBbaXNTZXJ2ZXI9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIHRvIG9wZXJhdGUgaW4gY2xpZW50IG9yXG4gICAqICAgICBzZXJ2ZXIgbW9kZVxuICAgKiBAcGFyYW0ge051bWJlcn0gW21heFBheWxvYWQ9MF0gVGhlIG1heGltdW0gYWxsb3dlZCBtZXNzYWdlIGxlbmd0aFxuICAgKi9cbiAgY29uc3RydWN0b3IoYmluYXJ5VHlwZSwgZXh0ZW5zaW9ucywgaXNTZXJ2ZXIsIG1heFBheWxvYWQpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5fYmluYXJ5VHlwZSA9IGJpbmFyeVR5cGUgfHwgQklOQVJZX1RZUEVTWzBdO1xuICAgIHRoaXNba1dlYlNvY2tldF0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnMgfHwge307XG4gICAgdGhpcy5faXNTZXJ2ZXIgPSAhIWlzU2VydmVyO1xuICAgIHRoaXMuX21heFBheWxvYWQgPSBtYXhQYXlsb2FkIHwgMDtcblxuICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZXMgPSAwO1xuICAgIHRoaXMuX2J1ZmZlcnMgPSBbXTtcblxuICAgIHRoaXMuX2NvbXByZXNzZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9wYXlsb2FkTGVuZ3RoID0gMDtcbiAgICB0aGlzLl9tYXNrID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2ZyYWdtZW50ZWQgPSAwO1xuICAgIHRoaXMuX21hc2tlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2ZpbiA9IGZhbHNlO1xuICAgIHRoaXMuX29wY29kZSA9IDA7XG5cbiAgICB0aGlzLl90b3RhbFBheWxvYWRMZW5ndGggPSAwO1xuICAgIHRoaXMuX21lc3NhZ2VMZW5ndGggPSAwO1xuICAgIHRoaXMuX2ZyYWdtZW50cyA9IFtdO1xuXG4gICAgdGhpcy5fc3RhdGUgPSBHRVRfSU5GTztcbiAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogSW1wbGVtZW50cyBgV3JpdGFibGUucHJvdG90eXBlLl93cml0ZSgpYC5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGNodW5rIFRoZSBjaHVuayBvZiBkYXRhIHRvIHdyaXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbmNvZGluZyBUaGUgY2hhcmFjdGVyIGVuY29kaW5nIG9mIGBjaHVua2BcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgQ2FsbGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gICAgaWYgKHRoaXMuX29wY29kZSA9PT0gMHgwOCAmJiB0aGlzLl9zdGF0ZSA9PSBHRVRfSU5GTykgcmV0dXJuIGNiKCk7XG5cbiAgICB0aGlzLl9idWZmZXJlZEJ5dGVzICs9IGNodW5rLmxlbmd0aDtcbiAgICB0aGlzLl9idWZmZXJzLnB1c2goY2h1bmspO1xuICAgIHRoaXMuc3RhcnRMb29wKGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdW1lcyBgbmAgYnl0ZXMgZnJvbSB0aGUgYnVmZmVyZWQgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG4gVGhlIG51bWJlciBvZiBieXRlcyB0byBjb25zdW1lXG4gICAqIEByZXR1cm4ge0J1ZmZlcn0gVGhlIGNvbnN1bWVkIGJ5dGVzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdW1lKG4pIHtcbiAgICB0aGlzLl9idWZmZXJlZEJ5dGVzIC09IG47XG5cbiAgICBpZiAobiA9PT0gdGhpcy5fYnVmZmVyc1swXS5sZW5ndGgpIHJldHVybiB0aGlzLl9idWZmZXJzLnNoaWZ0KCk7XG5cbiAgICBpZiAobiA8IHRoaXMuX2J1ZmZlcnNbMF0ubGVuZ3RoKSB7XG4gICAgICBjb25zdCBidWYgPSB0aGlzLl9idWZmZXJzWzBdO1xuICAgICAgdGhpcy5fYnVmZmVyc1swXSA9IGJ1Zi5zbGljZShuKTtcbiAgICAgIHJldHVybiBidWYuc2xpY2UoMCwgbik7XG4gICAgfVxuXG4gICAgY29uc3QgZHN0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4pO1xuXG4gICAgZG8ge1xuICAgICAgY29uc3QgYnVmID0gdGhpcy5fYnVmZmVyc1swXTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IGRzdC5sZW5ndGggLSBuO1xuXG4gICAgICBpZiAobiA+PSBidWYubGVuZ3RoKSB7XG4gICAgICAgIGRzdC5zZXQodGhpcy5fYnVmZmVycy5zaGlmdCgpLCBvZmZzZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHN0LnNldChuZXcgVWludDhBcnJheShidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgbiksIG9mZnNldCk7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnNbMF0gPSBidWYuc2xpY2Uobik7XG4gICAgICB9XG5cbiAgICAgIG4gLT0gYnVmLmxlbmd0aDtcbiAgICB9IHdoaWxlIChuID4gMCk7XG5cbiAgICByZXR1cm4gZHN0O1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgcGFyc2luZyBsb29wLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBDYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhcnRMb29wKGNiKSB7XG4gICAgbGV0IGVycjtcbiAgICB0aGlzLl9sb29wID0gdHJ1ZTtcblxuICAgIGRvIHtcbiAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSBHRVRfSU5GTzpcbiAgICAgICAgICBlcnIgPSB0aGlzLmdldEluZm8oKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHRVRfUEFZTE9BRF9MRU5HVEhfMTY6XG4gICAgICAgICAgZXJyID0gdGhpcy5nZXRQYXlsb2FkTGVuZ3RoMTYoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHRVRfUEFZTE9BRF9MRU5HVEhfNjQ6XG4gICAgICAgICAgZXJyID0gdGhpcy5nZXRQYXlsb2FkTGVuZ3RoNjQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHRVRfTUFTSzpcbiAgICAgICAgICB0aGlzLmdldE1hc2soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHRVRfREFUQTpcbiAgICAgICAgICBlcnIgPSB0aGlzLmdldERhdGEoY2IpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGBJTkZMQVRJTkdgXG4gICAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IHdoaWxlICh0aGlzLl9sb29wKTtcblxuICAgIGNiKGVycik7XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgdGhlIGZpcnN0IHR3byBieXRlcyBvZiBhIGZyYW1lLlxuICAgKlxuICAgKiBAcmV0dXJuIHsoUmFuZ2VFcnJvcnx1bmRlZmluZWQpfSBBIHBvc3NpYmxlIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRJbmZvKCkge1xuICAgIGlmICh0aGlzLl9idWZmZXJlZEJ5dGVzIDwgMikge1xuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZiA9IHRoaXMuY29uc3VtZSgyKTtcblxuICAgIGlmICgoYnVmWzBdICYgMHgzMCkgIT09IDB4MDApIHtcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgJ1JTVjIgYW5kIFJTVjMgbXVzdCBiZSBjbGVhcicsXG4gICAgICAgIHRydWUsXG4gICAgICAgIDEwMDIsXG4gICAgICAgICdXU19FUlJfVU5FWFBFQ1RFRF9SU1ZfMl8zJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb21wcmVzc2VkID0gKGJ1ZlswXSAmIDB4NDApID09PSAweDQwO1xuXG4gICAgaWYgKGNvbXByZXNzZWQgJiYgIXRoaXMuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0pIHtcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgJ1JTVjEgbXVzdCBiZSBjbGVhcicsXG4gICAgICAgIHRydWUsXG4gICAgICAgIDEwMDIsXG4gICAgICAgICdXU19FUlJfVU5FWFBFQ1RFRF9SU1ZfMSdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fZmluID0gKGJ1ZlswXSAmIDB4ODApID09PSAweDgwO1xuICAgIHRoaXMuX29wY29kZSA9IGJ1ZlswXSAmIDB4MGY7XG4gICAgdGhpcy5fcGF5bG9hZExlbmd0aCA9IGJ1ZlsxXSAmIDB4N2Y7XG5cbiAgICBpZiAodGhpcy5fb3Bjb2RlID09PSAweDAwKSB7XG4gICAgICBpZiAoY29tcHJlc3NlZCkge1xuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgICdSU1YxIG11c3QgYmUgY2xlYXInLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgMTAwMixcbiAgICAgICAgICAnV1NfRVJSX1VORVhQRUNURURfUlNWXzEnXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5fZnJhZ21lbnRlZCkge1xuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgICdpbnZhbGlkIG9wY29kZSAwJyxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIDEwMDIsXG4gICAgICAgICAgJ1dTX0VSUl9JTlZBTElEX09QQ09ERSdcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fb3Bjb2RlID0gdGhpcy5fZnJhZ21lbnRlZDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX29wY29kZSA9PT0gMHgwMSB8fCB0aGlzLl9vcGNvZGUgPT09IDB4MDIpIHtcbiAgICAgIGlmICh0aGlzLl9mcmFnbWVudGVkKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgYGludmFsaWQgb3Bjb2RlICR7dGhpcy5fb3Bjb2RlfWAsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAxMDAyLFxuICAgICAgICAgICdXU19FUlJfSU5WQUxJRF9PUENPREUnXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NvbXByZXNzZWQgPSBjb21wcmVzc2VkO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fb3Bjb2RlID4gMHgwNyAmJiB0aGlzLl9vcGNvZGUgPCAweDBiKSB7XG4gICAgICBpZiAoIXRoaXMuX2Zpbikge1xuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgICdGSU4gbXVzdCBiZSBzZXQnLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgMTAwMixcbiAgICAgICAgICAnV1NfRVJSX0VYUEVDVEVEX0ZJTidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbXByZXNzZWQpIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICAnUlNWMSBtdXN0IGJlIGNsZWFyJyxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIDEwMDIsXG4gICAgICAgICAgJ1dTX0VSUl9VTkVYUEVDVEVEX1JTVl8xJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fcGF5bG9hZExlbmd0aCA+IDB4N2QpIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICBgaW52YWxpZCBwYXlsb2FkIGxlbmd0aCAke3RoaXMuX3BheWxvYWRMZW5ndGh9YCxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIDEwMDIsXG4gICAgICAgICAgJ1dTX0VSUl9JTlZBTElEX0NPTlRST0xfUEFZTE9BRF9MRU5HVEgnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgYGludmFsaWQgb3Bjb2RlICR7dGhpcy5fb3Bjb2RlfWAsXG4gICAgICAgIHRydWUsXG4gICAgICAgIDEwMDIsXG4gICAgICAgICdXU19FUlJfSU5WQUxJRF9PUENPREUnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fZmluICYmICF0aGlzLl9mcmFnbWVudGVkKSB0aGlzLl9mcmFnbWVudGVkID0gdGhpcy5fb3Bjb2RlO1xuICAgIHRoaXMuX21hc2tlZCA9IChidWZbMV0gJiAweDgwKSA9PT0gMHg4MDtcblxuICAgIGlmICh0aGlzLl9pc1NlcnZlcikge1xuICAgICAgaWYgKCF0aGlzLl9tYXNrZWQpIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICAnTUFTSyBtdXN0IGJlIHNldCcsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAxMDAyLFxuICAgICAgICAgICdXU19FUlJfRVhQRUNURURfTUFTSydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX21hc2tlZCkge1xuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAnTUFTSyBtdXN0IGJlIGNsZWFyJyxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgMTAwMixcbiAgICAgICAgJ1dTX0VSUl9VTkVYUEVDVEVEX01BU0snXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9wYXlsb2FkTGVuZ3RoID09PSAxMjYpIHRoaXMuX3N0YXRlID0gR0VUX1BBWUxPQURfTEVOR1RIXzE2O1xuICAgIGVsc2UgaWYgKHRoaXMuX3BheWxvYWRMZW5ndGggPT09IDEyNykgdGhpcy5fc3RhdGUgPSBHRVRfUEFZTE9BRF9MRU5HVEhfNjQ7XG4gICAgZWxzZSByZXR1cm4gdGhpcy5oYXZlTGVuZ3RoKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBleHRlbmRlZCBwYXlsb2FkIGxlbmd0aCAoNysxNikuXG4gICAqXG4gICAqIEByZXR1cm4geyhSYW5nZUVycm9yfHVuZGVmaW5lZCl9IEEgcG9zc2libGUgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFBheWxvYWRMZW5ndGgxNigpIHtcbiAgICBpZiAodGhpcy5fYnVmZmVyZWRCeXRlcyA8IDIpIHtcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9wYXlsb2FkTGVuZ3RoID0gdGhpcy5jb25zdW1lKDIpLnJlYWRVSW50MTZCRSgwKTtcbiAgICByZXR1cm4gdGhpcy5oYXZlTGVuZ3RoKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBleHRlbmRlZCBwYXlsb2FkIGxlbmd0aCAoNys2NCkuXG4gICAqXG4gICAqIEByZXR1cm4geyhSYW5nZUVycm9yfHVuZGVmaW5lZCl9IEEgcG9zc2libGUgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFBheWxvYWRMZW5ndGg2NCgpIHtcbiAgICBpZiAodGhpcy5fYnVmZmVyZWRCeXRlcyA8IDgpIHtcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBidWYgPSB0aGlzLmNvbnN1bWUoOCk7XG4gICAgY29uc3QgbnVtID0gYnVmLnJlYWRVSW50MzJCRSgwKTtcblxuICAgIC8vXG4gICAgLy8gVGhlIG1heGltdW0gc2FmZSBpbnRlZ2VyIGluIEphdmFTY3JpcHQgaXMgMl41MyAtIDEuIEFuIGVycm9yIGlzIHJldHVybmVkXG4gICAgLy8gaWYgcGF5bG9hZCBsZW5ndGggaXMgZ3JlYXRlciB0aGFuIHRoaXMgbnVtYmVyLlxuICAgIC8vXG4gICAgaWYgKG51bSA+IE1hdGgucG93KDIsIDUzIC0gMzIpIC0gMSkge1xuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAnVW5zdXBwb3J0ZWQgV2ViU29ja2V0IGZyYW1lOiBwYXlsb2FkIGxlbmd0aCA+IDJeNTMgLSAxJyxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIDEwMDksXG4gICAgICAgICdXU19FUlJfVU5TVVBQT1JURURfREFUQV9QQVlMT0FEX0xFTkdUSCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fcGF5bG9hZExlbmd0aCA9IG51bSAqIE1hdGgucG93KDIsIDMyKSArIGJ1Zi5yZWFkVUludDMyQkUoNCk7XG4gICAgcmV0dXJuIHRoaXMuaGF2ZUxlbmd0aCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBheWxvYWQgbGVuZ3RoIGhhcyBiZWVuIHJlYWQuXG4gICAqXG4gICAqIEByZXR1cm4geyhSYW5nZUVycm9yfHVuZGVmaW5lZCl9IEEgcG9zc2libGUgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhdmVMZW5ndGgoKSB7XG4gICAgaWYgKHRoaXMuX3BheWxvYWRMZW5ndGggJiYgdGhpcy5fb3Bjb2RlIDwgMHgwOCkge1xuICAgICAgdGhpcy5fdG90YWxQYXlsb2FkTGVuZ3RoICs9IHRoaXMuX3BheWxvYWRMZW5ndGg7XG4gICAgICBpZiAodGhpcy5fdG90YWxQYXlsb2FkTGVuZ3RoID4gdGhpcy5fbWF4UGF5bG9hZCAmJiB0aGlzLl9tYXhQYXlsb2FkID4gMCkge1xuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgICdNYXggcGF5bG9hZCBzaXplIGV4Y2VlZGVkJyxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAxMDA5LFxuICAgICAgICAgICdXU19FUlJfVU5TVVBQT1JURURfTUVTU0FHRV9MRU5HVEgnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX21hc2tlZCkgdGhpcy5fc3RhdGUgPSBHRVRfTUFTSztcbiAgICBlbHNlIHRoaXMuX3N0YXRlID0gR0VUX0RBVEE7XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgbWFzayBieXRlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldE1hc2soKSB7XG4gICAgaWYgKHRoaXMuX2J1ZmZlcmVkQnl0ZXMgPCA0KSB7XG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbWFzayA9IHRoaXMuY29uc3VtZSg0KTtcbiAgICB0aGlzLl9zdGF0ZSA9IEdFVF9EQVRBO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIGRhdGEgYnl0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIENhbGxiYWNrXG4gICAqIEByZXR1cm4geyhFcnJvcnxSYW5nZUVycm9yfHVuZGVmaW5lZCl9IEEgcG9zc2libGUgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldERhdGEoY2IpIHtcbiAgICBsZXQgZGF0YSA9IEVNUFRZX0JVRkZFUjtcblxuICAgIGlmICh0aGlzLl9wYXlsb2FkTGVuZ3RoKSB7XG4gICAgICBpZiAodGhpcy5fYnVmZmVyZWRCeXRlcyA8IHRoaXMuX3BheWxvYWRMZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGRhdGEgPSB0aGlzLmNvbnN1bWUodGhpcy5fcGF5bG9hZExlbmd0aCk7XG4gICAgICBpZiAodGhpcy5fbWFza2VkKSB1bm1hc2soZGF0YSwgdGhpcy5fbWFzayk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX29wY29kZSA+IDB4MDcpIHJldHVybiB0aGlzLmNvbnRyb2xNZXNzYWdlKGRhdGEpO1xuXG4gICAgaWYgKHRoaXMuX2NvbXByZXNzZWQpIHtcbiAgICAgIHRoaXMuX3N0YXRlID0gSU5GTEFUSU5HO1xuICAgICAgdGhpcy5kZWNvbXByZXNzKGRhdGEsIGNiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5sZW5ndGgpIHtcbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIG1lc3NhZ2UgaXMgbm90IGNvbXByZXNzZWQgc28gaXRzIGxlbmdodCBpcyB0aGUgc3VtIG9mIHRoZSBwYXlsb2FkXG4gICAgICAvLyBsZW5ndGggb2YgYWxsIGZyYWdtZW50cy5cbiAgICAgIC8vXG4gICAgICB0aGlzLl9tZXNzYWdlTGVuZ3RoID0gdGhpcy5fdG90YWxQYXlsb2FkTGVuZ3RoO1xuICAgICAgdGhpcy5fZnJhZ21lbnRzLnB1c2goZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGF0YU1lc3NhZ2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWNvbXByZXNzZXMgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgQ29tcHJlc3NlZCBkYXRhXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIENhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkZWNvbXByZXNzKGRhdGEsIGNiKSB7XG4gICAgY29uc3QgcGVyTWVzc2FnZURlZmxhdGUgPSB0aGlzLl9leHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdO1xuXG4gICAgcGVyTWVzc2FnZURlZmxhdGUuZGVjb21wcmVzcyhkYXRhLCB0aGlzLl9maW4sIChlcnIsIGJ1ZikgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG5cbiAgICAgIGlmIChidWYubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VMZW5ndGggKz0gYnVmLmxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuX21lc3NhZ2VMZW5ndGggPiB0aGlzLl9tYXhQYXlsb2FkICYmIHRoaXMuX21heFBheWxvYWQgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKFxuICAgICAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgICAgICdNYXggcGF5bG9hZCBzaXplIGV4Y2VlZGVkJyxcbiAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgIDEwMDksXG4gICAgICAgICAgICAgICdXU19FUlJfVU5TVVBQT1JURURfTUVTU0FHRV9MRU5HVEgnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZyYWdtZW50cy5wdXNoKGJ1Zik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVyID0gdGhpcy5kYXRhTWVzc2FnZSgpO1xuICAgICAgaWYgKGVyKSByZXR1cm4gY2IoZXIpO1xuXG4gICAgICB0aGlzLnN0YXJ0TG9vcChjYik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhIGRhdGEgbWVzc2FnZS5cbiAgICpcbiAgICogQHJldHVybiB7KEVycm9yfHVuZGVmaW5lZCl9IEEgcG9zc2libGUgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRhdGFNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLl9maW4pIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSB0aGlzLl9tZXNzYWdlTGVuZ3RoO1xuICAgICAgY29uc3QgZnJhZ21lbnRzID0gdGhpcy5fZnJhZ21lbnRzO1xuXG4gICAgICB0aGlzLl90b3RhbFBheWxvYWRMZW5ndGggPSAwO1xuICAgICAgdGhpcy5fbWVzc2FnZUxlbmd0aCA9IDA7XG4gICAgICB0aGlzLl9mcmFnbWVudGVkID0gMDtcbiAgICAgIHRoaXMuX2ZyYWdtZW50cyA9IFtdO1xuXG4gICAgICBpZiAodGhpcy5fb3Bjb2RlID09PSAyKSB7XG4gICAgICAgIGxldCBkYXRhO1xuXG4gICAgICAgIGlmICh0aGlzLl9iaW5hcnlUeXBlID09PSAnbm9kZWJ1ZmZlcicpIHtcbiAgICAgICAgICBkYXRhID0gY29uY2F0KGZyYWdtZW50cywgbWVzc2FnZUxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYmluYXJ5VHlwZSA9PT0gJ2FycmF5YnVmZmVyJykge1xuICAgICAgICAgIGRhdGEgPSB0b0FycmF5QnVmZmVyKGNvbmNhdChmcmFnbWVudHMsIG1lc3NhZ2VMZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhID0gZnJhZ21lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdtZXNzYWdlJywgZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBidWYgPSBjb25jYXQoZnJhZ21lbnRzLCBtZXNzYWdlTGVuZ3RoKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWRVVEY4KGJ1ZikpIHtcbiAgICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgICAgRXJyb3IsXG4gICAgICAgICAgICAnaW52YWxpZCBVVEYtOCBzZXF1ZW5jZScsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgMTAwNyxcbiAgICAgICAgICAgICdXU19FUlJfSU5WQUxJRF9VVEY4J1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ21lc3NhZ2UnLCBidWYudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fc3RhdGUgPSBHRVRfSU5GTztcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGEgY29udHJvbCBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBEYXRhIHRvIGhhbmRsZVxuICAgKiBAcmV0dXJuIHsoRXJyb3J8UmFuZ2VFcnJvcnx1bmRlZmluZWQpfSBBIHBvc3NpYmxlIGVycm9yXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb250cm9sTWVzc2FnZShkYXRhKSB7XG4gICAgaWYgKHRoaXMuX29wY29kZSA9PT0gMHgwOCkge1xuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuXG4gICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5lbWl0KCdjb25jbHVkZScsIDEwMDUsICcnKTtcbiAgICAgICAgdGhpcy5lbmQoKTtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgJ2ludmFsaWQgcGF5bG9hZCBsZW5ndGggMScsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAxMDAyLFxuICAgICAgICAgICdXU19FUlJfSU5WQUxJRF9DT05UUk9MX1BBWUxPQURfTEVOR1RIJ1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY29kZSA9IGRhdGEucmVhZFVJbnQxNkJFKDApO1xuXG4gICAgICAgIGlmICghaXNWYWxpZFN0YXR1c0NvZGUoY29kZSkpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgICAgYGludmFsaWQgc3RhdHVzIGNvZGUgJHtjb2RlfWAsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgMTAwMixcbiAgICAgICAgICAgICdXU19FUlJfSU5WQUxJRF9DTE9TRV9DT0RFJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBidWYgPSBkYXRhLnNsaWNlKDIpO1xuXG4gICAgICAgIGlmICghaXNWYWxpZFVURjgoYnVmKSkge1xuICAgICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICAgIEVycm9yLFxuICAgICAgICAgICAgJ2ludmFsaWQgVVRGLTggc2VxdWVuY2UnLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgIDEwMDcsXG4gICAgICAgICAgICAnV1NfRVJSX0lOVkFMSURfVVRGOCdcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdjb25jbHVkZScsIGNvZGUsIGJ1Zi50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5lbmQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX29wY29kZSA9PT0gMHgwOSkge1xuICAgICAgdGhpcy5lbWl0KCdwaW5nJywgZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW1pdCgncG9uZycsIGRhdGEpO1xuICAgIH1cblxuICAgIHRoaXMuX3N0YXRlID0gR0VUX0lORk87XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWNlaXZlcjtcblxuLyoqXG4gKiBCdWlsZHMgYW4gZXJyb3Igb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OkVycm9yfFJhbmdlRXJyb3IpfSBFcnJvckN0b3IgVGhlIGVycm9yIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZVxuICogQHBhcmFtIHtCb29sZWFufSBwcmVmaXggU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIGFkZCBhIGRlZmF1bHQgcHJlZml4IHRvXG4gKiAgICAgYG1lc3NhZ2VgXG4gKiBAcGFyYW0ge051bWJlcn0gc3RhdHVzQ29kZSBUaGUgc3RhdHVzIGNvZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBlcnJvckNvZGUgVGhlIGV4cG9zZWQgZXJyb3IgY29kZVxuICogQHJldHVybiB7KEVycm9yfFJhbmdlRXJyb3IpfSBUaGUgZXJyb3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVycm9yKEVycm9yQ3RvciwgbWVzc2FnZSwgcHJlZml4LCBzdGF0dXNDb2RlLCBlcnJvckNvZGUpIHtcbiAgY29uc3QgZXJyID0gbmV3IEVycm9yQ3RvcihcbiAgICBwcmVmaXggPyBgSW52YWxpZCBXZWJTb2NrZXQgZnJhbWU6ICR7bWVzc2FnZX1gIDogbWVzc2FnZVxuICApO1xuXG4gIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVyciwgZXJyb3IpO1xuICBlcnIuY29kZSA9IGVycm9yQ29kZTtcbiAgZXJyW2tTdGF0dXNDb2RlXSA9IHN0YXR1c0NvZGU7XG4gIHJldHVybiBlcnI7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/receiver.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/sender.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/sender.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n\n\nconst net = __webpack_require__(/*! net */ \"net\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst { randomFillSync } = __webpack_require__(/*! crypto */ \"crypto\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js\");\nconst { EMPTY_BUFFER } = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\nconst { isValidStatusCode } = __webpack_require__(/*! ./validation */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/validation.js\");\nconst { mask: applyMask, toBuffer } = __webpack_require__(/*! ./buffer-util */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js\");\n\nconst mask = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   */\n  constructor(socket, extensions) {\n    this._extensions = extensions || {};\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {Buffer} data The data to frame\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {Buffer[]} The framed data as a list of `Buffer` instances\n   * @public\n   */\n  static frame(data, options) {\n    const merge = options.mask && options.readOnly;\n    let offset = options.mask ? 6 : 2;\n    let payloadLength = data.length;\n\n    if (data.length >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (data.length > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? data.length + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(data.length, 2);\n    } else if (payloadLength === 127) {\n      target.writeUInt32BE(0, 2);\n      target.writeUInt32BE(data.length, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    randomFillSync(mask, 0, 4);\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, data.length);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, data.length);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {String} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || data === '') {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n      buf.write(data, 2);\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doClose, buf, mask, cb]);\n    } else {\n      this.doClose(buf, mask, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a close message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doClose(data, mask, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x08,\n        mask,\n        readOnly: false\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    const buf = toBuffer(data);\n\n    if (buf.length > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPing, buf, mask, toBuffer.readOnly, cb]);\n    } else {\n      this.doPing(buf, mask, toBuffer.readOnly, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a ping message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Boolean} [readOnly=false] Specifies whether `data` can be modified\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doPing(data, mask, readOnly, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x09,\n        mask,\n        readOnly\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    const buf = toBuffer(data);\n\n    if (buf.length > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPong, buf, mask, toBuffer.readOnly, cb]);\n    } else {\n      this.doPong(buf, mask, toBuffer.readOnly, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a pong message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Boolean} [readOnly=false] Specifies whether `data` can be modified\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doPong(data, mask, readOnly, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x0a,\n        mask,\n        readOnly\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const buf = toBuffer(data);\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (rsv1 && perMessageDeflate) {\n        rsv1 = buf.length >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        fin: options.fin,\n        rsv1,\n        opcode,\n        mask: options.mask,\n        readOnly: toBuffer.readOnly\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, buf, this._compress, opts, cb]);\n      } else {\n        this.dispatch(buf, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(buf, {\n          fin: options.fin,\n          rsv1: false,\n          opcode,\n          mask: options.mask,\n          readOnly: toBuffer.readOnly\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a data message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += data.length;\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const callback = this._queue[i][4];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= data.length;\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[1].length;\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[1].length;\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvc2VuZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQyxrQ0FBa0M7O0FBRTNEOztBQUViLFlBQVksbUJBQU8sQ0FBQyxnQkFBSztBQUN6QixZQUFZLG1CQUFPLENBQUMsZ0JBQUs7QUFDekIsUUFBUSxpQkFBaUIsRUFBRSxtQkFBTyxDQUFDLHNCQUFROztBQUUzQywwQkFBMEIsbUJBQU8sQ0FBQyxpSUFBc0I7QUFDeEQsUUFBUSxlQUFlLEVBQUUsbUJBQU8sQ0FBQywrR0FBYTtBQUM5QyxRQUFRLG9CQUFvQixFQUFFLG1CQUFPLENBQUMsaUhBQWM7QUFDcEQsUUFBUSw0QkFBNEIsRUFBRSxtQkFBTyxDQUFDLG1IQUFlOztBQUU3RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseUJBQXlCO0FBQ3RDLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGNBQWMsVUFBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QixhQUFhLFNBQVM7QUFDdEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx3QkFBd0Isd0JBQXdCO0FBQ2hEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9ub2RlX21vZHVsZXMvd3MvbGliL3NlbmRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFtcImVycm9yXCIsIHsgXCJ2YXJzSWdub3JlUGF0dGVyblwiOiBcIl5uZXR8dGxzJFwiIH1dICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgbmV0ID0gcmVxdWlyZSgnbmV0Jyk7XG5jb25zdCB0bHMgPSByZXF1aXJlKCd0bHMnKTtcbmNvbnN0IHsgcmFuZG9tRmlsbFN5bmMgfSA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuXG5jb25zdCBQZXJNZXNzYWdlRGVmbGF0ZSA9IHJlcXVpcmUoJy4vcGVybWVzc2FnZS1kZWZsYXRlJyk7XG5jb25zdCB7IEVNUFRZX0JVRkZFUiB9ID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcbmNvbnN0IHsgaXNWYWxpZFN0YXR1c0NvZGUgfSA9IHJlcXVpcmUoJy4vdmFsaWRhdGlvbicpO1xuY29uc3QgeyBtYXNrOiBhcHBseU1hc2ssIHRvQnVmZmVyIH0gPSByZXF1aXJlKCcuL2J1ZmZlci11dGlsJyk7XG5cbmNvbnN0IG1hc2sgPSBCdWZmZXIuYWxsb2MoNCk7XG5cbi8qKlxuICogSHlCaSBTZW5kZXIgaW1wbGVtZW50YXRpb24uXG4gKi9cbmNsYXNzIFNlbmRlciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgU2VuZGVyIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0geyhuZXQuU29ja2V0fHRscy5Tb2NrZXQpfSBzb2NrZXQgVGhlIGNvbm5lY3Rpb24gc29ja2V0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXh0ZW5zaW9uc10gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5lZ290aWF0ZWQgZXh0ZW5zaW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3Ioc29ja2V0LCBleHRlbnNpb25zKSB7XG4gICAgdGhpcy5fZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnMgfHwge307XG4gICAgdGhpcy5fc29ja2V0ID0gc29ja2V0O1xuXG4gICAgdGhpcy5fZmlyc3RGcmFnbWVudCA9IHRydWU7XG4gICAgdGhpcy5fY29tcHJlc3MgPSBmYWxzZTtcblxuICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZXMgPSAwO1xuICAgIHRoaXMuX2RlZmxhdGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3F1ZXVlID0gW107XG4gIH1cblxuICAvKipcbiAgICogRnJhbWVzIGEgcGllY2Ugb2YgZGF0YSBhY2NvcmRpbmcgdG8gdGhlIEh5QmkgV2ViU29ja2V0IHByb3RvY29sLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBUaGUgZGF0YSB0byBmcmFtZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5vcGNvZGUgVGhlIG9wY29kZVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnJlYWRPbmx5PWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBgZGF0YWAgY2FuIGJlXG4gICAqICAgICBtb2RpZmllZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmZpbj1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIHNldCB0aGVcbiAgICogICAgIEZJTiBiaXRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFza1xuICAgKiAgICAgYGRhdGFgXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucnN2MT1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIHNldCB0aGVcbiAgICogICAgIFJTVjEgYml0XG4gICAqIEByZXR1cm4ge0J1ZmZlcltdfSBUaGUgZnJhbWVkIGRhdGEgYXMgYSBsaXN0IG9mIGBCdWZmZXJgIGluc3RhbmNlc1xuICAgKiBAcHVibGljXG4gICAqL1xuICBzdGF0aWMgZnJhbWUoZGF0YSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG1lcmdlID0gb3B0aW9ucy5tYXNrICYmIG9wdGlvbnMucmVhZE9ubHk7XG4gICAgbGV0IG9mZnNldCA9IG9wdGlvbnMubWFzayA/IDYgOiAyO1xuICAgIGxldCBwYXlsb2FkTGVuZ3RoID0gZGF0YS5sZW5ndGg7XG5cbiAgICBpZiAoZGF0YS5sZW5ndGggPj0gNjU1MzYpIHtcbiAgICAgIG9mZnNldCArPSA4O1xuICAgICAgcGF5bG9hZExlbmd0aCA9IDEyNztcbiAgICB9IGVsc2UgaWYgKGRhdGEubGVuZ3RoID4gMTI1KSB7XG4gICAgICBvZmZzZXQgKz0gMjtcbiAgICAgIHBheWxvYWRMZW5ndGggPSAxMjY7XG4gICAgfVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG1lcmdlID8gZGF0YS5sZW5ndGggKyBvZmZzZXQgOiBvZmZzZXQpO1xuXG4gICAgdGFyZ2V0WzBdID0gb3B0aW9ucy5maW4gPyBvcHRpb25zLm9wY29kZSB8IDB4ODAgOiBvcHRpb25zLm9wY29kZTtcbiAgICBpZiAob3B0aW9ucy5yc3YxKSB0YXJnZXRbMF0gfD0gMHg0MDtcblxuICAgIHRhcmdldFsxXSA9IHBheWxvYWRMZW5ndGg7XG5cbiAgICBpZiAocGF5bG9hZExlbmd0aCA9PT0gMTI2KSB7XG4gICAgICB0YXJnZXQud3JpdGVVSW50MTZCRShkYXRhLmxlbmd0aCwgMik7XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkTGVuZ3RoID09PSAxMjcpIHtcbiAgICAgIHRhcmdldC53cml0ZVVJbnQzMkJFKDAsIDIpO1xuICAgICAgdGFyZ2V0LndyaXRlVUludDMyQkUoZGF0YS5sZW5ndGgsIDYpO1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5tYXNrKSByZXR1cm4gW3RhcmdldCwgZGF0YV07XG5cbiAgICByYW5kb21GaWxsU3luYyhtYXNrLCAwLCA0KTtcblxuICAgIHRhcmdldFsxXSB8PSAweDgwO1xuICAgIHRhcmdldFtvZmZzZXQgLSA0XSA9IG1hc2tbMF07XG4gICAgdGFyZ2V0W29mZnNldCAtIDNdID0gbWFza1sxXTtcbiAgICB0YXJnZXRbb2Zmc2V0IC0gMl0gPSBtYXNrWzJdO1xuICAgIHRhcmdldFtvZmZzZXQgLSAxXSA9IG1hc2tbM107XG5cbiAgICBpZiAobWVyZ2UpIHtcbiAgICAgIGFwcGx5TWFzayhkYXRhLCBtYXNrLCB0YXJnZXQsIG9mZnNldCwgZGF0YS5sZW5ndGgpO1xuICAgICAgcmV0dXJuIFt0YXJnZXRdO1xuICAgIH1cblxuICAgIGFwcGx5TWFzayhkYXRhLCBtYXNrLCBkYXRhLCAwLCBkYXRhLmxlbmd0aCk7XG4gICAgcmV0dXJuIFt0YXJnZXQsIGRhdGFdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgY2xvc2UgbWVzc2FnZSB0byB0aGUgb3RoZXIgcGVlci5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtjb2RlXSBUaGUgc3RhdHVzIGNvZGUgY29tcG9uZW50IG9mIHRoZSBib2R5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbZGF0YV0gVGhlIG1lc3NhZ2UgY29tcG9uZW50IG9mIHRoZSBib2R5XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrIHRoZSBtZXNzYWdlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY2xvc2UoY29kZSwgZGF0YSwgbWFzaywgY2IpIHtcbiAgICBsZXQgYnVmO1xuXG4gICAgaWYgKGNvZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgYnVmID0gRU1QVFlfQlVGRkVSO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvZGUgIT09ICdudW1iZXInIHx8ICFpc1ZhbGlkU3RhdHVzQ29kZShjb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHZhbGlkIGVycm9yIGNvZGUgbnVtYmVyJyk7XG4gICAgfSBlbHNlIGlmIChkYXRhID09PSB1bmRlZmluZWQgfHwgZGF0YSA9PT0gJycpIHtcbiAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgyKTtcbiAgICAgIGJ1Zi53cml0ZVVJbnQxNkJFKGNvZGUsIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aChkYXRhKTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEyMykge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIG1lc3NhZ2UgbXVzdCBub3QgYmUgZ3JlYXRlciB0aGFuIDEyMyBieXRlcycpO1xuICAgICAgfVxuXG4gICAgICBidWYgPSBCdWZmZXIuYWxsb2NVbnNhZmUoMiArIGxlbmd0aCk7XG4gICAgICBidWYud3JpdGVVSW50MTZCRShjb2RlLCAwKTtcbiAgICAgIGJ1Zi53cml0ZShkYXRhLCAyKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZGVmbGF0aW5nKSB7XG4gICAgICB0aGlzLmVucXVldWUoW3RoaXMuZG9DbG9zZSwgYnVmLCBtYXNrLCBjYl0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvQ2xvc2UoYnVmLCBtYXNrLCBjYik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZyYW1lcyBhbmQgc2VuZHMgYSBjbG9zZSBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkb0Nsb3NlKGRhdGEsIG1hc2ssIGNiKSB7XG4gICAgdGhpcy5zZW5kRnJhbWUoXG4gICAgICBTZW5kZXIuZnJhbWUoZGF0YSwge1xuICAgICAgICBmaW46IHRydWUsXG4gICAgICAgIHJzdjE6IGZhbHNlLFxuICAgICAgICBvcGNvZGU6IDB4MDgsXG4gICAgICAgIG1hc2ssXG4gICAgICAgIHJlYWRPbmx5OiBmYWxzZVxuICAgICAgfSksXG4gICAgICBjYlxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgYSBwaW5nIG1lc3NhZ2UgdG8gdGhlIG90aGVyIHBlZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHBpbmcoZGF0YSwgbWFzaywgY2IpIHtcbiAgICBjb25zdCBidWYgPSB0b0J1ZmZlcihkYXRhKTtcblxuICAgIGlmIChidWYubGVuZ3RoID4gMTI1KSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIGRhdGEgc2l6ZSBtdXN0IG5vdCBiZSBncmVhdGVyIHRoYW4gMTI1IGJ5dGVzJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2RlZmxhdGluZykge1xuICAgICAgdGhpcy5lbnF1ZXVlKFt0aGlzLmRvUGluZywgYnVmLCBtYXNrLCB0b0J1ZmZlci5yZWFkT25seSwgY2JdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb1BpbmcoYnVmLCBtYXNrLCB0b0J1ZmZlci5yZWFkT25seSwgY2IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGcmFtZXMgYW5kIHNlbmRzIGEgcGluZyBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWFkT25seT1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgYGRhdGFgIGNhbiBiZSBtb2RpZmllZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkb1BpbmcoZGF0YSwgbWFzaywgcmVhZE9ubHksIGNiKSB7XG4gICAgdGhpcy5zZW5kRnJhbWUoXG4gICAgICBTZW5kZXIuZnJhbWUoZGF0YSwge1xuICAgICAgICBmaW46IHRydWUsXG4gICAgICAgIHJzdjE6IGZhbHNlLFxuICAgICAgICBvcGNvZGU6IDB4MDksXG4gICAgICAgIG1hc2ssXG4gICAgICAgIHJlYWRPbmx5XG4gICAgICB9KSxcbiAgICAgIGNiXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIHBvbmcgbWVzc2FnZSB0byB0aGUgb3RoZXIgcGVlci5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXNzYWdlIHRvIHNlbmRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgYGRhdGFgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcG9uZyhkYXRhLCBtYXNrLCBjYikge1xuICAgIGNvbnN0IGJ1ZiA9IHRvQnVmZmVyKGRhdGEpO1xuXG4gICAgaWYgKGJ1Zi5sZW5ndGggPiAxMjUpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgZGF0YSBzaXplIG11c3Qgbm90IGJlIGdyZWF0ZXIgdGhhbiAxMjUgYnl0ZXMnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZGVmbGF0aW5nKSB7XG4gICAgICB0aGlzLmVucXVldWUoW3RoaXMuZG9Qb25nLCBidWYsIG1hc2ssIHRvQnVmZmVyLnJlYWRPbmx5LCBjYl0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvUG9uZyhidWYsIG1hc2ssIHRvQnVmZmVyLnJlYWRPbmx5LCBjYik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZyYW1lcyBhbmQgc2VuZHMgYSBwb25nIG1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIFRoZSBtZXNzYWdlIHRvIHNlbmRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgYGRhdGFgXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlYWRPbmx5PWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBgZGF0YWAgY2FuIGJlIG1vZGlmaWVkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRvUG9uZyhkYXRhLCBtYXNrLCByZWFkT25seSwgY2IpIHtcbiAgICB0aGlzLnNlbmRGcmFtZShcbiAgICAgIFNlbmRlci5mcmFtZShkYXRhLCB7XG4gICAgICAgIGZpbjogdHJ1ZSxcbiAgICAgICAgcnN2MTogZmFsc2UsXG4gICAgICAgIG9wY29kZTogMHgwYSxcbiAgICAgICAgbWFzayxcbiAgICAgICAgcmVhZE9ubHlcbiAgICAgIH0pLFxuICAgICAgY2JcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgZGF0YSBtZXNzYWdlIHRvIHRoZSBvdGhlciBwZWVyLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1lc3NhZ2UgdG8gc2VuZFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbXByZXNzPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG9cbiAgICogICAgIGNvbXByZXNzIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmJpbmFyeT1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgYGRhdGFgIGlzIGJpbmFyeVxuICAgKiAgICAgb3IgdGV4dFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmZpbj1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGZyYWdtZW50IGlzIHRoZVxuICAgKiAgICAgbGFzdCBvbmVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFza1xuICAgKiAgICAgYGRhdGFgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2VuZChkYXRhLCBvcHRpb25zLCBjYikge1xuICAgIGNvbnN0IGJ1ZiA9IHRvQnVmZmVyKGRhdGEpO1xuICAgIGNvbnN0IHBlck1lc3NhZ2VEZWZsYXRlID0gdGhpcy5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXTtcbiAgICBsZXQgb3Bjb2RlID0gb3B0aW9ucy5iaW5hcnkgPyAyIDogMTtcbiAgICBsZXQgcnN2MSA9IG9wdGlvbnMuY29tcHJlc3M7XG5cbiAgICBpZiAodGhpcy5fZmlyc3RGcmFnbWVudCkge1xuICAgICAgdGhpcy5fZmlyc3RGcmFnbWVudCA9IGZhbHNlO1xuICAgICAgaWYgKHJzdjEgJiYgcGVyTWVzc2FnZURlZmxhdGUpIHtcbiAgICAgICAgcnN2MSA9IGJ1Zi5sZW5ndGggPj0gcGVyTWVzc2FnZURlZmxhdGUuX3RocmVzaG9sZDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NvbXByZXNzID0gcnN2MTtcbiAgICB9IGVsc2Uge1xuICAgICAgcnN2MSA9IGZhbHNlO1xuICAgICAgb3Bjb2RlID0gMDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5maW4pIHRoaXMuX2ZpcnN0RnJhZ21lbnQgPSB0cnVlO1xuXG4gICAgaWYgKHBlck1lc3NhZ2VEZWZsYXRlKSB7XG4gICAgICBjb25zdCBvcHRzID0ge1xuICAgICAgICBmaW46IG9wdGlvbnMuZmluLFxuICAgICAgICByc3YxLFxuICAgICAgICBvcGNvZGUsXG4gICAgICAgIG1hc2s6IG9wdGlvbnMubWFzayxcbiAgICAgICAgcmVhZE9ubHk6IHRvQnVmZmVyLnJlYWRPbmx5XG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5fZGVmbGF0aW5nKSB7XG4gICAgICAgIHRoaXMuZW5xdWV1ZShbdGhpcy5kaXNwYXRjaCwgYnVmLCB0aGlzLl9jb21wcmVzcywgb3B0cywgY2JdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goYnVmLCB0aGlzLl9jb21wcmVzcywgb3B0cywgY2IpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbmRGcmFtZShcbiAgICAgICAgU2VuZGVyLmZyYW1lKGJ1Ziwge1xuICAgICAgICAgIGZpbjogb3B0aW9ucy5maW4sXG4gICAgICAgICAgcnN2MTogZmFsc2UsXG4gICAgICAgICAgb3Bjb2RlLFxuICAgICAgICAgIG1hc2s6IG9wdGlvbnMubWFzayxcbiAgICAgICAgICByZWFkT25seTogdG9CdWZmZXIucmVhZE9ubHlcbiAgICAgICAgfSksXG4gICAgICAgIGNiXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGEgZGF0YSBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbXByZXNzPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gY29tcHJlc3NcbiAgICogICAgIGBkYXRhYFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5vcGNvZGUgVGhlIG9wY29kZVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnJlYWRPbmx5PWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBgZGF0YWAgY2FuIGJlXG4gICAqICAgICBtb2RpZmllZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmZpbj1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIHNldCB0aGVcbiAgICogICAgIEZJTiBiaXRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFza1xuICAgKiAgICAgYGRhdGFgXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucnN2MT1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIHNldCB0aGVcbiAgICogICAgIFJTVjEgYml0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRpc3BhdGNoKGRhdGEsIGNvbXByZXNzLCBvcHRpb25zLCBjYikge1xuICAgIGlmICghY29tcHJlc3MpIHtcbiAgICAgIHRoaXMuc2VuZEZyYW1lKFNlbmRlci5mcmFtZShkYXRhLCBvcHRpb25zKSwgY2IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBlck1lc3NhZ2VEZWZsYXRlID0gdGhpcy5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXTtcblxuICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZXMgKz0gZGF0YS5sZW5ndGg7XG4gICAgdGhpcy5fZGVmbGF0aW5nID0gdHJ1ZTtcbiAgICBwZXJNZXNzYWdlRGVmbGF0ZS5jb21wcmVzcyhkYXRhLCBvcHRpb25zLmZpbiwgKF8sIGJ1ZikgPT4ge1xuICAgICAgaWYgKHRoaXMuX3NvY2tldC5kZXN0cm95ZWQpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgICdUaGUgc29ja2V0IHdhcyBjbG9zZWQgd2hpbGUgZGF0YSB3YXMgYmVpbmcgY29tcHJlc3NlZCdcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSBjYihlcnIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHRoaXMuX3F1ZXVlW2ldWzRdO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fYnVmZmVyZWRCeXRlcyAtPSBkYXRhLmxlbmd0aDtcbiAgICAgIHRoaXMuX2RlZmxhdGluZyA9IGZhbHNlO1xuICAgICAgb3B0aW9ucy5yZWFkT25seSA9IGZhbHNlO1xuICAgICAgdGhpcy5zZW5kRnJhbWUoU2VuZGVyLmZyYW1lKGJ1Ziwgb3B0aW9ucyksIGNiKTtcbiAgICAgIHRoaXMuZGVxdWV1ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHF1ZXVlZCBzZW5kIG9wZXJhdGlvbnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkZXF1ZXVlKCkge1xuICAgIHdoaWxlICghdGhpcy5fZGVmbGF0aW5nICYmIHRoaXMuX3F1ZXVlLmxlbmd0aCkge1xuICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5fcXVldWUuc2hpZnQoKTtcblxuICAgICAgdGhpcy5fYnVmZmVyZWRCeXRlcyAtPSBwYXJhbXNbMV0ubGVuZ3RoO1xuICAgICAgUmVmbGVjdC5hcHBseShwYXJhbXNbMF0sIHRoaXMsIHBhcmFtcy5zbGljZSgxKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVucXVldWVzIGEgc2VuZCBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcyBTZW5kIG9wZXJhdGlvbiBwYXJhbWV0ZXJzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW5xdWV1ZShwYXJhbXMpIHtcbiAgICB0aGlzLl9idWZmZXJlZEJ5dGVzICs9IHBhcmFtc1sxXS5sZW5ndGg7XG4gICAgdGhpcy5fcXVldWUucHVzaChwYXJhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgZnJhbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyW119IGxpc3QgVGhlIGZyYW1lIHRvIHNlbmRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2VuZEZyYW1lKGxpc3QsIGNiKSB7XG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAyKSB7XG4gICAgICB0aGlzLl9zb2NrZXQuY29yaygpO1xuICAgICAgdGhpcy5fc29ja2V0LndyaXRlKGxpc3RbMF0pO1xuICAgICAgdGhpcy5fc29ja2V0LndyaXRlKGxpc3RbMV0sIGNiKTtcbiAgICAgIHRoaXMuX3NvY2tldC51bmNvcmsoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc29ja2V0LndyaXRlKGxpc3RbMF0sIGNiKTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTZW5kZXI7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/sender.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/stream.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/stream.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst { Duplex } = __webpack_require__(/*! stream */ \"stream\");\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let resumeOnReceiverDrain = true;\n  let terminateOnDestroy = true;\n\n  function receiverOnDrain() {\n    if (resumeOnReceiverDrain) ws._socket.resume();\n  }\n\n  if (ws.readyState === ws.CONNECTING) {\n    ws.once('open', function open() {\n      ws._receiver.removeAllListeners('drain');\n      ws._receiver.on('drain', receiverOnDrain);\n    });\n  } else {\n    ws._receiver.removeAllListeners('drain');\n    ws._receiver.on('drain', receiverOnDrain);\n  }\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg) {\n    if (!duplex.push(msg)) {\n      resumeOnReceiverDrain = false;\n      ws._socket.pause();\n    }\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (\n      (ws.readyState === ws.OPEN || ws.readyState === ws.CLOSING) &&\n      !resumeOnReceiverDrain\n    ) {\n      resumeOnReceiverDrain = true;\n      if (!ws._receiver._writableState.needDrain) ws._socket.resume();\n    }\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvc3RyZWFtLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFFBQVEsU0FBUyxFQUFFLG1CQUFPLENBQUMsc0JBQVE7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb24vbm9kZV9tb2R1bGVzL3dzL2xpYi9zdHJlYW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB7IER1cGxleCB9ID0gcmVxdWlyZSgnc3RyZWFtJyk7XG5cbi8qKlxuICogRW1pdHMgdGhlIGAnY2xvc2UnYCBldmVudCBvbiBhIHN0cmVhbS5cbiAqXG4gKiBAcGFyYW0ge0R1cGxleH0gc3RyZWFtIFRoZSBzdHJlYW0uXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBlbWl0Q2xvc2Uoc3RyZWFtKSB7XG4gIHN0cmVhbS5lbWl0KCdjbG9zZScpO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYCdlbmQnYCBldmVudC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkdXBsZXhPbkVuZCgpIHtcbiAgaWYgKCF0aGlzLmRlc3Ryb3llZCAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkKSB7XG4gICAgdGhpcy5kZXN0cm95KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGAnZXJyb3InYCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnIgVGhlIGVycm9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkdXBsZXhPbkVycm9yKGVycikge1xuICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGR1cGxleE9uRXJyb3IpO1xuICB0aGlzLmRlc3Ryb3koKTtcbiAgaWYgKHRoaXMubGlzdGVuZXJDb3VudCgnZXJyb3InKSA9PT0gMCkge1xuICAgIC8vIERvIG5vdCBzdXBwcmVzcyB0aGUgdGhyb3dpbmcgYmVoYXZpb3IuXG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cbn1cblxuLyoqXG4gKiBXcmFwcyBhIGBXZWJTb2NrZXRgIGluIGEgZHVwbGV4IHN0cmVhbS5cbiAqXG4gKiBAcGFyYW0ge1dlYlNvY2tldH0gd3MgVGhlIGBXZWJTb2NrZXRgIHRvIHdyYXBcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgZm9yIHRoZSBgRHVwbGV4YCBjb25zdHJ1Y3RvclxuICogQHJldHVybiB7RHVwbGV4fSBUaGUgZHVwbGV4IHN0cmVhbVxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBjcmVhdGVXZWJTb2NrZXRTdHJlYW0od3MsIG9wdGlvbnMpIHtcbiAgbGV0IHJlc3VtZU9uUmVjZWl2ZXJEcmFpbiA9IHRydWU7XG4gIGxldCB0ZXJtaW5hdGVPbkRlc3Ryb3kgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIHJlY2VpdmVyT25EcmFpbigpIHtcbiAgICBpZiAocmVzdW1lT25SZWNlaXZlckRyYWluKSB3cy5fc29ja2V0LnJlc3VtZSgpO1xuICB9XG5cbiAgaWYgKHdzLnJlYWR5U3RhdGUgPT09IHdzLkNPTk5FQ1RJTkcpIHtcbiAgICB3cy5vbmNlKCdvcGVuJywgZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgIHdzLl9yZWNlaXZlci5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2RyYWluJyk7XG4gICAgICB3cy5fcmVjZWl2ZXIub24oJ2RyYWluJywgcmVjZWl2ZXJPbkRyYWluKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB3cy5fcmVjZWl2ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCdkcmFpbicpO1xuICAgIHdzLl9yZWNlaXZlci5vbignZHJhaW4nLCByZWNlaXZlck9uRHJhaW4pO1xuICB9XG5cbiAgY29uc3QgZHVwbGV4ID0gbmV3IER1cGxleCh7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBhdXRvRGVzdHJveTogZmFsc2UsXG4gICAgZW1pdENsb3NlOiBmYWxzZSxcbiAgICBvYmplY3RNb2RlOiBmYWxzZSxcbiAgICB3cml0YWJsZU9iamVjdE1vZGU6IGZhbHNlXG4gIH0pO1xuXG4gIHdzLm9uKCdtZXNzYWdlJywgZnVuY3Rpb24gbWVzc2FnZShtc2cpIHtcbiAgICBpZiAoIWR1cGxleC5wdXNoKG1zZykpIHtcbiAgICAgIHJlc3VtZU9uUmVjZWl2ZXJEcmFpbiA9IGZhbHNlO1xuICAgICAgd3MuX3NvY2tldC5wYXVzZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgd3Mub25jZSgnZXJyb3InLCBmdW5jdGlvbiBlcnJvcihlcnIpIHtcbiAgICBpZiAoZHVwbGV4LmRlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgLy8gUHJldmVudCBgd3MudGVybWluYXRlKClgIGZyb20gYmVpbmcgY2FsbGVkIGJ5IGBkdXBsZXguX2Rlc3Ryb3koKWAuXG4gICAgLy9cbiAgICAvLyAtIElmIHRoZSBgJ2Vycm9yJ2AgZXZlbnQgaXMgZW1pdHRlZCBiZWZvcmUgdGhlIGAnb3BlbidgIGV2ZW50LCB0aGVuXG4gICAgLy8gICBgd3MudGVybWluYXRlKClgIGlzIGEgbm9vcCBhcyBubyBzb2NrZXQgaXMgYXNzaWduZWQuXG4gICAgLy8gLSBPdGhlcndpc2UsIHRoZSBlcnJvciBpcyByZS1lbWl0dGVkIGJ5IHRoZSBsaXN0ZW5lciBvZiB0aGUgYCdlcnJvcidgXG4gICAgLy8gICBldmVudCBvZiB0aGUgYFJlY2VpdmVyYCBvYmplY3QuIFRoZSBsaXN0ZW5lciBhbHJlYWR5IGNsb3NlcyB0aGVcbiAgICAvLyAgIGNvbm5lY3Rpb24gYnkgY2FsbGluZyBgd3MuY2xvc2UoKWAuIFRoaXMgYWxsb3dzIGEgY2xvc2UgZnJhbWUgdG8gYmVcbiAgICAvLyAgIHNlbnQgdG8gdGhlIG90aGVyIHBlZXIuIElmIGB3cy50ZXJtaW5hdGUoKWAgaXMgY2FsbGVkIHJpZ2h0IGFmdGVyIHRoaXMsXG4gICAgLy8gICB0aGVuIHRoZSBjbG9zZSBmcmFtZSBtaWdodCBub3QgYmUgc2VudC5cbiAgICB0ZXJtaW5hdGVPbkRlc3Ryb3kgPSBmYWxzZTtcbiAgICBkdXBsZXguZGVzdHJveShlcnIpO1xuICB9KTtcblxuICB3cy5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgIGlmIChkdXBsZXguZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICBkdXBsZXgucHVzaChudWxsKTtcbiAgfSk7XG5cbiAgZHVwbGV4Ll9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2FsbGJhY2spIHtcbiAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gd3MuQ0xPU0VEKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2UsIGR1cGxleCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuXG4gICAgd3Mub25jZSgnZXJyb3InLCBmdW5jdGlvbiBlcnJvcihlcnIpIHtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuXG4gICAgd3Mub25jZSgnY2xvc2UnLCBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgIGlmICghY2FsbGVkKSBjYWxsYmFjayhlcnIpO1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2UsIGR1cGxleCk7XG4gICAgfSk7XG5cbiAgICBpZiAodGVybWluYXRlT25EZXN0cm95KSB3cy50ZXJtaW5hdGUoKTtcbiAgfTtcblxuICBkdXBsZXguX2ZpbmFsID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKHdzLnJlYWR5U3RhdGUgPT09IHdzLkNPTk5FQ1RJTkcpIHtcbiAgICAgIHdzLm9uY2UoJ29wZW4nLCBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBkdXBsZXguX2ZpbmFsKGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSB2YWx1ZSBvZiB0aGUgYF9zb2NrZXRgIHByb3BlcnR5IGlzIGBudWxsYCBpdCBtZWFucyB0aGF0IGB3c2AgaXMgYVxuICAgIC8vIGNsaWVudCB3ZWJzb2NrZXQgYW5kIHRoZSBoYW5kc2hha2UgZmFpbGVkLiBJbiBmYWN0LCB3aGVuIHRoaXMgaGFwcGVucywgYVxuICAgIC8vIHNvY2tldCBpcyBuZXZlciBhc3NpZ25lZCB0byB0aGUgd2Vic29ja2V0LiBXYWl0IGZvciB0aGUgYCdlcnJvcidgIGV2ZW50XG4gICAgLy8gdGhhdCB3aWxsIGJlIGVtaXR0ZWQgYnkgdGhlIHdlYnNvY2tldC5cbiAgICBpZiAod3MuX3NvY2tldCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgaWYgKHdzLl9zb2NrZXQuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgICBpZiAoZHVwbGV4Ll9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQpIGR1cGxleC5kZXN0cm95KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdzLl9zb2NrZXQub25jZSgnZmluaXNoJywgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgICAgICAvLyBgZHVwbGV4YCBpcyBub3QgZGVzdHJveWVkIGhlcmUgYmVjYXVzZSB0aGUgYCdlbmQnYCBldmVudCB3aWxsIGJlXG4gICAgICAgIC8vIGVtaXR0ZWQgb24gYGR1cGxleGAgYWZ0ZXIgdGhpcyBgJ2ZpbmlzaCdgIGV2ZW50LiBUaGUgRU9GIHNpZ25hbGluZ1xuICAgICAgICAvLyBgbnVsbGAgY2h1bmsgaXMsIGluIGZhY3QsIHB1c2hlZCB3aGVuIHRoZSB3ZWJzb2NrZXQgZW1pdHMgYCdjbG9zZSdgLlxuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgICB3cy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBkdXBsZXguX3JlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKFxuICAgICAgKHdzLnJlYWR5U3RhdGUgPT09IHdzLk9QRU4gfHwgd3MucmVhZHlTdGF0ZSA9PT0gd3MuQ0xPU0lORykgJiZcbiAgICAgICFyZXN1bWVPblJlY2VpdmVyRHJhaW5cbiAgICApIHtcbiAgICAgIHJlc3VtZU9uUmVjZWl2ZXJEcmFpbiA9IHRydWU7XG4gICAgICBpZiAoIXdzLl9yZWNlaXZlci5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pIHdzLl9zb2NrZXQucmVzdW1lKCk7XG4gICAgfVxuICB9O1xuXG4gIGR1cGxleC5fd3JpdGUgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xuICAgIGlmICh3cy5yZWFkeVN0YXRlID09PSB3cy5DT05ORUNUSU5HKSB7XG4gICAgICB3cy5vbmNlKCdvcGVuJywgZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgZHVwbGV4Ll93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdzLnNlbmQoY2h1bmssIGNhbGxiYWNrKTtcbiAgfTtcblxuICBkdXBsZXgub24oJ2VuZCcsIGR1cGxleE9uRW5kKTtcbiAgZHVwbGV4Lm9uKCdlcnJvcicsIGR1cGxleE9uRXJyb3IpO1xuICByZXR1cm4gZHVwbGV4O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVdlYlNvY2tldFN0cmVhbTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/stream.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/validation.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/validation.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\ntry {\n  let isValidUTF8 = __webpack_require__(/*! utf-8-validate */ \"?f624\");\n\n  /* istanbul ignore if */\n  if (typeof isValidUTF8 === 'object') {\n    isValidUTF8 = isValidUTF8.Validation.isValidUTF8; // utf-8-validate@<3.0.0\n  }\n\n  module.exports = {\n    isValidStatusCode,\n    isValidUTF8(buf) {\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    }\n  };\n} catch (e) /* istanbul ignore next */ {\n  module.exports = {\n    isValidStatusCode,\n    isValidUTF8: _isValidUTF8\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvdmFsaWRhdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLG1CQUFPLENBQUMsNkJBQWdCOztBQUU1QztBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb24vbm9kZV9tb2R1bGVzL3dzL2xpYi92YWxpZGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGF0dXMgY29kZSBpcyBhbGxvd2VkIGluIGEgY2xvc2UgZnJhbWUuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGNvZGUgVGhlIHN0YXR1cyBjb2RlXG4gKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIHN0YXR1cyBjb2RlIGlzIHZhbGlkLCBlbHNlIGBmYWxzZWBcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gaXNWYWxpZFN0YXR1c0NvZGUoY29kZSkge1xuICByZXR1cm4gKFxuICAgIChjb2RlID49IDEwMDAgJiZcbiAgICAgIGNvZGUgPD0gMTAxNCAmJlxuICAgICAgY29kZSAhPT0gMTAwNCAmJlxuICAgICAgY29kZSAhPT0gMTAwNSAmJlxuICAgICAgY29kZSAhPT0gMTAwNikgfHxcbiAgICAoY29kZSA+PSAzMDAwICYmIGNvZGUgPD0gNDk5OSlcbiAgKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBidWZmZXIgY29udGFpbnMgb25seSBjb3JyZWN0IFVURi04LlxuICogUG9ydGVkIGZyb20gaHR0cHM6Ly93d3cuY2wuY2FtLmFjLnVrLyU3RW1nazI1L3Vjcy91dGY4X2NoZWNrLmMgYnlcbiAqIE1hcmt1cyBLdWhuLlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWYgVGhlIGJ1ZmZlciB0byBjaGVja1xuICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIGBidWZgIGNvbnRhaW5zIG9ubHkgY29ycmVjdCBVVEYtOCwgZWxzZSBgZmFsc2VgXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIF9pc1ZhbGlkVVRGOChidWYpIHtcbiAgY29uc3QgbGVuID0gYnVmLmxlbmd0aDtcbiAgbGV0IGkgPSAwO1xuXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgaWYgKChidWZbaV0gJiAweDgwKSA9PT0gMCkge1xuICAgICAgLy8gMHh4eHh4eHhcbiAgICAgIGkrKztcbiAgICB9IGVsc2UgaWYgKChidWZbaV0gJiAweGUwKSA9PT0gMHhjMCkge1xuICAgICAgLy8gMTEweHh4eHggMTB4eHh4eHhcbiAgICAgIGlmIChcbiAgICAgICAgaSArIDEgPT09IGxlbiB8fFxuICAgICAgICAoYnVmW2kgKyAxXSAmIDB4YzApICE9PSAweDgwIHx8XG4gICAgICAgIChidWZbaV0gJiAweGZlKSA9PT0gMHhjMCAvLyBPdmVybG9uZ1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaSArPSAyO1xuICAgIH0gZWxzZSBpZiAoKGJ1ZltpXSAmIDB4ZjApID09PSAweGUwKSB7XG4gICAgICAvLyAxMTEweHh4eCAxMHh4eHh4eCAxMHh4eHh4eFxuICAgICAgaWYgKFxuICAgICAgICBpICsgMiA+PSBsZW4gfHxcbiAgICAgICAgKGJ1ZltpICsgMV0gJiAweGMwKSAhPT0gMHg4MCB8fFxuICAgICAgICAoYnVmW2kgKyAyXSAmIDB4YzApICE9PSAweDgwIHx8XG4gICAgICAgIChidWZbaV0gPT09IDB4ZTAgJiYgKGJ1ZltpICsgMV0gJiAweGUwKSA9PT0gMHg4MCkgfHwgLy8gT3ZlcmxvbmdcbiAgICAgICAgKGJ1ZltpXSA9PT0gMHhlZCAmJiAoYnVmW2kgKyAxXSAmIDB4ZTApID09PSAweGEwKSAvLyBTdXJyb2dhdGUgKFUrRDgwMCAtIFUrREZGRilcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGkgKz0gMztcbiAgICB9IGVsc2UgaWYgKChidWZbaV0gJiAweGY4KSA9PT0gMHhmMCkge1xuICAgICAgLy8gMTExMTB4eHggMTB4eHh4eHggMTB4eHh4eHggMTB4eHh4eHhcbiAgICAgIGlmIChcbiAgICAgICAgaSArIDMgPj0gbGVuIHx8XG4gICAgICAgIChidWZbaSArIDFdICYgMHhjMCkgIT09IDB4ODAgfHxcbiAgICAgICAgKGJ1ZltpICsgMl0gJiAweGMwKSAhPT0gMHg4MCB8fFxuICAgICAgICAoYnVmW2kgKyAzXSAmIDB4YzApICE9PSAweDgwIHx8XG4gICAgICAgIChidWZbaV0gPT09IDB4ZjAgJiYgKGJ1ZltpICsgMV0gJiAweGYwKSA9PT0gMHg4MCkgfHwgLy8gT3ZlcmxvbmdcbiAgICAgICAgKGJ1ZltpXSA9PT0gMHhmNCAmJiBidWZbaSArIDFdID4gMHg4ZikgfHxcbiAgICAgICAgYnVmW2ldID4gMHhmNCAvLyA+IFUrMTBGRkZGXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpICs9IDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxudHJ5IHtcbiAgbGV0IGlzVmFsaWRVVEY4ID0gcmVxdWlyZSgndXRmLTgtdmFsaWRhdGUnKTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiBpc1ZhbGlkVVRGOCA9PT0gJ29iamVjdCcpIHtcbiAgICBpc1ZhbGlkVVRGOCA9IGlzVmFsaWRVVEY4LlZhbGlkYXRpb24uaXNWYWxpZFVURjg7IC8vIHV0Zi04LXZhbGlkYXRlQDwzLjAuMFxuICB9XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaXNWYWxpZFN0YXR1c0NvZGUsXG4gICAgaXNWYWxpZFVURjgoYnVmKSB7XG4gICAgICByZXR1cm4gYnVmLmxlbmd0aCA8IDE1MCA/IF9pc1ZhbGlkVVRGOChidWYpIDogaXNWYWxpZFVURjgoYnVmKTtcbiAgICB9XG4gIH07XG59IGNhdGNoIChlKSAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB7XG4gIG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGlzVmFsaWRTdGF0dXNDb2RlLFxuICAgIGlzVmFsaWRVVEY4OiBfaXNWYWxpZFVURjhcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/validation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket-server.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket-server.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\n\n\n\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\nconst http = __webpack_require__(/*! http */ \"http\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst { createHash } = __webpack_require__(/*! crypto */ \"crypto\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js\");\nconst WebSocket = __webpack_require__(/*! ./websocket */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket.js\");\nconst { format, parse } = __webpack_require__(/*! ./extension */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/extension.js\");\nconst { GUID, kWebSocket } = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      maxPayload: 100 * 1024 * 1024,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) this.clients = new Set();\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Close the server.\n   *\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(cb) {\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSED) {\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    //\n    // Terminate all associated clients.\n    //\n    if (this.clients) {\n      for (const client of this.clients) client.terminate();\n    }\n\n    const server = this._server;\n\n    if (server) {\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // Close the http server if it was internally created.\n      //\n      if (this.options.port != null) {\n        server.close(emitClose.bind(undefined, this));\n        return;\n      }\n    }\n\n    process.nextTick(emitClose, this);\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key =\n      req.headers['sec-websocket-key'] !== undefined\n        ? req.headers['sec-websocket-key'].trim()\n        : false;\n    const upgrade = req.headers.upgrade;\n    const version = +req.headers['sec-websocket-version'];\n    const extensions = {};\n\n    if (\n      req.method !== 'GET' ||\n      upgrade === undefined ||\n      upgrade.toLowerCase() !== 'websocket' ||\n      !key ||\n      !keyRegex.test(key) ||\n      (version !== 8 && version !== 13) ||\n      !this.shouldHandle(req)\n    ) {\n      return abortHandshake(socket, 400);\n    }\n\n    if (this.options.perMessageDeflate) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = parse(req.headers['sec-websocket-extensions']);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        return abortHandshake(socket, 400);\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(key, extensions, req, socket, head, cb);\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(key, extensions, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Object} extensions The accepted extensions\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(key, extensions, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new WebSocket(null);\n    let protocol = req.headers['sec-websocket-protocol'];\n\n    if (protocol) {\n      protocol = protocol.split(',').map(trim);\n\n      //\n      // Optionally call external protocol selection handler.\n      //\n      if (this.options.handleProtocols) {\n        protocol = this.options.handleProtocols(protocol, req);\n      } else {\n        protocol = protocol[0];\n      }\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, this.options.maxPayload);\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => this.clients.delete(ws));\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle premature socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  if (socket.writable) {\n    message = message || http.STATUS_CODES[code];\n    headers = {\n      Connection: 'close',\n      'Content-Type': 'text/html',\n      'Content-Length': Buffer.byteLength(message),\n      ...headers\n    };\n\n    socket.write(\n      `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n        Object.keys(headers)\n          .map((h) => `${h}: ${headers[h]}`)\n          .join('\\r\\n') +\n        '\\r\\n\\r\\n' +\n        message\n    );\n  }\n\n  socket.removeListener('error', socketOnError);\n  socket.destroy();\n}\n\n/**\n * Remove whitespace characters from both ends of a string.\n *\n * @param {String} str The string\n * @return {String} A new string representing `str` stripped of whitespace\n *     characters from both its beginning and end\n * @private\n */\nfunction trim(str) {\n  return str.trim();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvd2Vic29ja2V0LXNlcnZlci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0Msd0NBQXdDOztBQUVqRTs7QUFFYixxQkFBcUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNyQyxhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0IsY0FBYyxtQkFBTyxDQUFDLG9CQUFPO0FBQzdCLFlBQVksbUJBQU8sQ0FBQyxnQkFBSztBQUN6QixZQUFZLG1CQUFPLENBQUMsZ0JBQUs7QUFDekIsUUFBUSxhQUFhLEVBQUUsbUJBQU8sQ0FBQyxzQkFBUTs7QUFFdkMsMEJBQTBCLG1CQUFPLENBQUMsaUlBQXNCO0FBQ3hELGtCQUFrQixtQkFBTyxDQUFDLCtHQUFhO0FBQ3ZDLFFBQVEsZ0JBQWdCLEVBQUUsbUJBQU8sQ0FBQywrR0FBYTtBQUMvQyxRQUFRLG1CQUFtQixFQUFFLG1CQUFPLENBQUMsK0dBQWE7O0FBRWxELGlDQUFpQyxHQUFHOztBQUVwQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGFBQWEsVUFBVTtBQUN2QixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsUUFBUTtBQUNyQixhQUFhLGtCQUFrQjtBQUMvQjtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLDRCQUE0QjtBQUN6QztBQUNBLGFBQWEsVUFBVTtBQUN2QixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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Q0E7QUFDQSxXQUFXLHlCQUF5QjtBQUNwQyxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLE1BQU0sRUFBRSx3QkFBd0I7QUFDbEQ7QUFDQSx5QkFBeUIsRUFBRSxJQUFJLFdBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvbi9ub2RlX21vZHVsZXMvd3MvbGliL3dlYnNvY2tldC1zZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBbXCJlcnJvclwiLCB7IFwidmFyc0lnbm9yZVBhdHRlcm5cIjogXCJebmV0fHRsc3xodHRwcyRcIiB9XSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpO1xuY29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcbmNvbnN0IGh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKTtcbmNvbnN0IG5ldCA9IHJlcXVpcmUoJ25ldCcpO1xuY29uc3QgdGxzID0gcmVxdWlyZSgndGxzJyk7XG5jb25zdCB7IGNyZWF0ZUhhc2ggfSA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuXG5jb25zdCBQZXJNZXNzYWdlRGVmbGF0ZSA9IHJlcXVpcmUoJy4vcGVybWVzc2FnZS1kZWZsYXRlJyk7XG5jb25zdCBXZWJTb2NrZXQgPSByZXF1aXJlKCcuL3dlYnNvY2tldCcpO1xuY29uc3QgeyBmb3JtYXQsIHBhcnNlIH0gPSByZXF1aXJlKCcuL2V4dGVuc2lvbicpO1xuY29uc3QgeyBHVUlELCBrV2ViU29ja2V0IH0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xuXG5jb25zdCBrZXlSZWdleCA9IC9eWysvMC05QS1aYS16XXsyMn09PSQvO1xuXG5jb25zdCBSVU5OSU5HID0gMDtcbmNvbnN0IENMT1NJTkcgPSAxO1xuY29uc3QgQ0xPU0VEID0gMjtcblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBXZWJTb2NrZXQgc2VydmVyLlxuICpcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICovXG5jbGFzcyBXZWJTb2NrZXRTZXJ2ZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogQ3JlYXRlIGEgYFdlYlNvY2tldFNlcnZlcmAgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYmFja2xvZz01MTFdIFRoZSBtYXhpbXVtIGxlbmd0aCBvZiB0aGUgcXVldWUgb2ZcbiAgICogICAgIHBlbmRpbmcgY29ubmVjdGlvbnNcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jbGllbnRUcmFja2luZz10cnVlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG9cbiAgICogICAgIHRyYWNrIGNsaWVudHNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuaGFuZGxlUHJvdG9jb2xzXSBBIGhvb2sgdG8gaGFuZGxlIHByb3RvY29sc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaG9zdF0gVGhlIGhvc3RuYW1lIHdoZXJlIHRvIGJpbmQgdGhlIHNlcnZlclxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4UGF5bG9hZD0xMDQ4NTc2MDBdIFRoZSBtYXhpbXVtIGFsbG93ZWQgbWVzc2FnZVxuICAgKiAgICAgc2l6ZVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm5vU2VydmVyPWZhbHNlXSBFbmFibGUgbm8gc2VydmVyIG1vZGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBhdGhdIEFjY2VwdCBvbmx5IGNvbm5lY3Rpb25zIG1hdGNoaW5nIHRoaXMgcGF0aFxuICAgKiBAcGFyYW0geyhCb29sZWFufE9iamVjdCl9IFtvcHRpb25zLnBlck1lc3NhZ2VEZWZsYXRlPWZhbHNlXSBFbmFibGUvZGlzYWJsZVxuICAgKiAgICAgcGVybWVzc2FnZS1kZWZsYXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5wb3J0XSBUaGUgcG9ydCB3aGVyZSB0byBiaW5kIHRoZSBzZXJ2ZXJcbiAgICogQHBhcmFtIHsoaHR0cC5TZXJ2ZXJ8aHR0cHMuU2VydmVyKX0gW29wdGlvbnMuc2VydmVyXSBBIHByZS1jcmVhdGVkIEhUVFAvU1xuICAgKiAgICAgc2VydmVyIHRvIHVzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy52ZXJpZnlDbGllbnRdIEEgaG9vayB0byByZWplY3QgY29ubmVjdGlvbnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBBIGxpc3RlbmVyIGZvciB0aGUgYGxpc3RlbmluZ2AgZXZlbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIG9wdGlvbnMgPSB7XG4gICAgICBtYXhQYXlsb2FkOiAxMDAgKiAxMDI0ICogMTAyNCxcbiAgICAgIHBlck1lc3NhZ2VEZWZsYXRlOiBmYWxzZSxcbiAgICAgIGhhbmRsZVByb3RvY29sczogbnVsbCxcbiAgICAgIGNsaWVudFRyYWNraW5nOiB0cnVlLFxuICAgICAgdmVyaWZ5Q2xpZW50OiBudWxsLFxuICAgICAgbm9TZXJ2ZXI6IGZhbHNlLFxuICAgICAgYmFja2xvZzogbnVsbCwgLy8gdXNlIGRlZmF1bHQgKDUxMSBhcyBpbXBsZW1lbnRlZCBpbiBuZXQuanMpXG4gICAgICBzZXJ2ZXI6IG51bGwsXG4gICAgICBob3N0OiBudWxsLFxuICAgICAgcGF0aDogbnVsbCxcbiAgICAgIHBvcnQ6IG51bGwsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcblxuICAgIGlmIChcbiAgICAgIChvcHRpb25zLnBvcnQgPT0gbnVsbCAmJiAhb3B0aW9ucy5zZXJ2ZXIgJiYgIW9wdGlvbnMubm9TZXJ2ZXIpIHx8XG4gICAgICAob3B0aW9ucy5wb3J0ICE9IG51bGwgJiYgKG9wdGlvbnMuc2VydmVyIHx8IG9wdGlvbnMubm9TZXJ2ZXIpKSB8fFxuICAgICAgKG9wdGlvbnMuc2VydmVyICYmIG9wdGlvbnMubm9TZXJ2ZXIpXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnT25lIGFuZCBvbmx5IG9uZSBvZiB0aGUgXCJwb3J0XCIsIFwic2VydmVyXCIsIG9yIFwibm9TZXJ2ZXJcIiBvcHRpb25zICcgK1xuICAgICAgICAgICdtdXN0IGJlIHNwZWNpZmllZCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMucG9ydCAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcigocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc3QgYm9keSA9IGh0dHAuU1RBVFVTX0NPREVTWzQyNl07XG5cbiAgICAgICAgcmVzLndyaXRlSGVhZCg0MjYsIHtcbiAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBib2R5Lmxlbmd0aCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW4nXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuZW5kKGJvZHkpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9zZXJ2ZXIubGlzdGVuKFxuICAgICAgICBvcHRpb25zLnBvcnQsXG4gICAgICAgIG9wdGlvbnMuaG9zdCxcbiAgICAgICAgb3B0aW9ucy5iYWNrbG9nLFxuICAgICAgICBjYWxsYmFja1xuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuc2VydmVyKSB7XG4gICAgICB0aGlzLl9zZXJ2ZXIgPSBvcHRpb25zLnNlcnZlcjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc2VydmVyKSB7XG4gICAgICBjb25zdCBlbWl0Q29ubmVjdGlvbiA9IHRoaXMuZW1pdC5iaW5kKHRoaXMsICdjb25uZWN0aW9uJyk7XG5cbiAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVycyA9IGFkZExpc3RlbmVycyh0aGlzLl9zZXJ2ZXIsIHtcbiAgICAgICAgbGlzdGVuaW5nOiB0aGlzLmVtaXQuYmluZCh0aGlzLCAnbGlzdGVuaW5nJyksXG4gICAgICAgIGVycm9yOiB0aGlzLmVtaXQuYmluZCh0aGlzLCAnZXJyb3InKSxcbiAgICAgICAgdXBncmFkZTogKHJlcSwgc29ja2V0LCBoZWFkKSA9PiB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVVcGdyYWRlKHJlcSwgc29ja2V0LCBoZWFkLCBlbWl0Q29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnBlck1lc3NhZ2VEZWZsYXRlID09PSB0cnVlKSBvcHRpb25zLnBlck1lc3NhZ2VEZWZsYXRlID0ge307XG4gICAgaWYgKG9wdGlvbnMuY2xpZW50VHJhY2tpbmcpIHRoaXMuY2xpZW50cyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuX3N0YXRlID0gUlVOTklORztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBib3VuZCBhZGRyZXNzLCB0aGUgYWRkcmVzcyBmYW1pbHkgbmFtZSwgYW5kIHBvcnQgb2YgdGhlIHNlcnZlclxuICAgKiBhcyByZXBvcnRlZCBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbSBpZiBsaXN0ZW5pbmcgb24gYW4gSVAgc29ja2V0LlxuICAgKiBJZiB0aGUgc2VydmVyIGlzIGxpc3RlbmluZyBvbiBhIHBpcGUgb3IgVU5JWCBkb21haW4gc29ja2V0LCB0aGUgbmFtZSBpc1xuICAgKiByZXR1cm5lZCBhcyBhIHN0cmluZy5cbiAgICpcbiAgICogQHJldHVybiB7KE9iamVjdHxTdHJpbmd8bnVsbCl9IFRoZSBhZGRyZXNzIG9mIHRoZSBzZXJ2ZXJcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgYWRkcmVzcygpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLm5vU2VydmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzZXJ2ZXIgaXMgb3BlcmF0aW5nIGluIFwibm9TZXJ2ZXJcIiBtb2RlJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9zZXJ2ZXIpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXIuYWRkcmVzcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY2xvc2UoY2IpIHtcbiAgICBpZiAoY2IpIHRoaXMub25jZSgnY2xvc2UnLCBjYik7XG5cbiAgICBpZiAodGhpcy5fc3RhdGUgPT09IENMT1NFRCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2UsIHRoaXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gQ0xPU0lORykgcmV0dXJuO1xuICAgIHRoaXMuX3N0YXRlID0gQ0xPU0lORztcblxuICAgIC8vXG4gICAgLy8gVGVybWluYXRlIGFsbCBhc3NvY2lhdGVkIGNsaWVudHMuXG4gICAgLy9cbiAgICBpZiAodGhpcy5jbGllbnRzKSB7XG4gICAgICBmb3IgKGNvbnN0IGNsaWVudCBvZiB0aGlzLmNsaWVudHMpIGNsaWVudC50ZXJtaW5hdGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXJ2ZXIgPSB0aGlzLl9zZXJ2ZXI7XG5cbiAgICBpZiAoc2VydmVyKSB7XG4gICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVycyA9IHRoaXMuX3NlcnZlciA9IG51bGw7XG5cbiAgICAgIC8vXG4gICAgICAvLyBDbG9zZSB0aGUgaHR0cCBzZXJ2ZXIgaWYgaXQgd2FzIGludGVybmFsbHkgY3JlYXRlZC5cbiAgICAgIC8vXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBvcnQgIT0gbnVsbCkge1xuICAgICAgICBzZXJ2ZXIuY2xvc2UoZW1pdENsb3NlLmJpbmQodW5kZWZpbmVkLCB0aGlzKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogU2VlIGlmIGEgZ2l2ZW4gcmVxdWVzdCBzaG91bGQgYmUgaGFuZGxlZCBieSB0aGlzIHNlcnZlciBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtodHRwLkluY29taW5nTWVzc2FnZX0gcmVxIFJlcXVlc3Qgb2JqZWN0IHRvIGluc3BlY3RcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSByZXF1ZXN0IGlzIHZhbGlkLCBlbHNlIGBmYWxzZWBcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2hvdWxkSGFuZGxlKHJlcSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMucGF0aCkge1xuICAgICAgY29uc3QgaW5kZXggPSByZXEudXJsLmluZGV4T2YoJz8nKTtcbiAgICAgIGNvbnN0IHBhdGhuYW1lID0gaW5kZXggIT09IC0xID8gcmVxLnVybC5zbGljZSgwLCBpbmRleCkgOiByZXEudXJsO1xuXG4gICAgICBpZiAocGF0aG5hbWUgIT09IHRoaXMub3B0aW9ucy5wYXRoKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGEgSFRUUCBVcGdyYWRlIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7aHR0cC5JbmNvbWluZ01lc3NhZ2V9IHJlcSBUaGUgcmVxdWVzdCBvYmplY3RcbiAgICogQHBhcmFtIHsobmV0LlNvY2tldHx0bHMuU29ja2V0KX0gc29ja2V0IFRoZSBuZXR3b3JrIHNvY2tldCBiZXR3ZWVuIHRoZVxuICAgKiAgICAgc2VydmVyIGFuZCBjbGllbnRcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGhlYWQgVGhlIGZpcnN0IHBhY2tldCBvZiB0aGUgdXBncmFkZWQgc3RyZWFtXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIENhbGxiYWNrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGhhbmRsZVVwZ3JhZGUocmVxLCBzb2NrZXQsIGhlYWQsIGNiKSB7XG4gICAgc29ja2V0Lm9uKCdlcnJvcicsIHNvY2tldE9uRXJyb3IpO1xuXG4gICAgY29uc3Qga2V5ID1cbiAgICAgIHJlcS5oZWFkZXJzWydzZWMtd2Vic29ja2V0LWtleSddICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyByZXEuaGVhZGVyc1snc2VjLXdlYnNvY2tldC1rZXknXS50cmltKClcbiAgICAgICAgOiBmYWxzZTtcbiAgICBjb25zdCB1cGdyYWRlID0gcmVxLmhlYWRlcnMudXBncmFkZTtcbiAgICBjb25zdCB2ZXJzaW9uID0gK3JlcS5oZWFkZXJzWydzZWMtd2Vic29ja2V0LXZlcnNpb24nXTtcbiAgICBjb25zdCBleHRlbnNpb25zID0ge307XG5cbiAgICBpZiAoXG4gICAgICByZXEubWV0aG9kICE9PSAnR0VUJyB8fFxuICAgICAgdXBncmFkZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB1cGdyYWRlLnRvTG93ZXJDYXNlKCkgIT09ICd3ZWJzb2NrZXQnIHx8XG4gICAgICAha2V5IHx8XG4gICAgICAha2V5UmVnZXgudGVzdChrZXkpIHx8XG4gICAgICAodmVyc2lvbiAhPT0gOCAmJiB2ZXJzaW9uICE9PSAxMykgfHxcbiAgICAgICF0aGlzLnNob3VsZEhhbmRsZShyZXEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gYWJvcnRIYW5kc2hha2Uoc29ja2V0LCA0MDApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGVyTWVzc2FnZURlZmxhdGUpIHtcbiAgICAgIGNvbnN0IHBlck1lc3NhZ2VEZWZsYXRlID0gbmV3IFBlck1lc3NhZ2VEZWZsYXRlKFxuICAgICAgICB0aGlzLm9wdGlvbnMucGVyTWVzc2FnZURlZmxhdGUsXG4gICAgICAgIHRydWUsXG4gICAgICAgIHRoaXMub3B0aW9ucy5tYXhQYXlsb2FkXG4gICAgICApO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBvZmZlcnMgPSBwYXJzZShyZXEuaGVhZGVyc1snc2VjLXdlYnNvY2tldC1leHRlbnNpb25zJ10pO1xuXG4gICAgICAgIGlmIChvZmZlcnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0pIHtcbiAgICAgICAgICBwZXJNZXNzYWdlRGVmbGF0ZS5hY2NlcHQob2ZmZXJzW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdKTtcbiAgICAgICAgICBleHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdID0gcGVyTWVzc2FnZURlZmxhdGU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gYWJvcnRIYW5kc2hha2Uoc29ja2V0LCA0MDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gT3B0aW9uYWxseSBjYWxsIGV4dGVybmFsIGNsaWVudCB2ZXJpZmljYXRpb24gaGFuZGxlci5cbiAgICAvL1xuICAgIGlmICh0aGlzLm9wdGlvbnMudmVyaWZ5Q2xpZW50KSB7XG4gICAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICBvcmlnaW46XG4gICAgICAgICAgcmVxLmhlYWRlcnNbYCR7dmVyc2lvbiA9PT0gOCA/ICdzZWMtd2Vic29ja2V0LW9yaWdpbicgOiAnb3JpZ2luJ31gXSxcbiAgICAgICAgc2VjdXJlOiAhIShyZXEuc29ja2V0LmF1dGhvcml6ZWQgfHwgcmVxLnNvY2tldC5lbmNyeXB0ZWQpLFxuICAgICAgICByZXFcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudmVyaWZ5Q2xpZW50Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICB0aGlzLm9wdGlvbnMudmVyaWZ5Q2xpZW50KGluZm8sICh2ZXJpZmllZCwgY29kZSwgbWVzc2FnZSwgaGVhZGVycykgPT4ge1xuICAgICAgICAgIGlmICghdmVyaWZpZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBhYm9ydEhhbmRzaGFrZShzb2NrZXQsIGNvZGUgfHwgNDAxLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmNvbXBsZXRlVXBncmFkZShrZXksIGV4dGVuc2lvbnMsIHJlcSwgc29ja2V0LCBoZWFkLCBjYik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnZlcmlmeUNsaWVudChpbmZvKSkgcmV0dXJuIGFib3J0SGFuZHNoYWtlKHNvY2tldCwgNDAxKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBsZXRlVXBncmFkZShrZXksIGV4dGVuc2lvbnMsIHJlcSwgc29ja2V0LCBoZWFkLCBjYik7XG4gIH1cblxuICAvKipcbiAgICogVXBncmFkZSB0aGUgY29ubmVjdGlvbiB0byBXZWJTb2NrZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIHZhbHVlIG9mIHRoZSBgU2VjLVdlYlNvY2tldC1LZXlgIGhlYWRlclxuICAgKiBAcGFyYW0ge09iamVjdH0gZXh0ZW5zaW9ucyBUaGUgYWNjZXB0ZWQgZXh0ZW5zaW9uc1xuICAgKiBAcGFyYW0ge2h0dHAuSW5jb21pbmdNZXNzYWdlfSByZXEgVGhlIHJlcXVlc3Qgb2JqZWN0XG4gICAqIEBwYXJhbSB7KG5ldC5Tb2NrZXR8dGxzLlNvY2tldCl9IHNvY2tldCBUaGUgbmV0d29yayBzb2NrZXQgYmV0d2VlbiB0aGVcbiAgICogICAgIHNlcnZlciBhbmQgY2xpZW50XG4gICAqIEBwYXJhbSB7QnVmZmVyfSBoZWFkIFRoZSBmaXJzdCBwYWNrZXQgb2YgdGhlIHVwZ3JhZGVkIHN0cmVhbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBDYWxsYmFja1xuICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgY2FsbGVkIG1vcmUgdGhhbiBvbmNlIHdpdGggdGhlIHNhbWUgc29ja2V0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb21wbGV0ZVVwZ3JhZGUoa2V5LCBleHRlbnNpb25zLCByZXEsIHNvY2tldCwgaGVhZCwgY2IpIHtcbiAgICAvL1xuICAgIC8vIERlc3Ryb3kgdGhlIHNvY2tldCBpZiB0aGUgY2xpZW50IGhhcyBhbHJlYWR5IHNlbnQgYSBGSU4gcGFja2V0LlxuICAgIC8vXG4gICAgaWYgKCFzb2NrZXQucmVhZGFibGUgfHwgIXNvY2tldC53cml0YWJsZSkgcmV0dXJuIHNvY2tldC5kZXN0cm95KCk7XG5cbiAgICBpZiAoc29ja2V0W2tXZWJTb2NrZXRdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdzZXJ2ZXIuaGFuZGxlVXBncmFkZSgpIHdhcyBjYWxsZWQgbW9yZSB0aGFuIG9uY2Ugd2l0aCB0aGUgc2FtZSAnICtcbiAgICAgICAgICAnc29ja2V0LCBwb3NzaWJseSBkdWUgdG8gYSBtaXNjb25maWd1cmF0aW9uJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc3RhdGUgPiBSVU5OSU5HKSByZXR1cm4gYWJvcnRIYW5kc2hha2Uoc29ja2V0LCA1MDMpO1xuXG4gICAgY29uc3QgZGlnZXN0ID0gY3JlYXRlSGFzaCgnc2hhMScpXG4gICAgICAudXBkYXRlKGtleSArIEdVSUQpXG4gICAgICAuZGlnZXN0KCdiYXNlNjQnKTtcblxuICAgIGNvbnN0IGhlYWRlcnMgPSBbXG4gICAgICAnSFRUUC8xLjEgMTAxIFN3aXRjaGluZyBQcm90b2NvbHMnLFxuICAgICAgJ1VwZ3JhZGU6IHdlYnNvY2tldCcsXG4gICAgICAnQ29ubmVjdGlvbjogVXBncmFkZScsXG4gICAgICBgU2VjLVdlYlNvY2tldC1BY2NlcHQ6ICR7ZGlnZXN0fWBcbiAgICBdO1xuXG4gICAgY29uc3Qgd3MgPSBuZXcgV2ViU29ja2V0KG51bGwpO1xuICAgIGxldCBwcm90b2NvbCA9IHJlcS5oZWFkZXJzWydzZWMtd2Vic29ja2V0LXByb3RvY29sJ107XG5cbiAgICBpZiAocHJvdG9jb2wpIHtcbiAgICAgIHByb3RvY29sID0gcHJvdG9jb2wuc3BsaXQoJywnKS5tYXAodHJpbSk7XG5cbiAgICAgIC8vXG4gICAgICAvLyBPcHRpb25hbGx5IGNhbGwgZXh0ZXJuYWwgcHJvdG9jb2wgc2VsZWN0aW9uIGhhbmRsZXIuXG4gICAgICAvL1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5oYW5kbGVQcm90b2NvbHMpIHtcbiAgICAgICAgcHJvdG9jb2wgPSB0aGlzLm9wdGlvbnMuaGFuZGxlUHJvdG9jb2xzKHByb3RvY29sLCByZXEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvdG9jb2wgPSBwcm90b2NvbFswXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3RvY29sKSB7XG4gICAgICAgIGhlYWRlcnMucHVzaChgU2VjLVdlYlNvY2tldC1Qcm90b2NvbDogJHtwcm90b2NvbH1gKTtcbiAgICAgICAgd3MuX3Byb3RvY29sID0gcHJvdG9jb2w7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0pIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IGV4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0ucGFyYW1zO1xuICAgICAgY29uc3QgdmFsdWUgPSBmb3JtYXQoe1xuICAgICAgICBbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV06IFtwYXJhbXNdXG4gICAgICB9KTtcbiAgICAgIGhlYWRlcnMucHVzaChgU2VjLVdlYlNvY2tldC1FeHRlbnNpb25zOiAke3ZhbHVlfWApO1xuICAgICAgd3MuX2V4dGVuc2lvbnMgPSBleHRlbnNpb25zO1xuICAgIH1cblxuICAgIC8vXG4gICAgLy8gQWxsb3cgZXh0ZXJuYWwgbW9kaWZpY2F0aW9uL2luc3BlY3Rpb24gb2YgaGFuZHNoYWtlIGhlYWRlcnMuXG4gICAgLy9cbiAgICB0aGlzLmVtaXQoJ2hlYWRlcnMnLCBoZWFkZXJzLCByZXEpO1xuXG4gICAgc29ja2V0LndyaXRlKGhlYWRlcnMuY29uY2F0KCdcXHJcXG4nKS5qb2luKCdcXHJcXG4nKSk7XG4gICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIHNvY2tldE9uRXJyb3IpO1xuXG4gICAgd3Muc2V0U29ja2V0KHNvY2tldCwgaGVhZCwgdGhpcy5vcHRpb25zLm1heFBheWxvYWQpO1xuXG4gICAgaWYgKHRoaXMuY2xpZW50cykge1xuICAgICAgdGhpcy5jbGllbnRzLmFkZCh3cyk7XG4gICAgICB3cy5vbignY2xvc2UnLCAoKSA9PiB0aGlzLmNsaWVudHMuZGVsZXRlKHdzKSk7XG4gICAgfVxuXG4gICAgY2Iod3MsIHJlcSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBXZWJTb2NrZXRTZXJ2ZXI7XG5cbi8qKlxuICogQWRkIGV2ZW50IGxpc3RlbmVycyBvbiBhbiBgRXZlbnRFbWl0dGVyYCB1c2luZyBhIG1hcCBvZiA8ZXZlbnQsIGxpc3RlbmVyPlxuICogcGFpcnMuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IHNlcnZlciBUaGUgZXZlbnQgZW1pdHRlclxuICogQHBhcmFtIHtPYmplY3QuPFN0cmluZywgRnVuY3Rpb24+fSBtYXAgVGhlIGxpc3RlbmVycyB0byBhZGRcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRoYXQgd2lsbCByZW1vdmUgdGhlIGFkZGVkIGxpc3RlbmVycyB3aGVuXG4gKiAgICAgY2FsbGVkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcnMoc2VydmVyLCBtYXApIHtcbiAgZm9yIChjb25zdCBldmVudCBvZiBPYmplY3Qua2V5cyhtYXApKSBzZXJ2ZXIub24oZXZlbnQsIG1hcFtldmVudF0pO1xuXG4gIHJldHVybiBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoKSB7XG4gICAgZm9yIChjb25zdCBldmVudCBvZiBPYmplY3Qua2V5cyhtYXApKSB7XG4gICAgICBzZXJ2ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIG1hcFtldmVudF0pO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBFbWl0IGEgYCdjbG9zZSdgIGV2ZW50IG9uIGFuIGBFdmVudEVtaXR0ZXJgLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBzZXJ2ZXIgVGhlIGV2ZW50IGVtaXR0ZXJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVtaXRDbG9zZShzZXJ2ZXIpIHtcbiAgc2VydmVyLl9zdGF0ZSA9IENMT1NFRDtcbiAgc2VydmVyLmVtaXQoJ2Nsb3NlJyk7XG59XG5cbi8qKlxuICogSGFuZGxlIHByZW1hdHVyZSBzb2NrZXQgZXJyb3JzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNvY2tldE9uRXJyb3IoKSB7XG4gIHRoaXMuZGVzdHJveSgpO1xufVxuXG4vKipcbiAqIENsb3NlIHRoZSBjb25uZWN0aW9uIHdoZW4gcHJlY29uZGl0aW9ucyBhcmUgbm90IGZ1bGZpbGxlZC5cbiAqXG4gKiBAcGFyYW0geyhuZXQuU29ja2V0fHRscy5Tb2NrZXQpfSBzb2NrZXQgVGhlIHNvY2tldCBvZiB0aGUgdXBncmFkZSByZXF1ZXN0XG4gKiBAcGFyYW0ge051bWJlcn0gY29kZSBUaGUgSFRUUCByZXNwb25zZSBzdGF0dXMgY29kZVxuICogQHBhcmFtIHtTdHJpbmd9IFttZXNzYWdlXSBUaGUgSFRUUCByZXNwb25zZSBib2R5XG4gKiBAcGFyYW0ge09iamVjdH0gW2hlYWRlcnNdIEFkZGl0aW9uYWwgSFRUUCByZXNwb25zZSBoZWFkZXJzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhYm9ydEhhbmRzaGFrZShzb2NrZXQsIGNvZGUsIG1lc3NhZ2UsIGhlYWRlcnMpIHtcbiAgaWYgKHNvY2tldC53cml0YWJsZSkge1xuICAgIG1lc3NhZ2UgPSBtZXNzYWdlIHx8IGh0dHAuU1RBVFVTX0NPREVTW2NvZGVdO1xuICAgIGhlYWRlcnMgPSB7XG4gICAgICBDb25uZWN0aW9uOiAnY2xvc2UnLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L2h0bWwnLFxuICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogQnVmZmVyLmJ5dGVMZW5ndGgobWVzc2FnZSksXG4gICAgICAuLi5oZWFkZXJzXG4gICAgfTtcblxuICAgIHNvY2tldC53cml0ZShcbiAgICAgIGBIVFRQLzEuMSAke2NvZGV9ICR7aHR0cC5TVEFUVVNfQ09ERVNbY29kZV19XFxyXFxuYCArXG4gICAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpXG4gICAgICAgICAgLm1hcCgoaCkgPT4gYCR7aH06ICR7aGVhZGVyc1toXX1gKVxuICAgICAgICAgIC5qb2luKCdcXHJcXG4nKSArXG4gICAgICAgICdcXHJcXG5cXHJcXG4nICtcbiAgICAgICAgbWVzc2FnZVxuICAgICk7XG4gIH1cblxuICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgc29ja2V0T25FcnJvcik7XG4gIHNvY2tldC5kZXN0cm95KCk7XG59XG5cbi8qKlxuICogUmVtb3ZlIHdoaXRlc3BhY2UgY2hhcmFjdGVycyBmcm9tIGJvdGggZW5kcyBvZiBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ30gQSBuZXcgc3RyaW5nIHJlcHJlc2VudGluZyBgc3RyYCBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlXG4gKiAgICAgY2hhcmFjdGVycyBmcm9tIGJvdGggaXRzIGJlZ2lubmluZyBhbmQgZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICByZXR1cm4gc3RyLnRyaW0oKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket-server.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n\n\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst http = __webpack_require__(/*! http */ \"http\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst { randomBytes, createHash } = __webpack_require__(/*! crypto */ \"crypto\");\nconst { Readable } = __webpack_require__(/*! stream */ \"stream\");\nconst { URL } = __webpack_require__(/*! url */ \"url\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/permessage-deflate.js\");\nconst Receiver = __webpack_require__(/*! ./receiver */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/receiver.js\");\nconst Sender = __webpack_require__(/*! ./sender */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/sender.js\");\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/constants.js\");\nconst { addEventListener, removeEventListener } = __webpack_require__(/*! ./event-target */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/event-target.js\");\nconst { format, parse } = __webpack_require__(/*! ./extension */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/extension.js\");\nconst { toBuffer } = __webpack_require__(/*! ./buffer-util */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/buffer-util.js\");\n\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst protocolVersions = [8, 13];\nconst closeTimeout = 30 * 1000;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = '';\n    this._closeTimer = null;\n    this._extensions = {};\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (Array.isArray(protocols)) {\n        protocols = protocols.join(', ');\n      } else if (typeof protocols === 'object' && protocols !== null) {\n        options = protocols;\n        protocols = undefined;\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onclose(listener) {}\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onerror(listener) {}\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onopen(listener) {}\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onmessage(listener) {}\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Number} [maxPayload=0] The maximum allowed message size\n   * @private\n   */\n  setSocket(socket, head, maxPayload) {\n    const receiver = new Receiver(\n      this.binaryType,\n      this._extensions,\n      this._isServer,\n      maxPayload\n    );\n\n    this._sender = new Sender(socket, this._extensions);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {String} [data] A string explaining why the connection is closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      const listeners = this.listeners(method);\n      for (let i = 0; i < listeners.length; i++) {\n        if (listeners[i]._listener) return listeners[i]._listener;\n      }\n\n      return undefined;\n    },\n    set(listener) {\n      const listeners = this.listeners(method);\n      for (let i = 0; i < listeners.length; i++) {\n        //\n        // Remove only the listeners added via `addEventListener`.\n        //\n        if (listeners[i]._listener) this.removeListener(method, listeners[i]);\n      }\n      this.addEventListener(method, listener);\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {String} [protocols] The subprotocols\n * @param {Object} [options] Connection options\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: undefined,\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    parsedUrl = new URL(address);\n    websocket._url = address;\n  }\n\n  const isUnixSocket = parsedUrl.protocol === 'ws+unix:';\n\n  if (!parsedUrl.host && (!isUnixSocket || !parsedUrl.pathname)) {\n    const err = new Error(`Invalid URL: ${websocket.url}`);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const isSecure =\n    parsedUrl.protocol === 'wss:' || parsedUrl.protocol === 'https:';\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const get = isSecure ? https.get : http.get;\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket',\n    ...opts.headers\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols) {\n    opts.headers['Sec-WebSocket-Protocol'] = protocols;\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isUnixSocket) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalUnixSocket = isUnixSocket;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isUnixSocket\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else {\n      const isSameHost = isUnixSocket\n        ? websocket._originalUnixSocket\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalUnixSocket\n        ? false\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n  }\n\n  let req = (websocket._req = get(opts));\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req.aborted) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (err) {\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the `upgrade`\n    // event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    const upgrade = res.headers.upgrade;\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    const protList = (protocols || '').split(/, */);\n    let protError;\n\n    if (!protocols && serverProt) {\n      protError = 'Server sent a subprotocol but none was requested';\n    } else if (protocols && !serverProt) {\n      protError = 'Server sent no subprotocol';\n    } else if (serverProt && !protList.includes(serverProt)) {\n      protError = 'Server sent an invalid subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (extensionNames.length) {\n        if (\n          extensionNames.length !== 1 ||\n          extensionNames[0] !== PerMessageDeflate.extensionName\n        ) {\n          const message =\n            'Server indicated an extension that was not requested';\n          abortHandshake(websocket, socket, message);\n          return;\n        }\n\n        try {\n          perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n        } catch (err) {\n          const message = 'Invalid Sec-WebSocket-Extensions header';\n          abortHandshake(websocket, socket, message);\n          return;\n        }\n\n        websocket._extensions[PerMessageDeflate.extensionName] =\n          perMessageDeflate;\n      }\n    }\n\n    websocket.setSocket(socket, head, opts.maxPayload);\n  });\n}\n\n/**\n * Emit the `'error'` and `'close'` event.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    stream.once('abort', websocket.emitClose.bind(websocket));\n    websocket.emit('error', err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    cb(err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {String} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  this[kWebSocket]._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The message\n * @private\n */\nfunction receiverOnMessage(data) {\n  this[kWebSocket].emit('message', data);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvanNvbnJwYy13cy1jb25uZWN0aW9uL25vZGVfbW9kdWxlcy93cy9saWIvd2Vic29ja2V0LmpzIiwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQyxtQ0FBbUM7O0FBRTVEOztBQUViLHFCQUFxQixtQkFBTyxDQUFDLHNCQUFRO0FBQ3JDLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QixhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0IsWUFBWSxtQkFBTyxDQUFDLGdCQUFLO0FBQ3pCLFlBQVksbUJBQU8sQ0FBQyxnQkFBSztBQUN6QixRQUFRLDBCQUEwQixFQUFFLG1CQUFPLENBQUMsc0JBQVE7QUFDcEQsUUFBUSxXQUFXLEVBQUUsbUJBQU8sQ0FBQyxzQkFBUTtBQUNyQyxRQUFRLE1BQU0sRUFBRSxtQkFBTyxDQUFDLGdCQUFLOztBQUU3QiwwQkFBMEIsbUJBQU8sQ0FBQyxpSUFBc0I7QUFDeEQsaUJBQWlCLG1CQUFPLENBQUMsNkdBQVk7QUFDckMsZUFBZSxtQkFBTyxDQUFDLHlHQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxFQUFFLG1CQUFPLENBQUMsK0dBQWE7QUFDekIsUUFBUSx3Q0FBd0MsRUFBRSxtQkFBTyxDQUFDLHFIQUFnQjtBQUMxRSxRQUFRLGdCQUFnQixFQUFFLG1CQUFPLENBQUMsK0dBQWE7QUFDL0MsUUFBUSxXQUFXLEVBQUUsbUJBQU8sQ0FBQyxtSEFBZTs7QUFFNUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsY0FBYztBQUMzQixhQUFhLG1CQUFtQjtBQUNoQyxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGFBQWEsU0FBUztBQUN0QixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxrQkFBa0I7QUFDM0UsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELE9BQU87QUFDekQ7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNCQUFzQjtBQUM1QztBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzQkFBc0Isc0JBQXNCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1Q0FBdUMsc0JBQXNCO0FBQzdELGdDQUFnQyw0QkFBNEI7QUFDNUQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsMENBQTBDLGNBQWM7O0FBRXhEO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQW1CLEdBQUcsbUJBQW1CO0FBQzVEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGVBQWU7QUFDdEQ7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyw0Q0FBNEM7QUFDdkQ7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsR0FBRztBQUNkLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkNBQTJDLHNCQUFzQjtBQUNqRSxZQUFZLGtDQUFrQztBQUM5QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNDQUFzQztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb24vbm9kZV9tb2R1bGVzL3dzL2xpYi93ZWJzb2NrZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLXVudXNlZC12YXJzOiBbXCJlcnJvclwiLCB7IFwidmFyc0lnbm9yZVBhdHRlcm5cIjogXCJeUmVhZGFibGUkXCIgfV0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKTtcbmNvbnN0IGh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKTtcbmNvbnN0IGh0dHAgPSByZXF1aXJlKCdodHRwJyk7XG5jb25zdCBuZXQgPSByZXF1aXJlKCduZXQnKTtcbmNvbnN0IHRscyA9IHJlcXVpcmUoJ3RscycpO1xuY29uc3QgeyByYW5kb21CeXRlcywgY3JlYXRlSGFzaCB9ID0gcmVxdWlyZSgnY3J5cHRvJyk7XG5jb25zdCB7IFJlYWRhYmxlIH0gPSByZXF1aXJlKCdzdHJlYW0nKTtcbmNvbnN0IHsgVVJMIH0gPSByZXF1aXJlKCd1cmwnKTtcblxuY29uc3QgUGVyTWVzc2FnZURlZmxhdGUgPSByZXF1aXJlKCcuL3Blcm1lc3NhZ2UtZGVmbGF0ZScpO1xuY29uc3QgUmVjZWl2ZXIgPSByZXF1aXJlKCcuL3JlY2VpdmVyJyk7XG5jb25zdCBTZW5kZXIgPSByZXF1aXJlKCcuL3NlbmRlcicpO1xuY29uc3Qge1xuICBCSU5BUllfVFlQRVMsXG4gIEVNUFRZX0JVRkZFUixcbiAgR1VJRCxcbiAga1N0YXR1c0NvZGUsXG4gIGtXZWJTb2NrZXQsXG4gIE5PT1Bcbn0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xuY29uc3QgeyBhZGRFdmVudExpc3RlbmVyLCByZW1vdmVFdmVudExpc3RlbmVyIH0gPSByZXF1aXJlKCcuL2V2ZW50LXRhcmdldCcpO1xuY29uc3QgeyBmb3JtYXQsIHBhcnNlIH0gPSByZXF1aXJlKCcuL2V4dGVuc2lvbicpO1xuY29uc3QgeyB0b0J1ZmZlciB9ID0gcmVxdWlyZSgnLi9idWZmZXItdXRpbCcpO1xuXG5jb25zdCByZWFkeVN0YXRlcyA9IFsnQ09OTkVDVElORycsICdPUEVOJywgJ0NMT1NJTkcnLCAnQ0xPU0VEJ107XG5jb25zdCBwcm90b2NvbFZlcnNpb25zID0gWzgsIDEzXTtcbmNvbnN0IGNsb3NlVGltZW91dCA9IDMwICogMTAwMDtcblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBXZWJTb2NrZXQuXG4gKlxuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKi9cbmNsYXNzIFdlYlNvY2tldCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYFdlYlNvY2tldGAuXG4gICAqXG4gICAqIEBwYXJhbSB7KFN0cmluZ3xVUkwpfSBhZGRyZXNzIFRoZSBVUkwgdG8gd2hpY2ggdG8gY29ubmVjdFxuICAgKiBAcGFyYW0geyhTdHJpbmd8U3RyaW5nW10pfSBbcHJvdG9jb2xzXSBUaGUgc3VicHJvdG9jb2xzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQ29ubmVjdGlvbiBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhZGRyZXNzLCBwcm90b2NvbHMsIG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5fYmluYXJ5VHlwZSA9IEJJTkFSWV9UWVBFU1swXTtcbiAgICB0aGlzLl9jbG9zZUNvZGUgPSAxMDA2O1xuICAgIHRoaXMuX2Nsb3NlRnJhbWVSZWNlaXZlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2Nsb3NlRnJhbWVTZW50ID0gZmFsc2U7XG4gICAgdGhpcy5fY2xvc2VNZXNzYWdlID0gJyc7XG4gICAgdGhpcy5fY2xvc2VUaW1lciA9IG51bGw7XG4gICAgdGhpcy5fZXh0ZW5zaW9ucyA9IHt9O1xuICAgIHRoaXMuX3Byb3RvY29sID0gJyc7XG4gICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DT05ORUNUSU5HO1xuICAgIHRoaXMuX3JlY2VpdmVyID0gbnVsbDtcbiAgICB0aGlzLl9zZW5kZXIgPSBudWxsO1xuICAgIHRoaXMuX3NvY2tldCA9IG51bGw7XG5cbiAgICBpZiAoYWRkcmVzcyAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5fYnVmZmVyZWRBbW91bnQgPSAwO1xuICAgICAgdGhpcy5faXNTZXJ2ZXIgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3JlZGlyZWN0cyA9IDA7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3RvY29scykpIHtcbiAgICAgICAgcHJvdG9jb2xzID0gcHJvdG9jb2xzLmpvaW4oJywgJyk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b2NvbHMgPT09ICdvYmplY3QnICYmIHByb3RvY29scyAhPT0gbnVsbCkge1xuICAgICAgICBvcHRpb25zID0gcHJvdG9jb2xzO1xuICAgICAgICBwcm90b2NvbHMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGluaXRBc0NsaWVudCh0aGlzLCBhZGRyZXNzLCBwcm90b2NvbHMsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9pc1NlcnZlciA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZGV2aWF0ZXMgZnJvbSB0aGUgV0hBVFdHIGludGVyZmFjZSBzaW5jZSB3cyBkb2Vzbid0IHN1cHBvcnQgdGhlXG4gICAqIHJlcXVpcmVkIGRlZmF1bHQgXCJibG9iXCIgdHlwZSAoaW5zdGVhZCB3ZSBkZWZpbmUgYSBjdXN0b20gXCJub2RlYnVmZmVyXCJcbiAgICogdHlwZSkuXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBnZXQgYmluYXJ5VHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmluYXJ5VHlwZTtcbiAgfVxuXG4gIHNldCBiaW5hcnlUeXBlKHR5cGUpIHtcbiAgICBpZiAoIUJJTkFSWV9UWVBFUy5pbmNsdWRlcyh0eXBlKSkgcmV0dXJuO1xuXG4gICAgdGhpcy5fYmluYXJ5VHlwZSA9IHR5cGU7XG5cbiAgICAvL1xuICAgIC8vIEFsbG93IHRvIGNoYW5nZSBgYmluYXJ5VHlwZWAgb24gdGhlIGZseS5cbiAgICAvL1xuICAgIGlmICh0aGlzLl9yZWNlaXZlcikgdGhpcy5fcmVjZWl2ZXIuX2JpbmFyeVR5cGUgPSB0eXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICBnZXQgYnVmZmVyZWRBbW91bnQoKSB7XG4gICAgaWYgKCF0aGlzLl9zb2NrZXQpIHJldHVybiB0aGlzLl9idWZmZXJlZEFtb3VudDtcblxuICAgIHJldHVybiB0aGlzLl9zb2NrZXQuX3dyaXRhYmxlU3RhdGUubGVuZ3RoICsgdGhpcy5fc2VuZGVyLl9idWZmZXJlZEJ5dGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBnZXQgZXh0ZW5zaW9ucygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fZXh0ZW5zaW9ucykuam9pbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICovXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGdldCBvbmNsb3NlKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBzZXQgb25jbG9zZShsaXN0ZW5lcikge31cblxuICAvKipcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgKi9cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZ2V0IG9uZXJyb3IoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHNldCBvbmVycm9yKGxpc3RlbmVyKSB7fVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBnZXQgb25vcGVuKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBzZXQgb25vcGVuKGxpc3RlbmVyKSB7fVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBnZXQgb25tZXNzYWdlKCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBzZXQgb25tZXNzYWdlKGxpc3RlbmVyKSB7fVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgZ2V0IHByb3RvY29sKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm90b2NvbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgZ2V0IHJlYWR5U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWR5U3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCB1cmwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VybDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXAgdGhlIHNvY2tldCBhbmQgdGhlIGludGVybmFsIHJlc291cmNlcy5cbiAgICpcbiAgICogQHBhcmFtIHsobmV0LlNvY2tldHx0bHMuU29ja2V0KX0gc29ja2V0IFRoZSBuZXR3b3JrIHNvY2tldCBiZXR3ZWVuIHRoZVxuICAgKiAgICAgc2VydmVyIGFuZCBjbGllbnRcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGhlYWQgVGhlIGZpcnN0IHBhY2tldCBvZiB0aGUgdXBncmFkZWQgc3RyZWFtXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4UGF5bG9hZD0wXSBUaGUgbWF4aW11bSBhbGxvd2VkIG1lc3NhZ2Ugc2l6ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2V0U29ja2V0KHNvY2tldCwgaGVhZCwgbWF4UGF5bG9hZCkge1xuICAgIGNvbnN0IHJlY2VpdmVyID0gbmV3IFJlY2VpdmVyKFxuICAgICAgdGhpcy5iaW5hcnlUeXBlLFxuICAgICAgdGhpcy5fZXh0ZW5zaW9ucyxcbiAgICAgIHRoaXMuX2lzU2VydmVyLFxuICAgICAgbWF4UGF5bG9hZFxuICAgICk7XG5cbiAgICB0aGlzLl9zZW5kZXIgPSBuZXcgU2VuZGVyKHNvY2tldCwgdGhpcy5fZXh0ZW5zaW9ucyk7XG4gICAgdGhpcy5fcmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICB0aGlzLl9zb2NrZXQgPSBzb2NrZXQ7XG5cbiAgICByZWNlaXZlcltrV2ViU29ja2V0XSA9IHRoaXM7XG4gICAgc29ja2V0W2tXZWJTb2NrZXRdID0gdGhpcztcblxuICAgIHJlY2VpdmVyLm9uKCdjb25jbHVkZScsIHJlY2VpdmVyT25Db25jbHVkZSk7XG4gICAgcmVjZWl2ZXIub24oJ2RyYWluJywgcmVjZWl2ZXJPbkRyYWluKTtcbiAgICByZWNlaXZlci5vbignZXJyb3InLCByZWNlaXZlck9uRXJyb3IpO1xuICAgIHJlY2VpdmVyLm9uKCdtZXNzYWdlJywgcmVjZWl2ZXJPbk1lc3NhZ2UpO1xuICAgIHJlY2VpdmVyLm9uKCdwaW5nJywgcmVjZWl2ZXJPblBpbmcpO1xuICAgIHJlY2VpdmVyLm9uKCdwb25nJywgcmVjZWl2ZXJPblBvbmcpO1xuXG4gICAgc29ja2V0LnNldFRpbWVvdXQoMCk7XG4gICAgc29ja2V0LnNldE5vRGVsYXkoKTtcblxuICAgIGlmIChoZWFkLmxlbmd0aCA+IDApIHNvY2tldC51bnNoaWZ0KGhlYWQpO1xuXG4gICAgc29ja2V0Lm9uKCdjbG9zZScsIHNvY2tldE9uQ2xvc2UpO1xuICAgIHNvY2tldC5vbignZGF0YScsIHNvY2tldE9uRGF0YSk7XG4gICAgc29ja2V0Lm9uKCdlbmQnLCBzb2NrZXRPbkVuZCk7XG4gICAgc29ja2V0Lm9uKCdlcnJvcicsIHNvY2tldE9uRXJyb3IpO1xuXG4gICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5PUEVOO1xuICAgIHRoaXMuZW1pdCgnb3BlbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXQgdGhlIGAnY2xvc2UnYCBldmVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGVtaXRDbG9zZSgpIHtcbiAgICBpZiAoIXRoaXMuX3NvY2tldCkge1xuICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TRUQ7XG4gICAgICB0aGlzLmVtaXQoJ2Nsb3NlJywgdGhpcy5fY2xvc2VDb2RlLCB0aGlzLl9jbG9zZU1lc3NhZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9leHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdKSB7XG4gICAgICB0aGlzLl9leHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdLmNsZWFudXAoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZWNlaXZlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NFRDtcbiAgICB0aGlzLmVtaXQoJ2Nsb3NlJywgdGhpcy5fY2xvc2VDb2RlLCB0aGlzLl9jbG9zZU1lc3NhZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IGEgY2xvc2luZyBoYW5kc2hha2UuXG4gICAqXG4gICAqICAgICAgICAgICstLS0tLS0tLS0tKyAgICstLS0tLS0tLS0tLSsgICArLS0tLS0tLS0tLStcbiAgICogICAgIC0gLSAtfHdzLmNsb3NlKCl8LS0+fGNsb3NlIGZyYW1lfC0tPnx3cy5jbG9zZSgpfC0gLSAtXG4gICAqICAgIHwgICAgICstLS0tLS0tLS0tKyAgICstLS0tLS0tLS0tLSsgICArLS0tLS0tLS0tLSsgICAgIHxcbiAgICogICAgICAgICAgKy0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0tKyAgICAgICAgIHxcbiAgICogQ0xPU0lORyAgfHdzLmNsb3NlKCl8PC0tfGNsb3NlIGZyYW1lfDwtLSstLS0tLSsgICAgICAgQ0xPU0lOR1xuICAgKiAgICAgICAgICArLS0tLS0tLS0tLSsgICArLS0tLS0tLS0tLS0rICAgfFxuICAgKiAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgfCAgICstLS0rICAgICAgICB8XG4gICAqICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0+fGZpbnwgLSAtIC0gLVxuICAgKiAgICB8ICAgICAgICAgKy0tLSsgICAgICAgICAgICAgICAgICAgICAgfCAgICstLS0rXG4gICAqICAgICAtIC0gLSAtIC18ZmlufDwtLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gICAqICAgICAgICAgICAgICArLS0tK1xuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvZGVdIFN0YXR1cyBjb2RlIGV4cGxhaW5pbmcgd2h5IHRoZSBjb25uZWN0aW9uIGlzIGNsb3NpbmdcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtkYXRhXSBBIHN0cmluZyBleHBsYWluaW5nIHdoeSB0aGUgY29ubmVjdGlvbiBpcyBjbG9zaW5nXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNsb3NlKGNvZGUsIGRhdGEpIHtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0VEKSByZXR1cm47XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcbiAgICAgIGNvbnN0IG1zZyA9ICdXZWJTb2NrZXQgd2FzIGNsb3NlZCBiZWZvcmUgdGhlIGNvbm5lY3Rpb24gd2FzIGVzdGFibGlzaGVkJztcbiAgICAgIHJldHVybiBhYm9ydEhhbmRzaGFrZSh0aGlzLCB0aGlzLl9yZXEsIG1zZyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NJTkcpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5fY2xvc2VGcmFtZVNlbnQgJiZcbiAgICAgICAgKHRoaXMuX2Nsb3NlRnJhbWVSZWNlaXZlZCB8fCB0aGlzLl9yZWNlaXZlci5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fc29ja2V0LmVuZCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TSU5HO1xuICAgIHRoaXMuX3NlbmRlci5jbG9zZShjb2RlLCBkYXRhLCAhdGhpcy5faXNTZXJ2ZXIsIChlcnIpID0+IHtcbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGVycm9yIGlzIGhhbmRsZWQgYnkgdGhlIGAnZXJyb3InYCBsaXN0ZW5lciBvbiB0aGUgc29ja2V0LiBXZSBvbmx5XG4gICAgICAvLyB3YW50IHRvIGtub3cgaWYgdGhlIGNsb3NlIGZyYW1lIGhhcyBiZWVuIHNlbnQgaGVyZS5cbiAgICAgIC8vXG4gICAgICBpZiAoZXJyKSByZXR1cm47XG5cbiAgICAgIHRoaXMuX2Nsb3NlRnJhbWVTZW50ID0gdHJ1ZTtcblxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLl9jbG9zZUZyYW1lUmVjZWl2ZWQgfHxcbiAgICAgICAgdGhpcy5fcmVjZWl2ZXIuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fc29ja2V0LmVuZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy9cbiAgICAvLyBTcGVjaWZ5IGEgdGltZW91dCBmb3IgdGhlIGNsb3NpbmcgaGFuZHNoYWtlIHRvIGNvbXBsZXRlLlxuICAgIC8vXG4gICAgdGhpcy5fY2xvc2VUaW1lciA9IHNldFRpbWVvdXQoXG4gICAgICB0aGlzLl9zb2NrZXQuZGVzdHJveS5iaW5kKHRoaXMuX3NvY2tldCksXG4gICAgICBjbG9zZVRpbWVvdXRcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBwaW5nLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IFtkYXRhXSBUaGUgZGF0YSB0byBzZW5kXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21hc2tdIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrIHdoaWNoIGlzIGV4ZWN1dGVkIHdoZW4gdGhlIHBpbmcgaXMgc2VudFxuICAgKiBAcHVibGljXG4gICAqL1xuICBwaW5nKGRhdGEsIG1hc2ssIGNiKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViU29ja2V0IGlzIG5vdCBvcGVuOiByZWFkeVN0YXRlIDAgKENPTk5FQ1RJTkcpJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYiA9IGRhdGE7XG4gICAgICBkYXRhID0gbWFzayA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtYXNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYiA9IG1hc2s7XG4gICAgICBtYXNrID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIGRhdGEgPSBkYXRhLnRvU3RyaW5nKCk7XG5cbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgc2VuZEFmdGVyQ2xvc2UodGhpcywgZGF0YSwgY2IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtYXNrID09PSB1bmRlZmluZWQpIG1hc2sgPSAhdGhpcy5faXNTZXJ2ZXI7XG4gICAgdGhpcy5fc2VuZGVyLnBpbmcoZGF0YSB8fCBFTVBUWV9CVUZGRVIsIG1hc2ssIGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGEgcG9uZy5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBbZGF0YV0gVGhlIGRhdGEgdG8gc2VuZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttYXNrXSBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdG8gbWFzayBgZGF0YWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFjayB3aGljaCBpcyBleGVjdXRlZCB3aGVuIHRoZSBwb25nIGlzIHNlbnRcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcG9uZyhkYXRhLCBtYXNrLCBjYikge1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlNvY2tldCBpcyBub3Qgb3BlbjogcmVhZHlTdGF0ZSAwIChDT05ORUNUSU5HKScpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBkYXRhO1xuICAgICAgZGF0YSA9IG1hc2sgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbWFzayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBtYXNrO1xuICAgICAgbWFzayA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSBkYXRhID0gZGF0YS50b1N0cmluZygpO1xuXG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHNlbmRBZnRlckNsb3NlKHRoaXMsIGRhdGEsIGNiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobWFzayA9PT0gdW5kZWZpbmVkKSBtYXNrID0gIXRoaXMuX2lzU2VydmVyO1xuICAgIHRoaXMuX3NlbmRlci5wb25nKGRhdGEgfHwgRU1QVFlfQlVGRkVSLCBtYXNrLCBjYik7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBhIGRhdGEgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXNzYWdlIHRvIHNlbmRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbXByZXNzXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gY29tcHJlc3NcbiAgICogICAgIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmJpbmFyeV0gU3BlY2lmaWVzIHdoZXRoZXIgYGRhdGFgIGlzIGJpbmFyeSBvclxuICAgKiAgICAgdGV4dFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmZpbj10cnVlXSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZnJhZ21lbnQgaXMgdGhlXG4gICAqICAgICBsYXN0IG9uZVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1hc2tdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrIHdoaWNoIGlzIGV4ZWN1dGVkIHdoZW4gZGF0YSBpcyB3cml0dGVuIG91dFxuICAgKiBAcHVibGljXG4gICAqL1xuICBzZW5kKGRhdGEsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViU29ja2V0IGlzIG5vdCBvcGVuOiByZWFkeVN0YXRlIDAgKENPTk5FQ1RJTkcpJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykgZGF0YSA9IGRhdGEudG9TdHJpbmcoKTtcblxuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICBzZW5kQWZ0ZXJDbG9zZSh0aGlzLCBkYXRhLCBjYik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIGJpbmFyeTogdHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnLFxuICAgICAgbWFzazogIXRoaXMuX2lzU2VydmVyLFxuICAgICAgY29tcHJlc3M6IHRydWUsXG4gICAgICBmaW46IHRydWUsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcblxuICAgIGlmICghdGhpcy5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSkge1xuICAgICAgb3B0cy5jb21wcmVzcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuX3NlbmRlci5zZW5kKGRhdGEgfHwgRU1QVFlfQlVGRkVSLCBvcHRzLCBjYik7XG4gIH1cblxuICAvKipcbiAgICogRm9yY2libHkgY2xvc2UgdGhlIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHRlcm1pbmF0ZSgpIHtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0VEKSByZXR1cm47XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcbiAgICAgIGNvbnN0IG1zZyA9ICdXZWJTb2NrZXQgd2FzIGNsb3NlZCBiZWZvcmUgdGhlIGNvbm5lY3Rpb24gd2FzIGVzdGFibGlzaGVkJztcbiAgICAgIHJldHVybiBhYm9ydEhhbmRzaGFrZSh0aGlzLCB0aGlzLl9yZXEsIG1zZyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3NvY2tldCkge1xuICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TSU5HO1xuICAgICAgdGhpcy5fc29ja2V0LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAY29uc3RhbnQge051bWJlcn0gQ09OTkVDVElOR1xuICogQG1lbWJlcm9mIFdlYlNvY2tldFxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LCAnQ09OTkVDVElORycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ0NPTk5FQ1RJTkcnKVxufSk7XG5cbi8qKlxuICogQGNvbnN0YW50IHtOdW1iZXJ9IENPTk5FQ1RJTkdcbiAqIEBtZW1iZXJvZiBXZWJTb2NrZXQucHJvdG90eXBlXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQucHJvdG90eXBlLCAnQ09OTkVDVElORycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ0NPTk5FQ1RJTkcnKVxufSk7XG5cbi8qKlxuICogQGNvbnN0YW50IHtOdW1iZXJ9IE9QRU5cbiAqIEBtZW1iZXJvZiBXZWJTb2NrZXRcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldCwgJ09QRU4nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHZhbHVlOiByZWFkeVN0YXRlcy5pbmRleE9mKCdPUEVOJylcbn0pO1xuXG4vKipcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBPUEVOXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0LnByb3RvdHlwZVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LnByb3RvdHlwZSwgJ09QRU4nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHZhbHVlOiByZWFkeVN0YXRlcy5pbmRleE9mKCdPUEVOJylcbn0pO1xuXG4vKipcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBDTE9TSU5HXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQsICdDTE9TSU5HJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB2YWx1ZTogcmVhZHlTdGF0ZXMuaW5kZXhPZignQ0xPU0lORycpXG59KTtcblxuLyoqXG4gKiBAY29uc3RhbnQge051bWJlcn0gQ0xPU0lOR1xuICogQG1lbWJlcm9mIFdlYlNvY2tldC5wcm90b3R5cGVcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldC5wcm90b3R5cGUsICdDTE9TSU5HJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB2YWx1ZTogcmVhZHlTdGF0ZXMuaW5kZXhPZignQ0xPU0lORycpXG59KTtcblxuLyoqXG4gKiBAY29uc3RhbnQge051bWJlcn0gQ0xPU0VEXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQsICdDTE9TRUQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHZhbHVlOiByZWFkeVN0YXRlcy5pbmRleE9mKCdDTE9TRUQnKVxufSk7XG5cbi8qKlxuICogQGNvbnN0YW50IHtOdW1iZXJ9IENMT1NFRFxuICogQG1lbWJlcm9mIFdlYlNvY2tldC5wcm90b3R5cGVcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldC5wcm90b3R5cGUsICdDTE9TRUQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHZhbHVlOiByZWFkeVN0YXRlcy5pbmRleE9mKCdDTE9TRUQnKVxufSk7XG5cbltcbiAgJ2JpbmFyeVR5cGUnLFxuICAnYnVmZmVyZWRBbW91bnQnLFxuICAnZXh0ZW5zaW9ucycsXG4gICdwcm90b2NvbCcsXG4gICdyZWFkeVN0YXRlJyxcbiAgJ3VybCdcbl0uZm9yRWFjaCgocHJvcGVydHkpID0+IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldC5wcm90b3R5cGUsIHByb3BlcnR5LCB7IGVudW1lcmFibGU6IHRydWUgfSk7XG59KTtcblxuLy9cbi8vIEFkZCB0aGUgYG9ub3BlbmAsIGBvbmVycm9yYCwgYG9uY2xvc2VgLCBhbmQgYG9ubWVzc2FnZWAgYXR0cmlidXRlcy5cbi8vIFNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9jb21tcy5odG1sI3RoZS13ZWJzb2NrZXQtaW50ZXJmYWNlXG4vL1xuWydvcGVuJywgJ2Vycm9yJywgJ2Nsb3NlJywgJ21lc3NhZ2UnXS5mb3JFYWNoKChtZXRob2QpID0+IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldC5wcm90b3R5cGUsIGBvbiR7bWV0aG9kfWAsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldCgpIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzKG1ldGhvZCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobGlzdGVuZXJzW2ldLl9saXN0ZW5lcikgcmV0dXJuIGxpc3RlbmVyc1tpXS5fbGlzdGVuZXI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBzZXQobGlzdGVuZXIpIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzKG1ldGhvZCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvL1xuICAgICAgICAvLyBSZW1vdmUgb25seSB0aGUgbGlzdGVuZXJzIGFkZGVkIHZpYSBgYWRkRXZlbnRMaXN0ZW5lcmAuXG4gICAgICAgIC8vXG4gICAgICAgIGlmIChsaXN0ZW5lcnNbaV0uX2xpc3RlbmVyKSB0aGlzLnJlbW92ZUxpc3RlbmVyKG1ldGhvZCwgbGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihtZXRob2QsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbldlYlNvY2tldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXI7XG5XZWJTb2NrZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSByZW1vdmVFdmVudExpc3RlbmVyO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYlNvY2tldDtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgV2ViU29ja2V0IGNsaWVudC5cbiAqXG4gKiBAcGFyYW0ge1dlYlNvY2tldH0gd2Vic29ja2V0IFRoZSBjbGllbnQgdG8gaW5pdGlhbGl6ZVxuICogQHBhcmFtIHsoU3RyaW5nfFVSTCl9IGFkZHJlc3MgVGhlIFVSTCB0byB3aGljaCB0byBjb25uZWN0XG4gKiBAcGFyYW0ge1N0cmluZ30gW3Byb3RvY29sc10gVGhlIHN1YnByb3RvY29sc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBDb25uZWN0aW9uIG9wdGlvbnNcbiAqIEBwYXJhbSB7KEJvb2xlYW58T2JqZWN0KX0gW29wdGlvbnMucGVyTWVzc2FnZURlZmxhdGU9dHJ1ZV0gRW5hYmxlL2Rpc2FibGVcbiAqICAgICBwZXJtZXNzYWdlLWRlZmxhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5oYW5kc2hha2VUaW1lb3V0XSBUaW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlXG4gKiAgICAgaGFuZHNoYWtlIHJlcXVlc3RcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5wcm90b2NvbFZlcnNpb249MTNdIFZhbHVlIG9mIHRoZVxuICogICAgIGBTZWMtV2ViU29ja2V0LVZlcnNpb25gIGhlYWRlclxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm9yaWdpbl0gVmFsdWUgb2YgdGhlIGBPcmlnaW5gIG9yXG4gKiAgICAgYFNlYy1XZWJTb2NrZXQtT3JpZ2luYCBoZWFkZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhQYXlsb2FkPTEwNDg1NzYwMF0gVGhlIG1heGltdW0gYWxsb3dlZCBtZXNzYWdlXG4gKiAgICAgc2l6ZVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5mb2xsb3dSZWRpcmVjdHM9ZmFsc2VdIFdoZXRoZXIgb3Igbm90IHRvIGZvbGxvd1xuICogICAgIHJlZGlyZWN0c1xuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFJlZGlyZWN0cz0xMF0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlZGlyZWN0c1xuICogICAgIGFsbG93ZWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGluaXRBc0NsaWVudCh3ZWJzb2NrZXQsIGFkZHJlc3MsIHByb3RvY29scywgb3B0aW9ucykge1xuICBjb25zdCBvcHRzID0ge1xuICAgIHByb3RvY29sVmVyc2lvbjogcHJvdG9jb2xWZXJzaW9uc1sxXSxcbiAgICBtYXhQYXlsb2FkOiAxMDAgKiAxMDI0ICogMTAyNCxcbiAgICBwZXJNZXNzYWdlRGVmbGF0ZTogdHJ1ZSxcbiAgICBmb2xsb3dSZWRpcmVjdHM6IGZhbHNlLFxuICAgIG1heFJlZGlyZWN0czogMTAsXG4gICAgLi4ub3B0aW9ucyxcbiAgICBjcmVhdGVDb25uZWN0aW9uOiB1bmRlZmluZWQsXG4gICAgc29ja2V0UGF0aDogdW5kZWZpbmVkLFxuICAgIGhvc3RuYW1lOiB1bmRlZmluZWQsXG4gICAgcHJvdG9jb2w6IHVuZGVmaW5lZCxcbiAgICB0aW1lb3V0OiB1bmRlZmluZWQsXG4gICAgbWV0aG9kOiB1bmRlZmluZWQsXG4gICAgaG9zdDogdW5kZWZpbmVkLFxuICAgIHBhdGg6IHVuZGVmaW5lZCxcbiAgICBwb3J0OiB1bmRlZmluZWRcbiAgfTtcblxuICBpZiAoIXByb3RvY29sVmVyc2lvbnMuaW5jbHVkZXMob3B0cy5wcm90b2NvbFZlcnNpb24pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICBgVW5zdXBwb3J0ZWQgcHJvdG9jb2wgdmVyc2lvbjogJHtvcHRzLnByb3RvY29sVmVyc2lvbn0gYCArXG4gICAgICAgIGAoc3VwcG9ydGVkIHZlcnNpb25zOiAke3Byb3RvY29sVmVyc2lvbnMuam9pbignLCAnKX0pYFxuICAgICk7XG4gIH1cblxuICBsZXQgcGFyc2VkVXJsO1xuXG4gIGlmIChhZGRyZXNzIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgcGFyc2VkVXJsID0gYWRkcmVzcztcbiAgICB3ZWJzb2NrZXQuX3VybCA9IGFkZHJlc3MuaHJlZjtcbiAgfSBlbHNlIHtcbiAgICBwYXJzZWRVcmwgPSBuZXcgVVJMKGFkZHJlc3MpO1xuICAgIHdlYnNvY2tldC5fdXJsID0gYWRkcmVzcztcbiAgfVxuXG4gIGNvbnN0IGlzVW5peFNvY2tldCA9IHBhcnNlZFVybC5wcm90b2NvbCA9PT0gJ3dzK3VuaXg6JztcblxuICBpZiAoIXBhcnNlZFVybC5ob3N0ICYmICghaXNVbml4U29ja2V0IHx8ICFwYXJzZWRVcmwucGF0aG5hbWUpKSB7XG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBJbnZhbGlkIFVSTDogJHt3ZWJzb2NrZXQudXJsfWApO1xuXG4gICAgaWYgKHdlYnNvY2tldC5fcmVkaXJlY3RzID09PSAwKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXRFcnJvckFuZENsb3NlKHdlYnNvY2tldCwgZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBpc1NlY3VyZSA9XG4gICAgcGFyc2VkVXJsLnByb3RvY29sID09PSAnd3NzOicgfHwgcGFyc2VkVXJsLnByb3RvY29sID09PSAnaHR0cHM6JztcbiAgY29uc3QgZGVmYXVsdFBvcnQgPSBpc1NlY3VyZSA/IDQ0MyA6IDgwO1xuICBjb25zdCBrZXkgPSByYW5kb21CeXRlcygxNikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICBjb25zdCBnZXQgPSBpc1NlY3VyZSA/IGh0dHBzLmdldCA6IGh0dHAuZ2V0O1xuICBsZXQgcGVyTWVzc2FnZURlZmxhdGU7XG5cbiAgb3B0cy5jcmVhdGVDb25uZWN0aW9uID0gaXNTZWN1cmUgPyB0bHNDb25uZWN0IDogbmV0Q29ubmVjdDtcbiAgb3B0cy5kZWZhdWx0UG9ydCA9IG9wdHMuZGVmYXVsdFBvcnQgfHwgZGVmYXVsdFBvcnQ7XG4gIG9wdHMucG9ydCA9IHBhcnNlZFVybC5wb3J0IHx8IGRlZmF1bHRQb3J0O1xuICBvcHRzLmhvc3QgPSBwYXJzZWRVcmwuaG9zdG5hbWUuc3RhcnRzV2l0aCgnWycpXG4gICAgPyBwYXJzZWRVcmwuaG9zdG5hbWUuc2xpY2UoMSwgLTEpXG4gICAgOiBwYXJzZWRVcmwuaG9zdG5hbWU7XG4gIG9wdHMuaGVhZGVycyA9IHtcbiAgICAnU2VjLVdlYlNvY2tldC1WZXJzaW9uJzogb3B0cy5wcm90b2NvbFZlcnNpb24sXG4gICAgJ1NlYy1XZWJTb2NrZXQtS2V5Jzoga2V5LFxuICAgIENvbm5lY3Rpb246ICdVcGdyYWRlJyxcbiAgICBVcGdyYWRlOiAnd2Vic29ja2V0JyxcbiAgICAuLi5vcHRzLmhlYWRlcnNcbiAgfTtcbiAgb3B0cy5wYXRoID0gcGFyc2VkVXJsLnBhdGhuYW1lICsgcGFyc2VkVXJsLnNlYXJjaDtcbiAgb3B0cy50aW1lb3V0ID0gb3B0cy5oYW5kc2hha2VUaW1lb3V0O1xuXG4gIGlmIChvcHRzLnBlck1lc3NhZ2VEZWZsYXRlKSB7XG4gICAgcGVyTWVzc2FnZURlZmxhdGUgPSBuZXcgUGVyTWVzc2FnZURlZmxhdGUoXG4gICAgICBvcHRzLnBlck1lc3NhZ2VEZWZsYXRlICE9PSB0cnVlID8gb3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSA6IHt9LFxuICAgICAgZmFsc2UsXG4gICAgICBvcHRzLm1heFBheWxvYWRcbiAgICApO1xuICAgIG9wdHMuaGVhZGVyc1snU2VjLVdlYlNvY2tldC1FeHRlbnNpb25zJ10gPSBmb3JtYXQoe1xuICAgICAgW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdOiBwZXJNZXNzYWdlRGVmbGF0ZS5vZmZlcigpXG4gICAgfSk7XG4gIH1cbiAgaWYgKHByb3RvY29scykge1xuICAgIG9wdHMuaGVhZGVyc1snU2VjLVdlYlNvY2tldC1Qcm90b2NvbCddID0gcHJvdG9jb2xzO1xuICB9XG4gIGlmIChvcHRzLm9yaWdpbikge1xuICAgIGlmIChvcHRzLnByb3RvY29sVmVyc2lvbiA8IDEzKSB7XG4gICAgICBvcHRzLmhlYWRlcnNbJ1NlYy1XZWJTb2NrZXQtT3JpZ2luJ10gPSBvcHRzLm9yaWdpbjtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0cy5oZWFkZXJzLk9yaWdpbiA9IG9wdHMub3JpZ2luO1xuICAgIH1cbiAgfVxuICBpZiAocGFyc2VkVXJsLnVzZXJuYW1lIHx8IHBhcnNlZFVybC5wYXNzd29yZCkge1xuICAgIG9wdHMuYXV0aCA9IGAke3BhcnNlZFVybC51c2VybmFtZX06JHtwYXJzZWRVcmwucGFzc3dvcmR9YDtcbiAgfVxuXG4gIGlmIChpc1VuaXhTb2NrZXQpIHtcbiAgICBjb25zdCBwYXJ0cyA9IG9wdHMucGF0aC5zcGxpdCgnOicpO1xuXG4gICAgb3B0cy5zb2NrZXRQYXRoID0gcGFydHNbMF07XG4gICAgb3B0cy5wYXRoID0gcGFydHNbMV07XG4gIH1cblxuICBpZiAob3B0cy5mb2xsb3dSZWRpcmVjdHMpIHtcbiAgICBpZiAod2Vic29ja2V0Ll9yZWRpcmVjdHMgPT09IDApIHtcbiAgICAgIHdlYnNvY2tldC5fb3JpZ2luYWxVbml4U29ja2V0ID0gaXNVbml4U29ja2V0O1xuICAgICAgd2Vic29ja2V0Ll9vcmlnaW5hbFNlY3VyZSA9IGlzU2VjdXJlO1xuICAgICAgd2Vic29ja2V0Ll9vcmlnaW5hbEhvc3RPclNvY2tldFBhdGggPSBpc1VuaXhTb2NrZXRcbiAgICAgICAgPyBvcHRzLnNvY2tldFBhdGhcbiAgICAgICAgOiBwYXJzZWRVcmwuaG9zdDtcblxuICAgICAgY29uc3QgaGVhZGVycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5oZWFkZXJzO1xuXG4gICAgICAvL1xuICAgICAgLy8gU2hhbGxvdyBjb3B5IHRoZSB1c2VyIHByb3ZpZGVkIG9wdGlvbnMgc28gdGhhdCBoZWFkZXJzIGNhbiBiZSBjaGFuZ2VkXG4gICAgICAvLyB3aXRob3V0IG11dGF0aW5nIHRoZSBvcmlnaW5hbCBvYmplY3QuXG4gICAgICAvL1xuICAgICAgb3B0aW9ucyA9IHsgLi4ub3B0aW9ucywgaGVhZGVyczoge30gfTtcblxuICAgICAgaWYgKGhlYWRlcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaGVhZGVycykpIHtcbiAgICAgICAgICBvcHRpb25zLmhlYWRlcnNba2V5LnRvTG93ZXJDYXNlKCldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaXNTYW1lSG9zdCA9IGlzVW5peFNvY2tldFxuICAgICAgICA/IHdlYnNvY2tldC5fb3JpZ2luYWxVbml4U29ja2V0XG4gICAgICAgICAgPyBvcHRzLnNvY2tldFBhdGggPT09IHdlYnNvY2tldC5fb3JpZ2luYWxIb3N0T3JTb2NrZXRQYXRoXG4gICAgICAgICAgOiBmYWxzZVxuICAgICAgICA6IHdlYnNvY2tldC5fb3JpZ2luYWxVbml4U29ja2V0XG4gICAgICAgID8gZmFsc2VcbiAgICAgICAgOiBwYXJzZWRVcmwuaG9zdCA9PT0gd2Vic29ja2V0Ll9vcmlnaW5hbEhvc3RPclNvY2tldFBhdGg7XG5cbiAgICAgIGlmICghaXNTYW1lSG9zdCB8fCAod2Vic29ja2V0Ll9vcmlnaW5hbFNlY3VyZSAmJiAhaXNTZWN1cmUpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIE1hdGNoIGN1cmwgNy43Ny4wIGJlaGF2aW9yIGFuZCBkcm9wIHRoZSBmb2xsb3dpbmcgaGVhZGVycy4gVGhlc2VcbiAgICAgICAgLy8gaGVhZGVycyBhcmUgYWxzbyBkcm9wcGVkIHdoZW4gZm9sbG93aW5nIGEgcmVkaXJlY3QgdG8gYSBzdWJkb21haW4uXG4gICAgICAgIC8vXG4gICAgICAgIGRlbGV0ZSBvcHRzLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcbiAgICAgICAgZGVsZXRlIG9wdHMuaGVhZGVycy5jb29raWU7XG5cbiAgICAgICAgaWYgKCFpc1NhbWVIb3N0KSBkZWxldGUgb3B0cy5oZWFkZXJzLmhvc3Q7XG5cbiAgICAgICAgb3B0cy5hdXRoID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gTWF0Y2ggY3VybCA3Ljc3LjAgYmVoYXZpb3IgYW5kIG1ha2UgdGhlIGZpcnN0IGBBdXRob3JpemF0aW9uYCBoZWFkZXIgd2luLlxuICAgIC8vIElmIHRoZSBgQXV0aG9yaXphdGlvbmAgaGVhZGVyIGlzIHNldCwgdGhlbiB0aGVyZSBpcyBub3RoaW5nIHRvIGRvIGFzIGl0XG4gICAgLy8gd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gICAgLy9cbiAgICBpZiAob3B0cy5hdXRoICYmICFvcHRpb25zLmhlYWRlcnMuYXV0aG9yaXphdGlvbikge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLmF1dGhvcml6YXRpb24gPVxuICAgICAgICAnQmFzaWMgJyArIEJ1ZmZlci5mcm9tKG9wdHMuYXV0aCkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgfVxuXG4gIGxldCByZXEgPSAod2Vic29ja2V0Ll9yZXEgPSBnZXQob3B0cykpO1xuXG4gIGlmIChvcHRzLnRpbWVvdXQpIHtcbiAgICByZXEub24oJ3RpbWVvdXQnLCAoKSA9PiB7XG4gICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHJlcSwgJ09wZW5pbmcgaGFuZHNoYWtlIGhhcyB0aW1lZCBvdXQnKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlcS5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgaWYgKHJlcSA9PT0gbnVsbCB8fCByZXEuYWJvcnRlZCkgcmV0dXJuO1xuXG4gICAgcmVxID0gd2Vic29ja2V0Ll9yZXEgPSBudWxsO1xuICAgIGVtaXRFcnJvckFuZENsb3NlKHdlYnNvY2tldCwgZXJyKTtcbiAgfSk7XG5cbiAgcmVxLm9uKCdyZXNwb25zZScsIChyZXMpID0+IHtcbiAgICBjb25zdCBsb2NhdGlvbiA9IHJlcy5oZWFkZXJzLmxvY2F0aW9uO1xuICAgIGNvbnN0IHN0YXR1c0NvZGUgPSByZXMuc3RhdHVzQ29kZTtcblxuICAgIGlmIChcbiAgICAgIGxvY2F0aW9uICYmXG4gICAgICBvcHRzLmZvbGxvd1JlZGlyZWN0cyAmJlxuICAgICAgc3RhdHVzQ29kZSA+PSAzMDAgJiZcbiAgICAgIHN0YXR1c0NvZGUgPCA0MDBcbiAgICApIHtcbiAgICAgIGlmICgrK3dlYnNvY2tldC5fcmVkaXJlY3RzID4gb3B0cy5tYXhSZWRpcmVjdHMpIHtcbiAgICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCByZXEsICdNYXhpbXVtIHJlZGlyZWN0cyBleGNlZWRlZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlcS5hYm9ydCgpO1xuXG4gICAgICBsZXQgYWRkcjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYWRkciA9IG5ldyBVUkwobG9jYXRpb24sIGFkZHJlc3MpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVtaXRFcnJvckFuZENsb3NlKHdlYnNvY2tldCwgZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpbml0QXNDbGllbnQod2Vic29ja2V0LCBhZGRyLCBwcm90b2NvbHMsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAoIXdlYnNvY2tldC5lbWl0KCd1bmV4cGVjdGVkLXJlc3BvbnNlJywgcmVxLCByZXMpKSB7XG4gICAgICBhYm9ydEhhbmRzaGFrZShcbiAgICAgICAgd2Vic29ja2V0LFxuICAgICAgICByZXEsXG4gICAgICAgIGBVbmV4cGVjdGVkIHNlcnZlciByZXNwb25zZTogJHtyZXMuc3RhdHVzQ29kZX1gXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgcmVxLm9uKCd1cGdyYWRlJywgKHJlcywgc29ja2V0LCBoZWFkKSA9PiB7XG4gICAgd2Vic29ja2V0LmVtaXQoJ3VwZ3JhZGUnLCByZXMpO1xuXG4gICAgLy9cbiAgICAvLyBUaGUgdXNlciBtYXkgaGF2ZSBjbG9zZWQgdGhlIGNvbm5lY3Rpb24gZnJvbSBhIGxpc3RlbmVyIG9mIHRoZSBgdXBncmFkZWBcbiAgICAvLyBldmVudC5cbiAgICAvL1xuICAgIGlmICh3ZWJzb2NrZXQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHJldHVybjtcblxuICAgIHJlcSA9IHdlYnNvY2tldC5fcmVxID0gbnVsbDtcblxuICAgIGNvbnN0IHVwZ3JhZGUgPSByZXMuaGVhZGVycy51cGdyYWRlO1xuXG4gICAgaWYgKHVwZ3JhZGUgPT09IHVuZGVmaW5lZCB8fCB1cGdyYWRlLnRvTG93ZXJDYXNlKCkgIT09ICd3ZWJzb2NrZXQnKSB7XG4gICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHNvY2tldCwgJ0ludmFsaWQgVXBncmFkZSBoZWFkZXInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkaWdlc3QgPSBjcmVhdGVIYXNoKCdzaGExJylcbiAgICAgIC51cGRhdGUoa2V5ICsgR1VJRClcbiAgICAgIC5kaWdlc3QoJ2Jhc2U2NCcpO1xuXG4gICAgaWYgKHJlcy5oZWFkZXJzWydzZWMtd2Vic29ja2V0LWFjY2VwdCddICE9PSBkaWdlc3QpIHtcbiAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc29ja2V0LCAnSW52YWxpZCBTZWMtV2ViU29ja2V0LUFjY2VwdCBoZWFkZXInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzZXJ2ZXJQcm90ID0gcmVzLmhlYWRlcnNbJ3NlYy13ZWJzb2NrZXQtcHJvdG9jb2wnXTtcbiAgICBjb25zdCBwcm90TGlzdCA9IChwcm90b2NvbHMgfHwgJycpLnNwbGl0KC8sICovKTtcbiAgICBsZXQgcHJvdEVycm9yO1xuXG4gICAgaWYgKCFwcm90b2NvbHMgJiYgc2VydmVyUHJvdCkge1xuICAgICAgcHJvdEVycm9yID0gJ1NlcnZlciBzZW50IGEgc3VicHJvdG9jb2wgYnV0IG5vbmUgd2FzIHJlcXVlc3RlZCc7XG4gICAgfSBlbHNlIGlmIChwcm90b2NvbHMgJiYgIXNlcnZlclByb3QpIHtcbiAgICAgIHByb3RFcnJvciA9ICdTZXJ2ZXIgc2VudCBubyBzdWJwcm90b2NvbCc7XG4gICAgfSBlbHNlIGlmIChzZXJ2ZXJQcm90ICYmICFwcm90TGlzdC5pbmNsdWRlcyhzZXJ2ZXJQcm90KSkge1xuICAgICAgcHJvdEVycm9yID0gJ1NlcnZlciBzZW50IGFuIGludmFsaWQgc3VicHJvdG9jb2wnO1xuICAgIH1cblxuICAgIGlmIChwcm90RXJyb3IpIHtcbiAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc29ja2V0LCBwcm90RXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZXJ2ZXJQcm90KSB3ZWJzb2NrZXQuX3Byb3RvY29sID0gc2VydmVyUHJvdDtcblxuICAgIGNvbnN0IHNlY1dlYlNvY2tldEV4dGVuc2lvbnMgPSByZXMuaGVhZGVyc1snc2VjLXdlYnNvY2tldC1leHRlbnNpb25zJ107XG5cbiAgICBpZiAoc2VjV2ViU29ja2V0RXh0ZW5zaW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIXBlck1lc3NhZ2VEZWZsYXRlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICAgICdTZXJ2ZXIgc2VudCBhIFNlYy1XZWJTb2NrZXQtRXh0ZW5zaW9ucyBoZWFkZXIgYnV0IG5vIGV4dGVuc2lvbiAnICtcbiAgICAgICAgICAnd2FzIHJlcXVlc3RlZCc7XG4gICAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc29ja2V0LCBtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgZXh0ZW5zaW9ucztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZXh0ZW5zaW9ucyA9IHBhcnNlKHNlY1dlYlNvY2tldEV4dGVuc2lvbnMpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnSW52YWxpZCBTZWMtV2ViU29ja2V0LUV4dGVuc2lvbnMgaGVhZGVyJztcbiAgICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCBzb2NrZXQsIG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGV4dGVuc2lvbk5hbWVzID0gT2JqZWN0LmtleXMoZXh0ZW5zaW9ucyk7XG5cbiAgICAgIGlmIChleHRlbnNpb25OYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGV4dGVuc2lvbk5hbWVzLmxlbmd0aCAhPT0gMSB8fFxuICAgICAgICAgIGV4dGVuc2lvbk5hbWVzWzBdICE9PSBQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICAgICAgJ1NlcnZlciBpbmRpY2F0ZWQgYW4gZXh0ZW5zaW9uIHRoYXQgd2FzIG5vdCByZXF1ZXN0ZWQnO1xuICAgICAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc29ja2V0LCBtZXNzYWdlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHBlck1lc3NhZ2VEZWZsYXRlLmFjY2VwdChleHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9ICdJbnZhbGlkIFNlYy1XZWJTb2NrZXQtRXh0ZW5zaW9ucyBoZWFkZXInO1xuICAgICAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc29ja2V0LCBtZXNzYWdlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB3ZWJzb2NrZXQuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0gPVxuICAgICAgICAgIHBlck1lc3NhZ2VEZWZsYXRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHdlYnNvY2tldC5zZXRTb2NrZXQoc29ja2V0LCBoZWFkLCBvcHRzLm1heFBheWxvYWQpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbWl0IHRoZSBgJ2Vycm9yJ2AgYW5kIGAnY2xvc2UnYCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1dlYlNvY2tldH0gd2Vic29ja2V0IFRoZSBXZWJTb2NrZXQgaW5zdGFuY2VcbiAqIEBwYXJhbSB7RXJyb3J9IFRoZSBlcnJvciB0byBlbWl0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBlbWl0RXJyb3JBbmRDbG9zZSh3ZWJzb2NrZXQsIGVycikge1xuICB3ZWJzb2NrZXQuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0lORztcbiAgd2Vic29ja2V0LmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgd2Vic29ja2V0LmVtaXRDbG9zZSgpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGBuZXQuU29ja2V0YCBhbmQgaW5pdGlhdGUgYSBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbm5lY3Rpb24gb3B0aW9uc1xuICogQHJldHVybiB7bmV0LlNvY2tldH0gVGhlIG5ld2x5IGNyZWF0ZWQgc29ja2V0IHVzZWQgdG8gc3RhcnQgdGhlIGNvbm5lY3Rpb25cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG5ldENvbm5lY3Qob3B0aW9ucykge1xuICBvcHRpb25zLnBhdGggPSBvcHRpb25zLnNvY2tldFBhdGg7XG4gIHJldHVybiBuZXQuY29ubmVjdChvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBgdGxzLlRMU1NvY2tldGAgYW5kIGluaXRpYXRlIGEgY29ubmVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDb25uZWN0aW9uIG9wdGlvbnNcbiAqIEByZXR1cm4ge3Rscy5UTFNTb2NrZXR9IFRoZSBuZXdseSBjcmVhdGVkIHNvY2tldCB1c2VkIHRvIHN0YXJ0IHRoZSBjb25uZWN0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0bHNDb25uZWN0KG9wdGlvbnMpIHtcbiAgb3B0aW9ucy5wYXRoID0gdW5kZWZpbmVkO1xuXG4gIGlmICghb3B0aW9ucy5zZXJ2ZXJuYW1lICYmIG9wdGlvbnMuc2VydmVybmFtZSAhPT0gJycpIHtcbiAgICBvcHRpb25zLnNlcnZlcm5hbWUgPSBuZXQuaXNJUChvcHRpb25zLmhvc3QpID8gJycgOiBvcHRpb25zLmhvc3Q7XG4gIH1cblxuICByZXR1cm4gdGxzLmNvbm5lY3Qob3B0aW9ucyk7XG59XG5cbi8qKlxuICogQWJvcnQgdGhlIGhhbmRzaGFrZSBhbmQgZW1pdCBhbiBlcnJvci5cbiAqXG4gKiBAcGFyYW0ge1dlYlNvY2tldH0gd2Vic29ja2V0IFRoZSBXZWJTb2NrZXQgaW5zdGFuY2VcbiAqIEBwYXJhbSB7KGh0dHAuQ2xpZW50UmVxdWVzdHxuZXQuU29ja2V0fHRscy5Tb2NrZXQpfSBzdHJlYW0gVGhlIHJlcXVlc3QgdG9cbiAqICAgICBhYm9ydCBvciB0aGUgc29ja2V0IHRvIGRlc3Ryb3lcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHN0cmVhbSwgbWVzc2FnZSkge1xuICB3ZWJzb2NrZXQuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0lORztcblxuICBjb25zdCBlcnIgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVyciwgYWJvcnRIYW5kc2hha2UpO1xuXG4gIGlmIChzdHJlYW0uc2V0SGVhZGVyKSB7XG4gICAgc3RyZWFtLmFib3J0KCk7XG5cbiAgICBpZiAoc3RyZWFtLnNvY2tldCAmJiAhc3RyZWFtLnNvY2tldC5kZXN0cm95ZWQpIHtcbiAgICAgIC8vXG4gICAgICAvLyBPbiBOb2RlLmpzID49IDE0LjMuMCBgcmVxdWVzdC5hYm9ydCgpYCBkb2VzIG5vdCBkZXN0cm95IHRoZSBzb2NrZXQgaWZcbiAgICAgIC8vIGNhbGxlZCBhZnRlciB0aGUgcmVxdWVzdCBjb21wbGV0ZWQuIFNlZVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3dlYnNvY2tldHMvd3MvaXNzdWVzLzE4NjkuXG4gICAgICAvL1xuICAgICAgc3RyZWFtLnNvY2tldC5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgc3RyZWFtLm9uY2UoJ2Fib3J0Jywgd2Vic29ja2V0LmVtaXRDbG9zZS5iaW5kKHdlYnNvY2tldCkpO1xuICAgIHdlYnNvY2tldC5lbWl0KCdlcnJvcicsIGVycik7XG4gIH0gZWxzZSB7XG4gICAgc3RyZWFtLmRlc3Ryb3koZXJyKTtcbiAgICBzdHJlYW0ub25jZSgnZXJyb3InLCB3ZWJzb2NrZXQuZW1pdC5iaW5kKHdlYnNvY2tldCwgJ2Vycm9yJykpO1xuICAgIHN0cmVhbS5vbmNlKCdjbG9zZScsIHdlYnNvY2tldC5lbWl0Q2xvc2UuYmluZCh3ZWJzb2NrZXQpKTtcbiAgfVxufVxuXG4vKipcbiAqIEhhbmRsZSBjYXNlcyB3aGVyZSB0aGUgYHBpbmcoKWAsIGBwb25nKClgLCBvciBgc2VuZCgpYCBtZXRob2RzIGFyZSBjYWxsZWRcbiAqIHdoZW4gdGhlIGByZWFkeVN0YXRlYCBhdHRyaWJ1dGUgaXMgYENMT1NJTkdgIG9yIGBDTE9TRURgLlxuICpcbiAqIEBwYXJhbSB7V2ViU29ja2V0fSB3ZWJzb2NrZXQgVGhlIFdlYlNvY2tldCBpbnN0YW5jZVxuICogQHBhcmFtIHsqfSBbZGF0YV0gVGhlIGRhdGEgdG8gc2VuZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2VuZEFmdGVyQ2xvc2Uod2Vic29ja2V0LCBkYXRhLCBjYikge1xuICBpZiAoZGF0YSkge1xuICAgIGNvbnN0IGxlbmd0aCA9IHRvQnVmZmVyKGRhdGEpLmxlbmd0aDtcblxuICAgIC8vXG4gICAgLy8gVGhlIGBfYnVmZmVyZWRBbW91bnRgIHByb3BlcnR5IGlzIHVzZWQgb25seSB3aGVuIHRoZSBwZWVyIGlzIGEgY2xpZW50IGFuZFxuICAgIC8vIHRoZSBvcGVuaW5nIGhhbmRzaGFrZSBmYWlscy4gVW5kZXIgdGhlc2UgY2lyY3Vtc3RhbmNlcywgaW4gZmFjdCwgdGhlXG4gICAgLy8gYHNldFNvY2tldCgpYCBtZXRob2QgaXMgbm90IGNhbGxlZCwgc28gdGhlIGBfc29ja2V0YCBhbmQgYF9zZW5kZXJgXG4gICAgLy8gcHJvcGVydGllcyBhcmUgc2V0IHRvIGBudWxsYC5cbiAgICAvL1xuICAgIGlmICh3ZWJzb2NrZXQuX3NvY2tldCkgd2Vic29ja2V0Ll9zZW5kZXIuX2J1ZmZlcmVkQnl0ZXMgKz0gbGVuZ3RoO1xuICAgIGVsc2Ugd2Vic29ja2V0Ll9idWZmZXJlZEFtb3VudCArPSBsZW5ndGg7XG4gIH1cblxuICBpZiAoY2IpIHtcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICBgV2ViU29ja2V0IGlzIG5vdCBvcGVuOiByZWFkeVN0YXRlICR7d2Vic29ja2V0LnJlYWR5U3RhdGV9IGAgK1xuICAgICAgICBgKCR7cmVhZHlTdGF0ZXNbd2Vic29ja2V0LnJlYWR5U3RhdGVdfSlgXG4gICAgKTtcbiAgICBjYihlcnIpO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAnY29uY2x1ZGUnYCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gY29kZSBUaGUgc3RhdHVzIGNvZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSByZWFzb24gVGhlIHJlYXNvbiBmb3IgY2xvc2luZ1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVjZWl2ZXJPbkNvbmNsdWRlKGNvZGUsIHJlYXNvbikge1xuICBjb25zdCB3ZWJzb2NrZXQgPSB0aGlzW2tXZWJTb2NrZXRdO1xuXG4gIHdlYnNvY2tldC5fY2xvc2VGcmFtZVJlY2VpdmVkID0gdHJ1ZTtcbiAgd2Vic29ja2V0Ll9jbG9zZU1lc3NhZ2UgPSByZWFzb247XG4gIHdlYnNvY2tldC5fY2xvc2VDb2RlID0gY29kZTtcblxuICBpZiAod2Vic29ja2V0Ll9zb2NrZXRba1dlYlNvY2tldF0gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gIHdlYnNvY2tldC5fc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgc29ja2V0T25EYXRhKTtcbiAgcHJvY2Vzcy5uZXh0VGljayhyZXN1bWUsIHdlYnNvY2tldC5fc29ja2V0KTtcblxuICBpZiAoY29kZSA9PT0gMTAwNSkgd2Vic29ja2V0LmNsb3NlKCk7XG4gIGVsc2Ugd2Vic29ja2V0LmNsb3NlKGNvZGUsIHJlYXNvbik7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAnZHJhaW4nYCBldmVudC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWNlaXZlck9uRHJhaW4oKSB7XG4gIHRoaXNba1dlYlNvY2tldF0uX3NvY2tldC5yZXN1bWUoKTtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBSZWNlaXZlcmAgYCdlcnJvcidgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFJhbmdlRXJyb3J8RXJyb3IpfSBlcnIgVGhlIGVtaXR0ZWQgZXJyb3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY2VpdmVyT25FcnJvcihlcnIpIHtcbiAgY29uc3Qgd2Vic29ja2V0ID0gdGhpc1trV2ViU29ja2V0XTtcblxuICBpZiAod2Vic29ja2V0Ll9zb2NrZXRba1dlYlNvY2tldF0gIT09IHVuZGVmaW5lZCkge1xuICAgIHdlYnNvY2tldC5fc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgc29ja2V0T25EYXRhKTtcblxuICAgIC8vXG4gICAgLy8gT24gTm9kZS5qcyA8IDE0LjAuMCB0aGUgYCdlcnJvcidgIGV2ZW50IGlzIGVtaXR0ZWQgc3luY2hyb25vdXNseS4gU2VlXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3dlYnNvY2tldHMvd3MvaXNzdWVzLzE5NDAuXG4gICAgLy9cbiAgICBwcm9jZXNzLm5leHRUaWNrKHJlc3VtZSwgd2Vic29ja2V0Ll9zb2NrZXQpO1xuXG4gICAgd2Vic29ja2V0LmNsb3NlKGVycltrU3RhdHVzQ29kZV0pO1xuICB9XG5cbiAgd2Vic29ja2V0LmVtaXQoJ2Vycm9yJywgZXJyKTtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBSZWNlaXZlcmAgYCdmaW5pc2gnYCBldmVudC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWNlaXZlck9uRmluaXNoKCkge1xuICB0aGlzW2tXZWJTb2NrZXRdLmVtaXRDbG9zZSgpO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYFJlY2VpdmVyYCBgJ21lc3NhZ2UnYCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8QnVmZmVyfEFycmF5QnVmZmVyfEJ1ZmZlcltdKX0gZGF0YSBUaGUgbWVzc2FnZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVjZWl2ZXJPbk1lc3NhZ2UoZGF0YSkge1xuICB0aGlzW2tXZWJTb2NrZXRdLmVtaXQoJ21lc3NhZ2UnLCBkYXRhKTtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBSZWNlaXZlcmAgYCdwaW5nJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgVGhlIGRhdGEgaW5jbHVkZWQgaW4gdGhlIHBpbmcgZnJhbWVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY2VpdmVyT25QaW5nKGRhdGEpIHtcbiAgY29uc3Qgd2Vic29ja2V0ID0gdGhpc1trV2ViU29ja2V0XTtcblxuICB3ZWJzb2NrZXQucG9uZyhkYXRhLCAhd2Vic29ja2V0Ll9pc1NlcnZlciwgTk9PUCk7XG4gIHdlYnNvY2tldC5lbWl0KCdwaW5nJywgZGF0YSk7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAncG9uZydgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIFRoZSBkYXRhIGluY2x1ZGVkIGluIHRoZSBwb25nIGZyYW1lXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWNlaXZlck9uUG9uZyhkYXRhKSB7XG4gIHRoaXNba1dlYlNvY2tldF0uZW1pdCgncG9uZycsIGRhdGEpO1xufVxuXG4vKipcbiAqIFJlc3VtZSBhIHJlYWRhYmxlIHN0cmVhbVxuICpcbiAqIEBwYXJhbSB7UmVhZGFibGV9IHN0cmVhbSBUaGUgcmVhZGFibGUgc3RyZWFtXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZXN1bWUoc3RyZWFtKSB7XG4gIHN0cmVhbS5yZXN1bWUoKTtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBuZXQuU29ja2V0YCBgJ2Nsb3NlJ2AgZXZlbnQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc29ja2V0T25DbG9zZSgpIHtcbiAgY29uc3Qgd2Vic29ja2V0ID0gdGhpc1trV2ViU29ja2V0XTtcblxuICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIHNvY2tldE9uQ2xvc2UpO1xuICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgc29ja2V0T25EYXRhKTtcbiAgdGhpcy5yZW1vdmVMaXN0ZW5lcignZW5kJywgc29ja2V0T25FbmQpO1xuXG4gIHdlYnNvY2tldC5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TSU5HO1xuXG4gIGxldCBjaHVuaztcblxuICAvL1xuICAvLyBUaGUgY2xvc2UgZnJhbWUgbWlnaHQgbm90IGhhdmUgYmVlbiByZWNlaXZlZCBvciB0aGUgYCdlbmQnYCBldmVudCBlbWl0dGVkLFxuICAvLyBmb3IgZXhhbXBsZSwgaWYgdGhlIHNvY2tldCB3YXMgZGVzdHJveWVkIGR1ZSB0byBhbiBlcnJvci4gRW5zdXJlIHRoYXQgdGhlXG4gIC8vIGByZWNlaXZlcmAgc3RyZWFtIGlzIGNsb3NlZCBhZnRlciB3cml0aW5nIGFueSByZW1haW5pbmcgYnVmZmVyZWQgZGF0YSB0b1xuICAvLyBpdC4gSWYgdGhlIHJlYWRhYmxlIHNpZGUgb2YgdGhlIHNvY2tldCBpcyBpbiBmbG93aW5nIG1vZGUgdGhlbiB0aGVyZSBpcyBub1xuICAvLyBidWZmZXJlZCBkYXRhIGFzIGV2ZXJ5dGhpbmcgaGFzIGJlZW4gYWxyZWFkeSB3cml0dGVuIGFuZCBgcmVhZGFibGUucmVhZCgpYFxuICAvLyB3aWxsIHJldHVybiBgbnVsbGAuIElmIGluc3RlYWQsIHRoZSBzb2NrZXQgaXMgcGF1c2VkLCBhbnkgcG9zc2libGUgYnVmZmVyZWRcbiAgLy8gZGF0YSB3aWxsIGJlIHJlYWQgYXMgYSBzaW5nbGUgY2h1bmsuXG4gIC8vXG4gIGlmIChcbiAgICAhdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkICYmXG4gICAgIXdlYnNvY2tldC5fY2xvc2VGcmFtZVJlY2VpdmVkICYmXG4gICAgIXdlYnNvY2tldC5fcmVjZWl2ZXIuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkICYmXG4gICAgKGNodW5rID0gd2Vic29ja2V0Ll9zb2NrZXQucmVhZCgpKSAhPT0gbnVsbFxuICApIHtcbiAgICB3ZWJzb2NrZXQuX3JlY2VpdmVyLndyaXRlKGNodW5rKTtcbiAgfVxuXG4gIHdlYnNvY2tldC5fcmVjZWl2ZXIuZW5kKCk7XG5cbiAgdGhpc1trV2ViU29ja2V0XSA9IHVuZGVmaW5lZDtcblxuICBjbGVhclRpbWVvdXQod2Vic29ja2V0Ll9jbG9zZVRpbWVyKTtcblxuICBpZiAoXG4gICAgd2Vic29ja2V0Ll9yZWNlaXZlci5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCB8fFxuICAgIHdlYnNvY2tldC5fcmVjZWl2ZXIuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkXG4gICkge1xuICAgIHdlYnNvY2tldC5lbWl0Q2xvc2UoKTtcbiAgfSBlbHNlIHtcbiAgICB3ZWJzb2NrZXQuX3JlY2VpdmVyLm9uKCdlcnJvcicsIHJlY2VpdmVyT25GaW5pc2gpO1xuICAgIHdlYnNvY2tldC5fcmVjZWl2ZXIub24oJ2ZpbmlzaCcsIHJlY2VpdmVyT25GaW5pc2gpO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgbmV0LlNvY2tldGAgYCdkYXRhJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IGNodW5rIEEgY2h1bmsgb2YgZGF0YVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc29ja2V0T25EYXRhKGNodW5rKSB7XG4gIGlmICghdGhpc1trV2ViU29ja2V0XS5fcmVjZWl2ZXIud3JpdGUoY2h1bmspKSB7XG4gICAgdGhpcy5wYXVzZSgpO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgbmV0LlNvY2tldGAgYCdlbmQnYCBldmVudC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzb2NrZXRPbkVuZCgpIHtcbiAgY29uc3Qgd2Vic29ja2V0ID0gdGhpc1trV2ViU29ja2V0XTtcblxuICB3ZWJzb2NrZXQuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0lORztcbiAgd2Vic29ja2V0Ll9yZWNlaXZlci5lbmQoKTtcbiAgdGhpcy5lbmQoKTtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBuZXQuU29ja2V0YCBgJ2Vycm9yJ2AgZXZlbnQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc29ja2V0T25FcnJvcigpIHtcbiAgY29uc3Qgd2Vic29ja2V0ID0gdGhpc1trV2ViU29ja2V0XTtcblxuICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIHNvY2tldE9uRXJyb3IpO1xuICB0aGlzLm9uKCdlcnJvcicsIE5PT1ApO1xuXG4gIGlmICh3ZWJzb2NrZXQpIHtcbiAgICB3ZWJzb2NrZXQuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0lORztcbiAgICB0aGlzLmRlc3Ryb3koKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/node_modules/ws/lib/websocket.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/keyvaluestorage/dist/index.es.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/keyvaluestorage/dist/index.es.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyValueStorage: () => (/* binding */ h),\n/* harmony export */   \"default\": () => (/* binding */ h)\n/* harmony export */ });\n/* harmony import */ var unstorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! unstorage */ \"(ssr)/./node_modules/unstorage/dist/index.mjs\");\n/* harmony import */ var idb_keyval__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! idb-keyval */ \"(ssr)/./node_modules/idb-keyval/dist/index.js\");\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\nfunction C(i){return i}const x=\"idb-keyval\";var z=(i={})=>{const t=i.base&&i.base.length>0?`${i.base}:`:\"\",e=s=>t+s;let n;return i.dbName&&i.storeName&&(n=(0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.createStore)(i.dbName,i.storeName)),{name:x,options:i,async hasItem(s){return!(typeof await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.get)(e(s),n)>\"u\")},async getItem(s){return await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.get)(e(s),n)??null},setItem(s,a){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.set)(e(s),a,n)},removeItem(s){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.del)(e(s),n)},getKeys(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.keys)(n)},clear(){return (0,idb_keyval__WEBPACK_IMPORTED_MODULE_1__.clear)(n)}}};const D=\"WALLET_CONNECT_V2_INDEXED_DB\",E=\"keyvaluestorage\";class _{constructor(){this.indexedDb=(0,unstorage__WEBPACK_IMPORTED_MODULE_2__.createStorage)({driver:z({dbName:D,storeName:E})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const e=await this.indexedDb.getItem(t);if(e!==null)return e}async setItem(t,e){await this.indexedDb.setItem(t,(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonStringify)(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var l=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{},c={exports:{}};(function(){let i;function t(){}i=t,i.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},i.prototype.setItem=function(e,n){this[e]=String(n)},i.prototype.removeItem=function(e){delete this[e]},i.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(n){e[n]=void 0,delete e[n]})},i.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},i.prototype.__defineGetter__(\"length\",function(){return Object.keys(this).length}),typeof l<\"u\"&&l.localStorage?c.exports=l.localStorage:typeof window<\"u\"&&window.localStorage?c.exports=window.localStorage:c.exports=new t})();function k(i){var t;return[i[0],(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonParse)((t=i[1])!=null?t:\"\")]}class K{constructor(){this.localStorage=c.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k)}async getItem(t){const e=this.localStorage.getItem(t);if(e!==null)return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonParse)(e)}async setItem(t,e){this.localStorage.setItem(t,(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_0__.safeJsonStringify)(e))}async removeItem(t){this.localStorage.removeItem(t)}}const N=\"wc_storage_version\",y=1,O=async(i,t,e)=>{const n=N,s=await t.getItem(n);if(s&&s>=y){e(t);return}const a=await i.getKeys();if(!a.length){e(t);return}const m=[];for(;a.length;){const r=a.shift();if(!r)continue;const o=r.toLowerCase();if(o.includes(\"wc@\")||o.includes(\"walletconnect\")||o.includes(\"wc_\")||o.includes(\"wallet_connect\")){const f=await i.getItem(r);await t.setItem(r,f),m.push(r)}}await t.setItem(n,y),e(t),j(i,m)},j=async(i,t)=>{t.length&&t.forEach(async e=>{await i.removeItem(e)})};class h{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const t=new K;this.storage=t;try{const e=new _;O(t,e,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const e=setInterval(()=>{this.initialized&&(clearInterval(e),t())},20)})}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qva2V5dmFsdWVzdG9yYWdlL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbU4sY0FBYyxTQUFTLHFCQUFxQixXQUFXLElBQUksbUNBQW1DLE9BQU8sZUFBZSxNQUFNLGlDQUFpQyx1REFBQyx5QkFBeUIsa0NBQWtDLHFCQUFxQiwrQ0FBQyxjQUFjLGtCQUFrQixhQUFhLCtDQUFDLGVBQWUsY0FBYyxPQUFPLCtDQUFDLFdBQVcsZUFBZSxPQUFPLCtDQUFDLFNBQVMsV0FBVyxPQUFPLGdEQUFDLElBQUksU0FBUyxPQUFPLGlEQUFDLE9BQU8sMkRBQTJELFFBQVEsY0FBYyxlQUFlLHdEQUFDLEVBQUUsVUFBVSxxQkFBcUIsRUFBRSxFQUFFLGdCQUFnQixnQ0FBZ0MsbUJBQW1CLDhGQUE4RixpQkFBaUIsd0NBQXdDLHFCQUFxQixtQkFBbUIsK0JBQStCLDJFQUFDLEtBQUssb0JBQW9CLG9DQUFvQyxnSEFBZ0gsSUFBSSxZQUFZLFlBQVksTUFBTSxjQUFjLG9DQUFvQyxtREFBbUQsbUNBQW1DLGtCQUFrQixvQ0FBb0MsZUFBZSw4QkFBOEIsYUFBYSxtQ0FBbUMsd0JBQXdCLEVBQUUsNkJBQTZCLG1DQUFtQyxrREFBa0QsZ0NBQWdDLDZJQUE2SSxJQUFJLGNBQWMsTUFBTSxZQUFZLHVFQUFDLHVCQUF1QixRQUFRLGNBQWMsNEJBQTRCLGdCQUFnQixzQ0FBc0MsbUJBQW1CLGdEQUFnRCxpQkFBaUIscUNBQXFDLG1CQUFtQix1RUFBQyxJQUFJLG1CQUFtQiw0QkFBNEIsMkVBQUMsS0FBSyxvQkFBb0IsaUNBQWlDLGtEQUFrRCwrQkFBK0IsWUFBWSxLQUFLLE9BQU8sMEJBQTBCLGNBQWMsS0FBSyxPQUFPLFdBQVcsS0FBSyxTQUFTLEVBQUUsa0JBQWtCLGVBQWUsd0JBQXdCLG9HQUFvRywyQkFBMkIsZ0NBQWdDLGlDQUFpQyxnQkFBZ0IsOEJBQThCLHNCQUFzQixHQUFHLFFBQVEsY0FBYyw0Q0FBNEMsb0NBQW9DLGNBQWMsZUFBZSxJQUFJLGNBQWMsMkJBQTJCLE1BQU0scUJBQXFCLGdCQUFnQixzREFBc0QsbUJBQW1CLHlEQUF5RCxpQkFBaUIsdURBQXVELG1CQUFtQix5REFBeUQsb0JBQW9CLDBEQUEwRCxtQkFBbUIsd0NBQXdDLHlCQUF5Qix5Q0FBeUMsS0FBSyxHQUE2QztBQUM3N0ciLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2tleXZhbHVlc3RvcmFnZS9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtjcmVhdGVTdG9yYWdlIGFzIHd9ZnJvbVwidW5zdG9yYWdlXCI7aW1wb3J0e2NyZWF0ZVN0b3JlIGFzIEksZ2V0IGFzIHUsc2V0IGFzIHAsZGVsIGFzIGIsa2V5cyBhcyB2LGNsZWFyIGFzIFN9ZnJvbVwiaWRiLWtleXZhbFwiO2ltcG9ydHtzYWZlSnNvblN0cmluZ2lmeSBhcyBnLHNhZmVKc29uUGFyc2UgYXMgZH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9zYWZlLWpzb25cIjtmdW5jdGlvbiBDKGkpe3JldHVybiBpfWNvbnN0IHg9XCJpZGIta2V5dmFsXCI7dmFyIHo9KGk9e30pPT57Y29uc3QgdD1pLmJhc2UmJmkuYmFzZS5sZW5ndGg+MD9gJHtpLmJhc2V9OmA6XCJcIixlPXM9PnQrcztsZXQgbjtyZXR1cm4gaS5kYk5hbWUmJmkuc3RvcmVOYW1lJiYobj1JKGkuZGJOYW1lLGkuc3RvcmVOYW1lKSkse25hbWU6eCxvcHRpb25zOmksYXN5bmMgaGFzSXRlbShzKXtyZXR1cm4hKHR5cGVvZiBhd2FpdCB1KGUocyksbik+XCJ1XCIpfSxhc3luYyBnZXRJdGVtKHMpe3JldHVybiBhd2FpdCB1KGUocyksbik/P251bGx9LHNldEl0ZW0ocyxhKXtyZXR1cm4gcChlKHMpLGEsbil9LHJlbW92ZUl0ZW0ocyl7cmV0dXJuIGIoZShzKSxuKX0sZ2V0S2V5cygpe3JldHVybiB2KG4pfSxjbGVhcigpe3JldHVybiBTKG4pfX19O2NvbnN0IEQ9XCJXQUxMRVRfQ09OTkVDVF9WMl9JTkRFWEVEX0RCXCIsRT1cImtleXZhbHVlc3RvcmFnZVwiO2NsYXNzIF97Y29uc3RydWN0b3IoKXt0aGlzLmluZGV4ZWREYj13KHtkcml2ZXI6eih7ZGJOYW1lOkQsc3RvcmVOYW1lOkV9KX0pfWFzeW5jIGdldEtleXMoKXtyZXR1cm4gdGhpcy5pbmRleGVkRGIuZ2V0S2V5cygpfWFzeW5jIGdldEVudHJpZXMoKXtyZXR1cm4oYXdhaXQgdGhpcy5pbmRleGVkRGIuZ2V0SXRlbXMoYXdhaXQgdGhpcy5pbmRleGVkRGIuZ2V0S2V5cygpKSkubWFwKHQ9Plt0LmtleSx0LnZhbHVlXSl9YXN5bmMgZ2V0SXRlbSh0KXtjb25zdCBlPWF3YWl0IHRoaXMuaW5kZXhlZERiLmdldEl0ZW0odCk7aWYoZSE9PW51bGwpcmV0dXJuIGV9YXN5bmMgc2V0SXRlbSh0LGUpe2F3YWl0IHRoaXMuaW5kZXhlZERiLnNldEl0ZW0odCxnKGUpKX1hc3luYyByZW1vdmVJdGVtKHQpe2F3YWl0IHRoaXMuaW5kZXhlZERiLnJlbW92ZUl0ZW0odCl9fXZhciBsPXR5cGVvZiBnbG9iYWxUaGlzPFwidVwiP2dsb2JhbFRoaXM6dHlwZW9mIHdpbmRvdzxcInVcIj93aW5kb3c6dHlwZW9mIGdsb2JhbDxcInVcIj9nbG9iYWw6dHlwZW9mIHNlbGY8XCJ1XCI/c2VsZjp7fSxjPXtleHBvcnRzOnt9fTsoZnVuY3Rpb24oKXtsZXQgaTtmdW5jdGlvbiB0KCl7fWk9dCxpLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KGUpP1N0cmluZyh0aGlzW2VdKTpudWxsfSxpLnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uKGUsbil7dGhpc1tlXT1TdHJpbmcobil9LGkucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXNbZV19LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzO09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24obil7ZVtuXT12b2lkIDAsZGVsZXRlIGVbbl19KX0saS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKGUpe3JldHVybiBlPWV8fDAsT2JqZWN0LmtleXModGhpcylbZV19LGkucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oXCJsZW5ndGhcIixmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzKS5sZW5ndGh9KSx0eXBlb2YgbDxcInVcIiYmbC5sb2NhbFN0b3JhZ2U/Yy5leHBvcnRzPWwubG9jYWxTdG9yYWdlOnR5cGVvZiB3aW5kb3c8XCJ1XCImJndpbmRvdy5sb2NhbFN0b3JhZ2U/Yy5leHBvcnRzPXdpbmRvdy5sb2NhbFN0b3JhZ2U6Yy5leHBvcnRzPW5ldyB0fSkoKTtmdW5jdGlvbiBrKGkpe3ZhciB0O3JldHVybltpWzBdLGQoKHQ9aVsxXSkhPW51bGw/dDpcIlwiKV19Y2xhc3MgS3tjb25zdHJ1Y3Rvcigpe3RoaXMubG9jYWxTdG9yYWdlPWMuZXhwb3J0c31hc3luYyBnZXRLZXlzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubG9jYWxTdG9yYWdlKX1hc3luYyBnZXRFbnRyaWVzKCl7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMubG9jYWxTdG9yYWdlKS5tYXAoayl9YXN5bmMgZ2V0SXRlbSh0KXtjb25zdCBlPXRoaXMubG9jYWxTdG9yYWdlLmdldEl0ZW0odCk7aWYoZSE9PW51bGwpcmV0dXJuIGQoZSl9YXN5bmMgc2V0SXRlbSh0LGUpe3RoaXMubG9jYWxTdG9yYWdlLnNldEl0ZW0odCxnKGUpKX1hc3luYyByZW1vdmVJdGVtKHQpe3RoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCl9fWNvbnN0IE49XCJ3Y19zdG9yYWdlX3ZlcnNpb25cIix5PTEsTz1hc3luYyhpLHQsZSk9Pntjb25zdCBuPU4scz1hd2FpdCB0LmdldEl0ZW0obik7aWYocyYmcz49eSl7ZSh0KTtyZXR1cm59Y29uc3QgYT1hd2FpdCBpLmdldEtleXMoKTtpZighYS5sZW5ndGgpe2UodCk7cmV0dXJufWNvbnN0IG09W107Zm9yKDthLmxlbmd0aDspe2NvbnN0IHI9YS5zaGlmdCgpO2lmKCFyKWNvbnRpbnVlO2NvbnN0IG89ci50b0xvd2VyQ2FzZSgpO2lmKG8uaW5jbHVkZXMoXCJ3Y0BcIil8fG8uaW5jbHVkZXMoXCJ3YWxsZXRjb25uZWN0XCIpfHxvLmluY2x1ZGVzKFwid2NfXCIpfHxvLmluY2x1ZGVzKFwid2FsbGV0X2Nvbm5lY3RcIikpe2NvbnN0IGY9YXdhaXQgaS5nZXRJdGVtKHIpO2F3YWl0IHQuc2V0SXRlbShyLGYpLG0ucHVzaChyKX19YXdhaXQgdC5zZXRJdGVtKG4seSksZSh0KSxqKGksbSl9LGo9YXN5bmMoaSx0KT0+e3QubGVuZ3RoJiZ0LmZvckVhY2goYXN5bmMgZT0+e2F3YWl0IGkucmVtb3ZlSXRlbShlKX0pfTtjbGFzcyBoe2NvbnN0cnVjdG9yKCl7dGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLnNldEluaXRpYWxpemVkPWU9Pnt0aGlzLnN0b3JhZ2U9ZSx0aGlzLmluaXRpYWxpemVkPSEwfTtjb25zdCB0PW5ldyBLO3RoaXMuc3RvcmFnZT10O3RyeXtjb25zdCBlPW5ldyBfO08odCxlLHRoaXMuc2V0SW5pdGlhbGl6ZWQpfWNhdGNoe3RoaXMuaW5pdGlhbGl6ZWQ9ITB9fWFzeW5jIGdldEtleXMoKXtyZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplKCksdGhpcy5zdG9yYWdlLmdldEtleXMoKX1hc3luYyBnZXRFbnRyaWVzKCl7cmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXMuc3RvcmFnZS5nZXRFbnRyaWVzKCl9YXN5bmMgZ2V0SXRlbSh0KXtyZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplKCksdGhpcy5zdG9yYWdlLmdldEl0ZW0odCl9YXN5bmMgc2V0SXRlbSh0LGUpe3JldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemUoKSx0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0LGUpfWFzeW5jIHJlbW92ZUl0ZW0odCl7cmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKHQpfWFzeW5jIGluaXRpYWxpemUoKXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCBuZXcgUHJvbWlzZSh0PT57Y29uc3QgZT1zZXRJbnRlcnZhbCgoKT0+e3RoaXMuaW5pdGlhbGl6ZWQmJihjbGVhckludGVydmFsKGUpLHQoKSl9LDIwKX0pfX1leHBvcnR7aCBhcyBLZXlWYWx1ZVN0b3JhZ2UsaCBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js":
/*!*************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/dist/index.es.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_LOG_SIZE_IN_BYTES_DEFAULT: () => (/* binding */ l),\n/* harmony export */   PINO_CUSTOM_CONTEXT_KEY: () => (/* binding */ n),\n/* harmony export */   PINO_LOGGER_DEFAULTS: () => (/* binding */ c),\n/* harmony export */   formatChildLoggerContext: () => (/* binding */ w),\n/* harmony export */   generateChildLogger: () => (/* binding */ E),\n/* harmony export */   generateClientLogger: () => (/* binding */ C),\n/* harmony export */   generatePlatformLogger: () => (/* binding */ A),\n/* harmony export */   generateServerLogger: () => (/* binding */ I),\n/* harmony export */   getBrowserLoggerContext: () => (/* binding */ v),\n/* harmony export */   getDefaultLoggerOptions: () => (/* binding */ k),\n/* harmony export */   getLoggerContext: () => (/* binding */ y),\n/* harmony export */   pino: () => (/* reexport default from dynamic */ pino__WEBPACK_IMPORTED_MODULE_0___default.a),\n/* harmony export */   setBrowserLoggerContext: () => (/* binding */ b)\n/* harmony export */ });\n/* harmony import */ var pino__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pino */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/pino.js\");\n/* harmony import */ var pino__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pino__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\nconst c={level:\"info\"},n=\"custom_context\",l=1e3*1024;class O{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class d{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new O(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class L{constructor(e,t=l){this.level=e??\"error\",this.levelValue=pino__WEBPACK_IMPORTED_MODULE_0__.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new d(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.error?console.error(e):t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.warn?console.warn(e):t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.debug?console.debug(e):t===pino__WEBPACK_IMPORTED_MODULE_0__.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)({timestamp:new Date().toISOString(),log:e}));const t=typeof e==\"string\"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new d(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)({extraMetadata:e})),new Blob(t,{type:\"application/json\"})}}class m{constructor(e,t=l){this.baseChunkLogger=new L(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),o=document.createElement(\"a\");o.href=t,o.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}}class B{constructor(e,t=l){this.baseChunkLogger=new L(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var x=Object.defineProperty,S=Object.defineProperties,_=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,f=(r,e,t)=>e in r?x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,i=(r,e)=>{for(var t in e||(e={}))T.call(e,t)&&f(r,t,e[t]);if(p)for(var t of p(e))z.call(e,t)&&f(r,t,e[t]);return r},g=(r,e)=>S(r,_(e));function k(r){return g(i({},r),{level:r?.level||c.level})}function v(r,e=n){return r[e]||\"\"}function b(r,e,t=n){return r[t]=e,r}function y(r,e=n){let t=\"\";return typeof r.bindings>\"u\"?t=v(r,e):t=r.bindings().context||\"\",t}function w(r,e,t=n){const o=y(r,t);return o.trim()?`${o}/${e}`:e}function E(r,e,t=n){const o=w(r,e,t),a=r.child({context:o});return b(a,o,t)}function C(r){var e,t;const o=new m((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:pino__WEBPACK_IMPORTED_MODULE_0___default()(g(i({},r.opts),{level:\"trace\",browser:g(i({},(t=r.opts)==null?void 0:t.browser),{write:a=>o.write(a)})})),chunkLoggerController:o}}function I(r){var e;const t=new B((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:pino__WEBPACK_IMPORTED_MODULE_0___default()(g(i({},r.opts),{level:\"trace\"}),t),chunkLoggerController:t}}function A(r){return typeof r.loggerOverride<\"u\"&&typeof r.loggerOverride!=\"string\"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<\"u\"?C(r):I(r)}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2SCxTQUFTLGFBQWEsK0JBQStCLFFBQVEsZUFBZSxpR0FBaUcsWUFBWSxzQkFBc0IsV0FBVyx5QkFBeUIsUUFBUSxlQUFlLDRGQUE0RixVQUFVLGlCQUFpQixpR0FBaUcsR0FBRyxZQUFZLE9BQU8sR0FBRyxLQUFLLHFDQUFxQyxjQUFjLDhIQUE4SCxRQUFRLHFCQUFxQixrQkFBa0IsbUdBQW1HLFVBQVUsV0FBVyxnQkFBZ0IsS0FBSyxTQUFTLDBCQUEwQixTQUFTLGFBQWEsMEJBQTBCLFdBQVcsd0JBQXdCLGlCQUFpQix3QkFBd0Isb0JBQW9CLGdCQUFnQixPQUFPLFVBQVUsYUFBYSxvQkFBb0IsZ0JBQWdCLGlCQUFpQixvQkFBb0IsUUFBUSxtQkFBbUIsc0NBQXNDLHdDQUFDLDZGQUE2RixzQkFBc0IsSUFBSSx3Q0FBQyxtQ0FBbUMsd0NBQUMsaUNBQWlDLHdDQUFDLG1DQUFtQyx3Q0FBQyw4Q0FBOEMsZ0JBQWdCLGlCQUFpQiwyRUFBQyxFQUFFLHlDQUF5QyxHQUFHLHVEQUF1RCwrQ0FBK0MsVUFBVSxpQkFBaUIsWUFBWSw0Q0FBNEMsY0FBYyw2QkFBNkIsY0FBYywyQkFBMkIsY0FBYywyRUFBQyxFQUFFLGdCQUFnQixlQUFlLHdCQUF3QixHQUFHLFFBQVEsbUJBQW1CLGdDQUFnQyxTQUFTLHFDQUFxQyxVQUFVLHNDQUFzQyxZQUFZLGlDQUFpQyxjQUFjLDBDQUEwQyxjQUFjLDBDQUEwQyw2QkFBNkIsOEVBQThFLDBDQUEwQyx5QkFBeUIsa0dBQWtHLFFBQVEsbUJBQW1CLGdDQUFnQyxTQUFTLHFDQUFxQyxVQUFVLHNDQUFzQyxZQUFZLGlDQUFpQyxjQUFjLDBDQUEwQyxjQUFjLDJDQUEyQywyTkFBMk4sa0RBQWtELG1CQUFtQixxQkFBcUIsMkJBQTJCLGdEQUFnRCxTQUFTLG9CQUFvQixjQUFjLGFBQWEsS0FBSyx3QkFBd0IsRUFBRSxrQkFBa0IsZ0JBQWdCLG9CQUFvQixnQkFBZ0Isa0JBQWtCLFNBQVMsbUVBQW1FLG9CQUFvQixlQUFlLG1CQUFtQixFQUFFLEdBQUcsRUFBRSxJQUFJLG9CQUFvQiw0QkFBNEIsVUFBVSxFQUFFLGdCQUFnQixjQUFjLFFBQVEsZ0VBQWdFLE9BQU8sT0FBTywyQ0FBQyxPQUFPLFVBQVUsNEJBQTRCLHFDQUFxQyxvQkFBb0IsRUFBRSw0QkFBNEIsY0FBYyxNQUFNLGdFQUFnRSxPQUFPLE9BQU8sMkNBQUMsT0FBTyxVQUFVLGNBQWMsOEJBQThCLGNBQWMsdUVBQXVFLG1EQUFtRCw2QkFBNlg7QUFDamlKIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9sb2dnZXIvZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaCx7bGV2ZWxzIGFzIHN9ZnJvbVwicGlub1wiO2ltcG9ydHtkZWZhdWx0IGFzIFV9ZnJvbVwicGlub1wiO2ltcG9ydHtzYWZlSnNvblN0cmluZ2lmeSBhcyB1fWZyb21cIkB3YWxsZXRjb25uZWN0L3NhZmUtanNvblwiO2NvbnN0IGM9e2xldmVsOlwiaW5mb1wifSxuPVwiY3VzdG9tX2NvbnRleHRcIixsPTFlMyoxMDI0O2NsYXNzIE97Y29uc3RydWN0b3IoZSl7dGhpcy5ub2RlVmFsdWU9ZSx0aGlzLnNpemVJbkJ5dGVzPW5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0aGlzLm5vZGVWYWx1ZSkubGVuZ3RoLHRoaXMubmV4dD1udWxsfWdldCB2YWx1ZSgpe3JldHVybiB0aGlzLm5vZGVWYWx1ZX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLnNpemVJbkJ5dGVzfX1jbGFzcyBke2NvbnN0cnVjdG9yKGUpe3RoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoSW5Ob2Rlcz0wLHRoaXMubWF4U2l6ZUluQnl0ZXM9ZSx0aGlzLnNpemVJbkJ5dGVzPTB9YXBwZW5kKGUpe2NvbnN0IHQ9bmV3IE8oZSk7aWYodC5zaXplPnRoaXMubWF4U2l6ZUluQnl0ZXMpdGhyb3cgbmV3IEVycm9yKGBbTGlua2VkTGlzdF0gVmFsdWUgdG9vIGJpZyB0byBpbnNlcnQgaW50byBsaXN0OiAke2V9IHdpdGggc2l6ZSAke3Quc2l6ZX1gKTtmb3IoO3RoaXMuc2l6ZSt0LnNpemU+dGhpcy5tYXhTaXplSW5CeXRlczspdGhpcy5zaGlmdCgpO3RoaXMuaGVhZD8odGhpcy50YWlsJiYodGhpcy50YWlsLm5leHQ9dCksdGhpcy50YWlsPXQpOih0aGlzLmhlYWQ9dCx0aGlzLnRhaWw9dCksdGhpcy5sZW5ndGhJbk5vZGVzKyssdGhpcy5zaXplSW5CeXRlcys9dC5zaXplfXNoaWZ0KCl7aWYoIXRoaXMuaGVhZClyZXR1cm47Y29uc3QgZT10aGlzLmhlYWQ7dGhpcy5oZWFkPXRoaXMuaGVhZC5uZXh0LHRoaXMuaGVhZHx8KHRoaXMudGFpbD1udWxsKSx0aGlzLmxlbmd0aEluTm9kZXMtLSx0aGlzLnNpemVJbkJ5dGVzLT1lLnNpemV9dG9BcnJheSgpe2NvbnN0IGU9W107bGV0IHQ9dGhpcy5oZWFkO2Zvcig7dCE9PW51bGw7KWUucHVzaCh0LnZhbHVlKSx0PXQubmV4dDtyZXR1cm4gZX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMubGVuZ3RoSW5Ob2Rlc31nZXQgc2l6ZSgpe3JldHVybiB0aGlzLnNpemVJbkJ5dGVzfXRvT3JkZXJlZEFycmF5KCl7cmV0dXJuIEFycmF5LmZyb20odGhpcyl9W1N5bWJvbC5pdGVyYXRvcl0oKXtsZXQgZT10aGlzLmhlYWQ7cmV0dXJue25leHQ6KCk9PntpZighZSlyZXR1cm57ZG9uZTohMCx2YWx1ZTpudWxsfTtjb25zdCB0PWUudmFsdWU7cmV0dXJuIGU9ZS5uZXh0LHtkb25lOiExLHZhbHVlOnR9fX19fWNsYXNzIEx7Y29uc3RydWN0b3IoZSx0PWwpe3RoaXMubGV2ZWw9ZT8/XCJlcnJvclwiLHRoaXMubGV2ZWxWYWx1ZT1zLnZhbHVlc1t0aGlzLmxldmVsXSx0aGlzLk1BWF9MT0dfU0laRV9JTl9CWVRFUz10LHRoaXMubG9ncz1uZXcgZCh0aGlzLk1BWF9MT0dfU0laRV9JTl9CWVRFUyl9Zm9yd2FyZFRvQ29uc29sZShlLHQpe3Q9PT1zLnZhbHVlcy5lcnJvcj9jb25zb2xlLmVycm9yKGUpOnQ9PT1zLnZhbHVlcy53YXJuP2NvbnNvbGUud2FybihlKTp0PT09cy52YWx1ZXMuZGVidWc/Y29uc29sZS5kZWJ1ZyhlKTp0PT09cy52YWx1ZXMudHJhY2U/Y29uc29sZS50cmFjZShlKTpjb25zb2xlLmxvZyhlKX1hcHBlbmRUb0xvZ3MoZSl7dGhpcy5sb2dzLmFwcGVuZCh1KHt0aW1lc3RhbXA6bmV3IERhdGUoKS50b0lTT1N0cmluZygpLGxvZzplfSkpO2NvbnN0IHQ9dHlwZW9mIGU9PVwic3RyaW5nXCI/SlNPTi5wYXJzZShlKS5sZXZlbDplLmxldmVsO3Q+PXRoaXMubGV2ZWxWYWx1ZSYmdGhpcy5mb3J3YXJkVG9Db25zb2xlKGUsdCl9Z2V0TG9ncygpe3JldHVybiB0aGlzLmxvZ3N9Y2xlYXJMb2dzKCl7dGhpcy5sb2dzPW5ldyBkKHRoaXMuTUFYX0xPR19TSVpFX0lOX0JZVEVTKX1nZXRMb2dBcnJheSgpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubG9ncyl9bG9nc1RvQmxvYihlKXtjb25zdCB0PXRoaXMuZ2V0TG9nQXJyYXkoKTtyZXR1cm4gdC5wdXNoKHUoe2V4dHJhTWV0YWRhdGE6ZX0pKSxuZXcgQmxvYih0LHt0eXBlOlwiYXBwbGljYXRpb24vanNvblwifSl9fWNsYXNzIG17Y29uc3RydWN0b3IoZSx0PWwpe3RoaXMuYmFzZUNodW5rTG9nZ2VyPW5ldyBMKGUsdCl9d3JpdGUoZSl7dGhpcy5iYXNlQ2h1bmtMb2dnZXIuYXBwZW5kVG9Mb2dzKGUpfWdldExvZ3MoKXtyZXR1cm4gdGhpcy5iYXNlQ2h1bmtMb2dnZXIuZ2V0TG9ncygpfWNsZWFyTG9ncygpe3RoaXMuYmFzZUNodW5rTG9nZ2VyLmNsZWFyTG9ncygpfWdldExvZ0FycmF5KCl7cmV0dXJuIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmdldExvZ0FycmF5KCl9bG9nc1RvQmxvYihlKXtyZXR1cm4gdGhpcy5iYXNlQ2h1bmtMb2dnZXIubG9nc1RvQmxvYihlKX1kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyKGUpe2NvbnN0IHQ9VVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmxvZ3NUb0Jsb2IoZSkpLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7by5ocmVmPXQsby5kb3dubG9hZD1gd2FsbGV0Y29ubmVjdC1sb2dzLSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfS50eHRgLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobyksby5jbGljaygpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobyksVVJMLnJldm9rZU9iamVjdFVSTCh0KX19Y2xhc3MgQntjb25zdHJ1Y3RvcihlLHQ9bCl7dGhpcy5iYXNlQ2h1bmtMb2dnZXI9bmV3IEwoZSx0KX13cml0ZShlKXt0aGlzLmJhc2VDaHVua0xvZ2dlci5hcHBlbmRUb0xvZ3MoZSl9Z2V0TG9ncygpe3JldHVybiB0aGlzLmJhc2VDaHVua0xvZ2dlci5nZXRMb2dzKCl9Y2xlYXJMb2dzKCl7dGhpcy5iYXNlQ2h1bmtMb2dnZXIuY2xlYXJMb2dzKCl9Z2V0TG9nQXJyYXkoKXtyZXR1cm4gdGhpcy5iYXNlQ2h1bmtMb2dnZXIuZ2V0TG9nQXJyYXkoKX1sb2dzVG9CbG9iKGUpe3JldHVybiB0aGlzLmJhc2VDaHVua0xvZ2dlci5sb2dzVG9CbG9iKGUpfX12YXIgeD1PYmplY3QuZGVmaW5lUHJvcGVydHksUz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxfPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLHA9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxUPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksej1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLGY9KHIsZSx0KT0+ZSBpbiByP3gocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LGk9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKVQuY2FsbChlLHQpJiZmKHIsdCxlW3RdKTtpZihwKWZvcih2YXIgdCBvZiBwKGUpKXouY2FsbChlLHQpJiZmKHIsdCxlW3RdKTtyZXR1cm4gcn0sZz0ocixlKT0+UyhyLF8oZSkpO2Z1bmN0aW9uIGsocil7cmV0dXJuIGcoaSh7fSxyKSx7bGV2ZWw6cj8ubGV2ZWx8fGMubGV2ZWx9KX1mdW5jdGlvbiB2KHIsZT1uKXtyZXR1cm4gcltlXXx8XCJcIn1mdW5jdGlvbiBiKHIsZSx0PW4pe3JldHVybiByW3RdPWUscn1mdW5jdGlvbiB5KHIsZT1uKXtsZXQgdD1cIlwiO3JldHVybiB0eXBlb2Ygci5iaW5kaW5ncz5cInVcIj90PXYocixlKTp0PXIuYmluZGluZ3MoKS5jb250ZXh0fHxcIlwiLHR9ZnVuY3Rpb24gdyhyLGUsdD1uKXtjb25zdCBvPXkocix0KTtyZXR1cm4gby50cmltKCk/YCR7b30vJHtlfWA6ZX1mdW5jdGlvbiBFKHIsZSx0PW4pe2NvbnN0IG89dyhyLGUsdCksYT1yLmNoaWxkKHtjb250ZXh0Om99KTtyZXR1cm4gYihhLG8sdCl9ZnVuY3Rpb24gQyhyKXt2YXIgZSx0O2NvbnN0IG89bmV3IG0oKGU9ci5vcHRzKT09bnVsbD92b2lkIDA6ZS5sZXZlbCxyLm1heFNpemVJbkJ5dGVzKTtyZXR1cm57bG9nZ2VyOmgoZyhpKHt9LHIub3B0cykse2xldmVsOlwidHJhY2VcIixicm93c2VyOmcoaSh7fSwodD1yLm9wdHMpPT1udWxsP3ZvaWQgMDp0LmJyb3dzZXIpLHt3cml0ZTphPT5vLndyaXRlKGEpfSl9KSksY2h1bmtMb2dnZXJDb250cm9sbGVyOm99fWZ1bmN0aW9uIEkocil7dmFyIGU7Y29uc3QgdD1uZXcgQigoZT1yLm9wdHMpPT1udWxsP3ZvaWQgMDplLmxldmVsLHIubWF4U2l6ZUluQnl0ZXMpO3JldHVybntsb2dnZXI6aChnKGkoe30sci5vcHRzKSx7bGV2ZWw6XCJ0cmFjZVwifSksdCksY2h1bmtMb2dnZXJDb250cm9sbGVyOnR9fWZ1bmN0aW9uIEEocil7cmV0dXJuIHR5cGVvZiByLmxvZ2dlck92ZXJyaWRlPFwidVwiJiZ0eXBlb2Ygci5sb2dnZXJPdmVycmlkZSE9XCJzdHJpbmdcIj97bG9nZ2VyOnIubG9nZ2VyT3ZlcnJpZGUsY2h1bmtMb2dnZXJDb250cm9sbGVyOm51bGx9OnR5cGVvZiB3aW5kb3c8XCJ1XCI/QyhyKTpJKHIpfWV4cG9ydHtsIGFzIE1BWF9MT0dfU0laRV9JTl9CWVRFU19ERUZBVUxULG4gYXMgUElOT19DVVNUT01fQ09OVEVYVF9LRVksYyBhcyBQSU5PX0xPR0dFUl9ERUZBVUxUUyx3IGFzIGZvcm1hdENoaWxkTG9nZ2VyQ29udGV4dCxFIGFzIGdlbmVyYXRlQ2hpbGRMb2dnZXIsQyBhcyBnZW5lcmF0ZUNsaWVudExvZ2dlcixBIGFzIGdlbmVyYXRlUGxhdGZvcm1Mb2dnZXIsSSBhcyBnZW5lcmF0ZVNlcnZlckxvZ2dlcix2IGFzIGdldEJyb3dzZXJMb2dnZXJDb250ZXh0LGsgYXMgZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMseSBhcyBnZXRMb2dnZXJDb250ZXh0LFUgYXMgcGlubyxiIGFzIHNldEJyb3dzZXJMb2dnZXJDb250ZXh0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/on-exit-leak-free/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/on-exit-leak-free/index.js ***!
  \************************************************************************************/
/***/ ((module) => {

eval("\n\nfunction genWrap (wraps, ref, fn, event) {\n  function wrap () {\n    const obj = ref.deref()\n    // This should alway happen, however GC is\n    // undeterministic so it might happen.\n    /* istanbul ignore else */\n    if (obj !== undefined) {\n      fn(obj, event)\n    }\n  }\n\n  wraps[event] = wrap\n  process.once(event, wrap)\n}\n\nconst registry = new FinalizationRegistry(clear)\nconst map = new WeakMap()\n\nfunction clear (wraps) {\n  process.removeListener('exit', wraps.exit)\n  process.removeListener('beforeExit', wraps.beforeExit)\n}\n\nfunction register (obj, fn) {\n  if (obj === undefined) {\n    throw new Error('the object can\\'t be undefined')\n  }\n  const ref = new WeakRef(obj)\n\n  const wraps = {}\n  map.set(obj, wraps)\n  registry.register(obj, wraps)\n\n  genWrap(wraps, ref, fn, 'exit')\n  genWrap(wraps, ref, fn, 'beforeExit')\n}\n\nfunction unregister (obj) {\n  const wraps = map.get(obj)\n  map.delete(obj)\n  if (wraps) {\n    clear(wraps)\n  }\n  registry.unregister(obj)\n}\n\nmodule.exports = {\n  register,\n  unregister\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9vbi1leGl0LWxlYWstZnJlZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9vbi1leGl0LWxlYWstZnJlZS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuZnVuY3Rpb24gZ2VuV3JhcCAod3JhcHMsIHJlZiwgZm4sIGV2ZW50KSB7XG4gIGZ1bmN0aW9uIHdyYXAgKCkge1xuICAgIGNvbnN0IG9iaiA9IHJlZi5kZXJlZigpXG4gICAgLy8gVGhpcyBzaG91bGQgYWx3YXkgaGFwcGVuLCBob3dldmVyIEdDIGlzXG4gICAgLy8gdW5kZXRlcm1pbmlzdGljIHNvIGl0IG1pZ2h0IGhhcHBlbi5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChvYmogIT09IHVuZGVmaW5lZCkge1xuICAgICAgZm4ob2JqLCBldmVudClcbiAgICB9XG4gIH1cblxuICB3cmFwc1tldmVudF0gPSB3cmFwXG4gIHByb2Nlc3Mub25jZShldmVudCwgd3JhcClcbn1cblxuY29uc3QgcmVnaXN0cnkgPSBuZXcgRmluYWxpemF0aW9uUmVnaXN0cnkoY2xlYXIpXG5jb25zdCBtYXAgPSBuZXcgV2Vha01hcCgpXG5cbmZ1bmN0aW9uIGNsZWFyICh3cmFwcykge1xuICBwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKCdleGl0Jywgd3JhcHMuZXhpdClcbiAgcHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcignYmVmb3JlRXhpdCcsIHdyYXBzLmJlZm9yZUV4aXQpXG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyIChvYmosIGZuKSB7XG4gIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndGhlIG9iamVjdCBjYW5cXCd0IGJlIHVuZGVmaW5lZCcpXG4gIH1cbiAgY29uc3QgcmVmID0gbmV3IFdlYWtSZWYob2JqKVxuXG4gIGNvbnN0IHdyYXBzID0ge31cbiAgbWFwLnNldChvYmosIHdyYXBzKVxuICByZWdpc3RyeS5yZWdpc3RlcihvYmosIHdyYXBzKVxuXG4gIGdlbldyYXAod3JhcHMsIHJlZiwgZm4sICdleGl0JylcbiAgZ2VuV3JhcCh3cmFwcywgcmVmLCBmbiwgJ2JlZm9yZUV4aXQnKVxufVxuXG5mdW5jdGlvbiB1bnJlZ2lzdGVyIChvYmopIHtcbiAgY29uc3Qgd3JhcHMgPSBtYXAuZ2V0KG9iailcbiAgbWFwLmRlbGV0ZShvYmopXG4gIGlmICh3cmFwcykge1xuICAgIGNsZWFyKHdyYXBzKVxuICB9XG4gIHJlZ2lzdHJ5LnVucmVnaXN0ZXIob2JqKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVnaXN0ZXIsXG4gIHVucmVnaXN0ZXJcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/on-exit-leak-free/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/index.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/index.js ***!
  \***************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst errSerializer = __webpack_require__(/*! ./lib/err */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/err.js\")\nconst reqSerializers = __webpack_require__(/*! ./lib/req */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/req.js\")\nconst resSerializers = __webpack_require__(/*! ./lib/res */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/res.js\")\n\nmodule.exports = {\n  err: errSerializer,\n  mapHttpRequest: reqSerializers.mapHttpRequest,\n  mapHttpResponse: resSerializers.mapHttpResponse,\n  req: reqSerializers.reqSerializer,\n  res: resSerializers.resSerializer,\n\n  wrapErrorSerializer: function wrapErrorSerializer (customSerializer) {\n    if (customSerializer === errSerializer) return customSerializer\n    return function wrapErrSerializer (err) {\n      return customSerializer(errSerializer(err))\n    }\n  },\n\n  wrapRequestSerializer: function wrapRequestSerializer (customSerializer) {\n    if (customSerializer === reqSerializers.reqSerializer) return customSerializer\n    return function wrappedReqSerializer (req) {\n      return customSerializer(reqSerializers.reqSerializer(req))\n    }\n  },\n\n  wrapResponseSerializer: function wrapResponseSerializer (customSerializer) {\n    if (customSerializer === resSerializers.resSerializer) return customSerializer\n    return function wrappedResSerializer (res) {\n      return customSerializer(resSerializers.resSerializer(res))\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vLXN0ZC1zZXJpYWxpemVycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBWTs7QUFFWixzQkFBc0IsbUJBQU8sQ0FBQywwR0FBVztBQUN6Qyx1QkFBdUIsbUJBQU8sQ0FBQywwR0FBVztBQUMxQyx1QkFBdUIsbUJBQU8sQ0FBQywwR0FBVzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9sb2dnZXIvbm9kZV9tb2R1bGVzL3Bpbm8tc3RkLXNlcmlhbGl6ZXJzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBlcnJTZXJpYWxpemVyID0gcmVxdWlyZSgnLi9saWIvZXJyJylcbmNvbnN0IHJlcVNlcmlhbGl6ZXJzID0gcmVxdWlyZSgnLi9saWIvcmVxJylcbmNvbnN0IHJlc1NlcmlhbGl6ZXJzID0gcmVxdWlyZSgnLi9saWIvcmVzJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGVycjogZXJyU2VyaWFsaXplcixcbiAgbWFwSHR0cFJlcXVlc3Q6IHJlcVNlcmlhbGl6ZXJzLm1hcEh0dHBSZXF1ZXN0LFxuICBtYXBIdHRwUmVzcG9uc2U6IHJlc1NlcmlhbGl6ZXJzLm1hcEh0dHBSZXNwb25zZSxcbiAgcmVxOiByZXFTZXJpYWxpemVycy5yZXFTZXJpYWxpemVyLFxuICByZXM6IHJlc1NlcmlhbGl6ZXJzLnJlc1NlcmlhbGl6ZXIsXG5cbiAgd3JhcEVycm9yU2VyaWFsaXplcjogZnVuY3Rpb24gd3JhcEVycm9yU2VyaWFsaXplciAoY3VzdG9tU2VyaWFsaXplcikge1xuICAgIGlmIChjdXN0b21TZXJpYWxpemVyID09PSBlcnJTZXJpYWxpemVyKSByZXR1cm4gY3VzdG9tU2VyaWFsaXplclxuICAgIHJldHVybiBmdW5jdGlvbiB3cmFwRXJyU2VyaWFsaXplciAoZXJyKSB7XG4gICAgICByZXR1cm4gY3VzdG9tU2VyaWFsaXplcihlcnJTZXJpYWxpemVyKGVycikpXG4gICAgfVxuICB9LFxuXG4gIHdyYXBSZXF1ZXN0U2VyaWFsaXplcjogZnVuY3Rpb24gd3JhcFJlcXVlc3RTZXJpYWxpemVyIChjdXN0b21TZXJpYWxpemVyKSB7XG4gICAgaWYgKGN1c3RvbVNlcmlhbGl6ZXIgPT09IHJlcVNlcmlhbGl6ZXJzLnJlcVNlcmlhbGl6ZXIpIHJldHVybiBjdXN0b21TZXJpYWxpemVyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBwZWRSZXFTZXJpYWxpemVyIChyZXEpIHtcbiAgICAgIHJldHVybiBjdXN0b21TZXJpYWxpemVyKHJlcVNlcmlhbGl6ZXJzLnJlcVNlcmlhbGl6ZXIocmVxKSlcbiAgICB9XG4gIH0sXG5cbiAgd3JhcFJlc3BvbnNlU2VyaWFsaXplcjogZnVuY3Rpb24gd3JhcFJlc3BvbnNlU2VyaWFsaXplciAoY3VzdG9tU2VyaWFsaXplcikge1xuICAgIGlmIChjdXN0b21TZXJpYWxpemVyID09PSByZXNTZXJpYWxpemVycy5yZXNTZXJpYWxpemVyKSByZXR1cm4gY3VzdG9tU2VyaWFsaXplclxuICAgIHJldHVybiBmdW5jdGlvbiB3cmFwcGVkUmVzU2VyaWFsaXplciAocmVzKSB7XG4gICAgICByZXR1cm4gY3VzdG9tU2VyaWFsaXplcihyZXNTZXJpYWxpemVycy5yZXNTZXJpYWxpemVyKHJlcykpXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/err.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/err.js ***!
  \*****************************************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = errSerializer\n\nconst { toString } = Object.prototype\nconst seen = Symbol('circular-ref-tag')\nconst rawSymbol = Symbol('pino-raw-err-ref')\nconst pinoErrProto = Object.create({}, {\n  type: {\n    enumerable: true,\n    writable: true,\n    value: undefined\n  },\n  message: {\n    enumerable: true,\n    writable: true,\n    value: undefined\n  },\n  stack: {\n    enumerable: true,\n    writable: true,\n    value: undefined\n  },\n  raw: {\n    enumerable: false,\n    get: function () {\n      return this[rawSymbol]\n    },\n    set: function (val) {\n      this[rawSymbol] = val\n    }\n  }\n})\nObject.defineProperty(pinoErrProto, rawSymbol, {\n  writable: true,\n  value: {}\n})\n\nfunction errSerializer (err) {\n  if (!(err instanceof Error)) {\n    return err\n  }\n\n  err[seen] = undefined // tag to prevent re-looking at this\n  const _err = Object.create(pinoErrProto)\n  _err.type = toString.call(err.constructor) === '[object Function]'\n    ? err.constructor.name\n    : err.name\n  _err.message = err.message\n  _err.stack = err.stack\n  for (const key in err) {\n    if (_err[key] === undefined) {\n      const val = err[key]\n      if (val instanceof Error) {\n        /* eslint-disable no-prototype-builtins */\n        if (!val.hasOwnProperty(seen)) {\n          _err[key] = errSerializer(val)\n        }\n      } else {\n        _err[key] = val\n      }\n    }\n  }\n\n  delete err[seen] // clean up tag in case err is serialized again later\n  _err.raw = err\n  return _err\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vLXN0ZC1zZXJpYWxpemVycy9saWIvZXJyLmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaOztBQUVBLFFBQVEsV0FBVztBQUNuQjtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9sb2dnZXIvbm9kZV9tb2R1bGVzL3Bpbm8tc3RkLXNlcmlhbGl6ZXJzL2xpYi9lcnIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZXJyU2VyaWFsaXplclxuXG5jb25zdCB7IHRvU3RyaW5nIH0gPSBPYmplY3QucHJvdG90eXBlXG5jb25zdCBzZWVuID0gU3ltYm9sKCdjaXJjdWxhci1yZWYtdGFnJylcbmNvbnN0IHJhd1N5bWJvbCA9IFN5bWJvbCgncGluby1yYXctZXJyLXJlZicpXG5jb25zdCBwaW5vRXJyUHJvdG8gPSBPYmplY3QuY3JlYXRlKHt9LCB7XG4gIHR5cGU6IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiB1bmRlZmluZWRcbiAgfSxcbiAgbWVzc2FnZToge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICBzdGFjazoge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6IHVuZGVmaW5lZFxuICB9LFxuICByYXc6IHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzW3Jhd1N5bWJvbF1cbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgdGhpc1tyYXdTeW1ib2xdID0gdmFsXG4gICAgfVxuICB9XG59KVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHBpbm9FcnJQcm90bywgcmF3U3ltYm9sLCB7XG4gIHdyaXRhYmxlOiB0cnVlLFxuICB2YWx1ZToge31cbn0pXG5cbmZ1bmN0aW9uIGVyclNlcmlhbGl6ZXIgKGVycikge1xuICBpZiAoIShlcnIgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICByZXR1cm4gZXJyXG4gIH1cblxuICBlcnJbc2Vlbl0gPSB1bmRlZmluZWQgLy8gdGFnIHRvIHByZXZlbnQgcmUtbG9va2luZyBhdCB0aGlzXG4gIGNvbnN0IF9lcnIgPSBPYmplY3QuY3JlYXRlKHBpbm9FcnJQcm90bylcbiAgX2Vyci50eXBlID0gdG9TdHJpbmcuY2FsbChlcnIuY29uc3RydWN0b3IpID09PSAnW29iamVjdCBGdW5jdGlvbl0nXG4gICAgPyBlcnIuY29uc3RydWN0b3IubmFtZVxuICAgIDogZXJyLm5hbWVcbiAgX2Vyci5tZXNzYWdlID0gZXJyLm1lc3NhZ2VcbiAgX2Vyci5zdGFjayA9IGVyci5zdGFja1xuICBmb3IgKGNvbnN0IGtleSBpbiBlcnIpIHtcbiAgICBpZiAoX2VycltrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHZhbCA9IGVycltrZXldXG4gICAgICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zICovXG4gICAgICAgIGlmICghdmFsLmhhc093blByb3BlcnR5KHNlZW4pKSB7XG4gICAgICAgICAgX2VycltrZXldID0gZXJyU2VyaWFsaXplcih2YWwpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9lcnJba2V5XSA9IHZhbFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZSBlcnJbc2Vlbl0gLy8gY2xlYW4gdXAgdGFnIGluIGNhc2UgZXJyIGlzIHNlcmlhbGl6ZWQgYWdhaW4gbGF0ZXJcbiAgX2Vyci5yYXcgPSBlcnJcbiAgcmV0dXJuIF9lcnJcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/err.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/req.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/req.js ***!
  \*****************************************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = {\n  mapHttpRequest,\n  reqSerializer\n}\n\nconst rawSymbol = Symbol('pino-raw-req-ref')\nconst pinoReqProto = Object.create({}, {\n  id: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  method: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  url: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  query: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  params: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  headers: {\n    enumerable: true,\n    writable: true,\n    value: {}\n  },\n  remoteAddress: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  remotePort: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  raw: {\n    enumerable: false,\n    get: function () {\n      return this[rawSymbol]\n    },\n    set: function (val) {\n      this[rawSymbol] = val\n    }\n  }\n})\nObject.defineProperty(pinoReqProto, rawSymbol, {\n  writable: true,\n  value: {}\n})\n\nfunction reqSerializer (req) {\n  // req.info is for hapi compat.\n  const connection = req.info || req.socket\n  const _req = Object.create(pinoReqProto)\n  _req.id = (typeof req.id === 'function' ? req.id() : (req.id || (req.info ? req.info.id : undefined)))\n  _req.method = req.method\n  // req.originalUrl is for expressjs compat.\n  if (req.originalUrl) {\n    _req.url = req.originalUrl\n    _req.query = req.query\n    _req.params = req.params\n  } else {\n    // req.url.path is  for hapi compat.\n    _req.url = req.path || (req.url ? (req.url.path || req.url) : undefined)\n  }\n  _req.headers = req.headers\n  _req.remoteAddress = connection && connection.remoteAddress\n  _req.remotePort = connection && connection.remotePort\n  // req.raw is  for hapi compat/equivalence\n  _req.raw = req.raw || req\n  return _req\n}\n\nfunction mapHttpRequest (req) {\n  return {\n    req: reqSerializer(req)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vLXN0ZC1zZXJpYWxpemVycy9saWIvcmVxLmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9sb2dnZXIvbm9kZV9tb2R1bGVzL3Bpbm8tc3RkLXNlcmlhbGl6ZXJzL2xpYi9yZXEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBtYXBIdHRwUmVxdWVzdCxcbiAgcmVxU2VyaWFsaXplclxufVxuXG5jb25zdCByYXdTeW1ib2wgPSBTeW1ib2woJ3Bpbm8tcmF3LXJlcS1yZWYnKVxuY29uc3QgcGlub1JlcVByb3RvID0gT2JqZWN0LmNyZWF0ZSh7fSwge1xuICBpZDoge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6ICcnXG4gIH0sXG4gIG1ldGhvZDoge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6ICcnXG4gIH0sXG4gIHVybDoge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6ICcnXG4gIH0sXG4gIHF1ZXJ5OiB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogJydcbiAgfSxcbiAgcGFyYW1zOiB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogJydcbiAgfSxcbiAgaGVhZGVyczoge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6IHt9XG4gIH0sXG4gIHJlbW90ZUFkZHJlc3M6IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiAnJ1xuICB9LFxuICByZW1vdGVQb3J0OiB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogJydcbiAgfSxcbiAgcmF3OiB7XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpc1tyYXdTeW1ib2xdXG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHRoaXNbcmF3U3ltYm9sXSA9IHZhbFxuICAgIH1cbiAgfVxufSlcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShwaW5vUmVxUHJvdG8sIHJhd1N5bWJvbCwge1xuICB3cml0YWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHt9XG59KVxuXG5mdW5jdGlvbiByZXFTZXJpYWxpemVyIChyZXEpIHtcbiAgLy8gcmVxLmluZm8gaXMgZm9yIGhhcGkgY29tcGF0LlxuICBjb25zdCBjb25uZWN0aW9uID0gcmVxLmluZm8gfHwgcmVxLnNvY2tldFxuICBjb25zdCBfcmVxID0gT2JqZWN0LmNyZWF0ZShwaW5vUmVxUHJvdG8pXG4gIF9yZXEuaWQgPSAodHlwZW9mIHJlcS5pZCA9PT0gJ2Z1bmN0aW9uJyA/IHJlcS5pZCgpIDogKHJlcS5pZCB8fCAocmVxLmluZm8gPyByZXEuaW5mby5pZCA6IHVuZGVmaW5lZCkpKVxuICBfcmVxLm1ldGhvZCA9IHJlcS5tZXRob2RcbiAgLy8gcmVxLm9yaWdpbmFsVXJsIGlzIGZvciBleHByZXNzanMgY29tcGF0LlxuICBpZiAocmVxLm9yaWdpbmFsVXJsKSB7XG4gICAgX3JlcS51cmwgPSByZXEub3JpZ2luYWxVcmxcbiAgICBfcmVxLnF1ZXJ5ID0gcmVxLnF1ZXJ5XG4gICAgX3JlcS5wYXJhbXMgPSByZXEucGFyYW1zXG4gIH0gZWxzZSB7XG4gICAgLy8gcmVxLnVybC5wYXRoIGlzICBmb3IgaGFwaSBjb21wYXQuXG4gICAgX3JlcS51cmwgPSByZXEucGF0aCB8fCAocmVxLnVybCA/IChyZXEudXJsLnBhdGggfHwgcmVxLnVybCkgOiB1bmRlZmluZWQpXG4gIH1cbiAgX3JlcS5oZWFkZXJzID0gcmVxLmhlYWRlcnNcbiAgX3JlcS5yZW1vdGVBZGRyZXNzID0gY29ubmVjdGlvbiAmJiBjb25uZWN0aW9uLnJlbW90ZUFkZHJlc3NcbiAgX3JlcS5yZW1vdGVQb3J0ID0gY29ubmVjdGlvbiAmJiBjb25uZWN0aW9uLnJlbW90ZVBvcnRcbiAgLy8gcmVxLnJhdyBpcyAgZm9yIGhhcGkgY29tcGF0L2VxdWl2YWxlbmNlXG4gIF9yZXEucmF3ID0gcmVxLnJhdyB8fCByZXFcbiAgcmV0dXJuIF9yZXFcbn1cblxuZnVuY3Rpb24gbWFwSHR0cFJlcXVlc3QgKHJlcSkge1xuICByZXR1cm4ge1xuICAgIHJlcTogcmVxU2VyaWFsaXplcihyZXEpXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/req.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/res.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/res.js ***!
  \*****************************************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = {\n  mapHttpResponse,\n  resSerializer\n}\n\nconst rawSymbol = Symbol('pino-raw-res-ref')\nconst pinoResProto = Object.create({}, {\n  statusCode: {\n    enumerable: true,\n    writable: true,\n    value: 0\n  },\n  headers: {\n    enumerable: true,\n    writable: true,\n    value: ''\n  },\n  raw: {\n    enumerable: false,\n    get: function () {\n      return this[rawSymbol]\n    },\n    set: function (val) {\n      this[rawSymbol] = val\n    }\n  }\n})\nObject.defineProperty(pinoResProto, rawSymbol, {\n  writable: true,\n  value: {}\n})\n\nfunction resSerializer (res) {\n  const _res = Object.create(pinoResProto)\n  _res.statusCode = res.statusCode\n  _res.headers = res.getHeaders ? res.getHeaders() : res._headers\n  _res.raw = res\n  return _res\n}\n\nfunction mapHttpResponse (res) {\n  return {\n    res: resSerializer(res)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vLXN0ZC1zZXJpYWxpemVycy9saWIvcmVzLmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vLXN0ZC1zZXJpYWxpemVycy9saWIvcmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbWFwSHR0cFJlc3BvbnNlLFxuICByZXNTZXJpYWxpemVyXG59XG5cbmNvbnN0IHJhd1N5bWJvbCA9IFN5bWJvbCgncGluby1yYXctcmVzLXJlZicpXG5jb25zdCBwaW5vUmVzUHJvdG8gPSBPYmplY3QuY3JlYXRlKHt9LCB7XG4gIHN0YXR1c0NvZGU6IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiAwXG4gIH0sXG4gIGhlYWRlcnM6IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiAnJ1xuICB9LFxuICByYXc6IHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzW3Jhd1N5bWJvbF1cbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgdGhpc1tyYXdTeW1ib2xdID0gdmFsXG4gICAgfVxuICB9XG59KVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHBpbm9SZXNQcm90bywgcmF3U3ltYm9sLCB7XG4gIHdyaXRhYmxlOiB0cnVlLFxuICB2YWx1ZToge31cbn0pXG5cbmZ1bmN0aW9uIHJlc1NlcmlhbGl6ZXIgKHJlcykge1xuICBjb25zdCBfcmVzID0gT2JqZWN0LmNyZWF0ZShwaW5vUmVzUHJvdG8pXG4gIF9yZXMuc3RhdHVzQ29kZSA9IHJlcy5zdGF0dXNDb2RlXG4gIF9yZXMuaGVhZGVycyA9IHJlcy5nZXRIZWFkZXJzID8gcmVzLmdldEhlYWRlcnMoKSA6IHJlcy5faGVhZGVyc1xuICBfcmVzLnJhdyA9IHJlc1xuICByZXR1cm4gX3Jlc1xufVxuXG5mdW5jdGlvbiBtYXBIdHRwUmVzcG9uc2UgKHJlcykge1xuICByZXR1cm4ge1xuICAgIHJlczogcmVzU2VyaWFsaXplcihyZXMpXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/lib/res.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/caller.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/caller.js ***!
  \****************************************************************************/
/***/ ((module) => {

eval("\n\nfunction noOpPrepareStackTrace (_, stack) {\n  return stack\n}\n\nmodule.exports = function getCallers () {\n  const originalPrepare = Error.prepareStackTrace\n  Error.prepareStackTrace = noOpPrepareStackTrace\n  const stack = new Error().stack\n  Error.prepareStackTrace = originalPrepare\n\n  if (!Array.isArray(stack)) {\n    return undefined\n  }\n\n  const entries = stack.slice(2)\n\n  const fileNames = []\n\n  for (const entry of entries) {\n    if (!entry) {\n      continue\n    }\n\n    fileNames.push(entry.getFileName())\n  }\n\n  return fileNames\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi9jYWxsZXIuanMiLCJtYXBwaW5ncyI6IkFBQVk7O0FBRVo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi9jYWxsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIG5vT3BQcmVwYXJlU3RhY2tUcmFjZSAoXywgc3RhY2spIHtcbiAgcmV0dXJuIHN0YWNrXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0Q2FsbGVycyAoKSB7XG4gIGNvbnN0IG9yaWdpbmFsUHJlcGFyZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlXG4gIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gbm9PcFByZXBhcmVTdGFja1RyYWNlXG4gIGNvbnN0IHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2tcbiAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBvcmlnaW5hbFByZXBhcmVcblxuICBpZiAoIUFycmF5LmlzQXJyYXkoc3RhY2spKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgY29uc3QgZW50cmllcyA9IHN0YWNrLnNsaWNlKDIpXG5cbiAgY29uc3QgZmlsZU5hbWVzID0gW11cblxuICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGZpbGVOYW1lcy5wdXNoKGVudHJ5LmdldEZpbGVOYW1lKCkpXG4gIH1cblxuICByZXR1cm4gZmlsZU5hbWVzXG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/caller.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/deprecations.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/deprecations.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst warning = __webpack_require__(/*! process-warning */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/process-warning/index.js\")()\nmodule.exports = warning\n\nconst warnName = 'PinoWarning'\n\nwarning.create(warnName, 'PINODEP008', 'prettyPrint is deprecated, look at https://github.com/pinojs/pino-pretty for alternatives.')\n\nwarning.create(warnName, 'PINODEP009', 'The use of pino.final is discouraged in Node.js v14+ and not required. It will be removed in the next major version')\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi9kZXByZWNhdGlvbnMuanMiLCJtYXBwaW5ncyI6IkFBQVk7O0FBRVosZ0JBQWdCLG1CQUFPLENBQUMseUdBQWlCO0FBQ3pDOztBQUVBOztBQUVBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9sb2dnZXIvbm9kZV9tb2R1bGVzL3Bpbm8vbGliL2RlcHJlY2F0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3Qgd2FybmluZyA9IHJlcXVpcmUoJ3Byb2Nlc3Mtd2FybmluZycpKClcbm1vZHVsZS5leHBvcnRzID0gd2FybmluZ1xuXG5jb25zdCB3YXJuTmFtZSA9ICdQaW5vV2FybmluZydcblxud2FybmluZy5jcmVhdGUod2Fybk5hbWUsICdQSU5PREVQMDA4JywgJ3ByZXR0eVByaW50IGlzIGRlcHJlY2F0ZWQsIGxvb2sgYXQgaHR0cHM6Ly9naXRodWIuY29tL3Bpbm9qcy9waW5vLXByZXR0eSBmb3IgYWx0ZXJuYXRpdmVzLicpXG5cbndhcm5pbmcuY3JlYXRlKHdhcm5OYW1lLCAnUElOT0RFUDAwOScsICdUaGUgdXNlIG9mIHBpbm8uZmluYWwgaXMgZGlzY291cmFnZWQgaW4gTm9kZS5qcyB2MTQrIGFuZCBub3QgcmVxdWlyZWQuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uJylcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/deprecations.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/levels.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/levels.js ***!
  \****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n/* eslint no-prototype-builtins: 0 */\nconst {\n  lsCacheSym,\n  levelValSym,\n  useOnlyCustomLevelsSym,\n  streamSym,\n  formattersSym,\n  hooksSym\n} = __webpack_require__(/*! ./symbols */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/symbols.js\")\nconst { noop, genLog } = __webpack_require__(/*! ./tools */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/tools.js\")\n\nconst levels = {\n  trace: 10,\n  debug: 20,\n  info: 30,\n  warn: 40,\n  error: 50,\n  fatal: 60\n}\nconst levelMethods = {\n  fatal: (hook) => {\n    const logFatal = genLog(levels.fatal, hook)\n    return function (...args) {\n      const stream = this[streamSym]\n      logFatal.call(this, ...args)\n      if (typeof stream.flushSync === 'function') {\n        try {\n          stream.flushSync()\n        } catch (e) {\n          // https://github.com/pinojs/pino/pull/740#discussion_r346788313\n        }\n      }\n    }\n  },\n  error: (hook) => genLog(levels.error, hook),\n  warn: (hook) => genLog(levels.warn, hook),\n  info: (hook) => genLog(levels.info, hook),\n  debug: (hook) => genLog(levels.debug, hook),\n  trace: (hook) => genLog(levels.trace, hook)\n}\n\nconst nums = Object.keys(levels).reduce((o, k) => {\n  o[levels[k]] = k\n  return o\n}, {})\n\nconst initialLsCache = Object.keys(nums).reduce((o, k) => {\n  o[k] = '{\"level\":' + Number(k)\n  return o\n}, {})\n\nfunction genLsCache (instance) {\n  const formatter = instance[formattersSym].level\n  const { labels } = instance.levels\n  const cache = {}\n  for (const label in labels) {\n    const level = formatter(labels[label], Number(label))\n    cache[label] = JSON.stringify(level).slice(0, -1)\n  }\n  instance[lsCacheSym] = cache\n  return instance\n}\n\nfunction isStandardLevel (level, useOnlyCustomLevels) {\n  if (useOnlyCustomLevels) {\n    return false\n  }\n\n  switch (level) {\n    case 'fatal':\n    case 'error':\n    case 'warn':\n    case 'info':\n    case 'debug':\n    case 'trace':\n      return true\n    default:\n      return false\n  }\n}\n\nfunction setLevel (level) {\n  const { labels, values } = this.levels\n  if (typeof level === 'number') {\n    if (labels[level] === undefined) throw Error('unknown level value' + level)\n    level = labels[level]\n  }\n  if (values[level] === undefined) throw Error('unknown level ' + level)\n  const preLevelVal = this[levelValSym]\n  const levelVal = this[levelValSym] = values[level]\n  const useOnlyCustomLevelsVal = this[useOnlyCustomLevelsSym]\n  const hook = this[hooksSym].logMethod\n\n  for (const key in values) {\n    if (levelVal > values[key]) {\n      this[key] = noop\n      continue\n    }\n    this[key] = isStandardLevel(key, useOnlyCustomLevelsVal) ? levelMethods[key](hook) : genLog(values[key], hook)\n  }\n\n  this.emit(\n    'level-change',\n    level,\n    levelVal,\n    labels[preLevelVal],\n    preLevelVal\n  )\n}\n\nfunction getLevel (level) {\n  const { levels, levelVal } = this\n  // protection against potential loss of Pino scope from serializers (edge case with circular refs - https://github.com/pinojs/pino/issues/833)\n  return (levels && levels.labels) ? levels.labels[levelVal] : ''\n}\n\nfunction isLevelEnabled (logLevel) {\n  const { values } = this.levels\n  const logLevelVal = values[logLevel]\n  return logLevelVal !== undefined && (logLevelVal >= this[levelValSym])\n}\n\nfunction mappings (customLevels = null, useOnlyCustomLevels = false) {\n  const customNums = customLevels\n    /* eslint-disable */\n    ? Object.keys(customLevels).reduce((o, k) => {\n        o[customLevels[k]] = k\n        return o\n      }, {})\n    : null\n    /* eslint-enable */\n\n  const labels = Object.assign(\n    Object.create(Object.prototype, { Infinity: { value: 'silent' } }),\n    useOnlyCustomLevels ? null : nums,\n    customNums\n  )\n  const values = Object.assign(\n    Object.create(Object.prototype, { silent: { value: Infinity } }),\n    useOnlyCustomLevels ? null : levels,\n    customLevels\n  )\n  return { labels, values }\n}\n\nfunction assertDefaultLevelFound (defaultLevel, customLevels, useOnlyCustomLevels) {\n  if (typeof defaultLevel === 'number') {\n    const values = [].concat(\n      Object.keys(customLevels || {}).map(key => customLevels[key]),\n      useOnlyCustomLevels ? [] : Object.keys(nums).map(level => +level),\n      Infinity\n    )\n    if (!values.includes(defaultLevel)) {\n      throw Error(`default level:${defaultLevel} must be included in custom levels`)\n    }\n    return\n  }\n\n  const labels = Object.assign(\n    Object.create(Object.prototype, { silent: { value: Infinity } }),\n    useOnlyCustomLevels ? null : levels,\n    customLevels\n  )\n  if (!(defaultLevel in labels)) {\n    throw Error(`default level:${defaultLevel} must be included in custom levels`)\n  }\n}\n\nfunction assertNoLevelCollisions (levels, customLevels) {\n  const { labels, values } = levels\n  for (const k in customLevels) {\n    if (k in values) {\n      throw Error('levels cannot be overridden')\n    }\n    if (customLevels[k] in labels) {\n      throw Error('pre-existing level values cannot be used for new levels')\n    }\n  }\n}\n\nmodule.exports = {\n  initialLsCache,\n  genLsCache,\n  levelMethods,\n  getLevel,\n  setLevel,\n  isLevelEnabled,\n  mappings,\n  levels,\n  assertNoLevelCollisions,\n  assertDefaultLevelFound\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi9sZXZlbHMuanMiLCJtYXBwaW5ncyI6IkFBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxFQUFFLG1CQUFPLENBQUMsOEZBQVc7QUFDdkIsUUFBUSxlQUFlLEVBQUUsbUJBQU8sQ0FBQywwRkFBUzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxJQUFJOztBQUVMO0FBQ0EsV0FBVztBQUNYO0FBQ0EsQ0FBQyxJQUFJOztBQUVMO0FBQ0E7QUFDQSxVQUFVLFNBQVM7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVLGlCQUFpQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsbUJBQW1CO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsU0FBUztBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxJQUFJO0FBQ1g7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQyxZQUFZLG1CQUFtQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxVQUFVLG1CQUFtQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGNBQWM7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0NBQXNDLFVBQVUsbUJBQW1CO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGNBQWM7QUFDL0M7QUFDQTs7QUFFQTtBQUNBLFVBQVUsaUJBQWlCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9ub2RlX21vZHVsZXMvcGluby9saWIvbGV2ZWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuLyogZXNsaW50IG5vLXByb3RvdHlwZS1idWlsdGluczogMCAqL1xuY29uc3Qge1xuICBsc0NhY2hlU3ltLFxuICBsZXZlbFZhbFN5bSxcbiAgdXNlT25seUN1c3RvbUxldmVsc1N5bSxcbiAgc3RyZWFtU3ltLFxuICBmb3JtYXR0ZXJzU3ltLFxuICBob29rc1N5bVxufSA9IHJlcXVpcmUoJy4vc3ltYm9scycpXG5jb25zdCB7IG5vb3AsIGdlbkxvZyB9ID0gcmVxdWlyZSgnLi90b29scycpXG5cbmNvbnN0IGxldmVscyA9IHtcbiAgdHJhY2U6IDEwLFxuICBkZWJ1ZzogMjAsXG4gIGluZm86IDMwLFxuICB3YXJuOiA0MCxcbiAgZXJyb3I6IDUwLFxuICBmYXRhbDogNjBcbn1cbmNvbnN0IGxldmVsTWV0aG9kcyA9IHtcbiAgZmF0YWw6IChob29rKSA9PiB7XG4gICAgY29uc3QgbG9nRmF0YWwgPSBnZW5Mb2cobGV2ZWxzLmZhdGFsLCBob29rKVxuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgY29uc3Qgc3RyZWFtID0gdGhpc1tzdHJlYW1TeW1dXG4gICAgICBsb2dGYXRhbC5jYWxsKHRoaXMsIC4uLmFyZ3MpXG4gICAgICBpZiAodHlwZW9mIHN0cmVhbS5mbHVzaFN5bmMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzdHJlYW0uZmx1c2hTeW5jKClcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9waW5vanMvcGluby9wdWxsLzc0MCNkaXNjdXNzaW9uX3IzNDY3ODgzMTNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZXJyb3I6IChob29rKSA9PiBnZW5Mb2cobGV2ZWxzLmVycm9yLCBob29rKSxcbiAgd2FybjogKGhvb2spID0+IGdlbkxvZyhsZXZlbHMud2FybiwgaG9vayksXG4gIGluZm86IChob29rKSA9PiBnZW5Mb2cobGV2ZWxzLmluZm8sIGhvb2spLFxuICBkZWJ1ZzogKGhvb2spID0+IGdlbkxvZyhsZXZlbHMuZGVidWcsIGhvb2spLFxuICB0cmFjZTogKGhvb2spID0+IGdlbkxvZyhsZXZlbHMudHJhY2UsIGhvb2spXG59XG5cbmNvbnN0IG51bXMgPSBPYmplY3Qua2V5cyhsZXZlbHMpLnJlZHVjZSgobywgaykgPT4ge1xuICBvW2xldmVsc1trXV0gPSBrXG4gIHJldHVybiBvXG59LCB7fSlcblxuY29uc3QgaW5pdGlhbExzQ2FjaGUgPSBPYmplY3Qua2V5cyhudW1zKS5yZWR1Y2UoKG8sIGspID0+IHtcbiAgb1trXSA9ICd7XCJsZXZlbFwiOicgKyBOdW1iZXIoaylcbiAgcmV0dXJuIG9cbn0sIHt9KVxuXG5mdW5jdGlvbiBnZW5Mc0NhY2hlIChpbnN0YW5jZSkge1xuICBjb25zdCBmb3JtYXR0ZXIgPSBpbnN0YW5jZVtmb3JtYXR0ZXJzU3ltXS5sZXZlbFxuICBjb25zdCB7IGxhYmVscyB9ID0gaW5zdGFuY2UubGV2ZWxzXG4gIGNvbnN0IGNhY2hlID0ge31cbiAgZm9yIChjb25zdCBsYWJlbCBpbiBsYWJlbHMpIHtcbiAgICBjb25zdCBsZXZlbCA9IGZvcm1hdHRlcihsYWJlbHNbbGFiZWxdLCBOdW1iZXIobGFiZWwpKVxuICAgIGNhY2hlW2xhYmVsXSA9IEpTT04uc3RyaW5naWZ5KGxldmVsKS5zbGljZSgwLCAtMSlcbiAgfVxuICBpbnN0YW5jZVtsc0NhY2hlU3ltXSA9IGNhY2hlXG4gIHJldHVybiBpbnN0YW5jZVxufVxuXG5mdW5jdGlvbiBpc1N0YW5kYXJkTGV2ZWwgKGxldmVsLCB1c2VPbmx5Q3VzdG9tTGV2ZWxzKSB7XG4gIGlmICh1c2VPbmx5Q3VzdG9tTGV2ZWxzKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgY2FzZSAnZmF0YWwnOlxuICAgIGNhc2UgJ2Vycm9yJzpcbiAgICBjYXNlICd3YXJuJzpcbiAgICBjYXNlICdpbmZvJzpcbiAgICBjYXNlICdkZWJ1Zyc6XG4gICAgY2FzZSAndHJhY2UnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0TGV2ZWwgKGxldmVsKSB7XG4gIGNvbnN0IHsgbGFiZWxzLCB2YWx1ZXMgfSA9IHRoaXMubGV2ZWxzXG4gIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKGxhYmVsc1tsZXZlbF0gPT09IHVuZGVmaW5lZCkgdGhyb3cgRXJyb3IoJ3Vua25vd24gbGV2ZWwgdmFsdWUnICsgbGV2ZWwpXG4gICAgbGV2ZWwgPSBsYWJlbHNbbGV2ZWxdXG4gIH1cbiAgaWYgKHZhbHVlc1tsZXZlbF0gPT09IHVuZGVmaW5lZCkgdGhyb3cgRXJyb3IoJ3Vua25vd24gbGV2ZWwgJyArIGxldmVsKVxuICBjb25zdCBwcmVMZXZlbFZhbCA9IHRoaXNbbGV2ZWxWYWxTeW1dXG4gIGNvbnN0IGxldmVsVmFsID0gdGhpc1tsZXZlbFZhbFN5bV0gPSB2YWx1ZXNbbGV2ZWxdXG4gIGNvbnN0IHVzZU9ubHlDdXN0b21MZXZlbHNWYWwgPSB0aGlzW3VzZU9ubHlDdXN0b21MZXZlbHNTeW1dXG4gIGNvbnN0IGhvb2sgPSB0aGlzW2hvb2tzU3ltXS5sb2dNZXRob2RcblxuICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZXMpIHtcbiAgICBpZiAobGV2ZWxWYWwgPiB2YWx1ZXNba2V5XSkge1xuICAgICAgdGhpc1trZXldID0gbm9vcFxuICAgICAgY29udGludWVcbiAgICB9XG4gICAgdGhpc1trZXldID0gaXNTdGFuZGFyZExldmVsKGtleSwgdXNlT25seUN1c3RvbUxldmVsc1ZhbCkgPyBsZXZlbE1ldGhvZHNba2V5XShob29rKSA6IGdlbkxvZyh2YWx1ZXNba2V5XSwgaG9vaylcbiAgfVxuXG4gIHRoaXMuZW1pdChcbiAgICAnbGV2ZWwtY2hhbmdlJyxcbiAgICBsZXZlbCxcbiAgICBsZXZlbFZhbCxcbiAgICBsYWJlbHNbcHJlTGV2ZWxWYWxdLFxuICAgIHByZUxldmVsVmFsXG4gIClcbn1cblxuZnVuY3Rpb24gZ2V0TGV2ZWwgKGxldmVsKSB7XG4gIGNvbnN0IHsgbGV2ZWxzLCBsZXZlbFZhbCB9ID0gdGhpc1xuICAvLyBwcm90ZWN0aW9uIGFnYWluc3QgcG90ZW50aWFsIGxvc3Mgb2YgUGlubyBzY29wZSBmcm9tIHNlcmlhbGl6ZXJzIChlZGdlIGNhc2Ugd2l0aCBjaXJjdWxhciByZWZzIC0gaHR0cHM6Ly9naXRodWIuY29tL3Bpbm9qcy9waW5vL2lzc3Vlcy84MzMpXG4gIHJldHVybiAobGV2ZWxzICYmIGxldmVscy5sYWJlbHMpID8gbGV2ZWxzLmxhYmVsc1tsZXZlbFZhbF0gOiAnJ1xufVxuXG5mdW5jdGlvbiBpc0xldmVsRW5hYmxlZCAobG9nTGV2ZWwpIHtcbiAgY29uc3QgeyB2YWx1ZXMgfSA9IHRoaXMubGV2ZWxzXG4gIGNvbnN0IGxvZ0xldmVsVmFsID0gdmFsdWVzW2xvZ0xldmVsXVxuICByZXR1cm4gbG9nTGV2ZWxWYWwgIT09IHVuZGVmaW5lZCAmJiAobG9nTGV2ZWxWYWwgPj0gdGhpc1tsZXZlbFZhbFN5bV0pXG59XG5cbmZ1bmN0aW9uIG1hcHBpbmdzIChjdXN0b21MZXZlbHMgPSBudWxsLCB1c2VPbmx5Q3VzdG9tTGV2ZWxzID0gZmFsc2UpIHtcbiAgY29uc3QgY3VzdG9tTnVtcyA9IGN1c3RvbUxldmVsc1xuICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgPyBPYmplY3Qua2V5cyhjdXN0b21MZXZlbHMpLnJlZHVjZSgobywgaykgPT4ge1xuICAgICAgICBvW2N1c3RvbUxldmVsc1trXV0gPSBrXG4gICAgICAgIHJldHVybiBvXG4gICAgICB9LCB7fSlcbiAgICA6IG51bGxcbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgY29uc3QgbGFiZWxzID0gT2JqZWN0LmFzc2lnbihcbiAgICBPYmplY3QuY3JlYXRlKE9iamVjdC5wcm90b3R5cGUsIHsgSW5maW5pdHk6IHsgdmFsdWU6ICdzaWxlbnQnIH0gfSksXG4gICAgdXNlT25seUN1c3RvbUxldmVscyA/IG51bGwgOiBudW1zLFxuICAgIGN1c3RvbU51bXNcbiAgKVxuICBjb25zdCB2YWx1ZXMgPSBPYmplY3QuYXNzaWduKFxuICAgIE9iamVjdC5jcmVhdGUoT2JqZWN0LnByb3RvdHlwZSwgeyBzaWxlbnQ6IHsgdmFsdWU6IEluZmluaXR5IH0gfSksXG4gICAgdXNlT25seUN1c3RvbUxldmVscyA/IG51bGwgOiBsZXZlbHMsXG4gICAgY3VzdG9tTGV2ZWxzXG4gIClcbiAgcmV0dXJuIHsgbGFiZWxzLCB2YWx1ZXMgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnREZWZhdWx0TGV2ZWxGb3VuZCAoZGVmYXVsdExldmVsLCBjdXN0b21MZXZlbHMsIHVzZU9ubHlDdXN0b21MZXZlbHMpIHtcbiAgaWYgKHR5cGVvZiBkZWZhdWx0TGV2ZWwgPT09ICdudW1iZXInKSB7XG4gICAgY29uc3QgdmFsdWVzID0gW10uY29uY2F0KFxuICAgICAgT2JqZWN0LmtleXMoY3VzdG9tTGV2ZWxzIHx8IHt9KS5tYXAoa2V5ID0+IGN1c3RvbUxldmVsc1trZXldKSxcbiAgICAgIHVzZU9ubHlDdXN0b21MZXZlbHMgPyBbXSA6IE9iamVjdC5rZXlzKG51bXMpLm1hcChsZXZlbCA9PiArbGV2ZWwpLFxuICAgICAgSW5maW5pdHlcbiAgICApXG4gICAgaWYgKCF2YWx1ZXMuaW5jbHVkZXMoZGVmYXVsdExldmVsKSkge1xuICAgICAgdGhyb3cgRXJyb3IoYGRlZmF1bHQgbGV2ZWw6JHtkZWZhdWx0TGV2ZWx9IG11c3QgYmUgaW5jbHVkZWQgaW4gY3VzdG9tIGxldmVsc2ApXG4gICAgfVxuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgbGFiZWxzID0gT2JqZWN0LmFzc2lnbihcbiAgICBPYmplY3QuY3JlYXRlKE9iamVjdC5wcm90b3R5cGUsIHsgc2lsZW50OiB7IHZhbHVlOiBJbmZpbml0eSB9IH0pLFxuICAgIHVzZU9ubHlDdXN0b21MZXZlbHMgPyBudWxsIDogbGV2ZWxzLFxuICAgIGN1c3RvbUxldmVsc1xuICApXG4gIGlmICghKGRlZmF1bHRMZXZlbCBpbiBsYWJlbHMpKSB7XG4gICAgdGhyb3cgRXJyb3IoYGRlZmF1bHQgbGV2ZWw6JHtkZWZhdWx0TGV2ZWx9IG11c3QgYmUgaW5jbHVkZWQgaW4gY3VzdG9tIGxldmVsc2ApXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0Tm9MZXZlbENvbGxpc2lvbnMgKGxldmVscywgY3VzdG9tTGV2ZWxzKSB7XG4gIGNvbnN0IHsgbGFiZWxzLCB2YWx1ZXMgfSA9IGxldmVsc1xuICBmb3IgKGNvbnN0IGsgaW4gY3VzdG9tTGV2ZWxzKSB7XG4gICAgaWYgKGsgaW4gdmFsdWVzKSB7XG4gICAgICB0aHJvdyBFcnJvcignbGV2ZWxzIGNhbm5vdCBiZSBvdmVycmlkZGVuJylcbiAgICB9XG4gICAgaWYgKGN1c3RvbUxldmVsc1trXSBpbiBsYWJlbHMpIHtcbiAgICAgIHRocm93IEVycm9yKCdwcmUtZXhpc3RpbmcgbGV2ZWwgdmFsdWVzIGNhbm5vdCBiZSB1c2VkIGZvciBuZXcgbGV2ZWxzJylcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGluaXRpYWxMc0NhY2hlLFxuICBnZW5Mc0NhY2hlLFxuICBsZXZlbE1ldGhvZHMsXG4gIGdldExldmVsLFxuICBzZXRMZXZlbCxcbiAgaXNMZXZlbEVuYWJsZWQsXG4gIG1hcHBpbmdzLFxuICBsZXZlbHMsXG4gIGFzc2VydE5vTGV2ZWxDb2xsaXNpb25zLFxuICBhc3NlcnREZWZhdWx0TGV2ZWxGb3VuZFxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/levels.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/meta.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/meta.js ***!
  \**************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst { version } = __webpack_require__(/*! ../package.json */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/package.json\")\n\nmodule.exports = { version }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi9tZXRhLmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaLFFBQVEsVUFBVSxFQUFFLG1CQUFPLENBQUMsa0dBQWlCOztBQUU3QyxtQkFBbUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9ub2RlX21vZHVsZXMvcGluby9saWIvbWV0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgeyB2ZXJzaW9uIH0gPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgdmVyc2lvbiB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/meta.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/multistream.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/multistream.js ***!
  \*********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst metadata = Symbol.for('pino.metadata')\nconst { levels } = __webpack_require__(/*! ./levels */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/levels.js\")\n\nconst defaultLevels = Object.create(levels)\ndefaultLevels.silent = Infinity\n\nconst DEFAULT_INFO_LEVEL = levels.info\n\nfunction multistream (streamsArray, opts) {\n  let counter = 0\n  streamsArray = streamsArray || []\n  opts = opts || { dedupe: false }\n\n  let levels = defaultLevels\n  if (opts.levels && typeof opts.levels === 'object') {\n    levels = opts.levels\n  }\n\n  const res = {\n    write,\n    add,\n    flushSync,\n    end,\n    minLevel: 0,\n    streams: [],\n    clone,\n    [metadata]: true\n  }\n\n  if (Array.isArray(streamsArray)) {\n    streamsArray.forEach(add, res)\n  } else {\n    add.call(res, streamsArray)\n  }\n\n  // clean this object up\n  // or it will stay allocated forever\n  // as it is closed on the following closures\n  streamsArray = null\n\n  return res\n\n  // we can exit early because the streams are ordered by level\n  function write (data) {\n    let dest\n    const level = this.lastLevel\n    const { streams } = this\n    let stream\n    for (let i = 0; i < streams.length; i++) {\n      dest = streams[i]\n      if (dest.level <= level) {\n        stream = dest.stream\n        if (stream[metadata]) {\n          const { lastTime, lastMsg, lastObj, lastLogger } = this\n          stream.lastLevel = level\n          stream.lastTime = lastTime\n          stream.lastMsg = lastMsg\n          stream.lastObj = lastObj\n          stream.lastLogger = lastLogger\n        }\n        if (!opts.dedupe || dest.level === level) {\n          stream.write(data)\n        }\n      } else {\n        break\n      }\n    }\n  }\n\n  function flushSync () {\n    for (const { stream } of this.streams) {\n      if (typeof stream.flushSync === 'function') {\n        stream.flushSync()\n      }\n    }\n  }\n\n  function add (dest) {\n    if (!dest) {\n      return res\n    }\n\n    // Check that dest implements either StreamEntry or DestinationStream\n    const isStream = typeof dest.write === 'function' || dest.stream\n    const stream_ = dest.write ? dest : dest.stream\n    // This is necessary to provide a meaningful error message, otherwise it throws somewhere inside write()\n    if (!isStream) {\n      throw Error('stream object needs to implement either StreamEntry or DestinationStream interface')\n    }\n\n    const { streams } = this\n\n    let level\n    if (typeof dest.levelVal === 'number') {\n      level = dest.levelVal\n    } else if (typeof dest.level === 'string') {\n      level = levels[dest.level]\n    } else if (typeof dest.level === 'number') {\n      level = dest.level\n    } else {\n      level = DEFAULT_INFO_LEVEL\n    }\n\n    const dest_ = {\n      stream: stream_,\n      level,\n      levelVal: undefined,\n      id: counter++\n    }\n\n    streams.unshift(dest_)\n    streams.sort(compareByLevel)\n\n    this.minLevel = streams[0].level\n\n    return res\n  }\n\n  function end () {\n    for (const { stream } of this.streams) {\n      if (typeof stream.flushSync === 'function') {\n        stream.flushSync()\n      }\n      stream.end()\n    }\n  }\n\n  function clone (level) {\n    const streams = new Array(this.streams.length)\n\n    for (let i = 0; i < streams.length; i++) {\n      streams[i] = {\n        level: level,\n        stream: this.streams[i].stream\n      }\n    }\n\n    return {\n      write,\n      add,\n      minLevel: level,\n      streams,\n      clone,\n      flushSync,\n      [metadata]: true\n    }\n  }\n}\n\nfunction compareByLevel (a, b) {\n  return a.level - b.level\n}\n\nmodule.exports = multistream\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi9tdWx0aXN0cmVhbS5qcyIsIm1hcHBpbmdzIjoiQUFBWTs7QUFFWjtBQUNBLFFBQVEsU0FBUyxFQUFFLG1CQUFPLENBQUMsNEZBQVU7O0FBRXJDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHlDQUF5QztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVksVUFBVTs7QUFFdEI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi9tdWx0aXN0cmVhbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgbWV0YWRhdGEgPSBTeW1ib2wuZm9yKCdwaW5vLm1ldGFkYXRhJylcbmNvbnN0IHsgbGV2ZWxzIH0gPSByZXF1aXJlKCcuL2xldmVscycpXG5cbmNvbnN0IGRlZmF1bHRMZXZlbHMgPSBPYmplY3QuY3JlYXRlKGxldmVscylcbmRlZmF1bHRMZXZlbHMuc2lsZW50ID0gSW5maW5pdHlcblxuY29uc3QgREVGQVVMVF9JTkZPX0xFVkVMID0gbGV2ZWxzLmluZm9cblxuZnVuY3Rpb24gbXVsdGlzdHJlYW0gKHN0cmVhbXNBcnJheSwgb3B0cykge1xuICBsZXQgY291bnRlciA9IDBcbiAgc3RyZWFtc0FycmF5ID0gc3RyZWFtc0FycmF5IHx8IFtdXG4gIG9wdHMgPSBvcHRzIHx8IHsgZGVkdXBlOiBmYWxzZSB9XG5cbiAgbGV0IGxldmVscyA9IGRlZmF1bHRMZXZlbHNcbiAgaWYgKG9wdHMubGV2ZWxzICYmIHR5cGVvZiBvcHRzLmxldmVscyA9PT0gJ29iamVjdCcpIHtcbiAgICBsZXZlbHMgPSBvcHRzLmxldmVsc1xuICB9XG5cbiAgY29uc3QgcmVzID0ge1xuICAgIHdyaXRlLFxuICAgIGFkZCxcbiAgICBmbHVzaFN5bmMsXG4gICAgZW5kLFxuICAgIG1pbkxldmVsOiAwLFxuICAgIHN0cmVhbXM6IFtdLFxuICAgIGNsb25lLFxuICAgIFttZXRhZGF0YV06IHRydWVcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHN0cmVhbXNBcnJheSkpIHtcbiAgICBzdHJlYW1zQXJyYXkuZm9yRWFjaChhZGQsIHJlcylcbiAgfSBlbHNlIHtcbiAgICBhZGQuY2FsbChyZXMsIHN0cmVhbXNBcnJheSlcbiAgfVxuXG4gIC8vIGNsZWFuIHRoaXMgb2JqZWN0IHVwXG4gIC8vIG9yIGl0IHdpbGwgc3RheSBhbGxvY2F0ZWQgZm9yZXZlclxuICAvLyBhcyBpdCBpcyBjbG9zZWQgb24gdGhlIGZvbGxvd2luZyBjbG9zdXJlc1xuICBzdHJlYW1zQXJyYXkgPSBudWxsXG5cbiAgcmV0dXJuIHJlc1xuXG4gIC8vIHdlIGNhbiBleGl0IGVhcmx5IGJlY2F1c2UgdGhlIHN0cmVhbXMgYXJlIG9yZGVyZWQgYnkgbGV2ZWxcbiAgZnVuY3Rpb24gd3JpdGUgKGRhdGEpIHtcbiAgICBsZXQgZGVzdFxuICAgIGNvbnN0IGxldmVsID0gdGhpcy5sYXN0TGV2ZWxcbiAgICBjb25zdCB7IHN0cmVhbXMgfSA9IHRoaXNcbiAgICBsZXQgc3RyZWFtXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJlYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZXN0ID0gc3RyZWFtc1tpXVxuICAgICAgaWYgKGRlc3QubGV2ZWwgPD0gbGV2ZWwpIHtcbiAgICAgICAgc3RyZWFtID0gZGVzdC5zdHJlYW1cbiAgICAgICAgaWYgKHN0cmVhbVttZXRhZGF0YV0pIHtcbiAgICAgICAgICBjb25zdCB7IGxhc3RUaW1lLCBsYXN0TXNnLCBsYXN0T2JqLCBsYXN0TG9nZ2VyIH0gPSB0aGlzXG4gICAgICAgICAgc3RyZWFtLmxhc3RMZXZlbCA9IGxldmVsXG4gICAgICAgICAgc3RyZWFtLmxhc3RUaW1lID0gbGFzdFRpbWVcbiAgICAgICAgICBzdHJlYW0ubGFzdE1zZyA9IGxhc3RNc2dcbiAgICAgICAgICBzdHJlYW0ubGFzdE9iaiA9IGxhc3RPYmpcbiAgICAgICAgICBzdHJlYW0ubGFzdExvZ2dlciA9IGxhc3RMb2dnZXJcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdHMuZGVkdXBlIHx8IGRlc3QubGV2ZWwgPT09IGxldmVsKSB7XG4gICAgICAgICAgc3RyZWFtLndyaXRlKGRhdGEpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2hTeW5jICgpIHtcbiAgICBmb3IgKGNvbnN0IHsgc3RyZWFtIH0gb2YgdGhpcy5zdHJlYW1zKSB7XG4gICAgICBpZiAodHlwZW9mIHN0cmVhbS5mbHVzaFN5bmMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgc3RyZWFtLmZsdXNoU3luYygpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkIChkZXN0KSB7XG4gICAgaWYgKCFkZXN0KSB7XG4gICAgICByZXR1cm4gcmVzXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdGhhdCBkZXN0IGltcGxlbWVudHMgZWl0aGVyIFN0cmVhbUVudHJ5IG9yIERlc3RpbmF0aW9uU3RyZWFtXG4gICAgY29uc3QgaXNTdHJlYW0gPSB0eXBlb2YgZGVzdC53cml0ZSA9PT0gJ2Z1bmN0aW9uJyB8fCBkZXN0LnN0cmVhbVxuICAgIGNvbnN0IHN0cmVhbV8gPSBkZXN0LndyaXRlID8gZGVzdCA6IGRlc3Quc3RyZWFtXG4gICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgdG8gcHJvdmlkZSBhIG1lYW5pbmdmdWwgZXJyb3IgbWVzc2FnZSwgb3RoZXJ3aXNlIGl0IHRocm93cyBzb21ld2hlcmUgaW5zaWRlIHdyaXRlKClcbiAgICBpZiAoIWlzU3RyZWFtKSB7XG4gICAgICB0aHJvdyBFcnJvcignc3RyZWFtIG9iamVjdCBuZWVkcyB0byBpbXBsZW1lbnQgZWl0aGVyIFN0cmVhbUVudHJ5IG9yIERlc3RpbmF0aW9uU3RyZWFtIGludGVyZmFjZScpXG4gICAgfVxuXG4gICAgY29uc3QgeyBzdHJlYW1zIH0gPSB0aGlzXG5cbiAgICBsZXQgbGV2ZWxcbiAgICBpZiAodHlwZW9mIGRlc3QubGV2ZWxWYWwgPT09ICdudW1iZXInKSB7XG4gICAgICBsZXZlbCA9IGRlc3QubGV2ZWxWYWxcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZXN0LmxldmVsID09PSAnc3RyaW5nJykge1xuICAgICAgbGV2ZWwgPSBsZXZlbHNbZGVzdC5sZXZlbF1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZXN0LmxldmVsID09PSAnbnVtYmVyJykge1xuICAgICAgbGV2ZWwgPSBkZXN0LmxldmVsXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldmVsID0gREVGQVVMVF9JTkZPX0xFVkVMXG4gICAgfVxuXG4gICAgY29uc3QgZGVzdF8gPSB7XG4gICAgICBzdHJlYW06IHN0cmVhbV8sXG4gICAgICBsZXZlbCxcbiAgICAgIGxldmVsVmFsOiB1bmRlZmluZWQsXG4gICAgICBpZDogY291bnRlcisrXG4gICAgfVxuXG4gICAgc3RyZWFtcy51bnNoaWZ0KGRlc3RfKVxuICAgIHN0cmVhbXMuc29ydChjb21wYXJlQnlMZXZlbClcblxuICAgIHRoaXMubWluTGV2ZWwgPSBzdHJlYW1zWzBdLmxldmVsXG5cbiAgICByZXR1cm4gcmVzXG4gIH1cblxuICBmdW5jdGlvbiBlbmQgKCkge1xuICAgIGZvciAoY29uc3QgeyBzdHJlYW0gfSBvZiB0aGlzLnN0cmVhbXMpIHtcbiAgICAgIGlmICh0eXBlb2Ygc3RyZWFtLmZsdXNoU3luYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzdHJlYW0uZmx1c2hTeW5jKClcbiAgICAgIH1cbiAgICAgIHN0cmVhbS5lbmQoKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb25lIChsZXZlbCkge1xuICAgIGNvbnN0IHN0cmVhbXMgPSBuZXcgQXJyYXkodGhpcy5zdHJlYW1zLmxlbmd0aClcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyZWFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgc3RyZWFtc1tpXSA9IHtcbiAgICAgICAgbGV2ZWw6IGxldmVsLFxuICAgICAgICBzdHJlYW06IHRoaXMuc3RyZWFtc1tpXS5zdHJlYW1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGUsXG4gICAgICBhZGQsXG4gICAgICBtaW5MZXZlbDogbGV2ZWwsXG4gICAgICBzdHJlYW1zLFxuICAgICAgY2xvbmUsXG4gICAgICBmbHVzaFN5bmMsXG4gICAgICBbbWV0YWRhdGFdOiB0cnVlXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVCeUxldmVsIChhLCBiKSB7XG4gIHJldHVybiBhLmxldmVsIC0gYi5sZXZlbFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG11bHRpc3RyZWFtXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/multistream.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/proto.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/proto.js ***!
  \***************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/* eslint no-prototype-builtins: 0 */\n\nconst { EventEmitter } = __webpack_require__(/*! events */ \"events\")\nconst {\n  lsCacheSym,\n  levelValSym,\n  setLevelSym,\n  getLevelSym,\n  chindingsSym,\n  parsedChindingsSym,\n  mixinSym,\n  asJsonSym,\n  writeSym,\n  mixinMergeStrategySym,\n  timeSym,\n  timeSliceIndexSym,\n  streamSym,\n  serializersSym,\n  formattersSym,\n  useOnlyCustomLevelsSym,\n  needsMetadataGsym,\n  redactFmtSym,\n  stringifySym,\n  formatOptsSym,\n  stringifiersSym\n} = __webpack_require__(/*! ./symbols */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/symbols.js\")\nconst {\n  getLevel,\n  setLevel,\n  isLevelEnabled,\n  mappings,\n  initialLsCache,\n  genLsCache,\n  assertNoLevelCollisions\n} = __webpack_require__(/*! ./levels */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/levels.js\")\nconst {\n  asChindings,\n  asJson,\n  buildFormatters,\n  stringify\n} = __webpack_require__(/*! ./tools */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/tools.js\")\nconst {\n  version\n} = __webpack_require__(/*! ./meta */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/meta.js\")\nconst redaction = __webpack_require__(/*! ./redaction */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/redaction.js\")\n\n// note: use of class is satirical\n// https://github.com/pinojs/pino/pull/433#pullrequestreview-127703127\nconst constructor = class Pino {}\nconst prototype = {\n  constructor,\n  child,\n  bindings,\n  setBindings,\n  flush,\n  isLevelEnabled,\n  version,\n  get level () { return this[getLevelSym]() },\n  set level (lvl) { this[setLevelSym](lvl) },\n  get levelVal () { return this[levelValSym] },\n  set levelVal (n) { throw Error('levelVal is read-only') },\n  [lsCacheSym]: initialLsCache,\n  [writeSym]: write,\n  [asJsonSym]: asJson,\n  [getLevelSym]: getLevel,\n  [setLevelSym]: setLevel\n}\n\nObject.setPrototypeOf(prototype, EventEmitter.prototype)\n\n// exporting and consuming the prototype object using factory pattern fixes scoping issues with getters when serializing\nmodule.exports = function () {\n  return Object.create(prototype)\n}\n\nconst resetChildingsFormatter = bindings => bindings\nfunction child (bindings, options) {\n  if (!bindings) {\n    throw Error('missing bindings for child Pino')\n  }\n  options = options || {} // default options to empty object\n  const serializers = this[serializersSym]\n  const formatters = this[formattersSym]\n  const instance = Object.create(this)\n\n  if (options.hasOwnProperty('serializers') === true) {\n    instance[serializersSym] = Object.create(null)\n\n    for (const k in serializers) {\n      instance[serializersSym][k] = serializers[k]\n    }\n    const parentSymbols = Object.getOwnPropertySymbols(serializers)\n    /* eslint no-var: off */\n    for (var i = 0; i < parentSymbols.length; i++) {\n      const ks = parentSymbols[i]\n      instance[serializersSym][ks] = serializers[ks]\n    }\n\n    for (const bk in options.serializers) {\n      instance[serializersSym][bk] = options.serializers[bk]\n    }\n    const bindingsSymbols = Object.getOwnPropertySymbols(options.serializers)\n    for (var bi = 0; bi < bindingsSymbols.length; bi++) {\n      const bks = bindingsSymbols[bi]\n      instance[serializersSym][bks] = options.serializers[bks]\n    }\n  } else instance[serializersSym] = serializers\n  if (options.hasOwnProperty('formatters')) {\n    const { level, bindings: chindings, log } = options.formatters\n    instance[formattersSym] = buildFormatters(\n      level || formatters.level,\n      chindings || resetChildingsFormatter,\n      log || formatters.log\n    )\n  } else {\n    instance[formattersSym] = buildFormatters(\n      formatters.level,\n      resetChildingsFormatter,\n      formatters.log\n    )\n  }\n  if (options.hasOwnProperty('customLevels') === true) {\n    assertNoLevelCollisions(this.levels, options.customLevels)\n    instance.levels = mappings(options.customLevels, instance[useOnlyCustomLevelsSym])\n    genLsCache(instance)\n  }\n\n  // redact must place before asChindings and only replace if exist\n  if ((typeof options.redact === 'object' && options.redact !== null) || Array.isArray(options.redact)) {\n    instance.redact = options.redact // replace redact directly\n    const stringifiers = redaction(instance.redact, stringify)\n    const formatOpts = { stringify: stringifiers[redactFmtSym] }\n    instance[stringifySym] = stringify\n    instance[stringifiersSym] = stringifiers\n    instance[formatOptsSym] = formatOpts\n  }\n\n  instance[chindingsSym] = asChindings(instance, bindings)\n  const childLevel = options.level || this.level\n  instance[setLevelSym](childLevel)\n\n  return instance\n}\n\nfunction bindings () {\n  const chindings = this[chindingsSym]\n  const chindingsJson = `{${chindings.substr(1)}}` // at least contains ,\"pid\":7068,\"hostname\":\"myMac\"\n  const bindingsFromJson = JSON.parse(chindingsJson)\n  delete bindingsFromJson.pid\n  delete bindingsFromJson.hostname\n  return bindingsFromJson\n}\n\nfunction setBindings (newBindings) {\n  const chindings = asChindings(this, newBindings)\n  this[chindingsSym] = chindings\n  delete this[parsedChindingsSym]\n}\n\n/**\n * Default strategy for creating `mergeObject` from arguments and the result from `mixin()`.\n * Fields from `mergeObject` have higher priority in this strategy.\n *\n * @param {Object} mergeObject The object a user has supplied to the logging function.\n * @param {Object} mixinObject The result of the `mixin` method.\n * @return {Object}\n */\nfunction defaultMixinMergeStrategy (mergeObject, mixinObject) {\n  return Object.assign(mixinObject, mergeObject)\n}\n\nfunction write (_obj, msg, num) {\n  const t = this[timeSym]()\n  const mixin = this[mixinSym]\n  const mixinMergeStrategy = this[mixinMergeStrategySym] || defaultMixinMergeStrategy\n  let obj\n\n  if (_obj === undefined || _obj === null) {\n    obj = {}\n  } else if (_obj instanceof Error) {\n    obj = { err: _obj }\n    if (msg === undefined) {\n      msg = _obj.message\n    }\n  } else {\n    obj = _obj\n    if (msg === undefined && _obj.err) {\n      msg = _obj.err.message\n    }\n  }\n\n  if (mixin) {\n    obj = mixinMergeStrategy(obj, mixin(obj, num))\n  }\n\n  const s = this[asJsonSym](obj, msg, num, t)\n\n  const stream = this[streamSym]\n  if (stream[needsMetadataGsym] === true) {\n    stream.lastLevel = num\n    stream.lastObj = obj\n    stream.lastMsg = msg\n    stream.lastTime = t.slice(this[timeSliceIndexSym])\n    stream.lastLogger = this // for child loggers\n  }\n  stream.write(s)\n}\n\nfunction noop () {}\n\nfunction flush () {\n  const stream = this[streamSym]\n  if ('flush' in stream) stream.flush(noop)\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi9wcm90by5qcyIsIm1hcHBpbmdzIjoiQUFBWTs7QUFFWjs7QUFFQSxRQUFRLGVBQWUsRUFBRSxtQkFBTyxDQUFDLHNCQUFRO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxFQUFFLG1CQUFPLENBQUMsOEZBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSxtQkFBTyxDQUFDLDRGQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLEVBQUUsbUJBQU8sQ0FBQywwRkFBUztBQUNyQjtBQUNBO0FBQ0EsRUFBRSxFQUFFLG1CQUFPLENBQUMsd0ZBQVE7QUFDcEIsa0JBQWtCLG1CQUFPLENBQUMsa0dBQWE7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNEJBQTRCO0FBQzdDLG9CQUFvQix3QkFBd0I7QUFDNUMsb0JBQW9CLDBCQUEwQjtBQUM5QyxxQkFBcUIsc0NBQXNDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMEJBQTBCO0FBQzlDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2QkFBNkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsWUFBWSxrQ0FBa0M7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEIsRUFBRSxxQkFBcUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9ub2RlX21vZHVsZXMvcGluby9saWIvcHJvdG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbi8qIGVzbGludCBuby1wcm90b3R5cGUtYnVpbHRpbnM6IDAgKi9cblxuY29uc3QgeyBFdmVudEVtaXR0ZXIgfSA9IHJlcXVpcmUoJ2V2ZW50cycpXG5jb25zdCB7XG4gIGxzQ2FjaGVTeW0sXG4gIGxldmVsVmFsU3ltLFxuICBzZXRMZXZlbFN5bSxcbiAgZ2V0TGV2ZWxTeW0sXG4gIGNoaW5kaW5nc1N5bSxcbiAgcGFyc2VkQ2hpbmRpbmdzU3ltLFxuICBtaXhpblN5bSxcbiAgYXNKc29uU3ltLFxuICB3cml0ZVN5bSxcbiAgbWl4aW5NZXJnZVN0cmF0ZWd5U3ltLFxuICB0aW1lU3ltLFxuICB0aW1lU2xpY2VJbmRleFN5bSxcbiAgc3RyZWFtU3ltLFxuICBzZXJpYWxpemVyc1N5bSxcbiAgZm9ybWF0dGVyc1N5bSxcbiAgdXNlT25seUN1c3RvbUxldmVsc1N5bSxcbiAgbmVlZHNNZXRhZGF0YUdzeW0sXG4gIHJlZGFjdEZtdFN5bSxcbiAgc3RyaW5naWZ5U3ltLFxuICBmb3JtYXRPcHRzU3ltLFxuICBzdHJpbmdpZmllcnNTeW1cbn0gPSByZXF1aXJlKCcuL3N5bWJvbHMnKVxuY29uc3Qge1xuICBnZXRMZXZlbCxcbiAgc2V0TGV2ZWwsXG4gIGlzTGV2ZWxFbmFibGVkLFxuICBtYXBwaW5ncyxcbiAgaW5pdGlhbExzQ2FjaGUsXG4gIGdlbkxzQ2FjaGUsXG4gIGFzc2VydE5vTGV2ZWxDb2xsaXNpb25zXG59ID0gcmVxdWlyZSgnLi9sZXZlbHMnKVxuY29uc3Qge1xuICBhc0NoaW5kaW5ncyxcbiAgYXNKc29uLFxuICBidWlsZEZvcm1hdHRlcnMsXG4gIHN0cmluZ2lmeVxufSA9IHJlcXVpcmUoJy4vdG9vbHMnKVxuY29uc3Qge1xuICB2ZXJzaW9uXG59ID0gcmVxdWlyZSgnLi9tZXRhJylcbmNvbnN0IHJlZGFjdGlvbiA9IHJlcXVpcmUoJy4vcmVkYWN0aW9uJylcblxuLy8gbm90ZTogdXNlIG9mIGNsYXNzIGlzIHNhdGlyaWNhbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3Bpbm9qcy9waW5vL3B1bGwvNDMzI3B1bGxyZXF1ZXN0cmV2aWV3LTEyNzcwMzEyN1xuY29uc3QgY29uc3RydWN0b3IgPSBjbGFzcyBQaW5vIHt9XG5jb25zdCBwcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yLFxuICBjaGlsZCxcbiAgYmluZGluZ3MsXG4gIHNldEJpbmRpbmdzLFxuICBmbHVzaCxcbiAgaXNMZXZlbEVuYWJsZWQsXG4gIHZlcnNpb24sXG4gIGdldCBsZXZlbCAoKSB7IHJldHVybiB0aGlzW2dldExldmVsU3ltXSgpIH0sXG4gIHNldCBsZXZlbCAobHZsKSB7IHRoaXNbc2V0TGV2ZWxTeW1dKGx2bCkgfSxcbiAgZ2V0IGxldmVsVmFsICgpIHsgcmV0dXJuIHRoaXNbbGV2ZWxWYWxTeW1dIH0sXG4gIHNldCBsZXZlbFZhbCAobikgeyB0aHJvdyBFcnJvcignbGV2ZWxWYWwgaXMgcmVhZC1vbmx5JykgfSxcbiAgW2xzQ2FjaGVTeW1dOiBpbml0aWFsTHNDYWNoZSxcbiAgW3dyaXRlU3ltXTogd3JpdGUsXG4gIFthc0pzb25TeW1dOiBhc0pzb24sXG4gIFtnZXRMZXZlbFN5bV06IGdldExldmVsLFxuICBbc2V0TGV2ZWxTeW1dOiBzZXRMZXZlbFxufVxuXG5PYmplY3Quc2V0UHJvdG90eXBlT2YocHJvdG90eXBlLCBFdmVudEVtaXR0ZXIucHJvdG90eXBlKVxuXG4vLyBleHBvcnRpbmcgYW5kIGNvbnN1bWluZyB0aGUgcHJvdG90eXBlIG9iamVjdCB1c2luZyBmYWN0b3J5IHBhdHRlcm4gZml4ZXMgc2NvcGluZyBpc3N1ZXMgd2l0aCBnZXR0ZXJzIHdoZW4gc2VyaWFsaXppbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpXG59XG5cbmNvbnN0IHJlc2V0Q2hpbGRpbmdzRm9ybWF0dGVyID0gYmluZGluZ3MgPT4gYmluZGluZ3NcbmZ1bmN0aW9uIGNoaWxkIChiaW5kaW5ncywgb3B0aW9ucykge1xuICBpZiAoIWJpbmRpbmdzKSB7XG4gICAgdGhyb3cgRXJyb3IoJ21pc3NpbmcgYmluZGluZ3MgZm9yIGNoaWxkIFBpbm8nKVxuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9IC8vIGRlZmF1bHQgb3B0aW9ucyB0byBlbXB0eSBvYmplY3RcbiAgY29uc3Qgc2VyaWFsaXplcnMgPSB0aGlzW3NlcmlhbGl6ZXJzU3ltXVxuICBjb25zdCBmb3JtYXR0ZXJzID0gdGhpc1tmb3JtYXR0ZXJzU3ltXVxuICBjb25zdCBpbnN0YW5jZSA9IE9iamVjdC5jcmVhdGUodGhpcylcblxuICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc2VyaWFsaXplcnMnKSA9PT0gdHJ1ZSkge1xuICAgIGluc3RhbmNlW3NlcmlhbGl6ZXJzU3ltXSA9IE9iamVjdC5jcmVhdGUobnVsbClcblxuICAgIGZvciAoY29uc3QgayBpbiBzZXJpYWxpemVycykge1xuICAgICAgaW5zdGFuY2Vbc2VyaWFsaXplcnNTeW1dW2tdID0gc2VyaWFsaXplcnNba11cbiAgICB9XG4gICAgY29uc3QgcGFyZW50U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc2VyaWFsaXplcnMpXG4gICAgLyogZXNsaW50IG5vLXZhcjogb2ZmICovXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJlbnRTeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrcyA9IHBhcmVudFN5bWJvbHNbaV1cbiAgICAgIGluc3RhbmNlW3NlcmlhbGl6ZXJzU3ltXVtrc10gPSBzZXJpYWxpemVyc1trc11cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGJrIGluIG9wdGlvbnMuc2VyaWFsaXplcnMpIHtcbiAgICAgIGluc3RhbmNlW3NlcmlhbGl6ZXJzU3ltXVtia10gPSBvcHRpb25zLnNlcmlhbGl6ZXJzW2JrXVxuICAgIH1cbiAgICBjb25zdCBiaW5kaW5nc1N5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9wdGlvbnMuc2VyaWFsaXplcnMpXG4gICAgZm9yICh2YXIgYmkgPSAwOyBiaSA8IGJpbmRpbmdzU3ltYm9scy5sZW5ndGg7IGJpKyspIHtcbiAgICAgIGNvbnN0IGJrcyA9IGJpbmRpbmdzU3ltYm9sc1tiaV1cbiAgICAgIGluc3RhbmNlW3NlcmlhbGl6ZXJzU3ltXVtia3NdID0gb3B0aW9ucy5zZXJpYWxpemVyc1tia3NdXG4gICAgfVxuICB9IGVsc2UgaW5zdGFuY2Vbc2VyaWFsaXplcnNTeW1dID0gc2VyaWFsaXplcnNcbiAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2Zvcm1hdHRlcnMnKSkge1xuICAgIGNvbnN0IHsgbGV2ZWwsIGJpbmRpbmdzOiBjaGluZGluZ3MsIGxvZyB9ID0gb3B0aW9ucy5mb3JtYXR0ZXJzXG4gICAgaW5zdGFuY2VbZm9ybWF0dGVyc1N5bV0gPSBidWlsZEZvcm1hdHRlcnMoXG4gICAgICBsZXZlbCB8fCBmb3JtYXR0ZXJzLmxldmVsLFxuICAgICAgY2hpbmRpbmdzIHx8IHJlc2V0Q2hpbGRpbmdzRm9ybWF0dGVyLFxuICAgICAgbG9nIHx8IGZvcm1hdHRlcnMubG9nXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIGluc3RhbmNlW2Zvcm1hdHRlcnNTeW1dID0gYnVpbGRGb3JtYXR0ZXJzKFxuICAgICAgZm9ybWF0dGVycy5sZXZlbCxcbiAgICAgIHJlc2V0Q2hpbGRpbmdzRm9ybWF0dGVyLFxuICAgICAgZm9ybWF0dGVycy5sb2dcbiAgICApXG4gIH1cbiAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2N1c3RvbUxldmVscycpID09PSB0cnVlKSB7XG4gICAgYXNzZXJ0Tm9MZXZlbENvbGxpc2lvbnModGhpcy5sZXZlbHMsIG9wdGlvbnMuY3VzdG9tTGV2ZWxzKVxuICAgIGluc3RhbmNlLmxldmVscyA9IG1hcHBpbmdzKG9wdGlvbnMuY3VzdG9tTGV2ZWxzLCBpbnN0YW5jZVt1c2VPbmx5Q3VzdG9tTGV2ZWxzU3ltXSlcbiAgICBnZW5Mc0NhY2hlKGluc3RhbmNlKVxuICB9XG5cbiAgLy8gcmVkYWN0IG11c3QgcGxhY2UgYmVmb3JlIGFzQ2hpbmRpbmdzIGFuZCBvbmx5IHJlcGxhY2UgaWYgZXhpc3RcbiAgaWYgKCh0eXBlb2Ygb3B0aW9ucy5yZWRhY3QgPT09ICdvYmplY3QnICYmIG9wdGlvbnMucmVkYWN0ICE9PSBudWxsKSB8fCBBcnJheS5pc0FycmF5KG9wdGlvbnMucmVkYWN0KSkge1xuICAgIGluc3RhbmNlLnJlZGFjdCA9IG9wdGlvbnMucmVkYWN0IC8vIHJlcGxhY2UgcmVkYWN0IGRpcmVjdGx5XG4gICAgY29uc3Qgc3RyaW5naWZpZXJzID0gcmVkYWN0aW9uKGluc3RhbmNlLnJlZGFjdCwgc3RyaW5naWZ5KVxuICAgIGNvbnN0IGZvcm1hdE9wdHMgPSB7IHN0cmluZ2lmeTogc3RyaW5naWZpZXJzW3JlZGFjdEZtdFN5bV0gfVxuICAgIGluc3RhbmNlW3N0cmluZ2lmeVN5bV0gPSBzdHJpbmdpZnlcbiAgICBpbnN0YW5jZVtzdHJpbmdpZmllcnNTeW1dID0gc3RyaW5naWZpZXJzXG4gICAgaW5zdGFuY2VbZm9ybWF0T3B0c1N5bV0gPSBmb3JtYXRPcHRzXG4gIH1cblxuICBpbnN0YW5jZVtjaGluZGluZ3NTeW1dID0gYXNDaGluZGluZ3MoaW5zdGFuY2UsIGJpbmRpbmdzKVxuICBjb25zdCBjaGlsZExldmVsID0gb3B0aW9ucy5sZXZlbCB8fCB0aGlzLmxldmVsXG4gIGluc3RhbmNlW3NldExldmVsU3ltXShjaGlsZExldmVsKVxuXG4gIHJldHVybiBpbnN0YW5jZVxufVxuXG5mdW5jdGlvbiBiaW5kaW5ncyAoKSB7XG4gIGNvbnN0IGNoaW5kaW5ncyA9IHRoaXNbY2hpbmRpbmdzU3ltXVxuICBjb25zdCBjaGluZGluZ3NKc29uID0gYHske2NoaW5kaW5ncy5zdWJzdHIoMSl9fWAgLy8gYXQgbGVhc3QgY29udGFpbnMgLFwicGlkXCI6NzA2OCxcImhvc3RuYW1lXCI6XCJteU1hY1wiXG4gIGNvbnN0IGJpbmRpbmdzRnJvbUpzb24gPSBKU09OLnBhcnNlKGNoaW5kaW5nc0pzb24pXG4gIGRlbGV0ZSBiaW5kaW5nc0Zyb21Kc29uLnBpZFxuICBkZWxldGUgYmluZGluZ3NGcm9tSnNvbi5ob3N0bmFtZVxuICByZXR1cm4gYmluZGluZ3NGcm9tSnNvblxufVxuXG5mdW5jdGlvbiBzZXRCaW5kaW5ncyAobmV3QmluZGluZ3MpIHtcbiAgY29uc3QgY2hpbmRpbmdzID0gYXNDaGluZGluZ3ModGhpcywgbmV3QmluZGluZ3MpXG4gIHRoaXNbY2hpbmRpbmdzU3ltXSA9IGNoaW5kaW5nc1xuICBkZWxldGUgdGhpc1twYXJzZWRDaGluZGluZ3NTeW1dXG59XG5cbi8qKlxuICogRGVmYXVsdCBzdHJhdGVneSBmb3IgY3JlYXRpbmcgYG1lcmdlT2JqZWN0YCBmcm9tIGFyZ3VtZW50cyBhbmQgdGhlIHJlc3VsdCBmcm9tIGBtaXhpbigpYC5cbiAqIEZpZWxkcyBmcm9tIGBtZXJnZU9iamVjdGAgaGF2ZSBoaWdoZXIgcHJpb3JpdHkgaW4gdGhpcyBzdHJhdGVneS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbWVyZ2VPYmplY3QgVGhlIG9iamVjdCBhIHVzZXIgaGFzIHN1cHBsaWVkIHRvIHRoZSBsb2dnaW5nIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IG1peGluT2JqZWN0IFRoZSByZXN1bHQgb2YgdGhlIGBtaXhpbmAgbWV0aG9kLlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBkZWZhdWx0TWl4aW5NZXJnZVN0cmF0ZWd5IChtZXJnZU9iamVjdCwgbWl4aW5PYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24obWl4aW5PYmplY3QsIG1lcmdlT2JqZWN0KVxufVxuXG5mdW5jdGlvbiB3cml0ZSAoX29iaiwgbXNnLCBudW0pIHtcbiAgY29uc3QgdCA9IHRoaXNbdGltZVN5bV0oKVxuICBjb25zdCBtaXhpbiA9IHRoaXNbbWl4aW5TeW1dXG4gIGNvbnN0IG1peGluTWVyZ2VTdHJhdGVneSA9IHRoaXNbbWl4aW5NZXJnZVN0cmF0ZWd5U3ltXSB8fCBkZWZhdWx0TWl4aW5NZXJnZVN0cmF0ZWd5XG4gIGxldCBvYmpcblxuICBpZiAoX29iaiA9PT0gdW5kZWZpbmVkIHx8IF9vYmogPT09IG51bGwpIHtcbiAgICBvYmogPSB7fVxuICB9IGVsc2UgaWYgKF9vYmogaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIG9iaiA9IHsgZXJyOiBfb2JqIH1cbiAgICBpZiAobXNnID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1zZyA9IF9vYmoubWVzc2FnZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvYmogPSBfb2JqXG4gICAgaWYgKG1zZyA9PT0gdW5kZWZpbmVkICYmIF9vYmouZXJyKSB7XG4gICAgICBtc2cgPSBfb2JqLmVyci5tZXNzYWdlXG4gICAgfVxuICB9XG5cbiAgaWYgKG1peGluKSB7XG4gICAgb2JqID0gbWl4aW5NZXJnZVN0cmF0ZWd5KG9iaiwgbWl4aW4ob2JqLCBudW0pKVxuICB9XG5cbiAgY29uc3QgcyA9IHRoaXNbYXNKc29uU3ltXShvYmosIG1zZywgbnVtLCB0KVxuXG4gIGNvbnN0IHN0cmVhbSA9IHRoaXNbc3RyZWFtU3ltXVxuICBpZiAoc3RyZWFtW25lZWRzTWV0YWRhdGFHc3ltXSA9PT0gdHJ1ZSkge1xuICAgIHN0cmVhbS5sYXN0TGV2ZWwgPSBudW1cbiAgICBzdHJlYW0ubGFzdE9iaiA9IG9ialxuICAgIHN0cmVhbS5sYXN0TXNnID0gbXNnXG4gICAgc3RyZWFtLmxhc3RUaW1lID0gdC5zbGljZSh0aGlzW3RpbWVTbGljZUluZGV4U3ltXSlcbiAgICBzdHJlYW0ubGFzdExvZ2dlciA9IHRoaXMgLy8gZm9yIGNoaWxkIGxvZ2dlcnNcbiAgfVxuICBzdHJlYW0ud3JpdGUocylcbn1cblxuZnVuY3Rpb24gbm9vcCAoKSB7fVxuXG5mdW5jdGlvbiBmbHVzaCAoKSB7XG4gIGNvbnN0IHN0cmVhbSA9IHRoaXNbc3RyZWFtU3ltXVxuICBpZiAoJ2ZsdXNoJyBpbiBzdHJlYW0pIHN0cmVhbS5mbHVzaChub29wKVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/proto.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/redaction.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/redaction.js ***!
  \*******************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst fastRedact = __webpack_require__(/*! fast-redact */ \"(ssr)/./node_modules/fast-redact/index.js\")\nconst { redactFmtSym, wildcardFirstSym } = __webpack_require__(/*! ./symbols */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/symbols.js\")\nconst { rx, validator } = fastRedact\n\nconst validate = validator({\n  ERR_PATHS_MUST_BE_STRINGS: () => 'pino  redacted paths must be strings',\n  ERR_INVALID_PATH: (s) => `pino  redact paths array contains an invalid path (${s})`\n})\n\nconst CENSOR = '[Redacted]'\nconst strict = false // TODO should this be configurable?\n\nfunction redaction (opts, serialize) {\n  const { paths, censor } = handle(opts)\n\n  const shape = paths.reduce((o, str) => {\n    rx.lastIndex = 0\n    const first = rx.exec(str)\n    const next = rx.exec(str)\n\n    // ns is the top-level path segment, brackets + quoting removed.\n    let ns = first[1] !== undefined\n      ? first[1].replace(/^(?:\"|'|`)(.*)(?:\"|'|`)$/, '$1')\n      : first[0]\n\n    if (ns === '*') {\n      ns = wildcardFirstSym\n    }\n\n    // top level key:\n    if (next === null) {\n      o[ns] = null\n      return o\n    }\n\n    // path with at least two segments:\n    // if ns is already redacted at the top level, ignore lower level redactions\n    if (o[ns] === null) {\n      return o\n    }\n\n    const { index } = next\n    const nextPath = `${str.substr(index, str.length - 1)}`\n\n    o[ns] = o[ns] || []\n\n    // shape is a mix of paths beginning with literal values and wildcard\n    // paths [ \"a.b.c\", \"*.b.z\" ] should reduce to a shape of\n    // { \"a\": [ \"b.c\", \"b.z\" ], *: [ \"b.z\" ] }\n    // note: \"b.z\" is in both \"a\" and * arrays because \"a\" matches the wildcard.\n    // (* entry has wildcardFirstSym as key)\n    if (ns !== wildcardFirstSym && o[ns].length === 0) {\n      // first time ns's get all '*' redactions so far\n      o[ns].push(...(o[wildcardFirstSym] || []))\n    }\n\n    if (ns === wildcardFirstSym) {\n      // new * path gets added to all previously registered literal ns's.\n      Object.keys(o).forEach(function (k) {\n        if (o[k]) {\n          o[k].push(nextPath)\n        }\n      })\n    }\n\n    o[ns].push(nextPath)\n    return o\n  }, {})\n\n  // the redactor assigned to the format symbol key\n  // provides top level redaction for instances where\n  // an object is interpolated into the msg string\n  const result = {\n    [redactFmtSym]: fastRedact({ paths, censor, serialize, strict })\n  }\n\n  const topCensor = (...args) => {\n    return typeof censor === 'function' ? serialize(censor(...args)) : serialize(censor)\n  }\n\n  return [...Object.keys(shape), ...Object.getOwnPropertySymbols(shape)].reduce((o, k) => {\n    // top level key:\n    if (shape[k] === null) {\n      o[k] = (value) => topCensor(value, [k])\n    } else {\n      const wrappedCensor = typeof censor === 'function'\n        ? (value, path) => {\n            return censor(value, [k, ...path])\n          }\n        : censor\n      o[k] = fastRedact({\n        paths: shape[k],\n        censor: wrappedCensor,\n        serialize,\n        strict\n      })\n    }\n    return o\n  }, result)\n}\n\nfunction handle (opts) {\n  if (Array.isArray(opts)) {\n    opts = { paths: opts, censor: CENSOR }\n    validate(opts)\n    return opts\n  }\n  let { paths, censor = CENSOR, remove } = opts\n  if (Array.isArray(paths) === false) { throw Error('pino  redact must contain an array of strings') }\n  if (remove === true) censor = undefined\n  validate({ paths, censor })\n\n  return { paths, censor }\n}\n\nmodule.exports = redaction\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi9yZWRhY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQVk7O0FBRVosbUJBQW1CLG1CQUFPLENBQUMsOERBQWE7QUFDeEMsUUFBUSxpQ0FBaUMsRUFBRSxtQkFBTyxDQUFDLDhGQUFXO0FBQzlELFFBQVEsZ0JBQWdCOztBQUV4QjtBQUNBO0FBQ0Esa0ZBQWtGLEVBQUU7QUFDcEYsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0EsVUFBVSxnQkFBZ0I7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSxRQUFRO0FBQ3BCLHdCQUF3QixrQ0FBa0M7O0FBRTFEOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0EsR0FBRyxJQUFJOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGtDQUFrQztBQUNuRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUNBQWlDO0FBQ3pDLHdDQUF3QztBQUN4QztBQUNBLGFBQWEsZUFBZTs7QUFFNUIsV0FBVztBQUNYOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9sb2dnZXIvbm9kZV9tb2R1bGVzL3Bpbm8vbGliL3JlZGFjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgZmFzdFJlZGFjdCA9IHJlcXVpcmUoJ2Zhc3QtcmVkYWN0JylcbmNvbnN0IHsgcmVkYWN0Rm10U3ltLCB3aWxkY2FyZEZpcnN0U3ltIH0gPSByZXF1aXJlKCcuL3N5bWJvbHMnKVxuY29uc3QgeyByeCwgdmFsaWRhdG9yIH0gPSBmYXN0UmVkYWN0XG5cbmNvbnN0IHZhbGlkYXRlID0gdmFsaWRhdG9yKHtcbiAgRVJSX1BBVEhTX01VU1RfQkVfU1RSSU5HUzogKCkgPT4gJ3Bpbm8g4oCTIHJlZGFjdGVkIHBhdGhzIG11c3QgYmUgc3RyaW5ncycsXG4gIEVSUl9JTlZBTElEX1BBVEg6IChzKSA9PiBgcGlubyDigJMgcmVkYWN0IHBhdGhzIGFycmF5IGNvbnRhaW5zIGFuIGludmFsaWQgcGF0aCAoJHtzfSlgXG59KVxuXG5jb25zdCBDRU5TT1IgPSAnW1JlZGFjdGVkXSdcbmNvbnN0IHN0cmljdCA9IGZhbHNlIC8vIFRPRE8gc2hvdWxkIHRoaXMgYmUgY29uZmlndXJhYmxlP1xuXG5mdW5jdGlvbiByZWRhY3Rpb24gKG9wdHMsIHNlcmlhbGl6ZSkge1xuICBjb25zdCB7IHBhdGhzLCBjZW5zb3IgfSA9IGhhbmRsZShvcHRzKVxuXG4gIGNvbnN0IHNoYXBlID0gcGF0aHMucmVkdWNlKChvLCBzdHIpID0+IHtcbiAgICByeC5sYXN0SW5kZXggPSAwXG4gICAgY29uc3QgZmlyc3QgPSByeC5leGVjKHN0cilcbiAgICBjb25zdCBuZXh0ID0gcnguZXhlYyhzdHIpXG5cbiAgICAvLyBucyBpcyB0aGUgdG9wLWxldmVsIHBhdGggc2VnbWVudCwgYnJhY2tldHMgKyBxdW90aW5nIHJlbW92ZWQuXG4gICAgbGV0IG5zID0gZmlyc3RbMV0gIT09IHVuZGVmaW5lZFxuICAgICAgPyBmaXJzdFsxXS5yZXBsYWNlKC9eKD86XCJ8J3xgKSguKikoPzpcInwnfGApJC8sICckMScpXG4gICAgICA6IGZpcnN0WzBdXG5cbiAgICBpZiAobnMgPT09ICcqJykge1xuICAgICAgbnMgPSB3aWxkY2FyZEZpcnN0U3ltXG4gICAgfVxuXG4gICAgLy8gdG9wIGxldmVsIGtleTpcbiAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgb1tuc10gPSBudWxsXG4gICAgICByZXR1cm4gb1xuICAgIH1cblxuICAgIC8vIHBhdGggd2l0aCBhdCBsZWFzdCB0d28gc2VnbWVudHM6XG4gICAgLy8gaWYgbnMgaXMgYWxyZWFkeSByZWRhY3RlZCBhdCB0aGUgdG9wIGxldmVsLCBpZ25vcmUgbG93ZXIgbGV2ZWwgcmVkYWN0aW9uc1xuICAgIGlmIChvW25zXSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG9cbiAgICB9XG5cbiAgICBjb25zdCB7IGluZGV4IH0gPSBuZXh0XG4gICAgY29uc3QgbmV4dFBhdGggPSBgJHtzdHIuc3Vic3RyKGluZGV4LCBzdHIubGVuZ3RoIC0gMSl9YFxuXG4gICAgb1tuc10gPSBvW25zXSB8fCBbXVxuXG4gICAgLy8gc2hhcGUgaXMgYSBtaXggb2YgcGF0aHMgYmVnaW5uaW5nIHdpdGggbGl0ZXJhbCB2YWx1ZXMgYW5kIHdpbGRjYXJkXG4gICAgLy8gcGF0aHMgWyBcImEuYi5jXCIsIFwiKi5iLnpcIiBdIHNob3VsZCByZWR1Y2UgdG8gYSBzaGFwZSBvZlxuICAgIC8vIHsgXCJhXCI6IFsgXCJiLmNcIiwgXCJiLnpcIiBdLCAqOiBbIFwiYi56XCIgXSB9XG4gICAgLy8gbm90ZTogXCJiLnpcIiBpcyBpbiBib3RoIFwiYVwiIGFuZCAqIGFycmF5cyBiZWNhdXNlIFwiYVwiIG1hdGNoZXMgdGhlIHdpbGRjYXJkLlxuICAgIC8vICgqIGVudHJ5IGhhcyB3aWxkY2FyZEZpcnN0U3ltIGFzIGtleSlcbiAgICBpZiAobnMgIT09IHdpbGRjYXJkRmlyc3RTeW0gJiYgb1tuc10ubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBmaXJzdCB0aW1lIG5zJ3MgZ2V0IGFsbCAnKicgcmVkYWN0aW9ucyBzbyBmYXJcbiAgICAgIG9bbnNdLnB1c2goLi4uKG9bd2lsZGNhcmRGaXJzdFN5bV0gfHwgW10pKVxuICAgIH1cblxuICAgIGlmIChucyA9PT0gd2lsZGNhcmRGaXJzdFN5bSkge1xuICAgICAgLy8gbmV3ICogcGF0aCBnZXRzIGFkZGVkIHRvIGFsbCBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgbGl0ZXJhbCBucydzLlxuICAgICAgT2JqZWN0LmtleXMobykuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICBpZiAob1trXSkge1xuICAgICAgICAgIG9ba10ucHVzaChuZXh0UGF0aClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBvW25zXS5wdXNoKG5leHRQYXRoKVxuICAgIHJldHVybiBvXG4gIH0sIHt9KVxuXG4gIC8vIHRoZSByZWRhY3RvciBhc3NpZ25lZCB0byB0aGUgZm9ybWF0IHN5bWJvbCBrZXlcbiAgLy8gcHJvdmlkZXMgdG9wIGxldmVsIHJlZGFjdGlvbiBmb3IgaW5zdGFuY2VzIHdoZXJlXG4gIC8vIGFuIG9iamVjdCBpcyBpbnRlcnBvbGF0ZWQgaW50byB0aGUgbXNnIHN0cmluZ1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgW3JlZGFjdEZtdFN5bV06IGZhc3RSZWRhY3QoeyBwYXRocywgY2Vuc29yLCBzZXJpYWxpemUsIHN0cmljdCB9KVxuICB9XG5cbiAgY29uc3QgdG9wQ2Vuc29yID0gKC4uLmFyZ3MpID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGNlbnNvciA9PT0gJ2Z1bmN0aW9uJyA/IHNlcmlhbGl6ZShjZW5zb3IoLi4uYXJncykpIDogc2VyaWFsaXplKGNlbnNvcilcbiAgfVxuXG4gIHJldHVybiBbLi4uT2JqZWN0LmtleXMoc2hhcGUpLCAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNoYXBlKV0ucmVkdWNlKChvLCBrKSA9PiB7XG4gICAgLy8gdG9wIGxldmVsIGtleTpcbiAgICBpZiAoc2hhcGVba10gPT09IG51bGwpIHtcbiAgICAgIG9ba10gPSAodmFsdWUpID0+IHRvcENlbnNvcih2YWx1ZSwgW2tdKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB3cmFwcGVkQ2Vuc29yID0gdHlwZW9mIGNlbnNvciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/ICh2YWx1ZSwgcGF0aCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNlbnNvcih2YWx1ZSwgW2ssIC4uLnBhdGhdKVxuICAgICAgICAgIH1cbiAgICAgICAgOiBjZW5zb3JcbiAgICAgIG9ba10gPSBmYXN0UmVkYWN0KHtcbiAgICAgICAgcGF0aHM6IHNoYXBlW2tdLFxuICAgICAgICBjZW5zb3I6IHdyYXBwZWRDZW5zb3IsXG4gICAgICAgIHNlcmlhbGl6ZSxcbiAgICAgICAgc3RyaWN0XG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gb1xuICB9LCByZXN1bHQpXG59XG5cbmZ1bmN0aW9uIGhhbmRsZSAob3B0cykge1xuICBpZiAoQXJyYXkuaXNBcnJheShvcHRzKSkge1xuICAgIG9wdHMgPSB7IHBhdGhzOiBvcHRzLCBjZW5zb3I6IENFTlNPUiB9XG4gICAgdmFsaWRhdGUob3B0cylcbiAgICByZXR1cm4gb3B0c1xuICB9XG4gIGxldCB7IHBhdGhzLCBjZW5zb3IgPSBDRU5TT1IsIHJlbW92ZSB9ID0gb3B0c1xuICBpZiAoQXJyYXkuaXNBcnJheShwYXRocykgPT09IGZhbHNlKSB7IHRocm93IEVycm9yKCdwaW5vIOKAkyByZWRhY3QgbXVzdCBjb250YWluIGFuIGFycmF5IG9mIHN0cmluZ3MnKSB9XG4gIGlmIChyZW1vdmUgPT09IHRydWUpIGNlbnNvciA9IHVuZGVmaW5lZFxuICB2YWxpZGF0ZSh7IHBhdGhzLCBjZW5zb3IgfSlcblxuICByZXR1cm4geyBwYXRocywgY2Vuc29yIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZWRhY3Rpb25cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/redaction.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/symbols.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/symbols.js ***!
  \*****************************************************************************/
/***/ ((module) => {

eval("\n\nconst setLevelSym = Symbol('pino.setLevel')\nconst getLevelSym = Symbol('pino.getLevel')\nconst levelValSym = Symbol('pino.levelVal')\nconst useLevelLabelsSym = Symbol('pino.useLevelLabels')\nconst useOnlyCustomLevelsSym = Symbol('pino.useOnlyCustomLevels')\nconst mixinSym = Symbol('pino.mixin')\n\nconst lsCacheSym = Symbol('pino.lsCache')\nconst chindingsSym = Symbol('pino.chindings')\nconst parsedChindingsSym = Symbol('pino.parsedChindings')\n\nconst asJsonSym = Symbol('pino.asJson')\nconst writeSym = Symbol('pino.write')\nconst redactFmtSym = Symbol('pino.redactFmt')\n\nconst timeSym = Symbol('pino.time')\nconst timeSliceIndexSym = Symbol('pino.timeSliceIndex')\nconst streamSym = Symbol('pino.stream')\nconst stringifySym = Symbol('pino.stringify')\nconst stringifySafeSym = Symbol('pino.stringifySafe')\nconst stringifiersSym = Symbol('pino.stringifiers')\nconst endSym = Symbol('pino.end')\nconst formatOptsSym = Symbol('pino.formatOpts')\nconst messageKeySym = Symbol('pino.messageKey')\nconst nestedKeySym = Symbol('pino.nestedKey')\nconst nestedKeyStrSym = Symbol('pino.nestedKeyStr')\nconst mixinMergeStrategySym = Symbol('pino.mixinMergeStrategy')\n\nconst wildcardFirstSym = Symbol('pino.wildcardFirst')\n\n// public symbols, no need to use the same pino\n// version for these\nconst serializersSym = Symbol.for('pino.serializers')\nconst formattersSym = Symbol.for('pino.formatters')\nconst hooksSym = Symbol.for('pino.hooks')\nconst needsMetadataGsym = Symbol.for('pino.metadata')\n\nmodule.exports = {\n  setLevelSym,\n  getLevelSym,\n  levelValSym,\n  useLevelLabelsSym,\n  mixinSym,\n  lsCacheSym,\n  chindingsSym,\n  parsedChindingsSym,\n  asJsonSym,\n  writeSym,\n  serializersSym,\n  redactFmtSym,\n  timeSym,\n  timeSliceIndexSym,\n  streamSym,\n  stringifySym,\n  stringifySafeSym,\n  stringifiersSym,\n  endSym,\n  formatOptsSym,\n  messageKeySym,\n  nestedKeySym,\n  wildcardFirstSym,\n  needsMetadataGsym,\n  useOnlyCustomLevelsSym,\n  formattersSym,\n  hooksSym,\n  nestedKeyStrSym,\n  mixinMergeStrategySym\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi9zeW1ib2xzLmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9ub2RlX21vZHVsZXMvcGluby9saWIvc3ltYm9scy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3Qgc2V0TGV2ZWxTeW0gPSBTeW1ib2woJ3Bpbm8uc2V0TGV2ZWwnKVxuY29uc3QgZ2V0TGV2ZWxTeW0gPSBTeW1ib2woJ3Bpbm8uZ2V0TGV2ZWwnKVxuY29uc3QgbGV2ZWxWYWxTeW0gPSBTeW1ib2woJ3Bpbm8ubGV2ZWxWYWwnKVxuY29uc3QgdXNlTGV2ZWxMYWJlbHNTeW0gPSBTeW1ib2woJ3Bpbm8udXNlTGV2ZWxMYWJlbHMnKVxuY29uc3QgdXNlT25seUN1c3RvbUxldmVsc1N5bSA9IFN5bWJvbCgncGluby51c2VPbmx5Q3VzdG9tTGV2ZWxzJylcbmNvbnN0IG1peGluU3ltID0gU3ltYm9sKCdwaW5vLm1peGluJylcblxuY29uc3QgbHNDYWNoZVN5bSA9IFN5bWJvbCgncGluby5sc0NhY2hlJylcbmNvbnN0IGNoaW5kaW5nc1N5bSA9IFN5bWJvbCgncGluby5jaGluZGluZ3MnKVxuY29uc3QgcGFyc2VkQ2hpbmRpbmdzU3ltID0gU3ltYm9sKCdwaW5vLnBhcnNlZENoaW5kaW5ncycpXG5cbmNvbnN0IGFzSnNvblN5bSA9IFN5bWJvbCgncGluby5hc0pzb24nKVxuY29uc3Qgd3JpdGVTeW0gPSBTeW1ib2woJ3Bpbm8ud3JpdGUnKVxuY29uc3QgcmVkYWN0Rm10U3ltID0gU3ltYm9sKCdwaW5vLnJlZGFjdEZtdCcpXG5cbmNvbnN0IHRpbWVTeW0gPSBTeW1ib2woJ3Bpbm8udGltZScpXG5jb25zdCB0aW1lU2xpY2VJbmRleFN5bSA9IFN5bWJvbCgncGluby50aW1lU2xpY2VJbmRleCcpXG5jb25zdCBzdHJlYW1TeW0gPSBTeW1ib2woJ3Bpbm8uc3RyZWFtJylcbmNvbnN0IHN0cmluZ2lmeVN5bSA9IFN5bWJvbCgncGluby5zdHJpbmdpZnknKVxuY29uc3Qgc3RyaW5naWZ5U2FmZVN5bSA9IFN5bWJvbCgncGluby5zdHJpbmdpZnlTYWZlJylcbmNvbnN0IHN0cmluZ2lmaWVyc1N5bSA9IFN5bWJvbCgncGluby5zdHJpbmdpZmllcnMnKVxuY29uc3QgZW5kU3ltID0gU3ltYm9sKCdwaW5vLmVuZCcpXG5jb25zdCBmb3JtYXRPcHRzU3ltID0gU3ltYm9sKCdwaW5vLmZvcm1hdE9wdHMnKVxuY29uc3QgbWVzc2FnZUtleVN5bSA9IFN5bWJvbCgncGluby5tZXNzYWdlS2V5JylcbmNvbnN0IG5lc3RlZEtleVN5bSA9IFN5bWJvbCgncGluby5uZXN0ZWRLZXknKVxuY29uc3QgbmVzdGVkS2V5U3RyU3ltID0gU3ltYm9sKCdwaW5vLm5lc3RlZEtleVN0cicpXG5jb25zdCBtaXhpbk1lcmdlU3RyYXRlZ3lTeW0gPSBTeW1ib2woJ3Bpbm8ubWl4aW5NZXJnZVN0cmF0ZWd5JylcblxuY29uc3Qgd2lsZGNhcmRGaXJzdFN5bSA9IFN5bWJvbCgncGluby53aWxkY2FyZEZpcnN0JylcblxuLy8gcHVibGljIHN5bWJvbHMsIG5vIG5lZWQgdG8gdXNlIHRoZSBzYW1lIHBpbm9cbi8vIHZlcnNpb24gZm9yIHRoZXNlXG5jb25zdCBzZXJpYWxpemVyc1N5bSA9IFN5bWJvbC5mb3IoJ3Bpbm8uc2VyaWFsaXplcnMnKVxuY29uc3QgZm9ybWF0dGVyc1N5bSA9IFN5bWJvbC5mb3IoJ3Bpbm8uZm9ybWF0dGVycycpXG5jb25zdCBob29rc1N5bSA9IFN5bWJvbC5mb3IoJ3Bpbm8uaG9va3MnKVxuY29uc3QgbmVlZHNNZXRhZGF0YUdzeW0gPSBTeW1ib2wuZm9yKCdwaW5vLm1ldGFkYXRhJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldExldmVsU3ltLFxuICBnZXRMZXZlbFN5bSxcbiAgbGV2ZWxWYWxTeW0sXG4gIHVzZUxldmVsTGFiZWxzU3ltLFxuICBtaXhpblN5bSxcbiAgbHNDYWNoZVN5bSxcbiAgY2hpbmRpbmdzU3ltLFxuICBwYXJzZWRDaGluZGluZ3NTeW0sXG4gIGFzSnNvblN5bSxcbiAgd3JpdGVTeW0sXG4gIHNlcmlhbGl6ZXJzU3ltLFxuICByZWRhY3RGbXRTeW0sXG4gIHRpbWVTeW0sXG4gIHRpbWVTbGljZUluZGV4U3ltLFxuICBzdHJlYW1TeW0sXG4gIHN0cmluZ2lmeVN5bSxcbiAgc3RyaW5naWZ5U2FmZVN5bSxcbiAgc3RyaW5naWZpZXJzU3ltLFxuICBlbmRTeW0sXG4gIGZvcm1hdE9wdHNTeW0sXG4gIG1lc3NhZ2VLZXlTeW0sXG4gIG5lc3RlZEtleVN5bSxcbiAgd2lsZGNhcmRGaXJzdFN5bSxcbiAgbmVlZHNNZXRhZGF0YUdzeW0sXG4gIHVzZU9ubHlDdXN0b21MZXZlbHNTeW0sXG4gIGZvcm1hdHRlcnNTeW0sXG4gIGhvb2tzU3ltLFxuICBuZXN0ZWRLZXlTdHJTeW0sXG4gIG1peGluTWVyZ2VTdHJhdGVneVN5bVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/symbols.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/time.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/time.js ***!
  \**************************************************************************/
/***/ ((module) => {

eval("\n\nconst nullTime = () => ''\n\nconst epochTime = () => `,\"time\":${Date.now()}`\n\nconst unixTime = () => `,\"time\":${Math.round(Date.now() / 1000.0)}`\n\nconst isoTime = () => `,\"time\":\"${new Date(Date.now()).toISOString()}\"` // using Date.now() for testability\n\nmodule.exports = { nullTime, epochTime, unixTime, isoTime }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi90aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaOztBQUVBLG1DQUFtQyxXQUFXOztBQUU5QyxrQ0FBa0MsZ0NBQWdDOztBQUVsRSxrQ0FBa0MsbUNBQW1DOztBQUVyRSxtQkFBbUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9ub2RlX21vZHVsZXMvcGluby9saWIvdGltZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgbnVsbFRpbWUgPSAoKSA9PiAnJ1xuXG5jb25zdCBlcG9jaFRpbWUgPSAoKSA9PiBgLFwidGltZVwiOiR7RGF0ZS5ub3coKX1gXG5cbmNvbnN0IHVuaXhUaW1lID0gKCkgPT4gYCxcInRpbWVcIjoke01hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMDAuMCl9YFxuXG5jb25zdCBpc29UaW1lID0gKCkgPT4gYCxcInRpbWVcIjpcIiR7bmV3IERhdGUoRGF0ZS5ub3coKSkudG9JU09TdHJpbmcoKX1cImAgLy8gdXNpbmcgRGF0ZS5ub3coKSBmb3IgdGVzdGFiaWxpdHlcblxubW9kdWxlLmV4cG9ydHMgPSB7IG51bGxUaW1lLCBlcG9jaFRpbWUsIHVuaXhUaW1lLCBpc29UaW1lIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/time.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/tools.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/tools.js ***!
  \***************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/* eslint no-prototype-builtins: 0 */\n\nconst format = __webpack_require__(/*! quick-format-unescaped */ \"(ssr)/./node_modules/quick-format-unescaped/index.js\")\nconst { mapHttpRequest, mapHttpResponse } = __webpack_require__(/*! pino-std-serializers */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/index.js\")\nconst SonicBoom = __webpack_require__(/*! sonic-boom */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/sonic-boom/index.js\")\nconst warning = __webpack_require__(/*! ./deprecations */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/deprecations.js\")\nconst {\n  lsCacheSym,\n  chindingsSym,\n  parsedChindingsSym,\n  writeSym,\n  serializersSym,\n  formatOptsSym,\n  endSym,\n  stringifiersSym,\n  stringifySym,\n  stringifySafeSym,\n  wildcardFirstSym,\n  needsMetadataGsym,\n  redactFmtSym,\n  streamSym,\n  nestedKeySym,\n  formattersSym,\n  messageKeySym,\n  nestedKeyStrSym\n} = __webpack_require__(/*! ./symbols */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/symbols.js\")\nconst { isMainThread } = __webpack_require__(/*! worker_threads */ \"worker_threads\")\nconst transport = __webpack_require__(/*! ./transport */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/transport.js\")\n\nfunction noop () {}\n\nfunction genLog (level, hook) {\n  if (!hook) return LOG\n\n  return function hookWrappedLog (...args) {\n    hook.call(this, args, LOG, level)\n  }\n\n  function LOG (o, ...n) {\n    if (typeof o === 'object') {\n      let msg = o\n      if (o !== null) {\n        if (o.method && o.headers && o.socket) {\n          o = mapHttpRequest(o)\n        } else if (typeof o.setHeader === 'function') {\n          o = mapHttpResponse(o)\n        }\n      }\n      let formatParams\n      if (msg === null && n.length === 0) {\n        formatParams = [null]\n      } else {\n        msg = n.shift()\n        formatParams = n\n      }\n      this[writeSym](o, format(msg, formatParams, this[formatOptsSym]), level)\n    } else {\n      this[writeSym](null, format(o, n, this[formatOptsSym]), level)\n    }\n  }\n}\n\n// magically escape strings for json\n// relying on their charCodeAt\n// everything below 32 needs JSON.stringify()\n// 34 and 92 happens all the time, so we\n// have a fast case for them\nfunction asString (str) {\n  let result = ''\n  let last = 0\n  let found = false\n  let point = 255\n  const l = str.length\n  if (l > 100) {\n    return JSON.stringify(str)\n  }\n  for (var i = 0; i < l && point >= 32; i++) {\n    point = str.charCodeAt(i)\n    if (point === 34 || point === 92) {\n      result += str.slice(last, i) + '\\\\'\n      last = i\n      found = true\n    }\n  }\n  if (!found) {\n    result = str\n  } else {\n    result += str.slice(last)\n  }\n  return point < 32 ? JSON.stringify(str) : '\"' + result + '\"'\n}\n\nfunction asJson (obj, msg, num, time) {\n  const stringify = this[stringifySym]\n  const stringifySafe = this[stringifySafeSym]\n  const stringifiers = this[stringifiersSym]\n  const end = this[endSym]\n  const chindings = this[chindingsSym]\n  const serializers = this[serializersSym]\n  const formatters = this[formattersSym]\n  const messageKey = this[messageKeySym]\n  let data = this[lsCacheSym][num] + time\n\n  // we need the child bindings added to the output first so instance logged\n  // objects can take precedence when JSON.parse-ing the resulting log line\n  data = data + chindings\n\n  let value\n  if (formatters.log) {\n    obj = formatters.log(obj)\n  }\n  const wildcardStringifier = stringifiers[wildcardFirstSym]\n  let propStr = ''\n  for (const key in obj) {\n    value = obj[key]\n    if (Object.prototype.hasOwnProperty.call(obj, key) && value !== undefined) {\n      value = serializers[key] ? serializers[key](value) : value\n\n      const stringifier = stringifiers[key] || wildcardStringifier\n\n      switch (typeof value) {\n        case 'undefined':\n        case 'function':\n          continue\n        case 'number':\n          /* eslint no-fallthrough: \"off\" */\n          if (Number.isFinite(value) === false) {\n            value = null\n          }\n        // this case explicitly falls through to the next one\n        case 'boolean':\n          if (stringifier) value = stringifier(value)\n          break\n        case 'string':\n          value = (stringifier || asString)(value)\n          break\n        default:\n          value = (stringifier || stringify)(value, stringifySafe)\n      }\n      if (value === undefined) continue\n      propStr += ',\"' + key + '\":' + value\n    }\n  }\n\n  let msgStr = ''\n  if (msg !== undefined) {\n    value = serializers[messageKey] ? serializers[messageKey](msg) : msg\n    const stringifier = stringifiers[messageKey] || wildcardStringifier\n\n    switch (typeof value) {\n      case 'function':\n        break\n      case 'number':\n        /* eslint no-fallthrough: \"off\" */\n        if (Number.isFinite(value) === false) {\n          value = null\n        }\n      // this case explicitly falls through to the next one\n      case 'boolean':\n        if (stringifier) value = stringifier(value)\n        msgStr = ',\"' + messageKey + '\":' + value\n        break\n      case 'string':\n        value = (stringifier || asString)(value)\n        msgStr = ',\"' + messageKey + '\":' + value\n        break\n      default:\n        value = (stringifier || stringify)(value, stringifySafe)\n        msgStr = ',\"' + messageKey + '\":' + value\n    }\n  }\n\n  if (this[nestedKeySym] && propStr) {\n    // place all the obj properties under the specified key\n    // the nested key is already formatted from the constructor\n    return data + this[nestedKeyStrSym] + propStr.slice(1) + '}' + msgStr + end\n  } else {\n    return data + propStr + msgStr + end\n  }\n}\n\nfunction asChindings (instance, bindings) {\n  let value\n  let data = instance[chindingsSym]\n  const stringify = instance[stringifySym]\n  const stringifySafe = instance[stringifySafeSym]\n  const stringifiers = instance[stringifiersSym]\n  const wildcardStringifier = stringifiers[wildcardFirstSym]\n  const serializers = instance[serializersSym]\n  const formatter = instance[formattersSym].bindings\n  bindings = formatter(bindings)\n\n  for (const key in bindings) {\n    value = bindings[key]\n    const valid = key !== 'level' &&\n      key !== 'serializers' &&\n      key !== 'formatters' &&\n      key !== 'customLevels' &&\n      bindings.hasOwnProperty(key) &&\n      value !== undefined\n    if (valid === true) {\n      value = serializers[key] ? serializers[key](value) : value\n      value = (stringifiers[key] || wildcardStringifier || stringify)(value, stringifySafe)\n      if (value === undefined) continue\n      data += ',\"' + key + '\":' + value\n    }\n  }\n  return data\n}\n\nfunction getPrettyStream (opts, prettifier, dest, instance) {\n  if (prettifier && typeof prettifier === 'function') {\n    prettifier = prettifier.bind(instance)\n    return prettifierMetaWrapper(prettifier(opts), dest, opts)\n  }\n  try {\n    const prettyFactory = (__webpack_require__(/*! pino-pretty */ \"(ssr)/./node_modules/pino-pretty/index.js\").prettyFactory)\n    prettyFactory.asMetaWrapper = prettifierMetaWrapper\n    return prettifierMetaWrapper(prettyFactory(opts), dest, opts)\n  } catch (e) {\n    if (e.message.startsWith(\"Cannot find module 'pino-pretty'\")) {\n      throw Error('Missing `pino-pretty` module: `pino-pretty` must be installed separately')\n    };\n    throw e\n  }\n}\n\nfunction prettifierMetaWrapper (pretty, dest, opts) {\n  opts = Object.assign({ suppressFlushSyncWarning: false }, opts)\n  let warned = false\n  return {\n    [needsMetadataGsym]: true,\n    lastLevel: 0,\n    lastMsg: null,\n    lastObj: null,\n    lastLogger: null,\n    flushSync () {\n      if (opts.suppressFlushSyncWarning || warned) {\n        return\n      }\n      warned = true\n      setMetadataProps(dest, this)\n      dest.write(pretty(Object.assign({\n        level: 40, // warn\n        msg: 'pino.final with prettyPrint does not support flushing',\n        time: Date.now()\n      }, this.chindings())))\n    },\n    chindings () {\n      const lastLogger = this.lastLogger\n      let chindings = null\n\n      // protection against flushSync being called before logging\n      // anything\n      if (!lastLogger) {\n        return null\n      }\n\n      if (lastLogger.hasOwnProperty(parsedChindingsSym)) {\n        chindings = lastLogger[parsedChindingsSym]\n      } else {\n        chindings = JSON.parse('{' + lastLogger[chindingsSym].substr(1) + '}')\n        lastLogger[parsedChindingsSym] = chindings\n      }\n\n      return chindings\n    },\n    write (chunk) {\n      const lastLogger = this.lastLogger\n      const chindings = this.chindings()\n\n      let time = this.lastTime\n\n      /* istanbul ignore next */\n      if (typeof time === 'number') {\n        // do nothing!\n      } else if (time.match(/^\\d+/)) {\n        time = parseInt(time)\n      } else {\n        time = time.slice(1, -1)\n      }\n\n      const lastObj = this.lastObj\n      const lastMsg = this.lastMsg\n      const errorProps = null\n\n      const formatters = lastLogger[formattersSym]\n      const formattedObj = formatters.log ? formatters.log(lastObj) : lastObj\n\n      const messageKey = lastLogger[messageKeySym]\n      if (lastMsg && formattedObj && !Object.prototype.hasOwnProperty.call(formattedObj, messageKey)) {\n        formattedObj[messageKey] = lastMsg\n      }\n\n      const obj = Object.assign({\n        level: this.lastLevel,\n        time\n      }, formattedObj, errorProps)\n\n      const serializers = lastLogger[serializersSym]\n      const keys = Object.keys(serializers)\n\n      for (var i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        if (obj[key] !== undefined) {\n          obj[key] = serializers[key](obj[key])\n        }\n      }\n\n      for (const key in chindings) {\n        if (!obj.hasOwnProperty(key)) {\n          obj[key] = chindings[key]\n        }\n      }\n\n      const stringifiers = lastLogger[stringifiersSym]\n      const redact = stringifiers[redactFmtSym]\n\n      const formatted = pretty(typeof redact === 'function' ? redact(obj) : obj)\n      if (formatted === undefined) return\n\n      setMetadataProps(dest, this)\n      dest.write(formatted)\n    }\n  }\n}\n\nfunction hasBeenTampered (stream) {\n  return stream.write !== stream.constructor.prototype.write\n}\n\nfunction buildSafeSonicBoom (opts) {\n  const stream = new SonicBoom(opts)\n  stream.on('error', filterBrokenPipe)\n  // if we are sync: false, we must flush on exit\n  if (!opts.sync && isMainThread) {\n    setupOnExit(stream)\n  }\n  return stream\n\n  function filterBrokenPipe (err) {\n    // TODO verify on Windows\n    if (err.code === 'EPIPE') {\n      // If we get EPIPE, we should stop logging here\n      // however we have no control to the consumer of\n      // SonicBoom, so we just overwrite the write method\n      stream.write = noop\n      stream.end = noop\n      stream.flushSync = noop\n      stream.destroy = noop\n      return\n    }\n    stream.removeListener('error', filterBrokenPipe)\n    stream.emit('error', err)\n  }\n}\n\nfunction setupOnExit (stream) {\n  /* istanbul ignore next */\n  if (global.WeakRef && global.WeakMap && global.FinalizationRegistry) {\n    // This is leak free, it does not leave event handlers\n    const onExit = __webpack_require__(/*! on-exit-leak-free */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/on-exit-leak-free/index.js\")\n\n    onExit.register(stream, autoEnd)\n\n    stream.on('close', function () {\n      onExit.unregister(stream)\n    })\n  }\n}\n\nfunction autoEnd (stream, eventName) {\n  // This check is needed only on some platforms\n  /* istanbul ignore next */\n  if (stream.destroyed) {\n    return\n  }\n\n  if (eventName === 'beforeExit') {\n    // We still have an event loop, let's use it\n    stream.flush()\n    stream.on('drain', function () {\n      stream.end()\n    })\n  } else {\n    // We do not have an event loop, so flush synchronously\n    stream.flushSync()\n  }\n}\n\nfunction createArgsNormalizer (defaultOptions) {\n  return function normalizeArgs (instance, caller, opts = {}, stream) {\n    // support stream as a string\n    if (typeof opts === 'string') {\n      stream = buildSafeSonicBoom({ dest: opts, sync: true })\n      opts = {}\n    } else if (typeof stream === 'string') {\n      if (opts && opts.transport) {\n        throw Error('only one of option.transport or stream can be specified')\n      }\n      stream = buildSafeSonicBoom({ dest: stream, sync: true })\n    } else if (opts instanceof SonicBoom || opts.writable || opts._writableState) {\n      stream = opts\n      opts = {}\n    } else if (opts.transport) {\n      if (opts.transport instanceof SonicBoom || opts.transport.writable || opts.transport._writableState) {\n        throw Error('option.transport do not allow stream, please pass to option directly. e.g. pino(transport)')\n      }\n      if (opts.transport.targets && opts.transport.targets.length && opts.formatters && typeof opts.formatters.level === 'function') {\n        throw Error('option.transport.targets do not allow custom level formatters')\n      }\n\n      let customLevels\n      if (opts.customLevels) {\n        customLevels = opts.useOnlyCustomLevels ? opts.customLevels : Object.assign({}, opts.levels, opts.customLevels)\n      }\n      stream = transport({ caller, ...opts.transport, levels: customLevels })\n    }\n    opts = Object.assign({}, defaultOptions, opts)\n    opts.serializers = Object.assign({}, defaultOptions.serializers, opts.serializers)\n    opts.formatters = Object.assign({}, defaultOptions.formatters, opts.formatters)\n\n    if ('onTerminated' in opts) {\n      throw Error('The onTerminated option has been removed, use pino.final instead')\n    }\n    if ('changeLevelName' in opts) {\n      process.emitWarning(\n        'The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.',\n        { code: 'changeLevelName_deprecation' }\n      )\n      opts.levelKey = opts.changeLevelName\n      delete opts.changeLevelName\n    }\n    const { enabled, prettyPrint, prettifier, messageKey } = opts\n    if (enabled === false) opts.level = 'silent'\n    stream = stream || process.stdout\n    if (stream === process.stdout && stream.fd >= 0 && !hasBeenTampered(stream)) {\n      stream = buildSafeSonicBoom({ fd: stream.fd, sync: true })\n    }\n    if (prettyPrint) {\n      warning.emit('PINODEP008')\n      const prettyOpts = Object.assign({ messageKey }, prettyPrint)\n      stream = getPrettyStream(prettyOpts, prettifier, stream, instance)\n    }\n    return { opts, stream }\n  }\n}\n\nfunction final (logger, handler) {\n  const major = Number(process.versions.node.split('.')[0])\n  if (major >= 14) warning.emit('PINODEP009')\n\n  if (typeof logger === 'undefined' || typeof logger.child !== 'function') {\n    throw Error('expected a pino logger instance')\n  }\n  const hasHandler = (typeof handler !== 'undefined')\n  if (hasHandler && typeof handler !== 'function') {\n    throw Error('if supplied, the handler parameter should be a function')\n  }\n  const stream = logger[streamSym]\n  if (typeof stream.flushSync !== 'function') {\n    throw Error('final requires a stream that has a flushSync method, such as pino.destination')\n  }\n\n  const finalLogger = new Proxy(logger, {\n    get: (logger, key) => {\n      if (key in logger.levels.values) {\n        return (...args) => {\n          logger[key](...args)\n          stream.flushSync()\n        }\n      }\n      return logger[key]\n    }\n  })\n\n  if (!hasHandler) {\n    try {\n      stream.flushSync()\n    } catch {\n      // it's too late to wait for the stream to be ready\n      // because this is a final tick scenario.\n      // in practice there shouldn't be a situation where it isn't\n      // however, swallow the error just in case (and for easier testing)\n    }\n    return finalLogger\n  }\n\n  return (err = null, ...args) => {\n    try {\n      stream.flushSync()\n    } catch (e) {\n      // it's too late to wait for the stream to be ready\n      // because this is a final tick scenario.\n      // in practice there shouldn't be a situation where it isn't\n      // however, swallow the error just in case (and for easier testing)\n    }\n    return handler(err, finalLogger, ...args)\n  }\n}\n\nfunction stringify (obj, stringifySafeFn) {\n  try {\n    return JSON.stringify(obj)\n  } catch (_) {\n    try {\n      const stringify = stringifySafeFn || this[stringifySafeSym]\n      return stringify(obj)\n    } catch (_) {\n      return '\"[unable to serialize, circular reference is too complex to analyze]\"'\n    }\n  }\n}\n\nfunction buildFormatters (level, bindings, log) {\n  return {\n    level,\n    bindings,\n    log\n  }\n}\n\nfunction setMetadataProps (dest, that) {\n  if (dest[needsMetadataGsym] === true) {\n    dest.lastLevel = that.lastLevel\n    dest.lastMsg = that.lastMsg\n    dest.lastObj = that.lastObj\n    dest.lastTime = that.lastTime\n    dest.lastLogger = that.lastLogger\n  }\n}\n\n/**\n * Convert a string integer file descriptor to a proper native integer\n * file descriptor.\n *\n * @param {string} destination The file descriptor string to attempt to convert.\n *\n * @returns {Number}\n */\nfunction normalizeDestFileDescriptor (destination) {\n  const fd = Number(destination)\n  if (typeof destination === 'string' && Number.isFinite(fd)) {\n    return fd\n  }\n  return destination\n}\n\nmodule.exports = {\n  noop,\n  buildSafeSonicBoom,\n  getPrettyStream,\n  asChindings,\n  asJson,\n  genLog,\n  createArgsNormalizer,\n  final,\n  stringify,\n  buildFormatters,\n  normalizeDestFileDescriptor\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi90b29scy5qcyIsIm1hcHBpbmdzIjoiQUFBWTs7QUFFWjs7QUFFQSxlQUFlLG1CQUFPLENBQUMsb0ZBQXdCO0FBQy9DLFFBQVEsa0NBQWtDLEVBQUUsbUJBQU8sQ0FBQyxtSEFBc0I7QUFDMUUsa0JBQWtCLG1CQUFPLENBQUMsK0ZBQVk7QUFDdEMsZ0JBQWdCLG1CQUFPLENBQUMsd0dBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxFQUFFLG1CQUFPLENBQUMsOEZBQVc7QUFDdkIsUUFBUSxlQUFlLEVBQUUsbUJBQU8sQ0FBQyxzQ0FBZ0I7QUFDakQsa0JBQWtCLG1CQUFPLENBQUMsa0dBQWE7O0FBRXZDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDtBQUMvRCxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1HQUFvQztBQUM5RDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixpQ0FBaUM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUixpQ0FBaUMsMkNBQTJDO0FBQzVFO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQSxzQkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtQkFBTyxDQUFDLDZHQUFtQjs7QUFFOUM7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0Esb0NBQW9DLHdCQUF3QjtBQUM1RDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMEJBQTBCO0FBQzlELE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0ZBQXNGO0FBQ3RGO0FBQ0EsMkJBQTJCLGlEQUFpRDtBQUM1RTtBQUNBLDJCQUEyQjtBQUMzQix1Q0FBdUM7QUFDdkMsc0NBQXNDOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtDQUErQztBQUMzRDtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMkJBQTJCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxZQUFZO0FBQ3JEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9ub2RlX21vZHVsZXMvcGluby9saWIvdG9vbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbi8qIGVzbGludCBuby1wcm90b3R5cGUtYnVpbHRpbnM6IDAgKi9cblxuY29uc3QgZm9ybWF0ID0gcmVxdWlyZSgncXVpY2stZm9ybWF0LXVuZXNjYXBlZCcpXG5jb25zdCB7IG1hcEh0dHBSZXF1ZXN0LCBtYXBIdHRwUmVzcG9uc2UgfSA9IHJlcXVpcmUoJ3Bpbm8tc3RkLXNlcmlhbGl6ZXJzJylcbmNvbnN0IFNvbmljQm9vbSA9IHJlcXVpcmUoJ3NvbmljLWJvb20nKVxuY29uc3Qgd2FybmluZyA9IHJlcXVpcmUoJy4vZGVwcmVjYXRpb25zJylcbmNvbnN0IHtcbiAgbHNDYWNoZVN5bSxcbiAgY2hpbmRpbmdzU3ltLFxuICBwYXJzZWRDaGluZGluZ3NTeW0sXG4gIHdyaXRlU3ltLFxuICBzZXJpYWxpemVyc1N5bSxcbiAgZm9ybWF0T3B0c1N5bSxcbiAgZW5kU3ltLFxuICBzdHJpbmdpZmllcnNTeW0sXG4gIHN0cmluZ2lmeVN5bSxcbiAgc3RyaW5naWZ5U2FmZVN5bSxcbiAgd2lsZGNhcmRGaXJzdFN5bSxcbiAgbmVlZHNNZXRhZGF0YUdzeW0sXG4gIHJlZGFjdEZtdFN5bSxcbiAgc3RyZWFtU3ltLFxuICBuZXN0ZWRLZXlTeW0sXG4gIGZvcm1hdHRlcnNTeW0sXG4gIG1lc3NhZ2VLZXlTeW0sXG4gIG5lc3RlZEtleVN0clN5bVxufSA9IHJlcXVpcmUoJy4vc3ltYm9scycpXG5jb25zdCB7IGlzTWFpblRocmVhZCB9ID0gcmVxdWlyZSgnd29ya2VyX3RocmVhZHMnKVxuY29uc3QgdHJhbnNwb3J0ID0gcmVxdWlyZSgnLi90cmFuc3BvcnQnKVxuXG5mdW5jdGlvbiBub29wICgpIHt9XG5cbmZ1bmN0aW9uIGdlbkxvZyAobGV2ZWwsIGhvb2spIHtcbiAgaWYgKCFob29rKSByZXR1cm4gTE9HXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGhvb2tXcmFwcGVkTG9nICguLi5hcmdzKSB7XG4gICAgaG9vay5jYWxsKHRoaXMsIGFyZ3MsIExPRywgbGV2ZWwpXG4gIH1cblxuICBmdW5jdGlvbiBMT0cgKG8sIC4uLm4pIHtcbiAgICBpZiAodHlwZW9mIG8gPT09ICdvYmplY3QnKSB7XG4gICAgICBsZXQgbXNnID0gb1xuICAgICAgaWYgKG8gIT09IG51bGwpIHtcbiAgICAgICAgaWYgKG8ubWV0aG9kICYmIG8uaGVhZGVycyAmJiBvLnNvY2tldCkge1xuICAgICAgICAgIG8gPSBtYXBIdHRwUmVxdWVzdChvKVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvLnNldEhlYWRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG8gPSBtYXBIdHRwUmVzcG9uc2UobylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGZvcm1hdFBhcmFtc1xuICAgICAgaWYgKG1zZyA9PT0gbnVsbCAmJiBuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBmb3JtYXRQYXJhbXMgPSBbbnVsbF1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1zZyA9IG4uc2hpZnQoKVxuICAgICAgICBmb3JtYXRQYXJhbXMgPSBuXG4gICAgICB9XG4gICAgICB0aGlzW3dyaXRlU3ltXShvLCBmb3JtYXQobXNnLCBmb3JtYXRQYXJhbXMsIHRoaXNbZm9ybWF0T3B0c1N5bV0pLCBsZXZlbClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpc1t3cml0ZVN5bV0obnVsbCwgZm9ybWF0KG8sIG4sIHRoaXNbZm9ybWF0T3B0c1N5bV0pLCBsZXZlbClcbiAgICB9XG4gIH1cbn1cblxuLy8gbWFnaWNhbGx5IGVzY2FwZSBzdHJpbmdzIGZvciBqc29uXG4vLyByZWx5aW5nIG9uIHRoZWlyIGNoYXJDb2RlQXRcbi8vIGV2ZXJ5dGhpbmcgYmVsb3cgMzIgbmVlZHMgSlNPTi5zdHJpbmdpZnkoKVxuLy8gMzQgYW5kIDkyIGhhcHBlbnMgYWxsIHRoZSB0aW1lLCBzbyB3ZVxuLy8gaGF2ZSBhIGZhc3QgY2FzZSBmb3IgdGhlbVxuZnVuY3Rpb24gYXNTdHJpbmcgKHN0cikge1xuICBsZXQgcmVzdWx0ID0gJydcbiAgbGV0IGxhc3QgPSAwXG4gIGxldCBmb3VuZCA9IGZhbHNlXG4gIGxldCBwb2ludCA9IDI1NVxuICBjb25zdCBsID0gc3RyLmxlbmd0aFxuICBpZiAobCA+IDEwMCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdHIpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsICYmIHBvaW50ID49IDMyOyBpKyspIHtcbiAgICBwb2ludCA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaWYgKHBvaW50ID09PSAzNCB8fCBwb2ludCA9PT0gOTIpIHtcbiAgICAgIHJlc3VsdCArPSBzdHIuc2xpY2UobGFzdCwgaSkgKyAnXFxcXCdcbiAgICAgIGxhc3QgPSBpXG4gICAgICBmb3VuZCA9IHRydWVcbiAgICB9XG4gIH1cbiAgaWYgKCFmb3VuZCkge1xuICAgIHJlc3VsdCA9IHN0clxuICB9IGVsc2Uge1xuICAgIHJlc3VsdCArPSBzdHIuc2xpY2UobGFzdClcbiAgfVxuICByZXR1cm4gcG9pbnQgPCAzMiA/IEpTT04uc3RyaW5naWZ5KHN0cikgOiAnXCInICsgcmVzdWx0ICsgJ1wiJ1xufVxuXG5mdW5jdGlvbiBhc0pzb24gKG9iaiwgbXNnLCBudW0sIHRpbWUpIHtcbiAgY29uc3Qgc3RyaW5naWZ5ID0gdGhpc1tzdHJpbmdpZnlTeW1dXG4gIGNvbnN0IHN0cmluZ2lmeVNhZmUgPSB0aGlzW3N0cmluZ2lmeVNhZmVTeW1dXG4gIGNvbnN0IHN0cmluZ2lmaWVycyA9IHRoaXNbc3RyaW5naWZpZXJzU3ltXVxuICBjb25zdCBlbmQgPSB0aGlzW2VuZFN5bV1cbiAgY29uc3QgY2hpbmRpbmdzID0gdGhpc1tjaGluZGluZ3NTeW1dXG4gIGNvbnN0IHNlcmlhbGl6ZXJzID0gdGhpc1tzZXJpYWxpemVyc1N5bV1cbiAgY29uc3QgZm9ybWF0dGVycyA9IHRoaXNbZm9ybWF0dGVyc1N5bV1cbiAgY29uc3QgbWVzc2FnZUtleSA9IHRoaXNbbWVzc2FnZUtleVN5bV1cbiAgbGV0IGRhdGEgPSB0aGlzW2xzQ2FjaGVTeW1dW251bV0gKyB0aW1lXG5cbiAgLy8gd2UgbmVlZCB0aGUgY2hpbGQgYmluZGluZ3MgYWRkZWQgdG8gdGhlIG91dHB1dCBmaXJzdCBzbyBpbnN0YW5jZSBsb2dnZWRcbiAgLy8gb2JqZWN0cyBjYW4gdGFrZSBwcmVjZWRlbmNlIHdoZW4gSlNPTi5wYXJzZS1pbmcgdGhlIHJlc3VsdGluZyBsb2cgbGluZVxuICBkYXRhID0gZGF0YSArIGNoaW5kaW5nc1xuXG4gIGxldCB2YWx1ZVxuICBpZiAoZm9ybWF0dGVycy5sb2cpIHtcbiAgICBvYmogPSBmb3JtYXR0ZXJzLmxvZyhvYmopXG4gIH1cbiAgY29uc3Qgd2lsZGNhcmRTdHJpbmdpZmllciA9IHN0cmluZ2lmaWVyc1t3aWxkY2FyZEZpcnN0U3ltXVxuICBsZXQgcHJvcFN0ciA9ICcnXG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHZhbHVlID0gb2JqW2tleV1cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWx1ZSA9IHNlcmlhbGl6ZXJzW2tleV0gPyBzZXJpYWxpemVyc1trZXldKHZhbHVlKSA6IHZhbHVlXG5cbiAgICAgIGNvbnN0IHN0cmluZ2lmaWVyID0gc3RyaW5naWZpZXJzW2tleV0gfHwgd2lsZGNhcmRTdHJpbmdpZmllclxuXG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAvKiBlc2xpbnQgbm8tZmFsbHRocm91Z2g6IFwib2ZmXCIgKi9cbiAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHZhbHVlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBjYXNlIGV4cGxpY2l0bHkgZmFsbHMgdGhyb3VnaCB0byB0aGUgbmV4dCBvbmVcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgaWYgKHN0cmluZ2lmaWVyKSB2YWx1ZSA9IHN0cmluZ2lmaWVyKHZhbHVlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgdmFsdWUgPSAoc3RyaW5naWZpZXIgfHwgYXNTdHJpbmcpKHZhbHVlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdmFsdWUgPSAoc3RyaW5naWZpZXIgfHwgc3RyaW5naWZ5KSh2YWx1ZSwgc3RyaW5naWZ5U2FmZSlcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZVxuICAgICAgcHJvcFN0ciArPSAnLFwiJyArIGtleSArICdcIjonICsgdmFsdWVcbiAgICB9XG4gIH1cblxuICBsZXQgbXNnU3RyID0gJydcbiAgaWYgKG1zZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsdWUgPSBzZXJpYWxpemVyc1ttZXNzYWdlS2V5XSA/IHNlcmlhbGl6ZXJzW21lc3NhZ2VLZXldKG1zZykgOiBtc2dcbiAgICBjb25zdCBzdHJpbmdpZmllciA9IHN0cmluZ2lmaWVyc1ttZXNzYWdlS2V5XSB8fCB3aWxkY2FyZFN0cmluZ2lmaWVyXG5cbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgLyogZXNsaW50IG5vLWZhbGx0aHJvdWdoOiBcIm9mZlwiICovXG4gICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodmFsdWUpID09PSBmYWxzZSkge1xuICAgICAgICAgIHZhbHVlID0gbnVsbFxuICAgICAgICB9XG4gICAgICAvLyB0aGlzIGNhc2UgZXhwbGljaXRseSBmYWxscyB0aHJvdWdoIHRvIHRoZSBuZXh0IG9uZVxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIGlmIChzdHJpbmdpZmllcikgdmFsdWUgPSBzdHJpbmdpZmllcih2YWx1ZSlcbiAgICAgICAgbXNnU3RyID0gJyxcIicgKyBtZXNzYWdlS2V5ICsgJ1wiOicgKyB2YWx1ZVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgdmFsdWUgPSAoc3RyaW5naWZpZXIgfHwgYXNTdHJpbmcpKHZhbHVlKVxuICAgICAgICBtc2dTdHIgPSAnLFwiJyArIG1lc3NhZ2VLZXkgKyAnXCI6JyArIHZhbHVlXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YWx1ZSA9IChzdHJpbmdpZmllciB8fCBzdHJpbmdpZnkpKHZhbHVlLCBzdHJpbmdpZnlTYWZlKVxuICAgICAgICBtc2dTdHIgPSAnLFwiJyArIG1lc3NhZ2VLZXkgKyAnXCI6JyArIHZhbHVlXG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXNbbmVzdGVkS2V5U3ltXSAmJiBwcm9wU3RyKSB7XG4gICAgLy8gcGxhY2UgYWxsIHRoZSBvYmogcHJvcGVydGllcyB1bmRlciB0aGUgc3BlY2lmaWVkIGtleVxuICAgIC8vIHRoZSBuZXN0ZWQga2V5IGlzIGFscmVhZHkgZm9ybWF0dGVkIGZyb20gdGhlIGNvbnN0cnVjdG9yXG4gICAgcmV0dXJuIGRhdGEgKyB0aGlzW25lc3RlZEtleVN0clN5bV0gKyBwcm9wU3RyLnNsaWNlKDEpICsgJ30nICsgbXNnU3RyICsgZW5kXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRhdGEgKyBwcm9wU3RyICsgbXNnU3RyICsgZW5kXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNDaGluZGluZ3MgKGluc3RhbmNlLCBiaW5kaW5ncykge1xuICBsZXQgdmFsdWVcbiAgbGV0IGRhdGEgPSBpbnN0YW5jZVtjaGluZGluZ3NTeW1dXG4gIGNvbnN0IHN0cmluZ2lmeSA9IGluc3RhbmNlW3N0cmluZ2lmeVN5bV1cbiAgY29uc3Qgc3RyaW5naWZ5U2FmZSA9IGluc3RhbmNlW3N0cmluZ2lmeVNhZmVTeW1dXG4gIGNvbnN0IHN0cmluZ2lmaWVycyA9IGluc3RhbmNlW3N0cmluZ2lmaWVyc1N5bV1cbiAgY29uc3Qgd2lsZGNhcmRTdHJpbmdpZmllciA9IHN0cmluZ2lmaWVyc1t3aWxkY2FyZEZpcnN0U3ltXVxuICBjb25zdCBzZXJpYWxpemVycyA9IGluc3RhbmNlW3NlcmlhbGl6ZXJzU3ltXVxuICBjb25zdCBmb3JtYXR0ZXIgPSBpbnN0YW5jZVtmb3JtYXR0ZXJzU3ltXS5iaW5kaW5nc1xuICBiaW5kaW5ncyA9IGZvcm1hdHRlcihiaW5kaW5ncylcblxuICBmb3IgKGNvbnN0IGtleSBpbiBiaW5kaW5ncykge1xuICAgIHZhbHVlID0gYmluZGluZ3Nba2V5XVxuICAgIGNvbnN0IHZhbGlkID0ga2V5ICE9PSAnbGV2ZWwnICYmXG4gICAgICBrZXkgIT09ICdzZXJpYWxpemVycycgJiZcbiAgICAgIGtleSAhPT0gJ2Zvcm1hdHRlcnMnICYmXG4gICAgICBrZXkgIT09ICdjdXN0b21MZXZlbHMnICYmXG4gICAgICBiaW5kaW5ncy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmXG4gICAgICB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgaWYgKHZhbGlkID09PSB0cnVlKSB7XG4gICAgICB2YWx1ZSA9IHNlcmlhbGl6ZXJzW2tleV0gPyBzZXJpYWxpemVyc1trZXldKHZhbHVlKSA6IHZhbHVlXG4gICAgICB2YWx1ZSA9IChzdHJpbmdpZmllcnNba2V5XSB8fCB3aWxkY2FyZFN0cmluZ2lmaWVyIHx8IHN0cmluZ2lmeSkodmFsdWUsIHN0cmluZ2lmeVNhZmUpXG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgY29udGludWVcbiAgICAgIGRhdGEgKz0gJyxcIicgKyBrZXkgKyAnXCI6JyArIHZhbHVlXG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbmZ1bmN0aW9uIGdldFByZXR0eVN0cmVhbSAob3B0cywgcHJldHRpZmllciwgZGVzdCwgaW5zdGFuY2UpIHtcbiAgaWYgKHByZXR0aWZpZXIgJiYgdHlwZW9mIHByZXR0aWZpZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwcmV0dGlmaWVyID0gcHJldHRpZmllci5iaW5kKGluc3RhbmNlKVxuICAgIHJldHVybiBwcmV0dGlmaWVyTWV0YVdyYXBwZXIocHJldHRpZmllcihvcHRzKSwgZGVzdCwgb3B0cylcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHByZXR0eUZhY3RvcnkgPSByZXF1aXJlKCdwaW5vLXByZXR0eScpLnByZXR0eUZhY3RvcnlcbiAgICBwcmV0dHlGYWN0b3J5LmFzTWV0YVdyYXBwZXIgPSBwcmV0dGlmaWVyTWV0YVdyYXBwZXJcbiAgICByZXR1cm4gcHJldHRpZmllck1ldGFXcmFwcGVyKHByZXR0eUZhY3Rvcnkob3B0cyksIGRlc3QsIG9wdHMpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZS5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ3Bpbm8tcHJldHR5J1wiKSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ01pc3NpbmcgYHBpbm8tcHJldHR5YCBtb2R1bGU6IGBwaW5vLXByZXR0eWAgbXVzdCBiZSBpbnN0YWxsZWQgc2VwYXJhdGVseScpXG4gICAgfTtcbiAgICB0aHJvdyBlXG4gIH1cbn1cblxuZnVuY3Rpb24gcHJldHRpZmllck1ldGFXcmFwcGVyIChwcmV0dHksIGRlc3QsIG9wdHMpIHtcbiAgb3B0cyA9IE9iamVjdC5hc3NpZ24oeyBzdXBwcmVzc0ZsdXNoU3luY1dhcm5pbmc6IGZhbHNlIH0sIG9wdHMpXG4gIGxldCB3YXJuZWQgPSBmYWxzZVxuICByZXR1cm4ge1xuICAgIFtuZWVkc01ldGFkYXRhR3N5bV06IHRydWUsXG4gICAgbGFzdExldmVsOiAwLFxuICAgIGxhc3RNc2c6IG51bGwsXG4gICAgbGFzdE9iajogbnVsbCxcbiAgICBsYXN0TG9nZ2VyOiBudWxsLFxuICAgIGZsdXNoU3luYyAoKSB7XG4gICAgICBpZiAob3B0cy5zdXBwcmVzc0ZsdXNoU3luY1dhcm5pbmcgfHwgd2FybmVkKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZVxuICAgICAgc2V0TWV0YWRhdGFQcm9wcyhkZXN0LCB0aGlzKVxuICAgICAgZGVzdC53cml0ZShwcmV0dHkoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGxldmVsOiA0MCwgLy8gd2FyblxuICAgICAgICBtc2c6ICdwaW5vLmZpbmFsIHdpdGggcHJldHR5UHJpbnQgZG9lcyBub3Qgc3VwcG9ydCBmbHVzaGluZycsXG4gICAgICAgIHRpbWU6IERhdGUubm93KClcbiAgICAgIH0sIHRoaXMuY2hpbmRpbmdzKCkpKSlcbiAgICB9LFxuICAgIGNoaW5kaW5ncyAoKSB7XG4gICAgICBjb25zdCBsYXN0TG9nZ2VyID0gdGhpcy5sYXN0TG9nZ2VyXG4gICAgICBsZXQgY2hpbmRpbmdzID0gbnVsbFxuXG4gICAgICAvLyBwcm90ZWN0aW9uIGFnYWluc3QgZmx1c2hTeW5jIGJlaW5nIGNhbGxlZCBiZWZvcmUgbG9nZ2luZ1xuICAgICAgLy8gYW55dGhpbmdcbiAgICAgIGlmICghbGFzdExvZ2dlcikge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuXG4gICAgICBpZiAobGFzdExvZ2dlci5oYXNPd25Qcm9wZXJ0eShwYXJzZWRDaGluZGluZ3NTeW0pKSB7XG4gICAgICAgIGNoaW5kaW5ncyA9IGxhc3RMb2dnZXJbcGFyc2VkQ2hpbmRpbmdzU3ltXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbmRpbmdzID0gSlNPTi5wYXJzZSgneycgKyBsYXN0TG9nZ2VyW2NoaW5kaW5nc1N5bV0uc3Vic3RyKDEpICsgJ30nKVxuICAgICAgICBsYXN0TG9nZ2VyW3BhcnNlZENoaW5kaW5nc1N5bV0gPSBjaGluZGluZ3NcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaW5kaW5nc1xuICAgIH0sXG4gICAgd3JpdGUgKGNodW5rKSB7XG4gICAgICBjb25zdCBsYXN0TG9nZ2VyID0gdGhpcy5sYXN0TG9nZ2VyXG4gICAgICBjb25zdCBjaGluZGluZ3MgPSB0aGlzLmNoaW5kaW5ncygpXG5cbiAgICAgIGxldCB0aW1lID0gdGhpcy5sYXN0VGltZVxuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKHR5cGVvZiB0aW1lID09PSAnbnVtYmVyJykge1xuICAgICAgICAvLyBkbyBub3RoaW5nIVxuICAgICAgfSBlbHNlIGlmICh0aW1lLm1hdGNoKC9eXFxkKy8pKSB7XG4gICAgICAgIHRpbWUgPSBwYXJzZUludCh0aW1lKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGltZSA9IHRpbWUuc2xpY2UoMSwgLTEpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxhc3RPYmogPSB0aGlzLmxhc3RPYmpcbiAgICAgIGNvbnN0IGxhc3RNc2cgPSB0aGlzLmxhc3RNc2dcbiAgICAgIGNvbnN0IGVycm9yUHJvcHMgPSBudWxsXG5cbiAgICAgIGNvbnN0IGZvcm1hdHRlcnMgPSBsYXN0TG9nZ2VyW2Zvcm1hdHRlcnNTeW1dXG4gICAgICBjb25zdCBmb3JtYXR0ZWRPYmogPSBmb3JtYXR0ZXJzLmxvZyA/IGZvcm1hdHRlcnMubG9nKGxhc3RPYmopIDogbGFzdE9ialxuXG4gICAgICBjb25zdCBtZXNzYWdlS2V5ID0gbGFzdExvZ2dlclttZXNzYWdlS2V5U3ltXVxuICAgICAgaWYgKGxhc3RNc2cgJiYgZm9ybWF0dGVkT2JqICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZm9ybWF0dGVkT2JqLCBtZXNzYWdlS2V5KSkge1xuICAgICAgICBmb3JtYXR0ZWRPYmpbbWVzc2FnZUtleV0gPSBsYXN0TXNnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBsZXZlbDogdGhpcy5sYXN0TGV2ZWwsXG4gICAgICAgIHRpbWVcbiAgICAgIH0sIGZvcm1hdHRlZE9iaiwgZXJyb3JQcm9wcylcblxuICAgICAgY29uc3Qgc2VyaWFsaXplcnMgPSBsYXN0TG9nZ2VyW3NlcmlhbGl6ZXJzU3ltXVxuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNlcmlhbGl6ZXJzKVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXVxuICAgICAgICBpZiAob2JqW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG9ialtrZXldID0gc2VyaWFsaXplcnNba2V5XShvYmpba2V5XSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBjaGluZGluZ3MpIHtcbiAgICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIG9ialtrZXldID0gY2hpbmRpbmdzW2tleV1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzdHJpbmdpZmllcnMgPSBsYXN0TG9nZ2VyW3N0cmluZ2lmaWVyc1N5bV1cbiAgICAgIGNvbnN0IHJlZGFjdCA9IHN0cmluZ2lmaWVyc1tyZWRhY3RGbXRTeW1dXG5cbiAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHByZXR0eSh0eXBlb2YgcmVkYWN0ID09PSAnZnVuY3Rpb24nID8gcmVkYWN0KG9iaikgOiBvYmopXG4gICAgICBpZiAoZm9ybWF0dGVkID09PSB1bmRlZmluZWQpIHJldHVyblxuXG4gICAgICBzZXRNZXRhZGF0YVByb3BzKGRlc3QsIHRoaXMpXG4gICAgICBkZXN0LndyaXRlKGZvcm1hdHRlZClcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFzQmVlblRhbXBlcmVkIChzdHJlYW0pIHtcbiAgcmV0dXJuIHN0cmVhbS53cml0ZSAhPT0gc3RyZWFtLmNvbnN0cnVjdG9yLnByb3RvdHlwZS53cml0ZVxufVxuXG5mdW5jdGlvbiBidWlsZFNhZmVTb25pY0Jvb20gKG9wdHMpIHtcbiAgY29uc3Qgc3RyZWFtID0gbmV3IFNvbmljQm9vbShvcHRzKVxuICBzdHJlYW0ub24oJ2Vycm9yJywgZmlsdGVyQnJva2VuUGlwZSlcbiAgLy8gaWYgd2UgYXJlIHN5bmM6IGZhbHNlLCB3ZSBtdXN0IGZsdXNoIG9uIGV4aXRcbiAgaWYgKCFvcHRzLnN5bmMgJiYgaXNNYWluVGhyZWFkKSB7XG4gICAgc2V0dXBPbkV4aXQoc3RyZWFtKVxuICB9XG4gIHJldHVybiBzdHJlYW1cblxuICBmdW5jdGlvbiBmaWx0ZXJCcm9rZW5QaXBlIChlcnIpIHtcbiAgICAvLyBUT0RPIHZlcmlmeSBvbiBXaW5kb3dzXG4gICAgaWYgKGVyci5jb2RlID09PSAnRVBJUEUnKSB7XG4gICAgICAvLyBJZiB3ZSBnZXQgRVBJUEUsIHdlIHNob3VsZCBzdG9wIGxvZ2dpbmcgaGVyZVxuICAgICAgLy8gaG93ZXZlciB3ZSBoYXZlIG5vIGNvbnRyb2wgdG8gdGhlIGNvbnN1bWVyIG9mXG4gICAgICAvLyBTb25pY0Jvb20sIHNvIHdlIGp1c3Qgb3ZlcndyaXRlIHRoZSB3cml0ZSBtZXRob2RcbiAgICAgIHN0cmVhbS53cml0ZSA9IG5vb3BcbiAgICAgIHN0cmVhbS5lbmQgPSBub29wXG4gICAgICBzdHJlYW0uZmx1c2hTeW5jID0gbm9vcFxuICAgICAgc3RyZWFtLmRlc3Ryb3kgPSBub29wXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGZpbHRlckJyb2tlblBpcGUpXG4gICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXJyKVxuICB9XG59XG5cbmZ1bmN0aW9uIHNldHVwT25FeGl0IChzdHJlYW0pIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKGdsb2JhbC5XZWFrUmVmICYmIGdsb2JhbC5XZWFrTWFwICYmIGdsb2JhbC5GaW5hbGl6YXRpb25SZWdpc3RyeSkge1xuICAgIC8vIFRoaXMgaXMgbGVhayBmcmVlLCBpdCBkb2VzIG5vdCBsZWF2ZSBldmVudCBoYW5kbGVyc1xuICAgIGNvbnN0IG9uRXhpdCA9IHJlcXVpcmUoJ29uLWV4aXQtbGVhay1mcmVlJylcblxuICAgIG9uRXhpdC5yZWdpc3RlcihzdHJlYW0sIGF1dG9FbmQpXG5cbiAgICBzdHJlYW0ub24oJ2Nsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgb25FeGl0LnVucmVnaXN0ZXIoc3RyZWFtKVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXV0b0VuZCAoc3RyZWFtLCBldmVudE5hbWUpIHtcbiAgLy8gVGhpcyBjaGVjayBpcyBuZWVkZWQgb25seSBvbiBzb21lIHBsYXRmb3Jtc1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoc3RyZWFtLmRlc3Ryb3llZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKGV2ZW50TmFtZSA9PT0gJ2JlZm9yZUV4aXQnKSB7XG4gICAgLy8gV2Ugc3RpbGwgaGF2ZSBhbiBldmVudCBsb29wLCBsZXQncyB1c2UgaXRcbiAgICBzdHJlYW0uZmx1c2goKVxuICAgIHN0cmVhbS5vbignZHJhaW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICBzdHJlYW0uZW5kKClcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIC8vIFdlIGRvIG5vdCBoYXZlIGFuIGV2ZW50IGxvb3AsIHNvIGZsdXNoIHN5bmNocm9ub3VzbHlcbiAgICBzdHJlYW0uZmx1c2hTeW5jKClcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVBcmdzTm9ybWFsaXplciAoZGVmYXVsdE9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG5vcm1hbGl6ZUFyZ3MgKGluc3RhbmNlLCBjYWxsZXIsIG9wdHMgPSB7fSwgc3RyZWFtKSB7XG4gICAgLy8gc3VwcG9ydCBzdHJlYW0gYXMgYSBzdHJpbmdcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzdHJlYW0gPSBidWlsZFNhZmVTb25pY0Jvb20oeyBkZXN0OiBvcHRzLCBzeW5jOiB0cnVlIH0pXG4gICAgICBvcHRzID0ge31cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHJlYW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAob3B0cyAmJiBvcHRzLnRyYW5zcG9ydCkge1xuICAgICAgICB0aHJvdyBFcnJvcignb25seSBvbmUgb2Ygb3B0aW9uLnRyYW5zcG9ydCBvciBzdHJlYW0gY2FuIGJlIHNwZWNpZmllZCcpXG4gICAgICB9XG4gICAgICBzdHJlYW0gPSBidWlsZFNhZmVTb25pY0Jvb20oeyBkZXN0OiBzdHJlYW0sIHN5bmM6IHRydWUgfSlcbiAgICB9IGVsc2UgaWYgKG9wdHMgaW5zdGFuY2VvZiBTb25pY0Jvb20gfHwgb3B0cy53cml0YWJsZSB8fCBvcHRzLl93cml0YWJsZVN0YXRlKSB7XG4gICAgICBzdHJlYW0gPSBvcHRzXG4gICAgICBvcHRzID0ge31cbiAgICB9IGVsc2UgaWYgKG9wdHMudHJhbnNwb3J0KSB7XG4gICAgICBpZiAob3B0cy50cmFuc3BvcnQgaW5zdGFuY2VvZiBTb25pY0Jvb20gfHwgb3B0cy50cmFuc3BvcnQud3JpdGFibGUgfHwgb3B0cy50cmFuc3BvcnQuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ29wdGlvbi50cmFuc3BvcnQgZG8gbm90IGFsbG93IHN0cmVhbSwgcGxlYXNlIHBhc3MgdG8gb3B0aW9uIGRpcmVjdGx5LiBlLmcuIHBpbm8odHJhbnNwb3J0KScpXG4gICAgICB9XG4gICAgICBpZiAob3B0cy50cmFuc3BvcnQudGFyZ2V0cyAmJiBvcHRzLnRyYW5zcG9ydC50YXJnZXRzLmxlbmd0aCAmJiBvcHRzLmZvcm1hdHRlcnMgJiYgdHlwZW9mIG9wdHMuZm9ybWF0dGVycy5sZXZlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBFcnJvcignb3B0aW9uLnRyYW5zcG9ydC50YXJnZXRzIGRvIG5vdCBhbGxvdyBjdXN0b20gbGV2ZWwgZm9ybWF0dGVycycpXG4gICAgICB9XG5cbiAgICAgIGxldCBjdXN0b21MZXZlbHNcbiAgICAgIGlmIChvcHRzLmN1c3RvbUxldmVscykge1xuICAgICAgICBjdXN0b21MZXZlbHMgPSBvcHRzLnVzZU9ubHlDdXN0b21MZXZlbHMgPyBvcHRzLmN1c3RvbUxldmVscyA6IE9iamVjdC5hc3NpZ24oe30sIG9wdHMubGV2ZWxzLCBvcHRzLmN1c3RvbUxldmVscylcbiAgICAgIH1cbiAgICAgIHN0cmVhbSA9IHRyYW5zcG9ydCh7IGNhbGxlciwgLi4ub3B0cy50cmFuc3BvcnQsIGxldmVsczogY3VzdG9tTGV2ZWxzIH0pXG4gICAgfVxuICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0cylcbiAgICBvcHRzLnNlcmlhbGl6ZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMuc2VyaWFsaXplcnMsIG9wdHMuc2VyaWFsaXplcnMpXG4gICAgb3B0cy5mb3JtYXR0ZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMuZm9ybWF0dGVycywgb3B0cy5mb3JtYXR0ZXJzKVxuXG4gICAgaWYgKCdvblRlcm1pbmF0ZWQnIGluIG9wdHMpIHtcbiAgICAgIHRocm93IEVycm9yKCdUaGUgb25UZXJtaW5hdGVkIG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkLCB1c2UgcGluby5maW5hbCBpbnN0ZWFkJylcbiAgICB9XG4gICAgaWYgKCdjaGFuZ2VMZXZlbE5hbWUnIGluIG9wdHMpIHtcbiAgICAgIHByb2Nlc3MuZW1pdFdhcm5pbmcoXG4gICAgICAgICdUaGUgY2hhbmdlTGV2ZWxOYW1lIG9wdGlvbiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjcuIFVzZSBsZXZlbEtleSBpbnN0ZWFkLicsXG4gICAgICAgIHsgY29kZTogJ2NoYW5nZUxldmVsTmFtZV9kZXByZWNhdGlvbicgfVxuICAgICAgKVxuICAgICAgb3B0cy5sZXZlbEtleSA9IG9wdHMuY2hhbmdlTGV2ZWxOYW1lXG4gICAgICBkZWxldGUgb3B0cy5jaGFuZ2VMZXZlbE5hbWVcbiAgICB9XG4gICAgY29uc3QgeyBlbmFibGVkLCBwcmV0dHlQcmludCwgcHJldHRpZmllciwgbWVzc2FnZUtleSB9ID0gb3B0c1xuICAgIGlmIChlbmFibGVkID09PSBmYWxzZSkgb3B0cy5sZXZlbCA9ICdzaWxlbnQnXG4gICAgc3RyZWFtID0gc3RyZWFtIHx8IHByb2Nlc3Muc3Rkb3V0XG4gICAgaWYgKHN0cmVhbSA9PT0gcHJvY2Vzcy5zdGRvdXQgJiYgc3RyZWFtLmZkID49IDAgJiYgIWhhc0JlZW5UYW1wZXJlZChzdHJlYW0pKSB7XG4gICAgICBzdHJlYW0gPSBidWlsZFNhZmVTb25pY0Jvb20oeyBmZDogc3RyZWFtLmZkLCBzeW5jOiB0cnVlIH0pXG4gICAgfVxuICAgIGlmIChwcmV0dHlQcmludCkge1xuICAgICAgd2FybmluZy5lbWl0KCdQSU5PREVQMDA4JylcbiAgICAgIGNvbnN0IHByZXR0eU9wdHMgPSBPYmplY3QuYXNzaWduKHsgbWVzc2FnZUtleSB9LCBwcmV0dHlQcmludClcbiAgICAgIHN0cmVhbSA9IGdldFByZXR0eVN0cmVhbShwcmV0dHlPcHRzLCBwcmV0dGlmaWVyLCBzdHJlYW0sIGluc3RhbmNlKVxuICAgIH1cbiAgICByZXR1cm4geyBvcHRzLCBzdHJlYW0gfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmFsIChsb2dnZXIsIGhhbmRsZXIpIHtcbiAgY29uc3QgbWFqb3IgPSBOdW1iZXIocHJvY2Vzcy52ZXJzaW9ucy5ub2RlLnNwbGl0KCcuJylbMF0pXG4gIGlmIChtYWpvciA+PSAxNCkgd2FybmluZy5lbWl0KCdQSU5PREVQMDA5JylcblxuICBpZiAodHlwZW9mIGxvZ2dlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGxvZ2dlci5jaGlsZCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IEVycm9yKCdleHBlY3RlZCBhIHBpbm8gbG9nZ2VyIGluc3RhbmNlJylcbiAgfVxuICBjb25zdCBoYXNIYW5kbGVyID0gKHR5cGVvZiBoYW5kbGVyICE9PSAndW5kZWZpbmVkJylcbiAgaWYgKGhhc0hhbmRsZXIgJiYgdHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBFcnJvcignaWYgc3VwcGxpZWQsIHRoZSBoYW5kbGVyIHBhcmFtZXRlciBzaG91bGQgYmUgYSBmdW5jdGlvbicpXG4gIH1cbiAgY29uc3Qgc3RyZWFtID0gbG9nZ2VyW3N0cmVhbVN5bV1cbiAgaWYgKHR5cGVvZiBzdHJlYW0uZmx1c2hTeW5jICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgRXJyb3IoJ2ZpbmFsIHJlcXVpcmVzIGEgc3RyZWFtIHRoYXQgaGFzIGEgZmx1c2hTeW5jIG1ldGhvZCwgc3VjaCBhcyBwaW5vLmRlc3RpbmF0aW9uJylcbiAgfVxuXG4gIGNvbnN0IGZpbmFsTG9nZ2VyID0gbmV3IFByb3h5KGxvZ2dlciwge1xuICAgIGdldDogKGxvZ2dlciwga2V5KSA9PiB7XG4gICAgICBpZiAoa2V5IGluIGxvZ2dlci5sZXZlbHMudmFsdWVzKSB7XG4gICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgIGxvZ2dlcltrZXldKC4uLmFyZ3MpXG4gICAgICAgICAgc3RyZWFtLmZsdXNoU3luYygpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBsb2dnZXJba2V5XVxuICAgIH1cbiAgfSlcblxuICBpZiAoIWhhc0hhbmRsZXIpIHtcbiAgICB0cnkge1xuICAgICAgc3RyZWFtLmZsdXNoU3luYygpXG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBpdCdzIHRvbyBsYXRlIHRvIHdhaXQgZm9yIHRoZSBzdHJlYW0gdG8gYmUgcmVhZHlcbiAgICAgIC8vIGJlY2F1c2UgdGhpcyBpcyBhIGZpbmFsIHRpY2sgc2NlbmFyaW8uXG4gICAgICAvLyBpbiBwcmFjdGljZSB0aGVyZSBzaG91bGRuJ3QgYmUgYSBzaXR1YXRpb24gd2hlcmUgaXQgaXNuJ3RcbiAgICAgIC8vIGhvd2V2ZXIsIHN3YWxsb3cgdGhlIGVycm9yIGp1c3QgaW4gY2FzZSAoYW5kIGZvciBlYXNpZXIgdGVzdGluZylcbiAgICB9XG4gICAgcmV0dXJuIGZpbmFsTG9nZ2VyXG4gIH1cblxuICByZXR1cm4gKGVyciA9IG51bGwsIC4uLmFyZ3MpID0+IHtcbiAgICB0cnkge1xuICAgICAgc3RyZWFtLmZsdXNoU3luYygpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gaXQncyB0b28gbGF0ZSB0byB3YWl0IGZvciB0aGUgc3RyZWFtIHRvIGJlIHJlYWR5XG4gICAgICAvLyBiZWNhdXNlIHRoaXMgaXMgYSBmaW5hbCB0aWNrIHNjZW5hcmlvLlxuICAgICAgLy8gaW4gcHJhY3RpY2UgdGhlcmUgc2hvdWxkbid0IGJlIGEgc2l0dWF0aW9uIHdoZXJlIGl0IGlzbid0XG4gICAgICAvLyBob3dldmVyLCBzd2FsbG93IHRoZSBlcnJvciBqdXN0IGluIGNhc2UgKGFuZCBmb3IgZWFzaWVyIHRlc3RpbmcpXG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVyKGVyciwgZmluYWxMb2dnZXIsIC4uLmFyZ3MpXG4gIH1cbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5IChvYmosIHN0cmluZ2lmeVNhZmVGbikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopXG4gIH0gY2F0Y2ggKF8pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RyaW5naWZ5ID0gc3RyaW5naWZ5U2FmZUZuIHx8IHRoaXNbc3RyaW5naWZ5U2FmZVN5bV1cbiAgICAgIHJldHVybiBzdHJpbmdpZnkob2JqKVxuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIHJldHVybiAnXCJbdW5hYmxlIHRvIHNlcmlhbGl6ZSwgY2lyY3VsYXIgcmVmZXJlbmNlIGlzIHRvbyBjb21wbGV4IHRvIGFuYWx5emVdXCInXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkRm9ybWF0dGVycyAobGV2ZWwsIGJpbmRpbmdzLCBsb2cpIHtcbiAgcmV0dXJuIHtcbiAgICBsZXZlbCxcbiAgICBiaW5kaW5ncyxcbiAgICBsb2dcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRNZXRhZGF0YVByb3BzIChkZXN0LCB0aGF0KSB7XG4gIGlmIChkZXN0W25lZWRzTWV0YWRhdGFHc3ltXSA9PT0gdHJ1ZSkge1xuICAgIGRlc3QubGFzdExldmVsID0gdGhhdC5sYXN0TGV2ZWxcbiAgICBkZXN0Lmxhc3RNc2cgPSB0aGF0Lmxhc3RNc2dcbiAgICBkZXN0Lmxhc3RPYmogPSB0aGF0Lmxhc3RPYmpcbiAgICBkZXN0Lmxhc3RUaW1lID0gdGhhdC5sYXN0VGltZVxuICAgIGRlc3QubGFzdExvZ2dlciA9IHRoYXQubGFzdExvZ2dlclxuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBhIHN0cmluZyBpbnRlZ2VyIGZpbGUgZGVzY3JpcHRvciB0byBhIHByb3BlciBuYXRpdmUgaW50ZWdlclxuICogZmlsZSBkZXNjcmlwdG9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBkZXN0aW5hdGlvbiBUaGUgZmlsZSBkZXNjcmlwdG9yIHN0cmluZyB0byBhdHRlbXB0IHRvIGNvbnZlcnQuXG4gKlxuICogQHJldHVybnMge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplRGVzdEZpbGVEZXNjcmlwdG9yIChkZXN0aW5hdGlvbikge1xuICBjb25zdCBmZCA9IE51bWJlcihkZXN0aW5hdGlvbilcbiAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbiA9PT0gJ3N0cmluZycgJiYgTnVtYmVyLmlzRmluaXRlKGZkKSkge1xuICAgIHJldHVybiBmZFxuICB9XG4gIHJldHVybiBkZXN0aW5hdGlvblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbm9vcCxcbiAgYnVpbGRTYWZlU29uaWNCb29tLFxuICBnZXRQcmV0dHlTdHJlYW0sXG4gIGFzQ2hpbmRpbmdzLFxuICBhc0pzb24sXG4gIGdlbkxvZyxcbiAgY3JlYXRlQXJnc05vcm1hbGl6ZXIsXG4gIGZpbmFsLFxuICBzdHJpbmdpZnksXG4gIGJ1aWxkRm9ybWF0dGVycyxcbiAgbm9ybWFsaXplRGVzdEZpbGVEZXNjcmlwdG9yXG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/tools.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/transport.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/lib/transport.js ***!
  \*******************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst { createRequire } = __webpack_require__(/*! module */ \"module\")\nconst getCallers = __webpack_require__(/*! ./caller */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/caller.js\")\nconst { join, isAbsolute } = __webpack_require__(/*! path */ \"path\")\nconst sleep = __webpack_require__(/*! atomic-sleep */ \"(ssr)/./node_modules/atomic-sleep/index.js\")\n\nlet onExit\n\nif (global.WeakRef && global.WeakMap && global.FinalizationRegistry) {\n  // This require MUST be top level otherwise the transport would\n  // not work from within Jest as it hijacks require.\n  onExit = __webpack_require__(/*! on-exit-leak-free */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/on-exit-leak-free/index.js\")\n}\n\nconst ThreadStream = __webpack_require__(/*! thread-stream */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/thread-stream/index.js\")\n\nfunction setupOnExit (stream) {\n  /* istanbul ignore next */\n  if (onExit) {\n    // This is leak free, it does not leave event handlers\n    onExit.register(stream, autoEnd)\n\n    stream.on('close', function () {\n      onExit.unregister(stream)\n    })\n  } else {\n    const fn = autoEnd.bind(null, stream)\n    process.once('beforeExit', fn)\n    process.once('exit', fn)\n\n    stream.on('close', function () {\n      process.removeListener('beforeExit', fn)\n      process.removeListener('exit', fn)\n    })\n  }\n}\n\nfunction buildStream (filename, workerData, workerOpts) {\n  const stream = new ThreadStream({\n    filename,\n    workerData,\n    workerOpts\n  })\n\n  stream.on('ready', onReady)\n  stream.on('close', function () {\n    process.removeListener('exit', onExit)\n  })\n\n  process.on('exit', onExit)\n\n  function onReady () {\n    process.removeListener('exit', onExit)\n    stream.unref()\n\n    if (workerOpts.autoEnd !== false) {\n      setupOnExit(stream)\n    }\n  }\n\n  function onExit () {\n    if (stream.closed) {\n      return\n    }\n    stream.flushSync()\n    // Apparently there is a very sporadic race condition\n    // that in certain OS would prevent the messages to be flushed\n    // because the thread might not have been created still.\n    // Unfortunately we need to sleep(100) in this case.\n    sleep(100)\n    stream.end()\n  }\n\n  return stream\n}\n\nfunction autoEnd (stream) {\n  stream.ref()\n  stream.flushSync()\n  stream.end()\n  stream.once('close', function () {\n    stream.unref()\n  })\n}\n\nfunction transport (fullOptions) {\n  const { pipeline, targets, levels, options = {}, worker = {}, caller = getCallers() } = fullOptions\n\n  // Backwards compatibility\n  const callers = typeof caller === 'string' ? [caller] : caller\n\n  // This will be eventually modified by bundlers\n  const bundlerOverrides = '__bundlerPathsOverrides' in globalThis ? globalThis.__bundlerPathsOverrides : {}\n\n  let target = fullOptions.target\n\n  if (target && targets) {\n    throw new Error('only one of target or targets can be specified')\n  }\n\n  if (targets) {\n    target = bundlerOverrides['pino-worker'] || join(__dirname, 'worker.js')\n    options.targets = targets.map((dest) => {\n      return {\n        ...dest,\n        target: fixTarget(dest.target)\n      }\n    })\n  } else if (pipeline) {\n    target = bundlerOverrides['pino-pipeline-worker'] || join(__dirname, 'worker-pipeline.js')\n    options.targets = pipeline.map((dest) => {\n      return {\n        ...dest,\n        target: fixTarget(dest.target)\n      }\n    })\n  }\n\n  if (levels) {\n    options.levels = levels\n  }\n\n  return buildStream(fixTarget(target), options, worker)\n\n  function fixTarget (origin) {\n    origin = bundlerOverrides[origin] || origin\n\n    if (isAbsolute(origin) || origin.indexOf('file://') === 0) {\n      return origin\n    }\n\n    if (origin === 'pino/file') {\n      return join(__dirname, '..', 'file.js')\n    }\n\n    let fixTarget\n\n    for (const filePath of callers) {\n      try {\n        fixTarget = createRequire(filePath).resolve(origin)\n        break\n      } catch (err) {\n        // Silent catch\n        continue\n      }\n    }\n\n    if (!fixTarget) {\n      throw new Error(`unable to determine transport target for \"${origin}\"`)\n    }\n\n    return fixTarget\n  }\n}\n\nmodule.exports = transport\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi90cmFuc3BvcnQuanMiLCJtYXBwaW5ncyI6IkFBQVk7O0FBRVosUUFBUSxnQkFBZ0IsRUFBRSxtQkFBTyxDQUFDLHNCQUFRO0FBQzFDLG1CQUFtQixtQkFBTyxDQUFDLDRGQUFVO0FBQ3JDLFFBQVEsbUJBQW1CLEVBQUUsbUJBQU8sQ0FBQyxrQkFBTTtBQUMzQyxjQUFjLG1CQUFPLENBQUMsZ0VBQWM7O0FBRXBDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQU8sQ0FBQyw2R0FBbUI7QUFDdEM7O0FBRUEscUJBQXFCLG1CQUFPLENBQUMscUdBQWU7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFVBQVUsdUNBQXVDLGFBQWEsMEJBQTBCOztBQUV4RjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1FQUFtRSxPQUFPO0FBQzFFOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL2xpYi90cmFuc3BvcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHsgY3JlYXRlUmVxdWlyZSB9ID0gcmVxdWlyZSgnbW9kdWxlJylcbmNvbnN0IGdldENhbGxlcnMgPSByZXF1aXJlKCcuL2NhbGxlcicpXG5jb25zdCB7IGpvaW4sIGlzQWJzb2x1dGUgfSA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3Qgc2xlZXAgPSByZXF1aXJlKCdhdG9taWMtc2xlZXAnKVxuXG5sZXQgb25FeGl0XG5cbmlmIChnbG9iYWwuV2Vha1JlZiAmJiBnbG9iYWwuV2Vha01hcCAmJiBnbG9iYWwuRmluYWxpemF0aW9uUmVnaXN0cnkpIHtcbiAgLy8gVGhpcyByZXF1aXJlIE1VU1QgYmUgdG9wIGxldmVsIG90aGVyd2lzZSB0aGUgdHJhbnNwb3J0IHdvdWxkXG4gIC8vIG5vdCB3b3JrIGZyb20gd2l0aGluIEplc3QgYXMgaXQgaGlqYWNrcyByZXF1aXJlLlxuICBvbkV4aXQgPSByZXF1aXJlKCdvbi1leGl0LWxlYWstZnJlZScpXG59XG5cbmNvbnN0IFRocmVhZFN0cmVhbSA9IHJlcXVpcmUoJ3RocmVhZC1zdHJlYW0nKVxuXG5mdW5jdGlvbiBzZXR1cE9uRXhpdCAoc3RyZWFtKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChvbkV4aXQpIHtcbiAgICAvLyBUaGlzIGlzIGxlYWsgZnJlZSwgaXQgZG9lcyBub3QgbGVhdmUgZXZlbnQgaGFuZGxlcnNcbiAgICBvbkV4aXQucmVnaXN0ZXIoc3RyZWFtLCBhdXRvRW5kKVxuXG4gICAgc3RyZWFtLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIG9uRXhpdC51bnJlZ2lzdGVyKHN0cmVhbSlcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGZuID0gYXV0b0VuZC5iaW5kKG51bGwsIHN0cmVhbSlcbiAgICBwcm9jZXNzLm9uY2UoJ2JlZm9yZUV4aXQnLCBmbilcbiAgICBwcm9jZXNzLm9uY2UoJ2V4aXQnLCBmbilcblxuICAgIHN0cmVhbS5vbignY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKCdiZWZvcmVFeGl0JywgZm4pXG4gICAgICBwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKCdleGl0JywgZm4pXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBidWlsZFN0cmVhbSAoZmlsZW5hbWUsIHdvcmtlckRhdGEsIHdvcmtlck9wdHMpIHtcbiAgY29uc3Qgc3RyZWFtID0gbmV3IFRocmVhZFN0cmVhbSh7XG4gICAgZmlsZW5hbWUsXG4gICAgd29ya2VyRGF0YSxcbiAgICB3b3JrZXJPcHRzXG4gIH0pXG5cbiAgc3RyZWFtLm9uKCdyZWFkeScsIG9uUmVhZHkpXG4gIHN0cmVhbS5vbignY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgcHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcignZXhpdCcsIG9uRXhpdClcbiAgfSlcblxuICBwcm9jZXNzLm9uKCdleGl0Jywgb25FeGl0KVxuXG4gIGZ1bmN0aW9uIG9uUmVhZHkgKCkge1xuICAgIHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIoJ2V4aXQnLCBvbkV4aXQpXG4gICAgc3RyZWFtLnVucmVmKClcblxuICAgIGlmICh3b3JrZXJPcHRzLmF1dG9FbmQgIT09IGZhbHNlKSB7XG4gICAgICBzZXR1cE9uRXhpdChzdHJlYW0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25FeGl0ICgpIHtcbiAgICBpZiAoc3RyZWFtLmNsb3NlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHN0cmVhbS5mbHVzaFN5bmMoKVxuICAgIC8vIEFwcGFyZW50bHkgdGhlcmUgaXMgYSB2ZXJ5IHNwb3JhZGljIHJhY2UgY29uZGl0aW9uXG4gICAgLy8gdGhhdCBpbiBjZXJ0YWluIE9TIHdvdWxkIHByZXZlbnQgdGhlIG1lc3NhZ2VzIHRvIGJlIGZsdXNoZWRcbiAgICAvLyBiZWNhdXNlIHRoZSB0aHJlYWQgbWlnaHQgbm90IGhhdmUgYmVlbiBjcmVhdGVkIHN0aWxsLlxuICAgIC8vIFVuZm9ydHVuYXRlbHkgd2UgbmVlZCB0byBzbGVlcCgxMDApIGluIHRoaXMgY2FzZS5cbiAgICBzbGVlcCgxMDApXG4gICAgc3RyZWFtLmVuZCgpXG4gIH1cblxuICByZXR1cm4gc3RyZWFtXG59XG5cbmZ1bmN0aW9uIGF1dG9FbmQgKHN0cmVhbSkge1xuICBzdHJlYW0ucmVmKClcbiAgc3RyZWFtLmZsdXNoU3luYygpXG4gIHN0cmVhbS5lbmQoKVxuICBzdHJlYW0ub25jZSgnY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgc3RyZWFtLnVucmVmKClcbiAgfSlcbn1cblxuZnVuY3Rpb24gdHJhbnNwb3J0IChmdWxsT3B0aW9ucykge1xuICBjb25zdCB7IHBpcGVsaW5lLCB0YXJnZXRzLCBsZXZlbHMsIG9wdGlvbnMgPSB7fSwgd29ya2VyID0ge30sIGNhbGxlciA9IGdldENhbGxlcnMoKSB9ID0gZnVsbE9wdGlvbnNcblxuICAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICBjb25zdCBjYWxsZXJzID0gdHlwZW9mIGNhbGxlciA9PT0gJ3N0cmluZycgPyBbY2FsbGVyXSA6IGNhbGxlclxuXG4gIC8vIFRoaXMgd2lsbCBiZSBldmVudHVhbGx5IG1vZGlmaWVkIGJ5IGJ1bmRsZXJzXG4gIGNvbnN0IGJ1bmRsZXJPdmVycmlkZXMgPSAnX19idW5kbGVyUGF0aHNPdmVycmlkZXMnIGluIGdsb2JhbFRoaXMgPyBnbG9iYWxUaGlzLl9fYnVuZGxlclBhdGhzT3ZlcnJpZGVzIDoge31cblxuICBsZXQgdGFyZ2V0ID0gZnVsbE9wdGlvbnMudGFyZ2V0XG5cbiAgaWYgKHRhcmdldCAmJiB0YXJnZXRzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdvbmx5IG9uZSBvZiB0YXJnZXQgb3IgdGFyZ2V0cyBjYW4gYmUgc3BlY2lmaWVkJylcbiAgfVxuXG4gIGlmICh0YXJnZXRzKSB7XG4gICAgdGFyZ2V0ID0gYnVuZGxlck92ZXJyaWRlc1sncGluby13b3JrZXInXSB8fCBqb2luKF9fZGlybmFtZSwgJ3dvcmtlci5qcycpXG4gICAgb3B0aW9ucy50YXJnZXRzID0gdGFyZ2V0cy5tYXAoKGRlc3QpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRlc3QsXG4gICAgICAgIHRhcmdldDogZml4VGFyZ2V0KGRlc3QudGFyZ2V0KVxuICAgICAgfVxuICAgIH0pXG4gIH0gZWxzZSBpZiAocGlwZWxpbmUpIHtcbiAgICB0YXJnZXQgPSBidW5kbGVyT3ZlcnJpZGVzWydwaW5vLXBpcGVsaW5lLXdvcmtlciddIHx8IGpvaW4oX19kaXJuYW1lLCAnd29ya2VyLXBpcGVsaW5lLmpzJylcbiAgICBvcHRpb25zLnRhcmdldHMgPSBwaXBlbGluZS5tYXAoKGRlc3QpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRlc3QsXG4gICAgICAgIHRhcmdldDogZml4VGFyZ2V0KGRlc3QudGFyZ2V0KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBpZiAobGV2ZWxzKSB7XG4gICAgb3B0aW9ucy5sZXZlbHMgPSBsZXZlbHNcbiAgfVxuXG4gIHJldHVybiBidWlsZFN0cmVhbShmaXhUYXJnZXQodGFyZ2V0KSwgb3B0aW9ucywgd29ya2VyKVxuXG4gIGZ1bmN0aW9uIGZpeFRhcmdldCAob3JpZ2luKSB7XG4gICAgb3JpZ2luID0gYnVuZGxlck92ZXJyaWRlc1tvcmlnaW5dIHx8IG9yaWdpblxuXG4gICAgaWYgKGlzQWJzb2x1dGUob3JpZ2luKSB8fCBvcmlnaW4uaW5kZXhPZignZmlsZTovLycpID09PSAwKSB7XG4gICAgICByZXR1cm4gb3JpZ2luXG4gICAgfVxuXG4gICAgaWYgKG9yaWdpbiA9PT0gJ3Bpbm8vZmlsZScpIHtcbiAgICAgIHJldHVybiBqb2luKF9fZGlybmFtZSwgJy4uJywgJ2ZpbGUuanMnKVxuICAgIH1cblxuICAgIGxldCBmaXhUYXJnZXRcblxuICAgIGZvciAoY29uc3QgZmlsZVBhdGggb2YgY2FsbGVycykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZml4VGFyZ2V0ID0gY3JlYXRlUmVxdWlyZShmaWxlUGF0aCkucmVzb2x2ZShvcmlnaW4pXG4gICAgICAgIGJyZWFrXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gU2lsZW50IGNhdGNoXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFmaXhUYXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdW5hYmxlIHRvIGRldGVybWluZSB0cmFuc3BvcnQgdGFyZ2V0IGZvciBcIiR7b3JpZ2lufVwiYClcbiAgICB9XG5cbiAgICByZXR1cm4gZml4VGFyZ2V0XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc3BvcnRcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/transport.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/package.json":
/*!***************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/package.json ***!
  \***************************************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"name":"pino","version":"7.11.0","description":"super fast, all natural json logger","main":"pino.js","type":"commonjs","types":"pino.d.ts","browser":"./browser.js","files":["pino.js","file.js","pino.d.ts","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],"scripts":{"docs":"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js","lint":"eslint .","test":"npm run lint && npm run transpile && tap --ts && jest test/jest && npm run test-types","test-ci":"npm run lint && npm run transpile && tap --ts --no-check-coverage --coverage-report=lcovonly && npm run test-types","test-ci-pnpm":"pnpm run lint && npm run transpile && tap --ts --no-coverage --no-check-coverage && pnpm run test-types","test-ci-yarn-pnp":"yarn run lint && npm run transpile && tap --ts --no-check-coverage --coverage-report=lcovonly","test-types":"tsc && tsd && ts-node test/types/pino.ts","transpile":"node ./test/fixtures/ts/transpile.cjs","cov-ui":"tap --ts --coverage-report=html","bench":"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},"bin":{"pino":"./bin.js"},"precommit":"test","repository":{"type":"git","url":"git+https://github.com/pinojs/pino.git"},"keywords":["fast","logger","stream","json"],"author":"Matteo Collina <hello@matteocollina.com>","contributors":["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],"license":"MIT","bugs":{"url":"https://github.com/pinojs/pino/issues"},"homepage":"http://getpino.io","devDependencies":{"@types/flush-write-stream":"^1.0.0","@types/node":"^17.0.0","@types/tap":"^15.0.6","airtap":"4.0.4","benchmark":"^2.1.4","bole":"^4.0.0","bunyan":"^1.8.14","docsify-cli":"^4.4.1","eslint":"^7.17.0","eslint-config-standard":"^16.0.3","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0","execa":"^5.0.0","fastbench":"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1","jest":"^27.3.1","log":"^6.0.0","loglevel":"^1.6.7","pino-pretty":"^v7.6.0","pre-commit":"^1.2.2","proxyquire":"^2.1.3","pump":"^3.0.0","rimraf":"^3.0.2","semver":"^7.0.0","split2":"^4.0.0","steed":"^1.1.3","strip-ansi":"^6.0.0","tap":"^16.0.0","tape":"^5.0.0","through2":"^4.0.0","ts-node":"^10.7.0","tsd":"^0.20.0","typescript":"^4.4.4","winston":"^3.3.3"},"dependencies":{"atomic-sleep":"^1.0.0","fast-redact":"^3.0.0","on-exit-leak-free":"^0.2.0","pino-abstract-transport":"v0.5.0","pino-std-serializers":"^4.0.0","process-warning":"^1.0.0","quick-format-unescaped":"^4.0.3","real-require":"^0.1.0","safe-stable-stringify":"^2.1.0","sonic-boom":"^2.2.1","thread-stream":"^0.15.1"},"tsd":{"directory":"test/types"}}');

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/pino.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/pino/pino.js ***!
  \**********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n/* eslint no-prototype-builtins: 0 */\nconst os = __webpack_require__(/*! os */ \"os\")\nconst stdSerializers = __webpack_require__(/*! pino-std-serializers */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino-std-serializers/index.js\")\nconst caller = __webpack_require__(/*! ./lib/caller */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/caller.js\")\nconst redaction = __webpack_require__(/*! ./lib/redaction */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/redaction.js\")\nconst time = __webpack_require__(/*! ./lib/time */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/time.js\")\nconst proto = __webpack_require__(/*! ./lib/proto */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/proto.js\")\nconst symbols = __webpack_require__(/*! ./lib/symbols */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/symbols.js\")\nconst { configure } = __webpack_require__(/*! safe-stable-stringify */ \"(ssr)/./node_modules/safe-stable-stringify/index.js\")\nconst { assertDefaultLevelFound, mappings, genLsCache, levels } = __webpack_require__(/*! ./lib/levels */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/levels.js\")\nconst {\n  createArgsNormalizer,\n  asChindings,\n  final,\n  buildSafeSonicBoom,\n  buildFormatters,\n  stringify,\n  normalizeDestFileDescriptor,\n  noop\n} = __webpack_require__(/*! ./lib/tools */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/tools.js\")\nconst { version } = __webpack_require__(/*! ./lib/meta */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/meta.js\")\nconst {\n  chindingsSym,\n  redactFmtSym,\n  serializersSym,\n  timeSym,\n  timeSliceIndexSym,\n  streamSym,\n  stringifySym,\n  stringifySafeSym,\n  stringifiersSym,\n  setLevelSym,\n  endSym,\n  formatOptsSym,\n  messageKeySym,\n  nestedKeySym,\n  mixinSym,\n  useOnlyCustomLevelsSym,\n  formattersSym,\n  hooksSym,\n  nestedKeyStrSym,\n  mixinMergeStrategySym\n} = symbols\nconst { epochTime, nullTime } = time\nconst { pid } = process\nconst hostname = os.hostname()\nconst defaultErrorSerializer = stdSerializers.err\nconst defaultOptions = {\n  level: 'info',\n  levels,\n  messageKey: 'msg',\n  nestedKey: null,\n  enabled: true,\n  prettyPrint: false,\n  base: { pid, hostname },\n  serializers: Object.assign(Object.create(null), {\n    err: defaultErrorSerializer\n  }),\n  formatters: Object.assign(Object.create(null), {\n    bindings (bindings) {\n      return bindings\n    },\n    level (label, number) {\n      return { level: number }\n    }\n  }),\n  hooks: {\n    logMethod: undefined\n  },\n  timestamp: epochTime,\n  name: undefined,\n  redact: null,\n  customLevels: null,\n  useOnlyCustomLevels: false,\n  depthLimit: 5,\n  edgeLimit: 100\n}\n\nconst normalize = createArgsNormalizer(defaultOptions)\n\nconst serializers = Object.assign(Object.create(null), stdSerializers)\n\nfunction pino (...args) {\n  const instance = {}\n  const { opts, stream } = normalize(instance, caller(), ...args)\n  const {\n    redact,\n    crlf,\n    serializers,\n    timestamp,\n    messageKey,\n    nestedKey,\n    base,\n    name,\n    level,\n    customLevels,\n    mixin,\n    mixinMergeStrategy,\n    useOnlyCustomLevels,\n    formatters,\n    hooks,\n    depthLimit,\n    edgeLimit\n  } = opts\n\n  const stringifySafe = configure({\n    maximumDepth: depthLimit,\n    maximumBreadth: edgeLimit\n  })\n\n  const allFormatters = buildFormatters(\n    formatters.level,\n    formatters.bindings,\n    formatters.log\n  )\n\n  const stringifiers = redact ? redaction(redact, stringify) : {}\n  const stringifyFn = stringify.bind({\n    [stringifySafeSym]: stringifySafe\n  })\n  const formatOpts = redact\n    ? { stringify: stringifiers[redactFmtSym] }\n    : { stringify: stringifyFn }\n  const end = '}' + (crlf ? '\\r\\n' : '\\n')\n  const coreChindings = asChindings.bind(null, {\n    [chindingsSym]: '',\n    [serializersSym]: serializers,\n    [stringifiersSym]: stringifiers,\n    [stringifySym]: stringify,\n    [stringifySafeSym]: stringifySafe,\n    [formattersSym]: allFormatters\n  })\n\n  let chindings = ''\n  if (base !== null) {\n    if (name === undefined) {\n      chindings = coreChindings(base)\n    } else {\n      chindings = coreChindings(Object.assign({}, base, { name }))\n    }\n  }\n\n  const time = (timestamp instanceof Function)\n    ? timestamp\n    : (timestamp ? epochTime : nullTime)\n  const timeSliceIndex = time().indexOf(':') + 1\n\n  if (useOnlyCustomLevels && !customLevels) throw Error('customLevels is required if useOnlyCustomLevels is set true')\n  if (mixin && typeof mixin !== 'function') throw Error(`Unknown mixin type \"${typeof mixin}\" - expected \"function\"`)\n\n  assertDefaultLevelFound(level, customLevels, useOnlyCustomLevels)\n  const levels = mappings(customLevels, useOnlyCustomLevels)\n\n  Object.assign(instance, {\n    levels,\n    [useOnlyCustomLevelsSym]: useOnlyCustomLevels,\n    [streamSym]: stream,\n    [timeSym]: time,\n    [timeSliceIndexSym]: timeSliceIndex,\n    [stringifySym]: stringify,\n    [stringifySafeSym]: stringifySafe,\n    [stringifiersSym]: stringifiers,\n    [endSym]: end,\n    [formatOptsSym]: formatOpts,\n    [messageKeySym]: messageKey,\n    [nestedKeySym]: nestedKey,\n    // protect against injection\n    [nestedKeyStrSym]: nestedKey ? `,${JSON.stringify(nestedKey)}:{` : '',\n    [serializersSym]: serializers,\n    [mixinSym]: mixin,\n    [mixinMergeStrategySym]: mixinMergeStrategy,\n    [chindingsSym]: chindings,\n    [formattersSym]: allFormatters,\n    [hooksSym]: hooks,\n    silent: noop\n  })\n\n  Object.setPrototypeOf(instance, proto())\n\n  genLsCache(instance)\n\n  instance[setLevelSym](level)\n\n  return instance\n}\n\nmodule.exports = pino\n\nmodule.exports.destination = (dest = process.stdout.fd) => {\n  if (typeof dest === 'object') {\n    dest.dest = normalizeDestFileDescriptor(dest.dest || process.stdout.fd)\n    return buildSafeSonicBoom(dest)\n  } else {\n    return buildSafeSonicBoom({ dest: normalizeDestFileDescriptor(dest), minLength: 0, sync: true })\n  }\n}\n\nmodule.exports.transport = __webpack_require__(/*! ./lib/transport */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/transport.js\")\nmodule.exports.multistream = __webpack_require__(/*! ./lib/multistream */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/lib/multistream.js\")\n\nmodule.exports.final = final\nmodule.exports.levels = mappings()\nmodule.exports.stdSerializers = serializers\nmodule.exports.stdTimeFunctions = Object.assign({}, time)\nmodule.exports.symbols = symbols\nmodule.exports.version = version\n\n// Enables default and name export with TypeScript and Babel\nmodule.exports[\"default\"] = pino\nmodule.exports.pino = pino\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL3Bpbm8uanMiLCJtYXBwaW5ncyI6IkFBQVk7QUFDWjtBQUNBLFdBQVcsbUJBQU8sQ0FBQyxjQUFJO0FBQ3ZCLHVCQUF1QixtQkFBTyxDQUFDLG1IQUFzQjtBQUNyRCxlQUFlLG1CQUFPLENBQUMsZ0dBQWM7QUFDckMsa0JBQWtCLG1CQUFPLENBQUMsc0dBQWlCO0FBQzNDLGFBQWEsbUJBQU8sQ0FBQyw0RkFBWTtBQUNqQyxjQUFjLG1CQUFPLENBQUMsOEZBQWE7QUFDbkMsZ0JBQWdCLG1CQUFPLENBQUMsa0dBQWU7QUFDdkMsUUFBUSxZQUFZLEVBQUUsbUJBQU8sQ0FBQyxrRkFBdUI7QUFDckQsUUFBUSx3REFBd0QsRUFBRSxtQkFBTyxDQUFDLGdHQUFjO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSxtQkFBTyxDQUFDLDhGQUFhO0FBQ3pCLFFBQVEsVUFBVSxFQUFFLG1CQUFPLENBQUMsNEZBQVk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLFFBQVEsc0JBQXNCO0FBQzlCLFFBQVEsTUFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZUFBZTtBQUN6QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGVBQWU7QUFDZjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFVBQVUsZUFBZTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxRQUFRO0FBQ1IsUUFBUTtBQUNSLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sZ0RBQWdELFVBQVUsTUFBTTtBQUNoRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0VBQStFLGFBQWE7O0FBRTVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwQkFBMEIsRUFBRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGdDQUFnQyxtRUFBbUU7QUFDbkc7QUFDQTs7QUFFQSxzSkFBcUQ7QUFDckQsNEpBQXlEOztBQUV6RCxvQkFBb0I7QUFDcEIscUJBQXFCO0FBQ3JCLDZCQUE2QjtBQUM3QiwrQkFBK0IsbUJBQW1CO0FBQ2xELHNCQUFzQjtBQUN0QixzQkFBc0I7O0FBRXRCO0FBQ0EseUJBQXNCO0FBQ3RCLG1CQUFtQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9waW5vL3Bpbm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG4vKiBlc2xpbnQgbm8tcHJvdG90eXBlLWJ1aWx0aW5zOiAwICovXG5jb25zdCBvcyA9IHJlcXVpcmUoJ29zJylcbmNvbnN0IHN0ZFNlcmlhbGl6ZXJzID0gcmVxdWlyZSgncGluby1zdGQtc2VyaWFsaXplcnMnKVxuY29uc3QgY2FsbGVyID0gcmVxdWlyZSgnLi9saWIvY2FsbGVyJylcbmNvbnN0IHJlZGFjdGlvbiA9IHJlcXVpcmUoJy4vbGliL3JlZGFjdGlvbicpXG5jb25zdCB0aW1lID0gcmVxdWlyZSgnLi9saWIvdGltZScpXG5jb25zdCBwcm90byA9IHJlcXVpcmUoJy4vbGliL3Byb3RvJylcbmNvbnN0IHN5bWJvbHMgPSByZXF1aXJlKCcuL2xpYi9zeW1ib2xzJylcbmNvbnN0IHsgY29uZmlndXJlIH0gPSByZXF1aXJlKCdzYWZlLXN0YWJsZS1zdHJpbmdpZnknKVxuY29uc3QgeyBhc3NlcnREZWZhdWx0TGV2ZWxGb3VuZCwgbWFwcGluZ3MsIGdlbkxzQ2FjaGUsIGxldmVscyB9ID0gcmVxdWlyZSgnLi9saWIvbGV2ZWxzJylcbmNvbnN0IHtcbiAgY3JlYXRlQXJnc05vcm1hbGl6ZXIsXG4gIGFzQ2hpbmRpbmdzLFxuICBmaW5hbCxcbiAgYnVpbGRTYWZlU29uaWNCb29tLFxuICBidWlsZEZvcm1hdHRlcnMsXG4gIHN0cmluZ2lmeSxcbiAgbm9ybWFsaXplRGVzdEZpbGVEZXNjcmlwdG9yLFxuICBub29wXG59ID0gcmVxdWlyZSgnLi9saWIvdG9vbHMnKVxuY29uc3QgeyB2ZXJzaW9uIH0gPSByZXF1aXJlKCcuL2xpYi9tZXRhJylcbmNvbnN0IHtcbiAgY2hpbmRpbmdzU3ltLFxuICByZWRhY3RGbXRTeW0sXG4gIHNlcmlhbGl6ZXJzU3ltLFxuICB0aW1lU3ltLFxuICB0aW1lU2xpY2VJbmRleFN5bSxcbiAgc3RyZWFtU3ltLFxuICBzdHJpbmdpZnlTeW0sXG4gIHN0cmluZ2lmeVNhZmVTeW0sXG4gIHN0cmluZ2lmaWVyc1N5bSxcbiAgc2V0TGV2ZWxTeW0sXG4gIGVuZFN5bSxcbiAgZm9ybWF0T3B0c1N5bSxcbiAgbWVzc2FnZUtleVN5bSxcbiAgbmVzdGVkS2V5U3ltLFxuICBtaXhpblN5bSxcbiAgdXNlT25seUN1c3RvbUxldmVsc1N5bSxcbiAgZm9ybWF0dGVyc1N5bSxcbiAgaG9va3NTeW0sXG4gIG5lc3RlZEtleVN0clN5bSxcbiAgbWl4aW5NZXJnZVN0cmF0ZWd5U3ltXG59ID0gc3ltYm9sc1xuY29uc3QgeyBlcG9jaFRpbWUsIG51bGxUaW1lIH0gPSB0aW1lXG5jb25zdCB7IHBpZCB9ID0gcHJvY2Vzc1xuY29uc3QgaG9zdG5hbWUgPSBvcy5ob3N0bmFtZSgpXG5jb25zdCBkZWZhdWx0RXJyb3JTZXJpYWxpemVyID0gc3RkU2VyaWFsaXplcnMuZXJyXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgbGV2ZWw6ICdpbmZvJyxcbiAgbGV2ZWxzLFxuICBtZXNzYWdlS2V5OiAnbXNnJyxcbiAgbmVzdGVkS2V5OiBudWxsLFxuICBlbmFibGVkOiB0cnVlLFxuICBwcmV0dHlQcmludDogZmFsc2UsXG4gIGJhc2U6IHsgcGlkLCBob3N0bmFtZSB9LFxuICBzZXJpYWxpemVyczogT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCB7XG4gICAgZXJyOiBkZWZhdWx0RXJyb3JTZXJpYWxpemVyXG4gIH0pLFxuICBmb3JtYXR0ZXJzOiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIHtcbiAgICBiaW5kaW5ncyAoYmluZGluZ3MpIHtcbiAgICAgIHJldHVybiBiaW5kaW5nc1xuICAgIH0sXG4gICAgbGV2ZWwgKGxhYmVsLCBudW1iZXIpIHtcbiAgICAgIHJldHVybiB7IGxldmVsOiBudW1iZXIgfVxuICAgIH1cbiAgfSksXG4gIGhvb2tzOiB7XG4gICAgbG9nTWV0aG9kOiB1bmRlZmluZWRcbiAgfSxcbiAgdGltZXN0YW1wOiBlcG9jaFRpbWUsXG4gIG5hbWU6IHVuZGVmaW5lZCxcbiAgcmVkYWN0OiBudWxsLFxuICBjdXN0b21MZXZlbHM6IG51bGwsXG4gIHVzZU9ubHlDdXN0b21MZXZlbHM6IGZhbHNlLFxuICBkZXB0aExpbWl0OiA1LFxuICBlZGdlTGltaXQ6IDEwMFxufVxuXG5jb25zdCBub3JtYWxpemUgPSBjcmVhdGVBcmdzTm9ybWFsaXplcihkZWZhdWx0T3B0aW9ucylcblxuY29uc3Qgc2VyaWFsaXplcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIHN0ZFNlcmlhbGl6ZXJzKVxuXG5mdW5jdGlvbiBwaW5vICguLi5hcmdzKSB7XG4gIGNvbnN0IGluc3RhbmNlID0ge31cbiAgY29uc3QgeyBvcHRzLCBzdHJlYW0gfSA9IG5vcm1hbGl6ZShpbnN0YW5jZSwgY2FsbGVyKCksIC4uLmFyZ3MpXG4gIGNvbnN0IHtcbiAgICByZWRhY3QsXG4gICAgY3JsZixcbiAgICBzZXJpYWxpemVycyxcbiAgICB0aW1lc3RhbXAsXG4gICAgbWVzc2FnZUtleSxcbiAgICBuZXN0ZWRLZXksXG4gICAgYmFzZSxcbiAgICBuYW1lLFxuICAgIGxldmVsLFxuICAgIGN1c3RvbUxldmVscyxcbiAgICBtaXhpbixcbiAgICBtaXhpbk1lcmdlU3RyYXRlZ3ksXG4gICAgdXNlT25seUN1c3RvbUxldmVscyxcbiAgICBmb3JtYXR0ZXJzLFxuICAgIGhvb2tzLFxuICAgIGRlcHRoTGltaXQsXG4gICAgZWRnZUxpbWl0XG4gIH0gPSBvcHRzXG5cbiAgY29uc3Qgc3RyaW5naWZ5U2FmZSA9IGNvbmZpZ3VyZSh7XG4gICAgbWF4aW11bURlcHRoOiBkZXB0aExpbWl0LFxuICAgIG1heGltdW1CcmVhZHRoOiBlZGdlTGltaXRcbiAgfSlcblxuICBjb25zdCBhbGxGb3JtYXR0ZXJzID0gYnVpbGRGb3JtYXR0ZXJzKFxuICAgIGZvcm1hdHRlcnMubGV2ZWwsXG4gICAgZm9ybWF0dGVycy5iaW5kaW5ncyxcbiAgICBmb3JtYXR0ZXJzLmxvZ1xuICApXG5cbiAgY29uc3Qgc3RyaW5naWZpZXJzID0gcmVkYWN0ID8gcmVkYWN0aW9uKHJlZGFjdCwgc3RyaW5naWZ5KSA6IHt9XG4gIGNvbnN0IHN0cmluZ2lmeUZuID0gc3RyaW5naWZ5LmJpbmQoe1xuICAgIFtzdHJpbmdpZnlTYWZlU3ltXTogc3RyaW5naWZ5U2FmZVxuICB9KVxuICBjb25zdCBmb3JtYXRPcHRzID0gcmVkYWN0XG4gICAgPyB7IHN0cmluZ2lmeTogc3RyaW5naWZpZXJzW3JlZGFjdEZtdFN5bV0gfVxuICAgIDogeyBzdHJpbmdpZnk6IHN0cmluZ2lmeUZuIH1cbiAgY29uc3QgZW5kID0gJ30nICsgKGNybGYgPyAnXFxyXFxuJyA6ICdcXG4nKVxuICBjb25zdCBjb3JlQ2hpbmRpbmdzID0gYXNDaGluZGluZ3MuYmluZChudWxsLCB7XG4gICAgW2NoaW5kaW5nc1N5bV06ICcnLFxuICAgIFtzZXJpYWxpemVyc1N5bV06IHNlcmlhbGl6ZXJzLFxuICAgIFtzdHJpbmdpZmllcnNTeW1dOiBzdHJpbmdpZmllcnMsXG4gICAgW3N0cmluZ2lmeVN5bV06IHN0cmluZ2lmeSxcbiAgICBbc3RyaW5naWZ5U2FmZVN5bV06IHN0cmluZ2lmeVNhZmUsXG4gICAgW2Zvcm1hdHRlcnNTeW1dOiBhbGxGb3JtYXR0ZXJzXG4gIH0pXG5cbiAgbGV0IGNoaW5kaW5ncyA9ICcnXG4gIGlmIChiYXNlICE9PSBudWxsKSB7XG4gICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2hpbmRpbmdzID0gY29yZUNoaW5kaW5ncyhiYXNlKVxuICAgIH0gZWxzZSB7XG4gICAgICBjaGluZGluZ3MgPSBjb3JlQ2hpbmRpbmdzKE9iamVjdC5hc3NpZ24oe30sIGJhc2UsIHsgbmFtZSB9KSlcbiAgICB9XG4gIH1cblxuICBjb25zdCB0aW1lID0gKHRpbWVzdGFtcCBpbnN0YW5jZW9mIEZ1bmN0aW9uKVxuICAgID8gdGltZXN0YW1wXG4gICAgOiAodGltZXN0YW1wID8gZXBvY2hUaW1lIDogbnVsbFRpbWUpXG4gIGNvbnN0IHRpbWVTbGljZUluZGV4ID0gdGltZSgpLmluZGV4T2YoJzonKSArIDFcblxuICBpZiAodXNlT25seUN1c3RvbUxldmVscyAmJiAhY3VzdG9tTGV2ZWxzKSB0aHJvdyBFcnJvcignY3VzdG9tTGV2ZWxzIGlzIHJlcXVpcmVkIGlmIHVzZU9ubHlDdXN0b21MZXZlbHMgaXMgc2V0IHRydWUnKVxuICBpZiAobWl4aW4gJiYgdHlwZW9mIG1peGluICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBFcnJvcihgVW5rbm93biBtaXhpbiB0eXBlIFwiJHt0eXBlb2YgbWl4aW59XCIgLSBleHBlY3RlZCBcImZ1bmN0aW9uXCJgKVxuXG4gIGFzc2VydERlZmF1bHRMZXZlbEZvdW5kKGxldmVsLCBjdXN0b21MZXZlbHMsIHVzZU9ubHlDdXN0b21MZXZlbHMpXG4gIGNvbnN0IGxldmVscyA9IG1hcHBpbmdzKGN1c3RvbUxldmVscywgdXNlT25seUN1c3RvbUxldmVscylcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgbGV2ZWxzLFxuICAgIFt1c2VPbmx5Q3VzdG9tTGV2ZWxzU3ltXTogdXNlT25seUN1c3RvbUxldmVscyxcbiAgICBbc3RyZWFtU3ltXTogc3RyZWFtLFxuICAgIFt0aW1lU3ltXTogdGltZSxcbiAgICBbdGltZVNsaWNlSW5kZXhTeW1dOiB0aW1lU2xpY2VJbmRleCxcbiAgICBbc3RyaW5naWZ5U3ltXTogc3RyaW5naWZ5LFxuICAgIFtzdHJpbmdpZnlTYWZlU3ltXTogc3RyaW5naWZ5U2FmZSxcbiAgICBbc3RyaW5naWZpZXJzU3ltXTogc3RyaW5naWZpZXJzLFxuICAgIFtlbmRTeW1dOiBlbmQsXG4gICAgW2Zvcm1hdE9wdHNTeW1dOiBmb3JtYXRPcHRzLFxuICAgIFttZXNzYWdlS2V5U3ltXTogbWVzc2FnZUtleSxcbiAgICBbbmVzdGVkS2V5U3ltXTogbmVzdGVkS2V5LFxuICAgIC8vIHByb3RlY3QgYWdhaW5zdCBpbmplY3Rpb25cbiAgICBbbmVzdGVkS2V5U3RyU3ltXTogbmVzdGVkS2V5ID8gYCwke0pTT04uc3RyaW5naWZ5KG5lc3RlZEtleSl9OntgIDogJycsXG4gICAgW3NlcmlhbGl6ZXJzU3ltXTogc2VyaWFsaXplcnMsXG4gICAgW21peGluU3ltXTogbWl4aW4sXG4gICAgW21peGluTWVyZ2VTdHJhdGVneVN5bV06IG1peGluTWVyZ2VTdHJhdGVneSxcbiAgICBbY2hpbmRpbmdzU3ltXTogY2hpbmRpbmdzLFxuICAgIFtmb3JtYXR0ZXJzU3ltXTogYWxsRm9ybWF0dGVycyxcbiAgICBbaG9va3NTeW1dOiBob29rcyxcbiAgICBzaWxlbnQ6IG5vb3BcbiAgfSlcblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIHByb3RvKCkpXG5cbiAgZ2VuTHNDYWNoZShpbnN0YW5jZSlcblxuICBpbnN0YW5jZVtzZXRMZXZlbFN5bV0obGV2ZWwpXG5cbiAgcmV0dXJuIGluc3RhbmNlXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGlub1xuXG5tb2R1bGUuZXhwb3J0cy5kZXN0aW5hdGlvbiA9IChkZXN0ID0gcHJvY2Vzcy5zdGRvdXQuZmQpID0+IHtcbiAgaWYgKHR5cGVvZiBkZXN0ID09PSAnb2JqZWN0Jykge1xuICAgIGRlc3QuZGVzdCA9IG5vcm1hbGl6ZURlc3RGaWxlRGVzY3JpcHRvcihkZXN0LmRlc3QgfHwgcHJvY2Vzcy5zdGRvdXQuZmQpXG4gICAgcmV0dXJuIGJ1aWxkU2FmZVNvbmljQm9vbShkZXN0KVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBidWlsZFNhZmVTb25pY0Jvb20oeyBkZXN0OiBub3JtYWxpemVEZXN0RmlsZURlc2NyaXB0b3IoZGVzdCksIG1pbkxlbmd0aDogMCwgc3luYzogdHJ1ZSB9KVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzLnRyYW5zcG9ydCA9IHJlcXVpcmUoJy4vbGliL3RyYW5zcG9ydCcpXG5tb2R1bGUuZXhwb3J0cy5tdWx0aXN0cmVhbSA9IHJlcXVpcmUoJy4vbGliL211bHRpc3RyZWFtJylcblxubW9kdWxlLmV4cG9ydHMuZmluYWwgPSBmaW5hbFxubW9kdWxlLmV4cG9ydHMubGV2ZWxzID0gbWFwcGluZ3MoKVxubW9kdWxlLmV4cG9ydHMuc3RkU2VyaWFsaXplcnMgPSBzZXJpYWxpemVyc1xubW9kdWxlLmV4cG9ydHMuc3RkVGltZUZ1bmN0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRpbWUpXG5tb2R1bGUuZXhwb3J0cy5zeW1ib2xzID0gc3ltYm9sc1xubW9kdWxlLmV4cG9ydHMudmVyc2lvbiA9IHZlcnNpb25cblxuLy8gRW5hYmxlcyBkZWZhdWx0IGFuZCBuYW1lIGV4cG9ydCB3aXRoIFR5cGVTY3JpcHQgYW5kIEJhYmVsXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gcGlub1xubW9kdWxlLmV4cG9ydHMucGlubyA9IHBpbm9cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/pino/pino.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/process-warning/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/process-warning/index.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst { format } = __webpack_require__(/*! util */ \"util\")\n\nfunction build () {\n  const codes = {}\n  const emitted = new Map()\n\n  function create (name, code, message) {\n    if (!name) throw new Error('Warning name must not be empty')\n    if (!code) throw new Error('Warning code must not be empty')\n    if (!message) throw new Error('Warning message must not be empty')\n\n    code = code.toUpperCase()\n\n    if (codes[code] !== undefined) {\n      throw new Error(`The code '${code}' already exist`)\n    }\n\n    function buildWarnOpts (a, b, c) {\n      // more performant than spread (...) operator\n      let formatted\n      if (a && b && c) {\n        formatted = format(message, a, b, c)\n      } else if (a && b) {\n        formatted = format(message, a, b)\n      } else if (a) {\n        formatted = format(message, a)\n      } else {\n        formatted = message\n      }\n\n      return {\n        code,\n        name,\n        message: formatted\n      }\n    }\n\n    emitted.set(code, false)\n    codes[code] = buildWarnOpts\n\n    return codes[code]\n  }\n\n  function emit (code, a, b, c) {\n    if (codes[code] === undefined) throw new Error(`The code '${code}' does not exist`)\n    if (emitted.get(code) === true) return\n    emitted.set(code, true)\n\n    const warning = codes[code](a, b, c)\n    process.emitWarning(warning.message, warning.name, warning.code)\n  }\n\n  return {\n    create,\n    emit,\n    emitted\n  }\n}\n\nmodule.exports = build\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9wcm9jZXNzLXdhcm5pbmcvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQVk7O0FBRVosUUFBUSxTQUFTLEVBQUUsbUJBQU8sQ0FBQyxrQkFBTTs7QUFFakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsbUNBQW1DLEtBQUs7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxnRUFBZ0UsS0FBSztBQUNyRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9ub2RlX21vZHVsZXMvcHJvY2Vzcy13YXJuaW5nL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IGZvcm1hdCB9ID0gcmVxdWlyZSgndXRpbCcpXG5cbmZ1bmN0aW9uIGJ1aWxkICgpIHtcbiAgY29uc3QgY29kZXMgPSB7fVxuICBjb25zdCBlbWl0dGVkID0gbmV3IE1hcCgpXG5cbiAgZnVuY3Rpb24gY3JlYXRlIChuYW1lLCBjb2RlLCBtZXNzYWdlKSB7XG4gICAgaWYgKCFuYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ1dhcm5pbmcgbmFtZSBtdXN0IG5vdCBiZSBlbXB0eScpXG4gICAgaWYgKCFjb2RlKSB0aHJvdyBuZXcgRXJyb3IoJ1dhcm5pbmcgY29kZSBtdXN0IG5vdCBiZSBlbXB0eScpXG4gICAgaWYgKCFtZXNzYWdlKSB0aHJvdyBuZXcgRXJyb3IoJ1dhcm5pbmcgbWVzc2FnZSBtdXN0IG5vdCBiZSBlbXB0eScpXG5cbiAgICBjb2RlID0gY29kZS50b1VwcGVyQ2FzZSgpXG5cbiAgICBpZiAoY29kZXNbY29kZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgY29kZSAnJHtjb2RlfScgYWxyZWFkeSBleGlzdGApXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYnVpbGRXYXJuT3B0cyAoYSwgYiwgYykge1xuICAgICAgLy8gbW9yZSBwZXJmb3JtYW50IHRoYW4gc3ByZWFkICguLi4pIG9wZXJhdG9yXG4gICAgICBsZXQgZm9ybWF0dGVkXG4gICAgICBpZiAoYSAmJiBiICYmIGMpIHtcbiAgICAgICAgZm9ybWF0dGVkID0gZm9ybWF0KG1lc3NhZ2UsIGEsIGIsIGMpXG4gICAgICB9IGVsc2UgaWYgKGEgJiYgYikge1xuICAgICAgICBmb3JtYXR0ZWQgPSBmb3JtYXQobWVzc2FnZSwgYSwgYilcbiAgICAgIH0gZWxzZSBpZiAoYSkge1xuICAgICAgICBmb3JtYXR0ZWQgPSBmb3JtYXQobWVzc2FnZSwgYSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdHRlZCA9IG1lc3NhZ2VcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29kZSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbWVzc2FnZTogZm9ybWF0dGVkXG4gICAgICB9XG4gICAgfVxuXG4gICAgZW1pdHRlZC5zZXQoY29kZSwgZmFsc2UpXG4gICAgY29kZXNbY29kZV0gPSBidWlsZFdhcm5PcHRzXG5cbiAgICByZXR1cm4gY29kZXNbY29kZV1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVtaXQgKGNvZGUsIGEsIGIsIGMpIHtcbiAgICBpZiAoY29kZXNbY29kZV0gPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKGBUaGUgY29kZSAnJHtjb2RlfScgZG9lcyBub3QgZXhpc3RgKVxuICAgIGlmIChlbWl0dGVkLmdldChjb2RlKSA9PT0gdHJ1ZSkgcmV0dXJuXG4gICAgZW1pdHRlZC5zZXQoY29kZSwgdHJ1ZSlcblxuICAgIGNvbnN0IHdhcm5pbmcgPSBjb2Rlc1tjb2RlXShhLCBiLCBjKVxuICAgIHByb2Nlc3MuZW1pdFdhcm5pbmcod2FybmluZy5tZXNzYWdlLCB3YXJuaW5nLm5hbWUsIHdhcm5pbmcuY29kZSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY3JlYXRlLFxuICAgIGVtaXQsXG4gICAgZW1pdHRlZFxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnVpbGRcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/process-warning/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/sonic-boom/index.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/sonic-boom/index.js ***!
  \*****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst fs = __webpack_require__(/*! fs */ \"fs\")\nconst EventEmitter = __webpack_require__(/*! events */ \"events\")\nconst inherits = (__webpack_require__(/*! util */ \"util\").inherits)\nconst path = __webpack_require__(/*! path */ \"path\")\nconst sleep = __webpack_require__(/*! atomic-sleep */ \"(ssr)/./node_modules/atomic-sleep/index.js\")\n\nconst BUSY_WRITE_TIMEOUT = 100\n\n// 16 KB. Don't write more than docker buffer size.\n// https://github.com/moby/moby/blob/513ec73831269947d38a644c278ce3cac36783b2/daemon/logger/copier.go#L13\nconst MAX_WRITE = 16 * 1024\n\nfunction openFile (file, sonic) {\n  sonic._opening = true\n  sonic._writing = true\n  sonic._asyncDrainScheduled = false\n\n  // NOTE: 'error' and 'ready' events emitted below only relevant when sonic.sync===false\n  // for sync mode, there is no way to add a listener that will receive these\n\n  function fileOpened (err, fd) {\n    if (err) {\n      sonic._reopening = false\n      sonic._writing = false\n      sonic._opening = false\n\n      if (sonic.sync) {\n        process.nextTick(() => {\n          if (sonic.listenerCount('error') > 0) {\n            sonic.emit('error', err)\n          }\n        })\n      } else {\n        sonic.emit('error', err)\n      }\n      return\n    }\n\n    sonic.fd = fd\n    sonic.file = file\n    sonic._reopening = false\n    sonic._opening = false\n    sonic._writing = false\n\n    if (sonic.sync) {\n      process.nextTick(() => sonic.emit('ready'))\n    } else {\n      sonic.emit('ready')\n    }\n\n    if (sonic._reopening) {\n      return\n    }\n\n    // start\n    if (!sonic._writing && sonic._len > sonic.minLength && !sonic.destroyed) {\n      actualWrite(sonic)\n    }\n  }\n\n  const flags = sonic.append ? 'a' : 'w'\n  const mode = sonic.mode\n\n  if (sonic.sync) {\n    try {\n      if (sonic.mkdir) fs.mkdirSync(path.dirname(file), { recursive: true })\n      const fd = fs.openSync(file, flags, mode)\n      fileOpened(null, fd)\n    } catch (err) {\n      fileOpened(err)\n      throw err\n    }\n  } else if (sonic.mkdir) {\n    fs.mkdir(path.dirname(file), { recursive: true }, (err) => {\n      if (err) return fileOpened(err)\n      fs.open(file, flags, mode, fileOpened)\n    })\n  } else {\n    fs.open(file, flags, mode, fileOpened)\n  }\n}\n\nfunction SonicBoom (opts) {\n  if (!(this instanceof SonicBoom)) {\n    return new SonicBoom(opts)\n  }\n\n  let { fd, dest, minLength, maxLength, maxWrite, sync, append = true, mode, mkdir, retryEAGAIN } = opts || {}\n\n  fd = fd || dest\n\n  this._bufs = []\n  this._len = 0\n  this.fd = -1\n  this._writing = false\n  this._writingBuf = ''\n  this._ending = false\n  this._reopening = false\n  this._asyncDrainScheduled = false\n  this._hwm = Math.max(minLength || 0, 16387)\n  this.file = null\n  this.destroyed = false\n  this.minLength = minLength || 0\n  this.maxLength = maxLength || 0\n  this.maxWrite = maxWrite || MAX_WRITE\n  this.sync = sync || false\n  this.append = append || false\n  this.mode = mode\n  this.retryEAGAIN = retryEAGAIN || (() => true)\n  this.mkdir = mkdir || false\n\n  if (typeof fd === 'number') {\n    this.fd = fd\n    process.nextTick(() => this.emit('ready'))\n  } else if (typeof fd === 'string') {\n    openFile(fd, this)\n  } else {\n    throw new Error('SonicBoom supports only file descriptors and files')\n  }\n  if (this.minLength >= this.maxWrite) {\n    throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`)\n  }\n\n  this.release = (err, n) => {\n    if (err) {\n      if (err.code === 'EAGAIN' && this.retryEAGAIN(err, this._writingBuf.length, this._len - this._writingBuf.length)) {\n        if (this.sync) {\n          // This error code should not happen in sync mode, because it is\n          // not using the underlining operating system asynchronous functions.\n          // However it happens, and so we handle it.\n          // Ref: https://github.com/pinojs/pino/issues/783\n          try {\n            sleep(BUSY_WRITE_TIMEOUT)\n            this.release(undefined, 0)\n          } catch (err) {\n            this.release(err)\n          }\n        } else {\n          // Let's give the destination some time to process the chunk.\n          setTimeout(() => {\n            fs.write(this.fd, this._writingBuf, 'utf8', this.release)\n          }, BUSY_WRITE_TIMEOUT)\n        }\n      } else {\n        this._writing = false\n\n        this.emit('error', err)\n      }\n      return\n    }\n    this.emit('write', n)\n\n    this._len -= n\n    this._writingBuf = this._writingBuf.slice(n)\n\n    if (this._writingBuf.length) {\n      if (!this.sync) {\n        fs.write(this.fd, this._writingBuf, 'utf8', this.release)\n        return\n      }\n\n      try {\n        do {\n          const n = fs.writeSync(this.fd, this._writingBuf, 'utf8')\n          this._len -= n\n          this._writingBuf = this._writingBuf.slice(n)\n        } while (this._writingBuf)\n      } catch (err) {\n        this.release(err)\n        return\n      }\n    }\n\n    const len = this._len\n    if (this._reopening) {\n      this._writing = false\n      this._reopening = false\n      this.reopen()\n    } else if (len > this.minLength) {\n      actualWrite(this)\n    } else if (this._ending) {\n      if (len > 0) {\n        actualWrite(this)\n      } else {\n        this._writing = false\n        actualClose(this)\n      }\n    } else {\n      this._writing = false\n      if (this.sync) {\n        if (!this._asyncDrainScheduled) {\n          this._asyncDrainScheduled = true\n          process.nextTick(emitDrain, this)\n        }\n      } else {\n        this.emit('drain')\n      }\n    }\n  }\n\n  this.on('newListener', function (name) {\n    if (name === 'drain') {\n      this._asyncDrainScheduled = false\n    }\n  })\n}\n\nfunction emitDrain (sonic) {\n  const hasListeners = sonic.listenerCount('drain') > 0\n  if (!hasListeners) return\n  sonic._asyncDrainScheduled = false\n  sonic.emit('drain')\n}\n\ninherits(SonicBoom, EventEmitter)\n\nSonicBoom.prototype.write = function (data) {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  const len = this._len + data.length\n  const bufs = this._bufs\n\n  if (this.maxLength && len > this.maxLength) {\n    this.emit('drop', data)\n    return this._len < this._hwm\n  }\n\n  if (\n    bufs.length === 0 ||\n    bufs[bufs.length - 1].length + data.length > this.maxWrite\n  ) {\n    bufs.push('' + data)\n  } else {\n    bufs[bufs.length - 1] += data\n  }\n\n  this._len = len\n\n  if (!this._writing && this._len >= this.minLength) {\n    actualWrite(this)\n  }\n\n  return this._len < this._hwm\n}\n\nSonicBoom.prototype.flush = function () {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this._writing || this.minLength <= 0) {\n    return\n  }\n\n  if (this._bufs.length === 0) {\n    this._bufs.push('')\n  }\n\n  actualWrite(this)\n}\n\nSonicBoom.prototype.reopen = function (file) {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this._opening) {\n    this.once('ready', () => {\n      this.reopen(file)\n    })\n    return\n  }\n\n  if (this._ending) {\n    return\n  }\n\n  if (!this.file) {\n    throw new Error('Unable to reopen a file descriptor, you must pass a file to SonicBoom')\n  }\n\n  this._reopening = true\n\n  if (this._writing) {\n    return\n  }\n\n  const fd = this.fd\n  this.once('ready', () => {\n    if (fd !== this.fd) {\n      fs.close(fd, (err) => {\n        if (err) {\n          return this.emit('error', err)\n        }\n      })\n    }\n  })\n\n  openFile(file || this.file, this)\n}\n\nSonicBoom.prototype.end = function () {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this._opening) {\n    this.once('ready', () => {\n      this.end()\n    })\n    return\n  }\n\n  if (this._ending) {\n    return\n  }\n\n  this._ending = true\n\n  if (this._writing) {\n    return\n  }\n\n  if (this._len > 0 && this.fd >= 0) {\n    actualWrite(this)\n  } else {\n    actualClose(this)\n  }\n}\n\nSonicBoom.prototype.flushSync = function () {\n  if (this.destroyed) {\n    throw new Error('SonicBoom destroyed')\n  }\n\n  if (this.fd < 0) {\n    throw new Error('sonic boom is not ready yet')\n  }\n\n  if (!this._writing && this._writingBuf.length > 0) {\n    this._bufs.unshift(this._writingBuf)\n    this._writingBuf = ''\n  }\n\n  while (this._bufs.length) {\n    const buf = this._bufs[0]\n    try {\n      this._len -= fs.writeSync(this.fd, buf, 'utf8')\n      this._bufs.shift()\n    } catch (err) {\n      if (err.code !== 'EAGAIN' || !this.retryEAGAIN(err, buf.length, this._len - buf.length)) {\n        throw err\n      }\n\n      sleep(BUSY_WRITE_TIMEOUT)\n    }\n  }\n}\n\nSonicBoom.prototype.destroy = function () {\n  if (this.destroyed) {\n    return\n  }\n  actualClose(this)\n}\n\nfunction actualWrite (sonic) {\n  const release = sonic.release\n  sonic._writing = true\n  sonic._writingBuf = sonic._writingBuf || sonic._bufs.shift() || ''\n\n  if (sonic.sync) {\n    try {\n      const written = fs.writeSync(sonic.fd, sonic._writingBuf, 'utf8')\n      release(null, written)\n    } catch (err) {\n      release(err)\n    }\n  } else {\n    fs.write(sonic.fd, sonic._writingBuf, 'utf8', release)\n  }\n}\n\nfunction actualClose (sonic) {\n  if (sonic.fd === -1) {\n    sonic.once('ready', actualClose.bind(null, sonic))\n    return\n  }\n\n  sonic.destroyed = true\n  sonic._bufs = []\n\n  if (sonic.fd !== 1 && sonic.fd !== 2) {\n    fs.close(sonic.fd, done)\n  } else {\n    setImmediate(done)\n  }\n\n  function done (err) {\n    if (err) {\n      sonic.emit('error', err)\n      return\n    }\n\n    if (sonic._ending && !sonic._writing) {\n      sonic.emit('finish')\n    }\n    sonic.emit('close')\n  }\n}\n\n/**\n * These export configurations enable JS and TS developers\n * to consumer SonicBoom in whatever way best suits their needs.\n * Some examples of supported import syntax includes:\n * - `const SonicBoom = require('SonicBoom')`\n * - `const { SonicBoom } = require('SonicBoom')`\n * - `import * as SonicBoom from 'SonicBoom'`\n * - `import { SonicBoom } from 'SonicBoom'`\n * - `import SonicBoom from 'SonicBoom'`\n */\nSonicBoom.SonicBoom = SonicBoom\nSonicBoom.default = SonicBoom\nmodule.exports = SonicBoom\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9zb25pYy1ib29tL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaLFdBQVcsbUJBQU8sQ0FBQyxjQUFJO0FBQ3ZCLHFCQUFxQixtQkFBTyxDQUFDLHNCQUFRO0FBQ3JDLGlCQUFpQixrREFBd0I7QUFDekMsYUFBYSxtQkFBTyxDQUFDLGtCQUFNO0FBQzNCLGNBQWMsbUJBQU8sQ0FBQyxnRUFBYzs7QUFFcEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwREFBMEQsaUJBQWlCO0FBQzNFO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLG1DQUFtQyxpQkFBaUI7QUFDcEQ7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsMEZBQTBGOztBQUVsRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGNBQWM7QUFDaEY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQSxlQUFlLFlBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy9zb25pYy1ib29tL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJylcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpXG5jb25zdCBpbmhlcml0cyA9IHJlcXVpcmUoJ3V0aWwnKS5pbmhlcml0c1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3Qgc2xlZXAgPSByZXF1aXJlKCdhdG9taWMtc2xlZXAnKVxuXG5jb25zdCBCVVNZX1dSSVRFX1RJTUVPVVQgPSAxMDBcblxuLy8gMTYgS0IuIERvbid0IHdyaXRlIG1vcmUgdGhhbiBkb2NrZXIgYnVmZmVyIHNpemUuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbW9ieS9tb2J5L2Jsb2IvNTEzZWM3MzgzMTI2OTk0N2QzOGE2NDRjMjc4Y2UzY2FjMzY3ODNiMi9kYWVtb24vbG9nZ2VyL2NvcGllci5nbyNMMTNcbmNvbnN0IE1BWF9XUklURSA9IDE2ICogMTAyNFxuXG5mdW5jdGlvbiBvcGVuRmlsZSAoZmlsZSwgc29uaWMpIHtcbiAgc29uaWMuX29wZW5pbmcgPSB0cnVlXG4gIHNvbmljLl93cml0aW5nID0gdHJ1ZVxuICBzb25pYy5fYXN5bmNEcmFpblNjaGVkdWxlZCA9IGZhbHNlXG5cbiAgLy8gTk9URTogJ2Vycm9yJyBhbmQgJ3JlYWR5JyBldmVudHMgZW1pdHRlZCBiZWxvdyBvbmx5IHJlbGV2YW50IHdoZW4gc29uaWMuc3luYz09PWZhbHNlXG4gIC8vIGZvciBzeW5jIG1vZGUsIHRoZXJlIGlzIG5vIHdheSB0byBhZGQgYSBsaXN0ZW5lciB0aGF0IHdpbGwgcmVjZWl2ZSB0aGVzZVxuXG4gIGZ1bmN0aW9uIGZpbGVPcGVuZWQgKGVyciwgZmQpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBzb25pYy5fcmVvcGVuaW5nID0gZmFsc2VcbiAgICAgIHNvbmljLl93cml0aW5nID0gZmFsc2VcbiAgICAgIHNvbmljLl9vcGVuaW5nID0gZmFsc2VcblxuICAgICAgaWYgKHNvbmljLnN5bmMpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgaWYgKHNvbmljLmxpc3RlbmVyQ291bnQoJ2Vycm9yJykgPiAwKSB7XG4gICAgICAgICAgICBzb25pYy5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb25pYy5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNvbmljLmZkID0gZmRcbiAgICBzb25pYy5maWxlID0gZmlsZVxuICAgIHNvbmljLl9yZW9wZW5pbmcgPSBmYWxzZVxuICAgIHNvbmljLl9vcGVuaW5nID0gZmFsc2VcbiAgICBzb25pYy5fd3JpdGluZyA9IGZhbHNlXG5cbiAgICBpZiAoc29uaWMuc3luYykge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiBzb25pYy5lbWl0KCdyZWFkeScpKVxuICAgIH0gZWxzZSB7XG4gICAgICBzb25pYy5lbWl0KCdyZWFkeScpXG4gICAgfVxuXG4gICAgaWYgKHNvbmljLl9yZW9wZW5pbmcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHN0YXJ0XG4gICAgaWYgKCFzb25pYy5fd3JpdGluZyAmJiBzb25pYy5fbGVuID4gc29uaWMubWluTGVuZ3RoICYmICFzb25pYy5kZXN0cm95ZWQpIHtcbiAgICAgIGFjdHVhbFdyaXRlKHNvbmljKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZsYWdzID0gc29uaWMuYXBwZW5kID8gJ2EnIDogJ3cnXG4gIGNvbnN0IG1vZGUgPSBzb25pYy5tb2RlXG5cbiAgaWYgKHNvbmljLnN5bmMpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHNvbmljLm1rZGlyKSBmcy5ta2RpclN5bmMocGF0aC5kaXJuYW1lKGZpbGUpLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KVxuICAgICAgY29uc3QgZmQgPSBmcy5vcGVuU3luYyhmaWxlLCBmbGFncywgbW9kZSlcbiAgICAgIGZpbGVPcGVuZWQobnVsbCwgZmQpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBmaWxlT3BlbmVkKGVycilcbiAgICAgIHRocm93IGVyclxuICAgIH1cbiAgfSBlbHNlIGlmIChzb25pYy5ta2Rpcikge1xuICAgIGZzLm1rZGlyKHBhdGguZGlybmFtZShmaWxlKSwgeyByZWN1cnNpdmU6IHRydWUgfSwgKGVycikgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGZpbGVPcGVuZWQoZXJyKVxuICAgICAgZnMub3BlbihmaWxlLCBmbGFncywgbW9kZSwgZmlsZU9wZW5lZClcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIGZzLm9wZW4oZmlsZSwgZmxhZ3MsIG1vZGUsIGZpbGVPcGVuZWQpXG4gIH1cbn1cblxuZnVuY3Rpb24gU29uaWNCb29tIChvcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTb25pY0Jvb20pKSB7XG4gICAgcmV0dXJuIG5ldyBTb25pY0Jvb20ob3B0cylcbiAgfVxuXG4gIGxldCB7IGZkLCBkZXN0LCBtaW5MZW5ndGgsIG1heExlbmd0aCwgbWF4V3JpdGUsIHN5bmMsIGFwcGVuZCA9IHRydWUsIG1vZGUsIG1rZGlyLCByZXRyeUVBR0FJTiB9ID0gb3B0cyB8fCB7fVxuXG4gIGZkID0gZmQgfHwgZGVzdFxuXG4gIHRoaXMuX2J1ZnMgPSBbXVxuICB0aGlzLl9sZW4gPSAwXG4gIHRoaXMuZmQgPSAtMVxuICB0aGlzLl93cml0aW5nID0gZmFsc2VcbiAgdGhpcy5fd3JpdGluZ0J1ZiA9ICcnXG4gIHRoaXMuX2VuZGluZyA9IGZhbHNlXG4gIHRoaXMuX3Jlb3BlbmluZyA9IGZhbHNlXG4gIHRoaXMuX2FzeW5jRHJhaW5TY2hlZHVsZWQgPSBmYWxzZVxuICB0aGlzLl9od20gPSBNYXRoLm1heChtaW5MZW5ndGggfHwgMCwgMTYzODcpXG4gIHRoaXMuZmlsZSA9IG51bGxcbiAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZVxuICB0aGlzLm1pbkxlbmd0aCA9IG1pbkxlbmd0aCB8fCAwXG4gIHRoaXMubWF4TGVuZ3RoID0gbWF4TGVuZ3RoIHx8IDBcbiAgdGhpcy5tYXhXcml0ZSA9IG1heFdyaXRlIHx8IE1BWF9XUklURVxuICB0aGlzLnN5bmMgPSBzeW5jIHx8IGZhbHNlXG4gIHRoaXMuYXBwZW5kID0gYXBwZW5kIHx8IGZhbHNlXG4gIHRoaXMubW9kZSA9IG1vZGVcbiAgdGhpcy5yZXRyeUVBR0FJTiA9IHJldHJ5RUFHQUlOIHx8ICgoKSA9PiB0cnVlKVxuICB0aGlzLm1rZGlyID0gbWtkaXIgfHwgZmFsc2VcblxuICBpZiAodHlwZW9mIGZkID09PSAnbnVtYmVyJykge1xuICAgIHRoaXMuZmQgPSBmZFxuICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4gdGhpcy5lbWl0KCdyZWFkeScpKVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmZCA9PT0gJ3N0cmluZycpIHtcbiAgICBvcGVuRmlsZShmZCwgdGhpcylcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbmljQm9vbSBzdXBwb3J0cyBvbmx5IGZpbGUgZGVzY3JpcHRvcnMgYW5kIGZpbGVzJylcbiAgfVxuICBpZiAodGhpcy5taW5MZW5ndGggPj0gdGhpcy5tYXhXcml0ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgbWluTGVuZ3RoIHNob3VsZCBiZSBzbWFsbGVyIHRoYW4gbWF4V3JpdGUgKCR7dGhpcy5tYXhXcml0ZX0pYClcbiAgfVxuXG4gIHRoaXMucmVsZWFzZSA9IChlcnIsIG4pID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBpZiAoZXJyLmNvZGUgPT09ICdFQUdBSU4nICYmIHRoaXMucmV0cnlFQUdBSU4oZXJyLCB0aGlzLl93cml0aW5nQnVmLmxlbmd0aCwgdGhpcy5fbGVuIC0gdGhpcy5fd3JpdGluZ0J1Zi5sZW5ndGgpKSB7XG4gICAgICAgIGlmICh0aGlzLnN5bmMpIHtcbiAgICAgICAgICAvLyBUaGlzIGVycm9yIGNvZGUgc2hvdWxkIG5vdCBoYXBwZW4gaW4gc3luYyBtb2RlLCBiZWNhdXNlIGl0IGlzXG4gICAgICAgICAgLy8gbm90IHVzaW5nIHRoZSB1bmRlcmxpbmluZyBvcGVyYXRpbmcgc3lzdGVtIGFzeW5jaHJvbm91cyBmdW5jdGlvbnMuXG4gICAgICAgICAgLy8gSG93ZXZlciBpdCBoYXBwZW5zLCBhbmQgc28gd2UgaGFuZGxlIGl0LlxuICAgICAgICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Bpbm9qcy9waW5vL2lzc3Vlcy83ODNcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2xlZXAoQlVTWV9XUklURV9USU1FT1VUKVxuICAgICAgICAgICAgdGhpcy5yZWxlYXNlKHVuZGVmaW5lZCwgMClcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZShlcnIpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIExldCdzIGdpdmUgdGhlIGRlc3RpbmF0aW9uIHNvbWUgdGltZSB0byBwcm9jZXNzIHRoZSBjaHVuay5cbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZzLndyaXRlKHRoaXMuZmQsIHRoaXMuX3dyaXRpbmdCdWYsICd1dGY4JywgdGhpcy5yZWxlYXNlKVxuICAgICAgICAgIH0sIEJVU1lfV1JJVEVfVElNRU9VVClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd3JpdGluZyA9IGZhbHNlXG5cbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLmVtaXQoJ3dyaXRlJywgbilcblxuICAgIHRoaXMuX2xlbiAtPSBuXG4gICAgdGhpcy5fd3JpdGluZ0J1ZiA9IHRoaXMuX3dyaXRpbmdCdWYuc2xpY2UobilcblxuICAgIGlmICh0aGlzLl93cml0aW5nQnVmLmxlbmd0aCkge1xuICAgICAgaWYgKCF0aGlzLnN5bmMpIHtcbiAgICAgICAgZnMud3JpdGUodGhpcy5mZCwgdGhpcy5fd3JpdGluZ0J1ZiwgJ3V0ZjgnLCB0aGlzLnJlbGVhc2UpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgY29uc3QgbiA9IGZzLndyaXRlU3luYyh0aGlzLmZkLCB0aGlzLl93cml0aW5nQnVmLCAndXRmOCcpXG4gICAgICAgICAgdGhpcy5fbGVuIC09IG5cbiAgICAgICAgICB0aGlzLl93cml0aW5nQnVmID0gdGhpcy5fd3JpdGluZ0J1Zi5zbGljZShuKVxuICAgICAgICB9IHdoaWxlICh0aGlzLl93cml0aW5nQnVmKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMucmVsZWFzZShlcnIpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGxlbiA9IHRoaXMuX2xlblxuICAgIGlmICh0aGlzLl9yZW9wZW5pbmcpIHtcbiAgICAgIHRoaXMuX3dyaXRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy5fcmVvcGVuaW5nID0gZmFsc2VcbiAgICAgIHRoaXMucmVvcGVuKClcbiAgICB9IGVsc2UgaWYgKGxlbiA+IHRoaXMubWluTGVuZ3RoKSB7XG4gICAgICBhY3R1YWxXcml0ZSh0aGlzKVxuICAgIH0gZWxzZSBpZiAodGhpcy5fZW5kaW5nKSB7XG4gICAgICBpZiAobGVuID4gMCkge1xuICAgICAgICBhY3R1YWxXcml0ZSh0aGlzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd3JpdGluZyA9IGZhbHNlXG4gICAgICAgIGFjdHVhbENsb3NlKHRoaXMpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dyaXRpbmcgPSBmYWxzZVxuICAgICAgaWYgKHRoaXMuc3luYykge1xuICAgICAgICBpZiAoIXRoaXMuX2FzeW5jRHJhaW5TY2hlZHVsZWQpIHtcbiAgICAgICAgICB0aGlzLl9hc3luY0RyYWluU2NoZWR1bGVkID0gdHJ1ZVxuICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdERyYWluLCB0aGlzKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVtaXQoJ2RyYWluJylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLm9uKCduZXdMaXN0ZW5lcicsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKG5hbWUgPT09ICdkcmFpbicpIHtcbiAgICAgIHRoaXMuX2FzeW5jRHJhaW5TY2hlZHVsZWQgPSBmYWxzZVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gZW1pdERyYWluIChzb25pYykge1xuICBjb25zdCBoYXNMaXN0ZW5lcnMgPSBzb25pYy5saXN0ZW5lckNvdW50KCdkcmFpbicpID4gMFxuICBpZiAoIWhhc0xpc3RlbmVycykgcmV0dXJuXG4gIHNvbmljLl9hc3luY0RyYWluU2NoZWR1bGVkID0gZmFsc2VcbiAgc29uaWMuZW1pdCgnZHJhaW4nKVxufVxuXG5pbmhlcml0cyhTb25pY0Jvb20sIEV2ZW50RW1pdHRlcilcblxuU29uaWNCb29tLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU29uaWNCb29tIGRlc3Ryb3llZCcpXG4gIH1cblxuICBjb25zdCBsZW4gPSB0aGlzLl9sZW4gKyBkYXRhLmxlbmd0aFxuICBjb25zdCBidWZzID0gdGhpcy5fYnVmc1xuXG4gIGlmICh0aGlzLm1heExlbmd0aCAmJiBsZW4gPiB0aGlzLm1heExlbmd0aCkge1xuICAgIHRoaXMuZW1pdCgnZHJvcCcsIGRhdGEpXG4gICAgcmV0dXJuIHRoaXMuX2xlbiA8IHRoaXMuX2h3bVxuICB9XG5cbiAgaWYgKFxuICAgIGJ1ZnMubGVuZ3RoID09PSAwIHx8XG4gICAgYnVmc1tidWZzLmxlbmd0aCAtIDFdLmxlbmd0aCArIGRhdGEubGVuZ3RoID4gdGhpcy5tYXhXcml0ZVxuICApIHtcbiAgICBidWZzLnB1c2goJycgKyBkYXRhKVxuICB9IGVsc2Uge1xuICAgIGJ1ZnNbYnVmcy5sZW5ndGggLSAxXSArPSBkYXRhXG4gIH1cblxuICB0aGlzLl9sZW4gPSBsZW5cblxuICBpZiAoIXRoaXMuX3dyaXRpbmcgJiYgdGhpcy5fbGVuID49IHRoaXMubWluTGVuZ3RoKSB7XG4gICAgYWN0dWFsV3JpdGUodGhpcylcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9sZW4gPCB0aGlzLl9od21cbn1cblxuU29uaWNCb29tLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTb25pY0Jvb20gZGVzdHJveWVkJylcbiAgfVxuXG4gIGlmICh0aGlzLl93cml0aW5nIHx8IHRoaXMubWluTGVuZ3RoIDw9IDApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmICh0aGlzLl9idWZzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRoaXMuX2J1ZnMucHVzaCgnJylcbiAgfVxuXG4gIGFjdHVhbFdyaXRlKHRoaXMpXG59XG5cblNvbmljQm9vbS5wcm90b3R5cGUucmVvcGVuID0gZnVuY3Rpb24gKGZpbGUpIHtcbiAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTb25pY0Jvb20gZGVzdHJveWVkJylcbiAgfVxuXG4gIGlmICh0aGlzLl9vcGVuaW5nKSB7XG4gICAgdGhpcy5vbmNlKCdyZWFkeScsICgpID0+IHtcbiAgICAgIHRoaXMucmVvcGVuKGZpbGUpXG4gICAgfSlcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmICh0aGlzLl9lbmRpbmcpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmICghdGhpcy5maWxlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVvcGVuIGEgZmlsZSBkZXNjcmlwdG9yLCB5b3UgbXVzdCBwYXNzIGEgZmlsZSB0byBTb25pY0Jvb20nKVxuICB9XG5cbiAgdGhpcy5fcmVvcGVuaW5nID0gdHJ1ZVxuXG4gIGlmICh0aGlzLl93cml0aW5nKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBmZCA9IHRoaXMuZmRcbiAgdGhpcy5vbmNlKCdyZWFkeScsICgpID0+IHtcbiAgICBpZiAoZmQgIT09IHRoaXMuZmQpIHtcbiAgICAgIGZzLmNsb3NlKGZkLCAoZXJyKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgb3BlbkZpbGUoZmlsZSB8fCB0aGlzLmZpbGUsIHRoaXMpXG59XG5cblNvbmljQm9vbS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbmljQm9vbSBkZXN0cm95ZWQnKVxuICB9XG5cbiAgaWYgKHRoaXMuX29wZW5pbmcpIHtcbiAgICB0aGlzLm9uY2UoJ3JlYWR5JywgKCkgPT4ge1xuICAgICAgdGhpcy5lbmQoKVxuICAgIH0pXG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAodGhpcy5fZW5kaW5nKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB0aGlzLl9lbmRpbmcgPSB0cnVlXG5cbiAgaWYgKHRoaXMuX3dyaXRpbmcpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmICh0aGlzLl9sZW4gPiAwICYmIHRoaXMuZmQgPj0gMCkge1xuICAgIGFjdHVhbFdyaXRlKHRoaXMpXG4gIH0gZWxzZSB7XG4gICAgYWN0dWFsQ2xvc2UodGhpcylcbiAgfVxufVxuXG5Tb25pY0Jvb20ucHJvdG90eXBlLmZsdXNoU3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTb25pY0Jvb20gZGVzdHJveWVkJylcbiAgfVxuXG4gIGlmICh0aGlzLmZkIDwgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc29uaWMgYm9vbSBpcyBub3QgcmVhZHkgeWV0JylcbiAgfVxuXG4gIGlmICghdGhpcy5fd3JpdGluZyAmJiB0aGlzLl93cml0aW5nQnVmLmxlbmd0aCA+IDApIHtcbiAgICB0aGlzLl9idWZzLnVuc2hpZnQodGhpcy5fd3JpdGluZ0J1ZilcbiAgICB0aGlzLl93cml0aW5nQnVmID0gJydcbiAgfVxuXG4gIHdoaWxlICh0aGlzLl9idWZzLmxlbmd0aCkge1xuICAgIGNvbnN0IGJ1ZiA9IHRoaXMuX2J1ZnNbMF1cbiAgICB0cnkge1xuICAgICAgdGhpcy5fbGVuIC09IGZzLndyaXRlU3luYyh0aGlzLmZkLCBidWYsICd1dGY4JylcbiAgICAgIHRoaXMuX2J1ZnMuc2hpZnQoKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyci5jb2RlICE9PSAnRUFHQUlOJyB8fCAhdGhpcy5yZXRyeUVBR0FJTihlcnIsIGJ1Zi5sZW5ndGgsIHRoaXMuX2xlbiAtIGJ1Zi5sZW5ndGgpKSB7XG4gICAgICAgIHRocm93IGVyclxuICAgICAgfVxuXG4gICAgICBzbGVlcChCVVNZX1dSSVRFX1RJTUVPVVQpXG4gICAgfVxuICB9XG59XG5cblNvbmljQm9vbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgYWN0dWFsQ2xvc2UodGhpcylcbn1cblxuZnVuY3Rpb24gYWN0dWFsV3JpdGUgKHNvbmljKSB7XG4gIGNvbnN0IHJlbGVhc2UgPSBzb25pYy5yZWxlYXNlXG4gIHNvbmljLl93cml0aW5nID0gdHJ1ZVxuICBzb25pYy5fd3JpdGluZ0J1ZiA9IHNvbmljLl93cml0aW5nQnVmIHx8IHNvbmljLl9idWZzLnNoaWZ0KCkgfHwgJydcblxuICBpZiAoc29uaWMuc3luYykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB3cml0dGVuID0gZnMud3JpdGVTeW5jKHNvbmljLmZkLCBzb25pYy5fd3JpdGluZ0J1ZiwgJ3V0ZjgnKVxuICAgICAgcmVsZWFzZShudWxsLCB3cml0dGVuKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVsZWFzZShlcnIpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZzLndyaXRlKHNvbmljLmZkLCBzb25pYy5fd3JpdGluZ0J1ZiwgJ3V0ZjgnLCByZWxlYXNlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFjdHVhbENsb3NlIChzb25pYykge1xuICBpZiAoc29uaWMuZmQgPT09IC0xKSB7XG4gICAgc29uaWMub25jZSgncmVhZHknLCBhY3R1YWxDbG9zZS5iaW5kKG51bGwsIHNvbmljKSlcbiAgICByZXR1cm5cbiAgfVxuXG4gIHNvbmljLmRlc3Ryb3llZCA9IHRydWVcbiAgc29uaWMuX2J1ZnMgPSBbXVxuXG4gIGlmIChzb25pYy5mZCAhPT0gMSAmJiBzb25pYy5mZCAhPT0gMikge1xuICAgIGZzLmNsb3NlKHNvbmljLmZkLCBkb25lKVxuICB9IGVsc2Uge1xuICAgIHNldEltbWVkaWF0ZShkb25lKVxuICB9XG5cbiAgZnVuY3Rpb24gZG9uZSAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgc29uaWMuZW1pdCgnZXJyb3InLCBlcnIpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoc29uaWMuX2VuZGluZyAmJiAhc29uaWMuX3dyaXRpbmcpIHtcbiAgICAgIHNvbmljLmVtaXQoJ2ZpbmlzaCcpXG4gICAgfVxuICAgIHNvbmljLmVtaXQoJ2Nsb3NlJylcbiAgfVxufVxuXG4vKipcbiAqIFRoZXNlIGV4cG9ydCBjb25maWd1cmF0aW9ucyBlbmFibGUgSlMgYW5kIFRTIGRldmVsb3BlcnNcbiAqIHRvIGNvbnN1bWVyIFNvbmljQm9vbSBpbiB3aGF0ZXZlciB3YXkgYmVzdCBzdWl0cyB0aGVpciBuZWVkcy5cbiAqIFNvbWUgZXhhbXBsZXMgb2Ygc3VwcG9ydGVkIGltcG9ydCBzeW50YXggaW5jbHVkZXM6XG4gKiAtIGBjb25zdCBTb25pY0Jvb20gPSByZXF1aXJlKCdTb25pY0Jvb20nKWBcbiAqIC0gYGNvbnN0IHsgU29uaWNCb29tIH0gPSByZXF1aXJlKCdTb25pY0Jvb20nKWBcbiAqIC0gYGltcG9ydCAqIGFzIFNvbmljQm9vbSBmcm9tICdTb25pY0Jvb20nYFxuICogLSBgaW1wb3J0IHsgU29uaWNCb29tIH0gZnJvbSAnU29uaWNCb29tJ2BcbiAqIC0gYGltcG9ydCBTb25pY0Jvb20gZnJvbSAnU29uaWNCb29tJ2BcbiAqL1xuU29uaWNCb29tLlNvbmljQm9vbSA9IFNvbmljQm9vbVxuU29uaWNCb29tLmRlZmF1bHQgPSBTb25pY0Jvb21cbm1vZHVsZS5leHBvcnRzID0gU29uaWNCb29tXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/sonic-boom/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/thread-stream/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/thread-stream/index.js ***!
  \********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst { EventEmitter } = __webpack_require__(/*! events */ \"events\")\nconst { Worker } = __webpack_require__(/*! worker_threads */ \"worker_threads\")\nconst { join } = __webpack_require__(/*! path */ \"path\")\nconst { pathToFileURL } = __webpack_require__(/*! url */ \"url\")\nconst { wait } = __webpack_require__(/*! ./lib/wait */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/thread-stream/lib/wait.js\")\nconst {\n  WRITE_INDEX,\n  READ_INDEX\n} = __webpack_require__(/*! ./lib/indexes */ \"(ssr)/./node_modules/@walletconnect/logger/node_modules/thread-stream/lib/indexes.js\")\nconst buffer = __webpack_require__(/*! buffer */ \"buffer\")\nconst assert = __webpack_require__(/*! assert */ \"assert\")\n\nconst kImpl = Symbol('kImpl')\n\n// V8 limit for string size\nconst MAX_STRING = buffer.constants.MAX_STRING_LENGTH\n\nclass FakeWeakRef {\n  constructor (value) {\n    this._value = value\n  }\n\n  deref () {\n    return this._value\n  }\n}\n\nconst FinalizationRegistry = global.FinalizationRegistry || class FakeFinalizationRegistry {\n  register () {}\n  unregister () {}\n}\n\nconst WeakRef = global.WeakRef || FakeWeakRef\n\nconst registry = new FinalizationRegistry((worker) => {\n  if (worker.exited) {\n    return\n  }\n  worker.terminate()\n})\n\nfunction createWorker (stream, opts) {\n  const { filename, workerData } = opts\n\n  const bundlerOverrides = '__bundlerPathsOverrides' in globalThis ? globalThis.__bundlerPathsOverrides : {}\n  const toExecute = bundlerOverrides['thread-stream-worker'] || join(__dirname, 'lib', 'worker.js')\n\n  const worker = new Worker(toExecute, {\n    ...opts.workerOpts,\n    workerData: {\n      filename: filename.indexOf('file://') === 0\n        ? filename\n        : pathToFileURL(filename).href,\n      dataBuf: stream[kImpl].dataBuf,\n      stateBuf: stream[kImpl].stateBuf,\n      workerData\n    }\n  })\n\n  // We keep a strong reference for now,\n  // we need to start writing first\n  worker.stream = new FakeWeakRef(stream)\n\n  worker.on('message', onWorkerMessage)\n  worker.on('exit', onWorkerExit)\n  registry.register(stream, worker)\n\n  return worker\n}\n\nfunction drain (stream) {\n  assert(!stream[kImpl].sync)\n  if (stream[kImpl].needDrain) {\n    stream[kImpl].needDrain = false\n    stream.emit('drain')\n  }\n}\n\nfunction nextFlush (stream) {\n  const writeIndex = Atomics.load(stream[kImpl].state, WRITE_INDEX)\n  let leftover = stream[kImpl].data.length - writeIndex\n\n  if (leftover > 0) {\n    if (stream[kImpl].buf.length === 0) {\n      stream[kImpl].flushing = false\n\n      if (stream[kImpl].ending) {\n        end(stream)\n      } else if (stream[kImpl].needDrain) {\n        process.nextTick(drain, stream)\n      }\n\n      return\n    }\n\n    let toWrite = stream[kImpl].buf.slice(0, leftover)\n    let toWriteBytes = Buffer.byteLength(toWrite)\n    if (toWriteBytes <= leftover) {\n      stream[kImpl].buf = stream[kImpl].buf.slice(leftover)\n      // process._rawDebug('writing ' + toWrite.length)\n      write(stream, toWrite, nextFlush.bind(null, stream))\n    } else {\n      // multi-byte utf-8\n      stream.flush(() => {\n        // err is already handled in flush()\n        if (stream.destroyed) {\n          return\n        }\n\n        Atomics.store(stream[kImpl].state, READ_INDEX, 0)\n        Atomics.store(stream[kImpl].state, WRITE_INDEX, 0)\n\n        // Find a toWrite length that fits the buffer\n        // it must exists as the buffer is at least 4 bytes length\n        // and the max utf-8 length for a char is 4 bytes.\n        while (toWriteBytes > stream[kImpl].data.length) {\n          leftover = leftover / 2\n          toWrite = stream[kImpl].buf.slice(0, leftover)\n          toWriteBytes = Buffer.byteLength(toWrite)\n        }\n        stream[kImpl].buf = stream[kImpl].buf.slice(leftover)\n        write(stream, toWrite, nextFlush.bind(null, stream))\n      })\n    }\n  } else if (leftover === 0) {\n    if (writeIndex === 0 && stream[kImpl].buf.length === 0) {\n      // we had a flushSync in the meanwhile\n      return\n    }\n    stream.flush(() => {\n      Atomics.store(stream[kImpl].state, READ_INDEX, 0)\n      Atomics.store(stream[kImpl].state, WRITE_INDEX, 0)\n      nextFlush(stream)\n    })\n  } else {\n    // This should never happen\n    throw new Error('overwritten')\n  }\n}\n\nfunction onWorkerMessage (msg) {\n  const stream = this.stream.deref()\n  if (stream === undefined) {\n    this.exited = true\n    // Terminate the worker.\n    this.terminate()\n    return\n  }\n\n  switch (msg.code) {\n    case 'READY':\n      // Replace the FakeWeakRef with a\n      // proper one.\n      this.stream = new WeakRef(stream)\n\n      stream.flush(() => {\n        stream[kImpl].ready = true\n        stream.emit('ready')\n      })\n      break\n    case 'ERROR':\n      destroy(stream, msg.err)\n      break\n    default:\n      throw new Error('this should not happen: ' + msg.code)\n  }\n}\n\nfunction onWorkerExit (code) {\n  const stream = this.stream.deref()\n  if (stream === undefined) {\n    // Nothing to do, the worker already exit\n    return\n  }\n  registry.unregister(stream)\n  stream.worker.exited = true\n  stream.worker.off('exit', onWorkerExit)\n  destroy(stream, code !== 0 ? new Error('The worker thread exited') : null)\n}\n\nclass ThreadStream extends EventEmitter {\n  constructor (opts = {}) {\n    super()\n\n    if (opts.bufferSize < 4) {\n      throw new Error('bufferSize must at least fit a 4-byte utf-8 char')\n    }\n\n    this[kImpl] = {}\n    this[kImpl].stateBuf = new SharedArrayBuffer(128)\n    this[kImpl].state = new Int32Array(this[kImpl].stateBuf)\n    this[kImpl].dataBuf = new SharedArrayBuffer(opts.bufferSize || 4 * 1024 * 1024)\n    this[kImpl].data = Buffer.from(this[kImpl].dataBuf)\n    this[kImpl].sync = opts.sync || false\n    this[kImpl].ending = false\n    this[kImpl].ended = false\n    this[kImpl].needDrain = false\n    this[kImpl].destroyed = false\n    this[kImpl].flushing = false\n    this[kImpl].ready = false\n    this[kImpl].finished = false\n    this[kImpl].errored = null\n    this[kImpl].closed = false\n    this[kImpl].buf = ''\n\n    // TODO (fix): Make private?\n    this.worker = createWorker(this, opts) // TODO (fix): make private\n  }\n\n  write (data) {\n    if (this[kImpl].destroyed) {\n      throw new Error('the worker has exited')\n    }\n\n    if (this[kImpl].ending) {\n      throw new Error('the worker is ending')\n    }\n\n    if (this[kImpl].flushing && this[kImpl].buf.length + data.length >= MAX_STRING) {\n      try {\n        writeSync(this)\n        this[kImpl].flushing = true\n      } catch (err) {\n        destroy(this, err)\n        return false\n      }\n    }\n\n    this[kImpl].buf += data\n\n    if (this[kImpl].sync) {\n      try {\n        writeSync(this)\n        return true\n      } catch (err) {\n        destroy(this, err)\n        return false\n      }\n    }\n\n    if (!this[kImpl].flushing) {\n      this[kImpl].flushing = true\n      setImmediate(nextFlush, this)\n    }\n\n    this[kImpl].needDrain = this[kImpl].data.length - this[kImpl].buf.length - Atomics.load(this[kImpl].state, WRITE_INDEX) <= 0\n    return !this[kImpl].needDrain\n  }\n\n  end () {\n    if (this[kImpl].destroyed) {\n      return\n    }\n\n    this[kImpl].ending = true\n    end(this)\n  }\n\n  flush (cb) {\n    if (this[kImpl].destroyed) {\n      if (typeof cb === 'function') {\n        process.nextTick(cb, new Error('the worker has exited'))\n      }\n      return\n    }\n\n    // TODO write all .buf\n    const writeIndex = Atomics.load(this[kImpl].state, WRITE_INDEX)\n    // process._rawDebug(`(flush) readIndex (${Atomics.load(this.state, READ_INDEX)}) writeIndex (${Atomics.load(this.state, WRITE_INDEX)})`)\n    wait(this[kImpl].state, READ_INDEX, writeIndex, Infinity, (err, res) => {\n      if (err) {\n        destroy(this, err)\n        process.nextTick(cb, err)\n        return\n      }\n      if (res === 'not-equal') {\n        // TODO handle deadlock\n        this.flush(cb)\n        return\n      }\n      process.nextTick(cb)\n    })\n  }\n\n  flushSync () {\n    if (this[kImpl].destroyed) {\n      return\n    }\n\n    writeSync(this)\n    flushSync(this)\n  }\n\n  unref () {\n    this.worker.unref()\n  }\n\n  ref () {\n    this.worker.ref()\n  }\n\n  get ready () {\n    return this[kImpl].ready\n  }\n\n  get destroyed () {\n    return this[kImpl].destroyed\n  }\n\n  get closed () {\n    return this[kImpl].closed\n  }\n\n  get writable () {\n    return !this[kImpl].destroyed && !this[kImpl].ending\n  }\n\n  get writableEnded () {\n    return this[kImpl].ending\n  }\n\n  get writableFinished () {\n    return this[kImpl].finished\n  }\n\n  get writableNeedDrain () {\n    return this[kImpl].needDrain\n  }\n\n  get writableObjectMode () {\n    return false\n  }\n\n  get writableErrored () {\n    return this[kImpl].errored\n  }\n}\n\nfunction destroy (stream, err) {\n  if (stream[kImpl].destroyed) {\n    return\n  }\n  stream[kImpl].destroyed = true\n\n  if (err) {\n    stream[kImpl].errored = err\n    stream.emit('error', err)\n  }\n\n  if (!stream.worker.exited) {\n    stream.worker.terminate()\n      .catch(() => {})\n      .then(() => {\n        stream[kImpl].closed = true\n        stream.emit('close')\n      })\n  } else {\n    setImmediate(() => {\n      stream[kImpl].closed = true\n      stream.emit('close')\n    })\n  }\n}\n\nfunction write (stream, data, cb) {\n  // data is smaller than the shared buffer length\n  const current = Atomics.load(stream[kImpl].state, WRITE_INDEX)\n  const length = Buffer.byteLength(data)\n  stream[kImpl].data.write(data, current)\n  Atomics.store(stream[kImpl].state, WRITE_INDEX, current + length)\n  Atomics.notify(stream[kImpl].state, WRITE_INDEX)\n  cb()\n  return true\n}\n\nfunction end (stream) {\n  if (stream[kImpl].ended || !stream[kImpl].ending || stream[kImpl].flushing) {\n    return\n  }\n  stream[kImpl].ended = true\n\n  try {\n    stream.flushSync()\n\n    let readIndex = Atomics.load(stream[kImpl].state, READ_INDEX)\n\n    // process._rawDebug('writing index')\n    Atomics.store(stream[kImpl].state, WRITE_INDEX, -1)\n    // process._rawDebug(`(end) readIndex (${Atomics.load(stream.state, READ_INDEX)}) writeIndex (${Atomics.load(stream.state, WRITE_INDEX)})`)\n    Atomics.notify(stream[kImpl].state, WRITE_INDEX)\n\n    // Wait for the process to complete\n    let spins = 0\n    while (readIndex !== -1) {\n      // process._rawDebug(`read = ${read}`)\n      Atomics.wait(stream[kImpl].state, READ_INDEX, readIndex, 1000)\n      readIndex = Atomics.load(stream[kImpl].state, READ_INDEX)\n\n      if (readIndex === -2) {\n        throw new Error('end() failed')\n      }\n\n      if (++spins === 10) {\n        throw new Error('end() took too long (10s)')\n      }\n    }\n\n    process.nextTick(() => {\n      stream[kImpl].finished = true\n      stream.emit('finish')\n    })\n  } catch (err) {\n    destroy(stream, err)\n  }\n  // process._rawDebug('end finished...')\n}\n\nfunction writeSync (stream) {\n  const cb = () => {\n    if (stream[kImpl].ending) {\n      end(stream)\n    } else if (stream[kImpl].needDrain) {\n      process.nextTick(drain, stream)\n    }\n  }\n  stream[kImpl].flushing = false\n\n  while (stream[kImpl].buf.length !== 0) {\n    const writeIndex = Atomics.load(stream[kImpl].state, WRITE_INDEX)\n    let leftover = stream[kImpl].data.length - writeIndex\n    if (leftover === 0) {\n      flushSync(stream)\n      Atomics.store(stream[kImpl].state, READ_INDEX, 0)\n      Atomics.store(stream[kImpl].state, WRITE_INDEX, 0)\n      continue\n    } else if (leftover < 0) {\n      // stream should never happen\n      throw new Error('overwritten')\n    }\n\n    let toWrite = stream[kImpl].buf.slice(0, leftover)\n    let toWriteBytes = Buffer.byteLength(toWrite)\n    if (toWriteBytes <= leftover) {\n      stream[kImpl].buf = stream[kImpl].buf.slice(leftover)\n      // process._rawDebug('writing ' + toWrite.length)\n      write(stream, toWrite, cb)\n    } else {\n      // multi-byte utf-8\n      flushSync(stream)\n      Atomics.store(stream[kImpl].state, READ_INDEX, 0)\n      Atomics.store(stream[kImpl].state, WRITE_INDEX, 0)\n\n      // Find a toWrite length that fits the buffer\n      // it must exists as the buffer is at least 4 bytes length\n      // and the max utf-8 length for a char is 4 bytes.\n      while (toWriteBytes > stream[kImpl].buf.length) {\n        leftover = leftover / 2\n        toWrite = stream[kImpl].buf.slice(0, leftover)\n        toWriteBytes = Buffer.byteLength(toWrite)\n      }\n      stream[kImpl].buf = stream[kImpl].buf.slice(leftover)\n      write(stream, toWrite, cb)\n    }\n  }\n}\n\nfunction flushSync (stream) {\n  if (stream[kImpl].flushing) {\n    throw new Error('unable to flush while flushing')\n  }\n\n  // process._rawDebug('flushSync started')\n\n  const writeIndex = Atomics.load(stream[kImpl].state, WRITE_INDEX)\n\n  let spins = 0\n\n  // TODO handle deadlock\n  while (true) {\n    const readIndex = Atomics.load(stream[kImpl].state, READ_INDEX)\n\n    if (readIndex === -2) {\n      throw new Error('_flushSync failed')\n    }\n\n    // process._rawDebug(`(flushSync) readIndex (${readIndex}) writeIndex (${writeIndex})`)\n    if (readIndex !== writeIndex) {\n      // TODO stream timeouts for some reason.\n      Atomics.wait(stream[kImpl].state, READ_INDEX, readIndex, 1000)\n    } else {\n      break\n    }\n\n    if (++spins === 10) {\n      throw new Error('_flushSync took too long (10s)')\n    }\n  }\n  // process._rawDebug('flushSync finished')\n}\n\nmodule.exports = ThreadStream\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy90aHJlYWQtc3RyZWFtL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaLFFBQVEsZUFBZSxFQUFFLG1CQUFPLENBQUMsc0JBQVE7QUFDekMsUUFBUSxTQUFTLEVBQUUsbUJBQU8sQ0FBQyxzQ0FBZ0I7QUFDM0MsUUFBUSxPQUFPLEVBQUUsbUJBQU8sQ0FBQyxrQkFBTTtBQUMvQixRQUFRLGdCQUFnQixFQUFFLG1CQUFPLENBQUMsZ0JBQUs7QUFDdkMsUUFBUSxPQUFPLEVBQUUsbUJBQU8sQ0FBQyxxR0FBWTtBQUNyQztBQUNBO0FBQ0E7QUFDQSxFQUFFLEVBQUUsbUJBQU8sQ0FBQywyR0FBZTtBQUMzQixlQUFlLG1CQUFPLENBQUMsc0JBQVE7QUFDL0IsZUFBZSxtQkFBTyxDQUFDLHNCQUFROztBQUUvQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EsVUFBVSx1QkFBdUI7O0FBRWpDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QjtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0MscUNBQXFDLGdCQUFnQixzQ0FBc0M7QUFDMUk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkMsdUNBQXVDLGdCQUFnQix3Q0FBd0M7QUFDNUk7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLEtBQUs7QUFDMUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtREFBbUQsVUFBVSxnQkFBZ0IsV0FBVztBQUN4RjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9ub2RlX21vZHVsZXMvdGhyZWFkLXN0cmVhbS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgeyBFdmVudEVtaXR0ZXIgfSA9IHJlcXVpcmUoJ2V2ZW50cycpXG5jb25zdCB7IFdvcmtlciB9ID0gcmVxdWlyZSgnd29ya2VyX3RocmVhZHMnKVxuY29uc3QgeyBqb2luIH0gPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IHsgcGF0aFRvRmlsZVVSTCB9ID0gcmVxdWlyZSgndXJsJylcbmNvbnN0IHsgd2FpdCB9ID0gcmVxdWlyZSgnLi9saWIvd2FpdCcpXG5jb25zdCB7XG4gIFdSSVRFX0lOREVYLFxuICBSRUFEX0lOREVYXG59ID0gcmVxdWlyZSgnLi9saWIvaW5kZXhlcycpXG5jb25zdCBidWZmZXIgPSByZXF1aXJlKCdidWZmZXInKVxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0JylcblxuY29uc3Qga0ltcGwgPSBTeW1ib2woJ2tJbXBsJylcblxuLy8gVjggbGltaXQgZm9yIHN0cmluZyBzaXplXG5jb25zdCBNQVhfU1RSSU5HID0gYnVmZmVyLmNvbnN0YW50cy5NQVhfU1RSSU5HX0xFTkdUSFxuXG5jbGFzcyBGYWtlV2Vha1JlZiB7XG4gIGNvbnN0cnVjdG9yICh2YWx1ZSkge1xuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWVcbiAgfVxuXG4gIGRlcmVmICgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVcbiAgfVxufVxuXG5jb25zdCBGaW5hbGl6YXRpb25SZWdpc3RyeSA9IGdsb2JhbC5GaW5hbGl6YXRpb25SZWdpc3RyeSB8fCBjbGFzcyBGYWtlRmluYWxpemF0aW9uUmVnaXN0cnkge1xuICByZWdpc3RlciAoKSB7fVxuICB1bnJlZ2lzdGVyICgpIHt9XG59XG5cbmNvbnN0IFdlYWtSZWYgPSBnbG9iYWwuV2Vha1JlZiB8fCBGYWtlV2Vha1JlZlxuXG5jb25zdCByZWdpc3RyeSA9IG5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeSgod29ya2VyKSA9PiB7XG4gIGlmICh3b3JrZXIuZXhpdGVkKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgd29ya2VyLnRlcm1pbmF0ZSgpXG59KVxuXG5mdW5jdGlvbiBjcmVhdGVXb3JrZXIgKHN0cmVhbSwgb3B0cykge1xuICBjb25zdCB7IGZpbGVuYW1lLCB3b3JrZXJEYXRhIH0gPSBvcHRzXG5cbiAgY29uc3QgYnVuZGxlck92ZXJyaWRlcyA9ICdfX2J1bmRsZXJQYXRoc092ZXJyaWRlcycgaW4gZ2xvYmFsVGhpcyA/IGdsb2JhbFRoaXMuX19idW5kbGVyUGF0aHNPdmVycmlkZXMgOiB7fVxuICBjb25zdCB0b0V4ZWN1dGUgPSBidW5kbGVyT3ZlcnJpZGVzWyd0aHJlYWQtc3RyZWFtLXdvcmtlciddIHx8IGpvaW4oX19kaXJuYW1lLCAnbGliJywgJ3dvcmtlci5qcycpXG5cbiAgY29uc3Qgd29ya2VyID0gbmV3IFdvcmtlcih0b0V4ZWN1dGUsIHtcbiAgICAuLi5vcHRzLndvcmtlck9wdHMsXG4gICAgd29ya2VyRGF0YToge1xuICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lLmluZGV4T2YoJ2ZpbGU6Ly8nKSA9PT0gMFxuICAgICAgICA/IGZpbGVuYW1lXG4gICAgICAgIDogcGF0aFRvRmlsZVVSTChmaWxlbmFtZSkuaHJlZixcbiAgICAgIGRhdGFCdWY6IHN0cmVhbVtrSW1wbF0uZGF0YUJ1ZixcbiAgICAgIHN0YXRlQnVmOiBzdHJlYW1ba0ltcGxdLnN0YXRlQnVmLFxuICAgICAgd29ya2VyRGF0YVxuICAgIH1cbiAgfSlcblxuICAvLyBXZSBrZWVwIGEgc3Ryb25nIHJlZmVyZW5jZSBmb3Igbm93LFxuICAvLyB3ZSBuZWVkIHRvIHN0YXJ0IHdyaXRpbmcgZmlyc3RcbiAgd29ya2VyLnN0cmVhbSA9IG5ldyBGYWtlV2Vha1JlZihzdHJlYW0pXG5cbiAgd29ya2VyLm9uKCdtZXNzYWdlJywgb25Xb3JrZXJNZXNzYWdlKVxuICB3b3JrZXIub24oJ2V4aXQnLCBvbldvcmtlckV4aXQpXG4gIHJlZ2lzdHJ5LnJlZ2lzdGVyKHN0cmVhbSwgd29ya2VyKVxuXG4gIHJldHVybiB3b3JrZXJcbn1cblxuZnVuY3Rpb24gZHJhaW4gKHN0cmVhbSkge1xuICBhc3NlcnQoIXN0cmVhbVtrSW1wbF0uc3luYylcbiAgaWYgKHN0cmVhbVtrSW1wbF0ubmVlZERyYWluKSB7XG4gICAgc3RyZWFtW2tJbXBsXS5uZWVkRHJhaW4gPSBmYWxzZVxuICAgIHN0cmVhbS5lbWl0KCdkcmFpbicpXG4gIH1cbn1cblxuZnVuY3Rpb24gbmV4dEZsdXNoIChzdHJlYW0pIHtcbiAgY29uc3Qgd3JpdGVJbmRleCA9IEF0b21pY3MubG9hZChzdHJlYW1ba0ltcGxdLnN0YXRlLCBXUklURV9JTkRFWClcbiAgbGV0IGxlZnRvdmVyID0gc3RyZWFtW2tJbXBsXS5kYXRhLmxlbmd0aCAtIHdyaXRlSW5kZXhcblxuICBpZiAobGVmdG92ZXIgPiAwKSB7XG4gICAgaWYgKHN0cmVhbVtrSW1wbF0uYnVmLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc3RyZWFtW2tJbXBsXS5mbHVzaGluZyA9IGZhbHNlXG5cbiAgICAgIGlmIChzdHJlYW1ba0ltcGxdLmVuZGluZykge1xuICAgICAgICBlbmQoc3RyZWFtKVxuICAgICAgfSBlbHNlIGlmIChzdHJlYW1ba0ltcGxdLm5lZWREcmFpbikge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGRyYWluLCBzdHJlYW0pXG4gICAgICB9XG5cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCB0b1dyaXRlID0gc3RyZWFtW2tJbXBsXS5idWYuc2xpY2UoMCwgbGVmdG92ZXIpXG4gICAgbGV0IHRvV3JpdGVCeXRlcyA9IEJ1ZmZlci5ieXRlTGVuZ3RoKHRvV3JpdGUpXG4gICAgaWYgKHRvV3JpdGVCeXRlcyA8PSBsZWZ0b3Zlcikge1xuICAgICAgc3RyZWFtW2tJbXBsXS5idWYgPSBzdHJlYW1ba0ltcGxdLmJ1Zi5zbGljZShsZWZ0b3ZlcilcbiAgICAgIC8vIHByb2Nlc3MuX3Jhd0RlYnVnKCd3cml0aW5nICcgKyB0b1dyaXRlLmxlbmd0aClcbiAgICAgIHdyaXRlKHN0cmVhbSwgdG9Xcml0ZSwgbmV4dEZsdXNoLmJpbmQobnVsbCwgc3RyZWFtKSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbXVsdGktYnl0ZSB1dGYtOFxuICAgICAgc3RyZWFtLmZsdXNoKCgpID0+IHtcbiAgICAgICAgLy8gZXJyIGlzIGFscmVhZHkgaGFuZGxlZCBpbiBmbHVzaCgpXG4gICAgICAgIGlmIChzdHJlYW0uZGVzdHJveWVkKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBBdG9taWNzLnN0b3JlKHN0cmVhbVtrSW1wbF0uc3RhdGUsIFJFQURfSU5ERVgsIDApXG4gICAgICAgIEF0b21pY3Muc3RvcmUoc3RyZWFtW2tJbXBsXS5zdGF0ZSwgV1JJVEVfSU5ERVgsIDApXG5cbiAgICAgICAgLy8gRmluZCBhIHRvV3JpdGUgbGVuZ3RoIHRoYXQgZml0cyB0aGUgYnVmZmVyXG4gICAgICAgIC8vIGl0IG11c3QgZXhpc3RzIGFzIHRoZSBidWZmZXIgaXMgYXQgbGVhc3QgNCBieXRlcyBsZW5ndGhcbiAgICAgICAgLy8gYW5kIHRoZSBtYXggdXRmLTggbGVuZ3RoIGZvciBhIGNoYXIgaXMgNCBieXRlcy5cbiAgICAgICAgd2hpbGUgKHRvV3JpdGVCeXRlcyA+IHN0cmVhbVtrSW1wbF0uZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICBsZWZ0b3ZlciA9IGxlZnRvdmVyIC8gMlxuICAgICAgICAgIHRvV3JpdGUgPSBzdHJlYW1ba0ltcGxdLmJ1Zi5zbGljZSgwLCBsZWZ0b3ZlcilcbiAgICAgICAgICB0b1dyaXRlQnl0ZXMgPSBCdWZmZXIuYnl0ZUxlbmd0aCh0b1dyaXRlKVxuICAgICAgICB9XG4gICAgICAgIHN0cmVhbVtrSW1wbF0uYnVmID0gc3RyZWFtW2tJbXBsXS5idWYuc2xpY2UobGVmdG92ZXIpXG4gICAgICAgIHdyaXRlKHN0cmVhbSwgdG9Xcml0ZSwgbmV4dEZsdXNoLmJpbmQobnVsbCwgc3RyZWFtKSlcbiAgICAgIH0pXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlZnRvdmVyID09PSAwKSB7XG4gICAgaWYgKHdyaXRlSW5kZXggPT09IDAgJiYgc3RyZWFtW2tJbXBsXS5idWYubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyB3ZSBoYWQgYSBmbHVzaFN5bmMgaW4gdGhlIG1lYW53aGlsZVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHN0cmVhbS5mbHVzaCgoKSA9PiB7XG4gICAgICBBdG9taWNzLnN0b3JlKHN0cmVhbVtrSW1wbF0uc3RhdGUsIFJFQURfSU5ERVgsIDApXG4gICAgICBBdG9taWNzLnN0b3JlKHN0cmVhbVtrSW1wbF0uc3RhdGUsIFdSSVRFX0lOREVYLCAwKVxuICAgICAgbmV4dEZsdXNoKHN0cmVhbSlcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlblxuICAgIHRocm93IG5ldyBFcnJvcignb3ZlcndyaXR0ZW4nKVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uV29ya2VyTWVzc2FnZSAobXNnKSB7XG4gIGNvbnN0IHN0cmVhbSA9IHRoaXMuc3RyZWFtLmRlcmVmKClcbiAgaWYgKHN0cmVhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5leGl0ZWQgPSB0cnVlXG4gICAgLy8gVGVybWluYXRlIHRoZSB3b3JrZXIuXG4gICAgdGhpcy50ZXJtaW5hdGUoKVxuICAgIHJldHVyblxuICB9XG5cbiAgc3dpdGNoIChtc2cuY29kZSkge1xuICAgIGNhc2UgJ1JFQURZJzpcbiAgICAgIC8vIFJlcGxhY2UgdGhlIEZha2VXZWFrUmVmIHdpdGggYVxuICAgICAgLy8gcHJvcGVyIG9uZS5cbiAgICAgIHRoaXMuc3RyZWFtID0gbmV3IFdlYWtSZWYoc3RyZWFtKVxuXG4gICAgICBzdHJlYW0uZmx1c2goKCkgPT4ge1xuICAgICAgICBzdHJlYW1ba0ltcGxdLnJlYWR5ID0gdHJ1ZVxuICAgICAgICBzdHJlYW0uZW1pdCgncmVhZHknKVxuICAgICAgfSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnRVJST1InOlxuICAgICAgZGVzdHJveShzdHJlYW0sIG1zZy5lcnIpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RoaXMgc2hvdWxkIG5vdCBoYXBwZW46ICcgKyBtc2cuY29kZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBvbldvcmtlckV4aXQgKGNvZGUpIHtcbiAgY29uc3Qgc3RyZWFtID0gdGhpcy5zdHJlYW0uZGVyZWYoKVxuICBpZiAoc3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBOb3RoaW5nIHRvIGRvLCB0aGUgd29ya2VyIGFscmVhZHkgZXhpdFxuICAgIHJldHVyblxuICB9XG4gIHJlZ2lzdHJ5LnVucmVnaXN0ZXIoc3RyZWFtKVxuICBzdHJlYW0ud29ya2VyLmV4aXRlZCA9IHRydWVcbiAgc3RyZWFtLndvcmtlci5vZmYoJ2V4aXQnLCBvbldvcmtlckV4aXQpXG4gIGRlc3Ryb3koc3RyZWFtLCBjb2RlICE9PSAwID8gbmV3IEVycm9yKCdUaGUgd29ya2VyIHRocmVhZCBleGl0ZWQnKSA6IG51bGwpXG59XG5cbmNsYXNzIFRocmVhZFN0cmVhbSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yIChvcHRzID0ge30pIHtcbiAgICBzdXBlcigpXG5cbiAgICBpZiAob3B0cy5idWZmZXJTaXplIDwgNCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdidWZmZXJTaXplIG11c3QgYXQgbGVhc3QgZml0IGEgNC1ieXRlIHV0Zi04IGNoYXInKVxuICAgIH1cblxuICAgIHRoaXNba0ltcGxdID0ge31cbiAgICB0aGlzW2tJbXBsXS5zdGF0ZUJ1ZiA9IG5ldyBTaGFyZWRBcnJheUJ1ZmZlcigxMjgpXG4gICAgdGhpc1trSW1wbF0uc3RhdGUgPSBuZXcgSW50MzJBcnJheSh0aGlzW2tJbXBsXS5zdGF0ZUJ1ZilcbiAgICB0aGlzW2tJbXBsXS5kYXRhQnVmID0gbmV3IFNoYXJlZEFycmF5QnVmZmVyKG9wdHMuYnVmZmVyU2l6ZSB8fCA0ICogMTAyNCAqIDEwMjQpXG4gICAgdGhpc1trSW1wbF0uZGF0YSA9IEJ1ZmZlci5mcm9tKHRoaXNba0ltcGxdLmRhdGFCdWYpXG4gICAgdGhpc1trSW1wbF0uc3luYyA9IG9wdHMuc3luYyB8fCBmYWxzZVxuICAgIHRoaXNba0ltcGxdLmVuZGluZyA9IGZhbHNlXG4gICAgdGhpc1trSW1wbF0uZW5kZWQgPSBmYWxzZVxuICAgIHRoaXNba0ltcGxdLm5lZWREcmFpbiA9IGZhbHNlXG4gICAgdGhpc1trSW1wbF0uZGVzdHJveWVkID0gZmFsc2VcbiAgICB0aGlzW2tJbXBsXS5mbHVzaGluZyA9IGZhbHNlXG4gICAgdGhpc1trSW1wbF0ucmVhZHkgPSBmYWxzZVxuICAgIHRoaXNba0ltcGxdLmZpbmlzaGVkID0gZmFsc2VcbiAgICB0aGlzW2tJbXBsXS5lcnJvcmVkID0gbnVsbFxuICAgIHRoaXNba0ltcGxdLmNsb3NlZCA9IGZhbHNlXG4gICAgdGhpc1trSW1wbF0uYnVmID0gJydcblxuICAgIC8vIFRPRE8gKGZpeCk6IE1ha2UgcHJpdmF0ZT9cbiAgICB0aGlzLndvcmtlciA9IGNyZWF0ZVdvcmtlcih0aGlzLCBvcHRzKSAvLyBUT0RPIChmaXgpOiBtYWtlIHByaXZhdGVcbiAgfVxuXG4gIHdyaXRlIChkYXRhKSB7XG4gICAgaWYgKHRoaXNba0ltcGxdLmRlc3Ryb3llZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGUgd29ya2VyIGhhcyBleGl0ZWQnKVxuICAgIH1cblxuICAgIGlmICh0aGlzW2tJbXBsXS5lbmRpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndGhlIHdvcmtlciBpcyBlbmRpbmcnKVxuICAgIH1cblxuICAgIGlmICh0aGlzW2tJbXBsXS5mbHVzaGluZyAmJiB0aGlzW2tJbXBsXS5idWYubGVuZ3RoICsgZGF0YS5sZW5ndGggPj0gTUFYX1NUUklORykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd3JpdGVTeW5jKHRoaXMpXG4gICAgICAgIHRoaXNba0ltcGxdLmZsdXNoaW5nID0gdHJ1ZVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGRlc3Ryb3kodGhpcywgZXJyKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzW2tJbXBsXS5idWYgKz0gZGF0YVxuXG4gICAgaWYgKHRoaXNba0ltcGxdLnN5bmMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdyaXRlU3luYyh0aGlzKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGRlc3Ryb3kodGhpcywgZXJyKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXNba0ltcGxdLmZsdXNoaW5nKSB7XG4gICAgICB0aGlzW2tJbXBsXS5mbHVzaGluZyA9IHRydWVcbiAgICAgIHNldEltbWVkaWF0ZShuZXh0Rmx1c2gsIHRoaXMpXG4gICAgfVxuXG4gICAgdGhpc1trSW1wbF0ubmVlZERyYWluID0gdGhpc1trSW1wbF0uZGF0YS5sZW5ndGggLSB0aGlzW2tJbXBsXS5idWYubGVuZ3RoIC0gQXRvbWljcy5sb2FkKHRoaXNba0ltcGxdLnN0YXRlLCBXUklURV9JTkRFWCkgPD0gMFxuICAgIHJldHVybiAhdGhpc1trSW1wbF0ubmVlZERyYWluXG4gIH1cblxuICBlbmQgKCkge1xuICAgIGlmICh0aGlzW2tJbXBsXS5kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXNba0ltcGxdLmVuZGluZyA9IHRydWVcbiAgICBlbmQodGhpcylcbiAgfVxuXG4gIGZsdXNoIChjYikge1xuICAgIGlmICh0aGlzW2tJbXBsXS5kZXN0cm95ZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhjYiwgbmV3IEVycm9yKCd0aGUgd29ya2VyIGhhcyBleGl0ZWQnKSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIFRPRE8gd3JpdGUgYWxsIC5idWZcbiAgICBjb25zdCB3cml0ZUluZGV4ID0gQXRvbWljcy5sb2FkKHRoaXNba0ltcGxdLnN0YXRlLCBXUklURV9JTkRFWClcbiAgICAvLyBwcm9jZXNzLl9yYXdEZWJ1ZyhgKGZsdXNoKSByZWFkSW5kZXggKCR7QXRvbWljcy5sb2FkKHRoaXMuc3RhdGUsIFJFQURfSU5ERVgpfSkgd3JpdGVJbmRleCAoJHtBdG9taWNzLmxvYWQodGhpcy5zdGF0ZSwgV1JJVEVfSU5ERVgpfSlgKVxuICAgIHdhaXQodGhpc1trSW1wbF0uc3RhdGUsIFJFQURfSU5ERVgsIHdyaXRlSW5kZXgsIEluZmluaXR5LCAoZXJyLCByZXMpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgZGVzdHJveSh0aGlzLCBlcnIpXG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soY2IsIGVycilcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAocmVzID09PSAnbm90LWVxdWFsJykge1xuICAgICAgICAvLyBUT0RPIGhhbmRsZSBkZWFkbG9ja1xuICAgICAgICB0aGlzLmZsdXNoKGNiKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY2IpXG4gICAgfSlcbiAgfVxuXG4gIGZsdXNoU3luYyAoKSB7XG4gICAgaWYgKHRoaXNba0ltcGxdLmRlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgd3JpdGVTeW5jKHRoaXMpXG4gICAgZmx1c2hTeW5jKHRoaXMpXG4gIH1cblxuICB1bnJlZiAoKSB7XG4gICAgdGhpcy53b3JrZXIudW5yZWYoKVxuICB9XG5cbiAgcmVmICgpIHtcbiAgICB0aGlzLndvcmtlci5yZWYoKVxuICB9XG5cbiAgZ2V0IHJlYWR5ICgpIHtcbiAgICByZXR1cm4gdGhpc1trSW1wbF0ucmVhZHlcbiAgfVxuXG4gIGdldCBkZXN0cm95ZWQgKCkge1xuICAgIHJldHVybiB0aGlzW2tJbXBsXS5kZXN0cm95ZWRcbiAgfVxuXG4gIGdldCBjbG9zZWQgKCkge1xuICAgIHJldHVybiB0aGlzW2tJbXBsXS5jbG9zZWRcbiAgfVxuXG4gIGdldCB3cml0YWJsZSAoKSB7XG4gICAgcmV0dXJuICF0aGlzW2tJbXBsXS5kZXN0cm95ZWQgJiYgIXRoaXNba0ltcGxdLmVuZGluZ1xuICB9XG5cbiAgZ2V0IHdyaXRhYmxlRW5kZWQgKCkge1xuICAgIHJldHVybiB0aGlzW2tJbXBsXS5lbmRpbmdcbiAgfVxuXG4gIGdldCB3cml0YWJsZUZpbmlzaGVkICgpIHtcbiAgICByZXR1cm4gdGhpc1trSW1wbF0uZmluaXNoZWRcbiAgfVxuXG4gIGdldCB3cml0YWJsZU5lZWREcmFpbiAoKSB7XG4gICAgcmV0dXJuIHRoaXNba0ltcGxdLm5lZWREcmFpblxuICB9XG5cbiAgZ2V0IHdyaXRhYmxlT2JqZWN0TW9kZSAoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXQgd3JpdGFibGVFcnJvcmVkICgpIHtcbiAgICByZXR1cm4gdGhpc1trSW1wbF0uZXJyb3JlZFxuICB9XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3kgKHN0cmVhbSwgZXJyKSB7XG4gIGlmIChzdHJlYW1ba0ltcGxdLmRlc3Ryb3llZCkge1xuICAgIHJldHVyblxuICB9XG4gIHN0cmVhbVtrSW1wbF0uZGVzdHJveWVkID0gdHJ1ZVxuXG4gIGlmIChlcnIpIHtcbiAgICBzdHJlYW1ba0ltcGxdLmVycm9yZWQgPSBlcnJcbiAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpXG4gIH1cblxuICBpZiAoIXN0cmVhbS53b3JrZXIuZXhpdGVkKSB7XG4gICAgc3RyZWFtLndvcmtlci50ZXJtaW5hdGUoKVxuICAgICAgLmNhdGNoKCgpID0+IHt9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBzdHJlYW1ba0ltcGxdLmNsb3NlZCA9IHRydWVcbiAgICAgICAgc3RyZWFtLmVtaXQoJ2Nsb3NlJylcbiAgICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgIHN0cmVhbVtrSW1wbF0uY2xvc2VkID0gdHJ1ZVxuICAgICAgc3RyZWFtLmVtaXQoJ2Nsb3NlJylcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIHdyaXRlIChzdHJlYW0sIGRhdGEsIGNiKSB7XG4gIC8vIGRhdGEgaXMgc21hbGxlciB0aGFuIHRoZSBzaGFyZWQgYnVmZmVyIGxlbmd0aFxuICBjb25zdCBjdXJyZW50ID0gQXRvbWljcy5sb2FkKHN0cmVhbVtrSW1wbF0uc3RhdGUsIFdSSVRFX0lOREVYKVxuICBjb25zdCBsZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aChkYXRhKVxuICBzdHJlYW1ba0ltcGxdLmRhdGEud3JpdGUoZGF0YSwgY3VycmVudClcbiAgQXRvbWljcy5zdG9yZShzdHJlYW1ba0ltcGxdLnN0YXRlLCBXUklURV9JTkRFWCwgY3VycmVudCArIGxlbmd0aClcbiAgQXRvbWljcy5ub3RpZnkoc3RyZWFtW2tJbXBsXS5zdGF0ZSwgV1JJVEVfSU5ERVgpXG4gIGNiKClcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZW5kIChzdHJlYW0pIHtcbiAgaWYgKHN0cmVhbVtrSW1wbF0uZW5kZWQgfHwgIXN0cmVhbVtrSW1wbF0uZW5kaW5nIHx8IHN0cmVhbVtrSW1wbF0uZmx1c2hpbmcpIHtcbiAgICByZXR1cm5cbiAgfVxuICBzdHJlYW1ba0ltcGxdLmVuZGVkID0gdHJ1ZVxuXG4gIHRyeSB7XG4gICAgc3RyZWFtLmZsdXNoU3luYygpXG5cbiAgICBsZXQgcmVhZEluZGV4ID0gQXRvbWljcy5sb2FkKHN0cmVhbVtrSW1wbF0uc3RhdGUsIFJFQURfSU5ERVgpXG5cbiAgICAvLyBwcm9jZXNzLl9yYXdEZWJ1Zygnd3JpdGluZyBpbmRleCcpXG4gICAgQXRvbWljcy5zdG9yZShzdHJlYW1ba0ltcGxdLnN0YXRlLCBXUklURV9JTkRFWCwgLTEpXG4gICAgLy8gcHJvY2Vzcy5fcmF3RGVidWcoYChlbmQpIHJlYWRJbmRleCAoJHtBdG9taWNzLmxvYWQoc3RyZWFtLnN0YXRlLCBSRUFEX0lOREVYKX0pIHdyaXRlSW5kZXggKCR7QXRvbWljcy5sb2FkKHN0cmVhbS5zdGF0ZSwgV1JJVEVfSU5ERVgpfSlgKVxuICAgIEF0b21pY3Mubm90aWZ5KHN0cmVhbVtrSW1wbF0uc3RhdGUsIFdSSVRFX0lOREVYKVxuXG4gICAgLy8gV2FpdCBmb3IgdGhlIHByb2Nlc3MgdG8gY29tcGxldGVcbiAgICBsZXQgc3BpbnMgPSAwXG4gICAgd2hpbGUgKHJlYWRJbmRleCAhPT0gLTEpIHtcbiAgICAgIC8vIHByb2Nlc3MuX3Jhd0RlYnVnKGByZWFkID0gJHtyZWFkfWApXG4gICAgICBBdG9taWNzLndhaXQoc3RyZWFtW2tJbXBsXS5zdGF0ZSwgUkVBRF9JTkRFWCwgcmVhZEluZGV4LCAxMDAwKVxuICAgICAgcmVhZEluZGV4ID0gQXRvbWljcy5sb2FkKHN0cmVhbVtrSW1wbF0uc3RhdGUsIFJFQURfSU5ERVgpXG5cbiAgICAgIGlmIChyZWFkSW5kZXggPT09IC0yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZW5kKCkgZmFpbGVkJylcbiAgICAgIH1cblxuICAgICAgaWYgKCsrc3BpbnMgPT09IDEwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZW5kKCkgdG9vayB0b28gbG9uZyAoMTBzKScpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICBzdHJlYW1ba0ltcGxdLmZpbmlzaGVkID0gdHJ1ZVxuICAgICAgc3RyZWFtLmVtaXQoJ2ZpbmlzaCcpXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVzdHJveShzdHJlYW0sIGVycilcbiAgfVxuICAvLyBwcm9jZXNzLl9yYXdEZWJ1ZygnZW5kIGZpbmlzaGVkLi4uJylcbn1cblxuZnVuY3Rpb24gd3JpdGVTeW5jIChzdHJlYW0pIHtcbiAgY29uc3QgY2IgPSAoKSA9PiB7XG4gICAgaWYgKHN0cmVhbVtrSW1wbF0uZW5kaW5nKSB7XG4gICAgICBlbmQoc3RyZWFtKVxuICAgIH0gZWxzZSBpZiAoc3RyZWFtW2tJbXBsXS5uZWVkRHJhaW4pIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZHJhaW4sIHN0cmVhbSlcbiAgICB9XG4gIH1cbiAgc3RyZWFtW2tJbXBsXS5mbHVzaGluZyA9IGZhbHNlXG5cbiAgd2hpbGUgKHN0cmVhbVtrSW1wbF0uYnVmLmxlbmd0aCAhPT0gMCkge1xuICAgIGNvbnN0IHdyaXRlSW5kZXggPSBBdG9taWNzLmxvYWQoc3RyZWFtW2tJbXBsXS5zdGF0ZSwgV1JJVEVfSU5ERVgpXG4gICAgbGV0IGxlZnRvdmVyID0gc3RyZWFtW2tJbXBsXS5kYXRhLmxlbmd0aCAtIHdyaXRlSW5kZXhcbiAgICBpZiAobGVmdG92ZXIgPT09IDApIHtcbiAgICAgIGZsdXNoU3luYyhzdHJlYW0pXG4gICAgICBBdG9taWNzLnN0b3JlKHN0cmVhbVtrSW1wbF0uc3RhdGUsIFJFQURfSU5ERVgsIDApXG4gICAgICBBdG9taWNzLnN0b3JlKHN0cmVhbVtrSW1wbF0uc3RhdGUsIFdSSVRFX0lOREVYLCAwKVxuICAgICAgY29udGludWVcbiAgICB9IGVsc2UgaWYgKGxlZnRvdmVyIDwgMCkge1xuICAgICAgLy8gc3RyZWFtIHNob3VsZCBuZXZlciBoYXBwZW5cbiAgICAgIHRocm93IG5ldyBFcnJvcignb3ZlcndyaXR0ZW4nKVxuICAgIH1cblxuICAgIGxldCB0b1dyaXRlID0gc3RyZWFtW2tJbXBsXS5idWYuc2xpY2UoMCwgbGVmdG92ZXIpXG4gICAgbGV0IHRvV3JpdGVCeXRlcyA9IEJ1ZmZlci5ieXRlTGVuZ3RoKHRvV3JpdGUpXG4gICAgaWYgKHRvV3JpdGVCeXRlcyA8PSBsZWZ0b3Zlcikge1xuICAgICAgc3RyZWFtW2tJbXBsXS5idWYgPSBzdHJlYW1ba0ltcGxdLmJ1Zi5zbGljZShsZWZ0b3ZlcilcbiAgICAgIC8vIHByb2Nlc3MuX3Jhd0RlYnVnKCd3cml0aW5nICcgKyB0b1dyaXRlLmxlbmd0aClcbiAgICAgIHdyaXRlKHN0cmVhbSwgdG9Xcml0ZSwgY2IpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG11bHRpLWJ5dGUgdXRmLThcbiAgICAgIGZsdXNoU3luYyhzdHJlYW0pXG4gICAgICBBdG9taWNzLnN0b3JlKHN0cmVhbVtrSW1wbF0uc3RhdGUsIFJFQURfSU5ERVgsIDApXG4gICAgICBBdG9taWNzLnN0b3JlKHN0cmVhbVtrSW1wbF0uc3RhdGUsIFdSSVRFX0lOREVYLCAwKVxuXG4gICAgICAvLyBGaW5kIGEgdG9Xcml0ZSBsZW5ndGggdGhhdCBmaXRzIHRoZSBidWZmZXJcbiAgICAgIC8vIGl0IG11c3QgZXhpc3RzIGFzIHRoZSBidWZmZXIgaXMgYXQgbGVhc3QgNCBieXRlcyBsZW5ndGhcbiAgICAgIC8vIGFuZCB0aGUgbWF4IHV0Zi04IGxlbmd0aCBmb3IgYSBjaGFyIGlzIDQgYnl0ZXMuXG4gICAgICB3aGlsZSAodG9Xcml0ZUJ5dGVzID4gc3RyZWFtW2tJbXBsXS5idWYubGVuZ3RoKSB7XG4gICAgICAgIGxlZnRvdmVyID0gbGVmdG92ZXIgLyAyXG4gICAgICAgIHRvV3JpdGUgPSBzdHJlYW1ba0ltcGxdLmJ1Zi5zbGljZSgwLCBsZWZ0b3ZlcilcbiAgICAgICAgdG9Xcml0ZUJ5dGVzID0gQnVmZmVyLmJ5dGVMZW5ndGgodG9Xcml0ZSlcbiAgICAgIH1cbiAgICAgIHN0cmVhbVtrSW1wbF0uYnVmID0gc3RyZWFtW2tJbXBsXS5idWYuc2xpY2UobGVmdG92ZXIpXG4gICAgICB3cml0ZShzdHJlYW0sIHRvV3JpdGUsIGNiKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmbHVzaFN5bmMgKHN0cmVhbSkge1xuICBpZiAoc3RyZWFtW2tJbXBsXS5mbHVzaGluZykge1xuICAgIHRocm93IG5ldyBFcnJvcigndW5hYmxlIHRvIGZsdXNoIHdoaWxlIGZsdXNoaW5nJylcbiAgfVxuXG4gIC8vIHByb2Nlc3MuX3Jhd0RlYnVnKCdmbHVzaFN5bmMgc3RhcnRlZCcpXG5cbiAgY29uc3Qgd3JpdGVJbmRleCA9IEF0b21pY3MubG9hZChzdHJlYW1ba0ltcGxdLnN0YXRlLCBXUklURV9JTkRFWClcblxuICBsZXQgc3BpbnMgPSAwXG5cbiAgLy8gVE9ETyBoYW5kbGUgZGVhZGxvY2tcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCByZWFkSW5kZXggPSBBdG9taWNzLmxvYWQoc3RyZWFtW2tJbXBsXS5zdGF0ZSwgUkVBRF9JTkRFWClcblxuICAgIGlmIChyZWFkSW5kZXggPT09IC0yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ19mbHVzaFN5bmMgZmFpbGVkJylcbiAgICB9XG5cbiAgICAvLyBwcm9jZXNzLl9yYXdEZWJ1ZyhgKGZsdXNoU3luYykgcmVhZEluZGV4ICgke3JlYWRJbmRleH0pIHdyaXRlSW5kZXggKCR7d3JpdGVJbmRleH0pYClcbiAgICBpZiAocmVhZEluZGV4ICE9PSB3cml0ZUluZGV4KSB7XG4gICAgICAvLyBUT0RPIHN0cmVhbSB0aW1lb3V0cyBmb3Igc29tZSByZWFzb24uXG4gICAgICBBdG9taWNzLndhaXQoc3RyZWFtW2tJbXBsXS5zdGF0ZSwgUkVBRF9JTkRFWCwgcmVhZEluZGV4LCAxMDAwKVxuICAgIH0gZWxzZSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGlmICgrK3NwaW5zID09PSAxMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdfZmx1c2hTeW5jIHRvb2sgdG9vIGxvbmcgKDEwcyknKVxuICAgIH1cbiAgfVxuICAvLyBwcm9jZXNzLl9yYXdEZWJ1ZygnZmx1c2hTeW5jIGZpbmlzaGVkJylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUaHJlYWRTdHJlYW1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/thread-stream/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/thread-stream/lib/indexes.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/thread-stream/lib/indexes.js ***!
  \**************************************************************************************/
/***/ ((module) => {

eval("\n\nconst WRITE_INDEX = 4\nconst READ_INDEX = 8\n\nmodule.exports = {\n  WRITE_INDEX,\n  READ_INDEX\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy90aHJlYWQtc3RyZWFtL2xpYi9pbmRleGVzLmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9ub2RlX21vZHVsZXMvdGhyZWFkLXN0cmVhbS9saWIvaW5kZXhlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgV1JJVEVfSU5ERVggPSA0XG5jb25zdCBSRUFEX0lOREVYID0gOFxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgV1JJVEVfSU5ERVgsXG4gIFJFQURfSU5ERVhcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/thread-stream/lib/indexes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/logger/node_modules/thread-stream/lib/wait.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@walletconnect/logger/node_modules/thread-stream/lib/wait.js ***!
  \***********************************************************************************/
/***/ ((module) => {

eval("\n\nconst MAX_TIMEOUT = 1000\n\nfunction wait (state, index, expected, timeout, done) {\n  const max = Date.now() + timeout\n  let current = Atomics.load(state, index)\n  if (current === expected) {\n    done(null, 'ok')\n    return\n  }\n  let prior = current\n  const check = (backoff) => {\n    if (Date.now() > max) {\n      done(null, 'timed-out')\n    } else {\n      setTimeout(() => {\n        prior = current\n        current = Atomics.load(state, index)\n        if (current === prior) {\n          check(backoff >= MAX_TIMEOUT ? MAX_TIMEOUT : backoff * 2)\n        } else {\n          if (current === expected) done(null, 'ok')\n          else done(null, 'not-equal')\n        }\n      }, backoff)\n    }\n  }\n  check(1)\n}\n\n// let waitDiffCount = 0\nfunction waitDiff (state, index, expected, timeout, done) {\n  // const id = waitDiffCount++\n  // process._rawDebug(`>>> waitDiff ${id}`)\n  const max = Date.now() + timeout\n  let current = Atomics.load(state, index)\n  if (current !== expected) {\n    done(null, 'ok')\n    return\n  }\n  const check = (backoff) => {\n    // process._rawDebug(`${id} ${index} current ${current} expected ${expected}`)\n    // process._rawDebug('' + backoff)\n    if (Date.now() > max) {\n      done(null, 'timed-out')\n    } else {\n      setTimeout(() => {\n        current = Atomics.load(state, index)\n        if (current !== expected) {\n          done(null, 'ok')\n        } else {\n          check(backoff >= MAX_TIMEOUT ? MAX_TIMEOUT : backoff * 2)\n        }\n      }, backoff)\n    }\n  }\n  check(1)\n}\n\nmodule.exports = { wait, waitDiff }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbG9nZ2VyL25vZGVfbW9kdWxlcy90aHJlYWQtc3RyZWFtL2xpYi93YWl0LmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLEdBQUc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsSUFBSSxFQUFFLE9BQU8sVUFBVSxTQUFTLFdBQVcsU0FBUztBQUNoRjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L2xvZ2dlci9ub2RlX21vZHVsZXMvdGhyZWFkLXN0cmVhbS9saWIvd2FpdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuY29uc3QgTUFYX1RJTUVPVVQgPSAxMDAwXG5cbmZ1bmN0aW9uIHdhaXQgKHN0YXRlLCBpbmRleCwgZXhwZWN0ZWQsIHRpbWVvdXQsIGRvbmUpIHtcbiAgY29uc3QgbWF4ID0gRGF0ZS5ub3coKSArIHRpbWVvdXRcbiAgbGV0IGN1cnJlbnQgPSBBdG9taWNzLmxvYWQoc3RhdGUsIGluZGV4KVxuICBpZiAoY3VycmVudCA9PT0gZXhwZWN0ZWQpIHtcbiAgICBkb25lKG51bGwsICdvaycpXG4gICAgcmV0dXJuXG4gIH1cbiAgbGV0IHByaW9yID0gY3VycmVudFxuICBjb25zdCBjaGVjayA9IChiYWNrb2ZmKSA9PiB7XG4gICAgaWYgKERhdGUubm93KCkgPiBtYXgpIHtcbiAgICAgIGRvbmUobnVsbCwgJ3RpbWVkLW91dCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBwcmlvciA9IGN1cnJlbnRcbiAgICAgICAgY3VycmVudCA9IEF0b21pY3MubG9hZChzdGF0ZSwgaW5kZXgpXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBwcmlvcikge1xuICAgICAgICAgIGNoZWNrKGJhY2tvZmYgPj0gTUFYX1RJTUVPVVQgPyBNQVhfVElNRU9VVCA6IGJhY2tvZmYgKiAyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjdXJyZW50ID09PSBleHBlY3RlZCkgZG9uZShudWxsLCAnb2snKVxuICAgICAgICAgIGVsc2UgZG9uZShudWxsLCAnbm90LWVxdWFsJylcbiAgICAgICAgfVxuICAgICAgfSwgYmFja29mZilcbiAgICB9XG4gIH1cbiAgY2hlY2soMSlcbn1cblxuLy8gbGV0IHdhaXREaWZmQ291bnQgPSAwXG5mdW5jdGlvbiB3YWl0RGlmZiAoc3RhdGUsIGluZGV4LCBleHBlY3RlZCwgdGltZW91dCwgZG9uZSkge1xuICAvLyBjb25zdCBpZCA9IHdhaXREaWZmQ291bnQrK1xuICAvLyBwcm9jZXNzLl9yYXdEZWJ1ZyhgPj4+IHdhaXREaWZmICR7aWR9YClcbiAgY29uc3QgbWF4ID0gRGF0ZS5ub3coKSArIHRpbWVvdXRcbiAgbGV0IGN1cnJlbnQgPSBBdG9taWNzLmxvYWQoc3RhdGUsIGluZGV4KVxuICBpZiAoY3VycmVudCAhPT0gZXhwZWN0ZWQpIHtcbiAgICBkb25lKG51bGwsICdvaycpXG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3QgY2hlY2sgPSAoYmFja29mZikgPT4ge1xuICAgIC8vIHByb2Nlc3MuX3Jhd0RlYnVnKGAke2lkfSAke2luZGV4fSBjdXJyZW50ICR7Y3VycmVudH0gZXhwZWN0ZWQgJHtleHBlY3RlZH1gKVxuICAgIC8vIHByb2Nlc3MuX3Jhd0RlYnVnKCcnICsgYmFja29mZilcbiAgICBpZiAoRGF0ZS5ub3coKSA+IG1heCkge1xuICAgICAgZG9uZShudWxsLCAndGltZWQtb3V0JylcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGN1cnJlbnQgPSBBdG9taWNzLmxvYWQoc3RhdGUsIGluZGV4KVxuICAgICAgICBpZiAoY3VycmVudCAhPT0gZXhwZWN0ZWQpIHtcbiAgICAgICAgICBkb25lKG51bGwsICdvaycpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2soYmFja29mZiA+PSBNQVhfVElNRU9VVCA/IE1BWF9USU1FT1VUIDogYmFja29mZiAqIDIpXG4gICAgICAgIH1cbiAgICAgIH0sIGJhY2tvZmYpXG4gICAgfVxuICB9XG4gIGNoZWNrKDEpXG59XG5cbm1vZHVsZS5leHBvcnRzID0geyB3YWl0LCB3YWl0RGlmZiB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/logger/node_modules/thread-stream/lib/wait.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-core/dist/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigCtrl: () => (/* binding */ ConfigCtrl),\n/* harmony export */   CoreUtil: () => (/* binding */ CoreUtil),\n/* harmony export */   EventsCtrl: () => (/* binding */ EventsCtrl),\n/* harmony export */   ExplorerCtrl: () => (/* binding */ ExplorerCtrl),\n/* harmony export */   ModalCtrl: () => (/* binding */ ModalCtrl),\n/* harmony export */   OptionsCtrl: () => (/* binding */ OptionsCtrl),\n/* harmony export */   RouterCtrl: () => (/* binding */ RouterCtrl),\n/* harmony export */   ThemeCtrl: () => (/* binding */ ThemeCtrl),\n/* harmony export */   ToastCtrl: () => (/* binding */ ToastCtrl)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/@walletconnect/modal-core/node_modules/valtio/esm/vanilla.mjs\");\n\n\nconst state$7 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  history: [\"ConnectWallet\"],\n  view: \"ConnectWallet\",\n  data: void 0\n});\nconst RouterCtrl = {\n  state: state$7,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$7, () => callback(state$7));\n  },\n  push(view, data) {\n    if (view !== state$7.view) {\n      state$7.view = view;\n      if (data) {\n        state$7.data = data;\n      }\n      state$7.history.push(view);\n    }\n  },\n  reset(view) {\n    state$7.view = view;\n    state$7.history = [view];\n  },\n  replace(view) {\n    if (state$7.history.length > 1) {\n      state$7.history[state$7.history.length - 1] = view;\n      state$7.view = view;\n    }\n  },\n  goBack() {\n    if (state$7.history.length > 1) {\n      state$7.history.pop();\n      const [last] = state$7.history.slice(-1);\n      state$7.view = last;\n    }\n  },\n  setData(data) {\n    state$7.data = data;\n  }\n};\n\nconst CoreUtil = {\n  WALLETCONNECT_DEEPLINK_CHOICE: \"WALLETCONNECT_DEEPLINK_CHOICE\",\n  WCM_VERSION: \"WCM_VERSION\",\n  RECOMMENDED_WALLET_AMOUNT: 9,\n  isMobile() {\n    if (typeof window !== \"undefined\") {\n      return Boolean(\n        window.matchMedia(\"(pointer:coarse)\").matches || /Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)\n      );\n    }\n    return false;\n  },\n  isAndroid() {\n    return CoreUtil.isMobile() && navigator.userAgent.toLowerCase().includes(\"android\");\n  },\n  isIos() {\n    const ua = navigator.userAgent.toLowerCase();\n    return CoreUtil.isMobile() && (ua.includes(\"iphone\") || ua.includes(\"ipad\"));\n  },\n  isHttpUrl(url) {\n    return url.startsWith(\"http://\") || url.startsWith(\"https://\");\n  },\n  isArray(data) {\n    return Array.isArray(data) && data.length > 0;\n  },\n  isTelegram() {\n    return typeof window !== \"undefined\" && // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (Boolean(window.TelegramWebviewProxy) || // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Boolean(window.Telegram) || // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Boolean(window.TelegramWebviewProxyProto));\n  },\n  formatNativeUrl(appUrl, wcUri, name) {\n    if (CoreUtil.isHttpUrl(appUrl)) {\n      return this.formatUniversalUrl(appUrl, wcUri, name);\n    }\n    let safeAppUrl = appUrl;\n    if (!safeAppUrl.includes(\"://\")) {\n      safeAppUrl = appUrl.replaceAll(\"/\", \"\").replaceAll(\":\", \"\");\n      safeAppUrl = `${safeAppUrl}://`;\n    }\n    if (!safeAppUrl.endsWith(\"/\")) {\n      safeAppUrl = `${safeAppUrl}/`;\n    }\n    this.setWalletConnectDeepLink(safeAppUrl, name);\n    const encodedWcUrl = encodeURIComponent(wcUri);\n    return `${safeAppUrl}wc?uri=${encodedWcUrl}`;\n  },\n  formatUniversalUrl(appUrl, wcUri, name) {\n    if (!CoreUtil.isHttpUrl(appUrl)) {\n      return this.formatNativeUrl(appUrl, wcUri, name);\n    }\n    let safeAppUrl = appUrl;\n    if (safeAppUrl.startsWith(\"https://t.me\")) {\n      const formattedUri = Buffer.from(wcUri).toString(\"base64\").replace(/[=]/g, \"\");\n      if (safeAppUrl.endsWith(\"/\")) {\n        safeAppUrl = safeAppUrl.slice(0, -1);\n      }\n      this.setWalletConnectDeepLink(safeAppUrl, name);\n      const url = new URL(safeAppUrl);\n      url.searchParams.set(\"startapp\", formattedUri);\n      const link = url.toString();\n      return link;\n    }\n    if (!safeAppUrl.endsWith(\"/\")) {\n      safeAppUrl = `${safeAppUrl}/`;\n    }\n    this.setWalletConnectDeepLink(safeAppUrl, name);\n    const encodedWcUrl = encodeURIComponent(wcUri);\n    return `${safeAppUrl}wc?uri=${encodedWcUrl}`;\n  },\n  async wait(miliseconds) {\n    return new Promise((resolve) => {\n      setTimeout(resolve, miliseconds);\n    });\n  },\n  openHref(href, target) {\n    const adjustedTarget = this.isTelegram() ? \"_blank\" : target;\n    window.open(href, adjustedTarget, \"noreferrer noopener\");\n  },\n  setWalletConnectDeepLink(href, name) {\n    try {\n      localStorage.setItem(CoreUtil.WALLETCONNECT_DEEPLINK_CHOICE, JSON.stringify({ href, name }));\n    } catch (e) {\n      console.info(\"Unable to set WalletConnect deep link\");\n    }\n  },\n  setWalletConnectAndroidDeepLink(wcUri) {\n    try {\n      const [href] = wcUri.split(\"?\");\n      localStorage.setItem(\n        CoreUtil.WALLETCONNECT_DEEPLINK_CHOICE,\n        JSON.stringify({ href, name: \"Android\" })\n      );\n    } catch (e) {\n      console.info(\"Unable to set WalletConnect android deep link\");\n    }\n  },\n  removeWalletConnectDeepLink() {\n    try {\n      localStorage.removeItem(CoreUtil.WALLETCONNECT_DEEPLINK_CHOICE);\n    } catch (e) {\n      console.info(\"Unable to remove WalletConnect deep link\");\n    }\n  },\n  setModalVersionInStorage() {\n    try {\n      if (typeof localStorage !== \"undefined\") {\n        localStorage.setItem(CoreUtil.WCM_VERSION, \"2.7.0\");\n      }\n    } catch (e) {\n      console.info(\"Unable to set Web3Modal version in storage\");\n    }\n  },\n  getWalletRouterData() {\n    var _a;\n    const routerData = (_a = RouterCtrl.state.data) == null ? void 0 : _a.Wallet;\n    if (!routerData) {\n      throw new Error('Missing \"Wallet\" view data');\n    }\n    return routerData;\n  }\n};\n\nconst isEnabled = typeof location !== \"undefined\" && (location.hostname.includes(\"localhost\") || location.protocol.includes(\"https\"));\nconst state$6 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  enabled: isEnabled,\n  userSessionId: \"\",\n  events: [],\n  connectedWalletId: void 0\n});\nconst EventsCtrl = {\n  state: state$6,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$6.events, () => callback((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(state$6.events[state$6.events.length - 1])));\n  },\n  initialize() {\n    if (state$6.enabled && typeof (crypto == null ? void 0 : crypto.randomUUID) !== \"undefined\") {\n      state$6.userSessionId = crypto.randomUUID();\n    }\n  },\n  setConnectedWalletId(connectedWalletId) {\n    state$6.connectedWalletId = connectedWalletId;\n  },\n  click(data) {\n    if (state$6.enabled) {\n      const event = {\n        type: \"CLICK\",\n        name: data.name,\n        userSessionId: state$6.userSessionId,\n        timestamp: Date.now(),\n        data\n      };\n      state$6.events.push(event);\n    }\n  },\n  track(data) {\n    if (state$6.enabled) {\n      const event = {\n        type: \"TRACK\",\n        name: data.name,\n        userSessionId: state$6.userSessionId,\n        timestamp: Date.now(),\n        data\n      };\n      state$6.events.push(event);\n    }\n  },\n  view(data) {\n    if (state$6.enabled) {\n      const event = {\n        type: \"VIEW\",\n        name: data.name,\n        userSessionId: state$6.userSessionId,\n        timestamp: Date.now(),\n        data\n      };\n      state$6.events.push(event);\n    }\n  }\n};\n\nconst state$5 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  chains: void 0,\n  walletConnectUri: void 0,\n  isAuth: false,\n  isCustomDesktop: false,\n  isCustomMobile: false,\n  isDataLoaded: false,\n  isUiLoaded: false\n});\nconst OptionsCtrl = {\n  state: state$5,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$5, () => callback(state$5));\n  },\n  setChains(chains) {\n    state$5.chains = chains;\n  },\n  setWalletConnectUri(walletConnectUri) {\n    state$5.walletConnectUri = walletConnectUri;\n  },\n  setIsCustomDesktop(isCustomDesktop) {\n    state$5.isCustomDesktop = isCustomDesktop;\n  },\n  setIsCustomMobile(isCustomMobile) {\n    state$5.isCustomMobile = isCustomMobile;\n  },\n  setIsDataLoaded(isDataLoaded) {\n    state$5.isDataLoaded = isDataLoaded;\n  },\n  setIsUiLoaded(isUiLoaded) {\n    state$5.isUiLoaded = isUiLoaded;\n  },\n  setIsAuth(isAuth) {\n    state$5.isAuth = isAuth;\n  }\n};\n\nconst state$4 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  projectId: \"\",\n  mobileWallets: void 0,\n  desktopWallets: void 0,\n  walletImages: void 0,\n  chains: void 0,\n  enableAuthMode: false,\n  enableExplorer: true,\n  explorerExcludedWalletIds: void 0,\n  explorerRecommendedWalletIds: void 0,\n  termsOfServiceUrl: void 0,\n  privacyPolicyUrl: void 0\n});\nconst ConfigCtrl = {\n  state: state$4,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$4, () => callback(state$4));\n  },\n  setConfig(config) {\n    var _a, _b;\n    EventsCtrl.initialize();\n    OptionsCtrl.setChains(config.chains);\n    OptionsCtrl.setIsAuth(Boolean(config.enableAuthMode));\n    OptionsCtrl.setIsCustomMobile(Boolean((_a = config.mobileWallets) == null ? void 0 : _a.length));\n    OptionsCtrl.setIsCustomDesktop(Boolean((_b = config.desktopWallets) == null ? void 0 : _b.length));\n    CoreUtil.setModalVersionInStorage();\n    Object.assign(state$4, config);\n  }\n};\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nconst W3M_API = \"https://explorer-api.walletconnect.com\";\nconst SDK_TYPE = \"wcm\";\nconst SDK_VERSION = `js-${\"2.7.0\"}`;\nasync function fetchListings(endpoint, params) {\n  const allParams = __spreadValues$2({ sdkType: SDK_TYPE, sdkVersion: SDK_VERSION }, params);\n  const url = new URL(endpoint, W3M_API);\n  url.searchParams.append(\"projectId\", ConfigCtrl.state.projectId);\n  Object.entries(allParams).forEach(([key, value]) => {\n    if (value) {\n      url.searchParams.append(key, String(value));\n    }\n  });\n  const request = await fetch(url);\n  return request.json();\n}\nconst ExplorerUtil = {\n  async getDesktopListings(params) {\n    return fetchListings(\"/w3m/v1/getDesktopListings\", params);\n  },\n  async getMobileListings(params) {\n    return fetchListings(\"/w3m/v1/getMobileListings\", params);\n  },\n  async getInjectedListings(params) {\n    return fetchListings(\"/w3m/v1/getInjectedListings\", params);\n  },\n  async getAllListings(params) {\n    return fetchListings(\"/w3m/v1/getAllListings\", params);\n  },\n  getWalletImageUrl(imageId) {\n    return `${W3M_API}/w3m/v1/getWalletImage/${imageId}?projectId=${ConfigCtrl.state.projectId}&sdkType=${SDK_TYPE}&sdkVersion=${SDK_VERSION}`;\n  },\n  getAssetImageUrl(imageId) {\n    return `${W3M_API}/w3m/v1/getAssetImage/${imageId}?projectId=${ConfigCtrl.state.projectId}&sdkType=${SDK_TYPE}&sdkVersion=${SDK_VERSION}`;\n  }\n};\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nconst isMobile = CoreUtil.isMobile();\nconst state$3 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  wallets: { listings: [], total: 0, page: 1 },\n  search: { listings: [], total: 0, page: 1 },\n  recomendedWallets: []\n});\nconst ExplorerCtrl = {\n  state: state$3,\n  async getRecomendedWallets() {\n    const { explorerRecommendedWalletIds, explorerExcludedWalletIds } = ConfigCtrl.state;\n    if (explorerRecommendedWalletIds === \"NONE\" || explorerExcludedWalletIds === \"ALL\" && !explorerRecommendedWalletIds) {\n      return state$3.recomendedWallets;\n    }\n    if (CoreUtil.isArray(explorerRecommendedWalletIds)) {\n      const recommendedIds = explorerRecommendedWalletIds.join(\",\");\n      const params = { recommendedIds };\n      const { listings } = await ExplorerUtil.getAllListings(params);\n      const listingsArr = Object.values(listings);\n      listingsArr.sort((a, b) => {\n        const aIndex = explorerRecommendedWalletIds.indexOf(a.id);\n        const bIndex = explorerRecommendedWalletIds.indexOf(b.id);\n        return aIndex - bIndex;\n      });\n      state$3.recomendedWallets = listingsArr;\n    } else {\n      const { chains, isAuth } = OptionsCtrl.state;\n      const chainsFilter = chains == null ? void 0 : chains.join(\",\");\n      const isExcluded = CoreUtil.isArray(explorerExcludedWalletIds);\n      const params = {\n        page: 1,\n        sdks: isAuth ? \"auth_v1\" : void 0,\n        entries: CoreUtil.RECOMMENDED_WALLET_AMOUNT,\n        chains: chainsFilter,\n        version: 2,\n        excludedIds: isExcluded ? explorerExcludedWalletIds.join(\",\") : void 0\n      };\n      const { listings } = isMobile ? await ExplorerUtil.getMobileListings(params) : await ExplorerUtil.getDesktopListings(params);\n      state$3.recomendedWallets = Object.values(listings);\n    }\n    return state$3.recomendedWallets;\n  },\n  async getWallets(params) {\n    const extendedParams = __spreadValues$1({}, params);\n    const { explorerRecommendedWalletIds, explorerExcludedWalletIds } = ConfigCtrl.state;\n    const { recomendedWallets } = state$3;\n    if (explorerExcludedWalletIds === \"ALL\") {\n      return state$3.wallets;\n    }\n    if (recomendedWallets.length) {\n      extendedParams.excludedIds = recomendedWallets.map((wallet) => wallet.id).join(\",\");\n    } else if (CoreUtil.isArray(explorerRecommendedWalletIds)) {\n      extendedParams.excludedIds = explorerRecommendedWalletIds.join(\",\");\n    }\n    if (CoreUtil.isArray(explorerExcludedWalletIds)) {\n      extendedParams.excludedIds = [extendedParams.excludedIds, explorerExcludedWalletIds].filter(Boolean).join(\",\");\n    }\n    if (OptionsCtrl.state.isAuth) {\n      extendedParams.sdks = \"auth_v1\";\n    }\n    const { page, search } = params;\n    const { listings: listingsObj, total } = isMobile ? await ExplorerUtil.getMobileListings(extendedParams) : await ExplorerUtil.getDesktopListings(extendedParams);\n    const listings = Object.values(listingsObj);\n    const type = search ? \"search\" : \"wallets\";\n    state$3[type] = {\n      listings: [...state$3[type].listings, ...listings],\n      total,\n      page: page != null ? page : 1\n    };\n    return { listings, total };\n  },\n  getWalletImageUrl(imageId) {\n    return ExplorerUtil.getWalletImageUrl(imageId);\n  },\n  getAssetImageUrl(imageId) {\n    return ExplorerUtil.getAssetImageUrl(imageId);\n  },\n  resetSearch() {\n    state$3.search = { listings: [], total: 0, page: 1 };\n  }\n};\n\nconst state$2 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  open: false\n});\nconst ModalCtrl = {\n  state: state$2,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$2, () => callback(state$2));\n  },\n  async open(options) {\n    return new Promise((resolve) => {\n      const { isUiLoaded, isDataLoaded } = OptionsCtrl.state;\n      CoreUtil.removeWalletConnectDeepLink();\n      OptionsCtrl.setWalletConnectUri(options == null ? void 0 : options.uri);\n      OptionsCtrl.setChains(options == null ? void 0 : options.chains);\n      RouterCtrl.reset(\"ConnectWallet\");\n      if (isUiLoaded && isDataLoaded) {\n        state$2.open = true;\n        resolve();\n      } else {\n        const interval = setInterval(() => {\n          const opts = OptionsCtrl.state;\n          if (opts.isUiLoaded && opts.isDataLoaded) {\n            clearInterval(interval);\n            state$2.open = true;\n            resolve();\n          }\n        }, 200);\n      }\n    });\n  },\n  close() {\n    state$2.open = false;\n  }\n};\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction isDarkMode() {\n  return typeof matchMedia !== \"undefined\" && matchMedia(\"(prefers-color-scheme: dark)\").matches;\n}\nconst state$1 = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  themeMode: isDarkMode() ? \"dark\" : \"light\"\n});\nconst ThemeCtrl = {\n  state: state$1,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state$1, () => callback(state$1));\n  },\n  setThemeConfig(theme) {\n    const { themeMode, themeVariables } = theme;\n    if (themeMode) {\n      state$1.themeMode = themeMode;\n    }\n    if (themeVariables) {\n      state$1.themeVariables = __spreadValues({}, themeVariables);\n    }\n  }\n};\n\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n  open: false,\n  message: \"\",\n  variant: \"success\"\n});\nconst ToastCtrl = {\n  state,\n  subscribe(callback) {\n    return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n  },\n  openToast(message, variant) {\n    state.open = true;\n    state.message = message;\n    state.variant = variant;\n  },\n  closeToast() {\n    state.open = false;\n  }\n};\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBNEQ7O0FBRTVELGdCQUFnQixxREFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5REFBUztBQUNwQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixXQUFXO0FBQ2pDO0FBQ0E7QUFDQSxzQkFBc0IsV0FBVztBQUNqQztBQUNBO0FBQ0E7QUFDQSxjQUFjLFdBQVcsU0FBUyxhQUFhO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFdBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0EsY0FBYyxXQUFXLFNBQVMsYUFBYTtBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxH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QTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFTO0FBQ3BCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFb0g7QUFDcEgiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLWNvcmUvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlLCBzbmFwc2hvdCB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcblxuY29uc3Qgc3RhdGUkNyA9IHByb3h5KHtcbiAgaGlzdG9yeTogW1wiQ29ubmVjdFdhbGxldFwiXSxcbiAgdmlldzogXCJDb25uZWN0V2FsbGV0XCIsXG4gIGRhdGE6IHZvaWQgMFxufSk7XG5jb25zdCBSb3V0ZXJDdHJsID0ge1xuICBzdGF0ZTogc3RhdGUkNyxcbiAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHN1YnNjcmliZShzdGF0ZSQ3LCAoKSA9PiBjYWxsYmFjayhzdGF0ZSQ3KSk7XG4gIH0sXG4gIHB1c2godmlldywgZGF0YSkge1xuICAgIGlmICh2aWV3ICE9PSBzdGF0ZSQ3LnZpZXcpIHtcbiAgICAgIHN0YXRlJDcudmlldyA9IHZpZXc7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBzdGF0ZSQ3LmRhdGEgPSBkYXRhO1xuICAgICAgfVxuICAgICAgc3RhdGUkNy5oaXN0b3J5LnB1c2godmlldyk7XG4gICAgfVxuICB9LFxuICByZXNldCh2aWV3KSB7XG4gICAgc3RhdGUkNy52aWV3ID0gdmlldztcbiAgICBzdGF0ZSQ3Lmhpc3RvcnkgPSBbdmlld107XG4gIH0sXG4gIHJlcGxhY2Uodmlldykge1xuICAgIGlmIChzdGF0ZSQ3Lmhpc3RvcnkubGVuZ3RoID4gMSkge1xuICAgICAgc3RhdGUkNy5oaXN0b3J5W3N0YXRlJDcuaGlzdG9yeS5sZW5ndGggLSAxXSA9IHZpZXc7XG4gICAgICBzdGF0ZSQ3LnZpZXcgPSB2aWV3O1xuICAgIH1cbiAgfSxcbiAgZ29CYWNrKCkge1xuICAgIGlmIChzdGF0ZSQ3Lmhpc3RvcnkubGVuZ3RoID4gMSkge1xuICAgICAgc3RhdGUkNy5oaXN0b3J5LnBvcCgpO1xuICAgICAgY29uc3QgW2xhc3RdID0gc3RhdGUkNy5oaXN0b3J5LnNsaWNlKC0xKTtcbiAgICAgIHN0YXRlJDcudmlldyA9IGxhc3Q7XG4gICAgfVxuICB9LFxuICBzZXREYXRhKGRhdGEpIHtcbiAgICBzdGF0ZSQ3LmRhdGEgPSBkYXRhO1xuICB9XG59O1xuXG5jb25zdCBDb3JlVXRpbCA9IHtcbiAgV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0U6IFwiV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0VcIixcbiAgV0NNX1ZFUlNJT046IFwiV0NNX1ZFUlNJT05cIixcbiAgUkVDT01NRU5ERURfV0FMTEVUX0FNT1VOVDogOSxcbiAgaXNNb2JpbGUoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICB3aW5kb3cubWF0Y2hNZWRpYShcIihwb2ludGVyOmNvYXJzZSlcIikubWF0Y2hlcyB8fCAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8T3BlcmEgTWluaS91LnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNBbmRyb2lkKCkge1xuICAgIHJldHVybiBDb3JlVXRpbC5pc01vYmlsZSgpICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImFuZHJvaWRcIik7XG4gIH0sXG4gIGlzSW9zKCkge1xuICAgIGNvbnN0IHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBDb3JlVXRpbC5pc01vYmlsZSgpICYmICh1YS5pbmNsdWRlcyhcImlwaG9uZVwiKSB8fCB1YS5pbmNsdWRlcyhcImlwYWRcIikpO1xuICB9LFxuICBpc0h0dHBVcmwodXJsKSB7XG4gICAgcmV0dXJuIHVybC5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSB8fCB1cmwuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpO1xuICB9LFxuICBpc0FycmF5KGRhdGEpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IDA7XG4gIH0sXG4gIGlzVGVsZWdyYW0oKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAoQm9vbGVhbih3aW5kb3cuVGVsZWdyYW1XZWJ2aWV3UHJveHkpIHx8IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgQm9vbGVhbih3aW5kb3cuVGVsZWdyYW0pIHx8IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgQm9vbGVhbih3aW5kb3cuVGVsZWdyYW1XZWJ2aWV3UHJveHlQcm90bykpO1xuICB9LFxuICBmb3JtYXROYXRpdmVVcmwoYXBwVXJsLCB3Y1VyaSwgbmFtZSkge1xuICAgIGlmIChDb3JlVXRpbC5pc0h0dHBVcmwoYXBwVXJsKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0VW5pdmVyc2FsVXJsKGFwcFVybCwgd2NVcmksIG5hbWUpO1xuICAgIH1cbiAgICBsZXQgc2FmZUFwcFVybCA9IGFwcFVybDtcbiAgICBpZiAoIXNhZmVBcHBVcmwuaW5jbHVkZXMoXCI6Ly9cIikpIHtcbiAgICAgIHNhZmVBcHBVcmwgPSBhcHBVcmwucmVwbGFjZUFsbChcIi9cIiwgXCJcIikucmVwbGFjZUFsbChcIjpcIiwgXCJcIik7XG4gICAgICBzYWZlQXBwVXJsID0gYCR7c2FmZUFwcFVybH06Ly9gO1xuICAgIH1cbiAgICBpZiAoIXNhZmVBcHBVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICBzYWZlQXBwVXJsID0gYCR7c2FmZUFwcFVybH0vYDtcbiAgICB9XG4gICAgdGhpcy5zZXRXYWxsZXRDb25uZWN0RGVlcExpbmsoc2FmZUFwcFVybCwgbmFtZSk7XG4gICAgY29uc3QgZW5jb2RlZFdjVXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KHdjVXJpKTtcbiAgICByZXR1cm4gYCR7c2FmZUFwcFVybH13Yz91cmk9JHtlbmNvZGVkV2NVcmx9YDtcbiAgfSxcbiAgZm9ybWF0VW5pdmVyc2FsVXJsKGFwcFVybCwgd2NVcmksIG5hbWUpIHtcbiAgICBpZiAoIUNvcmVVdGlsLmlzSHR0cFVybChhcHBVcmwpKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXROYXRpdmVVcmwoYXBwVXJsLCB3Y1VyaSwgbmFtZSk7XG4gICAgfVxuICAgIGxldCBzYWZlQXBwVXJsID0gYXBwVXJsO1xuICAgIGlmIChzYWZlQXBwVXJsLnN0YXJ0c1dpdGgoXCJodHRwczovL3QubWVcIikpIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZFVyaSA9IEJ1ZmZlci5mcm9tKHdjVXJpKS50b1N0cmluZyhcImJhc2U2NFwiKS5yZXBsYWNlKC9bPV0vZywgXCJcIik7XG4gICAgICBpZiAoc2FmZUFwcFVybC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgc2FmZUFwcFVybCA9IHNhZmVBcHBVcmwuc2xpY2UoMCwgLTEpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRXYWxsZXRDb25uZWN0RGVlcExpbmsoc2FmZUFwcFVybCwgbmFtZSk7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHNhZmVBcHBVcmwpO1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJzdGFydGFwcFwiLCBmb3JtYXR0ZWRVcmkpO1xuICAgICAgY29uc3QgbGluayA9IHVybC50b1N0cmluZygpO1xuICAgICAgcmV0dXJuIGxpbms7XG4gICAgfVxuICAgIGlmICghc2FmZUFwcFVybC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgIHNhZmVBcHBVcmwgPSBgJHtzYWZlQXBwVXJsfS9gO1xuICAgIH1cbiAgICB0aGlzLnNldFdhbGxldENvbm5lY3REZWVwTGluayhzYWZlQXBwVXJsLCBuYW1lKTtcbiAgICBjb25zdCBlbmNvZGVkV2NVcmwgPSBlbmNvZGVVUklDb21wb25lbnQod2NVcmkpO1xuICAgIHJldHVybiBgJHtzYWZlQXBwVXJsfXdjP3VyaT0ke2VuY29kZWRXY1VybH1gO1xuICB9LFxuICBhc3luYyB3YWl0KG1pbGlzZWNvbmRzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1pbGlzZWNvbmRzKTtcbiAgICB9KTtcbiAgfSxcbiAgb3BlbkhyZWYoaHJlZiwgdGFyZ2V0KSB7XG4gICAgY29uc3QgYWRqdXN0ZWRUYXJnZXQgPSB0aGlzLmlzVGVsZWdyYW0oKSA/IFwiX2JsYW5rXCIgOiB0YXJnZXQ7XG4gICAgd2luZG93Lm9wZW4oaHJlZiwgYWRqdXN0ZWRUYXJnZXQsIFwibm9yZWZlcnJlciBub29wZW5lclwiKTtcbiAgfSxcbiAgc2V0V2FsbGV0Q29ubmVjdERlZXBMaW5rKGhyZWYsIG5hbWUpIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ29yZVV0aWwuV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0UsIEpTT04uc3RyaW5naWZ5KHsgaHJlZiwgbmFtZSB9KSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5pbmZvKFwiVW5hYmxlIHRvIHNldCBXYWxsZXRDb25uZWN0IGRlZXAgbGlua1wiKTtcbiAgICB9XG4gIH0sXG4gIHNldFdhbGxldENvbm5lY3RBbmRyb2lkRGVlcExpbmsod2NVcmkpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgW2hyZWZdID0gd2NVcmkuc3BsaXQoXCI/XCIpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgIENvcmVVdGlsLldBTExFVENPTk5FQ1RfREVFUExJTktfQ0hPSUNFLFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7IGhyZWYsIG5hbWU6IFwiQW5kcm9pZFwiIH0pXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhcIlVuYWJsZSB0byBzZXQgV2FsbGV0Q29ubmVjdCBhbmRyb2lkIGRlZXAgbGlua1wiKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZVdhbGxldENvbm5lY3REZWVwTGluaygpIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oQ29yZVV0aWwuV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0UpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhcIlVuYWJsZSB0byByZW1vdmUgV2FsbGV0Q29ubmVjdCBkZWVwIGxpbmtcIik7XG4gICAgfVxuICB9LFxuICBzZXRNb2RhbFZlcnNpb25JblN0b3JhZ2UoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKENvcmVVdGlsLldDTV9WRVJTSU9OLCBcIjIuNy4wXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhcIlVuYWJsZSB0byBzZXQgV2ViM01vZGFsIHZlcnNpb24gaW4gc3RvcmFnZVwiKTtcbiAgICB9XG4gIH0sXG4gIGdldFdhbGxldFJvdXRlckRhdGEoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJvdXRlckRhdGEgPSAoX2EgPSBSb3V0ZXJDdHJsLnN0YXRlLmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYS5XYWxsZXQ7XG4gICAgaWYgKCFyb3V0ZXJEYXRhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgXCJXYWxsZXRcIiB2aWV3IGRhdGEnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlckRhdGE7XG4gIH1cbn07XG5cbmNvbnN0IGlzRW5hYmxlZCA9IHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiAobG9jYXRpb24uaG9zdG5hbWUuaW5jbHVkZXMoXCJsb2NhbGhvc3RcIikgfHwgbG9jYXRpb24ucHJvdG9jb2wuaW5jbHVkZXMoXCJodHRwc1wiKSk7XG5jb25zdCBzdGF0ZSQ2ID0gcHJveHkoe1xuICBlbmFibGVkOiBpc0VuYWJsZWQsXG4gIHVzZXJTZXNzaW9uSWQ6IFwiXCIsXG4gIGV2ZW50czogW10sXG4gIGNvbm5lY3RlZFdhbGxldElkOiB2b2lkIDBcbn0pO1xuY29uc3QgRXZlbnRzQ3RybCA9IHtcbiAgc3RhdGU6IHN0YXRlJDYsXG4gIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgIHJldHVybiBzdWJzY3JpYmUoc3RhdGUkNi5ldmVudHMsICgpID0+IGNhbGxiYWNrKHNuYXBzaG90KHN0YXRlJDYuZXZlbnRzW3N0YXRlJDYuZXZlbnRzLmxlbmd0aCAtIDFdKSkpO1xuICB9LFxuICBpbml0aWFsaXplKCkge1xuICAgIGlmIChzdGF0ZSQ2LmVuYWJsZWQgJiYgdHlwZW9mIChjcnlwdG8gPT0gbnVsbCA/IHZvaWQgMCA6IGNyeXB0by5yYW5kb21VVUlEKSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgc3RhdGUkNi51c2VyU2Vzc2lvbklkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICB9XG4gIH0sXG4gIHNldENvbm5lY3RlZFdhbGxldElkKGNvbm5lY3RlZFdhbGxldElkKSB7XG4gICAgc3RhdGUkNi5jb25uZWN0ZWRXYWxsZXRJZCA9IGNvbm5lY3RlZFdhbGxldElkO1xuICB9LFxuICBjbGljayhkYXRhKSB7XG4gICAgaWYgKHN0YXRlJDYuZW5hYmxlZCkge1xuICAgICAgY29uc3QgZXZlbnQgPSB7XG4gICAgICAgIHR5cGU6IFwiQ0xJQ0tcIixcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICB1c2VyU2Vzc2lvbklkOiBzdGF0ZSQ2LnVzZXJTZXNzaW9uSWQsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgZGF0YVxuICAgICAgfTtcbiAgICAgIHN0YXRlJDYuZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgIH1cbiAgfSxcbiAgdHJhY2soZGF0YSkge1xuICAgIGlmIChzdGF0ZSQ2LmVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgICB0eXBlOiBcIlRSQUNLXCIsXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgdXNlclNlc3Npb25JZDogc3RhdGUkNi51c2VyU2Vzc2lvbklkLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIGRhdGFcbiAgICAgIH07XG4gICAgICBzdGF0ZSQ2LmV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICB9XG4gIH0sXG4gIHZpZXcoZGF0YSkge1xuICAgIGlmIChzdGF0ZSQ2LmVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgICB0eXBlOiBcIlZJRVdcIixcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICB1c2VyU2Vzc2lvbklkOiBzdGF0ZSQ2LnVzZXJTZXNzaW9uSWQsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgZGF0YVxuICAgICAgfTtcbiAgICAgIHN0YXRlJDYuZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3Qgc3RhdGUkNSA9IHByb3h5KHtcbiAgY2hhaW5zOiB2b2lkIDAsXG4gIHdhbGxldENvbm5lY3RVcmk6IHZvaWQgMCxcbiAgaXNBdXRoOiBmYWxzZSxcbiAgaXNDdXN0b21EZXNrdG9wOiBmYWxzZSxcbiAgaXNDdXN0b21Nb2JpbGU6IGZhbHNlLFxuICBpc0RhdGFMb2FkZWQ6IGZhbHNlLFxuICBpc1VpTG9hZGVkOiBmYWxzZVxufSk7XG5jb25zdCBPcHRpb25zQ3RybCA9IHtcbiAgc3RhdGU6IHN0YXRlJDUsXG4gIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgIHJldHVybiBzdWJzY3JpYmUoc3RhdGUkNSwgKCkgPT4gY2FsbGJhY2soc3RhdGUkNSkpO1xuICB9LFxuICBzZXRDaGFpbnMoY2hhaW5zKSB7XG4gICAgc3RhdGUkNS5jaGFpbnMgPSBjaGFpbnM7XG4gIH0sXG4gIHNldFdhbGxldENvbm5lY3RVcmkod2FsbGV0Q29ubmVjdFVyaSkge1xuICAgIHN0YXRlJDUud2FsbGV0Q29ubmVjdFVyaSA9IHdhbGxldENvbm5lY3RVcmk7XG4gIH0sXG4gIHNldElzQ3VzdG9tRGVza3RvcChpc0N1c3RvbURlc2t0b3ApIHtcbiAgICBzdGF0ZSQ1LmlzQ3VzdG9tRGVza3RvcCA9IGlzQ3VzdG9tRGVza3RvcDtcbiAgfSxcbiAgc2V0SXNDdXN0b21Nb2JpbGUoaXNDdXN0b21Nb2JpbGUpIHtcbiAgICBzdGF0ZSQ1LmlzQ3VzdG9tTW9iaWxlID0gaXNDdXN0b21Nb2JpbGU7XG4gIH0sXG4gIHNldElzRGF0YUxvYWRlZChpc0RhdGFMb2FkZWQpIHtcbiAgICBzdGF0ZSQ1LmlzRGF0YUxvYWRlZCA9IGlzRGF0YUxvYWRlZDtcbiAgfSxcbiAgc2V0SXNVaUxvYWRlZChpc1VpTG9hZGVkKSB7XG4gICAgc3RhdGUkNS5pc1VpTG9hZGVkID0gaXNVaUxvYWRlZDtcbiAgfSxcbiAgc2V0SXNBdXRoKGlzQXV0aCkge1xuICAgIHN0YXRlJDUuaXNBdXRoID0gaXNBdXRoO1xuICB9XG59O1xuXG5jb25zdCBzdGF0ZSQ0ID0gcHJveHkoe1xuICBwcm9qZWN0SWQ6IFwiXCIsXG4gIG1vYmlsZVdhbGxldHM6IHZvaWQgMCxcbiAgZGVza3RvcFdhbGxldHM6IHZvaWQgMCxcbiAgd2FsbGV0SW1hZ2VzOiB2b2lkIDAsXG4gIGNoYWluczogdm9pZCAwLFxuICBlbmFibGVBdXRoTW9kZTogZmFsc2UsXG4gIGVuYWJsZUV4cGxvcmVyOiB0cnVlLFxuICBleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzOiB2b2lkIDAsXG4gIGV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHM6IHZvaWQgMCxcbiAgdGVybXNPZlNlcnZpY2VVcmw6IHZvaWQgMCxcbiAgcHJpdmFjeVBvbGljeVVybDogdm9pZCAwXG59KTtcbmNvbnN0IENvbmZpZ0N0cmwgPSB7XG4gIHN0YXRlOiBzdGF0ZSQ0LFxuICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc3Vic2NyaWJlKHN0YXRlJDQsICgpID0+IGNhbGxiYWNrKHN0YXRlJDQpKTtcbiAgfSxcbiAgc2V0Q29uZmlnKGNvbmZpZykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgRXZlbnRzQ3RybC5pbml0aWFsaXplKCk7XG4gICAgT3B0aW9uc0N0cmwuc2V0Q2hhaW5zKGNvbmZpZy5jaGFpbnMpO1xuICAgIE9wdGlvbnNDdHJsLnNldElzQXV0aChCb29sZWFuKGNvbmZpZy5lbmFibGVBdXRoTW9kZSkpO1xuICAgIE9wdGlvbnNDdHJsLnNldElzQ3VzdG9tTW9iaWxlKEJvb2xlYW4oKF9hID0gY29uZmlnLm1vYmlsZVdhbGxldHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sZW5ndGgpKTtcbiAgICBPcHRpb25zQ3RybC5zZXRJc0N1c3RvbURlc2t0b3AoQm9vbGVhbigoX2IgPSBjb25maWcuZGVza3RvcFdhbGxldHMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5sZW5ndGgpKTtcbiAgICBDb3JlVXRpbC5zZXRNb2RhbFZlcnNpb25JblN0b3JhZ2UoKTtcbiAgICBPYmplY3QuYXNzaWduKHN0YXRlJDQsIGNvbmZpZyk7XG4gIH1cbn07XG5cbnZhciBfX2RlZlByb3AkMiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BTeW1ib2xzJDIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQyID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kMiA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDIgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDIob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDIgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCQyLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkMihhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkMilcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkMihiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSQyLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQyKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xuY29uc3QgVzNNX0FQSSA9IFwiaHR0cHM6Ly9leHBsb3Jlci1hcGkud2FsbGV0Y29ubmVjdC5jb21cIjtcbmNvbnN0IFNES19UWVBFID0gXCJ3Y21cIjtcbmNvbnN0IFNES19WRVJTSU9OID0gYGpzLSR7XCIyLjcuMFwifWA7XG5hc3luYyBmdW5jdGlvbiBmZXRjaExpc3RpbmdzKGVuZHBvaW50LCBwYXJhbXMpIHtcbiAgY29uc3QgYWxsUGFyYW1zID0gX19zcHJlYWRWYWx1ZXMkMih7IHNka1R5cGU6IFNES19UWVBFLCBzZGtWZXJzaW9uOiBTREtfVkVSU0lPTiB9LCBwYXJhbXMpO1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LCBXM01fQVBJKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJwcm9qZWN0SWRcIiwgQ29uZmlnQ3RybC5zdGF0ZS5wcm9qZWN0SWQpO1xuICBPYmplY3QuZW50cmllcyhhbGxQYXJhbXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCByZXF1ZXN0ID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgcmV0dXJuIHJlcXVlc3QuanNvbigpO1xufVxuY29uc3QgRXhwbG9yZXJVdGlsID0ge1xuICBhc3luYyBnZXREZXNrdG9wTGlzdGluZ3MocGFyYW1zKSB7XG4gICAgcmV0dXJuIGZldGNoTGlzdGluZ3MoXCIvdzNtL3YxL2dldERlc2t0b3BMaXN0aW5nc1wiLCBwYXJhbXMpO1xuICB9LFxuICBhc3luYyBnZXRNb2JpbGVMaXN0aW5ncyhwYXJhbXMpIHtcbiAgICByZXR1cm4gZmV0Y2hMaXN0aW5ncyhcIi93M20vdjEvZ2V0TW9iaWxlTGlzdGluZ3NcIiwgcGFyYW1zKTtcbiAgfSxcbiAgYXN5bmMgZ2V0SW5qZWN0ZWRMaXN0aW5ncyhwYXJhbXMpIHtcbiAgICByZXR1cm4gZmV0Y2hMaXN0aW5ncyhcIi93M20vdjEvZ2V0SW5qZWN0ZWRMaXN0aW5nc1wiLCBwYXJhbXMpO1xuICB9LFxuICBhc3luYyBnZXRBbGxMaXN0aW5ncyhwYXJhbXMpIHtcbiAgICByZXR1cm4gZmV0Y2hMaXN0aW5ncyhcIi93M20vdjEvZ2V0QWxsTGlzdGluZ3NcIiwgcGFyYW1zKTtcbiAgfSxcbiAgZ2V0V2FsbGV0SW1hZ2VVcmwoaW1hZ2VJZCkge1xuICAgIHJldHVybiBgJHtXM01fQVBJfS93M20vdjEvZ2V0V2FsbGV0SW1hZ2UvJHtpbWFnZUlkfT9wcm9qZWN0SWQ9JHtDb25maWdDdHJsLnN0YXRlLnByb2plY3RJZH0mc2RrVHlwZT0ke1NES19UWVBFfSZzZGtWZXJzaW9uPSR7U0RLX1ZFUlNJT059YDtcbiAgfSxcbiAgZ2V0QXNzZXRJbWFnZVVybChpbWFnZUlkKSB7XG4gICAgcmV0dXJuIGAke1czTV9BUEl9L3czbS92MS9nZXRBc3NldEltYWdlLyR7aW1hZ2VJZH0/cHJvamVjdElkPSR7Q29uZmlnQ3RybC5zdGF0ZS5wcm9qZWN0SWR9JnNka1R5cGU9JHtTREtfVFlQRX0mc2RrVmVyc2lvbj0ke1NES19WRVJTSU9OfWA7XG4gIH1cbn07XG5cbnZhciBfX2RlZlByb3AkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BTeW1ib2xzJDEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQxID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kMSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDEgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDEob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDEgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCQxLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkMShhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkMSlcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkMShiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSQxLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQxKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xuY29uc3QgaXNNb2JpbGUgPSBDb3JlVXRpbC5pc01vYmlsZSgpO1xuY29uc3Qgc3RhdGUkMyA9IHByb3h5KHtcbiAgd2FsbGV0czogeyBsaXN0aW5nczogW10sIHRvdGFsOiAwLCBwYWdlOiAxIH0sXG4gIHNlYXJjaDogeyBsaXN0aW5nczogW10sIHRvdGFsOiAwLCBwYWdlOiAxIH0sXG4gIHJlY29tZW5kZWRXYWxsZXRzOiBbXVxufSk7XG5jb25zdCBFeHBsb3JlckN0cmwgPSB7XG4gIHN0YXRlOiBzdGF0ZSQzLFxuICBhc3luYyBnZXRSZWNvbWVuZGVkV2FsbGV0cygpIHtcbiAgICBjb25zdCB7IGV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHMsIGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMgfSA9IENvbmZpZ0N0cmwuc3RhdGU7XG4gICAgaWYgKGV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHMgPT09IFwiTk9ORVwiIHx8IGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMgPT09IFwiQUxMXCIgJiYgIWV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHMpIHtcbiAgICAgIHJldHVybiBzdGF0ZSQzLnJlY29tZW5kZWRXYWxsZXRzO1xuICAgIH1cbiAgICBpZiAoQ29yZVV0aWwuaXNBcnJheShleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzKSkge1xuICAgICAgY29uc3QgcmVjb21tZW5kZWRJZHMgPSBleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzLmpvaW4oXCIsXCIpO1xuICAgICAgY29uc3QgcGFyYW1zID0geyByZWNvbW1lbmRlZElkcyB9O1xuICAgICAgY29uc3QgeyBsaXN0aW5ncyB9ID0gYXdhaXQgRXhwbG9yZXJVdGlsLmdldEFsbExpc3RpbmdzKHBhcmFtcyk7XG4gICAgICBjb25zdCBsaXN0aW5nc0FyciA9IE9iamVjdC52YWx1ZXMobGlzdGluZ3MpO1xuICAgICAgbGlzdGluZ3NBcnIuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBjb25zdCBhSW5kZXggPSBleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzLmluZGV4T2YoYS5pZCk7XG4gICAgICAgIGNvbnN0IGJJbmRleCA9IGV4cGxvcmVyUmVjb21tZW5kZWRXYWxsZXRJZHMuaW5kZXhPZihiLmlkKTtcbiAgICAgICAgcmV0dXJuIGFJbmRleCAtIGJJbmRleDtcbiAgICAgIH0pO1xuICAgICAgc3RhdGUkMy5yZWNvbWVuZGVkV2FsbGV0cyA9IGxpc3RpbmdzQXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IGNoYWlucywgaXNBdXRoIH0gPSBPcHRpb25zQ3RybC5zdGF0ZTtcbiAgICAgIGNvbnN0IGNoYWluc0ZpbHRlciA9IGNoYWlucyA9PSBudWxsID8gdm9pZCAwIDogY2hhaW5zLmpvaW4oXCIsXCIpO1xuICAgICAgY29uc3QgaXNFeGNsdWRlZCA9IENvcmVVdGlsLmlzQXJyYXkoZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcyk7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIHNka3M6IGlzQXV0aCA/IFwiYXV0aF92MVwiIDogdm9pZCAwLFxuICAgICAgICBlbnRyaWVzOiBDb3JlVXRpbC5SRUNPTU1FTkRFRF9XQUxMRVRfQU1PVU5ULFxuICAgICAgICBjaGFpbnM6IGNoYWluc0ZpbHRlcixcbiAgICAgICAgdmVyc2lvbjogMixcbiAgICAgICAgZXhjbHVkZWRJZHM6IGlzRXhjbHVkZWQgPyBleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzLmpvaW4oXCIsXCIpIDogdm9pZCAwXG4gICAgICB9O1xuICAgICAgY29uc3QgeyBsaXN0aW5ncyB9ID0gaXNNb2JpbGUgPyBhd2FpdCBFeHBsb3JlclV0aWwuZ2V0TW9iaWxlTGlzdGluZ3MocGFyYW1zKSA6IGF3YWl0IEV4cGxvcmVyVXRpbC5nZXREZXNrdG9wTGlzdGluZ3MocGFyYW1zKTtcbiAgICAgIHN0YXRlJDMucmVjb21lbmRlZFdhbGxldHMgPSBPYmplY3QudmFsdWVzKGxpc3RpbmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlJDMucmVjb21lbmRlZFdhbGxldHM7XG4gIH0sXG4gIGFzeW5jIGdldFdhbGxldHMocGFyYW1zKSB7XG4gICAgY29uc3QgZXh0ZW5kZWRQYXJhbXMgPSBfX3NwcmVhZFZhbHVlcyQxKHt9LCBwYXJhbXMpO1xuICAgIGNvbnN0IHsgZXhwbG9yZXJSZWNvbW1lbmRlZFdhbGxldElkcywgZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcyB9ID0gQ29uZmlnQ3RybC5zdGF0ZTtcbiAgICBjb25zdCB7IHJlY29tZW5kZWRXYWxsZXRzIH0gPSBzdGF0ZSQzO1xuICAgIGlmIChleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzID09PSBcIkFMTFwiKSB7XG4gICAgICByZXR1cm4gc3RhdGUkMy53YWxsZXRzO1xuICAgIH1cbiAgICBpZiAocmVjb21lbmRlZFdhbGxldHMubGVuZ3RoKSB7XG4gICAgICBleHRlbmRlZFBhcmFtcy5leGNsdWRlZElkcyA9IHJlY29tZW5kZWRXYWxsZXRzLm1hcCgod2FsbGV0KSA9PiB3YWxsZXQuaWQpLmpvaW4oXCIsXCIpO1xuICAgIH0gZWxzZSBpZiAoQ29yZVV0aWwuaXNBcnJheShleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzKSkge1xuICAgICAgZXh0ZW5kZWRQYXJhbXMuZXhjbHVkZWRJZHMgPSBleHBsb3JlclJlY29tbWVuZGVkV2FsbGV0SWRzLmpvaW4oXCIsXCIpO1xuICAgIH1cbiAgICBpZiAoQ29yZVV0aWwuaXNBcnJheShleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzKSkge1xuICAgICAgZXh0ZW5kZWRQYXJhbXMuZXhjbHVkZWRJZHMgPSBbZXh0ZW5kZWRQYXJhbXMuZXhjbHVkZWRJZHMsIGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHNdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiLFwiKTtcbiAgICB9XG4gICAgaWYgKE9wdGlvbnNDdHJsLnN0YXRlLmlzQXV0aCkge1xuICAgICAgZXh0ZW5kZWRQYXJhbXMuc2RrcyA9IFwiYXV0aF92MVwiO1xuICAgIH1cbiAgICBjb25zdCB7IHBhZ2UsIHNlYXJjaCB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHsgbGlzdGluZ3M6IGxpc3RpbmdzT2JqLCB0b3RhbCB9ID0gaXNNb2JpbGUgPyBhd2FpdCBFeHBsb3JlclV0aWwuZ2V0TW9iaWxlTGlzdGluZ3MoZXh0ZW5kZWRQYXJhbXMpIDogYXdhaXQgRXhwbG9yZXJVdGlsLmdldERlc2t0b3BMaXN0aW5ncyhleHRlbmRlZFBhcmFtcyk7XG4gICAgY29uc3QgbGlzdGluZ3MgPSBPYmplY3QudmFsdWVzKGxpc3RpbmdzT2JqKTtcbiAgICBjb25zdCB0eXBlID0gc2VhcmNoID8gXCJzZWFyY2hcIiA6IFwid2FsbGV0c1wiO1xuICAgIHN0YXRlJDNbdHlwZV0gPSB7XG4gICAgICBsaXN0aW5nczogWy4uLnN0YXRlJDNbdHlwZV0ubGlzdGluZ3MsIC4uLmxpc3RpbmdzXSxcbiAgICAgIHRvdGFsLFxuICAgICAgcGFnZTogcGFnZSAhPSBudWxsID8gcGFnZSA6IDFcbiAgICB9O1xuICAgIHJldHVybiB7IGxpc3RpbmdzLCB0b3RhbCB9O1xuICB9LFxuICBnZXRXYWxsZXRJbWFnZVVybChpbWFnZUlkKSB7XG4gICAgcmV0dXJuIEV4cGxvcmVyVXRpbC5nZXRXYWxsZXRJbWFnZVVybChpbWFnZUlkKTtcbiAgfSxcbiAgZ2V0QXNzZXRJbWFnZVVybChpbWFnZUlkKSB7XG4gICAgcmV0dXJuIEV4cGxvcmVyVXRpbC5nZXRBc3NldEltYWdlVXJsKGltYWdlSWQpO1xuICB9LFxuICByZXNldFNlYXJjaCgpIHtcbiAgICBzdGF0ZSQzLnNlYXJjaCA9IHsgbGlzdGluZ3M6IFtdLCB0b3RhbDogMCwgcGFnZTogMSB9O1xuICB9XG59O1xuXG5jb25zdCBzdGF0ZSQyID0gcHJveHkoe1xuICBvcGVuOiBmYWxzZVxufSk7XG5jb25zdCBNb2RhbEN0cmwgPSB7XG4gIHN0YXRlOiBzdGF0ZSQyLFxuICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc3Vic2NyaWJlKHN0YXRlJDIsICgpID0+IGNhbGxiYWNrKHN0YXRlJDIpKTtcbiAgfSxcbiAgYXN5bmMgb3BlbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCB7IGlzVWlMb2FkZWQsIGlzRGF0YUxvYWRlZCB9ID0gT3B0aW9uc0N0cmwuc3RhdGU7XG4gICAgICBDb3JlVXRpbC5yZW1vdmVXYWxsZXRDb25uZWN0RGVlcExpbmsoKTtcbiAgICAgIE9wdGlvbnNDdHJsLnNldFdhbGxldENvbm5lY3RVcmkob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy51cmkpO1xuICAgICAgT3B0aW9uc0N0cmwuc2V0Q2hhaW5zKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuY2hhaW5zKTtcbiAgICAgIFJvdXRlckN0cmwucmVzZXQoXCJDb25uZWN0V2FsbGV0XCIpO1xuICAgICAgaWYgKGlzVWlMb2FkZWQgJiYgaXNEYXRhTG9hZGVkKSB7XG4gICAgICAgIHN0YXRlJDIub3BlbiA9IHRydWU7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG9wdHMgPSBPcHRpb25zQ3RybC5zdGF0ZTtcbiAgICAgICAgICBpZiAob3B0cy5pc1VpTG9hZGVkICYmIG9wdHMuaXNEYXRhTG9hZGVkKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIHN0YXRlJDIub3BlbiA9IHRydWU7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAyMDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBjbG9zZSgpIHtcbiAgICBzdGF0ZSQyLm9wZW4gPSBmYWxzZTtcbiAgfVxufTtcblxudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xuZnVuY3Rpb24gaXNEYXJrTW9kZSgpIHtcbiAgcmV0dXJuIHR5cGVvZiBtYXRjaE1lZGlhICE9PSBcInVuZGVmaW5lZFwiICYmIG1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXM7XG59XG5jb25zdCBzdGF0ZSQxID0gcHJveHkoe1xuICB0aGVtZU1vZGU6IGlzRGFya01vZGUoKSA/IFwiZGFya1wiIDogXCJsaWdodFwiXG59KTtcbmNvbnN0IFRoZW1lQ3RybCA9IHtcbiAgc3RhdGU6IHN0YXRlJDEsXG4gIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgIHJldHVybiBzdWJzY3JpYmUoc3RhdGUkMSwgKCkgPT4gY2FsbGJhY2soc3RhdGUkMSkpO1xuICB9LFxuICBzZXRUaGVtZUNvbmZpZyh0aGVtZSkge1xuICAgIGNvbnN0IHsgdGhlbWVNb2RlLCB0aGVtZVZhcmlhYmxlcyB9ID0gdGhlbWU7XG4gICAgaWYgKHRoZW1lTW9kZSkge1xuICAgICAgc3RhdGUkMS50aGVtZU1vZGUgPSB0aGVtZU1vZGU7XG4gICAgfVxuICAgIGlmICh0aGVtZVZhcmlhYmxlcykge1xuICAgICAgc3RhdGUkMS50aGVtZVZhcmlhYmxlcyA9IF9fc3ByZWFkVmFsdWVzKHt9LCB0aGVtZVZhcmlhYmxlcyk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgb3BlbjogZmFsc2UsXG4gIG1lc3NhZ2U6IFwiXCIsXG4gIHZhcmlhbnQ6IFwic3VjY2Vzc1wiXG59KTtcbmNvbnN0IFRvYXN0Q3RybCA9IHtcbiAgc3RhdGUsXG4gIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgIHJldHVybiBzdWJzY3JpYmUoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gIH0sXG4gIG9wZW5Ub2FzdChtZXNzYWdlLCB2YXJpYW50KSB7XG4gICAgc3RhdGUub3BlbiA9IHRydWU7XG4gICAgc3RhdGUubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgc3RhdGUudmFyaWFudCA9IHZhcmlhbnQ7XG4gIH0sXG4gIGNsb3NlVG9hc3QoKSB7XG4gICAgc3RhdGUub3BlbiA9IGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnQgeyBDb25maWdDdHJsLCBDb3JlVXRpbCwgRXZlbnRzQ3RybCwgRXhwbG9yZXJDdHJsLCBNb2RhbEN0cmwsIE9wdGlvbnNDdHJsLCBSb3V0ZXJDdHJsLCBUaGVtZUN0cmwsIFRvYXN0Q3RybCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-core/node_modules/proxy-compare/dist/index.modern.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-core/node_modules/proxy-compare/dist/index.modern.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   affectedToPathList: () => (/* binding */ w),\n/* harmony export */   createProxy: () => (/* binding */ a),\n/* harmony export */   getUntracked: () => (/* binding */ y),\n/* harmony export */   isChanged: () => (/* binding */ p),\n/* harmony export */   markToTrack: () => (/* binding */ h),\n/* harmony export */   replaceNewProxy: () => (/* binding */ O),\n/* harmony export */   trackMemo: () => (/* binding */ g)\n/* harmony export */ });\nconst e=Symbol(),t=Symbol(),r=\"a\",n=\"w\";let o=(e,t)=>new Proxy(e,t);const s=Object.getPrototypeOf,c=new WeakMap,l=e=>e&&(c.has(e)?c.get(e):s(e)===Object.prototype||s(e)===Array.prototype),f=e=>\"object\"==typeof e&&null!==e,i=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(e=>{e.configurable=!0}),Object.create(s(e),t)},u=e=>e[t]||e,a=(s,c,f,p)=>{if(!l(s))return s;let g=p&&p.get(s);if(!g){const e=u(s);g=(e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(e=>!e.configurable&&!e.writable))(e)?[e,i(e)]:[e],null==p||p.set(s,g)}const[y,h]=g;let w=f&&f.get(y);return w&&w[1].f===!!h||(w=((o,s)=>{const c={f:s};let l=!1;const f=(e,t)=>{if(!l){let s=c[r].get(o);if(s||(s={},c[r].set(o,s)),e===n)s[n]=!0;else{let r=s[e];r||(r=new Set,s[e]=r),r.add(t)}}},i={get:(e,n)=>n===t?o:(f(\"k\",n),a(Reflect.get(e,n),c[r],c.c,c.t)),has:(t,n)=>n===e?(l=!0,c[r].delete(o),!0):(f(\"h\",n),Reflect.has(t,n)),getOwnPropertyDescriptor:(e,t)=>(f(\"o\",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(f(n),Reflect.ownKeys(e))};return s&&(i.set=i.deleteProperty=()=>!1),[i,c]})(y,!!h),w[1].p=o(h||y,w[0]),f&&f.set(y,w)),w[1][r]=c,w[1].c=f,w[1].t=p,w[1].p},p=(e,t,r,o)=>{if(Object.is(e,t))return!1;if(!f(e)||!f(t))return!0;const s=r.get(u(e));if(!s)return!0;if(o){const r=o.get(e);if(r&&r.n===t)return r.g;o.set(e,{n:t,g:!1})}let c=null;try{for(const r of s.h||[])if(c=Reflect.has(e,r)!==Reflect.has(t,r),c)return c;if(!0===s[n]){if(c=((e,t)=>{const r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some((e,t)=>e!==n[t])})(e,t),c)return c}else for(const r of s.o||[])if(c=!!Reflect.getOwnPropertyDescriptor(e,r)!=!!Reflect.getOwnPropertyDescriptor(t,r),c)return c;for(const n of s.k||[])if(c=p(e[n],t[n],r,o),c)return c;return null===c&&(c=!0),c}finally{o&&o.set(e,{n:t,g:c})}},g=t=>!!l(t)&&e in t,y=e=>l(e)&&e[t]||null,h=(e,t=!0)=>{c.set(e,t)},w=(e,t,r)=>{const o=[],s=new WeakSet,c=(e,l)=>{if(s.has(e))return;f(e)&&s.add(e);const i=f(e)&&t.get(u(e));if(i){var a,p;if(null==(a=i.h)||a.forEach(e=>{const t=`:has(${String(e)})`;o.push(l?[...l,t]:[t])}),!0===i[n]){const e=\":ownKeys\";o.push(l?[...l,e]:[e])}else{var g;null==(g=i.o)||g.forEach(e=>{const t=`:hasOwn(${String(e)})`;o.push(l?[...l,t]:[t])})}null==(p=i.k)||p.forEach(t=>{r&&!(\"value\"in(Object.getOwnPropertyDescriptor(e,t)||{}))||c(e[t],l?[...l,t]:[t])})}else l&&o.push(l)};return c(e),o},O=e=>{o=e};\n//# sourceMappingURL=index.modern.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZS9ub2RlX21vZHVsZXMvcHJveHktY29tcGFyZS9kaXN0L2luZGV4Lm1vZGVybi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsd0NBQXdDLDRCQUE0QixnS0FBZ0sseUNBQXlDLDRDQUE0QyxvQ0FBb0Msa0JBQWtCLHdCQUF3Qiw0QkFBNEIsa0JBQWtCLGtCQUFrQixPQUFPLGFBQWEsb0lBQW9JLGFBQWEsa0JBQWtCLG9DQUFvQyxTQUFTLEtBQUssU0FBUyxnQkFBZ0IsT0FBTyxrQkFBa0IsV0FBVyw4QkFBOEIsS0FBSyxXQUFXLGlDQUFpQyxJQUFJLDRQQUE0UCxnREFBZ0QsK0VBQStFLGVBQWUsMkJBQTJCLHlCQUF5QixvQkFBb0IsZUFBZSxNQUFNLGlCQUFpQix5QkFBeUIsU0FBUyxTQUFTLEVBQUUsV0FBVyxJQUFJLDJFQUEyRSxjQUFjLGNBQWMsZ0RBQWdELG9EQUFvRCxrQkFBa0IsNkhBQTZILHdEQUF3RCwwQkFBMEIsUUFBUSxZQUFZLFFBQVEsR0FBRyx3REFBd0QsV0FBVyxhQUFhLG1DQUFtQyxtQkFBbUIsZUFBZSwwQkFBMEIsTUFBTSxRQUFRLGdDQUFnQyxnQkFBZ0IsVUFBVSxHQUFHLHVCQUF1QixhQUFhLG1CQUFtQix1QkFBdUIsS0FBSyxNQUFNLDZCQUE2QixtQkFBbUIsVUFBVSxHQUFHLHVCQUF1QixFQUFFLDZCQUE2Qix1REFBdUQsMkJBQTJCLEVBQUUsbUJBQW1CLGNBQWMsT0FBTyxLQUE0STtBQUM3Z0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLWNvcmUvbm9kZV9tb2R1bGVzL3Byb3h5LWNvbXBhcmUvZGlzdC9pbmRleC5tb2Rlcm4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZT1TeW1ib2woKSx0PVN5bWJvbCgpLHI9XCJhXCIsbj1cIndcIjtsZXQgbz0oZSx0KT0+bmV3IFByb3h5KGUsdCk7Y29uc3Qgcz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsYz1uZXcgV2Vha01hcCxsPWU9PmUmJihjLmhhcyhlKT9jLmdldChlKTpzKGUpPT09T2JqZWN0LnByb3RvdHlwZXx8cyhlKT09PUFycmF5LnByb3RvdHlwZSksZj1lPT5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUsaT1lPT57aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gQXJyYXkuZnJvbShlKTtjb25zdCB0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGUpO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2goZT0+e2UuY29uZmlndXJhYmxlPSEwfSksT2JqZWN0LmNyZWF0ZShzKGUpLHQpfSx1PWU9PmVbdF18fGUsYT0ocyxjLGYscCk9PntpZighbChzKSlyZXR1cm4gcztsZXQgZz1wJiZwLmdldChzKTtpZighZyl7Y29uc3QgZT11KHMpO2c9KGU9Pk9iamVjdC52YWx1ZXMoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZSkpLnNvbWUoZT0+IWUuY29uZmlndXJhYmxlJiYhZS53cml0YWJsZSkpKGUpP1tlLGkoZSldOltlXSxudWxsPT1wfHxwLnNldChzLGcpfWNvbnN0W3ksaF09ZztsZXQgdz1mJiZmLmdldCh5KTtyZXR1cm4gdyYmd1sxXS5mPT09ISFofHwodz0oKG8scyk9Pntjb25zdCBjPXtmOnN9O2xldCBsPSExO2NvbnN0IGY9KGUsdCk9PntpZighbCl7bGV0IHM9Y1tyXS5nZXQobyk7aWYoc3x8KHM9e30sY1tyXS5zZXQobyxzKSksZT09PW4pc1tuXT0hMDtlbHNle2xldCByPXNbZV07cnx8KHI9bmV3IFNldCxzW2VdPXIpLHIuYWRkKHQpfX19LGk9e2dldDooZSxuKT0+bj09PXQ/bzooZihcImtcIixuKSxhKFJlZmxlY3QuZ2V0KGUsbiksY1tyXSxjLmMsYy50KSksaGFzOih0LG4pPT5uPT09ZT8obD0hMCxjW3JdLmRlbGV0ZShvKSwhMCk6KGYoXCJoXCIsbiksUmVmbGVjdC5oYXModCxuKSksZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOihlLHQpPT4oZihcIm9cIix0KSxSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpKSxvd25LZXlzOmU9PihmKG4pLFJlZmxlY3Qub3duS2V5cyhlKSl9O3JldHVybiBzJiYoaS5zZXQ9aS5kZWxldGVQcm9wZXJ0eT0oKT0+ITEpLFtpLGNdfSkoeSwhIWgpLHdbMV0ucD1vKGh8fHksd1swXSksZiYmZi5zZXQoeSx3KSksd1sxXVtyXT1jLHdbMV0uYz1mLHdbMV0udD1wLHdbMV0ucH0scD0oZSx0LHIsbyk9PntpZihPYmplY3QuaXMoZSx0KSlyZXR1cm4hMTtpZighZihlKXx8IWYodCkpcmV0dXJuITA7Y29uc3Qgcz1yLmdldCh1KGUpKTtpZighcylyZXR1cm4hMDtpZihvKXtjb25zdCByPW8uZ2V0KGUpO2lmKHImJnIubj09PXQpcmV0dXJuIHIuZztvLnNldChlLHtuOnQsZzohMX0pfWxldCBjPW51bGw7dHJ5e2Zvcihjb25zdCByIG9mIHMuaHx8W10paWYoYz1SZWZsZWN0LmhhcyhlLHIpIT09UmVmbGVjdC5oYXModCxyKSxjKXJldHVybiBjO2lmKCEwPT09c1tuXSl7aWYoYz0oKGUsdCk9Pntjb25zdCByPVJlZmxlY3Qub3duS2V5cyhlKSxuPVJlZmxlY3Qub3duS2V5cyh0KTtyZXR1cm4gci5sZW5ndGghPT1uLmxlbmd0aHx8ci5zb21lKChlLHQpPT5lIT09blt0XSl9KShlLHQpLGMpcmV0dXJuIGN9ZWxzZSBmb3IoY29uc3QgciBvZiBzLm98fFtdKWlmKGM9ISFSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpIT0hIVJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsciksYylyZXR1cm4gYztmb3IoY29uc3QgbiBvZiBzLmt8fFtdKWlmKGM9cChlW25dLHRbbl0scixvKSxjKXJldHVybiBjO3JldHVybiBudWxsPT09YyYmKGM9ITApLGN9ZmluYWxseXtvJiZvLnNldChlLHtuOnQsZzpjfSl9fSxnPXQ9PiEhbCh0KSYmZSBpbiB0LHk9ZT0+bChlKSYmZVt0XXx8bnVsbCxoPShlLHQ9ITApPT57Yy5zZXQoZSx0KX0sdz0oZSx0LHIpPT57Y29uc3Qgbz1bXSxzPW5ldyBXZWFrU2V0LGM9KGUsbCk9PntpZihzLmhhcyhlKSlyZXR1cm47ZihlKSYmcy5hZGQoZSk7Y29uc3QgaT1mKGUpJiZ0LmdldCh1KGUpKTtpZihpKXt2YXIgYSxwO2lmKG51bGw9PShhPWkuaCl8fGEuZm9yRWFjaChlPT57Y29uc3QgdD1gOmhhcygke1N0cmluZyhlKX0pYDtvLnB1c2gobD9bLi4ubCx0XTpbdF0pfSksITA9PT1pW25dKXtjb25zdCBlPVwiOm93bktleXNcIjtvLnB1c2gobD9bLi4ubCxlXTpbZV0pfWVsc2V7dmFyIGc7bnVsbD09KGc9aS5vKXx8Zy5mb3JFYWNoKGU9Pntjb25zdCB0PWA6aGFzT3duKCR7U3RyaW5nKGUpfSlgO28ucHVzaChsP1suLi5sLHRdOlt0XSl9KX1udWxsPT0ocD1pLmspfHxwLmZvckVhY2godD0+e3ImJiEoXCJ2YWx1ZVwiaW4oT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpfHx7fSkpfHxjKGVbdF0sbD9bLi4ubCx0XTpbdF0pfSl9ZWxzZSBsJiZvLnB1c2gobCl9O3JldHVybiBjKGUpLG99LE89ZT0+e289ZX07ZXhwb3J0e3cgYXMgYWZmZWN0ZWRUb1BhdGhMaXN0LGEgYXMgY3JlYXRlUHJveHkseSBhcyBnZXRVbnRyYWNrZWQscCBhcyBpc0NoYW5nZWQsaCBhcyBtYXJrVG9UcmFjayxPIGFzIHJlcGxhY2VOZXdQcm94eSxnIGFzIHRyYWNrTWVtb307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tb2Rlcm4ubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-core/node_modules/proxy-compare/dist/index.modern.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-core/node_modules/valtio/esm/vanilla.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-core/node_modules/valtio/esm/vanilla.mjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getVersion: () => (/* binding */ getVersion),\n/* harmony export */   proxy: () => (/* binding */ proxy),\n/* harmony export */   ref: () => (/* binding */ ref),\n/* harmony export */   snapshot: () => (/* binding */ snapshot),\n/* harmony export */   subscribe: () => (/* binding */ subscribe),\n/* harmony export */   unstable_buildProxyFunction: () => (/* binding */ unstable_buildProxyFunction)\n/* harmony export */ });\n/* harmony import */ var proxy_compare__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! proxy-compare */ \"(ssr)/./node_modules/@walletconnect/modal-core/node_modules/proxy-compare/dist/index.modern.js\");\n\n\nconst isObject = (x) => typeof x === \"object\" && x !== null;\nconst proxyStateMap = /* @__PURE__ */ new WeakMap();\nconst refSet = /* @__PURE__ */ new WeakSet();\nconst buildProxyFunction = (objectIs = Object.is, newProxy = (target, handler) => new Proxy(target, handler), canProxy = (x) => isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer), defaultHandlePromise = (promise) => {\n  switch (promise.status) {\n    case \"fulfilled\":\n      return promise.value;\n    case \"rejected\":\n      throw promise.reason;\n    default:\n      throw promise;\n  }\n}, snapCache = /* @__PURE__ */ new WeakMap(), createSnapshot = (target, version, handlePromise = defaultHandlePromise) => {\n  const cache = snapCache.get(target);\n  if ((cache == null ? void 0 : cache[0]) === version) {\n    return cache[1];\n  }\n  const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n  (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(snap, true);\n  snapCache.set(target, [version, snap]);\n  Reflect.ownKeys(target).forEach((key) => {\n    if (Object.getOwnPropertyDescriptor(snap, key)) {\n      return;\n    }\n    const value = Reflect.get(target, key);\n    const desc = {\n      value,\n      enumerable: true,\n      // This is intentional to avoid copying with proxy-compare.\n      // It's still non-writable, so it avoids assigning a value.\n      configurable: true\n    };\n    if (refSet.has(value)) {\n      (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.markToTrack)(value, false);\n    } else if (value instanceof Promise) {\n      delete desc.value;\n      desc.get = () => handlePromise(value);\n    } else if (proxyStateMap.has(value)) {\n      const [target2, ensureVersion] = proxyStateMap.get(\n        value\n      );\n      desc.value = createSnapshot(\n        target2,\n        ensureVersion(),\n        handlePromise\n      );\n    }\n    Object.defineProperty(snap, key, desc);\n  });\n  return Object.preventExtensions(snap);\n}, proxyCache = /* @__PURE__ */ new WeakMap(), versionHolder = [1, 1], proxyFunction = (initialObject) => {\n  if (!isObject(initialObject)) {\n    throw new Error(\"object required\");\n  }\n  const found = proxyCache.get(initialObject);\n  if (found) {\n    return found;\n  }\n  let version = versionHolder[0];\n  const listeners = /* @__PURE__ */ new Set();\n  const notifyUpdate = (op, nextVersion = ++versionHolder[0]) => {\n    if (version !== nextVersion) {\n      version = nextVersion;\n      listeners.forEach((listener) => listener(op, nextVersion));\n    }\n  };\n  let checkVersion = versionHolder[1];\n  const ensureVersion = (nextCheckVersion = ++versionHolder[1]) => {\n    if (checkVersion !== nextCheckVersion && !listeners.size) {\n      checkVersion = nextCheckVersion;\n      propProxyStates.forEach(([propProxyState]) => {\n        const propVersion = propProxyState[1](nextCheckVersion);\n        if (propVersion > version) {\n          version = propVersion;\n        }\n      });\n    }\n    return version;\n  };\n  const createPropListener = (prop) => (op, nextVersion) => {\n    const newOp = [...op];\n    newOp[1] = [prop, ...newOp[1]];\n    notifyUpdate(newOp, nextVersion);\n  };\n  const propProxyStates = /* @__PURE__ */ new Map();\n  const addPropListener = (prop, propProxyState) => {\n    if (( false ? 0 : void 0) !== \"production\" && propProxyStates.has(prop)) {\n      throw new Error(\"prop listener already exists\");\n    }\n    if (listeners.size) {\n      const remove = propProxyState[3](createPropListener(prop));\n      propProxyStates.set(prop, [propProxyState, remove]);\n    } else {\n      propProxyStates.set(prop, [propProxyState]);\n    }\n  };\n  const removePropListener = (prop) => {\n    var _a;\n    const entry = propProxyStates.get(prop);\n    if (entry) {\n      propProxyStates.delete(prop);\n      (_a = entry[1]) == null ? void 0 : _a.call(entry);\n    }\n  };\n  const addListener = (listener) => {\n    listeners.add(listener);\n    if (listeners.size === 1) {\n      propProxyStates.forEach(([propProxyState, prevRemove], prop) => {\n        if (( false ? 0 : void 0) !== \"production\" && prevRemove) {\n          throw new Error(\"remove already exists\");\n        }\n        const remove = propProxyState[3](createPropListener(prop));\n        propProxyStates.set(prop, [propProxyState, remove]);\n      });\n    }\n    const removeListener = () => {\n      listeners.delete(listener);\n      if (listeners.size === 0) {\n        propProxyStates.forEach(([propProxyState, remove], prop) => {\n          if (remove) {\n            remove();\n            propProxyStates.set(prop, [propProxyState]);\n          }\n        });\n      }\n    };\n    return removeListener;\n  };\n  const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\n  const handler = {\n    deleteProperty(target, prop) {\n      const prevValue = Reflect.get(target, prop);\n      removePropListener(prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n      if (deleted) {\n        notifyUpdate([\"delete\", [prop], prevValue]);\n      }\n      return deleted;\n    },\n    set(target, prop, value, receiver) {\n      const hasPrevValue = Reflect.has(target, prop);\n      const prevValue = Reflect.get(target, prop, receiver);\n      if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {\n        return true;\n      }\n      removePropListener(prop);\n      if (isObject(value)) {\n        value = (0,proxy_compare__WEBPACK_IMPORTED_MODULE_0__.getUntracked)(value) || value;\n      }\n      let nextValue = value;\n      if (value instanceof Promise) {\n        value.then((v) => {\n          value.status = \"fulfilled\";\n          value.value = v;\n          notifyUpdate([\"resolve\", [prop], v]);\n        }).catch((e) => {\n          value.status = \"rejected\";\n          value.reason = e;\n          notifyUpdate([\"reject\", [prop], e]);\n        });\n      } else {\n        if (!proxyStateMap.has(value) && canProxy(value)) {\n          nextValue = proxyFunction(value);\n        }\n        const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue);\n        if (childProxyState) {\n          addPropListener(prop, childProxyState);\n        }\n      }\n      Reflect.set(target, prop, nextValue, receiver);\n      notifyUpdate([\"set\", [prop], value, prevValue]);\n      return true;\n    }\n  };\n  const proxyObject = newProxy(baseObject, handler);\n  proxyCache.set(initialObject, proxyObject);\n  const proxyState = [\n    baseObject,\n    ensureVersion,\n    createSnapshot,\n    addListener\n  ];\n  proxyStateMap.set(proxyObject, proxyState);\n  Reflect.ownKeys(initialObject).forEach((key) => {\n    const desc = Object.getOwnPropertyDescriptor(\n      initialObject,\n      key\n    );\n    if (\"value\" in desc) {\n      proxyObject[key] = initialObject[key];\n      delete desc.value;\n      delete desc.writable;\n    }\n    Object.defineProperty(baseObject, key, desc);\n  });\n  return proxyObject;\n}) => [\n  // public functions\n  proxyFunction,\n  // shared state\n  proxyStateMap,\n  refSet,\n  // internal things\n  objectIs,\n  newProxy,\n  canProxy,\n  defaultHandlePromise,\n  snapCache,\n  createSnapshot,\n  proxyCache,\n  versionHolder\n];\nconst [defaultProxyFunction] = buildProxyFunction();\nfunction proxy(initialObject = {}) {\n  return defaultProxyFunction(initialObject);\n}\nfunction getVersion(proxyObject) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  return proxyState == null ? void 0 : proxyState[1]();\n}\nfunction subscribe(proxyObject, callback, notifyInSync) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (( false ? 0 : void 0) !== \"production\" && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  let promise;\n  const ops = [];\n  const addListener = proxyState[3];\n  let isListenerActive = false;\n  const listener = (op) => {\n    ops.push(op);\n    if (notifyInSync) {\n      callback(ops.splice(0));\n      return;\n    }\n    if (!promise) {\n      promise = Promise.resolve().then(() => {\n        promise = void 0;\n        if (isListenerActive) {\n          callback(ops.splice(0));\n        }\n      });\n    }\n  };\n  const removeListener = addListener(listener);\n  isListenerActive = true;\n  return () => {\n    isListenerActive = false;\n    removeListener();\n  };\n}\nfunction snapshot(proxyObject, handlePromise) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (( false ? 0 : void 0) !== \"production\" && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  const [target, ensureVersion, createSnapshot] = proxyState;\n  return createSnapshot(target, ensureVersion(), handlePromise);\n}\nfunction ref(obj) {\n  refSet.add(obj);\n  return obj;\n}\nconst unstable_buildProxyFunction = buildProxyFunction;\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZS9ub2RlX21vZHVsZXMvdmFsdGlvL2VzbS92YW5pbGxhLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBEOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMERBQVc7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwwREFBVztBQUNqQixNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLE1BQWUsR0FBRyxDQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsTUFBZSxHQUFHLENBQW9CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sTUFBZSxHQUFHLENBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxNQUFlLEdBQUcsQ0FBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9GIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC1jb3JlL25vZGVfbW9kdWxlcy92YWx0aW8vZXNtL3ZhbmlsbGEubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1hcmtUb1RyYWNrLCBnZXRVbnRyYWNrZWQgfSBmcm9tICdwcm94eS1jb21wYXJlJztcblxuY29uc3QgaXNPYmplY3QgPSAoeCkgPT4gdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgeCAhPT0gbnVsbDtcbmNvbnN0IHByb3h5U3RhdGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlZlNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuY29uc3QgYnVpbGRQcm94eUZ1bmN0aW9uID0gKG9iamVjdElzID0gT2JqZWN0LmlzLCBuZXdQcm94eSA9ICh0YXJnZXQsIGhhbmRsZXIpID0+IG5ldyBQcm94eSh0YXJnZXQsIGhhbmRsZXIpLCBjYW5Qcm94eSA9ICh4KSA9PiBpc09iamVjdCh4KSAmJiAhcmVmU2V0Lmhhcyh4KSAmJiAoQXJyYXkuaXNBcnJheSh4KSB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiB4KSkgJiYgISh4IGluc3RhbmNlb2YgV2Vha01hcCkgJiYgISh4IGluc3RhbmNlb2YgV2Vha1NldCkgJiYgISh4IGluc3RhbmNlb2YgRXJyb3IpICYmICEoeCBpbnN0YW5jZW9mIE51bWJlcikgJiYgISh4IGluc3RhbmNlb2YgRGF0ZSkgJiYgISh4IGluc3RhbmNlb2YgU3RyaW5nKSAmJiAhKHggaW5zdGFuY2VvZiBSZWdFeHApICYmICEoeCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSwgZGVmYXVsdEhhbmRsZVByb21pc2UgPSAocHJvbWlzZSkgPT4ge1xuICBzd2l0Y2ggKHByb21pc2Uuc3RhdHVzKSB7XG4gICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgcmV0dXJuIHByb21pc2UudmFsdWU7XG4gICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICB0aHJvdyBwcm9taXNlLnJlYXNvbjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgcHJvbWlzZTtcbiAgfVxufSwgc25hcENhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIGNyZWF0ZVNuYXBzaG90ID0gKHRhcmdldCwgdmVyc2lvbiwgaGFuZGxlUHJvbWlzZSA9IGRlZmF1bHRIYW5kbGVQcm9taXNlKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gc25hcENhY2hlLmdldCh0YXJnZXQpO1xuICBpZiAoKGNhY2hlID09IG51bGwgPyB2b2lkIDAgOiBjYWNoZVswXSkgPT09IHZlcnNpb24pIHtcbiAgICByZXR1cm4gY2FjaGVbMV07XG4gIH1cbiAgY29uc3Qgc25hcCA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KSA/IFtdIDogT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KSk7XG4gIG1hcmtUb1RyYWNrKHNuYXAsIHRydWUpO1xuICBzbmFwQ2FjaGUuc2V0KHRhcmdldCwgW3ZlcnNpb24sIHNuYXBdKTtcbiAgUmVmbGVjdC5vd25LZXlzKHRhcmdldCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc25hcCwga2V5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5KTtcbiAgICBjb25zdCBkZXNjID0ge1xuICAgICAgdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbCB0byBhdm9pZCBjb3B5aW5nIHdpdGggcHJveHktY29tcGFyZS5cbiAgICAgIC8vIEl0J3Mgc3RpbGwgbm9uLXdyaXRhYmxlLCBzbyBpdCBhdm9pZHMgYXNzaWduaW5nIGEgdmFsdWUuXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9O1xuICAgIGlmIChyZWZTZXQuaGFzKHZhbHVlKSkge1xuICAgICAgbWFya1RvVHJhY2sodmFsdWUsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgZGVsZXRlIGRlc2MudmFsdWU7XG4gICAgICBkZXNjLmdldCA9ICgpID0+IGhhbmRsZVByb21pc2UodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAocHJveHlTdGF0ZU1hcC5oYXModmFsdWUpKSB7XG4gICAgICBjb25zdCBbdGFyZ2V0MiwgZW5zdXJlVmVyc2lvbl0gPSBwcm94eVN0YXRlTWFwLmdldChcbiAgICAgICAgdmFsdWVcbiAgICAgICk7XG4gICAgICBkZXNjLnZhbHVlID0gY3JlYXRlU25hcHNob3QoXG4gICAgICAgIHRhcmdldDIsXG4gICAgICAgIGVuc3VyZVZlcnNpb24oKSxcbiAgICAgICAgaGFuZGxlUHJvbWlzZVxuICAgICAgKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNuYXAsIGtleSwgZGVzYyk7XG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHNuYXApO1xufSwgcHJveHlDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCB2ZXJzaW9uSG9sZGVyID0gWzEsIDFdLCBwcm94eUZ1bmN0aW9uID0gKGluaXRpYWxPYmplY3QpID0+IHtcbiAgaWYgKCFpc09iamVjdChpbml0aWFsT2JqZWN0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIm9iamVjdCByZXF1aXJlZFwiKTtcbiAgfVxuICBjb25zdCBmb3VuZCA9IHByb3h5Q2FjaGUuZ2V0KGluaXRpYWxPYmplY3QpO1xuICBpZiAoZm91bmQpIHtcbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cbiAgbGV0IHZlcnNpb24gPSB2ZXJzaW9uSG9sZGVyWzBdO1xuICBjb25zdCBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBub3RpZnlVcGRhdGUgPSAob3AsIG5leHRWZXJzaW9uID0gKyt2ZXJzaW9uSG9sZGVyWzBdKSA9PiB7XG4gICAgaWYgKHZlcnNpb24gIT09IG5leHRWZXJzaW9uKSB7XG4gICAgICB2ZXJzaW9uID0gbmV4dFZlcnNpb247XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKG9wLCBuZXh0VmVyc2lvbikpO1xuICAgIH1cbiAgfTtcbiAgbGV0IGNoZWNrVmVyc2lvbiA9IHZlcnNpb25Ib2xkZXJbMV07XG4gIGNvbnN0IGVuc3VyZVZlcnNpb24gPSAobmV4dENoZWNrVmVyc2lvbiA9ICsrdmVyc2lvbkhvbGRlclsxXSkgPT4ge1xuICAgIGlmIChjaGVja1ZlcnNpb24gIT09IG5leHRDaGVja1ZlcnNpb24gJiYgIWxpc3RlbmVycy5zaXplKSB7XG4gICAgICBjaGVja1ZlcnNpb24gPSBuZXh0Q2hlY2tWZXJzaW9uO1xuICAgICAgcHJvcFByb3h5U3RhdGVzLmZvckVhY2goKFtwcm9wUHJveHlTdGF0ZV0pID0+IHtcbiAgICAgICAgY29uc3QgcHJvcFZlcnNpb24gPSBwcm9wUHJveHlTdGF0ZVsxXShuZXh0Q2hlY2tWZXJzaW9uKTtcbiAgICAgICAgaWYgKHByb3BWZXJzaW9uID4gdmVyc2lvbikge1xuICAgICAgICAgIHZlcnNpb24gPSBwcm9wVmVyc2lvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2ZXJzaW9uO1xuICB9O1xuICBjb25zdCBjcmVhdGVQcm9wTGlzdGVuZXIgPSAocHJvcCkgPT4gKG9wLCBuZXh0VmVyc2lvbikgPT4ge1xuICAgIGNvbnN0IG5ld09wID0gWy4uLm9wXTtcbiAgICBuZXdPcFsxXSA9IFtwcm9wLCAuLi5uZXdPcFsxXV07XG4gICAgbm90aWZ5VXBkYXRlKG5ld09wLCBuZXh0VmVyc2lvbik7XG4gIH07XG4gIGNvbnN0IHByb3BQcm94eVN0YXRlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IGFkZFByb3BMaXN0ZW5lciA9IChwcm9wLCBwcm9wUHJveHlTdGF0ZSkgPT4ge1xuICAgIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIiAmJiBwcm9wUHJveHlTdGF0ZXMuaGFzKHByb3ApKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm9wIGxpc3RlbmVyIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgIH1cbiAgICBpZiAobGlzdGVuZXJzLnNpemUpIHtcbiAgICAgIGNvbnN0IHJlbW92ZSA9IHByb3BQcm94eVN0YXRlWzNdKGNyZWF0ZVByb3BMaXN0ZW5lcihwcm9wKSk7XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuc2V0KHByb3AsIFtwcm9wUHJveHlTdGF0ZSwgcmVtb3ZlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3BQcm94eVN0YXRlcy5zZXQocHJvcCwgW3Byb3BQcm94eVN0YXRlXSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmVQcm9wTGlzdGVuZXIgPSAocHJvcCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBlbnRyeSA9IHByb3BQcm94eVN0YXRlcy5nZXQocHJvcCk7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuZGVsZXRlKHByb3ApO1xuICAgICAgKF9hID0gZW50cnlbMV0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGVudHJ5KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGFkZExpc3RlbmVyID0gKGxpc3RlbmVyKSA9PiB7XG4gICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgaWYgKGxpc3RlbmVycy5zaXplID09PSAxKSB7XG4gICAgICBwcm9wUHJveHlTdGF0ZXMuZm9yRWFjaCgoW3Byb3BQcm94eVN0YXRlLCBwcmV2UmVtb3ZlXSwgcHJvcCkgPT4ge1xuICAgICAgICBpZiAoKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgcHJldlJlbW92ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInJlbW92ZSBhbHJlYWR5IGV4aXN0c1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1vdmUgPSBwcm9wUHJveHlTdGF0ZVszXShjcmVhdGVQcm9wTGlzdGVuZXIocHJvcCkpO1xuICAgICAgICBwcm9wUHJveHlTdGF0ZXMuc2V0KHByb3AsIFtwcm9wUHJveHlTdGF0ZSwgcmVtb3ZlXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgIGlmIChsaXN0ZW5lcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBwcm9wUHJveHlTdGF0ZXMuZm9yRWFjaCgoW3Byb3BQcm94eVN0YXRlLCByZW1vdmVdLCBwcm9wKSA9PiB7XG4gICAgICAgICAgaWYgKHJlbW92ZSkge1xuICAgICAgICAgICAgcmVtb3ZlKCk7XG4gICAgICAgICAgICBwcm9wUHJveHlTdGF0ZXMuc2V0KHByb3AsIFtwcm9wUHJveHlTdGF0ZV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gcmVtb3ZlTGlzdGVuZXI7XG4gIH07XG4gIGNvbnN0IGJhc2VPYmplY3QgPSBBcnJheS5pc0FycmF5KGluaXRpYWxPYmplY3QpID8gW10gOiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihpbml0aWFsT2JqZWN0KSk7XG4gIGNvbnN0IGhhbmRsZXIgPSB7XG4gICAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wKSB7XG4gICAgICBjb25zdCBwcmV2VmFsdWUgPSBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3ApO1xuICAgICAgcmVtb3ZlUHJvcExpc3RlbmVyKHByb3ApO1xuICAgICAgY29uc3QgZGVsZXRlZCA9IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wKTtcbiAgICAgIGlmIChkZWxldGVkKSB7XG4gICAgICAgIG5vdGlmeVVwZGF0ZShbXCJkZWxldGVcIiwgW3Byb3BdLCBwcmV2VmFsdWVdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWxldGVkO1xuICAgIH0sXG4gICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgICBjb25zdCBoYXNQcmV2VmFsdWUgPSBSZWZsZWN0Lmhhcyh0YXJnZXQsIHByb3ApO1xuICAgICAgY29uc3QgcHJldlZhbHVlID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICBpZiAoaGFzUHJldlZhbHVlICYmIChvYmplY3RJcyhwcmV2VmFsdWUsIHZhbHVlKSB8fCBwcm94eUNhY2hlLmhhcyh2YWx1ZSkgJiYgb2JqZWN0SXMocHJldlZhbHVlLCBwcm94eUNhY2hlLmdldCh2YWx1ZSkpKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJlbW92ZVByb3BMaXN0ZW5lcihwcm9wKTtcbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBnZXRVbnRyYWNrZWQodmFsdWUpIHx8IHZhbHVlO1xuICAgICAgfVxuICAgICAgbGV0IG5leHRWYWx1ZSA9IHZhbHVlO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICB2YWx1ZS50aGVuKCh2KSA9PiB7XG4gICAgICAgICAgdmFsdWUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIjtcbiAgICAgICAgICB2YWx1ZS52YWx1ZSA9IHY7XG4gICAgICAgICAgbm90aWZ5VXBkYXRlKFtcInJlc29sdmVcIiwgW3Byb3BdLCB2XSk7XG4gICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgdmFsdWUuc3RhdHVzID0gXCJyZWplY3RlZFwiO1xuICAgICAgICAgIHZhbHVlLnJlYXNvbiA9IGU7XG4gICAgICAgICAgbm90aWZ5VXBkYXRlKFtcInJlamVjdFwiLCBbcHJvcF0sIGVdKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXByb3h5U3RhdGVNYXAuaGFzKHZhbHVlKSAmJiBjYW5Qcm94eSh2YWx1ZSkpIHtcbiAgICAgICAgICBuZXh0VmFsdWUgPSBwcm94eUZ1bmN0aW9uKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZFByb3h5U3RhdGUgPSAhcmVmU2V0LmhhcyhuZXh0VmFsdWUpICYmIHByb3h5U3RhdGVNYXAuZ2V0KG5leHRWYWx1ZSk7XG4gICAgICAgIGlmIChjaGlsZFByb3h5U3RhdGUpIHtcbiAgICAgICAgICBhZGRQcm9wTGlzdGVuZXIocHJvcCwgY2hpbGRQcm94eVN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wLCBuZXh0VmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgIG5vdGlmeVVwZGF0ZShbXCJzZXRcIiwgW3Byb3BdLCB2YWx1ZSwgcHJldlZhbHVlXSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb3h5T2JqZWN0ID0gbmV3UHJveHkoYmFzZU9iamVjdCwgaGFuZGxlcik7XG4gIHByb3h5Q2FjaGUuc2V0KGluaXRpYWxPYmplY3QsIHByb3h5T2JqZWN0KTtcbiAgY29uc3QgcHJveHlTdGF0ZSA9IFtcbiAgICBiYXNlT2JqZWN0LFxuICAgIGVuc3VyZVZlcnNpb24sXG4gICAgY3JlYXRlU25hcHNob3QsXG4gICAgYWRkTGlzdGVuZXJcbiAgXTtcbiAgcHJveHlTdGF0ZU1hcC5zZXQocHJveHlPYmplY3QsIHByb3h5U3RhdGUpO1xuICBSZWZsZWN0Lm93bktleXMoaW5pdGlhbE9iamVjdCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICBpbml0aWFsT2JqZWN0LFxuICAgICAga2V5XG4gICAgKTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHtcbiAgICAgIHByb3h5T2JqZWN0W2tleV0gPSBpbml0aWFsT2JqZWN0W2tleV07XG4gICAgICBkZWxldGUgZGVzYy52YWx1ZTtcbiAgICAgIGRlbGV0ZSBkZXNjLndyaXRhYmxlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYmFzZU9iamVjdCwga2V5LCBkZXNjKTtcbiAgfSk7XG4gIHJldHVybiBwcm94eU9iamVjdDtcbn0pID0+IFtcbiAgLy8gcHVibGljIGZ1bmN0aW9uc1xuICBwcm94eUZ1bmN0aW9uLFxuICAvLyBzaGFyZWQgc3RhdGVcbiAgcHJveHlTdGF0ZU1hcCxcbiAgcmVmU2V0LFxuICAvLyBpbnRlcm5hbCB0aGluZ3NcbiAgb2JqZWN0SXMsXG4gIG5ld1Byb3h5LFxuICBjYW5Qcm94eSxcbiAgZGVmYXVsdEhhbmRsZVByb21pc2UsXG4gIHNuYXBDYWNoZSxcbiAgY3JlYXRlU25hcHNob3QsXG4gIHByb3h5Q2FjaGUsXG4gIHZlcnNpb25Ib2xkZXJcbl07XG5jb25zdCBbZGVmYXVsdFByb3h5RnVuY3Rpb25dID0gYnVpbGRQcm94eUZ1bmN0aW9uKCk7XG5mdW5jdGlvbiBwcm94eShpbml0aWFsT2JqZWN0ID0ge30pIHtcbiAgcmV0dXJuIGRlZmF1bHRQcm94eUZ1bmN0aW9uKGluaXRpYWxPYmplY3QpO1xufVxuZnVuY3Rpb24gZ2V0VmVyc2lvbihwcm94eU9iamVjdCkge1xuICBjb25zdCBwcm94eVN0YXRlID0gcHJveHlTdGF0ZU1hcC5nZXQocHJveHlPYmplY3QpO1xuICByZXR1cm4gcHJveHlTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogcHJveHlTdGF0ZVsxXSgpO1xufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHByb3h5T2JqZWN0LCBjYWxsYmFjaywgbm90aWZ5SW5TeW5jKSB7XG4gIGNvbnN0IHByb3h5U3RhdGUgPSBwcm94eVN0YXRlTWFwLmdldChwcm94eU9iamVjdCk7XG4gIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhcHJveHlTdGF0ZSkge1xuICAgIGNvbnNvbGUud2FybihcIlBsZWFzZSB1c2UgcHJveHkgb2JqZWN0XCIpO1xuICB9XG4gIGxldCBwcm9taXNlO1xuICBjb25zdCBvcHMgPSBbXTtcbiAgY29uc3QgYWRkTGlzdGVuZXIgPSBwcm94eVN0YXRlWzNdO1xuICBsZXQgaXNMaXN0ZW5lckFjdGl2ZSA9IGZhbHNlO1xuICBjb25zdCBsaXN0ZW5lciA9IChvcCkgPT4ge1xuICAgIG9wcy5wdXNoKG9wKTtcbiAgICBpZiAobm90aWZ5SW5TeW5jKSB7XG4gICAgICBjYWxsYmFjayhvcHMuc3BsaWNlKDApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHByb21pc2UgPSB2b2lkIDA7XG4gICAgICAgIGlmIChpc0xpc3RlbmVyQWN0aXZlKSB7XG4gICAgICAgICAgY2FsbGJhY2sob3BzLnNwbGljZSgwKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlTGlzdGVuZXIgPSBhZGRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIGlzTGlzdGVuZXJBY3RpdmUgPSB0cnVlO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlzTGlzdGVuZXJBY3RpdmUgPSBmYWxzZTtcbiAgICByZW1vdmVMaXN0ZW5lcigpO1xuICB9O1xufVxuZnVuY3Rpb24gc25hcHNob3QocHJveHlPYmplY3QsIGhhbmRsZVByb21pc2UpIHtcbiAgY29uc3QgcHJveHlTdGF0ZSA9IHByb3h5U3RhdGVNYXAuZ2V0KHByb3h5T2JqZWN0KTtcbiAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmICFwcm94eVN0YXRlKSB7XG4gICAgY29uc29sZS53YXJuKFwiUGxlYXNlIHVzZSBwcm94eSBvYmplY3RcIik7XG4gIH1cbiAgY29uc3QgW3RhcmdldCwgZW5zdXJlVmVyc2lvbiwgY3JlYXRlU25hcHNob3RdID0gcHJveHlTdGF0ZTtcbiAgcmV0dXJuIGNyZWF0ZVNuYXBzaG90KHRhcmdldCwgZW5zdXJlVmVyc2lvbigpLCBoYW5kbGVQcm9taXNlKTtcbn1cbmZ1bmN0aW9uIHJlZihvYmopIHtcbiAgcmVmU2V0LmFkZChvYmopO1xuICByZXR1cm4gb2JqO1xufVxuY29uc3QgdW5zdGFibGVfYnVpbGRQcm94eUZ1bmN0aW9uID0gYnVpbGRQcm94eUZ1bmN0aW9uO1xuXG5leHBvcnQgeyBnZXRWZXJzaW9uLCBwcm94eSwgcmVmLCBzbmFwc2hvdCwgc3Vic2NyaWJlLCB1bnN0YWJsZV9idWlsZFByb3h5RnVuY3Rpb24gfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-core/node_modules/valtio/esm/vanilla.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/dist/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/dist/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WcmModal: () => (/* binding */ WcmModal),\n/* harmony export */   WcmQrCode: () => (/* binding */ WcmQrCode)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/directives/class-map.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/class-map.js\");\n/* harmony import */ var _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/modal-core */ \"(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit-html */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\");\n/* harmony import */ var motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! motion */ \"(ssr)/./node_modules/motion/dist/animate.es.js\");\n/* harmony import */ var lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/if-defined.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/if-defined.js\");\n/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! qrcode */ \"(ssr)/./node_modules/qrcode/lib/index.js\");\n\n\n\n\n\n\n\n\n\nvar __defProp$y = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp$y(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction themeModeVariables() {\n  var _a;\n  const themeMode = (_a = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeMode) != null ? _a : \"dark\";\n  const themeModePresets = {\n    light: {\n      foreground: { 1: `rgb(20,20,20)`, 2: `rgb(121,134,134)`, 3: `rgb(158,169,169)` },\n      background: { 1: `rgb(255,255,255)`, 2: `rgb(241,243,243)`, 3: `rgb(228,231,231)` },\n      overlay: \"rgba(0,0,0,0.1)\"\n    },\n    dark: {\n      foreground: { 1: `rgb(228,231,231)`, 2: `rgb(148,158,158)`, 3: `rgb(110,119,119)` },\n      background: { 1: `rgb(20,20,20)`, 2: `rgb(39,42,42)`, 3: `rgb(59,64,64)` },\n      overlay: \"rgba(255,255,255,0.1)\"\n    }\n  };\n  const themeModeColors = themeModePresets[themeMode];\n  return {\n    \"--wcm-color-fg-1\": themeModeColors.foreground[1],\n    \"--wcm-color-fg-2\": themeModeColors.foreground[2],\n    \"--wcm-color-fg-3\": themeModeColors.foreground[3],\n    \"--wcm-color-bg-1\": themeModeColors.background[1],\n    \"--wcm-color-bg-2\": themeModeColors.background[2],\n    \"--wcm-color-bg-3\": themeModeColors.background[3],\n    \"--wcm-color-overlay\": themeModeColors.overlay\n  };\n}\nfunction themeVariablesPresets() {\n  return {\n    \"--wcm-accent-color\": \"#3396FF\",\n    \"--wcm-accent-fill-color\": \"#FFFFFF\",\n    \"--wcm-z-index\": \"89\",\n    \"--wcm-background-color\": \"#3396FF\",\n    \"--wcm-background-border-radius\": \"8px\",\n    \"--wcm-container-border-radius\": \"30px\",\n    \"--wcm-wallet-icon-border-radius\": \"15px\",\n    \"--wcm-wallet-icon-large-border-radius\": \"30px\",\n    \"--wcm-wallet-icon-small-border-radius\": \"7px\",\n    \"--wcm-input-border-radius\": \"28px\",\n    \"--wcm-button-border-radius\": \"10px\",\n    \"--wcm-notification-border-radius\": \"36px\",\n    \"--wcm-secondary-button-border-radius\": \"28px\",\n    \"--wcm-icon-button-border-radius\": \"50%\",\n    \"--wcm-button-hover-highlight-border-radius\": \"10px\",\n    \"--wcm-text-big-bold-size\": \"20px\",\n    \"--wcm-text-big-bold-weight\": \"600\",\n    \"--wcm-text-big-bold-line-height\": \"24px\",\n    \"--wcm-text-big-bold-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-big-bold-text-transform\": \"none\",\n    \"--wcm-text-xsmall-bold-size\": \"10px\",\n    \"--wcm-text-xsmall-bold-weight\": \"700\",\n    \"--wcm-text-xsmall-bold-line-height\": \"12px\",\n    \"--wcm-text-xsmall-bold-letter-spacing\": \"0.02em\",\n    \"--wcm-text-xsmall-bold-text-transform\": \"uppercase\",\n    \"--wcm-text-xsmall-regular-size\": \"12px\",\n    \"--wcm-text-xsmall-regular-weight\": \"600\",\n    \"--wcm-text-xsmall-regular-line-height\": \"14px\",\n    \"--wcm-text-xsmall-regular-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-xsmall-regular-text-transform\": \"none\",\n    \"--wcm-text-small-thin-size\": \"14px\",\n    \"--wcm-text-small-thin-weight\": \"500\",\n    \"--wcm-text-small-thin-line-height\": \"16px\",\n    \"--wcm-text-small-thin-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-small-thin-text-transform\": \"none\",\n    \"--wcm-text-small-regular-size\": \"14px\",\n    \"--wcm-text-small-regular-weight\": \"600\",\n    \"--wcm-text-small-regular-line-height\": \"16px\",\n    \"--wcm-text-small-regular-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-small-regular-text-transform\": \"none\",\n    \"--wcm-text-medium-regular-size\": \"16px\",\n    \"--wcm-text-medium-regular-weight\": \"600\",\n    \"--wcm-text-medium-regular-line-height\": \"20px\",\n    \"--wcm-text-medium-regular-letter-spacing\": \"-0.03em\",\n    \"--wcm-text-medium-regular-text-transform\": \"none\",\n    \"--wcm-font-family\": \"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif\",\n    \"--wcm-font-feature-settings\": `'tnum' on, 'lnum' on, 'case' on`,\n    \"--wcm-success-color\": \"rgb(38,181,98)\",\n    \"--wcm-error-color\": \"rgb(242, 90, 103)\",\n    \"--wcm-overlay-background-color\": \"rgba(0, 0, 0, 0.3)\",\n    \"--wcm-overlay-backdrop-filter\": \"none\"\n  };\n}\nconst ThemeUtil = {\n  getPreset(key) {\n    return themeVariablesPresets()[key];\n  },\n  setTheme() {\n    const root = document.querySelector(\":root\");\n    const { themeVariables } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state;\n    if (root) {\n      const variables = __spreadValues(__spreadValues(__spreadValues({}, themeModeVariables()), themeVariablesPresets()), themeVariables);\n      Object.entries(variables).forEach(([key, val]) => root.style.setProperty(key, val));\n    }\n  },\n  globalCss: (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`\n};\n\nconst styles$t = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;\n\nvar __defProp$x = Object.defineProperty;\nvar __getOwnPropDesc$x = Object.getOwnPropertyDescriptor;\nvar __decorateClass$x = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$x(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$x(target, key, result);\n  return result;\n};\nlet WcmButton = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.iconLeft = void 0;\n    this.iconRight = void 0;\n    this.onClick = () => null;\n    this.variant = \"default\";\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-icon-left\": this.iconLeft !== void 0,\n      \"wcm-icon-right\": this.iconRight !== void 0,\n      \"wcm-ghost\": this.variant === \"ghost\",\n      \"wcm-outline\": this.variant === \"outline\"\n    };\n    let textColor = \"inverse\";\n    if (this.variant === \"ghost\") {\n      textColor = \"secondary\";\n    }\n    if (this.variant === \"outline\") {\n      textColor = \"accent\";\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\" ?disabled=\"${this.disabled}\" @click=\"${this.onClick}\">${this.iconLeft}<wcm-text variant=\"small-regular\" color=\"${textColor}\"><slot></slot></wcm-text>${this.iconRight}</button>`;\n  }\n};\nWcmButton.styles = [ThemeUtil.globalCss, styles$t];\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmButton.prototype, \"disabled\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"iconLeft\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"iconRight\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"onClick\", 2);\n__decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButton.prototype, \"variant\", 2);\nWcmButton = __decorateClass$x([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-button\")\n], WcmButton);\n\nconst styles$s = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;\n\nvar __defProp$w = Object.defineProperty;\nvar __getOwnPropDesc$w = Object.getOwnPropertyDescriptor;\nvar __decorateClass$w = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$w(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$w(target, key, result);\n  return result;\n};\nlet WcmButtonBig = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.variant = \"primary\";\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-secondary\": this.variant === \"secondary\"\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button ?disabled=\"${this.disabled}\" class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\"><slot></slot></button>`;\n  }\n};\nWcmButtonBig.styles = [ThemeUtil.globalCss, styles$s];\n__decorateClass$w([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmButtonBig.prototype, \"disabled\", 2);\n__decorateClass$w([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmButtonBig.prototype, \"variant\", 2);\nWcmButtonBig = __decorateClass$w([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-button-big\")\n], WcmButtonBig);\n\nconst styles$r = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;\n\nvar __defProp$v = Object.defineProperty;\nvar __getOwnPropDesc$v = Object.getOwnPropertyDescriptor;\nvar __decorateClass$v = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$v(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$v(target, key, result);\n  return result;\n};\nlet WcmInfoFooter = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div><slot></slot></div>`;\n  }\n};\nWcmInfoFooter.styles = [ThemeUtil.globalCss, styles$r];\nWcmInfoFooter = __decorateClass$v([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-info-footer\")\n], WcmInfoFooter);\n\nconst SvgUtil = {\n  CROSS_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\"><path d=\"M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z\" fill=\"#fff\"/></svg>`,\n  WALLET_CONNECT_LOGO: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"178\" height=\"29\" viewBox=\"0 0 178 29\" id=\"wcm-wc-logo\"><path d=\"M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z\" fill=\"#fff\"/></svg>`,\n  WALLET_CONNECT_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"28\" height=\"20\" viewBox=\"0 0 28 20\"><g clip-path=\"url(#a)\"><path d=\"M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z\" fill=\"#000000\"/></g><defs><clipPath id=\"a\"><path fill=\"#ffffff\" d=\"M0 0h28v20H0z\"/></clipPath></defs></svg>`,\n  WALLET_CONNECT_ICON_COLORED: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"96\" height=\"96\" fill=\"none\"><path fill=\"#fff\" d=\"M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z\"/><path stroke=\"#000\" d=\"M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z\"/></svg>`,\n  BACK_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"10\" height=\"18\" viewBox=\"0 0 10 18\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z\" fill=\"#fff\"/></svg>`,\n  COPY_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"24\" height=\"24\" fill=\"none\"><path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z\" clip-rule=\"evenodd\"/></svg>`,\n  RETRY_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"15\" height=\"16\" viewBox=\"0 0 15 16\"><path d=\"M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z\" fill=\"#fff\"/></svg>`,\n  DESKTOP_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z\" fill=\"#fff\"/><path d=\"M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z\" fill=\"#fff\"/></svg>`,\n  MOBILE_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path d=\"M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z\" fill=\"#fff\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z\" fill=\"#fff\"/></svg>`,\n  ARROW_DOWN_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\"><path d=\"M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z\" fill=\"#fff\"/></svg>`,\n  ARROW_UP_RIGHT_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"15\" height=\"14\" fill=\"none\"><path d=\"M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z\" fill=\"#fff\"/></svg>`,\n  ARROW_RIGHT_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"6\" height=\"14\" viewBox=\"0 0 6 14\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z\" fill=\"#fff\"/></svg>`,\n  QRCODE_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\"><path d=\"M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z\" fill=\"#fff\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z\" fill=\"#fff\"/><path d=\"M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z\" fill=\"#fff\"/></svg>`,\n  SCAN_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" fill=\"none\"><path fill=\"#fff\" d=\"M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z\"/></svg>`,\n  CHECKMARK_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"13\" height=\"12\" viewBox=\"0 0 13 12\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z\" fill=\"#fff\"/></svg>`,\n  SEARCH_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"20\" height=\"21\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z\" fill=\"#949E9E\"/></svg>`,\n  WALLET_PLACEHOLDER: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"60\" height=\"60\" fill=\"none\" viewBox=\"0 0 60 60\"><g clip-path=\"url(#q)\"><path id=\"wallet-placeholder-fill\" fill=\"#fff\" d=\"M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z\"/><path id=\"wallet-placeholder-dash\" stroke=\"#000\" stroke-dasharray=\"4 4\" stroke-width=\"1.5\" d=\"M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z\"/><path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z\" clip-rule=\"evenodd\"/><path fill=\"#9EA9A9\" fill-rule=\"evenodd\" d=\"M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z\" clip-rule=\"evenodd\"/></g><defs><clipPath id=\"q\"><path fill=\"#fff\" d=\"M0 0h60v60H0z\"/></clipPath></defs></svg>`,\n  GLOBE_ICON: (0,lit_html__WEBPACK_IMPORTED_MODULE_4__.svg)`<svg width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z\" clip-rule=\"evenodd\"/></svg>`\n};\n\nconst styles$q = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;\n\nvar __defProp$u = Object.defineProperty;\nvar __getOwnPropDesc$u = Object.getOwnPropertyDescriptor;\nvar __decorateClass$u = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$u(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$u(target, key, result);\n  return result;\n};\nlet WcmModalBackcard = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"wcm-toolbar-placeholder\"></div><div class=\"wcm-toolbar\">${SvgUtil.WALLET_CONNECT_LOGO} <button @click=\"${_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.close}\">${SvgUtil.CROSS_ICON}</button></div>`;\n  }\n};\nWcmModalBackcard.styles = [ThemeUtil.globalCss, styles$q];\nWcmModalBackcard = __decorateClass$u([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-backcard\")\n], WcmModalBackcard);\n\nconst styles$p = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`main{padding:20px;padding-top:0;width:100%}`;\n\nvar __defProp$t = Object.defineProperty;\nvar __getOwnPropDesc$t = Object.getOwnPropertyDescriptor;\nvar __decorateClass$t = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$t(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$t(target, key, result);\n  return result;\n};\nlet WcmModalContent = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<main><slot></slot></main>`;\n  }\n};\nWcmModalContent.styles = [ThemeUtil.globalCss, styles$p];\nWcmModalContent = __decorateClass$t([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-content\")\n], WcmModalContent);\n\nconst styles$o = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;\n\nvar __defProp$s = Object.defineProperty;\nvar __getOwnPropDesc$s = Object.getOwnPropertyDescriptor;\nvar __decorateClass$s = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$s(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$s(target, key, result);\n  return result;\n};\nlet WcmModalFooter = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<footer><slot></slot></footer>`;\n  }\n};\nWcmModalFooter.styles = [ThemeUtil.globalCss, styles$o];\nWcmModalFooter = __decorateClass$s([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-footer\")\n], WcmModalFooter);\n\nconst styles$n = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;\n\nvar __defProp$r = Object.defineProperty;\nvar __getOwnPropDesc$r = Object.getOwnPropertyDescriptor;\nvar __decorateClass$r = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$r(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$r(target, key, result);\n  return result;\n};\nlet WcmModalHeader = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.title = \"\";\n    this.onAction = void 0;\n    this.actionIcon = void 0;\n    this.border = false;\n  }\n  // -- private ------------------------------------------------------ //\n  backBtnTemplate() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button class=\"wcm-back-btn\" @click=\"${_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.goBack}\">${SvgUtil.BACK_ICON}</button>`;\n  }\n  actionBtnTemplate() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button class=\"wcm-action-btn\" @click=\"${this.onAction}\">${this.actionIcon}</button>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-border\": this.border\n    };\n    const backBtn = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.history.length > 1;\n    const content = this.title ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text variant=\"big-bold\">${this.title}</wcm-text>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<slot></slot>`;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<header class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${backBtn ? this.backBtnTemplate() : null} ${content} ${this.onAction ? this.actionBtnTemplate() : null}</header>`;\n  }\n};\nWcmModalHeader.styles = [ThemeUtil.globalCss, styles$n];\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmModalHeader.prototype, \"title\", 2);\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmModalHeader.prototype, \"onAction\", 2);\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmModalHeader.prototype, \"actionIcon\", 2);\n__decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmModalHeader.prototype, \"border\", 2);\nWcmModalHeader = __decorateClass$r([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-header\")\n], WcmModalHeader);\n\nconst UiUtil = {\n  MOBILE_BREAKPOINT: 600,\n  WCM_RECENT_WALLET_DATA: \"WCM_RECENT_WALLET_DATA\",\n  EXPLORER_WALLET_URL: \"https://explorer.walletconnect.com/?type=wallet\",\n  getShadowRootElement(root, selector) {\n    const el = root.renderRoot.querySelector(selector);\n    if (!el) {\n      throw new Error(`${selector} not found`);\n    }\n    return el;\n  },\n  getWalletIcon({ id, image_id }) {\n    const { walletImages } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    if (walletImages == null ? void 0 : walletImages[id]) {\n      return walletImages[id];\n    } else if (image_id) {\n      return _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.getWalletImageUrl(image_id);\n    }\n    return \"\";\n  },\n  getWalletName(name, short = false) {\n    return short && name.length > 8 ? `${name.substring(0, 8)}..` : name;\n  },\n  isMobileAnimation() {\n    return window.innerWidth <= UiUtil.MOBILE_BREAKPOINT;\n  },\n  async preloadImage(src) {\n    const imagePromise = new Promise((resolve, reject) => {\n      const image = new Image();\n      image.onload = resolve;\n      image.onerror = reject;\n      image.crossOrigin = \"anonymous\";\n      image.src = src;\n    });\n    return Promise.race([imagePromise, _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.wait(3e3)]);\n  },\n  getErrorMessage(err) {\n    return err instanceof Error ? err.message : \"Unknown Error\";\n  },\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  debounce(func, timeout = 500) {\n    let timer = void 0;\n    return (...args) => {\n      function next() {\n        func(...args);\n      }\n      if (timer) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(next, timeout);\n    };\n  },\n  handleMobileLinking(wallet, target = \"_self\") {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const { mobile, name } = wallet;\n    const nativeUrl = mobile == null ? void 0 : mobile.native;\n    const universalUrl = mobile == null ? void 0 : mobile.universal;\n    UiUtil.setRecentWallet(wallet);\n    function onRedirect(uri) {\n      if (nativeUrl) {\n        const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatNativeUrl(nativeUrl, uri, name);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n      } else if (universalUrl) {\n        const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n      }\n    }\n    if (walletConnectUri) {\n      onRedirect(walletConnectUri);\n    }\n  },\n  handleAndroidLinking() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    if (walletConnectUri) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.setWalletConnectAndroidDeepLink(walletConnectUri);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(walletConnectUri, _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram() ? \"_blank\" : \"_self\");\n    }\n  },\n  async handleUriCopy() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    if (walletConnectUri) {\n      try {\n        await navigator.clipboard.writeText(walletConnectUri);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(\"Link copied\", \"success\");\n      } catch (e) {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(\"Failed to copy\", \"error\");\n      }\n    }\n  },\n  getCustomImageUrls() {\n    const { walletImages } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const walletUrls = Object.values(walletImages != null ? walletImages : {});\n    return Object.values(walletUrls);\n  },\n  truncate(value, strLen = 8) {\n    if (value.length <= strLen) {\n      return value;\n    }\n    return `${value.substring(0, 4)}...${value.substring(value.length - 4)}`;\n  },\n  setRecentWallet(wallet) {\n    try {\n      localStorage.setItem(UiUtil.WCM_RECENT_WALLET_DATA, JSON.stringify(wallet));\n    } catch (e) {\n      console.info(\"Unable to set recent wallet\");\n    }\n  },\n  getRecentWallet() {\n    try {\n      const wallet = localStorage.getItem(UiUtil.WCM_RECENT_WALLET_DATA);\n      if (wallet) {\n        const json = JSON.parse(wallet);\n        return json;\n      }\n      return void 0;\n    } catch (e) {\n      console.info(\"Unable to get recent wallet\");\n    }\n    return void 0;\n  },\n  caseSafeIncludes(str1, str2) {\n    return str1.toUpperCase().includes(str2.toUpperCase());\n  },\n  openWalletExplorerUrl() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(UiUtil.EXPLORER_WALLET_URL, \"_blank\");\n  },\n  getCachedRouterWalletPlatforms() {\n    const { desktop, mobile } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const isDesktop = Boolean(desktop == null ? void 0 : desktop.native);\n    const isWeb = Boolean(desktop == null ? void 0 : desktop.universal);\n    const isMobile = Boolean(mobile == null ? void 0 : mobile.native) || Boolean(mobile == null ? void 0 : mobile.universal);\n    return { isDesktop, isMobile, isWeb };\n  },\n  goToConnectingView(wallet) {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.setData({ Wallet: wallet });\n    const isMobileDevice = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile();\n    const { isDesktop, isWeb, isMobile } = UiUtil.getCachedRouterWalletPlatforms();\n    if (isMobileDevice) {\n      if (isMobile) {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"MobileConnecting\");\n        if (!_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid() && _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram()) {\n          this.handleMobileLinking(wallet, \"_blank\");\n        }\n      } else if (isWeb) {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"WebConnecting\");\n      } else {\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"InstallWallet\");\n      }\n    } else if (isDesktop) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"DesktopConnecting\");\n    } else if (isWeb) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"WebConnecting\");\n    } else if (isMobile) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"MobileQrcodeConnecting\");\n    } else {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"InstallWallet\");\n    }\n  }\n};\n\nconst styles$m = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;\n\nvar __defProp$q = Object.defineProperty;\nvar __getOwnPropDesc$q = Object.getOwnPropertyDescriptor;\nvar __decorateClass$q = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$q(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$q(target, key, result);\n  return result;\n};\nlet WcmModalRouter = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.view = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.view;\n    this.prevView = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.view;\n    // -- private ------------------------------------------------------ //\n    this.unsubscribe = void 0;\n    this.oldHeight = \"0px\";\n    this.resizeObserver = void 0;\n    this.unsubscribe = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.subscribe((routerState) => {\n      if (this.view !== routerState.view) {\n        this.onChangeRoute();\n      }\n    });\n  }\n  firstUpdated() {\n    this.resizeObserver = new ResizeObserver(([conetnt]) => {\n      const newHeight = `${conetnt.contentRect.height}px`;\n      if (this.oldHeight !== \"0px\") {\n        (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.routerEl, { height: [this.oldHeight, newHeight] }, { duration: 0.2 });\n      }\n      this.oldHeight = newHeight;\n    });\n    this.resizeObserver.observe(this.contentEl);\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_a = this.unsubscribe) == null ? void 0 : _a.call(this);\n    (_b = this.resizeObserver) == null ? void 0 : _b.disconnect();\n  }\n  get routerEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-router\");\n  }\n  get contentEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-content\");\n  }\n  viewTemplate() {\n    switch (this.view) {\n      case \"ConnectWallet\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;\n      case \"DesktopConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;\n      case \"MobileConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;\n      case \"WebConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-web-connecting-view></wcm-web-connecting-view>`;\n      case \"MobileQrcodeConnecting\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;\n      case \"WalletExplorer\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;\n      case \"Qrcode\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-qrcode-view></wcm-qrcode-view>`;\n      case \"InstallWallet\":\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-install-wallet-view></wcm-install-wallet-view>`;\n      default:\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div>Not Found</div>`;\n    }\n  }\n  async onChangeRoute() {\n    await (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(\n      this.routerEl,\n      { opacity: [1, 0], scale: [1, 1.02] },\n      { duration: 0.15, delay: 0.1 }\n    ).finished;\n    this.view = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.state.view;\n    (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.routerEl, { opacity: [0, 1], scale: [0.99, 1] }, { duration: 0.37, delay: 0.05 });\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"wcm-router\"><div class=\"wcm-content\">${this.viewTemplate()}</div></div>`;\n  }\n};\nWcmModalRouter.styles = [ThemeUtil.globalCss, styles$m];\n__decorateClass$q([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModalRouter.prototype, \"view\", 2);\n__decorateClass$q([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModalRouter.prototype, \"prevView\", 2);\nWcmModalRouter = __decorateClass$q([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-router\")\n], WcmModalRouter);\n\nconst styles$l = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;\n\nvar __defProp$p = Object.defineProperty;\nvar __getOwnPropDesc$p = Object.getOwnPropertyDescriptor;\nvar __decorateClass$p = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$p(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$p(target, key, result);\n  return result;\n};\nlet WcmModalToast = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super();\n    this.open = false;\n    // -- private ------------------------------------------------------ //\n    this.unsubscribe = void 0;\n    this.timeout = void 0;\n    this.unsubscribe = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.subscribe((newState) => {\n      if (newState.open) {\n        this.open = true;\n        this.timeout = setTimeout(() => _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.closeToast(), 2200);\n      } else {\n        this.open = false;\n        clearTimeout(this.timeout);\n      }\n    });\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.unsubscribe) == null ? void 0 : _a.call(this);\n    clearTimeout(this.timeout);\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.closeToast();\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { message, variant } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.state;\n    const classes = {\n      \"wcm-success\": variant === \"success\",\n      \"wcm-error\": variant === \"error\"\n    };\n    return this.open ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${variant === \"success\" ? SvgUtil.CHECKMARK_ICON : null} ${variant === \"error\" ? SvgUtil.CROSS_ICON : null}<wcm-text variant=\"small-regular\">${message}</wcm-text></div>` : null;\n  }\n};\nWcmModalToast.styles = [ThemeUtil.globalCss, styles$l];\n__decorateClass$p([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModalToast.prototype, \"open\", 2);\nWcmModalToast = __decorateClass$p([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal-toast\")\n], WcmModalToast);\n\nconst CONNECTING_ERROR_MARGIN = 0.1;\nconst CIRCLE_SIZE_MODIFIER = 2.5;\nconst QRCODE_MATRIX_MARGIN = 7;\nfunction isAdjecentDots(cy, otherCy, cellSize) {\n  if (cy === otherCy) {\n    return false;\n  }\n  const diff = cy - otherCy < 0 ? otherCy - cy : cy - otherCy;\n  return diff <= cellSize + CONNECTING_ERROR_MARGIN;\n}\nfunction getMatrix(value, errorCorrectionLevel) {\n  const arr = Array.prototype.slice.call(\n    qrcode__WEBPACK_IMPORTED_MODULE_6__.create(value, { errorCorrectionLevel }).modules.data,\n    0\n  );\n  const sqrt = Math.sqrt(arr.length);\n  return arr.reduce(\n    (rows, key, index) => (index % sqrt === 0 ? rows.push([key]) : rows[rows.length - 1].push(key)) && rows,\n    []\n  );\n}\nconst QrCodeUtil = {\n  generate(uri, size, logoSize) {\n    const dotColor = \"#141414\";\n    const edgeColor = \"#ffffff\";\n    const dots = [];\n    const matrix = getMatrix(uri, \"Q\");\n    const cellSize = size / matrix.length;\n    const qrList = [\n      { x: 0, y: 0 },\n      { x: 1, y: 0 },\n      { x: 0, y: 1 }\n    ];\n    qrList.forEach(({ x, y }) => {\n      const x1 = (matrix.length - QRCODE_MATRIX_MARGIN) * cellSize * x;\n      const y1 = (matrix.length - QRCODE_MATRIX_MARGIN) * cellSize * y;\n      const borderRadius = 0.45;\n      for (let i = 0; i < qrList.length; i += 1) {\n        const dotSize = cellSize * (QRCODE_MATRIX_MARGIN - i * 2);\n        dots.push(\n          (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<rect fill=\"${i % 2 === 0 ? dotColor : edgeColor}\" height=\"${dotSize}\" rx=\"${dotSize * borderRadius}\" ry=\"${dotSize * borderRadius}\" width=\"${dotSize}\" x=\"${x1 + cellSize * i}\" y=\"${y1 + cellSize * i}\">`\n        );\n      }\n    });\n    const clearArenaSize = Math.floor((logoSize + 25) / cellSize);\n    const matrixMiddleStart = matrix.length / 2 - clearArenaSize / 2;\n    const matrixMiddleEnd = matrix.length / 2 + clearArenaSize / 2 - 1;\n    const circles = [];\n    matrix.forEach((row, i) => {\n      row.forEach((_, j) => {\n        if (matrix[i][j]) {\n          if (!(i < QRCODE_MATRIX_MARGIN && j < QRCODE_MATRIX_MARGIN || i > matrix.length - (QRCODE_MATRIX_MARGIN + 1) && j < QRCODE_MATRIX_MARGIN || i < QRCODE_MATRIX_MARGIN && j > matrix.length - (QRCODE_MATRIX_MARGIN + 1))) {\n            if (!(i > matrixMiddleStart && i < matrixMiddleEnd && j > matrixMiddleStart && j < matrixMiddleEnd)) {\n              const cx = i * cellSize + cellSize / 2;\n              const cy = j * cellSize + cellSize / 2;\n              circles.push([cx, cy]);\n            }\n          }\n        }\n      });\n    });\n    const circlesToConnect = {};\n    circles.forEach(([cx, cy]) => {\n      if (circlesToConnect[cx]) {\n        circlesToConnect[cx].push(cy);\n      } else {\n        circlesToConnect[cx] = [cy];\n      }\n    });\n    Object.entries(circlesToConnect).map(([cx, cys]) => {\n      const newCys = cys.filter(\n        (cy) => cys.every((otherCy) => !isAdjecentDots(cy, otherCy, cellSize))\n      );\n      return [Number(cx), newCys];\n    }).forEach(([cx, cys]) => {\n      cys.forEach((cy) => {\n        dots.push(\n          (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<circle cx=\"${cx}\" cy=\"${cy}\" fill=\"${dotColor}\" r=\"${cellSize / CIRCLE_SIZE_MODIFIER}\">`\n        );\n      });\n    });\n    Object.entries(circlesToConnect).filter(([_, cys]) => cys.length > 1).map(([cx, cys]) => {\n      const newCys = cys.filter((cy) => cys.some((otherCy) => isAdjecentDots(cy, otherCy, cellSize)));\n      return [Number(cx), newCys];\n    }).map(([cx, cys]) => {\n      cys.sort((a, b) => a < b ? -1 : 1);\n      const groups = [];\n      for (const cy of cys) {\n        const group = groups.find(\n          (item) => item.some((otherCy) => isAdjecentDots(cy, otherCy, cellSize))\n        );\n        if (group) {\n          group.push(cy);\n        } else {\n          groups.push([cy]);\n        }\n      }\n      return [cx, groups.map((item) => [item[0], item[item.length - 1]])];\n    }).forEach(([cx, groups]) => {\n      groups.forEach(([y1, y2]) => {\n        dots.push(\n          (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<line x1=\"${cx}\" x2=\"${cx}\" y1=\"${y1}\" y2=\"${y2}\" stroke=\"${dotColor}\" stroke-width=\"${cellSize / (CIRCLE_SIZE_MODIFIER / 2)}\" stroke-linecap=\"round\">`\n        );\n      });\n    });\n    return dots;\n  }\n};\n\nconst styles$k = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$o = Object.defineProperty;\nvar __getOwnPropDesc$o = Object.getOwnPropertyDescriptor;\nvar __decorateClass$o = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$o(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$o(target, key, result);\n  return result;\n};\nlet WcmQrCode = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.uri = \"\";\n    this.size = 0;\n    this.imageId = void 0;\n    this.walletId = void 0;\n    this.imageUrl = void 0;\n  }\n  // -- private ------------------------------------------------------ //\n  svgTemplate() {\n    const isLightMode = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeMode === \"light\";\n    const size = isLightMode ? this.size : this.size - 18 * 2;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.svg)`<svg height=\"${size}\" width=\"${size}\">${QrCodeUtil.generate(this.uri, size, size / 4)}</svg>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-dark\": _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeMode === \"dark\"\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div style=\"${`width: ${this.size}px`}\" class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${this.walletId || this.imageUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-image walletId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.walletId)}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\" imageUrl=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageUrl)}\"></wcm-wallet-image>` : SvgUtil.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`;\n  }\n};\nWcmQrCode.styles = [ThemeUtil.globalCss, styles$k];\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"uri\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Number })\n], WcmQrCode.prototype, \"size\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"imageId\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"walletId\", 2);\n__decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmQrCode.prototype, \"imageUrl\", 2);\nWcmQrCode = __decorateClass$o([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-qrcode\")\n], WcmQrCode);\n\nconst styles$j = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;\n\nvar __defProp$n = Object.defineProperty;\nvar __getOwnPropDesc$n = Object.getOwnPropertyDescriptor;\nvar __decorateClass$n = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$n(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$n(target, key, result);\n  return result;\n};\nlet WcmSearchInput = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.onChange = () => null;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<input type=\"text\" @input=\"${this.onChange}\" placeholder=\"Search wallets\"> ${SvgUtil.SEARCH_ICON}`;\n  }\n};\nWcmSearchInput.styles = [ThemeUtil.globalCss, styles$j];\n__decorateClass$n([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmSearchInput.prototype, \"onChange\", 2);\nWcmSearchInput = __decorateClass$n([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-search-input\")\n], WcmSearchInput);\n\nconst styles$i = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;\n\nvar __defProp$m = Object.defineProperty;\nvar __getOwnPropDesc$m = Object.getOwnPropertyDescriptor;\nvar __decorateClass$m = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$m(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$m(target, key, result);\n  return result;\n};\nlet WcmSpinner = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<svg viewBox=\"0 0 50 50\" width=\"24\" height=\"24\"><circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"4\" stroke=\"#fff\"/></svg>`;\n  }\n};\nWcmSpinner.styles = [ThemeUtil.globalCss, styles$i];\nWcmSpinner = __decorateClass$m([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-spinner\")\n], WcmSpinner);\n\nconst styles$h = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;\n\nvar __defProp$l = Object.defineProperty;\nvar __getOwnPropDesc$l = Object.getOwnPropertyDescriptor;\nvar __decorateClass$l = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$l(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$l(target, key, result);\n  return result;\n};\nlet WcmText = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.variant = \"medium-regular\";\n    this.color = \"primary\";\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-big-bold\": this.variant === \"big-bold\",\n      \"wcm-medium-regular\": this.variant === \"medium-regular\",\n      \"wcm-small-regular\": this.variant === \"small-regular\",\n      \"wcm-small-thin\": this.variant === \"small-thin\",\n      \"wcm-xsmall-regular\": this.variant === \"xsmall-regular\",\n      \"wcm-xsmall-bold\": this.variant === \"xsmall-bold\",\n      \"wcm-color-primary\": this.color === \"primary\",\n      \"wcm-color-secondary\": this.color === \"secondary\",\n      \"wcm-color-tertiary\": this.color === \"tertiary\",\n      \"wcm-color-inverse\": this.color === \"inverse\",\n      \"wcm-color-accnt\": this.color === \"accent\",\n      \"wcm-color-error\": this.color === \"error\"\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<span><slot class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\"></slot></span>`;\n  }\n};\nWcmText.styles = [ThemeUtil.globalCss, styles$h];\n__decorateClass$l([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmText.prototype, \"variant\", 2);\n__decorateClass$l([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmText.prototype, \"color\", 2);\nWcmText = __decorateClass$l([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-text\")\n], WcmText);\n\nconst styles$g = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;\n\nvar __defProp$k = Object.defineProperty;\nvar __getOwnPropDesc$k = Object.getOwnPropertyDescriptor;\nvar __decorateClass$k = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$k(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$k(target, key, result);\n  return result;\n};\nlet WcmWalletButton = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.onClick = () => null;\n    this.name = \"\";\n    this.walletId = \"\";\n    this.label = void 0;\n    this.imageId = void 0;\n    this.installed = false;\n    this.recent = false;\n  }\n  // -- private ------------------------------------------------------ //\n  sublabelTemplate() {\n    if (this.recent) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text class=\"wcm-sublabel\" variant=\"xsmall-bold\" color=\"tertiary\">RECENT</wcm-text>`;\n    } else if (this.installed) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text class=\"wcm-sublabel\" variant=\"xsmall-bold\" color=\"tertiary\">INSTALLED</wcm-text>`;\n    }\n    return null;\n  }\n  handleClick() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.EventsCtrl.click({ name: \"WALLET_BUTTON\", walletId: this.walletId });\n    this.onClick();\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    var _a;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button @click=\"${this.handleClick.bind(this)}\"><div><wcm-wallet-image walletId=\"${this.walletId}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\"></wcm-wallet-image><wcm-text variant=\"xsmall-regular\">${(_a = this.label) != null ? _a : UiUtil.getWalletName(this.name, true)}</wcm-text>${this.sublabelTemplate()}</div></button>`;\n  }\n};\nWcmWalletButton.styles = [ThemeUtil.globalCss, styles$g];\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"onClick\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"name\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"walletId\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"label\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletButton.prototype, \"imageId\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmWalletButton.prototype, \"installed\", 2);\n__decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmWalletButton.prototype, \"recent\", 2);\nWcmWalletButton = __decorateClass$k([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-wallet-button\")\n], WcmWalletButton);\n\nconst styles$f = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$j = Object.defineProperty;\nvar __getOwnPropDesc$j = Object.getOwnPropertyDescriptor;\nvar __decorateClass$j = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$j(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$j(target, key, result);\n  return result;\n};\nlet WcmWalletImage = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.walletId = \"\";\n    this.imageId = void 0;\n    this.imageUrl = void 0;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    var _a;\n    const src = ((_a = this.imageUrl) == null ? void 0 : _a.length) ? this.imageUrl : UiUtil.getWalletIcon({ id: this.walletId, image_id: this.imageId });\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`${src.length ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div><img crossorigin=\"anonymous\" src=\"${src}\" alt=\"${this.id}\"></div>` : SvgUtil.WALLET_PLACEHOLDER}`;\n  }\n};\nWcmWalletImage.styles = [ThemeUtil.globalCss, styles$f];\n__decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletImage.prototype, \"walletId\", 2);\n__decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletImage.prototype, \"imageId\", 2);\n__decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletImage.prototype, \"imageUrl\", 2);\nWcmWalletImage = __decorateClass$j([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-wallet-image\")\n], WcmWalletImage);\n\nvar __defProp$i = Object.defineProperty;\nvar __getOwnPropDesc$i = Object.getOwnPropertyDescriptor;\nvar __decorateClass$i = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$i(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$i(target, key, result);\n  return result;\n};\nlet WcmExplorerContext = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.preload = true;\n    this.preloadData();\n  }\n  // -- private ------------------------------------------------------ //\n  async loadImages(images) {\n    try {\n      if (images == null ? void 0 : images.length) {\n        await Promise.all(images.map(async (url) => UiUtil.preloadImage(url)));\n      }\n    } catch (e) {\n      console.info(\"Unsuccessful attempt at preloading some images\", images);\n    }\n  }\n  async preloadListings() {\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state.enableExplorer) {\n      await _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.getRecomendedWallets();\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.setIsDataLoaded(true);\n      const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n      const walletImgs = recomendedWallets.map((wallet) => UiUtil.getWalletIcon(wallet));\n      await this.loadImages(walletImgs);\n    } else {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.setIsDataLoaded(true);\n    }\n  }\n  async preloadCustomImages() {\n    const images = UiUtil.getCustomImageUrls();\n    await this.loadImages(images);\n  }\n  async preloadData() {\n    try {\n      if (this.preload) {\n        this.preload = false;\n        await Promise.all([this.preloadListings(), this.preloadCustomImages()]);\n      }\n    } catch (err) {\n      console.error(err);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(\"Failed preloading\", \"error\");\n    }\n  }\n};\n__decorateClass$i([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmExplorerContext.prototype, \"preload\", 2);\nWcmExplorerContext = __decorateClass$i([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-explorer-context\")\n], WcmExplorerContext);\n\nvar __defProp$h = Object.defineProperty;\nvar __getOwnPropDesc$h = Object.getOwnPropertyDescriptor;\nvar __decorateClass$h = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$h(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$h(target, key, result);\n  return result;\n};\nlet WcmThemeContext = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    // -- private ------------------------------------------------------ //\n    this.unsubscribeTheme = void 0;\n    ThemeUtil.setTheme();\n    this.unsubscribeTheme = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.subscribe(ThemeUtil.setTheme);\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.unsubscribeTheme) == null ? void 0 : _a.call(this);\n  }\n};\nWcmThemeContext = __decorateClass$h([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-theme-context\")\n], WcmThemeContext);\n\nconst styles$e = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$g = Object.defineProperty;\nvar __getOwnPropDesc$g = Object.getOwnPropertyDescriptor;\nvar __decorateClass$g = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$g(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$g(target, key, result);\n  return result;\n};\nlet WcmAndroidWalletSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  onGoToQrcode() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"Qrcode\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const wallets = [...recomendedWallets, ...recomendedWallets];\n    const recomendedCount = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.RECOMMENDED_WALLET_AMOUNT * 2;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"Connect your wallet\" .onAction=\"${this.onGoToQrcode}\" .actionIcon=\"${SvgUtil.QRCODE_ICON}\"></wcm-modal-header><wcm-modal-content><div class=\"wcm-title\">${SvgUtil.MOBILE_ICON}<wcm-text variant=\"small-regular\" color=\"accent\">WalletConnect</wcm-text></div><div class=\"wcm-slider\"><div class=\"wcm-track\">${[...Array(recomendedCount)].map((_, index) => {\n      const wallet = wallets[index % wallets.length];\n      return wallet ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-image walletId=\"${wallet.id}\" imageId=\"${wallet.image_id}\"></wcm-wallet-image>` : SvgUtil.WALLET_PLACEHOLDER;\n    })}</div><wcm-button-big @click=\"${UiUtil.handleAndroidLinking}\"><wcm-text variant=\"medium-regular\" color=\"inverse\">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`;\n  }\n};\nWcmAndroidWalletSelection.styles = [ThemeUtil.globalCss, styles$e];\nWcmAndroidWalletSelection = __decorateClass$g([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-android-wallet-selection\")\n], WcmAndroidWalletSelection);\n\nconst styles$d = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;\n\nvar __defProp$f = Object.defineProperty;\nvar __getOwnPropDesc$f = Object.getOwnPropertyDescriptor;\nvar __decorateClass$f = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$f(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$f(target, key, result);\n  return result;\n};\nlet WcmConnectorWaiting = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.walletId = void 0;\n    this.imageId = void 0;\n    this.isError = false;\n    this.isStale = false;\n    this.label = \"\";\n  }\n  // -- private ------------------------------------------------------ //\n  svgLoaderTemplate() {\n    var _a, _b;\n    const ICON_SIZE = 88;\n    const DH_ARRAY = 317;\n    const DH_OFFSET = 425;\n    const radius = (_b = (_a = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ThemeCtrl.state.themeVariables) == null ? void 0 : _a[\"--wcm-wallet-icon-large-border-radius\"]) != null ? _b : ThemeUtil.getPreset(\"--wcm-wallet-icon-large-border-radius\");\n    let numRadius = 0;\n    if (radius.includes(\"%\")) {\n      numRadius = ICON_SIZE / 100 * parseInt(radius, 10);\n    } else {\n      numRadius = parseInt(radius, 10);\n    }\n    numRadius *= 1.17;\n    const dashArray = DH_ARRAY - numRadius * 1.57;\n    const dashOffset = DH_OFFSET - numRadius * 1.8;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<svg viewBox=\"0 0 110 110\" width=\"110\" height=\"110\"><rect id=\"wcm-loader\" x=\"2\" y=\"2\" width=\"106\" height=\"106\" rx=\"${numRadius}\"/><use xlink:href=\"#wcm-loader\" stroke-dasharray=\"106 ${dashArray}\" stroke-dashoffset=\"${dashOffset}\"></use></svg>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-error\": this.isError,\n      \"wcm-stale\": this.isStale\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\">${this.svgLoaderTemplate()}<wcm-wallet-image walletId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.walletId)}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\"></wcm-wallet-image></div><wcm-text variant=\"medium-regular\" color=\"${this.isError ? \"error\" : \"primary\"}\">${this.isError ? \"Connection declined\" : this.label}</wcm-text>`;\n  }\n};\nWcmConnectorWaiting.styles = [ThemeUtil.globalCss, styles$d];\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmConnectorWaiting.prototype, \"walletId\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmConnectorWaiting.prototype, \"imageId\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmConnectorWaiting.prototype, \"isError\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmConnectorWaiting.prototype, \"isStale\", 2);\n__decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmConnectorWaiting.prototype, \"label\", 2);\nWcmConnectorWaiting = __decorateClass$f([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-connector-waiting\")\n], WcmConnectorWaiting);\n\nconst DataUtil = {\n  manualWallets() {\n    var _a, _b;\n    const { mobileWallets, desktopWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const recentWalletId = (_a = DataUtil.recentWallet()) == null ? void 0 : _a.id;\n    const platformWallets = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile() ? mobileWallets : desktopWallets;\n    const wallets = platformWallets == null ? void 0 : platformWallets.filter((wallet) => recentWalletId !== wallet.id);\n    return (_b = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile() ? wallets == null ? void 0 : wallets.map(({ id, name, links }) => ({ id, name, mobile: links, links })) : wallets == null ? void 0 : wallets.map(({ id, name, links }) => ({ id, name, desktop: links, links }))) != null ? _b : [];\n  },\n  recentWallet() {\n    return UiUtil.getRecentWallet();\n  },\n  recomendedWallets(skipRecent = false) {\n    var _a;\n    const recentWalletId = skipRecent ? void 0 : (_a = DataUtil.recentWallet()) == null ? void 0 : _a.id;\n    const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const wallets = recomendedWallets.filter((wallet) => recentWalletId !== wallet.id);\n    return wallets;\n  }\n};\n\nconst TemplateUtil = {\n  onConnecting(data) {\n    UiUtil.goToConnectingView(data);\n  },\n  manualWalletsTemplate() {\n    const wallets = DataUtil.manualWallets();\n    return wallets.map(\n      (wallet) => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button walletId=\"${wallet.id}\" name=\"${wallet.name}\" .onClick=\"${() => this.onConnecting(wallet)}\"></wcm-wallet-button>`\n    );\n  },\n  recomendedWalletsTemplate(skipRecent = false) {\n    const wallets = DataUtil.recomendedWallets(skipRecent);\n    return wallets.map(\n      (wallet) => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button name=\"${wallet.name}\" walletId=\"${wallet.id}\" imageId=\"${wallet.image_id}\" .onClick=\"${() => this.onConnecting(wallet)}\"></wcm-wallet-button>`\n    );\n  },\n  recentWalletTemplate() {\n    const wallet = DataUtil.recentWallet();\n    if (!wallet) {\n      return void 0;\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button name=\"${wallet.name}\" walletId=\"${wallet.id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(wallet.image_id)}\" .recent=\"${true}\" .onClick=\"${() => this.onConnecting(wallet)}\"></wcm-wallet-button>`;\n  }\n};\n\nconst styles$c = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;\n\nvar __defProp$e = Object.defineProperty;\nvar __getOwnPropDesc$e = Object.getOwnPropertyDescriptor;\nvar __decorateClass$e = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$e(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$e(target, key, result);\n  return result;\n};\nlet WcmDesktopWalletSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { explorerExcludedWalletIds, enableExplorer } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const isExplorerWallets = explorerExcludedWalletIds !== \"ALL\" && enableExplorer;\n    const manualTemplate = TemplateUtil.manualWalletsTemplate();\n    const recomendedTemplate = TemplateUtil.recomendedWalletsTemplate();\n    const recentTemplate = TemplateUtil.recentWalletTemplate();\n    let templates = [recentTemplate, ...manualTemplate, ...recomendedTemplate];\n    templates = templates.filter(Boolean);\n    const isViewAll = templates.length > 4 || isExplorerWallets;\n    let wallets = [];\n    if (isViewAll) {\n      wallets = templates.slice(0, 3);\n    } else {\n      wallets = templates;\n    }\n    const isWallets = Boolean(wallets.length);\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header .border=\"${true}\" title=\"Connect your wallet\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><div class=\"wcm-mobile-title\"><div class=\"wcm-subtitle\">${SvgUtil.MOBILE_ICON}<wcm-text variant=\"small-regular\" color=\"accent\">Mobile</wcm-text></div><div class=\"wcm-subtitle\">${SvgUtil.SCAN_ICON}<wcm-text variant=\"small-regular\" color=\"secondary\">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${isWallets ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-footer><div class=\"wcm-desktop-title\">${SvgUtil.DESKTOP_ICON}<wcm-text variant=\"small-regular\" color=\"accent\">Desktop</wcm-text></div><div class=\"wcm-grid\">${wallets} ${isViewAll ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>` : null}</div></wcm-modal-footer>` : null}`;\n  }\n};\nWcmDesktopWalletSelection.styles = [ThemeUtil.globalCss, styles$c];\nWcmDesktopWalletSelection = __decorateClass$e([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-desktop-wallet-selection\")\n], WcmDesktopWalletSelection);\n\nconst styles$b = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;\n\nvar __defProp$d = Object.defineProperty;\nvar __getOwnPropDesc$d = Object.getOwnPropertyDescriptor;\nvar __decorateClass$d = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$d(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$d(target, key, result);\n  return result;\n};\nlet WcmLegalNotice = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { termsOfServiceUrl, privacyPolicyUrl } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const isLegal = termsOfServiceUrl != null ? termsOfServiceUrl : privacyPolicyUrl;\n    if (!isLegal) {\n      return null;\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div><wcm-text variant=\"small-regular\" color=\"secondary\">By connecting your wallet to this app, you agree to the app's ${termsOfServiceUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<a href=\"${termsOfServiceUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">Terms of Service</a>` : null} ${termsOfServiceUrl && privacyPolicyUrl ? \"and\" : null} ${privacyPolicyUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<a href=\"${privacyPolicyUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">Privacy Policy</a>` : null}</wcm-text></div>`;\n  }\n};\nWcmLegalNotice.styles = [ThemeUtil.globalCss, styles$b];\nWcmLegalNotice = __decorateClass$d([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-legal-notice\")\n], WcmLegalNotice);\n\nconst styles$a = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;\n\nvar __defProp$c = Object.defineProperty;\nvar __getOwnPropDesc$c = Object.getOwnPropertyDescriptor;\nvar __decorateClass$c = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$c(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$c(target, key, result);\n  return result;\n};\nlet WcmMobileWalletSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  onQrcode() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"Qrcode\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { explorerExcludedWalletIds, enableExplorer } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ConfigCtrl.state;\n    const isExplorerWallets = explorerExcludedWalletIds !== \"ALL\" && enableExplorer;\n    const manualTemplate = TemplateUtil.manualWalletsTemplate();\n    const recomendedTemplate = TemplateUtil.recomendedWalletsTemplate();\n    const recentTemplate = TemplateUtil.recentWalletTemplate();\n    let templates = [recentTemplate, ...manualTemplate, ...recomendedTemplate];\n    templates = templates.filter(Boolean);\n    const isViewAll = templates.length > 8 || isExplorerWallets;\n    let wallets = [];\n    if (isViewAll) {\n      wallets = templates.slice(0, 7);\n    } else {\n      wallets = templates;\n    }\n    const isWallets = Boolean(wallets.length);\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"Connect your wallet\" .onAction=\"${this.onQrcode}\" .actionIcon=\"${SvgUtil.QRCODE_ICON}\"></wcm-modal-header>${isWallets ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-content><div>${wallets} ${isViewAll ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>` : null}</div></wcm-modal-content>` : null}`;\n  }\n};\nWcmMobileWalletSelection.styles = [ThemeUtil.globalCss, styles$a];\nWcmMobileWalletSelection = __decorateClass$c([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-mobile-wallet-selection\")\n], WcmMobileWalletSelection);\n\nconst styles$9 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;\n\nvar __defProp$b = Object.defineProperty;\nvar __getOwnPropDesc$b = Object.getOwnPropertyDescriptor;\nvar __decorateClass$b = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$b(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$b(target, key, result);\n  return result;\n};\nlet WcmModal = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.open = false;\n    this.active = false;\n    // -- private ------------------------------------------------------ //\n    this.unsubscribeModal = void 0;\n    this.abortController = void 0;\n    this.unsubscribeModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.subscribe((modalState) => {\n      if (modalState.open) {\n        this.onOpenModalEvent();\n      } else {\n        this.onCloseModalEvent();\n      }\n    });\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.unsubscribeModal) == null ? void 0 : _a.call(this);\n  }\n  get overlayEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-overlay\");\n  }\n  get containerEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-container\");\n  }\n  toggleBodyScroll(enabled) {\n    const body = document.querySelector(\"body\");\n    if (body) {\n      if (enabled) {\n        const wcmStyles = document.getElementById(\"wcm-styles\");\n        wcmStyles == null ? void 0 : wcmStyles.remove();\n      } else {\n        document.head.insertAdjacentHTML(\n          \"beforeend\",\n          `<style id=\"wcm-styles\">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>`\n        );\n      }\n    }\n  }\n  onCloseModal(event) {\n    if (event.target === event.currentTarget) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.close();\n    }\n  }\n  onOpenModalEvent() {\n    this.toggleBodyScroll(false);\n    this.addKeyboardEvents();\n    this.open = true;\n    setTimeout(async () => {\n      const animation = UiUtil.isMobileAnimation() ? { y: [\"50vh\", \"0vh\"] } : { scale: [0.98, 1] };\n      const delay = 0.1;\n      const duration = 0.2;\n      await Promise.all([\n        (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.overlayEl, { opacity: [0, 1] }, { delay, duration }).finished,\n        (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.containerEl, animation, { delay, duration }).finished\n      ]);\n      this.active = true;\n    }, 0);\n  }\n  async onCloseModalEvent() {\n    this.toggleBodyScroll(true);\n    this.removeKeyboardEvents();\n    const animation = UiUtil.isMobileAnimation() ? { y: [\"0vh\", \"50vh\"] } : { scale: [1, 0.98] };\n    const duration = 0.2;\n    await Promise.all([\n      (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.overlayEl, { opacity: [1, 0] }, { duration }).finished,\n      (0,motion__WEBPACK_IMPORTED_MODULE_7__.animate)(this.containerEl, animation, { duration }).finished\n    ]);\n    this.containerEl.removeAttribute(\"style\");\n    this.active = false;\n    this.open = false;\n  }\n  addKeyboardEvents() {\n    this.abortController = new AbortController();\n    window.addEventListener(\n      \"keydown\",\n      (event) => {\n        var _a;\n        if (event.key === \"Escape\") {\n          _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ModalCtrl.close();\n        } else if (event.key === \"Tab\") {\n          if (!((_a = event.target) == null ? void 0 : _a.tagName.includes(\"wcm-\"))) {\n            this.containerEl.focus();\n          }\n        }\n      },\n      this.abortController\n    );\n    this.containerEl.focus();\n  }\n  removeKeyboardEvents() {\n    var _a;\n    (_a = this.abortController) == null ? void 0 : _a.abort();\n    this.abortController = void 0;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const classes = {\n      \"wcm-overlay\": true,\n      \"wcm-active\": this.active\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id=\"wcm-modal\" class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\" @click=\"${this.onCloseModal}\" role=\"alertdialog\" aria-modal=\"true\"><div class=\"wcm-container\" tabindex=\"0\">${this.open ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-backcard></wcm-modal-backcard><div class=\"wcm-card\"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>` : null}</div></div>`;\n  }\n};\nWcmModal.styles = [ThemeUtil.globalCss, styles$9];\n__decorateClass$b([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModal.prototype, \"open\", 2);\n__decorateClass$b([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmModal.prototype, \"active\", 2);\nWcmModal = __decorateClass$b([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-modal\")\n], WcmModal);\n\nconst styles$8 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;\n\nvar __defProp$a = Object.defineProperty;\nvar __getOwnPropDesc$a = Object.getOwnPropertyDescriptor;\nvar __decorateClass$a = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$a(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$a(target, key, result);\n  return result;\n};\nlet WcmPlatformSelection = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.isMobile = false;\n    this.isDesktop = false;\n    this.isWeb = false;\n    this.isRetry = false;\n  }\n  // -- private ------------------------------------------------------ //\n  onMobile() {\n    const isMobile = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile();\n    if (isMobile) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"MobileConnecting\");\n    } else {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"MobileQrcodeConnecting\");\n    }\n  }\n  onDesktop() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"DesktopConnecting\");\n  }\n  onWeb() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.replace(\"WebConnecting\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div>${this.isRetry ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<slot></slot>` : null} ${this.isMobile ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-button .onClick=\"${this.onMobile}\" .iconLeft=\"${SvgUtil.MOBILE_ICON}\" variant=\"outline\">Mobile</wcm-button>` : null} ${this.isDesktop ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-button .onClick=\"${this.onDesktop}\" .iconLeft=\"${SvgUtil.DESKTOP_ICON}\" variant=\"outline\">Desktop</wcm-button>` : null} ${this.isWeb ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-button .onClick=\"${this.onWeb}\" .iconLeft=\"${SvgUtil.GLOBE_ICON}\" variant=\"outline\">Web</wcm-button>` : null}</div>`;\n  }\n};\nWcmPlatformSelection.styles = [ThemeUtil.globalCss, styles$8];\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isMobile\", 2);\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isDesktop\", 2);\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isWeb\", 2);\n__decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean })\n], WcmPlatformSelection.prototype, \"isRetry\", 2);\nWcmPlatformSelection = __decorateClass$a([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-platform-selection\")\n], WcmPlatformSelection);\n\nconst styles$7 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;\n\nvar __defProp$9 = Object.defineProperty;\nvar __getOwnPropDesc$9 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$9 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$9(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$9(target, key, result);\n  return result;\n};\nlet WcmViewAllWalletsButton = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  onClick() {\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.RouterCtrl.push(\"WalletExplorer\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { recomendedWallets } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const manualWallets = DataUtil.manualWallets();\n    const reversedWallets = [...recomendedWallets, ...manualWallets].reverse().slice(0, 4);\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<button @click=\"${this.onClick}\"><div class=\"wcm-icons\">${reversedWallets.map((wallet) => {\n      const explorerImg = UiUtil.getWalletIcon(wallet);\n      if (explorerImg) {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<img crossorigin=\"anonymous\" src=\"${explorerImg}\">`;\n      }\n      const src = UiUtil.getWalletIcon({ id: wallet.id });\n      return src ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<img crossorigin=\"anonymous\" src=\"${src}\">` : SvgUtil.WALLET_PLACEHOLDER;\n    })} ${[...Array(4 - reversedWallets.length)].map(() => SvgUtil.WALLET_PLACEHOLDER)}</div><wcm-text variant=\"xsmall-regular\">View All</wcm-text></button>`;\n  }\n};\nWcmViewAllWalletsButton.styles = [ThemeUtil.globalCss, styles$7];\nWcmViewAllWalletsButton = __decorateClass$9([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-view-all-wallets-button\")\n], WcmViewAllWalletsButton);\n\nconst styles$6 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;\n\nvar __defProp$8 = Object.defineProperty;\nvar __getOwnPropDesc$8 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$8 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$8(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$8(target, key, result);\n  return result;\n};\nlet WcmWalletConnectQr = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.walletId = \"\";\n    this.imageId = \"\";\n    this.uri = \"\";\n    setTimeout(() => {\n      const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n      this.uri = walletConnectUri;\n    }, 0);\n  }\n  // -- private ------------------------------------------------------ //\n  get overlayEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-qr-container\");\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<div class=\"wcm-qr-container\">${this.uri ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-qrcode size=\"${this.overlayEl.offsetWidth}\" uri=\"${this.uri}\" walletId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.walletId)}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(this.imageId)}\"></wcm-qrcode>` : (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-spinner></wcm-spinner>`}</div>`;\n  }\n};\nWcmWalletConnectQr.styles = [ThemeUtil.globalCss, styles$6];\n__decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletConnectQr.prototype, \"walletId\", 2);\n__decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)()\n], WcmWalletConnectQr.prototype, \"imageId\", 2);\n__decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletConnectQr.prototype, \"uri\", 2);\nWcmWalletConnectQr = __decorateClass$8([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-walletconnect-qr\")\n], WcmWalletConnectQr);\n\nvar __defProp$7 = Object.defineProperty;\nvar __getOwnPropDesc$7 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$7 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$7(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$7(target, key, result);\n  return result;\n};\nlet WcmConnectWalletView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  viewTemplate() {\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid() && !_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram()) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-android-wallet-selection></wcm-android-wallet-selection>`;\n    }\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile()) {\n      return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`;\n    }\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`;\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`;\n  }\n};\nWcmConnectWalletView.styles = [ThemeUtil.globalCss];\nWcmConnectWalletView = __decorateClass$7([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-connect-wallet-view\")\n], WcmConnectWalletView);\n\nconst styles$5 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;\n\nvar __defProp$6 = Object.defineProperty;\nvar __getOwnPropDesc$6 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$6 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$6(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$6(target, key, result);\n  return result;\n};\nlet WcmDesktopConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.isError = false;\n    this.openDesktopApp();\n  }\n  // -- private ------------------------------------------------------ //\n  onFormatAndRedirect(uri) {\n    const { desktop, name } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const nativeUrl = desktop == null ? void 0 : desktop.native;\n    const universalUrl = desktop == null ? void 0 : desktop.universal;\n    if (nativeUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatNativeUrl(nativeUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, \"_self\");\n    } else if (universalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, \"_blank\");\n    }\n  }\n  openDesktopApp() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const routerData = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    UiUtil.setRecentWallet(routerData);\n    if (walletConnectUri) {\n      this.onFormatAndRedirect(walletConnectUri);\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isMobile, isWeb } = UiUtil.getCachedRouterWalletPlatforms();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"${`Continue in ${name}...`}\" .isError=\"${this.isError}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`Connection can continue loading if ${name} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile=\"${isMobile}\" .isWeb=\"${isWeb}\" .isRetry=\"${true}\"><wcm-button .onClick=\"${this.openDesktopApp.bind(this)}\" .iconRight=\"${SvgUtil.RETRY_ICON}\">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`;\n  }\n};\nWcmDesktopConnectingView.styles = [ThemeUtil.globalCss, styles$5];\n__decorateClass$6([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmDesktopConnectingView.prototype, \"isError\", 2);\nWcmDesktopConnectingView = __decorateClass$6([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-desktop-connecting-view\")\n], WcmDesktopConnectingView);\n\nconst styles$4 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;\n\nvar __defProp$5 = Object.defineProperty;\nvar __getOwnPropDesc$5 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$5 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$5(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$5(target, key, result);\n  return result;\n};\nlet WcmInstallWalletView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- private ------------------------------------------------------ //\n  onInstall(uri) {\n    if (uri) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(uri, \"_blank\");\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id, homepage } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"Not Detected\" .isStale=\"${true}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`Download ${name} to continue. If multiple browser extensions are installed, disable non ${name} ones and try again`}</wcm-text><wcm-button .onClick=\"${() => this.onInstall(homepage)}\" .iconLeft=\"${SvgUtil.ARROW_DOWN_ICON}\">Download</wcm-button></wcm-info-footer>`;\n  }\n};\nWcmInstallWalletView.styles = [ThemeUtil.globalCss, styles$4];\nWcmInstallWalletView = __decorateClass$5([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-install-wallet-view\")\n], WcmInstallWalletView);\n\nconst styles$3 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;\n\nvar __defProp$4 = Object.defineProperty;\nvar __getOwnPropDesc$4 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$4 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$4(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$4(target, key, result);\n  return result;\n};\nlet WcmMobileConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.isError = false;\n    this.openMobileApp();\n  }\n  // -- private ------------------------------------------------------ //\n  onFormatAndRedirect(uri, forceUniversalUrl = false) {\n    const { mobile, name } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const nativeUrl = mobile == null ? void 0 : mobile.native;\n    const universalUrl = mobile == null ? void 0 : mobile.universal;\n    const target = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram() ? \"_blank\" : \"_self\";\n    uri = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isTelegram() && _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid() ? encodeURIComponent(uri) : uri;\n    if (nativeUrl && !forceUniversalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatNativeUrl(nativeUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n    } else if (universalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, target);\n    }\n  }\n  openMobileApp(forceUniversalUrl = false) {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const routerData = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    if (walletConnectUri) {\n      this.onFormatAndRedirect(walletConnectUri, forceUniversalUrl);\n    }\n    UiUtil.setRecentWallet(routerData);\n  }\n  onGoToAppStore(downloadUrl) {\n    if (downloadUrl) {\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(downloadUrl, \"_blank\");\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id, app, mobile } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isWeb } = UiUtil.getCachedRouterWalletPlatforms();\n    const downloadUrl = app == null ? void 0 : app.ios;\n    const universalUrl = mobile == null ? void 0 : mobile.universal;\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"Tap 'Open' to continue\" .isError=\"${this.isError}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class=\"wcm-note\"><wcm-platform-selection .isWeb=\"${isWeb}\" .isRetry=\"${true}\"><wcm-button .onClick=\"${() => this.openMobileApp(false)}\" .iconRight=\"${SvgUtil.RETRY_ICON}\">Retry</wcm-button></wcm-platform-selection>${universalUrl ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text color=\"secondary\" variant=\"small-thin\">Still doesn't work? <span tabindex=\"0\" @click=\"${() => this.openMobileApp(true)}\">Try this alternate link</span></wcm-text>` : null}</wcm-info-footer><wcm-info-footer class=\"wcm-app-store\"><div><wcm-wallet-image walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\"></wcm-wallet-image><wcm-text>${`Get ${name}`}</wcm-text></div><wcm-button .iconRight=\"${SvgUtil.ARROW_RIGHT_ICON}\" .onClick=\"${() => this.onGoToAppStore(downloadUrl)}\" variant=\"ghost\">App Store</wcm-button></wcm-info-footer>`;\n  }\n};\nWcmMobileConnectingView.styles = [ThemeUtil.globalCss, styles$3];\n__decorateClass$4([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmMobileConnectingView.prototype, \"isError\", 2);\nWcmMobileConnectingView = __decorateClass$4([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-mobile-connecting-view\")\n], WcmMobileConnectingView);\n\nconst styles$2 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;\n\nvar __defProp$3 = Object.defineProperty;\nvar __getOwnPropDesc$3 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$3 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$3(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$3(target, key, result);\n  return result;\n};\nlet WcmMobileQrConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isDesktop, isWeb } = UiUtil.getCachedRouterWalletPlatforms();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`Scan this QR Code with your phone's camera or inside ${name} app`}</wcm-text><wcm-platform-selection .isDesktop=\"${isDesktop}\" .isWeb=\"${isWeb}\"></wcm-platform-selection></wcm-info-footer>`;\n  }\n};\nWcmMobileQrConnectingView.styles = [ThemeUtil.globalCss, styles$2];\nWcmMobileQrConnectingView = __decorateClass$3([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-mobile-qr-connecting-view\")\n], WcmMobileQrConnectingView);\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropDesc$2 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$2 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$2(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$2(target, key, result);\n  return result;\n};\nlet WcmQrcodeView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- render ------------------------------------------------------- //\n  render() {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"Scan the code\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`;\n  }\n};\nWcmQrcodeView.styles = [ThemeUtil.globalCss];\nWcmQrcodeView = __decorateClass$2([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-qrcode-view\")\n], WcmQrcodeView);\n\nconst styles$1 = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropDesc$1 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$1 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$1(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$1(target, key, result);\n  return result;\n};\nconst PAGE_ENTRIES = 40;\nlet WcmWalletExplorerView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  constructor() {\n    super(...arguments);\n    this.loading = !_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state.wallets.listings.length;\n    this.firstFetch = !_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state.wallets.listings.length;\n    this.search = \"\";\n    this.endReached = false;\n    this.intersectionObserver = void 0;\n    this.searchDebounce = UiUtil.debounce((value) => {\n      if (value.length >= 1) {\n        this.firstFetch = true;\n        this.endReached = false;\n        this.search = value;\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.resetSearch();\n        this.fetchWallets();\n      } else if (this.search) {\n        this.search = \"\";\n        this.endReached = this.isLastPage();\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.resetSearch();\n      }\n    });\n  }\n  // -- lifecycle ---------------------------------------------------- //\n  firstUpdated() {\n    this.createPaginationObserver();\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.intersectionObserver) == null ? void 0 : _a.disconnect();\n  }\n  // -- private ------------------------------------------------------ //\n  get placeholderEl() {\n    return UiUtil.getShadowRootElement(this, \".wcm-placeholder-block\");\n  }\n  createPaginationObserver() {\n    this.intersectionObserver = new IntersectionObserver(([element]) => {\n      if (element.isIntersecting && !(this.search && this.firstFetch)) {\n        this.fetchWallets();\n      }\n    });\n    this.intersectionObserver.observe(this.placeholderEl);\n  }\n  isLastPage() {\n    const { wallets, search } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const { listings, total } = this.search ? search : wallets;\n    return total <= PAGE_ENTRIES || listings.length >= total;\n  }\n  async fetchWallets() {\n    var _a;\n    const { wallets, search } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const { listings, total, page } = this.search ? search : wallets;\n    if (!this.endReached && (this.firstFetch || total > PAGE_ENTRIES && listings.length < total)) {\n      try {\n        this.loading = true;\n        const chains = (_a = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state.chains) == null ? void 0 : _a.join(\",\");\n        const { listings: newListings } = await _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.getWallets({\n          page: this.firstFetch ? 1 : page + 1,\n          entries: PAGE_ENTRIES,\n          search: this.search,\n          version: 2,\n          chains\n        });\n        const explorerImages = newListings.map((wallet) => UiUtil.getWalletIcon(wallet));\n        await Promise.all([\n          ...explorerImages.map(async (url) => UiUtil.preloadImage(url)),\n          _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.wait(300)\n        ]);\n        this.endReached = this.isLastPage();\n      } catch (err) {\n        console.error(err);\n        _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ToastCtrl.openToast(UiUtil.getErrorMessage(err), \"error\");\n      } finally {\n        this.loading = false;\n        this.firstFetch = false;\n      }\n    }\n  }\n  onConnect(listing) {\n    if (_walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isAndroid()) {\n      UiUtil.handleMobileLinking(listing);\n    } else {\n      UiUtil.goToConnectingView(listing);\n    }\n  }\n  onSearchChange(event) {\n    const { value } = event.target;\n    this.searchDebounce(value);\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { wallets, search } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.ExplorerCtrl.state;\n    const { listings } = this.search ? search : wallets;\n    const isLoading = this.loading && !listings.length;\n    const isSearch = this.search.length >= 3;\n    let manualWallets = TemplateUtil.manualWalletsTemplate();\n    let recomendedWallets = TemplateUtil.recomendedWalletsTemplate(true);\n    if (isSearch) {\n      manualWallets = manualWallets.filter(\n        ({ values }) => UiUtil.caseSafeIncludes(values[0], this.search)\n      );\n      recomendedWallets = recomendedWallets.filter(\n        ({ values }) => UiUtil.caseSafeIncludes(values[0], this.search)\n      );\n    }\n    const isEmpty = !this.loading && !listings.length && !recomendedWallets.length;\n    const classes = {\n      \"wcm-loading\": isLoading,\n      \"wcm-end-reached\": this.endReached || !this.loading,\n      \"wcm-empty\": isEmpty\n    };\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header><wcm-search-input .onChange=\"${this.onSearchChange.bind(this)}\"></wcm-search-input></wcm-modal-header><wcm-modal-content class=\"${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_2__.classMap)(classes)}\"><div class=\"wcm-grid\">${isLoading ? null : manualWallets} ${isLoading ? null : recomendedWallets} ${isLoading ? null : listings.map(\n      (listing) => (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`${listing ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-wallet-button imageId=\"${listing.image_id}\" name=\"${listing.name}\" walletId=\"${listing.id}\" .onClick=\"${() => this.onConnect(listing)}\"></wcm-wallet-button>` : null}`\n    )}</div><div class=\"wcm-placeholder-block\">${isEmpty ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-text variant=\"big-bold\" color=\"secondary\">No results found</wcm-text>` : null} ${!isEmpty && this.loading ? (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-spinner></wcm-spinner>` : null}</div></wcm-modal-content>`;\n  }\n};\nWcmWalletExplorerView.styles = [ThemeUtil.globalCss, styles$1];\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"loading\", 2);\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"firstFetch\", 2);\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"search\", 2);\n__decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWalletExplorerView.prototype, \"endReached\", 2);\nWcmWalletExplorerView = __decorateClass$1([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-wallet-explorer-view\")\n], WcmWalletExplorerView);\n\nconst styles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nlet WcmWebConnectingView = class extends lit__WEBPACK_IMPORTED_MODULE_0__.LitElement {\n  // -- lifecycle ---------------------------------------------------- //\n  constructor() {\n    super();\n    this.isError = false;\n    this.openWebWallet();\n  }\n  // -- private ------------------------------------------------------ //\n  onFormatAndRedirect(uri) {\n    const { desktop, name } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const universalUrl = desktop == null ? void 0 : desktop.universal;\n    if (universalUrl) {\n      const href = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.formatUniversalUrl(universalUrl, uri, name);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.openHref(href, \"_blank\");\n    }\n  }\n  openWebWallet() {\n    const { walletConnectUri } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.OptionsCtrl.state;\n    const routerData = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    UiUtil.setRecentWallet(routerData);\n    if (walletConnectUri) {\n      this.onFormatAndRedirect(walletConnectUri);\n    }\n  }\n  // -- render ------------------------------------------------------- //\n  render() {\n    const { name, id, image_id } = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.getWalletRouterData();\n    const { isMobile, isDesktop } = UiUtil.getCachedRouterWalletPlatforms();\n    const isMobilePlatform = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_3__.CoreUtil.isMobile();\n    return (0,lit__WEBPACK_IMPORTED_MODULE_0__.html)`<wcm-modal-header title=\"${name}\" .onAction=\"${UiUtil.handleUriCopy}\" .actionIcon=\"${SvgUtil.COPY_ICON}\"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId=\"${id}\" imageId=\"${(0,lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(image_id)}\" label=\"${`Continue in ${name}...`}\" .isError=\"${this.isError}\"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color=\"secondary\" variant=\"small-thin\">${`${name} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile=\"${isMobile}\" .isDesktop=\"${isMobilePlatform ? false : isDesktop}\" .isRetry=\"${true}\"><wcm-button .onClick=\"${this.openWebWallet.bind(this)}\" .iconRight=\"${SvgUtil.RETRY_ICON}\">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`;\n  }\n};\nWcmWebConnectingView.styles = [ThemeUtil.globalCss, styles];\n__decorateClass([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.state)()\n], WcmWebConnectingView.prototype, \"isError\", 2);\nWcmWebConnectingView = __decorateClass([\n  (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"wcm-web-connecting-view\")\n], WcmWebConnectingView);\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTBEO0FBQ1M7QUFDWjtBQUM4RjtBQUN0SDtBQUNFO0FBQ3dCO0FBQ3pCOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRiw2REFBNkQ7QUFDN0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnRUFBUztBQUNuQztBQUNBO0FBQ0Esb0JBQW9CLGtFQUFrRTtBQUN0RixvQkFBb0IscUVBQXFFO0FBQ3pGO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0JBQW9CLHFFQUFxRTtBQUN6RixvQkFBb0IsNERBQTREO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsWUFBWSxpQkFBaUIsRUFBRSxnRUFBUztBQUN4QztBQUNBLHVFQUF1RTtBQUN2RTtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWEsd0NBQUcsb0JBQW9CLFNBQVMsVUFBVSxzQkFBc0Isa0JBQWtCLDZCQUE2QixtQ0FB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dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MsIExpdEVsZW1lbnQsIGh0bWwsIHN2ZyBhcyBzdmckMSB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBwcm9wZXJ0eSwgY3VzdG9tRWxlbWVudCwgc3RhdGUgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qcyc7XG5pbXBvcnQgeyBUaGVtZUN0cmwsIE1vZGFsQ3RybCwgUm91dGVyQ3RybCwgQ29uZmlnQ3RybCwgRXhwbG9yZXJDdHJsLCBDb3JlVXRpbCwgT3B0aW9uc0N0cmwsIFRvYXN0Q3RybCwgRXZlbnRzQ3RybCB9IGZyb20gJ0B3YWxsZXRjb25uZWN0L21vZGFsLWNvcmUnO1xuaW1wb3J0IHsgc3ZnIH0gZnJvbSAnbGl0LWh0bWwnO1xuaW1wb3J0IHsgYW5pbWF0ZSB9IGZyb20gJ21vdGlvbic7XG5pbXBvcnQgeyBpZkRlZmluZWQgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy9pZi1kZWZpbmVkLmpzJztcbmltcG9ydCBRUkNvZGVVdGlsIGZyb20gJ3FyY29kZSc7XG5cbnZhciBfX2RlZlByb3AkeSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCR5KG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5mdW5jdGlvbiB0aGVtZU1vZGVWYXJpYWJsZXMoKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgdGhlbWVNb2RlID0gKF9hID0gVGhlbWVDdHJsLnN0YXRlLnRoZW1lTW9kZSkgIT0gbnVsbCA/IF9hIDogXCJkYXJrXCI7XG4gIGNvbnN0IHRoZW1lTW9kZVByZXNldHMgPSB7XG4gICAgbGlnaHQ6IHtcbiAgICAgIGZvcmVncm91bmQ6IHsgMTogYHJnYigyMCwyMCwyMClgLCAyOiBgcmdiKDEyMSwxMzQsMTM0KWAsIDM6IGByZ2IoMTU4LDE2OSwxNjkpYCB9LFxuICAgICAgYmFja2dyb3VuZDogeyAxOiBgcmdiKDI1NSwyNTUsMjU1KWAsIDI6IGByZ2IoMjQxLDI0MywyNDMpYCwgMzogYHJnYigyMjgsMjMxLDIzMSlgIH0sXG4gICAgICBvdmVybGF5OiBcInJnYmEoMCwwLDAsMC4xKVwiXG4gICAgfSxcbiAgICBkYXJrOiB7XG4gICAgICBmb3JlZ3JvdW5kOiB7IDE6IGByZ2IoMjI4LDIzMSwyMzEpYCwgMjogYHJnYigxNDgsMTU4LDE1OClgLCAzOiBgcmdiKDExMCwxMTksMTE5KWAgfSxcbiAgICAgIGJhY2tncm91bmQ6IHsgMTogYHJnYigyMCwyMCwyMClgLCAyOiBgcmdiKDM5LDQyLDQyKWAsIDM6IGByZ2IoNTksNjQsNjQpYCB9LFxuICAgICAgb3ZlcmxheTogXCJyZ2JhKDI1NSwyNTUsMjU1LDAuMSlcIlxuICAgIH1cbiAgfTtcbiAgY29uc3QgdGhlbWVNb2RlQ29sb3JzID0gdGhlbWVNb2RlUHJlc2V0c1t0aGVtZU1vZGVdO1xuICByZXR1cm4ge1xuICAgIFwiLS13Y20tY29sb3ItZmctMVwiOiB0aGVtZU1vZGVDb2xvcnMuZm9yZWdyb3VuZFsxXSxcbiAgICBcIi0td2NtLWNvbG9yLWZnLTJcIjogdGhlbWVNb2RlQ29sb3JzLmZvcmVncm91bmRbMl0sXG4gICAgXCItLXdjbS1jb2xvci1mZy0zXCI6IHRoZW1lTW9kZUNvbG9ycy5mb3JlZ3JvdW5kWzNdLFxuICAgIFwiLS13Y20tY29sb3ItYmctMVwiOiB0aGVtZU1vZGVDb2xvcnMuYmFja2dyb3VuZFsxXSxcbiAgICBcIi0td2NtLWNvbG9yLWJnLTJcIjogdGhlbWVNb2RlQ29sb3JzLmJhY2tncm91bmRbMl0sXG4gICAgXCItLXdjbS1jb2xvci1iZy0zXCI6IHRoZW1lTW9kZUNvbG9ycy5iYWNrZ3JvdW5kWzNdLFxuICAgIFwiLS13Y20tY29sb3Itb3ZlcmxheVwiOiB0aGVtZU1vZGVDb2xvcnMub3ZlcmxheVxuICB9O1xufVxuZnVuY3Rpb24gdGhlbWVWYXJpYWJsZXNQcmVzZXRzKCkge1xuICByZXR1cm4ge1xuICAgIFwiLS13Y20tYWNjZW50LWNvbG9yXCI6IFwiIzMzOTZGRlwiLFxuICAgIFwiLS13Y20tYWNjZW50LWZpbGwtY29sb3JcIjogXCIjRkZGRkZGXCIsXG4gICAgXCItLXdjbS16LWluZGV4XCI6IFwiODlcIixcbiAgICBcIi0td2NtLWJhY2tncm91bmQtY29sb3JcIjogXCIjMzM5NkZGXCIsXG4gICAgXCItLXdjbS1iYWNrZ3JvdW5kLWJvcmRlci1yYWRpdXNcIjogXCI4cHhcIixcbiAgICBcIi0td2NtLWNvbnRhaW5lci1ib3JkZXItcmFkaXVzXCI6IFwiMzBweFwiLFxuICAgIFwiLS13Y20td2FsbGV0LWljb24tYm9yZGVyLXJhZGl1c1wiOiBcIjE1cHhcIixcbiAgICBcIi0td2NtLXdhbGxldC1pY29uLWxhcmdlLWJvcmRlci1yYWRpdXNcIjogXCIzMHB4XCIsXG4gICAgXCItLXdjbS13YWxsZXQtaWNvbi1zbWFsbC1ib3JkZXItcmFkaXVzXCI6IFwiN3B4XCIsXG4gICAgXCItLXdjbS1pbnB1dC1ib3JkZXItcmFkaXVzXCI6IFwiMjhweFwiLFxuICAgIFwiLS13Y20tYnV0dG9uLWJvcmRlci1yYWRpdXNcIjogXCIxMHB4XCIsXG4gICAgXCItLXdjbS1ub3RpZmljYXRpb24tYm9yZGVyLXJhZGl1c1wiOiBcIjM2cHhcIixcbiAgICBcIi0td2NtLXNlY29uZGFyeS1idXR0b24tYm9yZGVyLXJhZGl1c1wiOiBcIjI4cHhcIixcbiAgICBcIi0td2NtLWljb24tYnV0dG9uLWJvcmRlci1yYWRpdXNcIjogXCI1MCVcIixcbiAgICBcIi0td2NtLWJ1dHRvbi1ob3Zlci1oaWdobGlnaHQtYm9yZGVyLXJhZGl1c1wiOiBcIjEwcHhcIixcbiAgICBcIi0td2NtLXRleHQtYmlnLWJvbGQtc2l6ZVwiOiBcIjIwcHhcIixcbiAgICBcIi0td2NtLXRleHQtYmlnLWJvbGQtd2VpZ2h0XCI6IFwiNjAwXCIsXG4gICAgXCItLXdjbS10ZXh0LWJpZy1ib2xkLWxpbmUtaGVpZ2h0XCI6IFwiMjRweFwiLFxuICAgIFwiLS13Y20tdGV4dC1iaWctYm9sZC1sZXR0ZXItc3BhY2luZ1wiOiBcIi0wLjAzZW1cIixcbiAgICBcIi0td2NtLXRleHQtYmlnLWJvbGQtdGV4dC10cmFuc2Zvcm1cIjogXCJub25lXCIsXG4gICAgXCItLXdjbS10ZXh0LXhzbWFsbC1ib2xkLXNpemVcIjogXCIxMHB4XCIsXG4gICAgXCItLXdjbS10ZXh0LXhzbWFsbC1ib2xkLXdlaWdodFwiOiBcIjcwMFwiLFxuICAgIFwiLS13Y20tdGV4dC14c21hbGwtYm9sZC1saW5lLWhlaWdodFwiOiBcIjEycHhcIixcbiAgICBcIi0td2NtLXRleHQteHNtYWxsLWJvbGQtbGV0dGVyLXNwYWNpbmdcIjogXCIwLjAyZW1cIixcbiAgICBcIi0td2NtLXRleHQteHNtYWxsLWJvbGQtdGV4dC10cmFuc2Zvcm1cIjogXCJ1cHBlcmNhc2VcIixcbiAgICBcIi0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItc2l6ZVwiOiBcIjEycHhcIixcbiAgICBcIi0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItd2VpZ2h0XCI6IFwiNjAwXCIsXG4gICAgXCItLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLWxpbmUtaGVpZ2h0XCI6IFwiMTRweFwiLFxuICAgIFwiLS13Y20tdGV4dC14c21hbGwtcmVndWxhci1sZXR0ZXItc3BhY2luZ1wiOiBcIi0wLjAzZW1cIixcbiAgICBcIi0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItdGV4dC10cmFuc2Zvcm1cIjogXCJub25lXCIsXG4gICAgXCItLXdjbS10ZXh0LXNtYWxsLXRoaW4tc2l6ZVwiOiBcIjE0cHhcIixcbiAgICBcIi0td2NtLXRleHQtc21hbGwtdGhpbi13ZWlnaHRcIjogXCI1MDBcIixcbiAgICBcIi0td2NtLXRleHQtc21hbGwtdGhpbi1saW5lLWhlaWdodFwiOiBcIjE2cHhcIixcbiAgICBcIi0td2NtLXRleHQtc21hbGwtdGhpbi1sZXR0ZXItc3BhY2luZ1wiOiBcIi0wLjAzZW1cIixcbiAgICBcIi0td2NtLXRleHQtc21hbGwtdGhpbi10ZXh0LXRyYW5zZm9ybVwiOiBcIm5vbmVcIixcbiAgICBcIi0td2NtLXRleHQtc21hbGwtcmVndWxhci1zaXplXCI6IFwiMTRweFwiLFxuICAgIFwiLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLXdlaWdodFwiOiBcIjYwMFwiLFxuICAgIFwiLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLWxpbmUtaGVpZ2h0XCI6IFwiMTZweFwiLFxuICAgIFwiLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLWxldHRlci1zcGFjaW5nXCI6IFwiLTAuMDNlbVwiLFxuICAgIFwiLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLXRleHQtdHJhbnNmb3JtXCI6IFwibm9uZVwiLFxuICAgIFwiLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci1zaXplXCI6IFwiMTZweFwiLFxuICAgIFwiLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci13ZWlnaHRcIjogXCI2MDBcIixcbiAgICBcIi0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItbGluZS1oZWlnaHRcIjogXCIyMHB4XCIsXG4gICAgXCItLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLWxldHRlci1zcGFjaW5nXCI6IFwiLTAuMDNlbVwiLFxuICAgIFwiLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci10ZXh0LXRyYW5zZm9ybVwiOiBcIm5vbmVcIixcbiAgICBcIi0td2NtLWZvbnQtZmFtaWx5XCI6IFwiLWFwcGxlLXN5c3RlbSwgc3lzdGVtLXVpLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgVWJ1bnR1LCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmXCIsXG4gICAgXCItLXdjbS1mb250LWZlYXR1cmUtc2V0dGluZ3NcIjogYCd0bnVtJyBvbiwgJ2xudW0nIG9uLCAnY2FzZScgb25gLFxuICAgIFwiLS13Y20tc3VjY2Vzcy1jb2xvclwiOiBcInJnYigzOCwxODEsOTgpXCIsXG4gICAgXCItLXdjbS1lcnJvci1jb2xvclwiOiBcInJnYigyNDIsIDkwLCAxMDMpXCIsXG4gICAgXCItLXdjbS1vdmVybGF5LWJhY2tncm91bmQtY29sb3JcIjogXCJyZ2JhKDAsIDAsIDAsIDAuMylcIixcbiAgICBcIi0td2NtLW92ZXJsYXktYmFja2Ryb3AtZmlsdGVyXCI6IFwibm9uZVwiXG4gIH07XG59XG5jb25zdCBUaGVtZVV0aWwgPSB7XG4gIGdldFByZXNldChrZXkpIHtcbiAgICByZXR1cm4gdGhlbWVWYXJpYWJsZXNQcmVzZXRzKClba2V5XTtcbiAgfSxcbiAgc2V0VGhlbWUoKSB7XG4gICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCI6cm9vdFwiKTtcbiAgICBjb25zdCB7IHRoZW1lVmFyaWFibGVzIH0gPSBUaGVtZUN0cmwuc3RhdGU7XG4gICAgaWYgKHJvb3QpIHtcbiAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCB0aGVtZU1vZGVWYXJpYWJsZXMoKSksIHRoZW1lVmFyaWFibGVzUHJlc2V0cygpKSwgdGhlbWVWYXJpYWJsZXMpO1xuICAgICAgT2JqZWN0LmVudHJpZXModmFyaWFibGVzKS5mb3JFYWNoKChba2V5LCB2YWxdKSA9PiByb290LnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsKSk7XG4gICAgfVxuICB9LFxuICBnbG9iYWxDc3M6IGNzc2AqLDo6YWZ0ZXIsOjpiZWZvcmV7bWFyZ2luOjA7cGFkZGluZzowO2JveC1zaXppbmc6Ym9yZGVyLWJveDtmb250LXN0eWxlOm5vcm1hbDt0ZXh0LXJlbmRlcmluZzpvcHRpbWl6ZVNwZWVkOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbn1idXR0b257Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlcjpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2V9QG1lZGlhIChob3Zlcjpob3ZlcikgYW5kIChwb2ludGVyOmZpbmUpe2J1dHRvbjphY3RpdmV7dHJhbnNpdGlvbjphbGwgLjFzIGVhc2U7dHJhbnNmb3JtOnNjYWxlKC45Myl9fWJ1dHRvbjo6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IsLjJzIGVhc2V9YnV0dG9uOmRpc2FibGVke2N1cnNvcjpub3QtYWxsb3dlZH1idXR0b24gc3ZnLGJ1dHRvbiB3Y20tdGV4dHtwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OjF9aW5wdXR7Ym9yZGVyOm5vbmU7b3V0bGluZTowO2FwcGVhcmFuY2U6bm9uZX1pbWd7ZGlzcGxheTpibG9ja306OnNlbGVjdGlvbntjb2xvcjp2YXIoLS13Y20tYWNjZW50LWZpbGwtY29sb3IpO2JhY2tncm91bmQ6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9YFxufTtcblxuY29uc3Qgc3R5bGVzJHQgPSBjc3NgYnV0dG9ue2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLXNlY29uZGFyeS1idXR0b24tYm9yZGVyLXJhZGl1cyk7aGVpZ2h0OjI4cHg7cGFkZGluZzowIDEwcHg7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX1idXR0b24gcGF0aHtmaWxsOnZhcigtLXdjbS1hY2NlbnQtZmlsbC1jb2xvcil9YnV0dG9uOjphZnRlcntib3JkZXItcmFkaXVzOmluaGVyaXQ7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9YnV0dG9uOmRpc2FibGVkOjphZnRlcntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS53Y20taWNvbi1sZWZ0IHN2Z3ttYXJnaW4tcmlnaHQ6NXB4fS53Y20taWNvbi1yaWdodCBzdmd7bWFyZ2luLWxlZnQ6NXB4fWJ1dHRvbjphY3RpdmU6OmFmdGVye2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfS53Y20tZ2hvc3QsLndjbS1naG9zdDphY3RpdmU6OmFmdGVyLC53Y20tb3V0bGluZXtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS53Y20tZ2hvc3Q6YWN0aXZle29wYWNpdHk6LjV9QG1lZGlhKGhvdmVyOmhvdmVyKXtidXR0b246aG92ZXI6OmFmdGVye2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfS53Y20tZ2hvc3Q6aG92ZXI6OmFmdGVye2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9LndjbS1naG9zdDpob3ZlcntvcGFjaXR5Oi41fX1idXR0b246ZGlzYWJsZWR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMyk7cG9pbnRlci1ldmVudHM6bm9uZX0ud2NtLWdob3N0OjphZnRlcntib3JkZXItY29sb3I6dHJhbnNwYXJlbnR9LndjbS1naG9zdCBwYXRoe2ZpbGw6dmFyKC0td2NtLWNvbG9yLWZnLTIpfS53Y20tb3V0bGluZSBwYXRoe2ZpbGw6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9LndjbS1vdXRsaW5lOmRpc2FibGVke2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7b3BhY2l0eTouNX1gO1xuXG52YXIgX19kZWZQcm9wJHggPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyR4ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkeCA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyR4KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCR4KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21CdXR0b24gPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmljb25MZWZ0ID0gdm9pZCAwO1xuICAgIHRoaXMuaWNvblJpZ2h0ID0gdm9pZCAwO1xuICAgIHRoaXMub25DbGljayA9ICgpID0+IG51bGw7XG4gICAgdGhpcy52YXJpYW50ID0gXCJkZWZhdWx0XCI7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgICBcIndjbS1pY29uLWxlZnRcIjogdGhpcy5pY29uTGVmdCAhPT0gdm9pZCAwLFxuICAgICAgXCJ3Y20taWNvbi1yaWdodFwiOiB0aGlzLmljb25SaWdodCAhPT0gdm9pZCAwLFxuICAgICAgXCJ3Y20tZ2hvc3RcIjogdGhpcy52YXJpYW50ID09PSBcImdob3N0XCIsXG4gICAgICBcIndjbS1vdXRsaW5lXCI6IHRoaXMudmFyaWFudCA9PT0gXCJvdXRsaW5lXCJcbiAgICB9O1xuICAgIGxldCB0ZXh0Q29sb3IgPSBcImludmVyc2VcIjtcbiAgICBpZiAodGhpcy52YXJpYW50ID09PSBcImdob3N0XCIpIHtcbiAgICAgIHRleHRDb2xvciA9IFwic2Vjb25kYXJ5XCI7XG4gICAgfVxuICAgIGlmICh0aGlzLnZhcmlhbnQgPT09IFwib3V0bGluZVwiKSB7XG4gICAgICB0ZXh0Q29sb3IgPSBcImFjY2VudFwiO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbGA8YnV0dG9uIGNsYXNzPVwiJHtjbGFzc01hcChjbGFzc2VzKX1cIiA/ZGlzYWJsZWQ9XCIke3RoaXMuZGlzYWJsZWR9XCIgQGNsaWNrPVwiJHt0aGlzLm9uQ2xpY2t9XCI+JHt0aGlzLmljb25MZWZ0fTx3Y20tdGV4dCB2YXJpYW50PVwic21hbGwtcmVndWxhclwiIGNvbG9yPVwiJHt0ZXh0Q29sb3J9XCI+PHNsb3Q+PC9zbG90Pjwvd2NtLXRleHQ+JHt0aGlzLmljb25SaWdodH08L2J1dHRvbj5gO1xuICB9XG59O1xuV2NtQnV0dG9uLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkdF07XG5fX2RlY29yYXRlQ2xhc3MkeChbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtQnV0dG9uLnByb3RvdHlwZSwgXCJkaXNhYmxlZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyR4KFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtQnV0dG9uLnByb3RvdHlwZSwgXCJpY29uTGVmdFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyR4KFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtQnV0dG9uLnByb3RvdHlwZSwgXCJpY29uUmlnaHRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkeChbXG4gIHByb3BlcnR5KClcbl0sIFdjbUJ1dHRvbi5wcm90b3R5cGUsIFwib25DbGlja1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyR4KFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtQnV0dG9uLnByb3RvdHlwZSwgXCJ2YXJpYW50XCIsIDIpO1xuV2NtQnV0dG9uID0gX19kZWNvcmF0ZUNsYXNzJHgoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWJ1dHRvblwiKVxuXSwgV2NtQnV0dG9uKTtcblxuY29uc3Qgc3R5bGVzJHMgPSBjc3NgOmhvc3R7ZGlzcGxheTppbmxpbmUtYmxvY2t9YnV0dG9ue3BhZGRpbmc6MCAxNXB4IDFweDtoZWlnaHQ6NDBweDtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1idXR0b24tYm9yZGVyLXJhZGl1cyk7Y29sb3I6dmFyKC0td2NtLWFjY2VudC1maWxsLWNvbG9yKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfWJ1dHRvbjo6YWZ0ZXJ7Y29udGVudDonJzt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1yYWRpdXM6aW5oZXJpdDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjJzIGVhc2U7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9YnV0dG9uOmFjdGl2ZTo6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9YnV0dG9uOmRpc2FibGVke3BhZGRpbmctYm90dG9tOjA7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMyk7Y29sb3I6dmFyKC0td2NtLWNvbG9yLWZnLTMpfS53Y20tc2Vjb25kYXJ5e2NvbG9yOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9LndjbS1zZWNvbmRhcnk6OmFmdGVye2Rpc3BsYXk6bm9uZX1AbWVkaWEoaG92ZXI6aG92ZXIpe2J1dHRvbjpob3Zlcjo6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9fWA7XG5cbnZhciBfX2RlZlByb3AkdyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJHcgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyR3ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJHcodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJHcodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbUJ1dHRvbkJpZyA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMudmFyaWFudCA9IFwicHJpbWFyeVwiO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgXCJ3Y20tc2Vjb25kYXJ5XCI6IHRoaXMudmFyaWFudCA9PT0gXCJzZWNvbmRhcnlcIlxuICAgIH07XG4gICAgcmV0dXJuIGh0bWxgPGJ1dHRvbiA/ZGlzYWJsZWQ9XCIke3RoaXMuZGlzYWJsZWR9XCIgY2xhc3M9XCIke2NsYXNzTWFwKGNsYXNzZXMpfVwiPjxzbG90Pjwvc2xvdD48L2J1dHRvbj5gO1xuICB9XG59O1xuV2NtQnV0dG9uQmlnLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkc107XG5fX2RlY29yYXRlQ2xhc3MkdyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtQnV0dG9uQmlnLnByb3RvdHlwZSwgXCJkaXNhYmxlZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyR3KFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtQnV0dG9uQmlnLnByb3RvdHlwZSwgXCJ2YXJpYW50XCIsIDIpO1xuV2NtQnV0dG9uQmlnID0gX19kZWNvcmF0ZUNsYXNzJHcoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWJ1dHRvbi1iaWdcIilcbl0sIFdjbUJ1dHRvbkJpZyk7XG5cbmNvbnN0IHN0eWxlcyRyID0gY3NzYDpob3N0e2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTIpO2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLXdjbS1jb2xvci1iZy0zKX1kaXZ7cGFkZGluZzoxMHB4IDIwcHg7ZGlzcGxheTppbmhlcml0O2ZsZXgtZGlyZWN0aW9uOmluaGVyaXQ7YWxpZ24taXRlbXM6aW5oZXJpdDt3aWR0aDppbmhlcml0O2p1c3RpZnktY29udGVudDppbmhlcml0fWA7XG5cbnZhciBfX2RlZlByb3AkdiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJHYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyR2ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJHYodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJHYodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbUluZm9Gb290ZXIgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgPGRpdj48c2xvdD48L3Nsb3Q+PC9kaXY+YDtcbiAgfVxufTtcbldjbUluZm9Gb290ZXIuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRyXTtcbldjbUluZm9Gb290ZXIgPSBfX2RlY29yYXRlQ2xhc3MkdihbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20taW5mby1mb290ZXJcIilcbl0sIFdjbUluZm9Gb290ZXIpO1xuXG5jb25zdCBTdmdVdGlsID0ge1xuICBDUk9TU19JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiMTJcIiB2aWV3Qm94PVwiMCAwIDEyIDEyXCI+PHBhdGggZD1cIk05Ljk0IDExQS43NS43NSAwIDEgMCAxMSA5Ljk0TDcuNDE0IDYuMzUzYS41LjUgMCAwIDEgMC0uNzA4TDExIDIuMDYxQS43NS43NSAwIDEgMCA5Ljk0IDFMNi4zNTMgNC41ODZhLjUuNSAwIDAgMS0uNzA4IDBMMi4wNjEgMUEuNzUuNzUgMCAwIDAgMSAyLjA2bDMuNTg2IDMuNTg2YS41LjUgMCAwIDEgMCAuNzA4TDEgOS45MzlBLjc1Ljc1IDAgMSAwIDIuMDYgMTFsMy41ODYtMy41ODZhLjUuNSAwIDAgMSAuNzA4IDBMOS45MzkgMTFaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgV0FMTEVUX0NPTk5FQ1RfTE9HTzogc3ZnYDxzdmcgd2lkdGg9XCIxNzhcIiBoZWlnaHQ9XCIyOVwiIHZpZXdCb3g9XCIwIDAgMTc4IDI5XCIgaWQ9XCJ3Y20td2MtbG9nb1wiPjxwYXRoIGQ9XCJNMTAuNjgzIDcuOTI2YzUuMjg0LTUuMTcgMTMuODUtNS4xNyAxOS4xMzQgMGwuNjM2LjYyM2EuNjUyLjY1MiAwIDAgMSAwIC45MzZsLTIuMTc2IDIuMTI5YS4zNDMuMzQzIDAgMCAxLS40NzggMGwtLjg3NS0uODU3Yy0zLjY4Ni0zLjYwNy05LjY2Mi0zLjYwNy0xMy4zNDggMGwtLjkzNy45MThhLjM0My4zNDMgMCAwIDEtLjQ3OSAwbC0yLjE3NS0yLjEzYS42NTIuNjUyIDAgMCAxIDAtLjkzNmwuNjk4LS42ODNabTIzLjYzMyA0LjQwMyAxLjkzNSAxLjg5NWEuNjUyLjY1MiAwIDAgMSAwIC45MzZsLTguNzMgOC41NDNhLjY4Ny42ODcgMCAwIDEtLjk1NiAwTDIwLjM3IDE3LjY0YS4xNzIuMTcyIDAgMCAwLS4yMzkgMGwtNi4xOTUgNi4wNjNhLjY4Ny42ODcgMCAwIDEtLjk1NyAwbC04LjczLTguNTQzYS42NTIuNjUyIDAgMCAxIDAtLjkzNmwxLjkzNi0xLjg5NWEuNjg3LjY4NyAwIDAgMSAuOTU3IDBsNi4xOTYgNi4wNjRhLjE3Mi4xNzIgMCAwIDAgLjIzOSAwbDYuMTk1LTYuMDY0YS42ODcuNjg3IDAgMCAxIC45NTcgMGw2LjE5NiA2LjA2NGEuMTcyLjE3MiAwIDAgMCAuMjQgMGw2LjE5NS02LjA2NGEuNjg3LjY4NyAwIDAgMSAuOTU2IDBaTTQ4LjA5MyAyMC45NDhsMi4zMzgtOS4zNTVjLjEzOS0uNTE1LjI1OC0xLjA3LjQxNi0xLjk0Mi4xMi44NzIuMjU4IDEuNDI3LjM1NyAxLjk0MmwyLjAyMiA5LjM1NWg0LjE4MWwzLjUyOC0xMy44NzRoLTMuMjFsLTEuOTQzIDguNTIzYTI0LjgyNSAyNC44MjUgMCAwIDAtLjQ1NiAyLjQ1N2MtLjE1OC0uOTMxLS4zMTctMS42MjUtLjQ5NS0yLjQzOGwtMS44ODMtOC41NDJoLTQuMjAxbC0yLjA0MiA4LjU0MmE0MS4yMDQgNDEuMjA0IDAgMCAwLS40NzUgMi40MzggNDEuMjA4IDQxLjIwOCAwIDAgMC0uNDc2LTIuNDM4bC0xLjkwMy04LjU0MmgtMy4zNDlsMy41MDggMTMuODc0aDQuMDgzWk02My4zMyAyMS4zMDRjMS41ODUgMCAyLjU5Ni0uNjU0IDMuMTEtMS42MDUtLjA1OS4yOTctLjA3OC41OTUtLjA3OC44OTJ2LjM1N2gyLjY1NVYxNS4yMmMwLTIuNzM1LTEuMjQ4LTQuMzItNC4zLTQuMzItMi42MzYgMC00LjM2IDEuNDY2LTQuNTIgMy40ODdoMi45MTRjLjEtLjg5MS43MzQtMS40MjYgMS43MDUtMS40MjYuOTExIDAgMS40MDcuNTE1IDEuNDA3IDEuMTEgMCAuNDM1LS4yNTguNjkzLTEuMDMuNzkybC0xLjM4OC4xNTljLTIuMDYxLjI1Ny0zLjgyNSAxLjAxLTMuODI1IDMuMTkgMCAxLjk4MiAxLjY0NSAzLjA5MiAzLjM1IDMuMDkyWm0uODkxLTIuMDQxYy0uNzczIDAtMS4zNDgtLjQzNi0xLjM0OC0xLjE5IDAtLjczMy42NTUtMS4wOSAxLjY0NS0xLjI2OGwuNjc0LS4xMTljLjU3NS0uMTE4Ljg5Mi0uMjE4IDEuMDktLjM5NnYuOTEyYzAgMS4yMjgtLjg5MiAyLjA2LTIuMDYgMi4wNlpNNzAuMzk4IDcuMDc0djEzLjg3NGgyLjg3NFY3LjA3NGgtMi44NzRaTTc0LjkzNCA3LjA3NHYxMy44NzRoMi44NzRWNy4wNzRoLTIuODc0Wk04NC4wOCAyMS4zMDRjMi43MzUgMCA0LjUtMS41NDYgNC42OTctMy41NjdoLTIuODkzYy0uMTM5Ljg5Mi0uODkyIDEuMzg3LTEuODA0IDEuMzg3LTEuMjI4IDAtMi4xMi0uOTktMi4xNC0yLjM1OGg2Ljg5N3YtLjU1NWMwLTMuMjEtMS43NjQtNS4zMTItNC44MTYtNS4zMTItMi45MzMgMC00Ljk5NCAyLjA2Mi00Ljk5NCA1LjE3MyAwIDMuMzcgMi4xMiA1LjIzMiA1LjA1MyA1LjIzMlptLTIuMTYtNi40MjFjLjExOS0xLjExLjkzMi0xLjkyMiAyLjA4MS0xLjkyMiAxLjExIDAgMS44ODMuNzcyIDEuOTAzIDEuOTIySDgxLjkyWk05NC45MiAyMS4xNDZjLjYzMyAwIDEuMjQ4LS4xIDEuNTI1LS4xNzl2LTIuMThjLS4yMTguMDQtLjQ3NS4wNi0uNjkzLjA2LTEuMDUgMC0xLjQyNy0uNTk1LTEuNDI3LTEuNTY2di0zLjgwNWgyLjMzOHYtMi4yNGgtMi4zMzhWNy43ODhIOTEuNDd2My40NDhIODkuMzd2Mi4yNGgyLjF2NC4yMDFjMCAyLjMgMS4xNSAzLjQ2OSAzLjQ1IDMuNDY5Wk0xMDQuNjIgMjEuMzA0YzMuOTI0IDAgNi4zMDItMi4yOTkgNi41OTktNS42MDhoLTMuMTExYy0uMjM4IDEuODAzLTEuNTA2IDMuMDMyLTMuMzY5IDMuMDMyLTIuMiAwLTMuNzQ2LTEuNzg0LTMuNzQ2LTQuNzk2IDAtMi45NTMgMS42MDUtNC42MzggMy44MDUtNC42MzggMS44ODMgMCAyLjk1MyAxLjE1IDMuMTcxIDIuODM0aDMuMTkxYy0uMzE3LTMuNDQ4LTIuODU0LTUuNDEtNi4zNDItNS40MS0zLjk4NCAwLTcuMDM2IDIuNjk1LTcuMDM2IDcuMjE0IDAgNC42NzcgMi42NzYgNy4zNzIgNi44MzggNy4zNzJaTTExNy40NDkgMjEuMzA0YzIuOTkzIDAgNS4xMTQtMS44ODIgNS4xMTQtNS4xNzIgMC0zLjIzLTIuMTIxLTUuMjMzLTUuMTE0LTUuMjMzLTIuOTcyIDAtNS4wOTMgMi4wMDItNS4wOTMgNS4yMzMgMCAzLjI5IDIuMTAxIDUuMTcyIDUuMDkzIDUuMTcyWm0wLTIuMjJjLTEuMzI3IDAtMi4xOC0xLjA5LTIuMTgtMi45NTIgMC0xLjkwMy44OTItMi45NzMgMi4xOC0yLjk3MyAxLjMwOCAwIDIuMiAxLjA3IDIuMiAyLjk3MyAwIDEuODYyLS44NzIgMi45NTMtMi4yIDIuOTUzWk0xMjYuNTY5IDIwLjk0OHYtNS42ODljMC0xLjIwOC43NTMtMi4xIDEuODIzLTIuMSAxLjAxMSAwIDEuNjA2Ljc3MyAxLjYwNiAyLjA2djUuNzI5aDIuODczdi02LjE0NGMwLTIuMzM5LTEuMjI5LTMuOTA1LTMuNDI4LTMuOTA1LTEuNTI2IDAtMi40NTguNzM0LTIuOTUzIDEuNjA2YTUuMzEgNS4zMSAwIDAgMCAuMDc5LS44OTJ2LS4zNzdoLTIuODc0djkuNzEyaDIuODc0Wk0xMzcuNDY0IDIwLjk0OHYtNS42ODljMC0xLjIwOC43NTMtMi4xIDEuODIzLTIuMSAxLjAxMSAwIDEuNjA2Ljc3MyAxLjYwNiAyLjA2djUuNzI5aDIuODczdi02LjE0NGMwLTIuMzM5LTEuMjI4LTMuOTA1LTMuNDI4LTMuOTA1LTEuNTI2IDAtMi40NTguNzM0LTIuOTUzIDEuNjA2YTUuMzEgNS4zMSAwIDAgMCAuMDc5LS44OTJ2LS4zNzdoLTIuODc0djkuNzEyaDIuODc0Wk0xNDkuOTQ5IDIxLjMwNGMyLjczNSAwIDQuNDk5LTEuNTQ2IDQuNjk3LTMuNTY3aC0yLjg5M2MtLjEzOS44OTItLjg5MiAxLjM4Ny0xLjgwNCAxLjM4Ny0xLjIyOCAwLTIuMTItLjk5LTIuMTQtMi4zNThoNi44OTd2LS41NTVjMC0zLjIxLTEuNzY0LTUuMzEyLTQuODE2LTUuMzEyLTIuOTMzIDAtNC45OTQgMi4wNjItNC45OTQgNS4xNzMgMCAzLjM3IDIuMTIgNS4yMzIgNS4wNTMgNS4yMzJabS0yLjE2LTYuNDIxYy4xMTktMS4xMS45MzItMS45MjIgMi4wODEtMS45MjIgMS4xMSAwIDEuODgzLjc3MiAxLjkwMyAxLjkyMmgtMy45ODRaTTE2MC44NzYgMjEuMzA0YzMuMDEzIDAgNC42NTgtMS42NDUgNC45NzUtNC4yMDFoLTIuODc0Yy0uMDk5IDEuMDctLjcxMyAxLjk4Mi0yLjAwMSAxLjk4Mi0xLjMwOSAwLTIuMi0xLjIxLTIuMi0yLjk5MyAwLTEuOTQyIDEuMDMtMi45MzMgMi4yNTktMi45MzMgMS4yMDkgMCAxLjgwMy44NzIgMS44ODMgMS44ODJoMi44NzNjLS4yMTgtMi4zNTgtMS44MjMtNC4xNDItNC43NzYtNC4xNDItMi44NzQgMC01LjE1MyAxLjkwMy01LjE1MyA1LjE5MyAwIDMuMjUgMS45MjMgNS4yMTIgNS4wMTQgNS4yMTJaTTE3Mi4wNjcgMjEuMTQ2Yy42MzQgMCAxLjI0OC0uMSAxLjUyNi0uMTc5di0yLjE4Yy0uMjE4LjA0LS40NzYuMDYtLjY5NC4wNi0xLjA1IDAtMS40MjctLjU5NS0xLjQyNy0xLjU2NnYtMy44MDVoMi4zMzl2LTIuMjRoLTIuMzM5VjcuNzg4aC0yLjg1NHYzLjQ0OGgtMi4xdjIuMjRoMi4xdjQuMjAxYzAgMi4zIDEuMTUgMy40NjkgMy40NDkgMy40NjlaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgV0FMTEVUX0NPTk5FQ1RfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIyOFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyOCAyMFwiPjxnIGNsaXAtcGF0aD1cInVybCgjYSlcIj48cGF0aCBkPVwiTTcuMzg2IDYuNDgyYzMuNjUzLTMuNTc2IDkuNTc1LTMuNTc2IDEzLjIyOCAwbC40NC40M2EuNDUxLjQ1MSAwIDAgMSAwIC42NDhMMTkuNTUgOS4wMzNhLjIzNy4yMzcgMCAwIDEtLjMzIDBsLS42MDYtLjU5MmMtMi41NDgtMi40OTYtNi42OC0yLjQ5Ni05LjIyOCAwbC0uNjQ4LjYzNGEuMjM3LjIzNyAwIDAgMS0uMzMgMEw2LjkwMiA3LjYwMmEuNDUxLjQ1MSAwIDAgMSAwLS42NDdsLjQ4My0uNDczWm0xNi4zMzggMy4wNDYgMS4zMzkgMS4zMWEuNDUxLjQ1MSAwIDAgMSAwIC42NDhsLTYuMDM1IDUuOTA5YS40NzUuNDc1IDAgMCAxLS42NjIgMEwxNC4wODMgMTMuMmEuMTE5LjExOSAwIDAgMC0uMTY2IDBsLTQuMjgzIDQuMTk0YS40NzUuNDc1IDAgMCAxLS42NjIgMGwtNi4wMzUtNS45MWEuNDUxLjQ1MSAwIDAgMSAwLS42NDdsMS4zMzgtMS4zMWEuNDc1LjQ3NSAwIDAgMSAuNjYyIDBsNC4yODMgNC4xOTRjLjA0Ni4wNDQuMTIuMDQ0LjE2NiAwbDQuMjgzLTQuMTk0YS40NzUuNDc1IDAgMCAxIC42NjIgMGw0LjI4MyA0LjE5NGMuMDQ2LjA0NC4xMi4wNDQuMTY2IDBsNC4yODMtNC4xOTRhLjQ3NS40NzUgMCAwIDEgLjY2MiAwWlwiIGZpbGw9XCIjMDAwMDAwXCIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9XCJhXCI+PHBhdGggZmlsbD1cIiNmZmZmZmZcIiBkPVwiTTAgMGgyOHYyMEgwelwiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz5gLFxuICBXQUxMRVRfQ09OTkVDVF9JQ09OX0NPTE9SRUQ6IHN2Z2A8c3ZnIHdpZHRoPVwiOTZcIiBoZWlnaHQ9XCI5NlwiIGZpbGw9XCJub25lXCI+PHBhdGggZmlsbD1cIiNmZmZcIiBkPVwiTTI1LjMyMiAzMy41OTdjMTIuNTI1LTEyLjI2MyAzMi44My0xMi4yNjMgNDUuMzU1IDBsMS41MDcgMS40NzZhMS41NDcgMS41NDcgMCAwIDEgMCAyLjIybC01LjE1NiA1LjA0OGEuODE0LjgxNCAwIDAgMS0xLjEzNCAwbC0yLjA3NC0yLjAzYy04LjczNy04LjU1NS0yMi45MDMtOC41NTUtMzEuNjQgMGwtMi4yMjIgMi4xNzVhLjgxNC44MTQgMCAwIDEtMS4xMzQgMGwtNS4xNTYtNS4wNDlhMS41NDcgMS41NDcgMCAwIDEgMC0yLjIybDEuNjU0LTEuNjJabTU2LjAxOSAxMC40NCA0LjU4OSA0LjQ5NGExLjU0NyAxLjU0NyAwIDAgMSAwIDIuMjJsLTIwLjY5MyAyMC4yNmExLjYyOCAxLjYyOCAwIDAgMS0yLjI2NyAwTDQ4LjI4MyA1Ni42MzJhLjQwNy40MDcgMCAwIDAtLjU2NyAwTDMzLjAzIDcxLjAxMmExLjYyOCAxLjYyOCAwIDAgMS0yLjI2OCAwTDEwLjA3IDUwLjc1YTEuNTQ3IDEuNTQ3IDAgMCAxIDAtMi4yMmw0LjU5LTQuNDk0YTEuNjI4IDEuNjI4IDAgMCAxIDIuMjY3IDBsMTQuNjg3IDE0LjM4Yy4xNTYuMTUzLjQxLjE1My41NjcgMGwxNC42ODUtMTQuMzhhMS42MjggMS42MjggMCAwIDEgMi4yNjggMGwxNC42ODcgMTQuMzhjLjE1Ni4xNTMuNDEuMTUzLjU2NyAwbDE0LjY4Ni0xNC4zOGExLjYyOCAxLjYyOCAwIDAgMSAyLjI2OCAwWlwiLz48cGF0aCBzdHJva2U9XCIjMDAwXCIgZD1cIk0yNS42NzIgMzMuOTU0YzEyLjMzLTEyLjA3MiAzMi4zMjUtMTIuMDcyIDQ0LjY1NSAwbDEuNTA4IDEuNDc2YTEuMDQ3IDEuMDQ3IDAgMCAxIDAgMS41MDZsLTUuMTU3IDUuMDQ4YS4zMTQuMzE0IDAgMCAxLS40MzQgMGwtMi4wNzQtMi4wM2MtOC45MzItOC43NDYtMjMuNDA5LTguNzQ2LTMyLjM0IDBsLTIuMjIyIDIuMTc0YS4zMTQuMzE0IDAgMCAxLS40MzQgMGwtNS4xNTctNS4wNDhhMS4wNDcgMS4wNDcgMCAwIDEgMC0xLjUwNmwxLjY1NS0xLjYyWm01NS4zMTkgMTAuNDQgNC41OSA0LjQ5NGExLjA0NyAxLjA0NyAwIDAgMSAwIDEuNTA2bC0yMC42OTQgMjAuMjZhMS4xMjggMS4xMjggMCAwIDEtMS41NjggMGwtMTQuNjg2LTE0LjM4YS45MDcuOTA3IDAgMCAwLTEuMjY3IDBMMzIuNjggNzAuNjU1YTEuMTI4IDEuMTI4IDAgMCAxLTEuNTY4IDBMMTAuNDIgNTAuMzk0YTEuMDQ3IDEuMDQ3IDAgMCAxIDAtMS41MDZsNC41OS00LjQ5M2ExLjEyOCAxLjEyOCAwIDAgMSAxLjU2NyAwbDE0LjY4NyAxNC4zNzlhLjkwNy45MDcgMCAwIDAgMS4yNjYgMGwtLjM1LS4zNTcuMzUuMzU3IDE0LjY4Ni0xNC4zOGExLjEyOCAxLjEyOCAwIDAgMSAxLjU2OCAwbDE0LjY4NyAxNC4zOGEuOTA3LjkwNyAwIDAgMCAxLjI2NyAwbDE0LjY4Ni0xNC4zOGExLjEyOCAxLjEyOCAwIDAgMSAxLjU2OCAwWlwiLz48L3N2Zz5gLFxuICBCQUNLX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMTBcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMTAgMThcIj48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNOC43MzUuMTc5YS43NS43NSAwIDAgMSAuMDg3IDEuMDU3TDIuOTIgOC4xOTJhMS4yNSAxLjI1IDAgMCAwIDAgMS42MTdsNS45MDIgNi45NTZhLjc1Ljc1IDAgMSAxLTEuMTQ0Ljk3TDEuNzc2IDEwLjc4YTIuNzUgMi43NSAwIDAgMSAwLTMuNTU5TDcuNjc4LjI2NUEuNzUuNzUgMCAwIDEgOC43MzUuMThaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgQ09QWV9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiPjxwYXRoIGZpbGw9XCIjZmZmXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNNy4wMSA3LjAxYy4wMy0xLjU0NS4xMzgtMi41LjUzNS0zLjI4QTUgNSAwIDAgMSA5LjczIDEuNTQ1QzEwLjggMSAxMi4yIDEgMTUgMWMyLjggMCA0LjIgMCA1LjI3LjU0NWE1IDUgMCAwIDEgMi4xODUgMi4xODVDMjMgNC44IDIzIDYuMiAyMyA5YzAgMi44IDAgNC4yLS41NDUgNS4yN2E1IDUgMCAwIDEtMi4xODUgMi4xODVjLS43OC4zOTctMS43MzUuNTA1LTMuMjguNTM0bC0uMDAxLjAxYy0uMDMgMS41NC0uMTM4IDIuNDkzLS41MzQgMy4yN2E1IDUgMCAwIDEtMi4xODUgMi4xODZDMTMuMiAyMyAxMS44IDIzIDkgMjNjLTIuOCAwLTQuMiAwLTUuMjctLjU0NWE1IDUgMCAwIDEtMi4xODUtMi4xODVDMSAxOS4yIDEgMTcuOCAxIDE1YzAtMi44IDAtNC4yLjU0NS01LjI3QTUgNSAwIDAgMSAzLjczIDcuNTQ1QzQuNTA4IDcuMTQ5IDUuNDYgNy4wNCA3IDcuMDFoLjAxWk0xNSAxNS41Yy0xLjQyNSAwLTIuNDAzLS4wMDEtMy4xNjItLjA2My0uNzQtLjA2LTEuMTM5LS4xNzItMS40MjctLjMxOWEzLjUgMy41IDAgMCAxLTEuNTMtMS41MjljLS4xNDYtLjI4OC0uMjU3LS42ODYtLjMxOC0xLjQyN0M4LjUwMSAxMS40MDMgOC41IDEwLjQyNSA4LjUgOWMwLTEuNDI1LjAwMS0yLjQwMy4wNjMtMy4xNjIuMDYtLjc0LjE3Mi0xLjEzOS4zMTgtMS40MjdhMy41IDMuNSAwIDAgMSAxLjUzLTEuNTNjLjI4OC0uMTQ2LjY4Ni0uMjU3IDEuNDI3LS4zMTguNzU5LS4wNjIgMS43MzctLjA2MyAzLjE2Mi0uMDYzIDEuNDI1IDAgMi40MDMuMDAxIDMuMTYyLjA2My43NC4wNiAxLjEzOS4xNzIgMS40MjcuMzE4YTMuNSAzLjUgMCAwIDEgMS41MyAxLjUzYy4xNDYuMjg4LjI1Ny42ODYuMzE4IDEuNDI3LjA2Mi43NTkuMDYzIDEuNzM3LjA2MyAzLjE2MiAwIDEuNDI1LS4wMDEgMi40MDMtLjA2MyAzLjE2Mi0uMDYuNzQtLjE3MiAxLjEzOS0uMzE5IDEuNDI3YTMuNSAzLjUgMCAwIDEtMS41MjkgMS41M2MtLjI4OC4xNDYtLjY4Ni4yNTctMS40MjcuMzE4LS43NTkuMDYyLTEuNzM3LjA2My0zLjE2Mi4wNjNaTTcgOC41MTFjLS40NDQuMDA5LS44MjUuMDI1LTEuMTYyLjA1Mi0uNzQuMDYtMS4xMzkuMTcyLTEuNDI3LjMxOGEzLjUgMy41IDAgMCAwLTEuNTMgMS41M2MtLjE0Ni4yODgtLjI1Ny42ODYtLjMxOCAxLjQyNy0uMDYyLjc1OS0uMDYzIDEuNzM3LS4wNjMgMy4xNjIgMCAxLjQyNS4wMDEgMi40MDMuMDYzIDMuMTYyLjA2Ljc0LjE3MiAxLjEzOS4zMTggMS40MjdhMy41IDMuNSAwIDAgMCAxLjUzIDEuNTNjLjI4OC4xNDYuNjg2LjI1NyAxLjQyNy4zMTguNzU5LjA2MiAxLjczNy4wNjMgMy4xNjIuMDYzIDEuNDI1IDAgMi40MDMtLjAwMSAzLjE2Mi0uMDYzLjc0LS4wNiAxLjEzOS0uMTcyIDEuNDI3LS4zMTlhMy41IDMuNSAwIDAgMCAxLjUzLTEuNTNjLjE0Ni0uMjg3LjI1Ny0uNjg1LjMxOC0xLjQyNi4wMjctLjMzNy4wNDMtLjcxOC4wNTItMS4xNjJIMTVjLTIuOCAwLTQuMiAwLTUuMjctLjU0NWE1IDUgMCAwIDEtMi4xODUtMi4xODVDNyAxMy4yIDcgMTEuOCA3IDl2LS40ODlaXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz5gLFxuICBSRVRSWV9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjE1XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDE1IDE2XCI+PHBhdGggZD1cIk02LjQ2NCAyLjAzQS43NS43NSAwIDAgMCA1LjQwMy45N0wyLjA4IDQuMjkzYTEgMSAwIDAgMCAwIDEuNDE0TDUuNDAzIDkuMDNhLjc1Ljc1IDAgMCAwIDEuMDYtMS4wNkw0LjY3MiA2LjE3N2EuMjUuMjUgMCAwIDEgLjE3Ny0uNDI3aDIuMDg1YTQgNCAwIDEgMS0zLjkzIDQuNzQ2Yy0uMDc3LS40MDctLjQwNS0uNzQ2LS44Mi0uNzQ2LS40MTQgMC0uNzU1LjMzOC0uNy43NDhhNS41MDEgNS41MDEgMCAxIDAgNS40NS02LjI0OEg0Ljg0OGEuMjUuMjUgMCAwIDEtLjE3Ny0uNDI3TDYuNDY0IDIuMDNaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgREVTS1RPUF9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTAgNS45OGMwLTEuODUgMC0yLjc3NS4zOTQtMy40NjZhMyAzIDAgMCAxIDEuMTItMS4xMkMyLjIwNCAxIDMuMTMgMSA0Ljk4IDFoNi4wNGMxLjg1IDAgMi43NzUgMCAzLjQ2Ni4zOTRhMyAzIDAgMCAxIDEuMTIgMS4xMkMxNiAzLjIwNCAxNiA0LjEzIDE2IDUuOTh2MS4wNGMwIDEuODUgMCAyLjc3NS0uMzk0IDMuNDY2YTMgMyAwIDAgMS0xLjEyIDEuMTJDMTMuNzk2IDEyIDEyLjg3IDEyIDExLjAyIDEySDQuOThjLTEuODUgMC0yLjc3NSAwLTMuNDY2LS4zOTRhMyAzIDAgMCAxLTEuMTItMS4xMkMwIDkuNzk2IDAgOC44NyAwIDcuMDJWNS45OFpNNC45OCAyLjVoNi4wNGMuOTUzIDAgMS41NjguMDAxIDIuMDM0LjA0My40NDYuMDQuNjA4LjEwOC42OS4xNTRhMS41IDEuNSAwIDAgMSAuNTU5LjU2Yy4wNDYuMDguMTE0LjI0My4xNTQuNjkuMDQyLjQ2NS4wNDMgMS4wOC4wNDMgMi4wMzN2MS4wNGMwIC45NTItLjAwMSAxLjU2OC0uMDQzIDIuMDM0LS4wNC40NDYtLjEwOC42MDgtLjE1NC42OWExLjQ5OSAxLjQ5OSAwIDAgMS0uNTYuNTU5Yy0uMDguMDQ2LS4yNDMuMTE0LS42OS4xNTQtLjQ2Ni4wNDItMS4wOC4wNDMtMi4wMzMuMDQzSDQuOThjLS45NTIgMC0xLjU2OC0uMDAxLTIuMDM0LS4wNDMtLjQ0Ni0uMDQtLjYwOC0uMTA4LS42OS0uMTU0YTEuNSAxLjUgMCAwIDEtLjU1OS0uNTZjLS4wNDYtLjA4LS4xMTQtLjI0My0uMTU0LS42OS0uMDQyLS40NjUtLjA0My0xLjA4LS4wNDMtMi4wMzNWNS45OGMwLS45NTIuMDAxLTEuNTY4LjA0My0yLjAzNC4wNC0uNDQ2LjEwOC0uNjA4LjE1NC0uNjlhMS41IDEuNSAwIDAgMSAuNTYtLjU1OWMuMDgtLjA0Ni4yNDMtLjExNC42OS0uMTU0LjQ2NS0uMDQyIDEuMDgtLjA0MyAyLjAzMy0uMDQzWlwiIGZpbGw9XCIjZmZmXCIvPjxwYXRoIGQ9XCJNNCAxNC4yNWEuNzUuNzUgMCAwIDEgLjc1LS43NWg2LjVhLjc1Ljc1IDAgMCAxIDAgMS41aC02LjVhLjc1Ljc1IDAgMCAxLS43NS0uNzVaXCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcbiAgTU9CSUxFX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj48cGF0aCBkPVwiTTYuNzUgNWExLjI1IDEuMjUgMCAxIDAgMC0yLjUgMS4yNSAxLjI1IDAgMCAwIDAgMi41WlwiIGZpbGw9XCIjZmZmXCIvPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0zIDQuOThjMC0xLjg1IDAtMi43NzUuMzk0LTMuNDY2YTMgMyAwIDAgMSAxLjEyLTEuMTJDNS4yMDQgMCA2LjEzNiAwIDggMHMyLjc5NSAwIDMuNDg2LjM5NGEzIDMgMCAwIDEgMS4xMiAxLjEyQzEzIDIuMjA0IDEzIDMuMTMgMTMgNC45OHY2LjA0YzAgMS44NSAwIDIuNzc1LS4zOTQgMy40NjZhMyAzIDAgMCAxLTEuMTIgMS4xMkMxMC43OTYgMTYgOS44NjQgMTYgOCAxNnMtMi43OTUgMC0zLjQ4Ni0uMzk0YTMgMyAwIDAgMS0xLjEyLTEuMTJDMyAxMy43OTYgMyAxMi44NyAzIDExLjAyVjQuOThabTguNSAwdjYuMDRjMCAuOTUzLS4wMDEgMS41NjgtLjA0MyAyLjAzNC0uMDQuNDQ2LS4xMDguNjA4LS4xNTQuNjlhMS40OTkgMS40OTkgMCAwIDEtLjU2LjU1OWMtLjA4LjA0NS0uMjQyLjExMy0uNjkzLjE1NC0uNDcuMDQyLTEuMDkxLjA0My0yLjA1LjA0My0uOTU5IDAtMS41OC0uMDAxLTIuMDUtLjA0My0uNDUtLjA0LS42MTMtLjEwOS0uNjkzLS4xNTRhMS41IDEuNSAwIDAgMS0uNTYtLjU2Yy0uMDQ2LS4wOC0uMTE0LS4yNDMtLjE1NC0uNjktLjA0Mi0uNDY2LS4wNDMtMS4wOC0uMDQzLTIuMDMzVjQuOThjMC0uOTUyLjAwMS0xLjU2OC4wNDMtMi4wMzQuMDQtLjQ0Ni4xMDgtLjYwOC4xNTQtLjY5YTEuNSAxLjUgMCAwIDEgLjU2LS41NTljLjA4LS4wNDUuMjQzLS4xMTMuNjkzLS4xNTRDNi40MiAxLjUwMSA3LjA0MSAxLjUgOCAxLjVjLjk1OSAwIDEuNTguMDAxIDIuMDUuMDQzLjQ1LjA0LjYxMy4xMDkuNjkzLjE1NGExLjUgMS41IDAgMCAxIC41Ni41NmMuMDQ2LjA4LjExNC4yNDMuMTU0LjY5LjA0Mi40NjUuMDQzIDEuMDguMDQzIDIuMDMzWlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIEFSUk9XX0RPV05fSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgdmlld0JveD1cIjAgMCAxNCAxNFwiPjxwYXRoIGQ9XCJNMi4yOCA3LjQ3YS43NS43NSAwIDAgMC0xLjA2IDEuMDZsNS4yNSA1LjI1YS43NS43NSAwIDAgMCAxLjA2IDBsNS4yNS01LjI1YS43NS43NSAwIDAgMC0xLjA2LTEuMDZsLTMuNTQ0IDMuNTQzYS4yNS4yNSAwIDAgMS0uNDI2LS4xNzdWLjc1YS43NS43NSAwIDAgMC0xLjUgMHYxMC4wODZhLjI1LjI1IDAgMCAxLS40MjcuMTc2TDIuMjggNy40N1pcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBBUlJPV19VUF9SSUdIVF9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjE1XCIgaGVpZ2h0PVwiMTRcIiBmaWxsPVwibm9uZVwiPjxwYXRoIGQ9XCJNNC41IDEuNzVBLjc1Ljc1IDAgMCAxIDUuMjUgMUgxMmExLjUgMS41IDAgMCAxIDEuNSAxLjV2Ni43NWEuNzUuNzUgMCAwIDEtMS41IDBWNC4xNjRhLjI1LjI1IDAgMCAwLS40MjctLjE3Nkw0LjA2MSAxMS41QS43NS43NSAwIDAgMSAzIDEwLjQ0bDcuNTEzLTcuNTEzYS4yNS4yNSAwIDAgMC0uMTc3LS40MjdINS4yNWEuNzUuNzUgMCAwIDEtLjc1LS43NVpcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBBUlJPV19SSUdIVF9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjZcIiBoZWlnaHQ9XCIxNFwiIHZpZXdCb3g9XCIwIDAgNiAxNFwiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0yLjE4MSAxLjA5OWEuNzUuNzUgMCAwIDEgMS4wMjQuMjc5bDIuNDMzIDQuMjU4YTIuNzUgMi43NSAwIDAgMSAwIDIuNzI5bC0yLjQzMyA0LjI1N2EuNzUuNzUgMCAxIDEtMS4zMDMtLjc0NEw0LjMzNSA3LjYyYTEuMjUgMS4yNSAwIDAgMCAwLTEuMjRMMS45MDIgMi4xMjJhLjc1Ljc1IDAgMCAxIC4yOC0xLjAyM1pcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBRUkNPREVfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIyNVwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNSAyNFwiPjxwYXRoIGQ9XCJNMjMuNzQ4IDlhLjc0OC43NDggMCAwIDAgLjc0OC0uNzUyYy0uMDE4LTIuNTk2LS4xMjgtNC4wNy0uNzg0LTUuMjJhNiA2IDAgMCAwLTIuMjQtMi4yNGMtMS4xNS0uNjU2LTIuNjI0LS43NjYtNS4yMi0uNzg0YS43NDguNzQ4IDAgMCAwLS43NTIuNzQ4YzAgLjQxNC4zMzUuNzQ5Ljc0OC43NTIgMS4wMTUuMDA3IDEuODIuMDI4IDIuNDk0LjA4OC45OTUuMDkgMS41NjEuMjU2IDEuOTg4LjUuNy4zOTggMS4yOC45NzggMS42NzkgMS42NzguMjQzLjQyNy40MS45OTMuNDk4IDEuOTg4LjA2MS42NzUuMDgyIDEuNDc5LjA5IDIuNDkzYS43NTMuNzUzIDAgMCAwIC43NS43NDlaTTMuNTI3Ljc4OEM0LjY3Ny4xMzIgNi4xNTIuMDIyIDguNzQ3LjAwNEEuNzQ4Ljc0OCAwIDAgMSA5LjUuNzUyYS43NTMuNzUzIDAgMCAxLS43NDkuNzUyYy0xLjAxNC4wMDctMS44MTguMDI4LTIuNDkzLjA4OC0uOTk1LjA5LTEuNTYxLjI1Ni0xLjk4OC41LS43LjM5OC0xLjI4Ljk3OC0xLjY3OSAxLjY3OC0uMjQzLjQyNy0uNDEuOTkzLS40OTkgMS45ODgtLjA2LjY3NS0uMDgxIDEuNDc5LS4wODggMi40OTNBLjc1My43NTMgMCAwIDEgMS4yNTIgOWEuNzQ4Ljc0OCAwIDAgMS0uNzQ4LS43NTJjLjAxOC0yLjU5Ni4xMjgtNC4wNy43ODQtNS4yMmE2IDYgMCAwIDEgMi4yNC0yLjI0Wk0xLjI1MiAxNWEuNzQ4Ljc0OCAwIDAgMC0uNzQ4Ljc1MmMuMDE4IDIuNTk2LjEyOCA0LjA3Ljc4NCA1LjIyYTYgNiAwIDAgMCAyLjI0IDIuMjRjMS4xNS42NTYgMi42MjQuNzY2IDUuMjIuNzg0YS43NDguNzQ4IDAgMCAwIC43NTItLjc0OC43NTMuNzUzIDAgMCAwLS43NDktLjc1MmMtMS4wMTQtLjAwNy0xLjgxOC0uMDI4LTIuNDkzLS4wODktLjk5NS0uMDg5LTEuNTYxLS4yNTUtMS45ODgtLjQ5OGE0LjUgNC41IDAgMCAxLTEuNjc5LTEuNjhjLS4yNDMtLjQyNi0uNDEtLjk5Mi0uNDk5LTEuOTg3LS4wNi0uNjc1LS4wODEtMS40NzktLjA4OC0yLjQ5M0EuNzUzLjc1MyAwIDAgMCAxLjI1MiAxNVpNMjIuOTk2IDE1Ljc0OWEuNzUzLjc1MyAwIDAgMSAuNzUyLS43NDljLjQxNSAwIC43NTEuMzM4Ljc0OC43NTItLjAxOCAyLjU5Ni0uMTI4IDQuMDctLjc4NCA1LjIyYTYgNiAwIDAgMS0yLjI0IDIuMjRjLTEuMTUuNjU2LTIuNjI0Ljc2Ni01LjIyLjc4NGEuNzQ4Ljc0OCAwIDAgMS0uNzUyLS43NDhjMC0uNDE0LjMzNS0uNzQ5Ljc0OC0uNzUyIDEuMDE1LS4wMDcgMS44Mi0uMDI4IDIuNDk0LS4wODkuOTk1LS4wODkgMS41NjEtLjI1NSAxLjk4OC0uNDk4YTQuNSA0LjUgMCAwIDAgMS42NzktMS42OGMuMjQzLS40MjYuNDEtLjk5Mi40OTgtMS45ODcuMDYxLS42NzUuMDgyLTEuNDc5LjA5LTIuNDkzWlwiIGZpbGw9XCIjZmZmXCIvPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk03IDRhMi41IDIuNSAwIDAgMC0yLjUgMi41djJBMi41IDIuNSAwIDAgMCA3IDExaDJhMi41IDIuNSAwIDAgMCAyLjUtMi41di0yQTIuNSAyLjUgMCAwIDAgOSA0SDdabTIgMS41SDdhMSAxIDAgMCAwLTEgMXYyYTEgMSAwIDAgMCAxIDFoMmExIDEgMCAwIDAgMS0xdi0yYTEgMSAwIDAgMC0xLTFaTTEzLjUgNi41QTIuNSAyLjUgMCAwIDEgMTYgNGgyYTIuNSAyLjUgMCAwIDEgMi41IDIuNXYyQTIuNSAyLjUgMCAwIDEgMTggMTFoLTJhMi41IDIuNSAwIDAgMS0yLjUtMi41di0yWm0yLjUtMWgyYTEgMSAwIDAgMSAxIDF2MmExIDEgMCAwIDEtMSAxaC0yYTEgMSAwIDAgMS0xLTF2LTJhMSAxIDAgMCAxIDEtMVpNNyAxM2EyLjUgMi41IDAgMCAwLTIuNSAyLjV2MkEyLjUgMi41IDAgMCAwIDcgMjBoMmEyLjUgMi41IDAgMCAwIDIuNS0yLjV2LTJBMi41IDIuNSAwIDAgMCA5IDEzSDdabTIgMS41SDdhMSAxIDAgMCAwLTEgMXYyYTEgMSAwIDAgMCAxIDFoMmExIDEgMCAwIDAgMS0xdi0yYTEgMSAwIDAgMC0xLTFaXCIgZmlsbD1cIiNmZmZcIi8+PHBhdGggZD1cIk0xMy41IDE1LjVjMC0uNDY1IDAtLjY5Ny4wMzgtLjg5YTIgMiAwIDAgMSAxLjU3Mi0xLjU3MkMxNS4zMDMgMTMgMTUuNTM1IDEzIDE2IDEzdjIuNWgtMi41Wk0xOCAxM2MuNDY1IDAgLjY5NyAwIC44OS4wMzhhMiAyIDAgMCAxIDEuNTcyIDEuNTcyYy4wMzguMTkzLjAzOC40MjUuMDM4Ljg5SDE4VjEzWk0xOCAxNy41aDIuNWMwIC40NjUgMCAuNjk3LS4wMzguODlhMiAyIDAgMCAxLTEuNTcyIDEuNTcyQzE4LjY5NyAyMCAxOC40NjUgMjAgMTggMjB2LTIuNVpNMTMuNSAxNy41SDE2VjIwYy0uNDY1IDAtLjY5NyAwLS44OS0uMDM4YTIgMiAwIDAgMS0xLjU3Mi0xLjU3MmMtLjAzOC0uMTkzLS4wMzgtLjQyNS0uMDM4LS44OVpcIiBmaWxsPVwiI2ZmZlwiLz48L3N2Zz5gLFxuICBTQ0FOX0lDT046IHN2Z2A8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGw9XCJub25lXCI+PHBhdGggZmlsbD1cIiNmZmZcIiBkPVwiTTEwIDE1LjIxNmMwIC40MjIuMzQ3Ljc2My43NjguNzQgMS4yMDItLjA2NCAyLjAyNS0uMjIyIDIuNzEtLjYxM2E1LjAwMSA1LjAwMSAwIDAgMCAxLjg2NS0xLjg2NmMuMzktLjY4NC41NDktMS41MDcuNjEzLTIuNzA5YS43MzUuNzM1IDAgMCAwLS43NC0uNzY4Ljc2OC43NjggMCAwIDAtLjc2LjczMmMtLjAwOS4xNTctLjAyLjMwNi0uMDMyLjQ0Ny0uMDczLjgxMi0uMjA2IDEuMjQ0LS4zODQgMS41NTUtLjMxLjU0NS0uNzYxLjk5Ni0xLjMwNiAxLjMwNi0uMzExLjE3OC0uNzQzLjMxMS0xLjU1NS4zODQtLjE0MS4wMTMtLjI5LjAyMy0uNDQ3LjAzMmEuNzY4Ljc2OCAwIDAgMC0uNzMyLjc2Wk0xMCAuNzg0YzAgLjQwNy4zMjUuNzM3LjczMi43Ni4xNTcuMDA5LjMwNi4wMi40NDcuMDMyLjgxMi4wNzMgMS4yNDQuMjA2IDEuNTU1LjM4NGEzLjUgMy41IDAgMCAxIDEuMzA2IDEuMzA2Yy4xNzguMzExLjMxMS43NDMuMzg0IDEuNTU1LjAxMy4xNDIuMDIzLjI5LjAzMi40NDdhLjc2OC43NjggMCAwIDAgLjc2LjczMi43MzQuNzM0IDAgMCAwIC43NC0uNzY4Yy0uMDY0LTEuMjAyLS4yMjItMi4wMjUtLjYxMy0yLjcxQTUgNSAwIDAgMCAxMy40NzcuNjU4Yy0uNjg0LS4zOS0xLjUwNy0uNTQ5LTIuNzA5LS42MTNhLjczNS43MzUgMCAwIDAtLjc2OC43NFpNNS4yMzIuMDQ0QS43MzUuNzM1IDAgMCAxIDYgLjc4NGEuNzY4Ljc2OCAwIDAgMS0uNzMyLjc2Yy0uMTU3LjAwOS0uMzA1LjAyLS40NDcuMDMyLS44MTIuMDczLTEuMjQ0LjIwNi0xLjU1NS4zODRBMy41IDMuNSAwIDAgMCAxLjk2IDMuMjY2Yy0uMTc4LjMxMS0uMzExLjc0My0uMzg0IDEuNTU1LS4wMTMuMTQyLS4wMjMuMjktLjAzMi40NDdBLjc2OC43NjggMCAwIDEgLjc4NCA2YS43MzUuNzM1IDAgMCAxLS43NC0uNzY4Yy4wNjQtMS4yMDIuMjIyLTIuMDI1LjYxMy0yLjcxQTUgNSAwIDAgMSAyLjUyMy42NThDMy4yMDcuMjY3IDQuMDMuMTA4IDUuMjMzLjA0NFpNNS4yNjggMTQuNDU2YS43NjguNzY4IDAgMCAxIC43MzIuNzYuNzM0LjczNCAwIDAgMS0uNzY4Ljc0Yy0xLjIwMi0uMDY0LTIuMDI1LS4yMjItMi43MS0uNjEzYTUgNSAwIDAgMS0xLjg2NS0xLjg2NmMtLjM5LS42ODQtLjU0OS0xLjUwNy0uNjEzLTIuNzA5QS43MzUuNzM1IDAgMCAxIC43ODQgMTBjLjQwNyAwIC43MzcuMzI1Ljc2LjczMi4wMDkuMTU3LjAyLjMwNi4wMzIuNDQ3LjA3My44MTIuMjA2IDEuMjQ0LjM4NCAxLjU1NWEzLjUgMy41IDAgMCAwIDEuMzA2IDEuMzA2Yy4zMTEuMTc4Ljc0My4zMTEgMS41NTUuMzg0LjE0Mi4wMTMuMjkuMDIzLjQ0Ny4wMzJaXCIvPjwvc3ZnPmAsXG4gIENIRUNLTUFSS19JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjEzXCIgaGVpZ2h0PVwiMTJcIiB2aWV3Qm94PVwiMCAwIDEzIDEyXCI+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEyLjE1NS4xMzJhLjc1Ljc1IDAgMCAxIC4yMzIgMS4wMzVMNS44MjEgMTEuNTM1YTEgMSAwIDAgMS0xLjYyNi4wOUwuNjY1IDcuMjFhLjc1Ljc1IDAgMSAxIDEuMTctLjkzN0w0LjcxIDkuODY3YS4yNS4yNSAwIDAgMCAuNDA2LS4wMjNMMTEuMTIuMzY0YS43NS43NSAwIDAgMSAxLjAzNS0uMjMyWlwiIGZpbGw9XCIjZmZmXCIvPjwvc3ZnPmAsXG4gIFNFQVJDSF9JQ09OOiBzdmdgPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjFcIj48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTIuNDMyIDEzLjk5MmMtLjM1NC0uMzUzLS45MS0uMzgyLTEuMzUtLjE0NmE1LjUgNS41IDAgMSAxIDIuMjY1LTIuMjY1Yy0uMjM3LjQ0MS0uMjA4Ljk5Ny4xNDUgMS4zNWwzLjI5NiAzLjI5NmEuNzUuNzUgMCAxIDEtMS4wNiAxLjA2MWwtMy4yOTYtMy4yOTZabS4wNi01YTQgNCAwIDEgMS04IDAgNCA0IDAgMCAxIDggMFpcIiBmaWxsPVwiIzk0OUU5RVwiLz48L3N2Zz5gLFxuICBXQUxMRVRfUExBQ0VIT0xERVI6IHN2Z2A8c3ZnIHdpZHRoPVwiNjBcIiBoZWlnaHQ9XCI2MFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCA2MCA2MFwiPjxnIGNsaXAtcGF0aD1cInVybCgjcSlcIj48cGF0aCBpZD1cIndhbGxldC1wbGFjZWhvbGRlci1maWxsXCIgZmlsbD1cIiNmZmZcIiBkPVwiTTAgMjQuOWMwLTkuMjUxIDAtMTMuODc3IDEuOTctMTcuMzMyYTE1IDE1IDAgMCAxIDUuNTk4LTUuNTk3QzExLjAyMyAwIDE1LjY0OCAwIDI0LjkgMGgxMC4yYzkuMjUyIDAgMTMuODc3IDAgMTcuMzMyIDEuOTdhMTUgMTUgMCAwIDEgNS41OTcgNS41OThDNjAgMTEuMDIzIDYwIDE1LjY0OCA2MCAyNC45djEwLjJjMCA5LjI1MiAwIDEzLjg3Ny0xLjk3IDE3LjMzMmExNS4wMDEgMTUuMDAxIDAgMCAxLTUuNTk4IDUuNTk3QzQ4Ljk3NyA2MCA0NC4zNTIgNjAgMzUuMSA2MEgyNC45Yy05LjI1MSAwLTEzLjg3NyAwLTE3LjMzMi0xLjk3YTE1IDE1IDAgMCAxLTUuNTk3LTUuNTk4QzAgNDguOTc3IDAgNDQuMzUyIDAgMzUuMVYyNC45WlwiLz48cGF0aCBpZD1cIndhbGxldC1wbGFjZWhvbGRlci1kYXNoXCIgc3Ryb2tlPVwiIzAwMFwiIHN0cm9rZS1kYXNoYXJyYXk9XCI0IDRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBkPVwiTS4wNCA0MS43MDhhMjMxLjU5OCAyMzEuNTk4IDAgMCAxLS4wMzktNC40MDNsLjc1LS4wMDFMLjc1IDM1LjF2LTIuNTVIMHYtNS4xaC43NVYyNC45bC4wMDEtMi4yMDRoLS43NWMuMDAzLTEuNjE3LjAxMS0zLjA3Ny4wMzktNC40MDRsLjc1LjAxNmMuMDM0LTEuNjUuMDk5LTMuMDguMjE4LTQuMzQzbC0uNzQ2LS4wN2MuMTU4LTEuNjc4LjQxMi0zLjA4My44Mi00LjMxNmwuNzEzLjIzNmMuMjI0LS42NzkuNDk3LTEuMjk2LjgyNy0xLjg3NWExNC4yNSAxNC4yNSAwIDAgMSAxLjA1LTEuNTg1TDMuMDc2IDUuOUExNSAxNSAwIDAgMSA1LjkgMy4wNzZsLjQ1NS41OTZhMTQuMjUgMTQuMjUgMCAwIDEgMS41ODUtMS4wNWMuNTc5LS4zMyAxLjE5Ni0uNjAzIDEuODc1LS44MjdsLS4yMzYtLjcxMkMxMC44MTIuNjc0IDEyLjIxNy40MiAxMy44OTUuMjYybC4wNy43NDZDMTUuMjMuODkgMTYuNjYuODI0IDE4LjMwOC43OWwtLjAxNi0uNzVDMTkuNjIuMDEyIDIxLjA4LjAwNCAyMi42OTUuMDAxbC4wMDEuNzVMMjQuOS43NWgyLjU1VjBoNS4xdi43NWgyLjU1bDIuMjA0LjAwMXYtLjc1YzEuNjE3LjAwMyAzLjA3Ny4wMTEgNC40MDQuMDM5bC0uMDE2Ljc1YzEuNjUuMDM0IDMuMDguMDk5IDQuMzQzLjIxOGwuMDctLjc0NmMxLjY3OC4xNTggMy4wODMuNDEyIDQuMzE2LjgybC0uMjM2LjcxM2MuNjc5LjIyNCAxLjI5Ni40OTcgMS44NzUuODI3YTE0LjI0IDE0LjI0IDAgMCAxIDEuNTg1IDEuMDVsLjQ1NS0uNTk2QTE0Ljk5OSAxNC45OTkgMCAwIDEgNTYuOTI0IDUuOWwtLjU5Ni40NTVjLjM4NC41MDIuNzM1IDEuMDMyIDEuMDUgMS41ODUuMzMuNTc5LjYwMiAxLjE5Ni44MjcgMS44NzVsLjcxMi0uMjM2Yy40MDkgMS4yMzMuNjYzIDIuNjM4LjgyMiA0LjMxNmwtLjc0Ny4wN2MuMTE5IDEuMjY0LjE4NCAyLjY5NC4yMTggNC4zNDNsLjc1LS4wMTZjLjAyOCAxLjMyNy4wMzYgMi43ODcuMDM5IDQuNDAzbC0uNzUuMDAxLjAwMSAyLjIwNHYyLjU1SDYwdjUuMWgtLjc1djIuNTVsLS4wMDEgMi4yMDRoLjc1YTIzMS40MzEgMjMxLjQzMSAwIDAgMS0uMDM5IDQuNDA0bC0uNzUtLjAxNmMtLjAzNCAxLjY1LS4wOTkgMy4wOC0uMjE4IDQuMzQzbC43NDcuMDdjLS4xNTkgMS42NzgtLjQxMyAzLjA4My0uODIyIDQuMzE2bC0uNzEyLS4yMzZhMTAuMjU1IDEwLjI1NSAwIDAgMS0uODI3IDEuODc1IDE0LjI0MiAxNC4yNDIgMCAwIDEtMS4wNSAxLjU4NWwuNTk2LjQ1NWExNC45OTcgMTQuOTk3IDAgMCAxLTIuODI0IDIuODI0bC0uNDU1LS41OTZjLS41MDIuMzg0LTEuMDMyLjczNS0xLjU4NSAxLjA1LS41NzkuMzMtMS4xOTYuNjAyLTEuODc1LjgyN2wuMjM2LjcxMmMtMS4yMzMuNDA5LTIuNjM4LjY2My00LjMxNi44MjJsLS4wNy0uNzQ3Yy0xLjI2NC4xMTktMi42OTQuMTg0LTQuMzQzLjIxOGwuMDE2Ljc1Yy0xLjMyNy4wMjgtMi43ODcuMDM2LTQuNDAzLjAzOWwtLjAwMS0uNzUtMi4yMDQuMDAxaC0yLjU1VjYwaC01LjF2LS43NUgyNC45bC0yLjIwNC0uMDAxdi43NWEyMzEuNDMxIDIzMS40MzEgMCAwIDEtNC40MDQtLjAzOWwuMDE2LS43NWMtMS42NS0uMDM0LTMuMDgtLjA5OS00LjM0My0uMjE4bC0uMDcuNzQ3Yy0xLjY3OC0uMTU5LTMuMDgzLS40MTMtNC4zMTYtLjgyMmwuMjM2LS43MTJhMTAuMjU4IDEwLjI1OCAwIDAgMS0xLjg3NS0uODI3IDE0LjI1MiAxNC4yNTIgMCAwIDEtMS41ODUtMS4wNWwtLjQ1NS41OTZBMTQuOTk5IDE0Ljk5OSAwIDAgMSAzLjA3NiA1NC4xbC41OTYtLjQ1NWExNC4yNCAxNC4yNCAwIDAgMS0xLjA1LTEuNTg1IDEwLjI1OSAxMC4yNTkgMCAwIDEtLjgyNy0xLjg3NWwtLjcxMi4yMzZDLjY3NCA0OS4xODguNDIgNDcuNzgzLjI2MiA0Ni4xMDVsLjc0Ni0uMDdDLjg5IDQ0Ljc3LjgyNCA0My4zNC43OSA0MS42OTJsLS43NS4wMTZaXCIvPjxwYXRoIGZpbGw9XCIjZmZmXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMzUuNjQzIDMyLjE0NWMtLjI5Ny0uNzQzLS40NDUtMS4xMTQtLjQwMS0xLjI3NWEuNDIuNDIgMCAwIDEgLjE4Mi0uMjdjLjEzNC0uMS40NjMtLjEgMS4xMjMtLjEuNzQyIDAgMS40OTkuMDQ2IDIuMjM2LS4wNWE2IDYgMCAwIDAgNS4xNjYtNS4xNjZjLjA1MS0uMzkuMDUxLS44NTUuMDUxLTEuNzg0IDAtLjkyOCAwLTEuMzkzLS4wNTEtMS43ODNhNiA2IDAgMCAwLTUuMTY2LTUuMTY1Yy0uMzktLjA1Mi0uODU0LS4wNTItMS43ODMtLjA1MmgtNy43MmMtNC45MzQgMC03LjQwMSAwLTkuMjQ0IDEuMDUxYTggOCAwIDAgMC0yLjk4NSAyLjk4NkMxNi4wNTcgMjIuMjggMTYuMDAzIDI0LjU4IDE2IDI5IDE1Ljk5OCAzMS4wNzUgMTYgMzMuMTUgMTYgMzUuMjI0QTcuNzc4IDcuNzc4IDAgMCAwIDIzLjc3OCA0M0gyOC41YzEuMzk0IDAgMi4wOSAwIDIuNjctLjExNmE2IDYgMCAwIDAgNC43MTUtNC43MTRjLjExNS0uNTguMTE1LTEuMzAxLjExNS0yLjc0NCAwLTEuMzEgMC0xLjk2NC0uMTE0LTIuNDlhNC45OTggNC45OTggMCAwIDAtLjI0My0uNzkyWlwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIi8+PHBhdGggZmlsbD1cIiM5RUE5QTlcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0zNyAxOGgtNy43MmMtMi40OTQgMC00LjI2Ni4wMDItNS42NDcuMTI2LTEuMzYxLjEyMi0yLjE5Ny4zNTQtMi44NTQuNzI4YTYuNSA2LjUgMCAwIDAtMi40MjUgMi40MjZjLS4zNzUuNjU3LS42MDcgMS40OTItLjcyOSAyLjg1My0uMTEgMS4yMzMtLjEyMyAyLjc3Ny0uMTI1IDQuODY3IDAgLjcgMCAxLjA1LjA5NyAxLjE4MS4wOTYuMTMuMTgyLjE4MS4zNDMuMi4xNjMuMDIuNTE4LS4xOCAxLjIyOS0uNTgxYTYuMTk1IDYuMTk1IDAgMCAxIDMuMDUzLS44SDM3Yy45NzcgMCAxLjMyLS4wMDMgMS41ODctLjAzOGE0LjUgNC41IDAgMCAwIDMuODc0LTMuODc0Yy4wMzYtLjI2OC4wMzktLjYxMS4wMzktMS41ODggMC0uOTc2LS4wMDMtMS4zMTktLjAzOC0xLjU4N2E0LjUgNC41IDAgMCAwLTMuODc1LTMuODc0QzM4LjMyIDE4LjAwNCAzNy45NzcgMTggMzcgMThabS03LjM2NCAxMi41aC03LjQxNGE0LjcyMiA0LjcyMiAwIDAgMC00LjcyMiA0LjcyMyA2LjI3OCA2LjI3OCAwIDAgMCA2LjI3OCA2LjI3OEgyOC41YzEuNDY2IDAgMS45OC0uMDA4IDIuMzc4LS4wODdhNC41IDQuNSAwIDAgMCAzLjUzNS0zLjUzNmMuMDgtLjM5Ny4wODctLjkzMy4wODctMi40NTEgMC0xLjM5MS0uMDA5LTEuODQzLS4wOC0yLjE3YTMuNSAzLjUgMCAwIDAtMi42NzYtMi42NzZjLS4zMjgtLjA3Mi0uNzYyLS4wOC0yLjEwOC0uMDhaXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPVwicVwiPjxwYXRoIGZpbGw9XCIjZmZmXCIgZD1cIk0wIDBoNjB2NjBIMHpcIi8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+YCxcbiAgR0xPQkVfSUNPTjogc3ZnYDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+PHBhdGggZmlsbD1cIiNmZmZcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xNS41IDhhNy41IDcuNSAwIDEgMS0xNSAwIDcuNSA3LjUgMCAwIDEgMTUgMFptLTIuMTEzLjc1Yy4zMDEgMCAuNTM1LjI2NC40Ny41NThhNi4wMSA2LjAxIDAgMCAxLTIuODY3IDMuODk2Yy0uMjAzLjExNi0uNDItLjEwMy0uMzM0LS4zMi40MDktMS4wMTguNjkxLTIuMjc0Ljc5Ny0zLjY1N2EuNTEyLjUxMiAwIDAgMSAuNTA3LS40NzdoMS40MjdabS40Ny0yLjA1OGMuMDY1LjI5NC0uMTY5LjU1OC0uNDcuNTU4SDExLjk2YS41MTIuNTEyIDAgMCAxLS41MDctLjQ3N2MtLjEwNi0xLjM4My0uMzg5LTIuNjM4LS43OTctMy42NTYtLjA4Ny0uMjE3LjEzLS40MzcuMzMzLS4zMmE2LjAxIDYuMDEgMCAwIDEgMi44NjggMy44OTVabS00LjQwMi41NThjLjI4NiAwIC41MTUtLjI0LjQ5LS41MjUtLjEyMS0xLjM2MS0uNDI5LTIuNTM0LS44My0zLjM5My0uMjc5LS42LS41NDktLjkzLS43NTMtMS4xMTJhLjUzNS41MzUgMCAwIDAtLjcyNCAwYy0uMjA0LjE4Mi0uNDc0LjUxMy0uNzU0IDEuMTEyLS40Ljg1OS0uNzA4IDIuMDMyLS44MjggMy4zOTNhLjQ4Ni40ODYgMCAwIDAgLjQ5LjUyNWgyLjkwOVptLTUuNDE1IDBjLjI2NyAwIC40ODYtLjIxLjUwNy0uNDc3LjEwNi0xLjM4My4zODktMi42MzguNzk3LTMuNjU2LjA4Ny0uMjE3LS4xMy0uNDM3LS4zMzMtLjMyYTYuMDEgNi4wMSAwIDAgMC0yLjg2OCAzLjg5NWMtLjA2NS4yOTQuMTY5LjU1OC40Ny41NThINC4wNFpNMi4xNDMgOS4zMDhjLS4wNjUtLjI5NC4xNjktLjU1OC40Ny0uNTU4SDQuMDRjLjI2NyAwIC40ODYuMjEuNTA3LjQ3Ny4xMDYgMS4zODMuMzg5IDIuNjM5Ljc5NyAzLjY1Ny4wODcuMjE3LS4xMy40MzYtLjMzMy4zMmE2LjAxIDYuMDEgMCAwIDEtMi44NjgtMy44OTZabTMuOTEzLS4wMzNhLjQ4Ni40ODYgMCAwIDEgLjQ5LS41MjVoMi45MDljLjI4NiAwIC41MTUuMjQuNDkuNTI1LS4xMjEgMS4zNjEtLjQyOCAyLjUzNS0uODMgMy4zOTQtLjI3OS42LS41NDkuOTMtLjc1MyAxLjExMmEuNTM1LjUzNSAwIDAgMS0uNzI0IDBjLS4yMDQtLjE4Mi0uNDc0LS41MTMtLjc1NC0xLjExMi0uNC0uODU5LS43MDgtMi4wMzMtLjgyOC0zLjM5NFpcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPmBcbn07XG5cbmNvbnN0IHN0eWxlcyRxID0gY3NzYC53Y20tdG9vbGJhci1wbGFjZWhvbGRlcnt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDt3aWR0aDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7cG9pbnRlci1ldmVudHM6bm9uZTtoZWlnaHQ6MTAwcHg7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLXdjbS1iYWNrZ3JvdW5kLWJvcmRlci1yYWRpdXMpICogLjkpO2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWJhY2tncm91bmQtY29sb3IpO2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2JhY2tncm91bmQtc2l6ZTpjb3Zlcn0ud2NtLXRvb2xiYXJ7aGVpZ2h0OjM4cHg7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjo1cHggMTVweCA1cHggNXB4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcn0ud2NtLXRvb2xiYXIgaW1nLC53Y20tdG9vbGJhciBzdmd7aGVpZ2h0OjI4cHg7b2JqZWN0LXBvc2l0aW9uOmxlZnQgY2VudGVyO29iamVjdC1maXQ6Y29udGFpbn0jd2NtLXdjLWxvZ28gcGF0aHtmaWxsOnZhcigtLXdjbS1hY2NlbnQtZmlsbC1jb2xvcil9YnV0dG9ue3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20taWNvbi1idXR0b24tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyOjA7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTEpO2JveC1zaGFkb3c6MCAwIDAgMXB4IHZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1idXR0b246YWN0aXZle2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTIpfWJ1dHRvbiBzdmd7ZGlzcGxheTpibG9jaztvYmplY3QtcG9zaXRpb246Y2VudGVyfWJ1dHRvbiBwYXRoe2ZpbGw6dmFyKC0td2NtLWNvbG9yLWZnLTEpfS53Y20tdG9vbGJhciBkaXZ7ZGlzcGxheTpmbGV4fUBtZWRpYShob3Zlcjpob3Zlcil7YnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTIpfX1gO1xuXG52YXIgX19kZWZQcm9wJHUgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyR1ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkdSA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyR1KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCR1KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Nb2RhbEJhY2tjYXJkID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJ3Y20tdG9vbGJhci1wbGFjZWhvbGRlclwiPjwvZGl2PjxkaXYgY2xhc3M9XCJ3Y20tdG9vbGJhclwiPiR7U3ZnVXRpbC5XQUxMRVRfQ09OTkVDVF9MT0dPfSA8YnV0dG9uIEBjbGljaz1cIiR7TW9kYWxDdHJsLmNsb3NlfVwiPiR7U3ZnVXRpbC5DUk9TU19JQ09OfTwvYnV0dG9uPjwvZGl2PmA7XG4gIH1cbn07XG5XY21Nb2RhbEJhY2tjYXJkLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkcV07XG5XY21Nb2RhbEJhY2tjYXJkID0gX19kZWNvcmF0ZUNsYXNzJHUoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLW1vZGFsLWJhY2tjYXJkXCIpXG5dLCBXY21Nb2RhbEJhY2tjYXJkKTtcblxuY29uc3Qgc3R5bGVzJHAgPSBjc3NgbWFpbntwYWRkaW5nOjIwcHg7cGFkZGluZy10b3A6MDt3aWR0aDoxMDAlfWA7XG5cbnZhciBfX2RlZlByb3AkdCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJHQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyR0ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJHQodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJHQodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbU1vZGFsQ29udGVudCA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8bWFpbj48c2xvdD48L3Nsb3Q+PC9tYWluPmA7XG4gIH1cbn07XG5XY21Nb2RhbENvbnRlbnQuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRwXTtcbldjbU1vZGFsQ29udGVudCA9IF9fZGVjb3JhdGVDbGFzcyR0KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1tb2RhbC1jb250ZW50XCIpXG5dLCBXY21Nb2RhbENvbnRlbnQpO1xuXG5jb25zdCBzdHlsZXMkbyA9IGNzc2Bmb290ZXJ7cGFkZGluZzoxMHB4O2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6aW5oZXJpdDtqdXN0aWZ5LWNvbnRlbnQ6aW5oZXJpdDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS13Y20tY29sb3ItYmctMil9YDtcblxudmFyIF9fZGVmUHJvcCRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJHMgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2Mkcyh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3Akcyh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTW9kYWxGb290ZXIgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgPGZvb3Rlcj48c2xvdD48L3Nsb3Q+PC9mb290ZXI+YDtcbiAgfVxufTtcbldjbU1vZGFsRm9vdGVyLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkb107XG5XY21Nb2RhbEZvb3RlciA9IF9fZGVjb3JhdGVDbGFzcyRzKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1tb2RhbC1mb290ZXJcIilcbl0sIFdjbU1vZGFsRm9vdGVyKTtcblxuY29uc3Qgc3R5bGVzJG4gPSBjc3NgaGVhZGVye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjIwcHg7cG9zaXRpb246cmVsYXRpdmV9LndjbS1ib3JkZXJ7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0td2NtLWNvbG9yLWJnLTIpO21hcmdpbi1ib3R0b206MjBweH1oZWFkZXIgYnV0dG9ue3BhZGRpbmc6MTVweCAyMHB4fWhlYWRlciBidXR0b246YWN0aXZle29wYWNpdHk6LjV9QG1lZGlhKGhvdmVyOmhvdmVyKXtoZWFkZXIgYnV0dG9uOmhvdmVye29wYWNpdHk6LjV9fS53Y20tYmFjay1idG57cG9zaXRpb246YWJzb2x1dGU7bGVmdDowfS53Y20tYWN0aW9uLWJ0bntwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowfXBhdGh7ZmlsbDp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX1gO1xuXG52YXIgX19kZWZQcm9wJHIgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkciA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRyKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRyKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Nb2RhbEhlYWRlciA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy50aXRsZSA9IFwiXCI7XG4gICAgdGhpcy5vbkFjdGlvbiA9IHZvaWQgMDtcbiAgICB0aGlzLmFjdGlvbkljb24gPSB2b2lkIDA7XG4gICAgdGhpcy5ib3JkZXIgPSBmYWxzZTtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBiYWNrQnRuVGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGh0bWxgPGJ1dHRvbiBjbGFzcz1cIndjbS1iYWNrLWJ0blwiIEBjbGljaz1cIiR7Um91dGVyQ3RybC5nb0JhY2t9XCI+JHtTdmdVdGlsLkJBQ0tfSUNPTn08L2J1dHRvbj5gO1xuICB9XG4gIGFjdGlvbkJ0blRlbXBsYXRlKCkge1xuICAgIHJldHVybiBodG1sYDxidXR0b24gY2xhc3M9XCJ3Y20tYWN0aW9uLWJ0blwiIEBjbGljaz1cIiR7dGhpcy5vbkFjdGlvbn1cIj4ke3RoaXMuYWN0aW9uSWNvbn08L2J1dHRvbj5gO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgXCJ3Y20tYm9yZGVyXCI6IHRoaXMuYm9yZGVyXG4gICAgfTtcbiAgICBjb25zdCBiYWNrQnRuID0gUm91dGVyQ3RybC5zdGF0ZS5oaXN0b3J5Lmxlbmd0aCA+IDE7XG4gICAgY29uc3QgY29udGVudCA9IHRoaXMudGl0bGUgPyBodG1sYDx3Y20tdGV4dCB2YXJpYW50PVwiYmlnLWJvbGRcIj4ke3RoaXMudGl0bGV9PC93Y20tdGV4dD5gIDogaHRtbGA8c2xvdD48L3Nsb3Q+YDtcbiAgICByZXR1cm4gaHRtbGA8aGVhZGVyIGNsYXNzPVwiJHtjbGFzc01hcChjbGFzc2VzKX1cIj4ke2JhY2tCdG4gPyB0aGlzLmJhY2tCdG5UZW1wbGF0ZSgpIDogbnVsbH0gJHtjb250ZW50fSAke3RoaXMub25BY3Rpb24gPyB0aGlzLmFjdGlvbkJ0blRlbXBsYXRlKCkgOiBudWxsfTwvaGVhZGVyPmA7XG4gIH1cbn07XG5XY21Nb2RhbEhlYWRlci5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJG5dO1xuX19kZWNvcmF0ZUNsYXNzJHIoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21Nb2RhbEhlYWRlci5wcm90b3R5cGUsIFwidGl0bGVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkcihbXG4gIHByb3BlcnR5KClcbl0sIFdjbU1vZGFsSGVhZGVyLnByb3RvdHlwZSwgXCJvbkFjdGlvblwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRyKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtTW9kYWxIZWFkZXIucHJvdG90eXBlLCBcImFjdGlvbkljb25cIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkcihbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtTW9kYWxIZWFkZXIucHJvdG90eXBlLCBcImJvcmRlclwiLCAyKTtcbldjbU1vZGFsSGVhZGVyID0gX19kZWNvcmF0ZUNsYXNzJHIoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLW1vZGFsLWhlYWRlclwiKVxuXSwgV2NtTW9kYWxIZWFkZXIpO1xuXG5jb25zdCBVaVV0aWwgPSB7XG4gIE1PQklMRV9CUkVBS1BPSU5UOiA2MDAsXG4gIFdDTV9SRUNFTlRfV0FMTEVUX0RBVEE6IFwiV0NNX1JFQ0VOVF9XQUxMRVRfREFUQVwiLFxuICBFWFBMT1JFUl9XQUxMRVRfVVJMOiBcImh0dHBzOi8vZXhwbG9yZXIud2FsbGV0Y29ubmVjdC5jb20vP3R5cGU9d2FsbGV0XCIsXG4gIGdldFNoYWRvd1Jvb3RFbGVtZW50KHJvb3QsIHNlbGVjdG9yKSB7XG4gICAgY29uc3QgZWwgPSByb290LnJlbmRlclJvb3QucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgaWYgKCFlbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3NlbGVjdG9yfSBub3QgZm91bmRgKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xuICB9LFxuICBnZXRXYWxsZXRJY29uKHsgaWQsIGltYWdlX2lkIH0pIHtcbiAgICBjb25zdCB7IHdhbGxldEltYWdlcyB9ID0gQ29uZmlnQ3RybC5zdGF0ZTtcbiAgICBpZiAod2FsbGV0SW1hZ2VzID09IG51bGwgPyB2b2lkIDAgOiB3YWxsZXRJbWFnZXNbaWRdKSB7XG4gICAgICByZXR1cm4gd2FsbGV0SW1hZ2VzW2lkXTtcbiAgICB9IGVsc2UgaWYgKGltYWdlX2lkKSB7XG4gICAgICByZXR1cm4gRXhwbG9yZXJDdHJsLmdldFdhbGxldEltYWdlVXJsKGltYWdlX2lkKTtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0sXG4gIGdldFdhbGxldE5hbWUobmFtZSwgc2hvcnQgPSBmYWxzZSkge1xuICAgIHJldHVybiBzaG9ydCAmJiBuYW1lLmxlbmd0aCA+IDggPyBgJHtuYW1lLnN1YnN0cmluZygwLCA4KX0uLmAgOiBuYW1lO1xuICB9LFxuICBpc01vYmlsZUFuaW1hdGlvbigpIHtcbiAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPD0gVWlVdGlsLk1PQklMRV9CUkVBS1BPSU5UO1xuICB9LFxuICBhc3luYyBwcmVsb2FkSW1hZ2Uoc3JjKSB7XG4gICAgY29uc3QgaW1hZ2VQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltYWdlLm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICBpbWFnZS5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW2ltYWdlUHJvbWlzZSwgQ29yZVV0aWwud2FpdCgzZTMpXSk7XG4gIH0sXG4gIGdldEVycm9yTWVzc2FnZShlcnIpIHtcbiAgICByZXR1cm4gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiVW5rbm93biBFcnJvclwiO1xuICB9LFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBkZWJvdW5jZShmdW5jLCB0aW1lb3V0ID0gNTAwKSB7XG4gICAgbGV0IHRpbWVyID0gdm9pZCAwO1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgfVxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KG5leHQsIHRpbWVvdXQpO1xuICAgIH07XG4gIH0sXG4gIGhhbmRsZU1vYmlsZUxpbmtpbmcod2FsbGV0LCB0YXJnZXQgPSBcIl9zZWxmXCIpIHtcbiAgICBjb25zdCB7IHdhbGxldENvbm5lY3RVcmkgfSA9IE9wdGlvbnNDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHsgbW9iaWxlLCBuYW1lIH0gPSB3YWxsZXQ7XG4gICAgY29uc3QgbmF0aXZlVXJsID0gbW9iaWxlID09IG51bGwgPyB2b2lkIDAgOiBtb2JpbGUubmF0aXZlO1xuICAgIGNvbnN0IHVuaXZlcnNhbFVybCA9IG1vYmlsZSA9PSBudWxsID8gdm9pZCAwIDogbW9iaWxlLnVuaXZlcnNhbDtcbiAgICBVaVV0aWwuc2V0UmVjZW50V2FsbGV0KHdhbGxldCk7XG4gICAgZnVuY3Rpb24gb25SZWRpcmVjdCh1cmkpIHtcbiAgICAgIGlmIChuYXRpdmVVcmwpIHtcbiAgICAgICAgY29uc3QgaHJlZiA9IENvcmVVdGlsLmZvcm1hdE5hdGl2ZVVybChuYXRpdmVVcmwsIHVyaSwgbmFtZSk7XG4gICAgICAgIENvcmVVdGlsLm9wZW5IcmVmKGhyZWYsIHRhcmdldCk7XG4gICAgICB9IGVsc2UgaWYgKHVuaXZlcnNhbFVybCkge1xuICAgICAgICBjb25zdCBocmVmID0gQ29yZVV0aWwuZm9ybWF0VW5pdmVyc2FsVXJsKHVuaXZlcnNhbFVybCwgdXJpLCBuYW1lKTtcbiAgICAgICAgQ29yZVV0aWwub3BlbkhyZWYoaHJlZiwgdGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdhbGxldENvbm5lY3RVcmkpIHtcbiAgICAgIG9uUmVkaXJlY3Qod2FsbGV0Q29ubmVjdFVyaSk7XG4gICAgfVxuICB9LFxuICBoYW5kbGVBbmRyb2lkTGlua2luZygpIHtcbiAgICBjb25zdCB7IHdhbGxldENvbm5lY3RVcmkgfSA9IE9wdGlvbnNDdHJsLnN0YXRlO1xuICAgIGlmICh3YWxsZXRDb25uZWN0VXJpKSB7XG4gICAgICBDb3JlVXRpbC5zZXRXYWxsZXRDb25uZWN0QW5kcm9pZERlZXBMaW5rKHdhbGxldENvbm5lY3RVcmkpO1xuICAgICAgQ29yZVV0aWwub3BlbkhyZWYod2FsbGV0Q29ubmVjdFVyaSwgQ29yZVV0aWwuaXNUZWxlZ3JhbSgpID8gXCJfYmxhbmtcIiA6IFwiX3NlbGZcIik7XG4gICAgfVxuICB9LFxuICBhc3luYyBoYW5kbGVVcmlDb3B5KCkge1xuICAgIGNvbnN0IHsgd2FsbGV0Q29ubmVjdFVyaSB9ID0gT3B0aW9uc0N0cmwuc3RhdGU7XG4gICAgaWYgKHdhbGxldENvbm5lY3RVcmkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHdhbGxldENvbm5lY3RVcmkpO1xuICAgICAgICBUb2FzdEN0cmwub3BlblRvYXN0KFwiTGluayBjb3BpZWRcIiwgXCJzdWNjZXNzXCIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBUb2FzdEN0cmwub3BlblRvYXN0KFwiRmFpbGVkIHRvIGNvcHlcIiwgXCJlcnJvclwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGdldEN1c3RvbUltYWdlVXJscygpIHtcbiAgICBjb25zdCB7IHdhbGxldEltYWdlcyB9ID0gQ29uZmlnQ3RybC5zdGF0ZTtcbiAgICBjb25zdCB3YWxsZXRVcmxzID0gT2JqZWN0LnZhbHVlcyh3YWxsZXRJbWFnZXMgIT0gbnVsbCA/IHdhbGxldEltYWdlcyA6IHt9KTtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh3YWxsZXRVcmxzKTtcbiAgfSxcbiAgdHJ1bmNhdGUodmFsdWUsIHN0ckxlbiA9IDgpIHtcbiAgICBpZiAodmFsdWUubGVuZ3RoIDw9IHN0ckxlbikge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYCR7dmFsdWUuc3Vic3RyaW5nKDAsIDQpfS4uLiR7dmFsdWUuc3Vic3RyaW5nKHZhbHVlLmxlbmd0aCAtIDQpfWA7XG4gIH0sXG4gIHNldFJlY2VudFdhbGxldCh3YWxsZXQpIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVWlVdGlsLldDTV9SRUNFTlRfV0FMTEVUX0RBVEEsIEpTT04uc3RyaW5naWZ5KHdhbGxldCkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhcIlVuYWJsZSB0byBzZXQgcmVjZW50IHdhbGxldFwiKTtcbiAgICB9XG4gIH0sXG4gIGdldFJlY2VudFdhbGxldCgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgd2FsbGV0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVWlVdGlsLldDTV9SRUNFTlRfV0FMTEVUX0RBVEEpO1xuICAgICAgaWYgKHdhbGxldCkge1xuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZSh3YWxsZXQpO1xuICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5pbmZvKFwiVW5hYmxlIHRvIGdldCByZWNlbnQgd2FsbGV0XCIpO1xuICAgIH1cbiAgICByZXR1cm4gdm9pZCAwO1xuICB9LFxuICBjYXNlU2FmZUluY2x1ZGVzKHN0cjEsIHN0cjIpIHtcbiAgICByZXR1cm4gc3RyMS50b1VwcGVyQ2FzZSgpLmluY2x1ZGVzKHN0cjIudG9VcHBlckNhc2UoKSk7XG4gIH0sXG4gIG9wZW5XYWxsZXRFeHBsb3JlclVybCgpIHtcbiAgICBDb3JlVXRpbC5vcGVuSHJlZihVaVV0aWwuRVhQTE9SRVJfV0FMTEVUX1VSTCwgXCJfYmxhbmtcIik7XG4gIH0sXG4gIGdldENhY2hlZFJvdXRlcldhbGxldFBsYXRmb3JtcygpIHtcbiAgICBjb25zdCB7IGRlc2t0b3AsIG1vYmlsZSB9ID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIGNvbnN0IGlzRGVza3RvcCA9IEJvb2xlYW4oZGVza3RvcCA9PSBudWxsID8gdm9pZCAwIDogZGVza3RvcC5uYXRpdmUpO1xuICAgIGNvbnN0IGlzV2ViID0gQm9vbGVhbihkZXNrdG9wID09IG51bGwgPyB2b2lkIDAgOiBkZXNrdG9wLnVuaXZlcnNhbCk7XG4gICAgY29uc3QgaXNNb2JpbGUgPSBCb29sZWFuKG1vYmlsZSA9PSBudWxsID8gdm9pZCAwIDogbW9iaWxlLm5hdGl2ZSkgfHwgQm9vbGVhbihtb2JpbGUgPT0gbnVsbCA/IHZvaWQgMCA6IG1vYmlsZS51bml2ZXJzYWwpO1xuICAgIHJldHVybiB7IGlzRGVza3RvcCwgaXNNb2JpbGUsIGlzV2ViIH07XG4gIH0sXG4gIGdvVG9Db25uZWN0aW5nVmlldyh3YWxsZXQpIHtcbiAgICBSb3V0ZXJDdHJsLnNldERhdGEoeyBXYWxsZXQ6IHdhbGxldCB9KTtcbiAgICBjb25zdCBpc01vYmlsZURldmljZSA9IENvcmVVdGlsLmlzTW9iaWxlKCk7XG4gICAgY29uc3QgeyBpc0Rlc2t0b3AsIGlzV2ViLCBpc01vYmlsZSB9ID0gVWlVdGlsLmdldENhY2hlZFJvdXRlcldhbGxldFBsYXRmb3JtcygpO1xuICAgIGlmIChpc01vYmlsZURldmljZSkge1xuICAgICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAgIFJvdXRlckN0cmwucHVzaChcIk1vYmlsZUNvbm5lY3RpbmdcIik7XG4gICAgICAgIGlmICghQ29yZVV0aWwuaXNBbmRyb2lkKCkgJiYgQ29yZVV0aWwuaXNUZWxlZ3JhbSgpKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVNb2JpbGVMaW5raW5nKHdhbGxldCwgXCJfYmxhbmtcIik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNXZWIpIHtcbiAgICAgICAgUm91dGVyQ3RybC5wdXNoKFwiV2ViQ29ubmVjdGluZ1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFJvdXRlckN0cmwucHVzaChcIkluc3RhbGxXYWxsZXRcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0Rlc2t0b3ApIHtcbiAgICAgIFJvdXRlckN0cmwucHVzaChcIkRlc2t0b3BDb25uZWN0aW5nXCIpO1xuICAgIH0gZWxzZSBpZiAoaXNXZWIpIHtcbiAgICAgIFJvdXRlckN0cmwucHVzaChcIldlYkNvbm5lY3RpbmdcIik7XG4gICAgfSBlbHNlIGlmIChpc01vYmlsZSkge1xuICAgICAgUm91dGVyQ3RybC5wdXNoKFwiTW9iaWxlUXJjb2RlQ29ubmVjdGluZ1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUm91dGVyQ3RybC5wdXNoKFwiSW5zdGFsbFdhbGxldFwiKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHN0eWxlcyRtID0gY3NzYC53Y20tcm91dGVye292ZXJmbG93OmhpZGRlbjt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19LndjbS1jb250ZW50e2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59YDtcblxudmFyIF9fZGVmUHJvcCRxID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkcSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJHEgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkcSh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkcSh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtTW9kYWxSb3V0ZXIgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBsaWZlY3ljbGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMudmlldyA9IFJvdXRlckN0cmwuc3RhdGUudmlldztcbiAgICB0aGlzLnByZXZWaWV3ID0gUm91dGVyQ3RybC5zdGF0ZS52aWV3O1xuICAgIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gICAgdGhpcy51bnN1YnNjcmliZSA9IHZvaWQgMDtcbiAgICB0aGlzLm9sZEhlaWdodCA9IFwiMHB4XCI7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IHZvaWQgMDtcbiAgICB0aGlzLnVuc3Vic2NyaWJlID0gUm91dGVyQ3RybC5zdWJzY3JpYmUoKHJvdXRlclN0YXRlKSA9PiB7XG4gICAgICBpZiAodGhpcy52aWV3ICE9PSByb3V0ZXJTdGF0ZS52aWV3KSB7XG4gICAgICAgIHRoaXMub25DaGFuZ2VSb3V0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZpcnN0VXBkYXRlZCgpIHtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChbY29uZXRudF0pID0+IHtcbiAgICAgIGNvbnN0IG5ld0hlaWdodCA9IGAke2NvbmV0bnQuY29udGVudFJlY3QuaGVpZ2h0fXB4YDtcbiAgICAgIGlmICh0aGlzLm9sZEhlaWdodCAhPT0gXCIwcHhcIikge1xuICAgICAgICBhbmltYXRlKHRoaXMucm91dGVyRWwsIHsgaGVpZ2h0OiBbdGhpcy5vbGRIZWlnaHQsIG5ld0hlaWdodF0gfSwgeyBkdXJhdGlvbjogMC4yIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5vbGRIZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgfSk7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMuY29udGVudEVsKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIChfYSA9IHRoaXMudW5zdWJzY3JpYmUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpO1xuICAgIChfYiA9IHRoaXMucmVzaXplT2JzZXJ2ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYi5kaXNjb25uZWN0KCk7XG4gIH1cbiAgZ2V0IHJvdXRlckVsKCkge1xuICAgIHJldHVybiBVaVV0aWwuZ2V0U2hhZG93Um9vdEVsZW1lbnQodGhpcywgXCIud2NtLXJvdXRlclwiKTtcbiAgfVxuICBnZXQgY29udGVudEVsKCkge1xuICAgIHJldHVybiBVaVV0aWwuZ2V0U2hhZG93Um9vdEVsZW1lbnQodGhpcywgXCIud2NtLWNvbnRlbnRcIik7XG4gIH1cbiAgdmlld1RlbXBsYXRlKCkge1xuICAgIHN3aXRjaCAodGhpcy52aWV3KSB7XG4gICAgICBjYXNlIFwiQ29ubmVjdFdhbGxldFwiOlxuICAgICAgICByZXR1cm4gaHRtbGA8d2NtLWNvbm5lY3Qtd2FsbGV0LXZpZXc+PC93Y20tY29ubmVjdC13YWxsZXQtdmlldz5gO1xuICAgICAgY2FzZSBcIkRlc2t0b3BDb25uZWN0aW5nXCI6XG4gICAgICAgIHJldHVybiBodG1sYDx3Y20tZGVza3RvcC1jb25uZWN0aW5nLXZpZXc+PC93Y20tZGVza3RvcC1jb25uZWN0aW5nLXZpZXc+YDtcbiAgICAgIGNhc2UgXCJNb2JpbGVDb25uZWN0aW5nXCI6XG4gICAgICAgIHJldHVybiBodG1sYDx3Y20tbW9iaWxlLWNvbm5lY3Rpbmctdmlldz48L3djbS1tb2JpbGUtY29ubmVjdGluZy12aWV3PmA7XG4gICAgICBjYXNlIFwiV2ViQ29ubmVjdGluZ1wiOlxuICAgICAgICByZXR1cm4gaHRtbGA8d2NtLXdlYi1jb25uZWN0aW5nLXZpZXc+PC93Y20td2ViLWNvbm5lY3Rpbmctdmlldz5gO1xuICAgICAgY2FzZSBcIk1vYmlsZVFyY29kZUNvbm5lY3RpbmdcIjpcbiAgICAgICAgcmV0dXJuIGh0bWxgPHdjbS1tb2JpbGUtcXItY29ubmVjdGluZy12aWV3Pjwvd2NtLW1vYmlsZS1xci1jb25uZWN0aW5nLXZpZXc+YDtcbiAgICAgIGNhc2UgXCJXYWxsZXRFeHBsb3JlclwiOlxuICAgICAgICByZXR1cm4gaHRtbGA8d2NtLXdhbGxldC1leHBsb3Jlci12aWV3Pjwvd2NtLXdhbGxldC1leHBsb3Jlci12aWV3PmA7XG4gICAgICBjYXNlIFwiUXJjb2RlXCI6XG4gICAgICAgIHJldHVybiBodG1sYDx3Y20tcXJjb2RlLXZpZXc+PC93Y20tcXJjb2RlLXZpZXc+YDtcbiAgICAgIGNhc2UgXCJJbnN0YWxsV2FsbGV0XCI6XG4gICAgICAgIHJldHVybiBodG1sYDx3Y20taW5zdGFsbC13YWxsZXQtdmlldz48L3djbS1pbnN0YWxsLXdhbGxldC12aWV3PmA7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gaHRtbGA8ZGl2Pk5vdCBGb3VuZDwvZGl2PmA7XG4gICAgfVxuICB9XG4gIGFzeW5jIG9uQ2hhbmdlUm91dGUoKSB7XG4gICAgYXdhaXQgYW5pbWF0ZShcbiAgICAgIHRoaXMucm91dGVyRWwsXG4gICAgICB7IG9wYWNpdHk6IFsxLCAwXSwgc2NhbGU6IFsxLCAxLjAyXSB9LFxuICAgICAgeyBkdXJhdGlvbjogMC4xNSwgZGVsYXk6IDAuMSB9XG4gICAgKS5maW5pc2hlZDtcbiAgICB0aGlzLnZpZXcgPSBSb3V0ZXJDdHJsLnN0YXRlLnZpZXc7XG4gICAgYW5pbWF0ZSh0aGlzLnJvdXRlckVsLCB7IG9wYWNpdHk6IFswLCAxXSwgc2NhbGU6IFswLjk5LCAxXSB9LCB7IGR1cmF0aW9uOiAwLjM3LCBkZWxheTogMC4wNSB9KTtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cIndjbS1yb3V0ZXJcIj48ZGl2IGNsYXNzPVwid2NtLWNvbnRlbnRcIj4ke3RoaXMudmlld1RlbXBsYXRlKCl9PC9kaXY+PC9kaXY+YDtcbiAgfVxufTtcbldjbU1vZGFsUm91dGVyLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkbV07XG5fX2RlY29yYXRlQ2xhc3MkcShbXG4gIHN0YXRlKClcbl0sIFdjbU1vZGFsUm91dGVyLnByb3RvdHlwZSwgXCJ2aWV3XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJHEoW1xuICBzdGF0ZSgpXG5dLCBXY21Nb2RhbFJvdXRlci5wcm90b3R5cGUsIFwicHJldlZpZXdcIiwgMik7XG5XY21Nb2RhbFJvdXRlciA9IF9fZGVjb3JhdGVDbGFzcyRxKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1tb2RhbC1yb3V0ZXJcIilcbl0sIFdjbU1vZGFsUm91dGVyKTtcblxuY29uc3Qgc3R5bGVzJGwgPSBjc3NgZGl2e2hlaWdodDozNnB4O3dpZHRoOm1heC1jb250ZW50O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjlweCAxNXB4IDExcHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjEycHg7Ym94LXNoYWRvdzowIDZweCAxNHB4IC02cHggcmdiYSgxMCwxNiwzMSwuMyksMCAxMHB4IDMycHggLTRweCByZ2JhKDEwLDE2LDMxLC4xNSk7ei1pbmRleDoyO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3BvaW50ZXItZXZlbnRzOm5vbmU7YmFja2Ryb3AtZmlsdGVyOmJsdXIoMjBweCkgc2F0dXJhdGUoMS44KTstd2Via2l0LWJhY2tkcm9wLWZpbHRlcjpibHVyKDIwcHgpIHNhdHVyYXRlKDEuOCk7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20tbm90aWZpY2F0aW9uLWJvcmRlci1yYWRpdXMpO2JvcmRlcjoxcHggc29saWQgdmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpO2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfXN2Z3ttYXJnaW4tcmlnaHQ6NXB4fUAtbW96LWRvY3VtZW50IHVybC1wcmVmaXgoKXtkaXZ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMyl9fS53Y20tc3VjY2VzcyBwYXRoe2ZpbGw6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9LndjbS1lcnJvciBwYXRoe2ZpbGw6dmFyKC0td2NtLWVycm9yLWNvbG9yKX1gO1xuXG52YXIgX19kZWZQcm9wJHAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRwID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkcCA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRwKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRwKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Nb2RhbFRvYXN0ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICAgIHRoaXMudW5zdWJzY3JpYmUgPSB2b2lkIDA7XG4gICAgdGhpcy50aW1lb3V0ID0gdm9pZCAwO1xuICAgIHRoaXMudW5zdWJzY3JpYmUgPSBUb2FzdEN0cmwuc3Vic2NyaWJlKChuZXdTdGF0ZSkgPT4ge1xuICAgICAgaWYgKG5ld1N0YXRlLm9wZW4pIHtcbiAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBUb2FzdEN0cmwuY2xvc2VUb2FzdCgpLCAyMjAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy51bnN1YnNjcmliZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcyk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgVG9hc3RDdHJsLmNsb3NlVG9hc3QoKTtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBtZXNzYWdlLCB2YXJpYW50IH0gPSBUb2FzdEN0cmwuc3RhdGU7XG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgIFwid2NtLXN1Y2Nlc3NcIjogdmFyaWFudCA9PT0gXCJzdWNjZXNzXCIsXG4gICAgICBcIndjbS1lcnJvclwiOiB2YXJpYW50ID09PSBcImVycm9yXCJcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLm9wZW4gPyBodG1sYDxkaXYgY2xhc3M9XCIke2NsYXNzTWFwKGNsYXNzZXMpfVwiPiR7dmFyaWFudCA9PT0gXCJzdWNjZXNzXCIgPyBTdmdVdGlsLkNIRUNLTUFSS19JQ09OIDogbnVsbH0gJHt2YXJpYW50ID09PSBcImVycm9yXCIgPyBTdmdVdGlsLkNST1NTX0lDT04gOiBudWxsfTx3Y20tdGV4dCB2YXJpYW50PVwic21hbGwtcmVndWxhclwiPiR7bWVzc2FnZX08L3djbS10ZXh0PjwvZGl2PmAgOiBudWxsO1xuICB9XG59O1xuV2NtTW9kYWxUb2FzdC5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGxdO1xuX19kZWNvcmF0ZUNsYXNzJHAoW1xuICBzdGF0ZSgpXG5dLCBXY21Nb2RhbFRvYXN0LnByb3RvdHlwZSwgXCJvcGVuXCIsIDIpO1xuV2NtTW9kYWxUb2FzdCA9IF9fZGVjb3JhdGVDbGFzcyRwKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1tb2RhbC10b2FzdFwiKVxuXSwgV2NtTW9kYWxUb2FzdCk7XG5cbmNvbnN0IENPTk5FQ1RJTkdfRVJST1JfTUFSR0lOID0gMC4xO1xuY29uc3QgQ0lSQ0xFX1NJWkVfTU9ESUZJRVIgPSAyLjU7XG5jb25zdCBRUkNPREVfTUFUUklYX01BUkdJTiA9IDc7XG5mdW5jdGlvbiBpc0FkamVjZW50RG90cyhjeSwgb3RoZXJDeSwgY2VsbFNpemUpIHtcbiAgaWYgKGN5ID09PSBvdGhlckN5KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGRpZmYgPSBjeSAtIG90aGVyQ3kgPCAwID8gb3RoZXJDeSAtIGN5IDogY3kgLSBvdGhlckN5O1xuICByZXR1cm4gZGlmZiA8PSBjZWxsU2l6ZSArIENPTk5FQ1RJTkdfRVJST1JfTUFSR0lOO1xufVxuZnVuY3Rpb24gZ2V0TWF0cml4KHZhbHVlLCBlcnJvckNvcnJlY3Rpb25MZXZlbCkge1xuICBjb25zdCBhcnIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICBRUkNvZGVVdGlsLmNyZWF0ZSh2YWx1ZSwgeyBlcnJvckNvcnJlY3Rpb25MZXZlbCB9KS5tb2R1bGVzLmRhdGEsXG4gICAgMFxuICApO1xuICBjb25zdCBzcXJ0ID0gTWF0aC5zcXJ0KGFyci5sZW5ndGgpO1xuICByZXR1cm4gYXJyLnJlZHVjZShcbiAgICAocm93cywga2V5LCBpbmRleCkgPT4gKGluZGV4ICUgc3FydCA9PT0gMCA/IHJvd3MucHVzaChba2V5XSkgOiByb3dzW3Jvd3MubGVuZ3RoIC0gMV0ucHVzaChrZXkpKSAmJiByb3dzLFxuICAgIFtdXG4gICk7XG59XG5jb25zdCBRckNvZGVVdGlsID0ge1xuICBnZW5lcmF0ZSh1cmksIHNpemUsIGxvZ29TaXplKSB7XG4gICAgY29uc3QgZG90Q29sb3IgPSBcIiMxNDE0MTRcIjtcbiAgICBjb25zdCBlZGdlQ29sb3IgPSBcIiNmZmZmZmZcIjtcbiAgICBjb25zdCBkb3RzID0gW107XG4gICAgY29uc3QgbWF0cml4ID0gZ2V0TWF0cml4KHVyaSwgXCJRXCIpO1xuICAgIGNvbnN0IGNlbGxTaXplID0gc2l6ZSAvIG1hdHJpeC5sZW5ndGg7XG4gICAgY29uc3QgcXJMaXN0ID0gW1xuICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICB7IHg6IDEsIHk6IDAgfSxcbiAgICAgIHsgeDogMCwgeTogMSB9XG4gICAgXTtcbiAgICBxckxpc3QuZm9yRWFjaCgoeyB4LCB5IH0pID0+IHtcbiAgICAgIGNvbnN0IHgxID0gKG1hdHJpeC5sZW5ndGggLSBRUkNPREVfTUFUUklYX01BUkdJTikgKiBjZWxsU2l6ZSAqIHg7XG4gICAgICBjb25zdCB5MSA9IChtYXRyaXgubGVuZ3RoIC0gUVJDT0RFX01BVFJJWF9NQVJHSU4pICogY2VsbFNpemUgKiB5O1xuICAgICAgY29uc3QgYm9yZGVyUmFkaXVzID0gMC40NTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXJMaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGRvdFNpemUgPSBjZWxsU2l6ZSAqIChRUkNPREVfTUFUUklYX01BUkdJTiAtIGkgKiAyKTtcbiAgICAgICAgZG90cy5wdXNoKFxuICAgICAgICAgIHN2ZyQxYDxyZWN0IGZpbGw9XCIke2kgJSAyID09PSAwID8gZG90Q29sb3IgOiBlZGdlQ29sb3J9XCIgaGVpZ2h0PVwiJHtkb3RTaXplfVwiIHJ4PVwiJHtkb3RTaXplICogYm9yZGVyUmFkaXVzfVwiIHJ5PVwiJHtkb3RTaXplICogYm9yZGVyUmFkaXVzfVwiIHdpZHRoPVwiJHtkb3RTaXplfVwiIHg9XCIke3gxICsgY2VsbFNpemUgKiBpfVwiIHk9XCIke3kxICsgY2VsbFNpemUgKiBpfVwiPmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjbGVhckFyZW5hU2l6ZSA9IE1hdGguZmxvb3IoKGxvZ29TaXplICsgMjUpIC8gY2VsbFNpemUpO1xuICAgIGNvbnN0IG1hdHJpeE1pZGRsZVN0YXJ0ID0gbWF0cml4Lmxlbmd0aCAvIDIgLSBjbGVhckFyZW5hU2l6ZSAvIDI7XG4gICAgY29uc3QgbWF0cml4TWlkZGxlRW5kID0gbWF0cml4Lmxlbmd0aCAvIDIgKyBjbGVhckFyZW5hU2l6ZSAvIDIgLSAxO1xuICAgIGNvbnN0IGNpcmNsZXMgPSBbXTtcbiAgICBtYXRyaXguZm9yRWFjaCgocm93LCBpKSA9PiB7XG4gICAgICByb3cuZm9yRWFjaCgoXywgaikgPT4ge1xuICAgICAgICBpZiAobWF0cml4W2ldW2pdKSB7XG4gICAgICAgICAgaWYgKCEoaSA8IFFSQ09ERV9NQVRSSVhfTUFSR0lOICYmIGogPCBRUkNPREVfTUFUUklYX01BUkdJTiB8fCBpID4gbWF0cml4Lmxlbmd0aCAtIChRUkNPREVfTUFUUklYX01BUkdJTiArIDEpICYmIGogPCBRUkNPREVfTUFUUklYX01BUkdJTiB8fCBpIDwgUVJDT0RFX01BVFJJWF9NQVJHSU4gJiYgaiA+IG1hdHJpeC5sZW5ndGggLSAoUVJDT0RFX01BVFJJWF9NQVJHSU4gKyAxKSkpIHtcbiAgICAgICAgICAgIGlmICghKGkgPiBtYXRyaXhNaWRkbGVTdGFydCAmJiBpIDwgbWF0cml4TWlkZGxlRW5kICYmIGogPiBtYXRyaXhNaWRkbGVTdGFydCAmJiBqIDwgbWF0cml4TWlkZGxlRW5kKSkge1xuICAgICAgICAgICAgICBjb25zdCBjeCA9IGkgKiBjZWxsU2l6ZSArIGNlbGxTaXplIC8gMjtcbiAgICAgICAgICAgICAgY29uc3QgY3kgPSBqICogY2VsbFNpemUgKyBjZWxsU2l6ZSAvIDI7XG4gICAgICAgICAgICAgIGNpcmNsZXMucHVzaChbY3gsIGN5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBjaXJjbGVzVG9Db25uZWN0ID0ge307XG4gICAgY2lyY2xlcy5mb3JFYWNoKChbY3gsIGN5XSkgPT4ge1xuICAgICAgaWYgKGNpcmNsZXNUb0Nvbm5lY3RbY3hdKSB7XG4gICAgICAgIGNpcmNsZXNUb0Nvbm5lY3RbY3hdLnB1c2goY3kpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2lyY2xlc1RvQ29ubmVjdFtjeF0gPSBbY3ldO1xuICAgICAgfVxuICAgIH0pO1xuICAgIE9iamVjdC5lbnRyaWVzKGNpcmNsZXNUb0Nvbm5lY3QpLm1hcCgoW2N4LCBjeXNdKSA9PiB7XG4gICAgICBjb25zdCBuZXdDeXMgPSBjeXMuZmlsdGVyKFxuICAgICAgICAoY3kpID0+IGN5cy5ldmVyeSgob3RoZXJDeSkgPT4gIWlzQWRqZWNlbnREb3RzKGN5LCBvdGhlckN5LCBjZWxsU2l6ZSkpXG4gICAgICApO1xuICAgICAgcmV0dXJuIFtOdW1iZXIoY3gpLCBuZXdDeXNdO1xuICAgIH0pLmZvckVhY2goKFtjeCwgY3lzXSkgPT4ge1xuICAgICAgY3lzLmZvckVhY2goKGN5KSA9PiB7XG4gICAgICAgIGRvdHMucHVzaChcbiAgICAgICAgICBzdmckMWA8Y2lyY2xlIGN4PVwiJHtjeH1cIiBjeT1cIiR7Y3l9XCIgZmlsbD1cIiR7ZG90Q29sb3J9XCIgcj1cIiR7Y2VsbFNpemUgLyBDSVJDTEVfU0laRV9NT0RJRklFUn1cIj5gXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBPYmplY3QuZW50cmllcyhjaXJjbGVzVG9Db25uZWN0KS5maWx0ZXIoKFtfLCBjeXNdKSA9PiBjeXMubGVuZ3RoID4gMSkubWFwKChbY3gsIGN5c10pID0+IHtcbiAgICAgIGNvbnN0IG5ld0N5cyA9IGN5cy5maWx0ZXIoKGN5KSA9PiBjeXMuc29tZSgob3RoZXJDeSkgPT4gaXNBZGplY2VudERvdHMoY3ksIG90aGVyQ3ksIGNlbGxTaXplKSkpO1xuICAgICAgcmV0dXJuIFtOdW1iZXIoY3gpLCBuZXdDeXNdO1xuICAgIH0pLm1hcCgoW2N4LCBjeXNdKSA9PiB7XG4gICAgICBjeXMuc29ydCgoYSwgYikgPT4gYSA8IGIgPyAtMSA6IDEpO1xuICAgICAgY29uc3QgZ3JvdXBzID0gW107XG4gICAgICBmb3IgKGNvbnN0IGN5IG9mIGN5cykge1xuICAgICAgICBjb25zdCBncm91cCA9IGdyb3Vwcy5maW5kKFxuICAgICAgICAgIChpdGVtKSA9PiBpdGVtLnNvbWUoKG90aGVyQ3kpID0+IGlzQWRqZWNlbnREb3RzKGN5LCBvdGhlckN5LCBjZWxsU2l6ZSkpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgIGdyb3VwLnB1c2goY3kpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdyb3Vwcy5wdXNoKFtjeV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gW2N4LCBncm91cHMubWFwKChpdGVtKSA9PiBbaXRlbVswXSwgaXRlbVtpdGVtLmxlbmd0aCAtIDFdXSldO1xuICAgIH0pLmZvckVhY2goKFtjeCwgZ3JvdXBzXSkgPT4ge1xuICAgICAgZ3JvdXBzLmZvckVhY2goKFt5MSwgeTJdKSA9PiB7XG4gICAgICAgIGRvdHMucHVzaChcbiAgICAgICAgICBzdmckMWA8bGluZSB4MT1cIiR7Y3h9XCIgeDI9XCIke2N4fVwiIHkxPVwiJHt5MX1cIiB5Mj1cIiR7eTJ9XCIgc3Ryb2tlPVwiJHtkb3RDb2xvcn1cIiBzdHJva2Utd2lkdGg9XCIke2NlbGxTaXplIC8gKENJUkNMRV9TSVpFX01PRElGSUVSIC8gMil9XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiPmBcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBkb3RzO1xuICB9XG59O1xuXG5jb25zdCBzdHlsZXMkayA9IGNzc2BAa2V5ZnJhbWVzIGZhZGVJbnswJXtvcGFjaXR5OjB9MTAwJXtvcGFjaXR5OjF9fWRpdntwb3NpdGlvbjpyZWxhdGl2ZTt1c2VyLXNlbGVjdDpub25lO2Rpc3BsYXk6YmxvY2s7b3ZlcmZsb3c6aGlkZGVuO2FzcGVjdC1yYXRpbzoxLzE7YW5pbWF0aW9uOmZhZGVJbiBlYXNlIC4yc30ud2NtLWRhcmt7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLWNvbnRhaW5lci1ib3JkZXItcmFkaXVzKTtwYWRkaW5nOjE4cHg7Ym94LXNoYWRvdzowIDJweCA1cHggIzAwMH1zdmc6Zmlyc3QtY2hpbGQsd2NtLXdhbGxldC1pbWFnZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpIHRyYW5zbGF0ZVgoLTUwJSl9d2NtLXdhbGxldC1pbWFnZXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKSB0cmFuc2xhdGVYKC01MCUpfXdjbS13YWxsZXQtaW1hZ2V7d2lkdGg6MjUlO2hlaWdodDoyNSU7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20td2FsbGV0LWljb24tYm9yZGVyLXJhZGl1cyl9c3ZnOmZpcnN0LWNoaWxke3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpIHRyYW5zbGF0ZVgoLTUwJSkgc2NhbGUoLjkpfXN2ZzpmaXJzdC1jaGlsZCBwYXRoOmZpcnN0LWNoaWxke2ZpbGw6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9c3ZnOmZpcnN0LWNoaWxkIHBhdGg6bGFzdC1jaGlsZHtzdHJva2U6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfWA7XG5cbnZhciBfX2RlZlByb3AkbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRvID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJG8odGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJG8odGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVFyQ29kZSA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy51cmkgPSBcIlwiO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgdGhpcy5pbWFnZUlkID0gdm9pZCAwO1xuICAgIHRoaXMud2FsbGV0SWQgPSB2b2lkIDA7XG4gICAgdGhpcy5pbWFnZVVybCA9IHZvaWQgMDtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBzdmdUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBpc0xpZ2h0TW9kZSA9IFRoZW1lQ3RybC5zdGF0ZS50aGVtZU1vZGUgPT09IFwibGlnaHRcIjtcbiAgICBjb25zdCBzaXplID0gaXNMaWdodE1vZGUgPyB0aGlzLnNpemUgOiB0aGlzLnNpemUgLSAxOCAqIDI7XG4gICAgcmV0dXJuIHN2ZyQxYDxzdmcgaGVpZ2h0PVwiJHtzaXplfVwiIHdpZHRoPVwiJHtzaXplfVwiPiR7UXJDb2RlVXRpbC5nZW5lcmF0ZSh0aGlzLnVyaSwgc2l6ZSwgc2l6ZSAvIDQpfTwvc3ZnPmA7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgICBcIndjbS1kYXJrXCI6IFRoZW1lQ3RybC5zdGF0ZS50aGVtZU1vZGUgPT09IFwiZGFya1wiXG4gICAgfTtcbiAgICByZXR1cm4gaHRtbGA8ZGl2IHN0eWxlPVwiJHtgd2lkdGg6ICR7dGhpcy5zaXplfXB4YH1cIiBjbGFzcz1cIiR7Y2xhc3NNYXAoY2xhc3Nlcyl9XCI+JHt0aGlzLndhbGxldElkIHx8IHRoaXMuaW1hZ2VVcmwgPyBodG1sYDx3Y20td2FsbGV0LWltYWdlIHdhbGxldElkPVwiJHtpZkRlZmluZWQodGhpcy53YWxsZXRJZCl9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKHRoaXMuaW1hZ2VJZCl9XCIgaW1hZ2VVcmw9XCIke2lmRGVmaW5lZCh0aGlzLmltYWdlVXJsKX1cIj48L3djbS13YWxsZXQtaW1hZ2U+YCA6IFN2Z1V0aWwuV0FMTEVUX0NPTk5FQ1RfSUNPTl9DT0xPUkVEfSAke3RoaXMuc3ZnVGVtcGxhdGUoKX08L2Rpdj5gO1xuICB9XG59O1xuV2NtUXJDb2RlLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMka107XG5fX2RlY29yYXRlQ2xhc3MkbyhbXG4gIHByb3BlcnR5KClcbl0sIFdjbVFyQ29kZS5wcm90b3R5cGUsIFwidXJpXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJG8oW1xuICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciB9KVxuXSwgV2NtUXJDb2RlLnByb3RvdHlwZSwgXCJzaXplXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJG8oW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21RckNvZGUucHJvdG90eXBlLCBcImltYWdlSWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkbyhbXG4gIHByb3BlcnR5KClcbl0sIFdjbVFyQ29kZS5wcm90b3R5cGUsIFwid2FsbGV0SWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkbyhbXG4gIHByb3BlcnR5KClcbl0sIFdjbVFyQ29kZS5wcm90b3R5cGUsIFwiaW1hZ2VVcmxcIiwgMik7XG5XY21RckNvZGUgPSBfX2RlY29yYXRlQ2xhc3MkbyhbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tcXJjb2RlXCIpXG5dLCBXY21RckNvZGUpO1xuXG5jb25zdCBzdHlsZXMkaiA9IGNzc2A6aG9zdHtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6MjhweDt3aWR0aDo4MCV9aW5wdXR7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtsaW5lLWhlaWdodDoyOHB4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1pbnB1dC1ib3JkZXItcmFkaXVzKTtmb250LXN0eWxlOm5vcm1hbDtmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLHN5c3RlbS11aSxCbGlua01hY1N5c3RlbUZvbnQsJ1NlZ29lIFVJJyxSb2JvdG8sVWJ1bnR1LCdIZWx2ZXRpY2EgTmV1ZScsc2Fucy1zZXJpZjtmb250LWZlYXR1cmUtc2V0dGluZ3M6J2Nhc2UnIG9uO2ZvbnQtd2VpZ2h0OjUwMDtmb250LXNpemU6MTZweDtsZXR0ZXItc3BhY2luZzotLjAzZW07cGFkZGluZzowIDEwcHggMCAzNHB4O3RyYW5zaXRpb246LjJzIGFsbCBlYXNlO2NvbG9yOnZhcigtLXdjbS1jb2xvci1mZy0xKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1jb2xvci1iZy0zKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB2YXIoLS13Y20tY29sb3Itb3ZlcmxheSk7Y2FyZXQtY29sb3I6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9aW5wdXQ6OnBsYWNlaG9sZGVye2NvbG9yOnZhcigtLXdjbS1jb2xvci1mZy0yKX1zdmd7bGVmdDoxMHB4O3RvcDo0cHg7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoyMHB4O2hlaWdodDoyMHB4fWlucHV0OmZvY3VzLXdpdGhpbntib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB2YXIoLS13Y20tYWNjZW50LWNvbG9yKX1wYXRoe2ZpbGw6dmFyKC0td2NtLWNvbG9yLWZnLTIpfWA7XG5cbnZhciBfX2RlZlByb3AkbiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJG4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRuID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJG4odGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJG4odGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVNlYXJjaElucHV0ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLm9uQ2hhbmdlID0gKCkgPT4gbnVsbDtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgQGlucHV0PVwiJHt0aGlzLm9uQ2hhbmdlfVwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIHdhbGxldHNcIj4gJHtTdmdVdGlsLlNFQVJDSF9JQ09OfWA7XG4gIH1cbn07XG5XY21TZWFyY2hJbnB1dC5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGpdO1xuX19kZWNvcmF0ZUNsYXNzJG4oW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21TZWFyY2hJbnB1dC5wcm90b3R5cGUsIFwib25DaGFuZ2VcIiwgMik7XG5XY21TZWFyY2hJbnB1dCA9IF9fZGVjb3JhdGVDbGFzcyRuKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1zZWFyY2gtaW5wdXRcIilcbl0sIFdjbVNlYXJjaElucHV0KTtcblxuY29uc3Qgc3R5bGVzJGkgPSBjc3NgQGtleWZyYW1lcyByb3RhdGV7MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgZGFzaHswJXtzdHJva2UtZGFzaGFycmF5OjEsMTUwO3N0cm9rZS1kYXNob2Zmc2V0OjB9NTAle3N0cm9rZS1kYXNoYXJyYXk6OTAsMTUwO3N0cm9rZS1kYXNob2Zmc2V0Oi0zNX0xMDAle3N0cm9rZS1kYXNoYXJyYXk6OTAsMTUwO3N0cm9rZS1kYXNob2Zmc2V0Oi0xMjR9fXN2Z3thbmltYXRpb246cm90YXRlIDJzIGxpbmVhciBpbmZpbml0ZTtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9c3ZnIGNpcmNsZXtzdHJva2UtbGluZWNhcDpyb3VuZDthbmltYXRpb246ZGFzaCAxLjVzIGVhc2UgaW5maW5pdGU7c3Ryb2tlOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfWA7XG5cbnZhciBfX2RlZlByb3AkbSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJG0gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRtID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJG0odGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJG0odGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVNwaW5uZXIgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgPHN2ZyB2aWV3Qm94PVwiMCAwIDUwIDUwXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCI+PGNpcmNsZSBjeD1cIjI1XCIgY3k9XCIyNVwiIHI9XCIyMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiNFwiIHN0cm9rZT1cIiNmZmZcIi8+PC9zdmc+YDtcbiAgfVxufTtcbldjbVNwaW5uZXIuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRpXTtcbldjbVNwaW5uZXIgPSBfX2RlY29yYXRlQ2xhc3MkbShbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tc3Bpbm5lclwiKVxuXSwgV2NtU3Bpbm5lcik7XG5cbmNvbnN0IHN0eWxlcyRoID0gY3NzYHNwYW57Zm9udC1zdHlsZTpub3JtYWw7Zm9udC1mYW1pbHk6dmFyKC0td2NtLWZvbnQtZmFtaWx5KTtmb250LWZlYXR1cmUtc2V0dGluZ3M6dmFyKC0td2NtLWZvbnQtZmVhdHVyZS1zZXR0aW5ncyl9LndjbS14c21hbGwtYm9sZHtmb250LWZhbWlseTp2YXIoLS13Y20tdGV4dC14c21hbGwtYm9sZC1mb250LWZhbWlseSk7Zm9udC13ZWlnaHQ6dmFyKC0td2NtLXRleHQteHNtYWxsLWJvbGQtd2VpZ2h0KTtmb250LXNpemU6dmFyKC0td2NtLXRleHQteHNtYWxsLWJvbGQtc2l6ZSk7bGluZS1oZWlnaHQ6dmFyKC0td2NtLXRleHQteHNtYWxsLWJvbGQtbGluZS1oZWlnaHQpO2xldHRlci1zcGFjaW5nOnZhcigtLXdjbS10ZXh0LXhzbWFsbC1ib2xkLWxldHRlci1zcGFjaW5nKTt0ZXh0LXRyYW5zZm9ybTp2YXIoLS13Y20tdGV4dC14c21hbGwtYm9sZC10ZXh0LXRyYW5zZm9ybSl9LndjbS14c21hbGwtcmVndWxhcntmb250LWZhbWlseTp2YXIoLS13Y20tdGV4dC14c21hbGwtcmVndWxhci1mb250LWZhbWlseSk7Zm9udC13ZWlnaHQ6dmFyKC0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItd2VpZ2h0KTtmb250LXNpemU6dmFyKC0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItc2l6ZSk7bGluZS1oZWlnaHQ6dmFyKC0td2NtLXRleHQteHNtYWxsLXJlZ3VsYXItbGluZS1oZWlnaHQpO2xldHRlci1zcGFjaW5nOnZhcigtLXdjbS10ZXh0LXhzbWFsbC1yZWd1bGFyLWxldHRlci1zcGFjaW5nKTt0ZXh0LXRyYW5zZm9ybTp2YXIoLS13Y20tdGV4dC14c21hbGwtcmVndWxhci10ZXh0LXRyYW5zZm9ybSl9LndjbS1zbWFsbC10aGlue2ZvbnQtZmFtaWx5OnZhcigtLXdjbS10ZXh0LXNtYWxsLXRoaW4tZm9udC1mYW1pbHkpO2ZvbnQtd2VpZ2h0OnZhcigtLXdjbS10ZXh0LXNtYWxsLXRoaW4td2VpZ2h0KTtmb250LXNpemU6dmFyKC0td2NtLXRleHQtc21hbGwtdGhpbi1zaXplKTtsaW5lLWhlaWdodDp2YXIoLS13Y20tdGV4dC1zbWFsbC10aGluLWxpbmUtaGVpZ2h0KTtsZXR0ZXItc3BhY2luZzp2YXIoLS13Y20tdGV4dC1zbWFsbC10aGluLWxldHRlci1zcGFjaW5nKTt0ZXh0LXRyYW5zZm9ybTp2YXIoLS13Y20tdGV4dC1zbWFsbC10aGluLXRleHQtdHJhbnNmb3JtKX0ud2NtLXNtYWxsLXJlZ3VsYXJ7Zm9udC1mYW1pbHk6dmFyKC0td2NtLXRleHQtc21hbGwtcmVndWxhci1mb250LWZhbWlseSk7Zm9udC13ZWlnaHQ6dmFyKC0td2NtLXRleHQtc21hbGwtcmVndWxhci13ZWlnaHQpO2ZvbnQtc2l6ZTp2YXIoLS13Y20tdGV4dC1zbWFsbC1yZWd1bGFyLXNpemUpO2xpbmUtaGVpZ2h0OnZhcigtLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItbGluZS1oZWlnaHQpO2xldHRlci1zcGFjaW5nOnZhcigtLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItbGV0dGVyLXNwYWNpbmcpO3RleHQtdHJhbnNmb3JtOnZhcigtLXdjbS10ZXh0LXNtYWxsLXJlZ3VsYXItdGV4dC10cmFuc2Zvcm0pfS53Y20tbWVkaXVtLXJlZ3VsYXJ7Zm9udC1mYW1pbHk6dmFyKC0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItZm9udC1mYW1pbHkpO2ZvbnQtd2VpZ2h0OnZhcigtLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLXdlaWdodCk7Zm9udC1zaXplOnZhcigtLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLXNpemUpO2xpbmUtaGVpZ2h0OnZhcigtLXdjbS10ZXh0LW1lZGl1bS1yZWd1bGFyLWxpbmUtaGVpZ2h0KTtsZXR0ZXItc3BhY2luZzp2YXIoLS13Y20tdGV4dC1tZWRpdW0tcmVndWxhci1sZXR0ZXItc3BhY2luZyk7dGV4dC10cmFuc2Zvcm06dmFyKC0td2NtLXRleHQtbWVkaXVtLXJlZ3VsYXItdGV4dC10cmFuc2Zvcm0pfS53Y20tYmlnLWJvbGR7Zm9udC1mYW1pbHk6dmFyKC0td2NtLXRleHQtYmlnLWJvbGQtZm9udC1mYW1pbHkpO2ZvbnQtd2VpZ2h0OnZhcigtLXdjbS10ZXh0LWJpZy1ib2xkLXdlaWdodCk7Zm9udC1zaXplOnZhcigtLXdjbS10ZXh0LWJpZy1ib2xkLXNpemUpO2xpbmUtaGVpZ2h0OnZhcigtLXdjbS10ZXh0LWJpZy1ib2xkLWxpbmUtaGVpZ2h0KTtsZXR0ZXItc3BhY2luZzp2YXIoLS13Y20tdGV4dC1iaWctYm9sZC1sZXR0ZXItc3BhY2luZyk7dGV4dC10cmFuc2Zvcm06dmFyKC0td2NtLXRleHQtYmlnLWJvbGQtdGV4dC10cmFuc2Zvcm0pfTpob3N0KCope2NvbG9yOnZhcigtLXdjbS1jb2xvci1mZy0xKX0ud2NtLWNvbG9yLXByaW1hcnl7Y29sb3I6dmFyKC0td2NtLWNvbG9yLWZnLTEpfS53Y20tY29sb3Itc2Vjb25kYXJ5e2NvbG9yOnZhcigtLXdjbS1jb2xvci1mZy0yKX0ud2NtLWNvbG9yLXRlcnRpYXJ5e2NvbG9yOnZhcigtLXdjbS1jb2xvci1mZy0zKX0ud2NtLWNvbG9yLWludmVyc2V7Y29sb3I6dmFyKC0td2NtLWFjY2VudC1maWxsLWNvbG9yKX0ud2NtLWNvbG9yLWFjY250e2NvbG9yOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfS53Y20tY29sb3ItZXJyb3J7Y29sb3I6dmFyKC0td2NtLWVycm9yLWNvbG9yKX1gO1xuXG52YXIgX19kZWZQcm9wJGwgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRsID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkbCA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRsKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRsKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21UZXh0ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnZhcmlhbnQgPSBcIm1lZGl1bS1yZWd1bGFyXCI7XG4gICAgdGhpcy5jb2xvciA9IFwicHJpbWFyeVwiO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjbGFzc2VzID0ge1xuICAgICAgXCJ3Y20tYmlnLWJvbGRcIjogdGhpcy52YXJpYW50ID09PSBcImJpZy1ib2xkXCIsXG4gICAgICBcIndjbS1tZWRpdW0tcmVndWxhclwiOiB0aGlzLnZhcmlhbnQgPT09IFwibWVkaXVtLXJlZ3VsYXJcIixcbiAgICAgIFwid2NtLXNtYWxsLXJlZ3VsYXJcIjogdGhpcy52YXJpYW50ID09PSBcInNtYWxsLXJlZ3VsYXJcIixcbiAgICAgIFwid2NtLXNtYWxsLXRoaW5cIjogdGhpcy52YXJpYW50ID09PSBcInNtYWxsLXRoaW5cIixcbiAgICAgIFwid2NtLXhzbWFsbC1yZWd1bGFyXCI6IHRoaXMudmFyaWFudCA9PT0gXCJ4c21hbGwtcmVndWxhclwiLFxuICAgICAgXCJ3Y20teHNtYWxsLWJvbGRcIjogdGhpcy52YXJpYW50ID09PSBcInhzbWFsbC1ib2xkXCIsXG4gICAgICBcIndjbS1jb2xvci1wcmltYXJ5XCI6IHRoaXMuY29sb3IgPT09IFwicHJpbWFyeVwiLFxuICAgICAgXCJ3Y20tY29sb3Itc2Vjb25kYXJ5XCI6IHRoaXMuY29sb3IgPT09IFwic2Vjb25kYXJ5XCIsXG4gICAgICBcIndjbS1jb2xvci10ZXJ0aWFyeVwiOiB0aGlzLmNvbG9yID09PSBcInRlcnRpYXJ5XCIsXG4gICAgICBcIndjbS1jb2xvci1pbnZlcnNlXCI6IHRoaXMuY29sb3IgPT09IFwiaW52ZXJzZVwiLFxuICAgICAgXCJ3Y20tY29sb3ItYWNjbnRcIjogdGhpcy5jb2xvciA9PT0gXCJhY2NlbnRcIixcbiAgICAgIFwid2NtLWNvbG9yLWVycm9yXCI6IHRoaXMuY29sb3IgPT09IFwiZXJyb3JcIlxuICAgIH07XG4gICAgcmV0dXJuIGh0bWxgPHNwYW4+PHNsb3QgY2xhc3M9XCIke2NsYXNzTWFwKGNsYXNzZXMpfVwiPjwvc2xvdD48L3NwYW4+YDtcbiAgfVxufTtcbldjbVRleHQuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRoXTtcbl9fZGVjb3JhdGVDbGFzcyRsKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtVGV4dC5wcm90b3R5cGUsIFwidmFyaWFudFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRsKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtVGV4dC5wcm90b3R5cGUsIFwiY29sb3JcIiwgMik7XG5XY21UZXh0ID0gX19kZWNvcmF0ZUNsYXNzJGwoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXRleHRcIilcbl0sIFdjbVRleHQpO1xuXG5jb25zdCBzdHlsZXMkZyA9IGNzc2BidXR0b257d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1idXR0b24taG92ZXItaGlnaGxpZ2h0LWJvcmRlci1yYWRpdXMpO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpmbGV4LXN0YXJ0fWJ1dHRvbjphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9QG1lZGlhKGhvdmVyOmhvdmVyKXtidXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9fWJ1dHRvbj5kaXZ7d2lkdGg6ODBweDtwYWRkaW5nOjVweCAwO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyfXdjbS10ZXh0e3dpZHRoOjEwMCU7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3RleHQtYWxpZ246Y2VudGVyfXdjbS13YWxsZXQtaW1hZ2V7aGVpZ2h0OjYwcHg7d2lkdGg6NjBweDt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZTtib3JkZXItcmFkaXVzOnZhcigtLXdjbS13YWxsZXQtaWNvbi1ib3JkZXItcmFkaXVzKTttYXJnaW4tYm90dG9tOjVweH0ud2NtLXN1YmxhYmVse21hcmdpbi10b3A6MnB4fWA7XG5cbnZhciBfX2RlZlByb3AkayA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGsgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRrID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGsodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGsodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVdhbGxldEJ1dHRvbiA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5vbkNsaWNrID0gKCkgPT4gbnVsbDtcbiAgICB0aGlzLm5hbWUgPSBcIlwiO1xuICAgIHRoaXMud2FsbGV0SWQgPSBcIlwiO1xuICAgIHRoaXMubGFiZWwgPSB2b2lkIDA7XG4gICAgdGhpcy5pbWFnZUlkID0gdm9pZCAwO1xuICAgIHRoaXMuaW5zdGFsbGVkID0gZmFsc2U7XG4gICAgdGhpcy5yZWNlbnQgPSBmYWxzZTtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBzdWJsYWJlbFRlbXBsYXRlKCkge1xuICAgIGlmICh0aGlzLnJlY2VudCkge1xuICAgICAgcmV0dXJuIGh0bWxgPHdjbS10ZXh0IGNsYXNzPVwid2NtLXN1YmxhYmVsXCIgdmFyaWFudD1cInhzbWFsbC1ib2xkXCIgY29sb3I9XCJ0ZXJ0aWFyeVwiPlJFQ0VOVDwvd2NtLXRleHQ+YDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaW5zdGFsbGVkKSB7XG4gICAgICByZXR1cm4gaHRtbGA8d2NtLXRleHQgY2xhc3M9XCJ3Y20tc3VibGFiZWxcIiB2YXJpYW50PVwieHNtYWxsLWJvbGRcIiBjb2xvcj1cInRlcnRpYXJ5XCI+SU5TVEFMTEVEPC93Y20tdGV4dD5gO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBoYW5kbGVDbGljaygpIHtcbiAgICBFdmVudHNDdHJsLmNsaWNrKHsgbmFtZTogXCJXQUxMRVRfQlVUVE9OXCIsIHdhbGxldElkOiB0aGlzLndhbGxldElkIH0pO1xuICAgIHRoaXMub25DbGljaygpO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIGh0bWxgPGJ1dHRvbiBAY2xpY2s9XCIke3RoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKX1cIj48ZGl2Pjx3Y20td2FsbGV0LWltYWdlIHdhbGxldElkPVwiJHt0aGlzLndhbGxldElkfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZCh0aGlzLmltYWdlSWQpfVwiPjwvd2NtLXdhbGxldC1pbWFnZT48d2NtLXRleHQgdmFyaWFudD1cInhzbWFsbC1yZWd1bGFyXCI+JHsoX2EgPSB0aGlzLmxhYmVsKSAhPSBudWxsID8gX2EgOiBVaVV0aWwuZ2V0V2FsbGV0TmFtZSh0aGlzLm5hbWUsIHRydWUpfTwvd2NtLXRleHQ+JHt0aGlzLnN1YmxhYmVsVGVtcGxhdGUoKX08L2Rpdj48L2J1dHRvbj5gO1xuICB9XG59O1xuV2NtV2FsbGV0QnV0dG9uLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkZ107XG5fX2RlY29yYXRlQ2xhc3MkayhbXG4gIHByb3BlcnR5KClcbl0sIFdjbVdhbGxldEJ1dHRvbi5wcm90b3R5cGUsIFwib25DbGlja1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRrKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtV2FsbGV0QnV0dG9uLnByb3RvdHlwZSwgXCJuYW1lXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGsoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21XYWxsZXRCdXR0b24ucHJvdG90eXBlLCBcIndhbGxldElkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGsoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21XYWxsZXRCdXR0b24ucHJvdG90eXBlLCBcImxhYmVsXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGsoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21XYWxsZXRCdXR0b24ucHJvdG90eXBlLCBcImltYWdlSWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkayhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtV2FsbGV0QnV0dG9uLnByb3RvdHlwZSwgXCJpbnN0YWxsZWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkayhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgV2NtV2FsbGV0QnV0dG9uLnByb3RvdHlwZSwgXCJyZWNlbnRcIiwgMik7XG5XY21XYWxsZXRCdXR0b24gPSBfX2RlY29yYXRlQ2xhc3MkayhbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20td2FsbGV0LWJ1dHRvblwiKVxuXSwgV2NtV2FsbGV0QnV0dG9uKTtcblxuY29uc3Qgc3R5bGVzJGYgPSBjc3NgOmhvc3R7ZGlzcGxheTpibG9ja31kaXZ7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlci1yYWRpdXM6aW5oZXJpdDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfXN2Z3twb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfWRpdjo6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtib3JkZXItcmFkaXVzOmluaGVyaXQ7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9ZGl2IGltZ3t3aWR0aDoxMDAlO2hlaWdodDoxMDAlO29iamVjdC1maXQ6Y292ZXI7b2JqZWN0LXBvc2l0aW9uOmNlbnRlcn0jd2FsbGV0LXBsYWNlaG9sZGVyLWZpbGx7ZmlsbDp2YXIoLS13Y20tY29sb3ItYmctMyl9I3dhbGxldC1wbGFjZWhvbGRlci1kYXNoe3N0cm9rZTp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9YDtcblxudmFyIF9fZGVmUHJvcCRqID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkaiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGogPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2Mkaih0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3Akaih0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtV2FsbGV0SW1hZ2UgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMud2FsbGV0SWQgPSBcIlwiO1xuICAgIHRoaXMuaW1hZ2VJZCA9IHZvaWQgMDtcbiAgICB0aGlzLmltYWdlVXJsID0gdm9pZCAwO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgc3JjID0gKChfYSA9IHRoaXMuaW1hZ2VVcmwpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID8gdGhpcy5pbWFnZVVybCA6IFVpVXRpbC5nZXRXYWxsZXRJY29uKHsgaWQ6IHRoaXMud2FsbGV0SWQsIGltYWdlX2lkOiB0aGlzLmltYWdlSWQgfSk7XG4gICAgcmV0dXJuIGh0bWxgJHtzcmMubGVuZ3RoID8gaHRtbGA8ZGl2PjxpbWcgY3Jvc3NvcmlnaW49XCJhbm9ueW1vdXNcIiBzcmM9XCIke3NyY31cIiBhbHQ9XCIke3RoaXMuaWR9XCI+PC9kaXY+YCA6IFN2Z1V0aWwuV0FMTEVUX1BMQUNFSE9MREVSfWA7XG4gIH1cbn07XG5XY21XYWxsZXRJbWFnZS5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGZdO1xuX19kZWNvcmF0ZUNsYXNzJGooW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21XYWxsZXRJbWFnZS5wcm90b3R5cGUsIFwid2FsbGV0SWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkaihbXG4gIHByb3BlcnR5KClcbl0sIFdjbVdhbGxldEltYWdlLnByb3RvdHlwZSwgXCJpbWFnZUlkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGooW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21XYWxsZXRJbWFnZS5wcm90b3R5cGUsIFwiaW1hZ2VVcmxcIiwgMik7XG5XY21XYWxsZXRJbWFnZSA9IF9fZGVjb3JhdGVDbGFzcyRqKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS13YWxsZXQtaW1hZ2VcIilcbl0sIFdjbVdhbGxldEltYWdlKTtcblxudmFyIF9fZGVmUHJvcCRpID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkaSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGkgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkaSh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkaSh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtRXhwbG9yZXJDb250ZXh0ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gbGlmZWN5Y2xlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnByZWxvYWQgPSB0cnVlO1xuICAgIHRoaXMucHJlbG9hZERhdGEoKTtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBhc3luYyBsb2FkSW1hZ2VzKGltYWdlcykge1xuICAgIHRyeSB7XG4gICAgICBpZiAoaW1hZ2VzID09IG51bGwgPyB2b2lkIDAgOiBpbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGltYWdlcy5tYXAoYXN5bmMgKHVybCkgPT4gVWlVdGlsLnByZWxvYWRJbWFnZSh1cmwpKSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5pbmZvKFwiVW5zdWNjZXNzZnVsIGF0dGVtcHQgYXQgcHJlbG9hZGluZyBzb21lIGltYWdlc1wiLCBpbWFnZXMpO1xuICAgIH1cbiAgfVxuICBhc3luYyBwcmVsb2FkTGlzdGluZ3MoKSB7XG4gICAgaWYgKENvbmZpZ0N0cmwuc3RhdGUuZW5hYmxlRXhwbG9yZXIpIHtcbiAgICAgIGF3YWl0IEV4cGxvcmVyQ3RybC5nZXRSZWNvbWVuZGVkV2FsbGV0cygpO1xuICAgICAgT3B0aW9uc0N0cmwuc2V0SXNEYXRhTG9hZGVkKHRydWUpO1xuICAgICAgY29uc3QgeyByZWNvbWVuZGVkV2FsbGV0cyB9ID0gRXhwbG9yZXJDdHJsLnN0YXRlO1xuICAgICAgY29uc3Qgd2FsbGV0SW1ncyA9IHJlY29tZW5kZWRXYWxsZXRzLm1hcCgod2FsbGV0KSA9PiBVaVV0aWwuZ2V0V2FsbGV0SWNvbih3YWxsZXQpKTtcbiAgICAgIGF3YWl0IHRoaXMubG9hZEltYWdlcyh3YWxsZXRJbWdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgT3B0aW9uc0N0cmwuc2V0SXNEYXRhTG9hZGVkKHRydWUpO1xuICAgIH1cbiAgfVxuICBhc3luYyBwcmVsb2FkQ3VzdG9tSW1hZ2VzKCkge1xuICAgIGNvbnN0IGltYWdlcyA9IFVpVXRpbC5nZXRDdXN0b21JbWFnZVVybHMoKTtcbiAgICBhd2FpdCB0aGlzLmxvYWRJbWFnZXMoaW1hZ2VzKTtcbiAgfVxuICBhc3luYyBwcmVsb2FkRGF0YSgpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMucHJlbG9hZCkge1xuICAgICAgICB0aGlzLnByZWxvYWQgPSBmYWxzZTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMucHJlbG9hZExpc3RpbmdzKCksIHRoaXMucHJlbG9hZEN1c3RvbUltYWdlcygpXSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICBUb2FzdEN0cmwub3BlblRvYXN0KFwiRmFpbGVkIHByZWxvYWRpbmdcIiwgXCJlcnJvclwiKTtcbiAgICB9XG4gIH1cbn07XG5fX2RlY29yYXRlQ2xhc3MkaShbXG4gIHN0YXRlKClcbl0sIFdjbUV4cGxvcmVyQ29udGV4dC5wcm90b3R5cGUsIFwicHJlbG9hZFwiLCAyKTtcbldjbUV4cGxvcmVyQ29udGV4dCA9IF9fZGVjb3JhdGVDbGFzcyRpKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1leHBsb3Jlci1jb250ZXh0XCIpXG5dLCBXY21FeHBsb3JlckNvbnRleHQpO1xuXG52YXIgX19kZWZQcm9wJGggPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRoID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkaCA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRoKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRoKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21UaGVtZUNvbnRleHQgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBsaWZlY3ljbGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gICAgdGhpcy51bnN1YnNjcmliZVRoZW1lID0gdm9pZCAwO1xuICAgIFRoZW1lVXRpbC5zZXRUaGVtZSgpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVUaGVtZSA9IFRoZW1lQ3RybC5zdWJzY3JpYmUoVGhlbWVVdGlsLnNldFRoZW1lKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy51bnN1YnNjcmliZVRoZW1lKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTtcbiAgfVxufTtcbldjbVRoZW1lQ29udGV4dCA9IF9fZGVjb3JhdGVDbGFzcyRoKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS10aGVtZS1jb250ZXh0XCIpXG5dLCBXY21UaGVtZUNvbnRleHQpO1xuXG5jb25zdCBzdHlsZXMkZSA9IGNzc2BAa2V5ZnJhbWVzIHNjcm9sbHswJXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKGNhbGMoLTcwcHggKiA5KSwwLDApfX0ud2NtLXNsaWRlcntwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdy14OmhpZGRlbjtwYWRkaW5nOjEwcHggMDttYXJnaW46MCAtMjBweDt3aWR0aDpjYWxjKDEwMCUgKyA0MHB4KX0ud2NtLXRyYWNre2Rpc3BsYXk6ZmxleDt3aWR0aDpjYWxjKDcwcHggKiAxOCk7YW5pbWF0aW9uOnNjcm9sbCAyMHMgbGluZWFyIGluZmluaXRlO29wYWNpdHk6Ljd9LndjbS10cmFjayBzdmd7bWFyZ2luOjAgNXB4fXdjbS13YWxsZXQtaW1hZ2V7d2lkdGg6NjBweDtoZWlnaHQ6NjBweDttYXJnaW46MCA1cHg7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20td2FsbGV0LWljb24tYm9yZGVyLXJhZGl1cyl9LndjbS1ncmlke2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDQsODBweCk7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LndjbS10aXRsZXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbi1ib3R0b206MTBweH0ud2NtLXRpdGxlIHN2Z3ttYXJnaW4tcmlnaHQ6NnB4fS53Y20tdGl0bGUgcGF0aHtmaWxsOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpfXdjbS1tb2RhbC1mb290ZXIgLndjbS10aXRsZXtwYWRkaW5nOjAgMTBweH13Y20tYnV0dG9uLWJpZ3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpIHRyYW5zbGF0ZVgoLTUwJSk7ZmlsdGVyOmRyb3Atc2hhZG93KDAgMCAxN3B4IHZhcigtLXdjbS1jb2xvci1iZy0xKSl9d2NtLWluZm8tZm9vdGVye2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7cGFkZGluZzo1cHggMH13Y20taW5mby1mb290ZXIgd2NtLXRleHR7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLWJvdHRvbToxNXB4fSN3YWxsZXQtcGxhY2Vob2xkZXItZmlsbHtmaWxsOnZhcigtLXdjbS1jb2xvci1iZy0zKX0jd2FsbGV0LXBsYWNlaG9sZGVyLWRhc2h7c3Ryb2tlOnZhcigtLXdjbS1jb2xvci1vdmVybGF5KX1gO1xuXG52YXIgX19kZWZQcm9wJGcgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRnID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkZyA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRnKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRnKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21BbmRyb2lkV2FsbGV0U2VsZWN0aW9uID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgb25Hb1RvUXJjb2RlKCkge1xuICAgIFJvdXRlckN0cmwucHVzaChcIlFyY29kZVwiKTtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyByZWNvbWVuZGVkV2FsbGV0cyB9ID0gRXhwbG9yZXJDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHdhbGxldHMgPSBbLi4ucmVjb21lbmRlZFdhbGxldHMsIC4uLnJlY29tZW5kZWRXYWxsZXRzXTtcbiAgICBjb25zdCByZWNvbWVuZGVkQ291bnQgPSBDb3JlVXRpbC5SRUNPTU1FTkRFRF9XQUxMRVRfQU1PVU5UICogMjtcbiAgICByZXR1cm4gaHRtbGA8d2NtLW1vZGFsLWhlYWRlciB0aXRsZT1cIkNvbm5lY3QgeW91ciB3YWxsZXRcIiAub25BY3Rpb249XCIke3RoaXMub25Hb1RvUXJjb2RlfVwiIC5hY3Rpb25JY29uPVwiJHtTdmdVdGlsLlFSQ09ERV9JQ09OfVwiPjwvd2NtLW1vZGFsLWhlYWRlcj48d2NtLW1vZGFsLWNvbnRlbnQ+PGRpdiBjbGFzcz1cIndjbS10aXRsZVwiPiR7U3ZnVXRpbC5NT0JJTEVfSUNPTn08d2NtLXRleHQgdmFyaWFudD1cInNtYWxsLXJlZ3VsYXJcIiBjb2xvcj1cImFjY2VudFwiPldhbGxldENvbm5lY3Q8L3djbS10ZXh0PjwvZGl2PjxkaXYgY2xhc3M9XCJ3Y20tc2xpZGVyXCI+PGRpdiBjbGFzcz1cIndjbS10cmFja1wiPiR7Wy4uLkFycmF5KHJlY29tZW5kZWRDb3VudCldLm1hcCgoXywgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHdhbGxldCA9IHdhbGxldHNbaW5kZXggJSB3YWxsZXRzLmxlbmd0aF07XG4gICAgICByZXR1cm4gd2FsbGV0ID8gaHRtbGA8d2NtLXdhbGxldC1pbWFnZSB3YWxsZXRJZD1cIiR7d2FsbGV0LmlkfVwiIGltYWdlSWQ9XCIke3dhbGxldC5pbWFnZV9pZH1cIj48L3djbS13YWxsZXQtaW1hZ2U+YCA6IFN2Z1V0aWwuV0FMTEVUX1BMQUNFSE9MREVSO1xuICAgIH0pfTwvZGl2Pjx3Y20tYnV0dG9uLWJpZyBAY2xpY2s9XCIke1VpVXRpbC5oYW5kbGVBbmRyb2lkTGlua2luZ31cIj48d2NtLXRleHQgdmFyaWFudD1cIm1lZGl1bS1yZWd1bGFyXCIgY29sb3I9XCJpbnZlcnNlXCI+U2VsZWN0IFdhbGxldDwvd2NtLXRleHQ+PC93Y20tYnV0dG9uLWJpZz48L2Rpdj48L3djbS1tb2RhbC1jb250ZW50Pjx3Y20taW5mby1mb290ZXI+PHdjbS10ZXh0IGNvbG9yPVwic2Vjb25kYXJ5XCIgdmFyaWFudD1cInNtYWxsLXRoaW5cIj5DaG9vc2UgV2FsbGV0Q29ubmVjdCB0byBzZWUgc3VwcG9ydGVkIGFwcHMgb24geW91ciBkZXZpY2U8L3djbS10ZXh0Pjwvd2NtLWluZm8tZm9vdGVyPmA7XG4gIH1cbn07XG5XY21BbmRyb2lkV2FsbGV0U2VsZWN0aW9uLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkZV07XG5XY21BbmRyb2lkV2FsbGV0U2VsZWN0aW9uID0gX19kZWNvcmF0ZUNsYXNzJGcoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWFuZHJvaWQtd2FsbGV0LXNlbGVjdGlvblwiKVxuXSwgV2NtQW5kcm9pZFdhbGxldFNlbGVjdGlvbik7XG5cbmNvbnN0IHN0eWxlcyRkID0gY3NzYEBrZXlmcmFtZXMgbG9hZGluZ3t0b3tzdHJva2UtZGFzaG9mZnNldDowfX1Aa2V5ZnJhbWVzIHNoYWtlezEwJSw5MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xcHgsMCwwKX0yMCUsODAle3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxcHgsMCwwKX0zMCUsNTAlLDcwJXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTJweCwwLDApfTQwJSw2MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDJweCwwLDApfX06aG9zdHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcn1kaXZ7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTEwcHg7aGVpZ2h0OjExMHB4O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW46NDBweCAwIDIwcHggMDt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfXN2Z3twb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMTBweDtoZWlnaHQ6MTEwcHg7ZmlsbDpub25lO3N0cm9rZTp0cmFuc3BhcmVudDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2Utd2lkdGg6MnB4O3RvcDowO2xlZnQ6MH11c2V7c3Ryb2tlOnZhcigtLXdjbS1hY2NlbnQtY29sb3IpO2FuaW1hdGlvbjpsb2FkaW5nIDFzIGxpbmVhciBpbmZpbml0ZX13Y20td2FsbGV0LWltYWdle2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLXdhbGxldC1pY29uLWxhcmdlLWJvcmRlci1yYWRpdXMpO3dpZHRoOjkwcHg7aGVpZ2h0OjkwcHh9d2NtLXRleHR7bWFyZ2luLWJvdHRvbTo0MHB4fS53Y20tZXJyb3Igc3Zne3N0cm9rZTp2YXIoLS13Y20tZXJyb3ItY29sb3IpfS53Y20tZXJyb3IgdXNle2Rpc3BsYXk6bm9uZX0ud2NtLWVycm9ye2FuaW1hdGlvbjpzaGFrZSAuNHMgY3ViaWMtYmV6aWVyKC4zNiwuMDcsLjE5LC45NykgYm90aH0ud2NtLXN0YWxlIHN2Zywud2NtLXN0YWxlIHVzZXtkaXNwbGF5Om5vbmV9YDtcblxudmFyIF9fZGVmUHJvcCRmID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGYgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkZih0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkZih0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtQ29ubmVjdG9yV2FpdGluZyA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy53YWxsZXRJZCA9IHZvaWQgMDtcbiAgICB0aGlzLmltYWdlSWQgPSB2b2lkIDA7XG4gICAgdGhpcy5pc0Vycm9yID0gZmFsc2U7XG4gICAgdGhpcy5pc1N0YWxlID0gZmFsc2U7XG4gICAgdGhpcy5sYWJlbCA9IFwiXCI7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgc3ZnTG9hZGVyVGVtcGxhdGUoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBJQ09OX1NJWkUgPSA4ODtcbiAgICBjb25zdCBESF9BUlJBWSA9IDMxNztcbiAgICBjb25zdCBESF9PRkZTRVQgPSA0MjU7XG4gICAgY29uc3QgcmFkaXVzID0gKF9iID0gKF9hID0gVGhlbWVDdHJsLnN0YXRlLnRoZW1lVmFyaWFibGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2FbXCItLXdjbS13YWxsZXQtaWNvbi1sYXJnZS1ib3JkZXItcmFkaXVzXCJdKSAhPSBudWxsID8gX2IgOiBUaGVtZVV0aWwuZ2V0UHJlc2V0KFwiLS13Y20td2FsbGV0LWljb24tbGFyZ2UtYm9yZGVyLXJhZGl1c1wiKTtcbiAgICBsZXQgbnVtUmFkaXVzID0gMDtcbiAgICBpZiAocmFkaXVzLmluY2x1ZGVzKFwiJVwiKSkge1xuICAgICAgbnVtUmFkaXVzID0gSUNPTl9TSVpFIC8gMTAwICogcGFyc2VJbnQocmFkaXVzLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG51bVJhZGl1cyA9IHBhcnNlSW50KHJhZGl1cywgMTApO1xuICAgIH1cbiAgICBudW1SYWRpdXMgKj0gMS4xNztcbiAgICBjb25zdCBkYXNoQXJyYXkgPSBESF9BUlJBWSAtIG51bVJhZGl1cyAqIDEuNTc7XG4gICAgY29uc3QgZGFzaE9mZnNldCA9IERIX09GRlNFVCAtIG51bVJhZGl1cyAqIDEuODtcbiAgICByZXR1cm4gaHRtbGA8c3ZnIHZpZXdCb3g9XCIwIDAgMTEwIDExMFwiIHdpZHRoPVwiMTEwXCIgaGVpZ2h0PVwiMTEwXCI+PHJlY3QgaWQ9XCJ3Y20tbG9hZGVyXCIgeD1cIjJcIiB5PVwiMlwiIHdpZHRoPVwiMTA2XCIgaGVpZ2h0PVwiMTA2XCIgcng9XCIke251bVJhZGl1c31cIi8+PHVzZSB4bGluazpocmVmPVwiI3djbS1sb2FkZXJcIiBzdHJva2UtZGFzaGFycmF5PVwiMTA2ICR7ZGFzaEFycmF5fVwiIHN0cm9rZS1kYXNob2Zmc2V0PVwiJHtkYXNoT2Zmc2V0fVwiPjwvdXNlPjwvc3ZnPmA7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgICBcIndjbS1lcnJvclwiOiB0aGlzLmlzRXJyb3IsXG4gICAgICBcIndjbS1zdGFsZVwiOiB0aGlzLmlzU3RhbGVcbiAgICB9O1xuICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCIke2NsYXNzTWFwKGNsYXNzZXMpfVwiPiR7dGhpcy5zdmdMb2FkZXJUZW1wbGF0ZSgpfTx3Y20td2FsbGV0LWltYWdlIHdhbGxldElkPVwiJHtpZkRlZmluZWQodGhpcy53YWxsZXRJZCl9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKHRoaXMuaW1hZ2VJZCl9XCI+PC93Y20td2FsbGV0LWltYWdlPjwvZGl2Pjx3Y20tdGV4dCB2YXJpYW50PVwibWVkaXVtLXJlZ3VsYXJcIiBjb2xvcj1cIiR7dGhpcy5pc0Vycm9yID8gXCJlcnJvclwiIDogXCJwcmltYXJ5XCJ9XCI+JHt0aGlzLmlzRXJyb3IgPyBcIkNvbm5lY3Rpb24gZGVjbGluZWRcIiA6IHRoaXMubGFiZWx9PC93Y20tdGV4dD5gO1xuICB9XG59O1xuV2NtQ29ubmVjdG9yV2FpdGluZy5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGRdO1xuX19kZWNvcmF0ZUNsYXNzJGYoW1xuICBwcm9wZXJ0eSgpXG5dLCBXY21Db25uZWN0b3JXYWl0aW5nLnByb3RvdHlwZSwgXCJ3YWxsZXRJZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRmKFtcbiAgcHJvcGVydHkoKVxuXSwgV2NtQ29ubmVjdG9yV2FpdGluZy5wcm90b3R5cGUsIFwiaW1hZ2VJZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRmKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21Db25uZWN0b3JXYWl0aW5nLnByb3RvdHlwZSwgXCJpc0Vycm9yXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGYoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbUNvbm5lY3RvcldhaXRpbmcucHJvdG90eXBlLCBcImlzU3RhbGVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkZihbXG4gIHByb3BlcnR5KClcbl0sIFdjbUNvbm5lY3RvcldhaXRpbmcucHJvdG90eXBlLCBcImxhYmVsXCIsIDIpO1xuV2NtQ29ubmVjdG9yV2FpdGluZyA9IF9fZGVjb3JhdGVDbGFzcyRmKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1jb25uZWN0b3Itd2FpdGluZ1wiKVxuXSwgV2NtQ29ubmVjdG9yV2FpdGluZyk7XG5cbmNvbnN0IERhdGFVdGlsID0ge1xuICBtYW51YWxXYWxsZXRzKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgeyBtb2JpbGVXYWxsZXRzLCBkZXNrdG9wV2FsbGV0cyB9ID0gQ29uZmlnQ3RybC5zdGF0ZTtcbiAgICBjb25zdCByZWNlbnRXYWxsZXRJZCA9IChfYSA9IERhdGFVdGlsLnJlY2VudFdhbGxldCgpKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaWQ7XG4gICAgY29uc3QgcGxhdGZvcm1XYWxsZXRzID0gQ29yZVV0aWwuaXNNb2JpbGUoKSA/IG1vYmlsZVdhbGxldHMgOiBkZXNrdG9wV2FsbGV0cztcbiAgICBjb25zdCB3YWxsZXRzID0gcGxhdGZvcm1XYWxsZXRzID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybVdhbGxldHMuZmlsdGVyKCh3YWxsZXQpID0+IHJlY2VudFdhbGxldElkICE9PSB3YWxsZXQuaWQpO1xuICAgIHJldHVybiAoX2IgPSBDb3JlVXRpbC5pc01vYmlsZSgpID8gd2FsbGV0cyA9PSBudWxsID8gdm9pZCAwIDogd2FsbGV0cy5tYXAoKHsgaWQsIG5hbWUsIGxpbmtzIH0pID0+ICh7IGlkLCBuYW1lLCBtb2JpbGU6IGxpbmtzLCBsaW5rcyB9KSkgOiB3YWxsZXRzID09IG51bGwgPyB2b2lkIDAgOiB3YWxsZXRzLm1hcCgoeyBpZCwgbmFtZSwgbGlua3MgfSkgPT4gKHsgaWQsIG5hbWUsIGRlc2t0b3A6IGxpbmtzLCBsaW5rcyB9KSkpICE9IG51bGwgPyBfYiA6IFtdO1xuICB9LFxuICByZWNlbnRXYWxsZXQoKSB7XG4gICAgcmV0dXJuIFVpVXRpbC5nZXRSZWNlbnRXYWxsZXQoKTtcbiAgfSxcbiAgcmVjb21lbmRlZFdhbGxldHMoc2tpcFJlY2VudCA9IGZhbHNlKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJlY2VudFdhbGxldElkID0gc2tpcFJlY2VudCA/IHZvaWQgMCA6IChfYSA9IERhdGFVdGlsLnJlY2VudFdhbGxldCgpKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaWQ7XG4gICAgY29uc3QgeyByZWNvbWVuZGVkV2FsbGV0cyB9ID0gRXhwbG9yZXJDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHdhbGxldHMgPSByZWNvbWVuZGVkV2FsbGV0cy5maWx0ZXIoKHdhbGxldCkgPT4gcmVjZW50V2FsbGV0SWQgIT09IHdhbGxldC5pZCk7XG4gICAgcmV0dXJuIHdhbGxldHM7XG4gIH1cbn07XG5cbmNvbnN0IFRlbXBsYXRlVXRpbCA9IHtcbiAgb25Db25uZWN0aW5nKGRhdGEpIHtcbiAgICBVaVV0aWwuZ29Ub0Nvbm5lY3RpbmdWaWV3KGRhdGEpO1xuICB9LFxuICBtYW51YWxXYWxsZXRzVGVtcGxhdGUoKSB7XG4gICAgY29uc3Qgd2FsbGV0cyA9IERhdGFVdGlsLm1hbnVhbFdhbGxldHMoKTtcbiAgICByZXR1cm4gd2FsbGV0cy5tYXAoXG4gICAgICAod2FsbGV0KSA9PiBodG1sYDx3Y20td2FsbGV0LWJ1dHRvbiB3YWxsZXRJZD1cIiR7d2FsbGV0LmlkfVwiIG5hbWU9XCIke3dhbGxldC5uYW1lfVwiIC5vbkNsaWNrPVwiJHsoKSA9PiB0aGlzLm9uQ29ubmVjdGluZyh3YWxsZXQpfVwiPjwvd2NtLXdhbGxldC1idXR0b24+YFxuICAgICk7XG4gIH0sXG4gIHJlY29tZW5kZWRXYWxsZXRzVGVtcGxhdGUoc2tpcFJlY2VudCA9IGZhbHNlKSB7XG4gICAgY29uc3Qgd2FsbGV0cyA9IERhdGFVdGlsLnJlY29tZW5kZWRXYWxsZXRzKHNraXBSZWNlbnQpO1xuICAgIHJldHVybiB3YWxsZXRzLm1hcChcbiAgICAgICh3YWxsZXQpID0+IGh0bWxgPHdjbS13YWxsZXQtYnV0dG9uIG5hbWU9XCIke3dhbGxldC5uYW1lfVwiIHdhbGxldElkPVwiJHt3YWxsZXQuaWR9XCIgaW1hZ2VJZD1cIiR7d2FsbGV0LmltYWdlX2lkfVwiIC5vbkNsaWNrPVwiJHsoKSA9PiB0aGlzLm9uQ29ubmVjdGluZyh3YWxsZXQpfVwiPjwvd2NtLXdhbGxldC1idXR0b24+YFxuICAgICk7XG4gIH0sXG4gIHJlY2VudFdhbGxldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IHdhbGxldCA9IERhdGFVdGlsLnJlY2VudFdhbGxldCgpO1xuICAgIGlmICghd2FsbGV0KSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbGA8d2NtLXdhbGxldC1idXR0b24gbmFtZT1cIiR7d2FsbGV0Lm5hbWV9XCIgd2FsbGV0SWQ9XCIke3dhbGxldC5pZH1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQod2FsbGV0LmltYWdlX2lkKX1cIiAucmVjZW50PVwiJHt0cnVlfVwiIC5vbkNsaWNrPVwiJHsoKSA9PiB0aGlzLm9uQ29ubmVjdGluZyh3YWxsZXQpfVwiPjwvd2NtLXdhbGxldC1idXR0b24+YDtcbiAgfVxufTtcblxuY29uc3Qgc3R5bGVzJGMgPSBjc3NgLndjbS1ncmlke2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDQsODBweCk7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LndjbS1kZXNrdG9wLXRpdGxlLC53Y20tbW9iaWxlLXRpdGxle2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXJ9LndjbS1tb2JpbGUtdGl0bGV7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47bWFyZ2luLWJvdHRvbToyMHB4O21hcmdpbi10b3A6LTEwcHh9LndjbS1kZXNrdG9wLXRpdGxle21hcmdpbi1ib3R0b206MTBweDtwYWRkaW5nOjAgMTBweH0ud2NtLXN1YnRpdGxle2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXJ9LndjbS1zdWJ0aXRsZTpsYXN0LWNoaWxkIHBhdGh7ZmlsbDp2YXIoLS13Y20tY29sb3ItZmctMyl9LndjbS1kZXNrdG9wLXRpdGxlIHN2Zywud2NtLW1vYmlsZS10aXRsZSBzdmd7bWFyZ2luLXJpZ2h0OjZweH0ud2NtLWRlc2t0b3AtdGl0bGUgcGF0aCwud2NtLW1vYmlsZS10aXRsZSBwYXRoe2ZpbGw6dmFyKC0td2NtLWFjY2VudC1jb2xvcil9YDtcblxudmFyIF9fZGVmUHJvcCRlID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGUgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkZSh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkZSh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtRGVza3RvcFdhbGxldFNlbGVjdGlvbiA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMsIGVuYWJsZUV4cGxvcmVyIH0gPSBDb25maWdDdHJsLnN0YXRlO1xuICAgIGNvbnN0IGlzRXhwbG9yZXJXYWxsZXRzID0gZXhwbG9yZXJFeGNsdWRlZFdhbGxldElkcyAhPT0gXCJBTExcIiAmJiBlbmFibGVFeHBsb3JlcjtcbiAgICBjb25zdCBtYW51YWxUZW1wbGF0ZSA9IFRlbXBsYXRlVXRpbC5tYW51YWxXYWxsZXRzVGVtcGxhdGUoKTtcbiAgICBjb25zdCByZWNvbWVuZGVkVGVtcGxhdGUgPSBUZW1wbGF0ZVV0aWwucmVjb21lbmRlZFdhbGxldHNUZW1wbGF0ZSgpO1xuICAgIGNvbnN0IHJlY2VudFRlbXBsYXRlID0gVGVtcGxhdGVVdGlsLnJlY2VudFdhbGxldFRlbXBsYXRlKCk7XG4gICAgbGV0IHRlbXBsYXRlcyA9IFtyZWNlbnRUZW1wbGF0ZSwgLi4ubWFudWFsVGVtcGxhdGUsIC4uLnJlY29tZW5kZWRUZW1wbGF0ZV07XG4gICAgdGVtcGxhdGVzID0gdGVtcGxhdGVzLmZpbHRlcihCb29sZWFuKTtcbiAgICBjb25zdCBpc1ZpZXdBbGwgPSB0ZW1wbGF0ZXMubGVuZ3RoID4gNCB8fCBpc0V4cGxvcmVyV2FsbGV0cztcbiAgICBsZXQgd2FsbGV0cyA9IFtdO1xuICAgIGlmIChpc1ZpZXdBbGwpIHtcbiAgICAgIHdhbGxldHMgPSB0ZW1wbGF0ZXMuc2xpY2UoMCwgMyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhbGxldHMgPSB0ZW1wbGF0ZXM7XG4gICAgfVxuICAgIGNvbnN0IGlzV2FsbGV0cyA9IEJvb2xlYW4od2FsbGV0cy5sZW5ndGgpO1xuICAgIHJldHVybiBodG1sYDx3Y20tbW9kYWwtaGVhZGVyIC5ib3JkZXI9XCIke3RydWV9XCIgdGl0bGU9XCJDb25uZWN0IHlvdXIgd2FsbGV0XCIgLm9uQWN0aW9uPVwiJHtVaVV0aWwuaGFuZGxlVXJpQ29weX1cIiAuYWN0aW9uSWNvbj1cIiR7U3ZnVXRpbC5DT1BZX0lDT059XCI+PC93Y20tbW9kYWwtaGVhZGVyPjx3Y20tbW9kYWwtY29udGVudD48ZGl2IGNsYXNzPVwid2NtLW1vYmlsZS10aXRsZVwiPjxkaXYgY2xhc3M9XCJ3Y20tc3VidGl0bGVcIj4ke1N2Z1V0aWwuTU9CSUxFX0lDT059PHdjbS10ZXh0IHZhcmlhbnQ9XCJzbWFsbC1yZWd1bGFyXCIgY29sb3I9XCJhY2NlbnRcIj5Nb2JpbGU8L3djbS10ZXh0PjwvZGl2PjxkaXYgY2xhc3M9XCJ3Y20tc3VidGl0bGVcIj4ke1N2Z1V0aWwuU0NBTl9JQ09OfTx3Y20tdGV4dCB2YXJpYW50PVwic21hbGwtcmVndWxhclwiIGNvbG9yPVwic2Vjb25kYXJ5XCI+U2NhbiB3aXRoIHlvdXIgd2FsbGV0PC93Y20tdGV4dD48L2Rpdj48L2Rpdj48d2NtLXdhbGxldGNvbm5lY3QtcXI+PC93Y20td2FsbGV0Y29ubmVjdC1xcj48L3djbS1tb2RhbC1jb250ZW50PiR7aXNXYWxsZXRzID8gaHRtbGA8d2NtLW1vZGFsLWZvb3Rlcj48ZGl2IGNsYXNzPVwid2NtLWRlc2t0b3AtdGl0bGVcIj4ke1N2Z1V0aWwuREVTS1RPUF9JQ09OfTx3Y20tdGV4dCB2YXJpYW50PVwic21hbGwtcmVndWxhclwiIGNvbG9yPVwiYWNjZW50XCI+RGVza3RvcDwvd2NtLXRleHQ+PC9kaXY+PGRpdiBjbGFzcz1cIndjbS1ncmlkXCI+JHt3YWxsZXRzfSAke2lzVmlld0FsbCA/IGh0bWxgPHdjbS12aWV3LWFsbC13YWxsZXRzLWJ1dHRvbj48L3djbS12aWV3LWFsbC13YWxsZXRzLWJ1dHRvbj5gIDogbnVsbH08L2Rpdj48L3djbS1tb2RhbC1mb290ZXI+YCA6IG51bGx9YDtcbiAgfVxufTtcbldjbURlc2t0b3BXYWxsZXRTZWxlY3Rpb24uc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyRjXTtcbldjbURlc2t0b3BXYWxsZXRTZWxlY3Rpb24gPSBfX2RlY29yYXRlQ2xhc3MkZShbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tZGVza3RvcC13YWxsZXQtc2VsZWN0aW9uXCIpXG5dLCBXY21EZXNrdG9wV2FsbGV0U2VsZWN0aW9uKTtcblxuY29uc3Qgc3R5bGVzJGIgPSBjc3NgZGl2e2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTIpO3BhZGRpbmc6MTBweCAyMHB4IDE1cHggMjBweDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS13Y20tY29sb3ItYmctMyk7dGV4dC1hbGlnbjpjZW50ZXJ9YXtjb2xvcjp2YXIoLS13Y20tYWNjZW50LWNvbG9yKTt0ZXh0LWRlY29yYXRpb246bm9uZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzIGVhc2UtaW4tb3V0O2Rpc3BsYXk6aW5saW5lfWE6YWN0aXZle29wYWNpdHk6Ljh9QG1lZGlhKGhvdmVyOmhvdmVyKXthOmhvdmVye29wYWNpdHk6Ljh9fWA7XG5cbnZhciBfX2RlZlByb3AkZCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRkID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGQodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGQodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbUxlZ2FsTm90aWNlID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdGVybXNPZlNlcnZpY2VVcmwsIHByaXZhY3lQb2xpY3lVcmwgfSA9IENvbmZpZ0N0cmwuc3RhdGU7XG4gICAgY29uc3QgaXNMZWdhbCA9IHRlcm1zT2ZTZXJ2aWNlVXJsICE9IG51bGwgPyB0ZXJtc09mU2VydmljZVVybCA6IHByaXZhY3lQb2xpY3lVcmw7XG4gICAgaWYgKCFpc0xlZ2FsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWxgPGRpdj48d2NtLXRleHQgdmFyaWFudD1cInNtYWxsLXJlZ3VsYXJcIiBjb2xvcj1cInNlY29uZGFyeVwiPkJ5IGNvbm5lY3RpbmcgeW91ciB3YWxsZXQgdG8gdGhpcyBhcHAsIHlvdSBhZ3JlZSB0byB0aGUgYXBwJ3MgJHt0ZXJtc09mU2VydmljZVVybCA/IGh0bWxgPGEgaHJlZj1cIiR7dGVybXNPZlNlcnZpY2VVcmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiPlRlcm1zIG9mIFNlcnZpY2U8L2E+YCA6IG51bGx9ICR7dGVybXNPZlNlcnZpY2VVcmwgJiYgcHJpdmFjeVBvbGljeVVybCA/IFwiYW5kXCIgOiBudWxsfSAke3ByaXZhY3lQb2xpY3lVcmwgPyBodG1sYDxhIGhyZWY9XCIke3ByaXZhY3lQb2xpY3lVcmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiPlByaXZhY3kgUG9saWN5PC9hPmAgOiBudWxsfTwvd2NtLXRleHQ+PC9kaXY+YDtcbiAgfVxufTtcbldjbUxlZ2FsTm90aWNlLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkYl07XG5XY21MZWdhbE5vdGljZSA9IF9fZGVjb3JhdGVDbGFzcyRkKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1sZWdhbC1ub3RpY2VcIilcbl0sIFdjbUxlZ2FsTm90aWNlKTtcblxuY29uc3Qgc3R5bGVzJGEgPSBjc3NgZGl2e2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDQsODBweCk7bWFyZ2luOjAgLTEwcHg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47cm93LWdhcDoxMHB4fWA7XG5cbnZhciBfX2RlZlByb3AkYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJGMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyRjID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJGModGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJGModGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbU1vYmlsZVdhbGxldFNlbGVjdGlvbiA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIG9uUXJjb2RlKCkge1xuICAgIFJvdXRlckN0cmwucHVzaChcIlFyY29kZVwiKTtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBleHBsb3JlckV4Y2x1ZGVkV2FsbGV0SWRzLCBlbmFibGVFeHBsb3JlciB9ID0gQ29uZmlnQ3RybC5zdGF0ZTtcbiAgICBjb25zdCBpc0V4cGxvcmVyV2FsbGV0cyA9IGV4cGxvcmVyRXhjbHVkZWRXYWxsZXRJZHMgIT09IFwiQUxMXCIgJiYgZW5hYmxlRXhwbG9yZXI7XG4gICAgY29uc3QgbWFudWFsVGVtcGxhdGUgPSBUZW1wbGF0ZVV0aWwubWFudWFsV2FsbGV0c1RlbXBsYXRlKCk7XG4gICAgY29uc3QgcmVjb21lbmRlZFRlbXBsYXRlID0gVGVtcGxhdGVVdGlsLnJlY29tZW5kZWRXYWxsZXRzVGVtcGxhdGUoKTtcbiAgICBjb25zdCByZWNlbnRUZW1wbGF0ZSA9IFRlbXBsYXRlVXRpbC5yZWNlbnRXYWxsZXRUZW1wbGF0ZSgpO1xuICAgIGxldCB0ZW1wbGF0ZXMgPSBbcmVjZW50VGVtcGxhdGUsIC4uLm1hbnVhbFRlbXBsYXRlLCAuLi5yZWNvbWVuZGVkVGVtcGxhdGVdO1xuICAgIHRlbXBsYXRlcyA9IHRlbXBsYXRlcy5maWx0ZXIoQm9vbGVhbik7XG4gICAgY29uc3QgaXNWaWV3QWxsID0gdGVtcGxhdGVzLmxlbmd0aCA+IDggfHwgaXNFeHBsb3JlcldhbGxldHM7XG4gICAgbGV0IHdhbGxldHMgPSBbXTtcbiAgICBpZiAoaXNWaWV3QWxsKSB7XG4gICAgICB3YWxsZXRzID0gdGVtcGxhdGVzLnNsaWNlKDAsIDcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YWxsZXRzID0gdGVtcGxhdGVzO1xuICAgIH1cbiAgICBjb25zdCBpc1dhbGxldHMgPSBCb29sZWFuKHdhbGxldHMubGVuZ3RoKTtcbiAgICByZXR1cm4gaHRtbGA8d2NtLW1vZGFsLWhlYWRlciB0aXRsZT1cIkNvbm5lY3QgeW91ciB3YWxsZXRcIiAub25BY3Rpb249XCIke3RoaXMub25RcmNvZGV9XCIgLmFjdGlvbkljb249XCIke1N2Z1V0aWwuUVJDT0RFX0lDT059XCI+PC93Y20tbW9kYWwtaGVhZGVyPiR7aXNXYWxsZXRzID8gaHRtbGA8d2NtLW1vZGFsLWNvbnRlbnQ+PGRpdj4ke3dhbGxldHN9ICR7aXNWaWV3QWxsID8gaHRtbGA8d2NtLXZpZXctYWxsLXdhbGxldHMtYnV0dG9uPjwvd2NtLXZpZXctYWxsLXdhbGxldHMtYnV0dG9uPmAgOiBudWxsfTwvZGl2Pjwvd2NtLW1vZGFsLWNvbnRlbnQ+YCA6IG51bGx9YDtcbiAgfVxufTtcbldjbU1vYmlsZVdhbGxldFNlbGVjdGlvbi5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJGFdO1xuV2NtTW9iaWxlV2FsbGV0U2VsZWN0aW9uID0gX19kZWNvcmF0ZUNsYXNzJGMoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLW1vYmlsZS13YWxsZXQtc2VsZWN0aW9uXCIpXG5dLCBXY21Nb2JpbGVXYWxsZXRTZWxlY3Rpb24pO1xuXG5jb25zdCBzdHlsZXMkOSA9IGNzc2A6aG9zdHthbGw6aW5pdGlhbH0ud2NtLW92ZXJsYXl7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDp2YXIoLS13Y20tei1pbmRleCk7b3ZlcmZsb3c6aGlkZGVuO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXdjbS1vdmVybGF5LWJhY2tncm91bmQtY29sb3IpO2JhY2tkcm9wLWZpbHRlcjp2YXIoLS13Y20tb3ZlcmxheS1iYWNrZHJvcC1maWx0ZXIpfUBtZWRpYShtYXgtaGVpZ2h0OjcyMHB4KSBhbmQgKG9yaWVudGF0aW9uOmxhbmRzY2FwZSl7LndjbS1vdmVybGF5e292ZXJmbG93OnNjcm9sbDthbGlnbi1pdGVtczpmbGV4LXN0YXJ0O3BhZGRpbmc6MjBweCAwfX0ud2NtLWFjdGl2ZXtwb2ludGVyLWV2ZW50czphdXRvfS53Y20tY29udGFpbmVye3Bvc2l0aW9uOnJlbGF0aXZlO21heC13aWR0aDozNjBweDt3aWR0aDoxMDAlO291dGxpbmU6MDtib3JkZXItcmFkaXVzOnZhcigtLXdjbS1iYWNrZ3JvdW5kLWJvcmRlci1yYWRpdXMpIHZhcigtLXdjbS1iYWNrZ3JvdW5kLWJvcmRlci1yYWRpdXMpIHZhcigtLXdjbS1jb250YWluZXItYm9yZGVyLXJhZGl1cykgdmFyKC0td2NtLWNvbnRhaW5lci1ib3JkZXItcmFkaXVzKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLXdjbS1jb2xvci1vdmVybGF5KTtvdmVyZmxvdzpoaWRkZW59LndjbS1jYXJke3dpZHRoOjEwMCU7cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20tY29udGFpbmVyLWJvcmRlci1yYWRpdXMpO292ZXJmbG93OmhpZGRlbjtib3gtc2hhZG93OjAgNnB4IDE0cHggLTZweCByZ2JhKDEwLDE2LDMxLC4xMiksMCAxMHB4IDMycHggLTRweCByZ2JhKDEwLDE2LDMxLC4xKSwwIDAgMCAxcHggdmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpO2JhY2tncm91bmQtY29sb3I6dmFyKC0td2NtLWNvbG9yLWJnLTEpO2NvbG9yOnZhcigtLXdjbS1jb2xvci1mZy0xKX1AbWVkaWEobWF4LXdpZHRoOjYwMHB4KXsud2NtLWNvbnRhaW5lcnttYXgtd2lkdGg6NDQwcHg7Ym9yZGVyLXJhZGl1czp2YXIoLS13Y20tYmFja2dyb3VuZC1ib3JkZXItcmFkaXVzKSB2YXIoLS13Y20tYmFja2dyb3VuZC1ib3JkZXItcmFkaXVzKSAwIDB9LndjbS1jYXJke2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLWNvbnRhaW5lci1ib3JkZXItcmFkaXVzKSB2YXIoLS13Y20tY29udGFpbmVyLWJvcmRlci1yYWRpdXMpIDAgMH0ud2NtLW92ZXJsYXl7YWxpZ24taXRlbXM6ZmxleC1lbmR9fUBtZWRpYShtYXgtd2lkdGg6NDQwcHgpey53Y20tY29udGFpbmVye2JvcmRlcjowfX1gO1xuXG52YXIgX19kZWZQcm9wJGIgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyRiID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkYiA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyRiKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCRiKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Nb2RhbCA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIGxpZmVjeWNsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICAgIHRoaXMudW5zdWJzY3JpYmVNb2RhbCA9IHZvaWQgMDtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlciA9IHZvaWQgMDtcbiAgICB0aGlzLnVuc3Vic2NyaWJlTW9kYWwgPSBNb2RhbEN0cmwuc3Vic2NyaWJlKChtb2RhbFN0YXRlKSA9PiB7XG4gICAgICBpZiAobW9kYWxTdGF0ZS5vcGVuKSB7XG4gICAgICAgIHRoaXMub25PcGVuTW9kYWxFdmVudCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vbkNsb3NlTW9kYWxFdmVudCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLnVuc3Vic2NyaWJlTW9kYWwpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpO1xuICB9XG4gIGdldCBvdmVybGF5RWwoKSB7XG4gICAgcmV0dXJuIFVpVXRpbC5nZXRTaGFkb3dSb290RWxlbWVudCh0aGlzLCBcIi53Y20tb3ZlcmxheVwiKTtcbiAgfVxuICBnZXQgY29udGFpbmVyRWwoKSB7XG4gICAgcmV0dXJuIFVpVXRpbC5nZXRTaGFkb3dSb290RWxlbWVudCh0aGlzLCBcIi53Y20tY29udGFpbmVyXCIpO1xuICB9XG4gIHRvZ2dsZUJvZHlTY3JvbGwoZW5hYmxlZCkge1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICBpZiAoYm9keSkge1xuICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgY29uc3Qgd2NtU3R5bGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3Y20tc3R5bGVzXCIpO1xuICAgICAgICB3Y21TdHlsZXMgPT0gbnVsbCA/IHZvaWQgMCA6IHdjbVN0eWxlcy5yZW1vdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgICAgIFwiYmVmb3JlZW5kXCIsXG4gICAgICAgICAgYDxzdHlsZSBpZD1cIndjbS1zdHlsZXNcIj5odG1sLGJvZHl7dG91Y2gtYWN0aW9uOm5vbmU7b3ZlcmZsb3c6aGlkZGVuO292ZXJzY3JvbGwtYmVoYXZpb3I6Y29udGFpbjt9PC9zdHlsZT5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG9uQ2xvc2VNb2RhbChldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIE1vZGFsQ3RybC5jbG9zZSgpO1xuICAgIH1cbiAgfVxuICBvbk9wZW5Nb2RhbEV2ZW50KCkge1xuICAgIHRoaXMudG9nZ2xlQm9keVNjcm9sbChmYWxzZSk7XG4gICAgdGhpcy5hZGRLZXlib2FyZEV2ZW50cygpO1xuICAgIHRoaXMub3BlbiA9IHRydWU7XG4gICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhbmltYXRpb24gPSBVaVV0aWwuaXNNb2JpbGVBbmltYXRpb24oKSA/IHsgeTogW1wiNTB2aFwiLCBcIjB2aFwiXSB9IDogeyBzY2FsZTogWzAuOTgsIDFdIH07XG4gICAgICBjb25zdCBkZWxheSA9IDAuMTtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gMC4yO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBhbmltYXRlKHRoaXMub3ZlcmxheUVsLCB7IG9wYWNpdHk6IFswLCAxXSB9LCB7IGRlbGF5LCBkdXJhdGlvbiB9KS5maW5pc2hlZCxcbiAgICAgICAgYW5pbWF0ZSh0aGlzLmNvbnRhaW5lckVsLCBhbmltYXRpb24sIHsgZGVsYXksIGR1cmF0aW9uIH0pLmZpbmlzaGVkXG4gICAgICBdKTtcbiAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICB9LCAwKTtcbiAgfVxuICBhc3luYyBvbkNsb3NlTW9kYWxFdmVudCgpIHtcbiAgICB0aGlzLnRvZ2dsZUJvZHlTY3JvbGwodHJ1ZSk7XG4gICAgdGhpcy5yZW1vdmVLZXlib2FyZEV2ZW50cygpO1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IFVpVXRpbC5pc01vYmlsZUFuaW1hdGlvbigpID8geyB5OiBbXCIwdmhcIiwgXCI1MHZoXCJdIH0gOiB7IHNjYWxlOiBbMSwgMC45OF0gfTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IDAuMjtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBhbmltYXRlKHRoaXMub3ZlcmxheUVsLCB7IG9wYWNpdHk6IFsxLCAwXSB9LCB7IGR1cmF0aW9uIH0pLmZpbmlzaGVkLFxuICAgICAgYW5pbWF0ZSh0aGlzLmNvbnRhaW5lckVsLCBhbmltYXRpb24sIHsgZHVyYXRpb24gfSkuZmluaXNoZWRcbiAgICBdKTtcbiAgICB0aGlzLmNvbnRhaW5lckVsLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gIH1cbiAgYWRkS2V5Ym9hcmRFdmVudHMoKSB7XG4gICAgdGhpcy5hYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImtleWRvd25cIixcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICBNb2RhbEN0cmwuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiVGFiXCIpIHtcbiAgICAgICAgICBpZiAoISgoX2EgPSBldmVudC50YXJnZXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS50YWdOYW1lLmluY2x1ZGVzKFwid2NtLVwiKSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlclxuICAgICk7XG4gICAgdGhpcy5jb250YWluZXJFbC5mb2N1cygpO1xuICB9XG4gIHJlbW92ZUtleWJvYXJkRXZlbnRzKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLmFib3J0Q29udHJvbGxlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmFib3J0KCk7XG4gICAgdGhpcy5hYm9ydENvbnRyb2xsZXIgPSB2b2lkIDA7XG4gIH1cbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgICBcIndjbS1vdmVybGF5XCI6IHRydWUsXG4gICAgICBcIndjbS1hY3RpdmVcIjogdGhpcy5hY3RpdmVcbiAgICB9O1xuICAgIHJldHVybiBodG1sYDx3Y20tZXhwbG9yZXItY29udGV4dD48L3djbS1leHBsb3Jlci1jb250ZXh0Pjx3Y20tdGhlbWUtY29udGV4dD48L3djbS10aGVtZS1jb250ZXh0PjxkaXYgaWQ9XCJ3Y20tbW9kYWxcIiBjbGFzcz1cIiR7Y2xhc3NNYXAoY2xhc3Nlcyl9XCIgQGNsaWNrPVwiJHt0aGlzLm9uQ2xvc2VNb2RhbH1cIiByb2xlPVwiYWxlcnRkaWFsb2dcIiBhcmlhLW1vZGFsPVwidHJ1ZVwiPjxkaXYgY2xhc3M9XCJ3Y20tY29udGFpbmVyXCIgdGFiaW5kZXg9XCIwXCI+JHt0aGlzLm9wZW4gPyBodG1sYDx3Y20tbW9kYWwtYmFja2NhcmQ+PC93Y20tbW9kYWwtYmFja2NhcmQ+PGRpdiBjbGFzcz1cIndjbS1jYXJkXCI+PHdjbS1tb2RhbC1yb3V0ZXI+PC93Y20tbW9kYWwtcm91dGVyPjx3Y20tbW9kYWwtdG9hc3Q+PC93Y20tbW9kYWwtdG9hc3Q+PC9kaXY+YCA6IG51bGx9PC9kaXY+PC9kaXY+YDtcbiAgfVxufTtcbldjbU1vZGFsLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkOV07XG5fX2RlY29yYXRlQ2xhc3MkYihbXG4gIHN0YXRlKClcbl0sIFdjbU1vZGFsLnByb3RvdHlwZSwgXCJvcGVuXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGIoW1xuICBzdGF0ZSgpXG5dLCBXY21Nb2RhbC5wcm90b3R5cGUsIFwiYWN0aXZlXCIsIDIpO1xuV2NtTW9kYWwgPSBfX2RlY29yYXRlQ2xhc3MkYihbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbW9kYWxcIilcbl0sIFdjbU1vZGFsKTtcblxuY29uc3Qgc3R5bGVzJDggPSBjc3NgZGl2e2Rpc3BsYXk6ZmxleDttYXJnaW4tdG9wOjE1cHh9c2xvdHtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MCA1cHh9d2NtLWJ1dHRvbnttYXJnaW46MCA1cHh9YDtcblxudmFyIF9fZGVmUHJvcCRhID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJGEgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkYSh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkYSh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtUGxhdGZvcm1TZWxlY3Rpb24gPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuaXNNb2JpbGUgPSBmYWxzZTtcbiAgICB0aGlzLmlzRGVza3RvcCA9IGZhbHNlO1xuICAgIHRoaXMuaXNXZWIgPSBmYWxzZTtcbiAgICB0aGlzLmlzUmV0cnkgPSBmYWxzZTtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBvbk1vYmlsZSgpIHtcbiAgICBjb25zdCBpc01vYmlsZSA9IENvcmVVdGlsLmlzTW9iaWxlKCk7XG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICBSb3V0ZXJDdHJsLnJlcGxhY2UoXCJNb2JpbGVDb25uZWN0aW5nXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBSb3V0ZXJDdHJsLnJlcGxhY2UoXCJNb2JpbGVRcmNvZGVDb25uZWN0aW5nXCIpO1xuICAgIH1cbiAgfVxuICBvbkRlc2t0b3AoKSB7XG4gICAgUm91dGVyQ3RybC5yZXBsYWNlKFwiRGVza3RvcENvbm5lY3RpbmdcIik7XG4gIH1cbiAgb25XZWIoKSB7XG4gICAgUm91dGVyQ3RybC5yZXBsYWNlKFwiV2ViQ29ubmVjdGluZ1wiKTtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgPGRpdj4ke3RoaXMuaXNSZXRyeSA/IGh0bWxgPHNsb3Q+PC9zbG90PmAgOiBudWxsfSAke3RoaXMuaXNNb2JpbGUgPyBodG1sYDx3Y20tYnV0dG9uIC5vbkNsaWNrPVwiJHt0aGlzLm9uTW9iaWxlfVwiIC5pY29uTGVmdD1cIiR7U3ZnVXRpbC5NT0JJTEVfSUNPTn1cIiB2YXJpYW50PVwib3V0bGluZVwiPk1vYmlsZTwvd2NtLWJ1dHRvbj5gIDogbnVsbH0gJHt0aGlzLmlzRGVza3RvcCA/IGh0bWxgPHdjbS1idXR0b24gLm9uQ2xpY2s9XCIke3RoaXMub25EZXNrdG9wfVwiIC5pY29uTGVmdD1cIiR7U3ZnVXRpbC5ERVNLVE9QX0lDT059XCIgdmFyaWFudD1cIm91dGxpbmVcIj5EZXNrdG9wPC93Y20tYnV0dG9uPmAgOiBudWxsfSAke3RoaXMuaXNXZWIgPyBodG1sYDx3Y20tYnV0dG9uIC5vbkNsaWNrPVwiJHt0aGlzLm9uV2VifVwiIC5pY29uTGVmdD1cIiR7U3ZnVXRpbC5HTE9CRV9JQ09OfVwiIHZhcmlhbnQ9XCJvdXRsaW5lXCI+V2ViPC93Y20tYnV0dG9uPmAgOiBudWxsfTwvZGl2PmA7XG4gIH1cbn07XG5XY21QbGF0Zm9ybVNlbGVjdGlvbi5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJDhdO1xuX19kZWNvcmF0ZUNsYXNzJGEoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbVBsYXRmb3JtU2VsZWN0aW9uLnByb3RvdHlwZSwgXCJpc01vYmlsZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRhKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21QbGF0Zm9ybVNlbGVjdGlvbi5wcm90b3R5cGUsIFwiaXNEZXNrdG9wXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzJGEoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFdjbVBsYXRmb3JtU2VsZWN0aW9uLnByb3RvdHlwZSwgXCJpc1dlYlwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyRhKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBXY21QbGF0Zm9ybVNlbGVjdGlvbi5wcm90b3R5cGUsIFwiaXNSZXRyeVwiLCAyKTtcbldjbVBsYXRmb3JtU2VsZWN0aW9uID0gX19kZWNvcmF0ZUNsYXNzJGEoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXBsYXRmb3JtLXNlbGVjdGlvblwiKVxuXSwgV2NtUGxhdGZvcm1TZWxlY3Rpb24pO1xuXG5jb25zdCBzdHlsZXMkNyA9IGNzc2BidXR0b257ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtwYWRkaW5nOjVweCAxMHB4O2JvcmRlci1yYWRpdXM6dmFyKC0td2NtLWJ1dHRvbi1ob3Zlci1oaWdobGlnaHQtYm9yZGVyLXJhZGl1cyk7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnR9LndjbS1pY29uc3t3aWR0aDo2MHB4O2hlaWdodDo2MHB4O2Rpc3BsYXk6ZmxleDtmbGV4LXdyYXA6d3JhcDtwYWRkaW5nOjdweDtib3JkZXItcmFkaXVzOnZhcigtLXdjbS13YWxsZXQtaWNvbi1ib3JkZXItcmFkaXVzKTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLWJvdHRvbTo1cHg7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3ItYmctMik7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggdmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfWJ1dHRvbjphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9QG1lZGlhKGhvdmVyOmhvdmVyKXtidXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS13Y20tY29sb3Itb3ZlcmxheSl9fS53Y20taWNvbnMgaW1ne3dpZHRoOjIxcHg7aGVpZ2h0OjIxcHg7b2JqZWN0LWZpdDpjb3ZlcjtvYmplY3QtcG9zaXRpb246Y2VudGVyO2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS13Y20td2FsbGV0LWljb24tYm9yZGVyLXJhZGl1cykvIDIpO2JvcmRlcjoxcHggc29saWQgdmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfS53Y20taWNvbnMgc3Zne3dpZHRoOjIxcHg7aGVpZ2h0OjIxcHh9LndjbS1pY29ucyBpbWc6bnRoLWNoaWxkKDEpLC53Y20taWNvbnMgaW1nOm50aC1jaGlsZCgyKSwud2NtLWljb25zIHN2ZzpudGgtY2hpbGQoMSksLndjbS1pY29ucyBzdmc6bnRoLWNoaWxkKDIpe21hcmdpbi1ib3R0b206NHB4fXdjbS10ZXh0e3dpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXJ9I3dhbGxldC1wbGFjZWhvbGRlci1maWxse2ZpbGw6dmFyKC0td2NtLWNvbG9yLWJnLTMpfSN3YWxsZXQtcGxhY2Vob2xkZXItZGFzaHtzdHJva2U6dmFyKC0td2NtLWNvbG9yLW92ZXJsYXkpfWA7XG5cbnZhciBfX2RlZlByb3AkOSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJDkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyQ5ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJDkodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJDkodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVZpZXdBbGxXYWxsZXRzQnV0dG9uID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgb25DbGljaygpIHtcbiAgICBSb3V0ZXJDdHJsLnB1c2goXCJXYWxsZXRFeHBsb3JlclwiKTtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyByZWNvbWVuZGVkV2FsbGV0cyB9ID0gRXhwbG9yZXJDdHJsLnN0YXRlO1xuICAgIGNvbnN0IG1hbnVhbFdhbGxldHMgPSBEYXRhVXRpbC5tYW51YWxXYWxsZXRzKCk7XG4gICAgY29uc3QgcmV2ZXJzZWRXYWxsZXRzID0gWy4uLnJlY29tZW5kZWRXYWxsZXRzLCAuLi5tYW51YWxXYWxsZXRzXS5yZXZlcnNlKCkuc2xpY2UoMCwgNCk7XG4gICAgcmV0dXJuIGh0bWxgPGJ1dHRvbiBAY2xpY2s9XCIke3RoaXMub25DbGlja31cIj48ZGl2IGNsYXNzPVwid2NtLWljb25zXCI+JHtyZXZlcnNlZFdhbGxldHMubWFwKCh3YWxsZXQpID0+IHtcbiAgICAgIGNvbnN0IGV4cGxvcmVySW1nID0gVWlVdGlsLmdldFdhbGxldEljb24od2FsbGV0KTtcbiAgICAgIGlmIChleHBsb3JlckltZykge1xuICAgICAgICByZXR1cm4gaHRtbGA8aW1nIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCIgc3JjPVwiJHtleHBsb3JlckltZ31cIj5gO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3JjID0gVWlVdGlsLmdldFdhbGxldEljb24oeyBpZDogd2FsbGV0LmlkIH0pO1xuICAgICAgcmV0dXJuIHNyYyA/IGh0bWxgPGltZyBjcm9zc29yaWdpbj1cImFub255bW91c1wiIHNyYz1cIiR7c3JjfVwiPmAgOiBTdmdVdGlsLldBTExFVF9QTEFDRUhPTERFUjtcbiAgICB9KX0gJHtbLi4uQXJyYXkoNCAtIHJldmVyc2VkV2FsbGV0cy5sZW5ndGgpXS5tYXAoKCkgPT4gU3ZnVXRpbC5XQUxMRVRfUExBQ0VIT0xERVIpfTwvZGl2Pjx3Y20tdGV4dCB2YXJpYW50PVwieHNtYWxsLXJlZ3VsYXJcIj5WaWV3IEFsbDwvd2NtLXRleHQ+PC9idXR0b24+YDtcbiAgfVxufTtcbldjbVZpZXdBbGxXYWxsZXRzQnV0dG9uLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkN107XG5XY21WaWV3QWxsV2FsbGV0c0J1dHRvbiA9IF9fZGVjb3JhdGVDbGFzcyQ5KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS12aWV3LWFsbC13YWxsZXRzLWJ1dHRvblwiKVxuXSwgV2NtVmlld0FsbFdhbGxldHNCdXR0b24pO1xuXG5jb25zdCBzdHlsZXMkNiA9IGNzc2Aud2NtLXFyLWNvbnRhaW5lcnt3aWR0aDoxMDAlO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjthc3BlY3QtcmF0aW86MS8xfWA7XG5cbnZhciBfX2RlZlByb3AkOCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJDggPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyQ4ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJDgodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJDgodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbVdhbGxldENvbm5lY3RRciA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIGxpZmVjeWNsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy53YWxsZXRJZCA9IFwiXCI7XG4gICAgdGhpcy5pbWFnZUlkID0gXCJcIjtcbiAgICB0aGlzLnVyaSA9IFwiXCI7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCB7IHdhbGxldENvbm5lY3RVcmkgfSA9IE9wdGlvbnNDdHJsLnN0YXRlO1xuICAgICAgdGhpcy51cmkgPSB3YWxsZXRDb25uZWN0VXJpO1xuICAgIH0sIDApO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGdldCBvdmVybGF5RWwoKSB7XG4gICAgcmV0dXJuIFVpVXRpbC5nZXRTaGFkb3dSb290RWxlbWVudCh0aGlzLCBcIi53Y20tcXItY29udGFpbmVyXCIpO1xuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwid2NtLXFyLWNvbnRhaW5lclwiPiR7dGhpcy51cmkgPyBodG1sYDx3Y20tcXJjb2RlIHNpemU9XCIke3RoaXMub3ZlcmxheUVsLm9mZnNldFdpZHRofVwiIHVyaT1cIiR7dGhpcy51cml9XCIgd2FsbGV0SWQ9XCIke2lmRGVmaW5lZCh0aGlzLndhbGxldElkKX1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQodGhpcy5pbWFnZUlkKX1cIj48L3djbS1xcmNvZGU+YCA6IGh0bWxgPHdjbS1zcGlubmVyPjwvd2NtLXNwaW5uZXI+YH08L2Rpdj5gO1xuICB9XG59O1xuV2NtV2FsbGV0Q29ubmVjdFFyLnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkNl07XG5fX2RlY29yYXRlQ2xhc3MkOChbXG4gIHByb3BlcnR5KClcbl0sIFdjbVdhbGxldENvbm5lY3RRci5wcm90b3R5cGUsIFwid2FsbGV0SWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkOChbXG4gIHByb3BlcnR5KClcbl0sIFdjbVdhbGxldENvbm5lY3RRci5wcm90b3R5cGUsIFwiaW1hZ2VJZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyQ4KFtcbiAgc3RhdGUoKVxuXSwgV2NtV2FsbGV0Q29ubmVjdFFyLnByb3RvdHlwZSwgXCJ1cmlcIiwgMik7XG5XY21XYWxsZXRDb25uZWN0UXIgPSBfX2RlY29yYXRlQ2xhc3MkOChbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20td2FsbGV0Y29ubmVjdC1xclwiKVxuXSwgV2NtV2FsbGV0Q29ubmVjdFFyKTtcblxudmFyIF9fZGVmUHJvcCQ3ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MkNyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19kZWNvcmF0ZUNsYXNzJDcgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2MkNyh0YXJnZXQsIGtleSkgOiB0YXJnZXQ7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDEsIGRlY29yYXRvcjsgaSA+PSAwOyBpLS0pXG4gICAgaWYgKGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV0pXG4gICAgICByZXN1bHQgPSAoa2luZCA/IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcmVzdWx0KSA6IGRlY29yYXRvcihyZXN1bHQpKSB8fCByZXN1bHQ7XG4gIGlmIChraW5kICYmIHJlc3VsdClcbiAgICBfX2RlZlByb3AkNyh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5sZXQgV2NtQ29ubmVjdFdhbGxldFZpZXcgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICB2aWV3VGVtcGxhdGUoKSB7XG4gICAgaWYgKENvcmVVdGlsLmlzQW5kcm9pZCgpICYmICFDb3JlVXRpbC5pc1RlbGVncmFtKCkpIHtcbiAgICAgIHJldHVybiBodG1sYDx3Y20tYW5kcm9pZC13YWxsZXQtc2VsZWN0aW9uPjwvd2NtLWFuZHJvaWQtd2FsbGV0LXNlbGVjdGlvbj5gO1xuICAgIH1cbiAgICBpZiAoQ29yZVV0aWwuaXNNb2JpbGUoKSkge1xuICAgICAgcmV0dXJuIGh0bWxgPHdjbS1tb2JpbGUtd2FsbGV0LXNlbGVjdGlvbj48L3djbS1tb2JpbGUtd2FsbGV0LXNlbGVjdGlvbj5gO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbGA8d2NtLWRlc2t0b3Atd2FsbGV0LXNlbGVjdGlvbj48L3djbS1kZXNrdG9wLXdhbGxldC1zZWxlY3Rpb24+YDtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgJHt0aGlzLnZpZXdUZW1wbGF0ZSgpfTx3Y20tbGVnYWwtbm90aWNlPjwvd2NtLWxlZ2FsLW5vdGljZT5gO1xuICB9XG59O1xuV2NtQ29ubmVjdFdhbGxldFZpZXcuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3NdO1xuV2NtQ29ubmVjdFdhbGxldFZpZXcgPSBfX2RlY29yYXRlQ2xhc3MkNyhbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tY29ubmVjdC13YWxsZXQtdmlld1wiKVxuXSwgV2NtQ29ubmVjdFdhbGxldFZpZXcpO1xuXG5jb25zdCBzdHlsZXMkNSA9IGNzc2B3Y20taW5mby1mb290ZXJ7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJTtwYWRkaW5nOjVweCAwfXdjbS10ZXh0e3RleHQtYWxpZ246Y2VudGVyfWA7XG5cbnZhciBfX2RlZlByb3AkNiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJDYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyQ2ID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJDYodGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJDYodGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbURlc2t0b3BDb25uZWN0aW5nVmlldyA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIGxpZmVjeWNsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pc0Vycm9yID0gZmFsc2U7XG4gICAgdGhpcy5vcGVuRGVza3RvcEFwcCgpO1xuICB9XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIG9uRm9ybWF0QW5kUmVkaXJlY3QodXJpKSB7XG4gICAgY29uc3QgeyBkZXNrdG9wLCBuYW1lIH0gPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgY29uc3QgbmF0aXZlVXJsID0gZGVza3RvcCA9PSBudWxsID8gdm9pZCAwIDogZGVza3RvcC5uYXRpdmU7XG4gICAgY29uc3QgdW5pdmVyc2FsVXJsID0gZGVza3RvcCA9PSBudWxsID8gdm9pZCAwIDogZGVza3RvcC51bml2ZXJzYWw7XG4gICAgaWYgKG5hdGl2ZVVybCkge1xuICAgICAgY29uc3QgaHJlZiA9IENvcmVVdGlsLmZvcm1hdE5hdGl2ZVVybChuYXRpdmVVcmwsIHVyaSwgbmFtZSk7XG4gICAgICBDb3JlVXRpbC5vcGVuSHJlZihocmVmLCBcIl9zZWxmXCIpO1xuICAgIH0gZWxzZSBpZiAodW5pdmVyc2FsVXJsKSB7XG4gICAgICBjb25zdCBocmVmID0gQ29yZVV0aWwuZm9ybWF0VW5pdmVyc2FsVXJsKHVuaXZlcnNhbFVybCwgdXJpLCBuYW1lKTtcbiAgICAgIENvcmVVdGlsLm9wZW5IcmVmKGhyZWYsIFwiX2JsYW5rXCIpO1xuICAgIH1cbiAgfVxuICBvcGVuRGVza3RvcEFwcCgpIHtcbiAgICBjb25zdCB7IHdhbGxldENvbm5lY3RVcmkgfSA9IE9wdGlvbnNDdHJsLnN0YXRlO1xuICAgIGNvbnN0IHJvdXRlckRhdGEgPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgVWlVdGlsLnNldFJlY2VudFdhbGxldChyb3V0ZXJEYXRhKTtcbiAgICBpZiAod2FsbGV0Q29ubmVjdFVyaSkge1xuICAgICAgdGhpcy5vbkZvcm1hdEFuZFJlZGlyZWN0KHdhbGxldENvbm5lY3RVcmkpO1xuICAgIH1cbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBuYW1lLCBpZCwgaW1hZ2VfaWQgfSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBjb25zdCB7IGlzTW9iaWxlLCBpc1dlYiB9ID0gVWlVdGlsLmdldENhY2hlZFJvdXRlcldhbGxldFBsYXRmb3JtcygpO1xuICAgIHJldHVybiBodG1sYDx3Y20tbW9kYWwtaGVhZGVyIHRpdGxlPVwiJHtuYW1lfVwiIC5vbkFjdGlvbj1cIiR7VWlVdGlsLmhhbmRsZVVyaUNvcHl9XCIgLmFjdGlvbkljb249XCIke1N2Z1V0aWwuQ09QWV9JQ09OfVwiPjwvd2NtLW1vZGFsLWhlYWRlcj48d2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS1jb25uZWN0b3Itd2FpdGluZyB3YWxsZXRJZD1cIiR7aWR9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKGltYWdlX2lkKX1cIiBsYWJlbD1cIiR7YENvbnRpbnVlIGluICR7bmFtZX0uLi5gfVwiIC5pc0Vycm9yPVwiJHt0aGlzLmlzRXJyb3J9XCI+PC93Y20tY29ubmVjdG9yLXdhaXRpbmc+PC93Y20tbW9kYWwtY29udGVudD48d2NtLWluZm8tZm9vdGVyPjx3Y20tdGV4dCBjb2xvcj1cInNlY29uZGFyeVwiIHZhcmlhbnQ9XCJzbWFsbC10aGluXCI+JHtgQ29ubmVjdGlvbiBjYW4gY29udGludWUgbG9hZGluZyBpZiAke25hbWV9IGlzIG5vdCBpbnN0YWxsZWQgb24geW91ciBkZXZpY2VgfTwvd2NtLXRleHQ+PHdjbS1wbGF0Zm9ybS1zZWxlY3Rpb24gLmlzTW9iaWxlPVwiJHtpc01vYmlsZX1cIiAuaXNXZWI9XCIke2lzV2VifVwiIC5pc1JldHJ5PVwiJHt0cnVlfVwiPjx3Y20tYnV0dG9uIC5vbkNsaWNrPVwiJHt0aGlzLm9wZW5EZXNrdG9wQXBwLmJpbmQodGhpcyl9XCIgLmljb25SaWdodD1cIiR7U3ZnVXRpbC5SRVRSWV9JQ09OfVwiPlJldHJ5PC93Y20tYnV0dG9uPjwvd2NtLXBsYXRmb3JtLXNlbGVjdGlvbj48L3djbS1pbmZvLWZvb3Rlcj5gO1xuICB9XG59O1xuV2NtRGVza3RvcENvbm5lY3RpbmdWaWV3LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkNV07XG5fX2RlY29yYXRlQ2xhc3MkNihbXG4gIHN0YXRlKClcbl0sIFdjbURlc2t0b3BDb25uZWN0aW5nVmlldy5wcm90b3R5cGUsIFwiaXNFcnJvclwiLCAyKTtcbldjbURlc2t0b3BDb25uZWN0aW5nVmlldyA9IF9fZGVjb3JhdGVDbGFzcyQ2KFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS1kZXNrdG9wLWNvbm5lY3Rpbmctdmlld1wiKVxuXSwgV2NtRGVza3RvcENvbm5lY3RpbmdWaWV3KTtcblxuY29uc3Qgc3R5bGVzJDQgPSBjc3Ngd2NtLWluZm8tZm9vdGVye2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7cGFkZGluZzo1cHggMH13Y20tdGV4dHt0ZXh0LWFsaWduOmNlbnRlcn13Y20tYnV0dG9ue21hcmdpbi10b3A6MTVweH1gO1xuXG52YXIgX19kZWZQcm9wJDUgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyQ1ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkNSA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyQ1KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCQ1KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21JbnN0YWxsV2FsbGV0VmlldyA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIHByaXZhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIG9uSW5zdGFsbCh1cmkpIHtcbiAgICBpZiAodXJpKSB7XG4gICAgICBDb3JlVXRpbC5vcGVuSHJlZih1cmksIFwiX2JsYW5rXCIpO1xuICAgIH1cbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBuYW1lLCBpZCwgaW1hZ2VfaWQsIGhvbWVwYWdlIH0gPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1tb2RhbC1oZWFkZXIgdGl0bGU9XCIke25hbWV9XCI+PC93Y20tbW9kYWwtaGVhZGVyPjx3Y20tbW9kYWwtY29udGVudD48d2NtLWNvbm5lY3Rvci13YWl0aW5nIHdhbGxldElkPVwiJHtpZH1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQoaW1hZ2VfaWQpfVwiIGxhYmVsPVwiTm90IERldGVjdGVkXCIgLmlzU3RhbGU9XCIke3RydWV9XCI+PC93Y20tY29ubmVjdG9yLXdhaXRpbmc+PC93Y20tbW9kYWwtY29udGVudD48d2NtLWluZm8tZm9vdGVyPjx3Y20tdGV4dCBjb2xvcj1cInNlY29uZGFyeVwiIHZhcmlhbnQ9XCJzbWFsbC10aGluXCI+JHtgRG93bmxvYWQgJHtuYW1lfSB0byBjb250aW51ZS4gSWYgbXVsdGlwbGUgYnJvd3NlciBleHRlbnNpb25zIGFyZSBpbnN0YWxsZWQsIGRpc2FibGUgbm9uICR7bmFtZX0gb25lcyBhbmQgdHJ5IGFnYWluYH08L3djbS10ZXh0Pjx3Y20tYnV0dG9uIC5vbkNsaWNrPVwiJHsoKSA9PiB0aGlzLm9uSW5zdGFsbChob21lcGFnZSl9XCIgLmljb25MZWZ0PVwiJHtTdmdVdGlsLkFSUk9XX0RPV05fSUNPTn1cIj5Eb3dubG9hZDwvd2NtLWJ1dHRvbj48L3djbS1pbmZvLWZvb3Rlcj5gO1xuICB9XG59O1xuV2NtSW5zdGFsbFdhbGxldFZpZXcuc3R5bGVzID0gW1RoZW1lVXRpbC5nbG9iYWxDc3MsIHN0eWxlcyQ0XTtcbldjbUluc3RhbGxXYWxsZXRWaWV3ID0gX19kZWNvcmF0ZUNsYXNzJDUoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLWluc3RhbGwtd2FsbGV0LXZpZXdcIilcbl0sIFdjbUluc3RhbGxXYWxsZXRWaWV3KTtcblxuY29uc3Qgc3R5bGVzJDMgPSBjc3Ngd2NtLXdhbGxldC1pbWFnZXtib3JkZXItcmFkaXVzOnZhcigtLXdjbS13YWxsZXQtaWNvbi1sYXJnZS1ib3JkZXItcmFkaXVzKTt3aWR0aDo5NnB4O2hlaWdodDo5NnB4O21hcmdpbi1ib3R0b206MjBweH13Y20taW5mby1mb290ZXJ7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCV9LndjbS1hcHAtc3RvcmV7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LndjbS1hcHAtc3RvcmUgd2NtLXdhbGxldC1pbWFnZXttYXJnaW4tcmlnaHQ6MTBweDttYXJnaW4tYm90dG9tOjA7d2lkdGg6MjhweDtoZWlnaHQ6MjhweDtib3JkZXItcmFkaXVzOnZhcigtLXdjbS13YWxsZXQtaWNvbi1zbWFsbC1ib3JkZXItcmFkaXVzKX0ud2NtLWFwcC1zdG9yZSBkaXZ7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0ud2NtLWFwcC1zdG9yZSB3Y20tYnV0dG9ue21hcmdpbi1yaWdodDotMTBweH0ud2NtLW5vdGV7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjVweCAwfS53Y20tbm90ZSB3Y20tdGV4dHt0ZXh0LWFsaWduOmNlbnRlcn13Y20tcGxhdGZvcm0tc2VsZWN0aW9ue21hcmdpbi10b3A6LTE1cHh9LndjbS1ub3RlIHdjbS10ZXh0e21hcmdpbi10b3A6MTVweH0ud2NtLW5vdGUgd2NtLXRleHQgc3Bhbntjb2xvcjp2YXIoLS13Y20tYWNjZW50LWNvbG9yKX1gO1xuXG52YXIgX19kZWZQcm9wJDQgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyQ0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkNCA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyQ0KHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCQ0KHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21Nb2JpbGVDb25uZWN0aW5nVmlldyA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIGxpZmVjeWNsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pc0Vycm9yID0gZmFsc2U7XG4gICAgdGhpcy5vcGVuTW9iaWxlQXBwKCk7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgb25Gb3JtYXRBbmRSZWRpcmVjdCh1cmksIGZvcmNlVW5pdmVyc2FsVXJsID0gZmFsc2UpIHtcbiAgICBjb25zdCB7IG1vYmlsZSwgbmFtZSB9ID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIGNvbnN0IG5hdGl2ZVVybCA9IG1vYmlsZSA9PSBudWxsID8gdm9pZCAwIDogbW9iaWxlLm5hdGl2ZTtcbiAgICBjb25zdCB1bml2ZXJzYWxVcmwgPSBtb2JpbGUgPT0gbnVsbCA/IHZvaWQgMCA6IG1vYmlsZS51bml2ZXJzYWw7XG4gICAgY29uc3QgdGFyZ2V0ID0gQ29yZVV0aWwuaXNUZWxlZ3JhbSgpID8gXCJfYmxhbmtcIiA6IFwiX3NlbGZcIjtcbiAgICB1cmkgPSBDb3JlVXRpbC5pc1RlbGVncmFtKCkgJiYgQ29yZVV0aWwuaXNBbmRyb2lkKCkgPyBlbmNvZGVVUklDb21wb25lbnQodXJpKSA6IHVyaTtcbiAgICBpZiAobmF0aXZlVXJsICYmICFmb3JjZVVuaXZlcnNhbFVybCkge1xuICAgICAgY29uc3QgaHJlZiA9IENvcmVVdGlsLmZvcm1hdE5hdGl2ZVVybChuYXRpdmVVcmwsIHVyaSwgbmFtZSk7XG4gICAgICBDb3JlVXRpbC5vcGVuSHJlZihocmVmLCB0YXJnZXQpO1xuICAgIH0gZWxzZSBpZiAodW5pdmVyc2FsVXJsKSB7XG4gICAgICBjb25zdCBocmVmID0gQ29yZVV0aWwuZm9ybWF0VW5pdmVyc2FsVXJsKHVuaXZlcnNhbFVybCwgdXJpLCBuYW1lKTtcbiAgICAgIENvcmVVdGlsLm9wZW5IcmVmKGhyZWYsIHRhcmdldCk7XG4gICAgfVxuICB9XG4gIG9wZW5Nb2JpbGVBcHAoZm9yY2VVbml2ZXJzYWxVcmwgPSBmYWxzZSkge1xuICAgIGNvbnN0IHsgd2FsbGV0Q29ubmVjdFVyaSB9ID0gT3B0aW9uc0N0cmwuc3RhdGU7XG4gICAgY29uc3Qgcm91dGVyRGF0YSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBpZiAod2FsbGV0Q29ubmVjdFVyaSkge1xuICAgICAgdGhpcy5vbkZvcm1hdEFuZFJlZGlyZWN0KHdhbGxldENvbm5lY3RVcmksIGZvcmNlVW5pdmVyc2FsVXJsKTtcbiAgICB9XG4gICAgVWlVdGlsLnNldFJlY2VudFdhbGxldChyb3V0ZXJEYXRhKTtcbiAgfVxuICBvbkdvVG9BcHBTdG9yZShkb3dubG9hZFVybCkge1xuICAgIGlmIChkb3dubG9hZFVybCkge1xuICAgICAgQ29yZVV0aWwub3BlbkhyZWYoZG93bmxvYWRVcmwsIFwiX2JsYW5rXCIpO1xuICAgIH1cbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBuYW1lLCBpZCwgaW1hZ2VfaWQsIGFwcCwgbW9iaWxlIH0gPSBDb3JlVXRpbC5nZXRXYWxsZXRSb3V0ZXJEYXRhKCk7XG4gICAgY29uc3QgeyBpc1dlYiB9ID0gVWlVdGlsLmdldENhY2hlZFJvdXRlcldhbGxldFBsYXRmb3JtcygpO1xuICAgIGNvbnN0IGRvd25sb2FkVXJsID0gYXBwID09IG51bGwgPyB2b2lkIDAgOiBhcHAuaW9zO1xuICAgIGNvbnN0IHVuaXZlcnNhbFVybCA9IG1vYmlsZSA9PSBudWxsID8gdm9pZCAwIDogbW9iaWxlLnVuaXZlcnNhbDtcbiAgICByZXR1cm4gaHRtbGA8d2NtLW1vZGFsLWhlYWRlciB0aXRsZT1cIiR7bmFtZX1cIj48L3djbS1tb2RhbC1oZWFkZXI+PHdjbS1tb2RhbC1jb250ZW50Pjx3Y20tY29ubmVjdG9yLXdhaXRpbmcgd2FsbGV0SWQ9XCIke2lkfVwiIGltYWdlSWQ9XCIke2lmRGVmaW5lZChpbWFnZV9pZCl9XCIgbGFiZWw9XCJUYXAgJ09wZW4nIHRvIGNvbnRpbnVl4oCmXCIgLmlzRXJyb3I9XCIke3RoaXMuaXNFcnJvcn1cIj48L3djbS1jb25uZWN0b3Itd2FpdGluZz48L3djbS1tb2RhbC1jb250ZW50Pjx3Y20taW5mby1mb290ZXIgY2xhc3M9XCJ3Y20tbm90ZVwiPjx3Y20tcGxhdGZvcm0tc2VsZWN0aW9uIC5pc1dlYj1cIiR7aXNXZWJ9XCIgLmlzUmV0cnk9XCIke3RydWV9XCI+PHdjbS1idXR0b24gLm9uQ2xpY2s9XCIkeygpID0+IHRoaXMub3Blbk1vYmlsZUFwcChmYWxzZSl9XCIgLmljb25SaWdodD1cIiR7U3ZnVXRpbC5SRVRSWV9JQ09OfVwiPlJldHJ5PC93Y20tYnV0dG9uPjwvd2NtLXBsYXRmb3JtLXNlbGVjdGlvbj4ke3VuaXZlcnNhbFVybCA/IGh0bWxgPHdjbS10ZXh0IGNvbG9yPVwic2Vjb25kYXJ5XCIgdmFyaWFudD1cInNtYWxsLXRoaW5cIj5TdGlsbCBkb2Vzbid0IHdvcms/IDxzcGFuIHRhYmluZGV4PVwiMFwiIEBjbGljaz1cIiR7KCkgPT4gdGhpcy5vcGVuTW9iaWxlQXBwKHRydWUpfVwiPlRyeSB0aGlzIGFsdGVybmF0ZSBsaW5rPC9zcGFuPjwvd2NtLXRleHQ+YCA6IG51bGx9PC93Y20taW5mby1mb290ZXI+PHdjbS1pbmZvLWZvb3RlciBjbGFzcz1cIndjbS1hcHAtc3RvcmVcIj48ZGl2Pjx3Y20td2FsbGV0LWltYWdlIHdhbGxldElkPVwiJHtpZH1cIiBpbWFnZUlkPVwiJHtpZkRlZmluZWQoaW1hZ2VfaWQpfVwiPjwvd2NtLXdhbGxldC1pbWFnZT48d2NtLXRleHQ+JHtgR2V0ICR7bmFtZX1gfTwvd2NtLXRleHQ+PC9kaXY+PHdjbS1idXR0b24gLmljb25SaWdodD1cIiR7U3ZnVXRpbC5BUlJPV19SSUdIVF9JQ09OfVwiIC5vbkNsaWNrPVwiJHsoKSA9PiB0aGlzLm9uR29Ub0FwcFN0b3JlKGRvd25sb2FkVXJsKX1cIiB2YXJpYW50PVwiZ2hvc3RcIj5BcHAgU3RvcmU8L3djbS1idXR0b24+PC93Y20taW5mby1mb290ZXI+YDtcbiAgfVxufTtcbldjbU1vYmlsZUNvbm5lY3RpbmdWaWV3LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkM107XG5fX2RlY29yYXRlQ2xhc3MkNChbXG4gIHN0YXRlKClcbl0sIFdjbU1vYmlsZUNvbm5lY3RpbmdWaWV3LnByb3RvdHlwZSwgXCJpc0Vycm9yXCIsIDIpO1xuV2NtTW9iaWxlQ29ubmVjdGluZ1ZpZXcgPSBfX2RlY29yYXRlQ2xhc3MkNChbXG4gIGN1c3RvbUVsZW1lbnQoXCJ3Y20tbW9iaWxlLWNvbm5lY3Rpbmctdmlld1wiKVxuXSwgV2NtTW9iaWxlQ29ubmVjdGluZ1ZpZXcpO1xuXG5jb25zdCBzdHlsZXMkMiA9IGNzc2B3Y20taW5mby1mb290ZXJ7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJTtwYWRkaW5nOjVweCAwfXdjbS10ZXh0e3RleHQtYWxpZ246Y2VudGVyfWA7XG5cbnZhciBfX2RlZlByb3AkMyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjJDMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZGVjb3JhdGVDbGFzcyQzID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjJDModGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wJDModGFyZ2V0LCBrZXksIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xubGV0IFdjbU1vYmlsZVFyQ29ubmVjdGluZ1ZpZXcgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBuYW1lLCBpZCwgaW1hZ2VfaWQgfSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBjb25zdCB7IGlzRGVza3RvcCwgaXNXZWIgfSA9IFVpVXRpbC5nZXRDYWNoZWRSb3V0ZXJXYWxsZXRQbGF0Zm9ybXMoKTtcbiAgICByZXR1cm4gaHRtbGA8d2NtLW1vZGFsLWhlYWRlciB0aXRsZT1cIiR7bmFtZX1cIiAub25BY3Rpb249XCIke1VpVXRpbC5oYW5kbGVVcmlDb3B5fVwiIC5hY3Rpb25JY29uPVwiJHtTdmdVdGlsLkNPUFlfSUNPTn1cIj48L3djbS1tb2RhbC1oZWFkZXI+PHdjbS1tb2RhbC1jb250ZW50Pjx3Y20td2FsbGV0Y29ubmVjdC1xciB3YWxsZXRJZD1cIiR7aWR9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKGltYWdlX2lkKX1cIj48L3djbS13YWxsZXRjb25uZWN0LXFyPjwvd2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS1pbmZvLWZvb3Rlcj48d2NtLXRleHQgY29sb3I9XCJzZWNvbmRhcnlcIiB2YXJpYW50PVwic21hbGwtdGhpblwiPiR7YFNjYW4gdGhpcyBRUiBDb2RlIHdpdGggeW91ciBwaG9uZSdzIGNhbWVyYSBvciBpbnNpZGUgJHtuYW1lfSBhcHBgfTwvd2NtLXRleHQ+PHdjbS1wbGF0Zm9ybS1zZWxlY3Rpb24gLmlzRGVza3RvcD1cIiR7aXNEZXNrdG9wfVwiIC5pc1dlYj1cIiR7aXNXZWJ9XCI+PC93Y20tcGxhdGZvcm0tc2VsZWN0aW9uPjwvd2NtLWluZm8tZm9vdGVyPmA7XG4gIH1cbn07XG5XY21Nb2JpbGVRckNvbm5lY3RpbmdWaWV3LnN0eWxlcyA9IFtUaGVtZVV0aWwuZ2xvYmFsQ3NzLCBzdHlsZXMkMl07XG5XY21Nb2JpbGVRckNvbm5lY3RpbmdWaWV3ID0gX19kZWNvcmF0ZUNsYXNzJDMoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLW1vYmlsZS1xci1jb25uZWN0aW5nLXZpZXdcIilcbl0sIFdjbU1vYmlsZVFyQ29ubmVjdGluZ1ZpZXcpO1xuXG52YXIgX19kZWZQcm9wJDIgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyQyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkMiA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyQyKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCQyKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21RcmNvZGVWaWV3ID0gY2xhc3MgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgLy8gLS0gcmVuZGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDx3Y20tbW9kYWwtaGVhZGVyIHRpdGxlPVwiU2NhbiB0aGUgY29kZVwiIC5vbkFjdGlvbj1cIiR7VWlVdGlsLmhhbmRsZVVyaUNvcHl9XCIgLmFjdGlvbkljb249XCIke1N2Z1V0aWwuQ09QWV9JQ09OfVwiPjwvd2NtLW1vZGFsLWhlYWRlcj48d2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS13YWxsZXRjb25uZWN0LXFyPjwvd2NtLXdhbGxldGNvbm5lY3QtcXI+PC93Y20tbW9kYWwtY29udGVudD5gO1xuICB9XG59O1xuV2NtUXJjb2RlVmlldy5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzc107XG5XY21RcmNvZGVWaWV3ID0gX19kZWNvcmF0ZUNsYXNzJDIoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXFyY29kZS12aWV3XCIpXG5dLCBXY21RcmNvZGVWaWV3KTtcblxuY29uc3Qgc3R5bGVzJDEgPSBjc3Ngd2NtLW1vZGFsLWNvbnRlbnR7aGVpZ2h0OmNsYW1wKDIwMHB4LDYwdmgsNjAwcHgpO2Rpc3BsYXk6YmxvY2s7b3ZlcmZsb3c6c2Nyb2xsO3Njcm9sbGJhci13aWR0aDpub25lO3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbi10b3A6MXB4fS53Y20tZ3JpZHtkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCg0LDgwcHgpO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO21hcmdpbjotMTVweCAtMTBweDtwYWRkaW5nLXRvcDoyMHB4fXdjbS1tb2RhbC1jb250ZW50OjphZnRlcix3Y20tbW9kYWwtY29udGVudDo6YmVmb3Jle2NvbnRlbnQ6Jyc7cG9zaXRpb246Zml4ZWQ7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OjE7d2lkdGg6MTAwJTtoZWlnaHQ6MjBweDtvcGFjaXR5OjF9d2NtLW1vZGFsLWNvbnRlbnQ6OmJlZm9yZXtib3gtc2hhZG93OjAgLTFweCAwIDAgdmFyKC0td2NtLWNvbG9yLWJnLTEpO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KHZhcigtLXdjbS1jb2xvci1iZy0xKSxyZ2JhKDI1NSwyNTUsMjU1LDApKX13Y20tbW9kYWwtY29udGVudDo6YWZ0ZXJ7Ym94LXNoYWRvdzowIDFweCAwIDAgdmFyKC0td2NtLWNvbG9yLWJnLTEpO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KHJnYmEoMjU1LDI1NSwyNTUsMCksdmFyKC0td2NtLWNvbG9yLWJnLTEpKTt0b3A6Y2FsYygxMDAlIC0gMjBweCl9d2NtLW1vZGFsLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFye2Rpc3BsYXk6bm9uZX0ud2NtLXBsYWNlaG9sZGVyLWJsb2Nre2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtoZWlnaHQ6MTAwcHg7b3ZlcmZsb3c6aGlkZGVufS53Y20tZW1wdHksLndjbS1sb2FkaW5ne2Rpc3BsYXk6ZmxleH0ud2NtLWxvYWRpbmcgLndjbS1wbGFjZWhvbGRlci1ibG9ja3toZWlnaHQ6MTAwJX0ud2NtLWVuZC1yZWFjaGVkIC53Y20tcGxhY2Vob2xkZXItYmxvY2t7aGVpZ2h0OjA7b3BhY2l0eTowfS53Y20tZW1wdHkgLndjbS1wbGFjZWhvbGRlci1ibG9ja3tvcGFjaXR5OjE7aGVpZ2h0OjEwMCV9d2NtLXdhbGxldC1idXR0b257bWFyZ2luOmNhbGMoKDEwMCUgLSA2MHB4KS8gMykgMH1gO1xuXG52YXIgX19kZWZQcm9wJDEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyQxID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MkMSA9IChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwga2luZCkgPT4ge1xuICB2YXIgcmVzdWx0ID0ga2luZCA+IDEgPyB2b2lkIDAgOiBraW5kID8gX19nZXRPd25Qcm9wRGVzYyQxKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCQxKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmNvbnN0IFBBR0VfRU5UUklFUyA9IDQwO1xubGV0IFdjbVdhbGxldEV4cGxvcmVyVmlldyA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5sb2FkaW5nID0gIUV4cGxvcmVyQ3RybC5zdGF0ZS53YWxsZXRzLmxpc3RpbmdzLmxlbmd0aDtcbiAgICB0aGlzLmZpcnN0RmV0Y2ggPSAhRXhwbG9yZXJDdHJsLnN0YXRlLndhbGxldHMubGlzdGluZ3MubGVuZ3RoO1xuICAgIHRoaXMuc2VhcmNoID0gXCJcIjtcbiAgICB0aGlzLmVuZFJlYWNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gdm9pZCAwO1xuICAgIHRoaXMuc2VhcmNoRGVib3VuY2UgPSBVaVV0aWwuZGVib3VuY2UoKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoID49IDEpIHtcbiAgICAgICAgdGhpcy5maXJzdEZldGNoID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbmRSZWFjaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gdmFsdWU7XG4gICAgICAgIEV4cGxvcmVyQ3RybC5yZXNldFNlYXJjaCgpO1xuICAgICAgICB0aGlzLmZldGNoV2FsbGV0cygpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaCkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IFwiXCI7XG4gICAgICAgIHRoaXMuZW5kUmVhY2hlZCA9IHRoaXMuaXNMYXN0UGFnZSgpO1xuICAgICAgICBFeHBsb3JlckN0cmwucmVzZXRTZWFyY2goKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvLyAtLSBsaWZlY3ljbGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBmaXJzdFVwZGF0ZWQoKSB7XG4gICAgdGhpcy5jcmVhdGVQYWdpbmF0aW9uT2JzZXJ2ZXIoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgfVxuICAvLyAtLSBwcml2YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICBnZXQgcGxhY2Vob2xkZXJFbCgpIHtcbiAgICByZXR1cm4gVWlVdGlsLmdldFNoYWRvd1Jvb3RFbGVtZW50KHRoaXMsIFwiLndjbS1wbGFjZWhvbGRlci1ibG9ja1wiKTtcbiAgfVxuICBjcmVhdGVQYWdpbmF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoW2VsZW1lbnRdKSA9PiB7XG4gICAgICBpZiAoZWxlbWVudC5pc0ludGVyc2VjdGluZyAmJiAhKHRoaXMuc2VhcmNoICYmIHRoaXMuZmlyc3RGZXRjaCkpIHtcbiAgICAgICAgdGhpcy5mZXRjaFdhbGxldHMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy5wbGFjZWhvbGRlckVsKTtcbiAgfVxuICBpc0xhc3RQYWdlKCkge1xuICAgIGNvbnN0IHsgd2FsbGV0cywgc2VhcmNoIH0gPSBFeHBsb3JlckN0cmwuc3RhdGU7XG4gICAgY29uc3QgeyBsaXN0aW5ncywgdG90YWwgfSA9IHRoaXMuc2VhcmNoID8gc2VhcmNoIDogd2FsbGV0cztcbiAgICByZXR1cm4gdG90YWwgPD0gUEFHRV9FTlRSSUVTIHx8IGxpc3RpbmdzLmxlbmd0aCA+PSB0b3RhbDtcbiAgfVxuICBhc3luYyBmZXRjaFdhbGxldHMoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHsgd2FsbGV0cywgc2VhcmNoIH0gPSBFeHBsb3JlckN0cmwuc3RhdGU7XG4gICAgY29uc3QgeyBsaXN0aW5ncywgdG90YWwsIHBhZ2UgfSA9IHRoaXMuc2VhcmNoID8gc2VhcmNoIDogd2FsbGV0cztcbiAgICBpZiAoIXRoaXMuZW5kUmVhY2hlZCAmJiAodGhpcy5maXJzdEZldGNoIHx8IHRvdGFsID4gUEFHRV9FTlRSSUVTICYmIGxpc3RpbmdzLmxlbmd0aCA8IHRvdGFsKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgY2hhaW5zID0gKF9hID0gT3B0aW9uc0N0cmwuc3RhdGUuY2hhaW5zKSA9PSBudWxsID8gdm9pZCAwIDogX2Euam9pbihcIixcIik7XG4gICAgICAgIGNvbnN0IHsgbGlzdGluZ3M6IG5ld0xpc3RpbmdzIH0gPSBhd2FpdCBFeHBsb3JlckN0cmwuZ2V0V2FsbGV0cyh7XG4gICAgICAgICAgcGFnZTogdGhpcy5maXJzdEZldGNoID8gMSA6IHBhZ2UgKyAxLFxuICAgICAgICAgIGVudHJpZXM6IFBBR0VfRU5UUklFUyxcbiAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoLFxuICAgICAgICAgIHZlcnNpb246IDIsXG4gICAgICAgICAgY2hhaW5zXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBleHBsb3JlckltYWdlcyA9IG5ld0xpc3RpbmdzLm1hcCgod2FsbGV0KSA9PiBVaVV0aWwuZ2V0V2FsbGV0SWNvbih3YWxsZXQpKTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIC4uLmV4cGxvcmVySW1hZ2VzLm1hcChhc3luYyAodXJsKSA9PiBVaVV0aWwucHJlbG9hZEltYWdlKHVybCkpLFxuICAgICAgICAgIENvcmVVdGlsLndhaXQoMzAwKVxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5lbmRSZWFjaGVkID0gdGhpcy5pc0xhc3RQYWdlKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICBUb2FzdEN0cmwub3BlblRvYXN0KFVpVXRpbC5nZXRFcnJvck1lc3NhZ2UoZXJyKSwgXCJlcnJvclwiKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpcnN0RmV0Y2ggPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgb25Db25uZWN0KGxpc3RpbmcpIHtcbiAgICBpZiAoQ29yZVV0aWwuaXNBbmRyb2lkKCkpIHtcbiAgICAgIFVpVXRpbC5oYW5kbGVNb2JpbGVMaW5raW5nKGxpc3RpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBVaVV0aWwuZ29Ub0Nvbm5lY3RpbmdWaWV3KGxpc3RpbmcpO1xuICAgIH1cbiAgfVxuICBvblNlYXJjaENoYW5nZShldmVudCkge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGV2ZW50LnRhcmdldDtcbiAgICB0aGlzLnNlYXJjaERlYm91bmNlKHZhbHVlKTtcbiAgfVxuICAvLyAtLSByZW5kZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB3YWxsZXRzLCBzZWFyY2ggfSA9IEV4cGxvcmVyQ3RybC5zdGF0ZTtcbiAgICBjb25zdCB7IGxpc3RpbmdzIH0gPSB0aGlzLnNlYXJjaCA/IHNlYXJjaCA6IHdhbGxldHM7XG4gICAgY29uc3QgaXNMb2FkaW5nID0gdGhpcy5sb2FkaW5nICYmICFsaXN0aW5ncy5sZW5ndGg7XG4gICAgY29uc3QgaXNTZWFyY2ggPSB0aGlzLnNlYXJjaC5sZW5ndGggPj0gMztcbiAgICBsZXQgbWFudWFsV2FsbGV0cyA9IFRlbXBsYXRlVXRpbC5tYW51YWxXYWxsZXRzVGVtcGxhdGUoKTtcbiAgICBsZXQgcmVjb21lbmRlZFdhbGxldHMgPSBUZW1wbGF0ZVV0aWwucmVjb21lbmRlZFdhbGxldHNUZW1wbGF0ZSh0cnVlKTtcbiAgICBpZiAoaXNTZWFyY2gpIHtcbiAgICAgIG1hbnVhbFdhbGxldHMgPSBtYW51YWxXYWxsZXRzLmZpbHRlcihcbiAgICAgICAgKHsgdmFsdWVzIH0pID0+IFVpVXRpbC5jYXNlU2FmZUluY2x1ZGVzKHZhbHVlc1swXSwgdGhpcy5zZWFyY2gpXG4gICAgICApO1xuICAgICAgcmVjb21lbmRlZFdhbGxldHMgPSByZWNvbWVuZGVkV2FsbGV0cy5maWx0ZXIoXG4gICAgICAgICh7IHZhbHVlcyB9KSA9PiBVaVV0aWwuY2FzZVNhZmVJbmNsdWRlcyh2YWx1ZXNbMF0sIHRoaXMuc2VhcmNoKVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgaXNFbXB0eSA9ICF0aGlzLmxvYWRpbmcgJiYgIWxpc3RpbmdzLmxlbmd0aCAmJiAhcmVjb21lbmRlZFdhbGxldHMubGVuZ3RoO1xuICAgIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgICBcIndjbS1sb2FkaW5nXCI6IGlzTG9hZGluZyxcbiAgICAgIFwid2NtLWVuZC1yZWFjaGVkXCI6IHRoaXMuZW5kUmVhY2hlZCB8fCAhdGhpcy5sb2FkaW5nLFxuICAgICAgXCJ3Y20tZW1wdHlcIjogaXNFbXB0eVxuICAgIH07XG4gICAgcmV0dXJuIGh0bWxgPHdjbS1tb2RhbC1oZWFkZXI+PHdjbS1zZWFyY2gtaW5wdXQgLm9uQ2hhbmdlPVwiJHt0aGlzLm9uU2VhcmNoQ2hhbmdlLmJpbmQodGhpcyl9XCI+PC93Y20tc2VhcmNoLWlucHV0Pjwvd2NtLW1vZGFsLWhlYWRlcj48d2NtLW1vZGFsLWNvbnRlbnQgY2xhc3M9XCIke2NsYXNzTWFwKGNsYXNzZXMpfVwiPjxkaXYgY2xhc3M9XCJ3Y20tZ3JpZFwiPiR7aXNMb2FkaW5nID8gbnVsbCA6IG1hbnVhbFdhbGxldHN9ICR7aXNMb2FkaW5nID8gbnVsbCA6IHJlY29tZW5kZWRXYWxsZXRzfSAke2lzTG9hZGluZyA/IG51bGwgOiBsaXN0aW5ncy5tYXAoXG4gICAgICAobGlzdGluZykgPT4gaHRtbGAke2xpc3RpbmcgPyBodG1sYDx3Y20td2FsbGV0LWJ1dHRvbiBpbWFnZUlkPVwiJHtsaXN0aW5nLmltYWdlX2lkfVwiIG5hbWU9XCIke2xpc3RpbmcubmFtZX1cIiB3YWxsZXRJZD1cIiR7bGlzdGluZy5pZH1cIiAub25DbGljaz1cIiR7KCkgPT4gdGhpcy5vbkNvbm5lY3QobGlzdGluZyl9XCI+PC93Y20td2FsbGV0LWJ1dHRvbj5gIDogbnVsbH1gXG4gICAgKX08L2Rpdj48ZGl2IGNsYXNzPVwid2NtLXBsYWNlaG9sZGVyLWJsb2NrXCI+JHtpc0VtcHR5ID8gaHRtbGA8d2NtLXRleHQgdmFyaWFudD1cImJpZy1ib2xkXCIgY29sb3I9XCJzZWNvbmRhcnlcIj5ObyByZXN1bHRzIGZvdW5kPC93Y20tdGV4dD5gIDogbnVsbH0gJHshaXNFbXB0eSAmJiB0aGlzLmxvYWRpbmcgPyBodG1sYDx3Y20tc3Bpbm5lcj48L3djbS1zcGlubmVyPmAgOiBudWxsfTwvZGl2Pjwvd2NtLW1vZGFsLWNvbnRlbnQ+YDtcbiAgfVxufTtcbldjbVdhbGxldEV4cGxvcmVyVmlldy5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzJDFdO1xuX19kZWNvcmF0ZUNsYXNzJDEoW1xuICBzdGF0ZSgpXG5dLCBXY21XYWxsZXRFeHBsb3JlclZpZXcucHJvdG90eXBlLCBcImxvYWRpbmdcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkMShbXG4gIHN0YXRlKClcbl0sIFdjbVdhbGxldEV4cGxvcmVyVmlldy5wcm90b3R5cGUsIFwiZmlyc3RGZXRjaFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyQxKFtcbiAgc3RhdGUoKVxuXSwgV2NtV2FsbGV0RXhwbG9yZXJWaWV3LnByb3RvdHlwZSwgXCJzZWFyY2hcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MkMShbXG4gIHN0YXRlKClcbl0sIFdjbVdhbGxldEV4cGxvcmVyVmlldy5wcm90b3R5cGUsIFwiZW5kUmVhY2hlZFwiLCAyKTtcbldjbVdhbGxldEV4cGxvcmVyVmlldyA9IF9fZGVjb3JhdGVDbGFzcyQxKFtcbiAgY3VzdG9tRWxlbWVudChcIndjbS13YWxsZXQtZXhwbG9yZXItdmlld1wiKVxuXSwgV2NtV2FsbGV0RXhwbG9yZXJWaWV3KTtcblxuY29uc3Qgc3R5bGVzID0gY3NzYHdjbS1pbmZvLWZvb3RlcntmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO3BhZGRpbmc6NXB4IDB9d2NtLXRleHR7dGV4dC1hbGlnbjpjZW50ZXJ9YDtcblxudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2RlY29yYXRlQ2xhc3MgPSAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGtpbmQpID0+IHtcbiAgdmFyIHJlc3VsdCA9IGtpbmQgPiAxID8gdm9pZCAwIDoga2luZCA/IF9fZ2V0T3duUHJvcERlc2ModGFyZ2V0LCBrZXkpIDogdGFyZ2V0O1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxLCBkZWNvcmF0b3I7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgcmVzdWx0ID0gKGtpbmQgPyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHJlc3VsdCkgOiBkZWNvcmF0b3IocmVzdWx0KSkgfHwgcmVzdWx0O1xuICBpZiAoa2luZCAmJiByZXN1bHQpXG4gICAgX19kZWZQcm9wKHRhcmdldCwga2V5LCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmxldCBXY21XZWJDb25uZWN0aW5nVmlldyA9IGNsYXNzIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIC8vIC0tIGxpZmVjeWNsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pc0Vycm9yID0gZmFsc2U7XG4gICAgdGhpcy5vcGVuV2ViV2FsbGV0KCk7XG4gIH1cbiAgLy8gLS0gcHJpdmF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgb25Gb3JtYXRBbmRSZWRpcmVjdCh1cmkpIHtcbiAgICBjb25zdCB7IGRlc2t0b3AsIG5hbWUgfSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBjb25zdCB1bml2ZXJzYWxVcmwgPSBkZXNrdG9wID09IG51bGwgPyB2b2lkIDAgOiBkZXNrdG9wLnVuaXZlcnNhbDtcbiAgICBpZiAodW5pdmVyc2FsVXJsKSB7XG4gICAgICBjb25zdCBocmVmID0gQ29yZVV0aWwuZm9ybWF0VW5pdmVyc2FsVXJsKHVuaXZlcnNhbFVybCwgdXJpLCBuYW1lKTtcbiAgICAgIENvcmVVdGlsLm9wZW5IcmVmKGhyZWYsIFwiX2JsYW5rXCIpO1xuICAgIH1cbiAgfVxuICBvcGVuV2ViV2FsbGV0KCkge1xuICAgIGNvbnN0IHsgd2FsbGV0Q29ubmVjdFVyaSB9ID0gT3B0aW9uc0N0cmwuc3RhdGU7XG4gICAgY29uc3Qgcm91dGVyRGF0YSA9IENvcmVVdGlsLmdldFdhbGxldFJvdXRlckRhdGEoKTtcbiAgICBVaVV0aWwuc2V0UmVjZW50V2FsbGV0KHJvdXRlckRhdGEpO1xuICAgIGlmICh3YWxsZXRDb25uZWN0VXJpKSB7XG4gICAgICB0aGlzLm9uRm9ybWF0QW5kUmVkaXJlY3Qod2FsbGV0Q29ubmVjdFVyaSk7XG4gICAgfVxuICB9XG4gIC8vIC0tIHJlbmRlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG5hbWUsIGlkLCBpbWFnZV9pZCB9ID0gQ29yZVV0aWwuZ2V0V2FsbGV0Um91dGVyRGF0YSgpO1xuICAgIGNvbnN0IHsgaXNNb2JpbGUsIGlzRGVza3RvcCB9ID0gVWlVdGlsLmdldENhY2hlZFJvdXRlcldhbGxldFBsYXRmb3JtcygpO1xuICAgIGNvbnN0IGlzTW9iaWxlUGxhdGZvcm0gPSBDb3JlVXRpbC5pc01vYmlsZSgpO1xuICAgIHJldHVybiBodG1sYDx3Y20tbW9kYWwtaGVhZGVyIHRpdGxlPVwiJHtuYW1lfVwiIC5vbkFjdGlvbj1cIiR7VWlVdGlsLmhhbmRsZVVyaUNvcHl9XCIgLmFjdGlvbkljb249XCIke1N2Z1V0aWwuQ09QWV9JQ09OfVwiPjwvd2NtLW1vZGFsLWhlYWRlcj48d2NtLW1vZGFsLWNvbnRlbnQ+PHdjbS1jb25uZWN0b3Itd2FpdGluZyB3YWxsZXRJZD1cIiR7aWR9XCIgaW1hZ2VJZD1cIiR7aWZEZWZpbmVkKGltYWdlX2lkKX1cIiBsYWJlbD1cIiR7YENvbnRpbnVlIGluICR7bmFtZX0uLi5gfVwiIC5pc0Vycm9yPVwiJHt0aGlzLmlzRXJyb3J9XCI+PC93Y20tY29ubmVjdG9yLXdhaXRpbmc+PC93Y20tbW9kYWwtY29udGVudD48d2NtLWluZm8tZm9vdGVyPjx3Y20tdGV4dCBjb2xvcj1cInNlY29uZGFyeVwiIHZhcmlhbnQ9XCJzbWFsbC10aGluXCI+JHtgJHtuYW1lfSB3ZWIgYXBwIGhhcyBvcGVuZWQgaW4gYSBuZXcgdGFiLiBHbyB0aGVyZSwgYWNjZXB0IHRoZSBjb25uZWN0aW9uLCBhbmQgY29tZSBiYWNrYH08L3djbS10ZXh0Pjx3Y20tcGxhdGZvcm0tc2VsZWN0aW9uIC5pc01vYmlsZT1cIiR7aXNNb2JpbGV9XCIgLmlzRGVza3RvcD1cIiR7aXNNb2JpbGVQbGF0Zm9ybSA/IGZhbHNlIDogaXNEZXNrdG9wfVwiIC5pc1JldHJ5PVwiJHt0cnVlfVwiPjx3Y20tYnV0dG9uIC5vbkNsaWNrPVwiJHt0aGlzLm9wZW5XZWJXYWxsZXQuYmluZCh0aGlzKX1cIiAuaWNvblJpZ2h0PVwiJHtTdmdVdGlsLlJFVFJZX0lDT059XCI+UmV0cnk8L3djbS1idXR0b24+PC93Y20tcGxhdGZvcm0tc2VsZWN0aW9uPjwvd2NtLWluZm8tZm9vdGVyPmA7XG4gIH1cbn07XG5XY21XZWJDb25uZWN0aW5nVmlldy5zdHlsZXMgPSBbVGhlbWVVdGlsLmdsb2JhbENzcywgc3R5bGVzXTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHN0YXRlKClcbl0sIFdjbVdlYkNvbm5lY3RpbmdWaWV3LnByb3RvdHlwZSwgXCJpc0Vycm9yXCIsIDIpO1xuV2NtV2ViQ29ubmVjdGluZ1ZpZXcgPSBfX2RlY29yYXRlQ2xhc3MoW1xuICBjdXN0b21FbGVtZW50KFwid2NtLXdlYi1jb25uZWN0aW5nLXZpZXdcIilcbl0sIFdjbVdlYkNvbm5lY3RpbmdWaWV3KTtcblxuZXhwb3J0IHsgV2NtTW9kYWwsIFdjbVFyQ29kZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/css-tag.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/css-tag.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* binding */ CSSResult),\n/* harmony export */   adoptStyles: () => (/* binding */ adoptStyles),\n/* harmony export */   css: () => (/* binding */ css),\n/* harmony export */   getCompatibleStyle: () => (/* binding */ getCompatibleStyle),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* binding */ supportsAdoptingStyleSheets),\n/* harmony export */   unsafeCSS: () => (/* binding */ unsafeCSS)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst global = globalThis ;\n/**\n * Whether the current browser supports `adoptedStyleSheets`.\n */\nconst supportsAdoptingStyleSheets = global.ShadowRoot &&\n    (global.ShadyCSS === undefined || global.ShadyCSS.nativeShadow) &&\n    'adoptedStyleSheets' in Document.prototype &&\n    'replace' in CSSStyleSheet.prototype;\nconst constructionToken = Symbol();\nconst cssTagCache = new WeakMap();\n/**\n * A container for a string of CSS text, that may be used to create a CSSStyleSheet.\n *\n * CSSResult is the return value of `css`-tagged template literals and\n * `unsafeCSS()`. In order to ensure that CSSResults are only created via the\n * `css` tag and `unsafeCSS()`, CSSResult cannot be constructed directly.\n */\nclass CSSResult {\n    constructor(cssText, strings, safeToken) {\n        // This property needs to remain unminified.\n        this['_$cssResult$'] = true;\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n        this._strings = strings;\n    }\n    // This is a getter so that it's lazy. In practice, this means stylesheets\n    // are not created until the first element instance is made.\n    get styleSheet() {\n        // If `supportsAdoptingStyleSheets` is true then we assume CSSStyleSheet is\n        // constructable.\n        let styleSheet = this._styleSheet;\n        const strings = this._strings;\n        if (supportsAdoptingStyleSheets && styleSheet === undefined) {\n            const cacheable = strings !== undefined && strings.length === 1;\n            if (cacheable) {\n                styleSheet = cssTagCache.get(strings);\n            }\n            if (styleSheet === undefined) {\n                (this._styleSheet = styleSheet = new CSSStyleSheet()).replaceSync(this.cssText);\n                if (cacheable) {\n                    cssTagCache.set(strings, styleSheet);\n                }\n            }\n        }\n        return styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\nconst textFromCSSResult = (value) => {\n    // This property needs to remain unminified.\n    if (value['_$cssResult$'] === true) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ` +\n            `${value}. Use 'unsafeCSS' to pass non-literal values, but take care ` +\n            `to ensure page security.`);\n    }\n};\n/**\n * Wrap a value for interpolation in a {@linkcode css} tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nconst unsafeCSS = (value) => new CSSResult(typeof value === 'string' ? value : String(value), undefined, constructionToken);\n/**\n * A template literal tag which can be used with LitElement's\n * {@linkcode LitElement.styles} property to set element styles.\n *\n * For security reasons, only literal string values and number may be used in\n * embedded expressions. To incorporate non-literal values {@linkcode unsafeCSS}\n * may be used inside an expression.\n */\nconst css = (strings, ...values) => {\n    const cssText = strings.length === 1\n        ? strings[0]\n        : values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, strings, constructionToken);\n};\n/**\n * Applies the given styles to a `shadowRoot`. When Shadow DOM is\n * available but `adoptedStyleSheets` is not, styles are appended to the\n * `shadowRoot` to [mimic spec behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n * Note, when shimming is used, any styles that are subsequently placed into\n * the shadowRoot should be placed *before* any shimmed adopted styles. This\n * will match spec behavior that gives adopted sheets precedence over styles in\n * shadowRoot.\n */\nconst adoptStyles = (renderRoot, styles) => {\n    if (supportsAdoptingStyleSheets) {\n        renderRoot.adoptedStyleSheets = styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet);\n    }\n    else {\n        styles.forEach((s) => {\n            const style = document.createElement('style');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const nonce = global['litNonce'];\n            if (nonce !== undefined) {\n                style.setAttribute('nonce', nonce);\n            }\n            style.textContent = s.cssText;\n            renderRoot.appendChild(style);\n        });\n    }\n};\nconst cssResultFromStyleSheet = (sheet) => {\n    let cssText = '';\n    for (const rule of sheet.cssRules) {\n        cssText += rule.cssText;\n    }\n    return unsafeCSS(cssText);\n};\nconst getCompatibleStyle = supportsAdoptingStyleSheets ||\n    (global.CSSStyleSheet === undefined)\n    ? (s) => s\n    : (s) => s instanceof CSSStyleSheet ? cssResultFromStyleSheet(s) : s;\n\n\n//# sourceMappingURL=css-tag.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2Nzcy10YWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw2QkFBNkI7QUFDakM7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFbUc7QUFDbkciLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvbm9kZS9kZXZlbG9wbWVudC9jc3MtdGFnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcyA7XG4vKipcbiAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBgYWRvcHRlZFN0eWxlU2hlZXRzYC5cbiAqL1xuY29uc3Qgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzID0gZ2xvYmFsLlNoYWRvd1Jvb3QgJiZcbiAgICAoZ2xvYmFsLlNoYWR5Q1NTID09PSB1bmRlZmluZWQgfHwgZ2xvYmFsLlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdykgJiZcbiAgICAnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUgJiZcbiAgICAncmVwbGFjZScgaW4gQ1NTU3R5bGVTaGVldC5wcm90b3R5cGU7XG5jb25zdCBjb25zdHJ1Y3Rpb25Ub2tlbiA9IFN5bWJvbCgpO1xuY29uc3QgY3NzVGFnQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBBIGNvbnRhaW5lciBmb3IgYSBzdHJpbmcgb2YgQ1NTIHRleHQsIHRoYXQgbWF5IGJlIHVzZWQgdG8gY3JlYXRlIGEgQ1NTU3R5bGVTaGVldC5cbiAqXG4gKiBDU1NSZXN1bHQgaXMgdGhlIHJldHVybiB2YWx1ZSBvZiBgY3NzYC10YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbHMgYW5kXG4gKiBgdW5zYWZlQ1NTKClgLiBJbiBvcmRlciB0byBlbnN1cmUgdGhhdCBDU1NSZXN1bHRzIGFyZSBvbmx5IGNyZWF0ZWQgdmlhIHRoZVxuICogYGNzc2AgdGFnIGFuZCBgdW5zYWZlQ1NTKClgLCBDU1NSZXN1bHQgY2Fubm90IGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LlxuICovXG5jbGFzcyBDU1NSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKGNzc1RleHQsIHN0cmluZ3MsIHNhZmVUb2tlbikge1xuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICB0aGlzWydfJGNzc1Jlc3VsdCQnXSA9IHRydWU7XG4gICAgICAgIGlmIChzYWZlVG9rZW4gIT09IGNvbnN0cnVjdGlvblRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NTU1Jlc3VsdCBpcyBub3QgY29uc3RydWN0YWJsZS4gVXNlIGB1bnNhZmVDU1NgIG9yIGBjc3NgIGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgICAgICAgdGhpcy5fc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgfVxuICAgIC8vIFRoaXMgaXMgYSBnZXR0ZXIgc28gdGhhdCBpdCdzIGxhenkuIEluIHByYWN0aWNlLCB0aGlzIG1lYW5zIHN0eWxlc2hlZXRzXG4gICAgLy8gYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gICAgZ2V0IHN0eWxlU2hlZXQoKSB7XG4gICAgICAgIC8vIElmIGBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHNgIGlzIHRydWUgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldCBpc1xuICAgICAgICAvLyBjb25zdHJ1Y3RhYmxlLlxuICAgICAgICBsZXQgc3R5bGVTaGVldCA9IHRoaXMuX3N0eWxlU2hlZXQ7XG4gICAgICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLl9zdHJpbmdzO1xuICAgICAgICBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzICYmIHN0eWxlU2hlZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVhYmxlID0gc3RyaW5ncyAhPT0gdW5kZWZpbmVkICYmIHN0cmluZ3MubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgaWYgKGNhY2hlYWJsZSkge1xuICAgICAgICAgICAgICAgIHN0eWxlU2hlZXQgPSBjc3NUYWdDYWNoZS5nZXQoc3RyaW5ncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgKHRoaXMuX3N0eWxlU2hlZXQgPSBzdHlsZVNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKSkucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNzc1RhZ0NhY2hlLnNldChzdHJpbmdzLCBzdHlsZVNoZWV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0eWxlU2hlZXQ7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICAgIH1cbn1cbmNvbnN0IHRleHRGcm9tQ1NTUmVzdWx0ID0gKHZhbHVlKSA9PiB7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICBpZiAodmFsdWVbJ18kY3NzUmVzdWx0JCddID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5jc3NUZXh0O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgcGFzc2VkIHRvICdjc3MnIGZ1bmN0aW9uIG11c3QgYmUgYSAnY3NzJyBmdW5jdGlvbiByZXN1bHQ6IGAgK1xuICAgICAgICAgICAgYCR7dmFsdWV9LiBVc2UgJ3Vuc2FmZUNTUycgdG8gcGFzcyBub24tbGl0ZXJhbCB2YWx1ZXMsIGJ1dCB0YWtlIGNhcmUgYCArXG4gICAgICAgICAgICBgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYCk7XG4gICAgfVxufTtcbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEge0BsaW5rY29kZSBjc3N9IHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmNvbnN0IHVuc2FmZUNTUyA9ICh2YWx1ZSkgPT4gbmV3IENTU1Jlc3VsdCh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBTdHJpbmcodmFsdWUpLCB1bmRlZmluZWQsIGNvbnN0cnVjdGlvblRva2VuKTtcbi8qKlxuICogQSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyB3aGljaCBjYW4gYmUgdXNlZCB3aXRoIExpdEVsZW1lbnQnc1xuICoge0BsaW5rY29kZSBMaXRFbGVtZW50LnN0eWxlc30gcHJvcGVydHkgdG8gc2V0IGVsZW1lbnQgc3R5bGVzLlxuICpcbiAqIEZvciBzZWN1cml0eSByZWFzb25zLCBvbmx5IGxpdGVyYWwgc3RyaW5nIHZhbHVlcyBhbmQgbnVtYmVyIG1heSBiZSB1c2VkIGluXG4gKiBlbWJlZGRlZCBleHByZXNzaW9ucy4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIHtAbGlua2NvZGUgdW5zYWZlQ1NTfVxuICogbWF5IGJlIHVzZWQgaW5zaWRlIGFuIGV4cHJlc3Npb24uXG4gKi9cbmNvbnN0IGNzcyA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IHtcbiAgICBjb25zdCBjc3NUZXh0ID0gc3RyaW5ncy5sZW5ndGggPT09IDFcbiAgICAgICAgPyBzdHJpbmdzWzBdXG4gICAgICAgIDogdmFsdWVzLnJlZHVjZSgoYWNjLCB2LCBpZHgpID0+IGFjYyArIHRleHRGcm9tQ1NTUmVzdWx0KHYpICsgc3RyaW5nc1tpZHggKyAxXSwgc3RyaW5nc1swXSk7XG4gICAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoY3NzVGV4dCwgc3RyaW5ncywgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcbi8qKlxuICogQXBwbGllcyB0aGUgZ2l2ZW4gc3R5bGVzIHRvIGEgYHNoYWRvd1Jvb3RgLiBXaGVuIFNoYWRvdyBET00gaXNcbiAqIGF2YWlsYWJsZSBidXQgYGFkb3B0ZWRTdHlsZVNoZWV0c2AgaXMgbm90LCBzdHlsZXMgYXJlIGFwcGVuZGVkIHRvIHRoZVxuICogYHNoYWRvd1Jvb3RgIHRvIFttaW1pYyBzcGVjIGJlaGF2aW9yXShodHRwczovL3dpY2cuZ2l0aHViLmlvL2NvbnN0cnVjdC1zdHlsZXNoZWV0cy8jdXNpbmctY29uc3RydWN0ZWQtc3R5bGVzaGVldHMpLlxuICogTm90ZSwgd2hlbiBzaGltbWluZyBpcyB1c2VkLCBhbnkgc3R5bGVzIHRoYXQgYXJlIHN1YnNlcXVlbnRseSBwbGFjZWQgaW50b1xuICogdGhlIHNoYWRvd1Jvb3Qgc2hvdWxkIGJlIHBsYWNlZCAqYmVmb3JlKiBhbnkgc2hpbW1lZCBhZG9wdGVkIHN0eWxlcy4gVGhpc1xuICogd2lsbCBtYXRjaCBzcGVjIGJlaGF2aW9yIHRoYXQgZ2l2ZXMgYWRvcHRlZCBzaGVldHMgcHJlY2VkZW5jZSBvdmVyIHN0eWxlcyBpblxuICogc2hhZG93Um9vdC5cbiAqL1xuY29uc3QgYWRvcHRTdHlsZXMgPSAocmVuZGVyUm9vdCwgc3R5bGVzKSA9PiB7XG4gICAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICByZW5kZXJSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IHN0eWxlcy5tYXAoKHMpID0+IHMgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0ID8gcyA6IHMuc3R5bGVTaGVldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdHlsZXMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGNvbnN0IG5vbmNlID0gZ2xvYmFsWydsaXROb25jZSddO1xuICAgICAgICAgICAgaWYgKG5vbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbm9uY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzLmNzc1RleHQ7XG4gICAgICAgICAgICByZW5kZXJSb290LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IGNzc1Jlc3VsdEZyb21TdHlsZVNoZWV0ID0gKHNoZWV0KSA9PiB7XG4gICAgbGV0IGNzc1RleHQgPSAnJztcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2Ygc2hlZXQuY3NzUnVsZXMpIHtcbiAgICAgICAgY3NzVGV4dCArPSBydWxlLmNzc1RleHQ7XG4gICAgfVxuICAgIHJldHVybiB1bnNhZmVDU1MoY3NzVGV4dCk7XG59O1xuY29uc3QgZ2V0Q29tcGF0aWJsZVN0eWxlID0gc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIHx8XG4gICAgKGdsb2JhbC5DU1NTdHlsZVNoZWV0ID09PSB1bmRlZmluZWQpXG4gICAgPyAocykgPT4gc1xuICAgIDogKHMpID0+IHMgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0ID8gY3NzUmVzdWx0RnJvbVN0eWxlU2hlZXQocykgOiBzO1xuXG5leHBvcnQgeyBDU1NSZXN1bHQsIGFkb3B0U3R5bGVzLCBjc3MsIGdldENvbXBhdGlibGVTdHlsZSwgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzLCB1bnNhZmVDU1MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy10YWcuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/css-tag.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decorateProperty: () => (/* binding */ decorateProperty),\n/* harmony export */   legacyPrototypeMethod: () => (/* binding */ legacyPrototypeMethod),\n/* harmony export */   standardPrototypeMethod: () => (/* binding */ standardPrototypeMethod)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst legacyPrototypeMethod = (descriptor, proto, name) => {\n    Object.defineProperty(proto, name, descriptor);\n};\nconst standardPrototypeMethod = (descriptor, element) => ({\n    kind: 'method',\n    placement: 'prototype',\n    key: element.key,\n    descriptor,\n});\n/**\n * Helper for decorating a property that is compatible with both TypeScript\n * and Babel decorators. The optional `finisher` can be used to perform work on\n * the class. The optional `descriptor` should return a PropertyDescriptor\n * to install for the given property.\n *\n * @param finisher {function} Optional finisher method; receives the element\n * constructor and property key as arguments and has no return value.\n * @param descriptor {function} Optional descriptor method; receives the\n * property key as an argument and returns a property descriptor to define for\n * the given property.\n * @returns {ClassElement|void}\n */\nconst decorateProperty = ({ finisher, descriptor, }) => (protoOrDescriptor, name\n// Note TypeScript requires the return type to be `void|any`\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) => {\n    var _a;\n    // TypeScript / Babel legacy mode\n    if (name !== undefined) {\n        const ctor = protoOrDescriptor\n            .constructor;\n        if (descriptor !== undefined) {\n            Object.defineProperty(protoOrDescriptor, name, descriptor(name));\n        }\n        finisher === null || finisher === void 0 ? void 0 : finisher(ctor, name);\n        // Babel standard mode\n    }\n    else {\n        // Note, the @property decorator saves `key` as `originalKey`\n        // so try to use it here.\n        const key = \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (_a = protoOrDescriptor.originalKey) !== null && _a !== void 0 ? _a : protoOrDescriptor.key;\n        const info = descriptor != undefined\n            ? {\n                kind: 'method',\n                placement: 'prototype',\n                key,\n                descriptor: descriptor(protoOrDescriptor.key),\n            }\n            : { ...protoOrDescriptor, key };\n        if (finisher != undefined) {\n            info.finisher = function (ctor) {\n                finisher(ctor, key);\n            };\n        }\n        return info;\n    }\n};\n\n\n//# sourceMappingURL=base.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVSwwQkFBMEI7QUFDeEQ7QUFDQSxzQkFBc0IsVUFBVSw0QkFBNEI7QUFDNUQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDRCQUE0Qix1QkFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTRFO0FBQzVFIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L25vZGUvZGV2ZWxvcG1lbnQvZGVjb3JhdG9ycy9iYXNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY29uc3QgbGVnYWN5UHJvdG90eXBlTWV0aG9kID0gKGRlc2NyaXB0b3IsIHByb3RvLCBuYW1lKSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCBkZXNjcmlwdG9yKTtcbn07XG5jb25zdCBzdGFuZGFyZFByb3RvdHlwZU1ldGhvZCA9IChkZXNjcmlwdG9yLCBlbGVtZW50KSA9PiAoe1xuICAgIGtpbmQ6ICdtZXRob2QnLFxuICAgIHBsYWNlbWVudDogJ3Byb3RvdHlwZScsXG4gICAga2V5OiBlbGVtZW50LmtleSxcbiAgICBkZXNjcmlwdG9yLFxufSk7XG4vKipcbiAqIEhlbHBlciBmb3IgZGVjb3JhdGluZyBhIHByb3BlcnR5IHRoYXQgaXMgY29tcGF0aWJsZSB3aXRoIGJvdGggVHlwZVNjcmlwdFxuICogYW5kIEJhYmVsIGRlY29yYXRvcnMuIFRoZSBvcHRpb25hbCBgZmluaXNoZXJgIGNhbiBiZSB1c2VkIHRvIHBlcmZvcm0gd29yayBvblxuICogdGhlIGNsYXNzLiBUaGUgb3B0aW9uYWwgYGRlc2NyaXB0b3JgIHNob3VsZCByZXR1cm4gYSBQcm9wZXJ0eURlc2NyaXB0b3JcbiAqIHRvIGluc3RhbGwgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0gZmluaXNoZXIge2Z1bmN0aW9ufSBPcHRpb25hbCBmaW5pc2hlciBtZXRob2Q7IHJlY2VpdmVzIHRoZSBlbGVtZW50XG4gKiBjb25zdHJ1Y3RvciBhbmQgcHJvcGVydHkga2V5IGFzIGFyZ3VtZW50cyBhbmQgaGFzIG5vIHJldHVybiB2YWx1ZS5cbiAqIEBwYXJhbSBkZXNjcmlwdG9yIHtmdW5jdGlvbn0gT3B0aW9uYWwgZGVzY3JpcHRvciBtZXRob2Q7IHJlY2VpdmVzIHRoZVxuICogcHJvcGVydHkga2V5IGFzIGFuIGFyZ3VtZW50IGFuZCByZXR1cm5zIGEgcHJvcGVydHkgZGVzY3JpcHRvciB0byBkZWZpbmUgZm9yXG4gKiB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7Q2xhc3NFbGVtZW50fHZvaWR9XG4gKi9cbmNvbnN0IGRlY29yYXRlUHJvcGVydHkgPSAoeyBmaW5pc2hlciwgZGVzY3JpcHRvciwgfSkgPT4gKHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lXG4vLyBOb3RlIFR5cGVTY3JpcHQgcmVxdWlyZXMgdGhlIHJldHVybiB0eXBlIHRvIGJlIGB2b2lkfGFueWBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgLy8gVHlwZVNjcmlwdCAvIEJhYmVsIGxlZ2FjeSBtb2RlXG4gICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBjdG9yID0gcHJvdG9PckRlc2NyaXB0b3JcbiAgICAgICAgICAgIC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lLCBkZXNjcmlwdG9yKG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5pc2hlciA9PT0gbnVsbCB8fCBmaW5pc2hlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmluaXNoZXIoY3RvciwgbmFtZSk7XG4gICAgICAgIC8vIEJhYmVsIHN0YW5kYXJkIG1vZGVcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIE5vdGUsIHRoZSBAcHJvcGVydHkgZGVjb3JhdG9yIHNhdmVzIGBrZXlgIGFzIGBvcmlnaW5hbEtleWBcbiAgICAgICAgLy8gc28gdHJ5IHRvIHVzZSBpdCBoZXJlLlxuICAgICAgICBjb25zdCBrZXkgPSBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgKF9hID0gcHJvdG9PckRlc2NyaXB0b3Iub3JpZ2luYWxLZXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHByb3RvT3JEZXNjcmlwdG9yLmtleTtcbiAgICAgICAgY29uc3QgaW5mbyA9IGRlc2NyaXB0b3IgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBraW5kOiAnbWV0aG9kJyxcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdwcm90b3R5cGUnLFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yKHByb3RvT3JEZXNjcmlwdG9yLmtleSksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHsgLi4ucHJvdG9PckRlc2NyaXB0b3IsIGtleSB9O1xuICAgICAgICBpZiAoZmluaXNoZXIgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpbmZvLmZpbmlzaGVyID0gZnVuY3Rpb24gKGN0b3IpIHtcbiAgICAgICAgICAgICAgICBmaW5pc2hlcihjdG9yLCBrZXkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5mbztcbiAgICB9XG59O1xuXG5leHBvcnQgeyBkZWNvcmF0ZVByb3BlcnR5LCBsZWdhY3lQcm90b3R5cGVNZXRob2QsIHN0YW5kYXJkUHJvdG90eXBlTWV0aG9kIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/custom-element.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/custom-element.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customElement: () => (/* binding */ customElement)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst legacyCustomElement = (tagName, clazz) => {\n    customElements.define(tagName, clazz);\n    // Cast as any because TS doesn't recognize the return type as being a\n    // subtype of the decorated class when clazz is typed as\n    // `Constructor<HTMLElement>` for some reason.\n    // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n    // applied to elements however.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return clazz;\n};\nconst standardCustomElement = (tagName, descriptor) => {\n    const { kind, elements } = descriptor;\n    return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz) {\n            customElements.define(tagName, clazz);\n        },\n    };\n};\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * ```js\n * @customElement('my-element')\n * class MyElement extends LitElement {\n *   render() {\n *     return html``;\n *   }\n * }\n * ```\n * @category Decorator\n * @param tagName The tag name of the custom element to define.\n */\nconst customElement = (tagName) => (classOrDescriptor) => typeof classOrDescriptor === 'function'\n    ? legacyCustomElement(tagName, classOrDescriptor)\n    : standardCustomElement(tagName, classOrDescriptor);\n\n\n//# sourceMappingURL=custom-element.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvY3VzdG9tLWVsZW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV5QjtBQUN6QiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvY3VzdG9tLWVsZW1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCBsZWdhY3lDdXN0b21FbGVtZW50ID0gKHRhZ05hbWUsIGNsYXp6KSA9PiB7XG4gICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAvLyBDYXN0IGFzIGFueSBiZWNhdXNlIFRTIGRvZXNuJ3QgcmVjb2duaXplIHRoZSByZXR1cm4gdHlwZSBhcyBiZWluZyBhXG4gICAgLy8gc3VidHlwZSBvZiB0aGUgZGVjb3JhdGVkIGNsYXNzIHdoZW4gY2xhenogaXMgdHlwZWQgYXNcbiAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBmb3Igc29tZSByZWFzb24uXG4gICAgLy8gYENvbnN0cnVjdG9yPEhUTUxFbGVtZW50PmAgaXMgaGVscGZ1bCB0byBtYWtlIHN1cmUgdGhlIGRlY29yYXRvciBpc1xuICAgIC8vIGFwcGxpZWQgdG8gZWxlbWVudHMgaG93ZXZlci5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiBjbGF6ejtcbn07XG5jb25zdCBzdGFuZGFyZEN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSwgZGVzY3JpcHRvcikgPT4ge1xuICAgIGNvbnN0IHsga2luZCwgZWxlbWVudHMgfSA9IGRlc2NyaXB0b3I7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZCxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIG9uY2UgdGhlIGNsYXNzIGlzIG90aGVyd2lzZSBmdWxseSBkZWZpbmVkXG4gICAgICAgIGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuLyoqXG4gKiBDbGFzcyBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGRlZmluZXMgdGhlIGRlY29yYXRlZCBjbGFzcyBhcyBhIGN1c3RvbSBlbGVtZW50LlxuICpcbiAqIGBgYGpzXG4gKiBAY3VzdG9tRWxlbWVudCgnbXktZWxlbWVudCcpXG4gKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYGA7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICogQHBhcmFtIHRhZ05hbWUgVGhlIHRhZyBuYW1lIG9mIHRoZSBjdXN0b20gZWxlbWVudCB0byBkZWZpbmUuXG4gKi9cbmNvbnN0IGN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSkgPT4gKGNsYXNzT3JEZXNjcmlwdG9yKSA9PiB0eXBlb2YgY2xhc3NPckRlc2NyaXB0b3IgPT09ICdmdW5jdGlvbidcbiAgICA/IGxlZ2FjeUN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpXG4gICAgOiBzdGFuZGFyZEN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpO1xuXG5leHBvcnQgeyBjdXN0b21FbGVtZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jdXN0b20tZWxlbWVudC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/custom-element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/event-options.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/event-options.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   eventOptions: () => (/* binding */ eventOptions)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifies event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * ```ts\n * class MyElement {\n *   clicked = false;\n *\n *   render() {\n *     return html`\n *       <div @click=${this._onClick}>\n *         <button></button>\n *       </div>\n *     `;\n *   }\n *\n *   @eventOptions({capture: true})\n *   _onClick(e) {\n *     this.clicked = true;\n *   }\n * }\n * ```\n * @category Decorator\n */\nfunction eventOptions(options) {\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        finisher: (ctor, name) => {\n            Object.assign(\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            ctor.prototype[name], options);\n        },\n    });\n}\n\n\n//# sourceMappingURL=event-options.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvZXZlbnQtb3B0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE2Qzs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGNBQWM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBEQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRXdCO0FBQ3hCIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L25vZGUvZGV2ZWxvcG1lbnQvZGVjb3JhdG9ycy9ldmVudC1vcHRpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlY29yYXRlUHJvcGVydHkgfSBmcm9tICcuL2Jhc2UuanMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbi8qKlxuICogQWRkcyBldmVudCBsaXN0ZW5lciBvcHRpb25zIHRvIGEgbWV0aG9kIHVzZWQgYXMgYW4gZXZlbnQgbGlzdGVuZXIgaW4gYVxuICogbGl0LWh0bWwgdGVtcGxhdGUuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgQW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgYXMgYWNjZXB0ZWQgYnlcbiAqIGBFdmVudFRhcmdldCNhZGRFdmVudExpc3RlbmVyYCBhbmQgYEV2ZW50VGFyZ2V0I3JlbW92ZUV2ZW50TGlzdGVuZXJgLlxuICpcbiAqIEN1cnJlbnQgYnJvd3NlcnMgc3VwcG9ydCB0aGUgYGNhcHR1cmVgLCBgcGFzc2l2ZWAsIGFuZCBgb25jZWAgb3B0aW9ucy4gU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0L2FkZEV2ZW50TGlzdGVuZXIjUGFyYW1ldGVyc1xuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeUVsZW1lbnQge1xuICogICBjbGlja2VkID0gZmFsc2U7XG4gKlxuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICA8ZGl2IEBjbGljaz0ke3RoaXMuX29uQ2xpY2t9PlxuICogICAgICAgICA8YnV0dG9uPjwvYnV0dG9uPlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgYDtcbiAqICAgfVxuICpcbiAqICAgQGV2ZW50T3B0aW9ucyh7Y2FwdHVyZTogdHJ1ZX0pXG4gKiAgIF9vbkNsaWNrKGUpIHtcbiAqICAgICB0aGlzLmNsaWNrZWQgPSB0cnVlO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqIEBjYXRlZ29yeSBEZWNvcmF0b3JcbiAqL1xuZnVuY3Rpb24gZXZlbnRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZGVjb3JhdGVQcm9wZXJ0eSh7XG4gICAgICAgIGZpbmlzaGVyOiAoY3RvciwgbmFtZSkgPT4ge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBjdG9yLnByb3RvdHlwZVtuYW1lXSwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IGV2ZW50T3B0aW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnQtb3B0aW9ucy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/event-options.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/property.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/property.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   property: () => (/* binding */ property)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst standardProperty = (options, element) => {\n    // When decorating an accessor, pass it through and add property metadata.\n    // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n    // stomp over the user's accessor.\n    if (element.kind === 'method' &&\n        element.descriptor &&\n        !('value' in element.descriptor)) {\n        return {\n            ...element,\n            finisher(clazz) {\n                clazz.createProperty(element.key, options);\n            },\n        };\n    }\n    else {\n        // createProperty() takes care of defining the property, but we still\n        // must return some kind of descriptor, so return a descriptor for an\n        // unused prototype field. The finisher calls createProperty().\n        return {\n            kind: 'field',\n            key: Symbol(),\n            placement: 'own',\n            descriptor: {},\n            // store the original key so subsequent decorators have access to it.\n            originalKey: element.key,\n            // When @babel/plugin-proposal-decorators implements initializers,\n            // do this instead of the initializer below. See:\n            // https://github.com/babel/babel/issues/9260 extras: [\n            //   {\n            //     kind: 'initializer',\n            //     placement: 'own',\n            //     initializer: descriptor.initializer,\n            //   }\n            // ],\n            initializer() {\n                if (typeof element.initializer === 'function') {\n                    this[element.key] = element.initializer.call(this);\n                }\n            },\n            finisher(clazz) {\n                clazz.createProperty(element.key, options);\n            },\n        };\n    }\n};\nconst legacyProperty = (options, proto, name) => {\n    proto.constructor.createProperty(name, options);\n};\n/**\n * A property decorator which creates a reactive property that reflects a\n * corresponding attribute value. When a decorated property is set\n * the element will update and render. A {@linkcode PropertyDeclaration} may\n * optionally be supplied to configure property features.\n *\n * This decorator should only be used for public fields. As public fields,\n * properties should be considered as primarily settable by element users,\n * either via attribute or the property itself.\n *\n * Generally, properties that are changed by the element should be private or\n * protected fields and should use the {@linkcode state} decorator.\n *\n * However, sometimes element code does need to set a public property. This\n * should typically only be done in response to user interaction, and an event\n * should be fired informing the user; for example, a checkbox sets its\n * `checked` property when clicked and fires a `changed` event. Mutating public\n * properties should typically not be done for non-primitive (object or array)\n * properties. In other cases when an element needs to manage state, a private\n * property decorated via the {@linkcode state} decorator should be used. When\n * needed, state properties can be initialized via public properties to\n * facilitate complex interactions.\n *\n * ```ts\n * class MyElement {\n *   @property({ type: Boolean })\n *   clicked = false;\n * }\n * ```\n * @category Decorator\n * @ExportDecoratedItems\n */\nfunction property(options) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (protoOrDescriptor, name) => name !== undefined\n        ? legacyProperty(options, protoOrDescriptor, name)\n        : standardProperty(options, protoOrDescriptor);\n}\n\n\n//# sourceMappingURL=property.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcHJvcGVydHkuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywrQkFBK0I7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsaUJBQWlCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUJBQWlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9CO0FBQ3BCIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L25vZGUvZGV2ZWxvcG1lbnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmNvbnN0IHN0YW5kYXJkUHJvcGVydHkgPSAob3B0aW9ucywgZWxlbWVudCkgPT4ge1xuICAgIC8vIFdoZW4gZGVjb3JhdGluZyBhbiBhY2Nlc3NvciwgcGFzcyBpdCB0aHJvdWdoIGFuZCBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAgLy8gTm90ZSwgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgY2hlY2sgaW4gYGNyZWF0ZVByb3BlcnR5YCBlbnN1cmVzIHdlIGRvbid0XG4gICAgLy8gc3RvbXAgb3ZlciB0aGUgdXNlcidzIGFjY2Vzc29yLlxuICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdtZXRob2QnICYmXG4gICAgICAgIGVsZW1lbnQuZGVzY3JpcHRvciAmJlxuICAgICAgICAhKCd2YWx1ZScgaW4gZWxlbWVudC5kZXNjcmlwdG9yKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZWxlbWVudCxcbiAgICAgICAgICAgIGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICAgICAgY2xhenouY3JlYXRlUHJvcGVydHkoZWxlbWVudC5rZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0ZVByb3BlcnR5KCkgdGFrZXMgY2FyZSBvZiBkZWZpbmluZyB0aGUgcHJvcGVydHksIGJ1dCB3ZSBzdGlsbFxuICAgICAgICAvLyBtdXN0IHJldHVybiBzb21lIGtpbmQgb2YgZGVzY3JpcHRvciwgc28gcmV0dXJuIGEgZGVzY3JpcHRvciBmb3IgYW5cbiAgICAgICAgLy8gdW51c2VkIHByb3RvdHlwZSBmaWVsZC4gVGhlIGZpbmlzaGVyIGNhbGxzIGNyZWF0ZVByb3BlcnR5KCkuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiAnZmllbGQnLFxuICAgICAgICAgICAga2V5OiBTeW1ib2woKSxcbiAgICAgICAgICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgICBkZXNjcmlwdG9yOiB7fSxcbiAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBvcmlnaW5hbCBrZXkgc28gc3Vic2VxdWVudCBkZWNvcmF0b3JzIGhhdmUgYWNjZXNzIHRvIGl0LlxuICAgICAgICAgICAgb3JpZ2luYWxLZXk6IGVsZW1lbnQua2V5LFxuICAgICAgICAgICAgLy8gV2hlbiBAYmFiZWwvcGx1Z2luLXByb3Bvc2FsLWRlY29yYXRvcnMgaW1wbGVtZW50cyBpbml0aWFsaXplcnMsXG4gICAgICAgICAgICAvLyBkbyB0aGlzIGluc3RlYWQgb2YgdGhlIGluaXRpYWxpemVyIGJlbG93LiBTZWU6XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvaXNzdWVzLzkyNjAgZXh0cmFzOiBbXG4gICAgICAgICAgICAvLyAgIHtcbiAgICAgICAgICAgIC8vICAgICBraW5kOiAnaW5pdGlhbGl6ZXInLFxuICAgICAgICAgICAgLy8gICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgICAvLyAgICAgaW5pdGlhbGl6ZXI6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIsXG4gICAgICAgICAgICAvLyAgIH1cbiAgICAgICAgICAgIC8vIF0sXG4gICAgICAgICAgICBpbml0aWFsaXplcigpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tlbGVtZW50LmtleV0gPSBlbGVtZW50LmluaXRpYWxpemVyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICAgICAgY2xhenouY3JlYXRlUHJvcGVydHkoZWxlbWVudC5rZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuY29uc3QgbGVnYWN5UHJvcGVydHkgPSAob3B0aW9ucywgcHJvdG8sIG5hbWUpID0+IHtcbiAgICBwcm90by5jb25zdHJ1Y3Rvci5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbn07XG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHdoaWNoIGNyZWF0ZXMgYSByZWFjdGl2ZSBwcm9wZXJ0eSB0aGF0IHJlZmxlY3RzIGFcbiAqIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlIHZhbHVlLiBXaGVuIGEgZGVjb3JhdGVkIHByb3BlcnR5IGlzIHNldFxuICogdGhlIGVsZW1lbnQgd2lsbCB1cGRhdGUgYW5kIHJlbmRlci4gQSB7QGxpbmtjb2RlIFByb3BlcnR5RGVjbGFyYXRpb259IG1heVxuICogb3B0aW9uYWxseSBiZSBzdXBwbGllZCB0byBjb25maWd1cmUgcHJvcGVydHkgZmVhdHVyZXMuXG4gKlxuICogVGhpcyBkZWNvcmF0b3Igc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgcHVibGljIGZpZWxkcy4gQXMgcHVibGljIGZpZWxkcyxcbiAqIHByb3BlcnRpZXMgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXMgcHJpbWFyaWx5IHNldHRhYmxlIGJ5IGVsZW1lbnQgdXNlcnMsXG4gKiBlaXRoZXIgdmlhIGF0dHJpYnV0ZSBvciB0aGUgcHJvcGVydHkgaXRzZWxmLlxuICpcbiAqIEdlbmVyYWxseSwgcHJvcGVydGllcyB0aGF0IGFyZSBjaGFuZ2VkIGJ5IHRoZSBlbGVtZW50IHNob3VsZCBiZSBwcml2YXRlIG9yXG4gKiBwcm90ZWN0ZWQgZmllbGRzIGFuZCBzaG91bGQgdXNlIHRoZSB7QGxpbmtjb2RlIHN0YXRlfSBkZWNvcmF0b3IuXG4gKlxuICogSG93ZXZlciwgc29tZXRpbWVzIGVsZW1lbnQgY29kZSBkb2VzIG5lZWQgdG8gc2V0IGEgcHVibGljIHByb3BlcnR5LiBUaGlzXG4gKiBzaG91bGQgdHlwaWNhbGx5IG9ubHkgYmUgZG9uZSBpbiByZXNwb25zZSB0byB1c2VyIGludGVyYWN0aW9uLCBhbmQgYW4gZXZlbnRcbiAqIHNob3VsZCBiZSBmaXJlZCBpbmZvcm1pbmcgdGhlIHVzZXI7IGZvciBleGFtcGxlLCBhIGNoZWNrYm94IHNldHMgaXRzXG4gKiBgY2hlY2tlZGAgcHJvcGVydHkgd2hlbiBjbGlja2VkIGFuZCBmaXJlcyBhIGBjaGFuZ2VkYCBldmVudC4gTXV0YXRpbmcgcHVibGljXG4gKiBwcm9wZXJ0aWVzIHNob3VsZCB0eXBpY2FsbHkgbm90IGJlIGRvbmUgZm9yIG5vbi1wcmltaXRpdmUgKG9iamVjdCBvciBhcnJheSlcbiAqIHByb3BlcnRpZXMuIEluIG90aGVyIGNhc2VzIHdoZW4gYW4gZWxlbWVudCBuZWVkcyB0byBtYW5hZ2Ugc3RhdGUsIGEgcHJpdmF0ZVxuICogcHJvcGVydHkgZGVjb3JhdGVkIHZpYSB0aGUge0BsaW5rY29kZSBzdGF0ZX0gZGVjb3JhdG9yIHNob3VsZCBiZSB1c2VkLiBXaGVuXG4gKiBuZWVkZWQsIHN0YXRlIHByb3BlcnRpZXMgY2FuIGJlIGluaXRpYWxpemVkIHZpYSBwdWJsaWMgcHJvcGVydGllcyB0b1xuICogZmFjaWxpdGF0ZSBjb21wbGV4IGludGVyYWN0aW9ucy5cbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgTXlFbGVtZW50IHtcbiAqICAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuICogICBjbGlja2VkID0gZmFsc2U7XG4gKiB9XG4gKiBgYGBcbiAqIEBjYXRlZ29yeSBEZWNvcmF0b3JcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5mdW5jdGlvbiBwcm9wZXJ0eShvcHRpb25zKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA9PiBuYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZWdhY3lQcm9wZXJ0eShvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSlcbiAgICAgICAgOiBzdGFuZGFyZFByb3BlcnR5KG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yKTtcbn1cblxuZXhwb3J0IHsgcHJvcGVydHkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3BlcnR5LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/property.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-all.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-all.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryAll: () => (/* binding */ queryAll)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\n *\n * ```ts\n * class MyElement {\n *   @queryAll('div')\n *   divs: NodeListOf<HTMLDivElement>;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nfunction queryAll(selector) {\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        descriptor: (_name) => ({\n            get() {\n                var _a, _b;\n                return (_b = (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelectorAll(selector)) !== null && _b !== void 0 ? _b : [];\n            },\n            enumerable: true,\n            configurable: true,\n        }),\n    });\n}\n\n\n//# sourceMappingURL=query-all.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYWxsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTZDOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBEQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFb0I7QUFDcEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvbm9kZS9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFsbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWNvcmF0ZVByb3BlcnR5IH0gZnJvbSAnLi9iYXNlLmpzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyXG4gKiB0aGF0IGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvckFsbCBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQHBhcmFtIHNlbGVjdG9yIEEgRE9NU3RyaW5nIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgc2VsZWN0b3JzIHRvIG1hdGNoLlxuICpcbiAqIFNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Eb2N1bWVudC9xdWVyeVNlbGVjdG9yQWxsXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIEBxdWVyeUFsbCgnZGl2JylcbiAqICAgZGl2czogTm9kZUxpc3RPZjxIVE1MRGl2RWxlbWVudD47XG4gKlxuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICA8ZGl2IGlkPVwiZmlyc3RcIj48L2Rpdj5cbiAqICAgICAgIDxkaXYgaWQ9XCJzZWNvbmRcIj48L2Rpdj5cbiAqICAgICBgO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqIEBjYXRlZ29yeSBEZWNvcmF0b3JcbiAqL1xuZnVuY3Rpb24gcXVlcnlBbGwoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gZGVjb3JhdGVQcm9wZXJ0eSh7XG4gICAgICAgIGRlc2NyaXB0b3I6IChfbmFtZSkgPT4gKHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnJlbmRlclJvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW107XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSksXG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IHF1ZXJ5QWxsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeS1hbGwuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-all.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-elements.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-elements.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryAssignedElements: () => (/* binding */ queryAssignedElements)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n\n\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar _a;\nconst global = globalThis ;\n/**\n * A tiny module scoped polyfill for HTMLSlotElement.assignedElements.\n */\nconst slotAssignedElements = ((_a = global.HTMLSlotElement) === null || _a === void 0 ? void 0 : _a.prototype.assignedElements) != null\n    ? (slot, opts) => slot.assignedElements(opts)\n    : (slot, opts) => slot\n        .assignedNodes(opts)\n        .filter((node) => node.nodeType === Node.ELEMENT_NODE);\n/**\n * A property decorator that converts a class property into a getter that\n * returns the `assignedElements` of the given `slot`. Provides a declarative\n * way to use\n * [`HTMLSlotElement.assignedElements`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSlotElement/assignedElements).\n *\n * Can be passed an optional {@linkcode QueryAssignedElementsOptions} object.\n *\n * Example usage:\n * ```ts\n * class MyElement {\n *   @queryAssignedElements({ slot: 'list' })\n *   listItems!: Array<HTMLElement>;\n *   @queryAssignedElements()\n *   unnamedSlotEls!: Array<HTMLElement>;\n *\n *   render() {\n *     return html`\n *       <slot name=\"list\"></slot>\n *       <slot></slot>\n *     `;\n *   }\n * }\n * ```\n *\n * Note, the type of this property should be annotated as `Array<HTMLElement>`.\n *\n * @category Decorator\n */\nfunction queryAssignedElements(options) {\n    const { slot, selector } = options !== null && options !== void 0 ? options : {};\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        descriptor: (_name) => ({\n            get() {\n                var _a;\n                const slotSelector = `slot${slot ? `[name=${slot}]` : ':not([name])'}`;\n                const slotEl = (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelector(slotSelector);\n                const elements = slotEl != null ? slotAssignedElements(slotEl, options) : [];\n                if (selector) {\n                    return elements.filter((node) => node.matches(selector));\n                }\n                return elements;\n            },\n            enumerable: true,\n            configurable: true,\n        }),\n    });\n}\n\n\n//# sourceMappingURL=query-assigned-elements.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtZWxlbWVudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix3Q0FBd0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsY0FBYztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QixXQUFXLDBEQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsZ0JBQWdCLEtBQUssb0JBQW9CO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFaUM7QUFDakMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvbm9kZS9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFzc2lnbmVkLWVsZW1lbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlY29yYXRlUHJvcGVydHkgfSBmcm9tICcuL2Jhc2UuanMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbnZhciBfYTtcbmNvbnN0IGdsb2JhbCA9IGdsb2JhbFRoaXMgO1xuLyoqXG4gKiBBIHRpbnkgbW9kdWxlIHNjb3BlZCBwb2x5ZmlsbCBmb3IgSFRNTFNsb3RFbGVtZW50LmFzc2lnbmVkRWxlbWVudHMuXG4gKi9cbmNvbnN0IHNsb3RBc3NpZ25lZEVsZW1lbnRzID0gKChfYSA9IGdsb2JhbC5IVE1MU2xvdEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcm90b3R5cGUuYXNzaWduZWRFbGVtZW50cykgIT0gbnVsbFxuICAgID8gKHNsb3QsIG9wdHMpID0+IHNsb3QuYXNzaWduZWRFbGVtZW50cyhvcHRzKVxuICAgIDogKHNsb3QsIG9wdHMpID0+IHNsb3RcbiAgICAgICAgLmFzc2lnbmVkTm9kZXMob3B0cylcbiAgICAgICAgLmZpbHRlcigobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpO1xuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiByZXR1cm5zIHRoZSBgYXNzaWduZWRFbGVtZW50c2Agb2YgdGhlIGdpdmVuIGBzbG90YC4gUHJvdmlkZXMgYSBkZWNsYXJhdGl2ZVxuICogd2F5IHRvIHVzZVxuICogW2BIVE1MU2xvdEVsZW1lbnQuYXNzaWduZWRFbGVtZW50c2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MU2xvdEVsZW1lbnQvYXNzaWduZWRFbGVtZW50cykuXG4gKlxuICogQ2FuIGJlIHBhc3NlZCBhbiBvcHRpb25hbCB7QGxpbmtjb2RlIFF1ZXJ5QXNzaWduZWRFbGVtZW50c09wdGlvbnN9IG9iamVjdC5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIEBxdWVyeUFzc2lnbmVkRWxlbWVudHMoeyBzbG90OiAnbGlzdCcgfSlcbiAqICAgbGlzdEl0ZW1zITogQXJyYXk8SFRNTEVsZW1lbnQ+O1xuICogICBAcXVlcnlBc3NpZ25lZEVsZW1lbnRzKClcbiAqICAgdW5uYW1lZFNsb3RFbHMhOiBBcnJheTxIVE1MRWxlbWVudD47XG4gKlxuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICA8c2xvdCBuYW1lPVwibGlzdFwiPjwvc2xvdD5cbiAqICAgICAgIDxzbG90Pjwvc2xvdD5cbiAqICAgICBgO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBOb3RlLCB0aGUgdHlwZSBvZiB0aGlzIHByb3BlcnR5IHNob3VsZCBiZSBhbm5vdGF0ZWQgYXMgYEFycmF5PEhUTUxFbGVtZW50PmAuXG4gKlxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5mdW5jdGlvbiBxdWVyeUFzc2lnbmVkRWxlbWVudHMob3B0aW9ucykge1xuICAgIGNvbnN0IHsgc2xvdCwgc2VsZWN0b3IgfSA9IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9O1xuICAgIHJldHVybiBkZWNvcmF0ZVByb3BlcnR5KHtcbiAgICAgICAgZGVzY3JpcHRvcjogKF9uYW1lKSA9PiAoe1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG90U2VsZWN0b3IgPSBgc2xvdCR7c2xvdCA/IGBbbmFtZT0ke3Nsb3R9XWAgOiAnOm5vdChbbmFtZV0pJ31gO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3RFbCA9IChfYSA9IHRoaXMucmVuZGVyUm9vdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3Ioc2xvdFNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IHNsb3RFbCAhPSBudWxsID8gc2xvdEFzc2lnbmVkRWxlbWVudHMoc2xvdEVsLCBvcHRpb25zKSA6IFtdO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudHMuZmlsdGVyKChub2RlKSA9PiBub2RlLm1hdGNoZXMoc2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pLFxuICAgIH0pO1xufVxuXG5leHBvcnQgeyBxdWVyeUFzc2lnbmVkRWxlbWVudHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5LWFzc2lnbmVkLWVsZW1lbnRzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-elements.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-nodes.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-nodes.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryAssignedNodes: () => (/* binding */ queryAssignedNodes)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n/* harmony import */ var _query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./query-assigned-elements.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-elements.js\");\n\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction queryAssignedNodes(slotOrOptions, flatten, selector) {\n    // Normalize the overloaded arguments.\n    let slot = slotOrOptions;\n    let assignedNodesOptions;\n    if (typeof slotOrOptions === 'object') {\n        slot = slotOrOptions.slot;\n        assignedNodesOptions = slotOrOptions;\n    }\n    else {\n        assignedNodesOptions = { flatten };\n    }\n    // For backwards compatibility, queryAssignedNodes with a selector behaves\n    // exactly like queryAssignedElements with a selector.\n    if (selector) {\n        return (0,_query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_1__.queryAssignedElements)({\n            slot: slot,\n            flatten,\n            selector,\n        });\n    }\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        descriptor: (_name) => ({\n            get() {\n                var _a, _b;\n                const slotSelector = `slot${slot ? `[name=${slot}]` : ':not([name])'}`;\n                const slotEl = (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelector(slotSelector);\n                return (_b = slotEl === null || slotEl === void 0 ? void 0 : slotEl.assignedNodes(assignedNodesOptions)) !== null && _b !== void 0 ? _b : [];\n            },\n            enumerable: true,\n            configurable: true,\n        }),\n    });\n}\n\n\n//# sourceMappingURL=query-assigned-nodes.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtbm9kZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQ3dCOztBQUVyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrRkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsV0FBVywwREFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGdCQUFnQixLQUFLLG9CQUFvQjtBQUNyRjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMOztBQUU4QjtBQUM5QiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtbm9kZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVjb3JhdGVQcm9wZXJ0eSB9IGZyb20gJy4vYmFzZS5qcyc7XG5pbXBvcnQgeyBxdWVyeUFzc2lnbmVkRWxlbWVudHMgfSBmcm9tICcuL3F1ZXJ5LWFzc2lnbmVkLWVsZW1lbnRzLmpzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5mdW5jdGlvbiBxdWVyeUFzc2lnbmVkTm9kZXMoc2xvdE9yT3B0aW9ucywgZmxhdHRlbiwgc2VsZWN0b3IpIHtcbiAgICAvLyBOb3JtYWxpemUgdGhlIG92ZXJsb2FkZWQgYXJndW1lbnRzLlxuICAgIGxldCBzbG90ID0gc2xvdE9yT3B0aW9ucztcbiAgICBsZXQgYXNzaWduZWROb2Rlc09wdGlvbnM7XG4gICAgaWYgKHR5cGVvZiBzbG90T3JPcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgICBzbG90ID0gc2xvdE9yT3B0aW9ucy5zbG90O1xuICAgICAgICBhc3NpZ25lZE5vZGVzT3B0aW9ucyA9IHNsb3RPck9wdGlvbnM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3NpZ25lZE5vZGVzT3B0aW9ucyA9IHsgZmxhdHRlbiB9O1xuICAgIH1cbiAgICAvLyBGb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIHF1ZXJ5QXNzaWduZWROb2RlcyB3aXRoIGEgc2VsZWN0b3IgYmVoYXZlc1xuICAgIC8vIGV4YWN0bHkgbGlrZSBxdWVyeUFzc2lnbmVkRWxlbWVudHMgd2l0aCBhIHNlbGVjdG9yLlxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gcXVlcnlBc3NpZ25lZEVsZW1lbnRzKHtcbiAgICAgICAgICAgIHNsb3Q6IHNsb3QsXG4gICAgICAgICAgICBmbGF0dGVuLFxuICAgICAgICAgICAgc2VsZWN0b3IsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb3JhdGVQcm9wZXJ0eSh7XG4gICAgICAgIGRlc2NyaXB0b3I6IChfbmFtZSkgPT4gKHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3RTZWxlY3RvciA9IGBzbG90JHtzbG90ID8gYFtuYW1lPSR7c2xvdH1dYCA6ICc6bm90KFtuYW1lXSknfWA7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvdEVsID0gKF9hID0gdGhpcy5yZW5kZXJSb290KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucXVlcnlTZWxlY3RvcihzbG90U2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoX2IgPSBzbG90RWwgPT09IG51bGwgfHwgc2xvdEVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzbG90RWwuYXNzaWduZWROb2Rlcyhhc3NpZ25lZE5vZGVzT3B0aW9ucykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pLFxuICAgIH0pO1xufVxuXG5leHBvcnQgeyBxdWVyeUFzc2lnbmVkTm9kZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5LWFzc2lnbmVkLW5vZGVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-nodes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-async.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-async.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queryAsync: () => (/* binding */ queryAsync)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n// Note, in the future, we may extend this decorator to support the use case\n// where the queried element may need to do work to become ready to interact\n// with (e.g. load some implementation code). If so, we might elect to\n// add a second argument defining a function that can be run to make the\n// queried element loaded/updated/ready.\n/**\n * A property decorator that converts a class property into a getter that\n * returns a promise that resolves to the result of a querySelector on the\n * element's renderRoot done after the element's `updateComplete` promise\n * resolves. When the queried property may change with element state, this\n * decorator can be used instead of requiring users to await the\n * `updateComplete` before accessing the property.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * ```ts\n * class MyElement {\n *   @queryAsync('#first')\n *   first: Promise<HTMLDivElement>;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n *\n * // external usage\n * async doSomethingWithFirst() {\n *  (await aMyElement.first).doSomething();\n * }\n * ```\n * @category Decorator\n */\nfunction queryAsync(selector) {\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        descriptor: (_name) => ({\n            async get() {\n                var _a;\n                await this.updateComplete;\n                return (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelector(selector);\n            },\n            enumerable: true,\n            configurable: true,\n        }),\n    });\n}\n\n\n//# sourceMappingURL=query-async.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnktYXN5bmMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFc0I7QUFDdEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvbm9kZS9kZXZlbG9wbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFzeW5jLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlY29yYXRlUHJvcGVydHkgfSBmcm9tICcuL2Jhc2UuanMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbi8vIE5vdGUsIGluIHRoZSBmdXR1cmUsIHdlIG1heSBleHRlbmQgdGhpcyBkZWNvcmF0b3IgdG8gc3VwcG9ydCB0aGUgdXNlIGNhc2Vcbi8vIHdoZXJlIHRoZSBxdWVyaWVkIGVsZW1lbnQgbWF5IG5lZWQgdG8gZG8gd29yayB0byBiZWNvbWUgcmVhZHkgdG8gaW50ZXJhY3Rcbi8vIHdpdGggKGUuZy4gbG9hZCBzb21lIGltcGxlbWVudGF0aW9uIGNvZGUpLiBJZiBzbywgd2UgbWlnaHQgZWxlY3QgdG9cbi8vIGFkZCBhIHNlY29uZCBhcmd1bWVudCBkZWZpbmluZyBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHJ1biB0byBtYWtlIHRoZVxuLy8gcXVlcmllZCBlbGVtZW50IGxvYWRlZC91cGRhdGVkL3JlYWR5LlxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSByZXN1bHQgb2YgYSBxdWVyeVNlbGVjdG9yIG9uIHRoZVxuICogZWxlbWVudCdzIHJlbmRlclJvb3QgZG9uZSBhZnRlciB0aGUgZWxlbWVudCdzIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZVxuICogcmVzb2x2ZXMuIFdoZW4gdGhlIHF1ZXJpZWQgcHJvcGVydHkgbWF5IGNoYW5nZSB3aXRoIGVsZW1lbnQgc3RhdGUsIHRoaXNcbiAqIGRlY29yYXRvciBjYW4gYmUgdXNlZCBpbnN0ZWFkIG9mIHJlcXVpcmluZyB1c2VycyB0byBhd2FpdCB0aGVcbiAqIGB1cGRhdGVDb21wbGV0ZWAgYmVmb3JlIGFjY2Vzc2luZyB0aGUgcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHNlbGVjdG9yIEEgRE9NU3RyaW5nIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgc2VsZWN0b3JzIHRvIG1hdGNoLlxuICpcbiAqIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50L3F1ZXJ5U2VsZWN0b3JcbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgTXlFbGVtZW50IHtcbiAqICAgQHF1ZXJ5QXN5bmMoJyNmaXJzdCcpXG4gKiAgIGZpcnN0OiBQcm9taXNlPEhUTUxEaXZFbGVtZW50PjtcbiAqXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgIDxkaXYgaWQ9XCJmaXJzdFwiPjwvZGl2PlxuICogICAgICAgPGRpdiBpZD1cInNlY29uZFwiPjwvZGl2PlxuICogICAgIGA7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBleHRlcm5hbCB1c2FnZVxuICogYXN5bmMgZG9Tb21ldGhpbmdXaXRoRmlyc3QoKSB7XG4gKiAgKGF3YWl0IGFNeUVsZW1lbnQuZmlyc3QpLmRvU29tZXRoaW5nKCk7XG4gKiB9XG4gKiBgYGBcbiAqIEBjYXRlZ29yeSBEZWNvcmF0b3JcbiAqL1xuZnVuY3Rpb24gcXVlcnlBc3luYyhzZWxlY3Rvcikge1xuICAgIHJldHVybiBkZWNvcmF0ZVByb3BlcnR5KHtcbiAgICAgICAgZGVzY3JpcHRvcjogKF9uYW1lKSA9PiAoe1xuICAgICAgICAgICAgYXN5bmMgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgICAgICAgICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnJlbmRlclJvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9KSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgcXVlcnlBc3luYyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnktYXN5bmMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-async.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   query: () => (/* binding */ query)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/base.js\");\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n * @param cache An optional boolean which when true performs the DOM query only\n *     once and caches the result.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * ```ts\n * class MyElement {\n *   @query('#first')\n *   first: HTMLDivElement;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nfunction query(selector, cache) {\n    return (0,_base_js__WEBPACK_IMPORTED_MODULE_0__.decorateProperty)({\n        descriptor: (name) => {\n            const descriptor = {\n                get() {\n                    var _a, _b;\n                    return (_b = (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelector(selector)) !== null && _b !== void 0 ? _b : null;\n                },\n                enumerable: true,\n                configurable: true,\n            };\n            if (cache) {\n                const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n                descriptor.get = function () {\n                    var _a, _b;\n                    if (this[key] === undefined) {\n                        this[key] = (_b = (_a = this.renderRoot) === null || _a === void 0 ? void 0 : _a.querySelector(selector)) !== null && _b !== void 0 ? _b : null;\n                    }\n                    return this[key];\n                };\n            }\n            return descriptor;\n        },\n    });\n}\n\n\n//# sourceMappingURL=query.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvcXVlcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxLQUFLO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRWlCO0FBQ2pCIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L25vZGUvZGV2ZWxvcG1lbnQvZGVjb3JhdG9ycy9xdWVyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWNvcmF0ZVByb3BlcnR5IH0gZnJvbSAnLi9iYXNlLmpzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyIHRoYXRcbiAqIGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvciBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQHBhcmFtIHNlbGVjdG9yIEEgRE9NU3RyaW5nIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgc2VsZWN0b3JzIHRvIG1hdGNoLlxuICogQHBhcmFtIGNhY2hlIEFuIG9wdGlvbmFsIGJvb2xlYW4gd2hpY2ggd2hlbiB0cnVlIHBlcmZvcm1zIHRoZSBET00gcXVlcnkgb25seVxuICogICAgIG9uY2UgYW5kIGNhY2hlcyB0aGUgcmVzdWx0LlxuICpcbiAqIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50L3F1ZXJ5U2VsZWN0b3JcbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgTXlFbGVtZW50IHtcbiAqICAgQHF1ZXJ5KCcjZmlyc3QnKVxuICogICBmaXJzdDogSFRNTERpdkVsZW1lbnQ7XG4gKlxuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICA8ZGl2IGlkPVwiZmlyc3RcIj48L2Rpdj5cbiAqICAgICAgIDxkaXYgaWQ9XCJzZWNvbmRcIj48L2Rpdj5cbiAqICAgICBgO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqIEBjYXRlZ29yeSBEZWNvcmF0b3JcbiAqL1xuZnVuY3Rpb24gcXVlcnkoc2VsZWN0b3IsIGNhY2hlKSB7XG4gICAgcmV0dXJuIGRlY29yYXRlUHJvcGVydHkoe1xuICAgICAgICBkZXNjcmlwdG9yOiAobmFtZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnJlbmRlclJvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHR5cGVvZiBuYW1lID09PSAnc3ltYm9sJyA/IFN5bWJvbCgpIDogYF9fJHtuYW1lfWA7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXldID0gKF9iID0gKF9hID0gdGhpcy5yZW5kZXJSb290KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNba2V5XTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IHF1ZXJ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/state.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/state.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   state: () => (/* binding */ state)\n/* harmony export */ });\n/* harmony import */ var _property_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./property.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/property.js\");\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * Declares a private or protected reactive property that still triggers\n * updates to the element when it changes. It does not reflect from the\n * corresponding attribute.\n *\n * Properties declared this way must not be used from HTML or HTML templating\n * systems, they're solely for properties internal to the element. These\n * properties may be renamed by optimization tools like closure compiler.\n * @category Decorator\n */\nfunction state(options) {\n    return (0,_property_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n        ...options,\n        state: true,\n    });\n}\n\n\n//# sourceMappingURL=state.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvc3RhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxzREFBUTtBQUNuQjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVpQjtBQUNqQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L2RlY29yYXRvcnMvc3RhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICcuL3Byb3BlcnR5LmpzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG4vKipcbiAqIERlY2xhcmVzIGEgcHJpdmF0ZSBvciBwcm90ZWN0ZWQgcmVhY3RpdmUgcHJvcGVydHkgdGhhdCBzdGlsbCB0cmlnZ2Vyc1xuICogdXBkYXRlcyB0byB0aGUgZWxlbWVudCB3aGVuIGl0IGNoYW5nZXMuIEl0IGRvZXMgbm90IHJlZmxlY3QgZnJvbSB0aGVcbiAqIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlLlxuICpcbiAqIFByb3BlcnRpZXMgZGVjbGFyZWQgdGhpcyB3YXkgbXVzdCBub3QgYmUgdXNlZCBmcm9tIEhUTUwgb3IgSFRNTCB0ZW1wbGF0aW5nXG4gKiBzeXN0ZW1zLCB0aGV5J3JlIHNvbGVseSBmb3IgcHJvcGVydGllcyBpbnRlcm5hbCB0byB0aGUgZWxlbWVudC4gVGhlc2VcbiAqIHByb3BlcnRpZXMgbWF5IGJlIHJlbmFtZWQgYnkgb3B0aW1pemF0aW9uIHRvb2xzIGxpa2UgY2xvc3VyZSBjb21waWxlci5cbiAqIEBjYXRlZ29yeSBEZWNvcmF0b3JcbiAqL1xuZnVuY3Rpb24gc3RhdGUob3B0aW9ucykge1xuICAgIHJldHVybiBwcm9wZXJ0eSh7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHN0YXRlOiB0cnVlLFxuICAgIH0pO1xufVxuXG5leHBvcnQgeyBzdGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/state.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/reactive-element.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/reactive-element.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.CSSResult),\n/* harmony export */   ReactiveElement: () => (/* binding */ ReactiveElement),\n/* harmony export */   adoptStyles: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.adoptStyles),\n/* harmony export */   css: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.css),\n/* harmony export */   defaultConverter: () => (/* binding */ defaultConverter),\n/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.getCompatibleStyle),\n/* harmony export */   notEqual: () => (/* binding */ notEqual),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.supportsAdoptingStyleSheets),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ _css_tag_js__WEBPACK_IMPORTED_MODULE_1__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _lit_labs_ssr_dom_shim__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit-labs/ssr-dom-shim */ \"(ssr)/./node_modules/@lit-labs/ssr-dom-shim/index.js\");\n/* harmony import */ var _css_tag_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./css-tag.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/css-tag.js\");\n\n\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar _a, _b, _c, _d;\nvar _e;\nconst global = globalThis ;\n{\n    (_a = global.customElements) !== null && _a !== void 0 ? _a : (global.customElements = _lit_labs_ssr_dom_shim__WEBPACK_IMPORTED_MODULE_0__.customElements);\n}\nlet requestUpdateThenable;\nlet issueWarning;\nconst trustedTypes = global\n    .trustedTypes;\n// Temporary workaround for https://crbug.com/993268\n// Currently, any attribute starting with \"on\" is considered to be a\n// TrustedScript source. Such boolean attributes must be set to the equivalent\n// trusted emptyScript value.\nconst emptyStringForBooleanAttribute = trustedTypes\n    ? trustedTypes.emptyScript\n    : '';\nconst polyfillSupport = global.reactiveElementPolyfillSupportDevMode\n    ;\n{\n    // Ensure warnings are issued only 1x, even if multiple versions of Lit\n    // are loaded.\n    const issuedWarnings = ((_b = global.litIssuedWarnings) !== null && _b !== void 0 ? _b : (global.litIssuedWarnings = new Set()));\n    // Issue a warning, if we haven't already.\n    issueWarning = (code, warning) => {\n        warning += ` See https://lit.dev/msg/${code} for more information.`;\n        if (!issuedWarnings.has(warning)) {\n            console.warn(warning);\n            issuedWarnings.add(warning);\n        }\n    };\n    issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);\n    // Issue polyfill support warning.\n    if (((_c = global.ShadyDOM) === null || _c === void 0 ? void 0 : _c.inUse) && polyfillSupport === undefined) {\n        issueWarning('polyfill-support-missing', `Shadow DOM is being polyfilled via \\`ShadyDOM\\` but ` +\n            `the \\`polyfill-support\\` module has not been loaded.`);\n    }\n    requestUpdateThenable = (name) => ({\n        then: (onfulfilled, _onrejected) => {\n            issueWarning('request-update-promise', `The \\`requestUpdate\\` method should no longer return a Promise but ` +\n                `does so on \\`${name}\\`. Use \\`updateComplete\\` instead.`);\n            if (onfulfilled !== undefined) {\n                onfulfilled(false);\n            }\n        },\n    });\n}\n/**\n * Useful for visualizing and logging insights into what the Lit template system is doing.\n *\n * Compiled out of prod mode builds.\n */\nconst debugLogEvent = (event) => {\n        const shouldEmit = global\n            .emitLitDebugLogEvents;\n        if (!shouldEmit) {\n            return;\n        }\n        global.dispatchEvent(new CustomEvent('lit-debug', {\n            detail: event,\n        }));\n    }\n    ;\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\n/*@__INLINE__*/\nconst JSCompiler_renameProperty = (prop, _obj) => prop;\nconst defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                value = value ? emptyStringForBooleanAttribute : null;\n                break;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                value = value == null ? value : JSON.stringify(value);\n                break;\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        let fromValue = value;\n        switch (type) {\n            case Boolean:\n                fromValue = value !== null;\n                break;\n            case Number:\n                fromValue = value === null ? null : Number(value);\n                break;\n            case Object:\n            case Array:\n                // Do *not* generate exception when invalid JSON is set as elements\n                // don't normally complain on being mis-configured.\n                // TODO(sorvell): Do generate exception in *dev mode*.\n                try {\n                    // Assert to adhere to Bazel's \"must type assert JSON parse\" rule.\n                    fromValue = JSON.parse(value);\n                }\n                catch (e) {\n                    fromValue = null;\n                }\n                break;\n        }\n        return fromValue;\n    },\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nconst notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual,\n};\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n * @noInheritDoc\n */\nclass ReactiveElement\n// In the Node build, this `extends` clause will be substituted with\n// `(globalThis.HTMLElement ?? HTMLElement)`.\n//\n// This way, we will first prefer any global `HTMLElement` polyfill that the\n// user has assigned, and then fall back to the `HTMLElement` shim which has\n// been imported (see note at the top of this file about how this import is\n// generated by Rollup). Note that the `HTMLElement` variable has been\n// shadowed by this import, so it no longer refers to the global.\n extends (globalThis.HTMLElement ?? _lit_labs_ssr_dom_shim__WEBPACK_IMPORTED_MODULE_0__.HTMLElement) {\n    constructor() {\n        super();\n        this.__instanceProperties = new Map();\n        /**\n         * True if there is a pending update as a result of calling `requestUpdate()`.\n         * Should only be read.\n         * @category updates\n         */\n        this.isUpdatePending = false;\n        /**\n         * Is set to `true` after the first update. The element code cannot assume\n         * that `renderRoot` exists before the element `hasUpdated`.\n         * @category updates\n         */\n        this.hasUpdated = false;\n        /**\n         * Name of currently reflecting property\n         */\n        this.__reflectingProperty = null;\n        this.__initialize();\n    }\n    /**\n     * Adds an initializer function to the class that is called during instance\n     * construction.\n     *\n     * This is useful for code that runs against a `ReactiveElement`\n     * subclass, such as a decorator, that needs to do work for each\n     * instance, such as setting up a `ReactiveController`.\n     *\n     * ```ts\n     * const myDecorator = (target: typeof ReactiveElement, key: string) => {\n     *   target.addInitializer((instance: ReactiveElement) => {\n     *     // This is run during construction of the element\n     *     new MyController(instance);\n     *   });\n     * }\n     * ```\n     *\n     * Decorating a field will then cause each instance to run an initializer\n     * that adds a controller:\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   @myDecorator foo;\n     * }\n     * ```\n     *\n     * Initializers are stored per-constructor. Adding an initializer to a\n     * subclass does not add it to a superclass. Since initializers are run in\n     * constructors, initializers will run in order of the class hierarchy,\n     * starting with superclasses and progressing to the instance's class.\n     *\n     * @nocollapse\n     */\n    static addInitializer(initializer) {\n        var _a;\n        this.finalize();\n        ((_a = this._initializers) !== null && _a !== void 0 ? _a : (this._initializers = [])).push(initializer);\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     * @category attributes\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.elementProperties.forEach((v, p) => {\n            const attr = this.__attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this.__attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist\n     * and stores a {@linkcode PropertyDeclaration} for the property with the\n     * given options. The property setter calls the property's `hasChanged`\n     * property option or uses a strict identity check to determine whether or not\n     * to request an update.\n     *\n     * This method may be overridden to customize properties; however,\n     * when doing so, it's important to call `super.createProperty` to ensure\n     * the property is setup correctly. This method calls\n     * `getPropertyDescriptor` internally to get a descriptor to install.\n     * To customize what properties do when they are get or set, override\n     * `getPropertyDescriptor`. To customize the options for a property,\n     * implement `createProperty` like this:\n     *\n     * ```ts\n     * static createProperty(name, options) {\n     *   options = Object.assign(options, {myOption: true});\n     *   super.createProperty(name, options);\n     * }\n     * ```\n     *\n     * @nocollapse\n     * @category properties\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        var _a;\n        // if this is a state property, force the attribute to false.\n        if (options.state) {\n            // Cast as any since this is readonly.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            options.attribute = false;\n        }\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure finalization has been kicked off.\n        this.finalize();\n        this.elementProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (!options.noAccessor && !this.prototype.hasOwnProperty(name)) {\n            const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n            const descriptor = this.getPropertyDescriptor(name, key, options);\n            if (descriptor !== undefined) {\n                Object.defineProperty(this.prototype, name, descriptor);\n                {\n                    // If this class doesn't have its own set, create one and initialize\n                    // with the values in the set from the nearest ancestor class, if any.\n                    if (!this.hasOwnProperty('__reactivePropertyKeys')) {\n                        this.__reactivePropertyKeys = new Set((_a = this.__reactivePropertyKeys) !== null && _a !== void 0 ? _a : []);\n                    }\n                    this.__reactivePropertyKeys.add(name);\n                }\n            }\n        }\n    }\n    /**\n     * Returns a property descriptor to be defined on the given named property.\n     * If no descriptor is returned, the property will not become an accessor.\n     * For example,\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   static getPropertyDescriptor(name, key, options) {\n     *     const defaultDescriptor =\n     *         super.getPropertyDescriptor(name, key, options);\n     *     const setter = defaultDescriptor.set;\n     *     return {\n     *       get: defaultDescriptor.get,\n     *       set(value) {\n     *         setter.call(this, value);\n     *         // custom action.\n     *       },\n     *       configurable: true,\n     *       enumerable: true\n     *     }\n     *   }\n     * }\n     * ```\n     *\n     * @nocollapse\n     * @category properties\n     */\n    static getPropertyDescriptor(name, key, options) {\n        return {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this.requestUpdate(name, oldValue, options);\n            },\n            configurable: true,\n            enumerable: true,\n        };\n    }\n    /**\n     * Returns the property options associated with the given property.\n     * These options are defined with a `PropertyDeclaration` via the `properties`\n     * object or the `@property` decorator and are registered in\n     * `createProperty(...)`.\n     *\n     * Note, this method should be considered \"final\" and not overridden. To\n     * customize the options for a given property, override\n     * {@linkcode createProperty}.\n     *\n     * @nocollapse\n     * @final\n     * @category properties\n     */\n    static getPropertyOptions(name) {\n        return this.elementProperties.get(name) || defaultPropertyDeclaration;\n    }\n    /**\n     * Creates property accessors for registered properties, sets up element\n     * styling, and ensures any superclasses are also finalized. Returns true if\n     * the element was finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        if (this.hasOwnProperty(finalized)) {\n            return false;\n        }\n        this[finalized] = true;\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        superCtor.finalize();\n        // Create own set of initializers for this class if any exist on the\n        // superclass and copy them down. Note, for a small perf boost, avoid\n        // creating initializers unless needed.\n        if (superCtor._initializers !== undefined) {\n            this._initializers = [...superCtor._initializers];\n        }\n        this.elementProperties = new Map(superCtor.elementProperties);\n        // initialize Map populated in observedAttributes\n        this.__attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties'))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...Object.getOwnPropertySymbols(props),\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeScript lack of support for symbol in\n                // index types\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.createProperty(p, props[p]);\n            }\n        }\n        this.elementStyles = this.finalizeStyles(this.styles);\n        // DEV mode warnings\n        {\n            const warnRemovedOrRenamed = (name, renamed = false) => {\n                if (this.prototype.hasOwnProperty(name)) {\n                    issueWarning(renamed ? 'renamed-api' : 'removed-api', `\\`${name}\\` is implemented on class ${this.name}. It ` +\n                        `has been ${renamed ? 'renamed' : 'removed'} ` +\n                        `in this version of LitElement.`);\n                }\n            };\n            warnRemovedOrRenamed('initialize');\n            warnRemovedOrRenamed('requestUpdateInternal');\n            warnRemovedOrRenamed('_getUpdateComplete', true);\n        }\n        return true;\n    }\n    /**\n     * Takes the styles the user supplied via the `static styles` property and\n     * returns the array of styles to apply to the element.\n     * Override this method to integrate into a style management system.\n     *\n     * Styles are deduplicated preserving the _last_ instance in the list. This\n     * is a performance optimization to avoid duplicated styles that can occur\n     * especially when composing via subclassing. The last item is kept to try\n     * to preserve the cascade order with the assumption that it's most important\n     * that last added styles override previous styles.\n     *\n     * @nocollapse\n     * @category styles\n     */\n    static finalizeStyles(styles) {\n        const elementStyles = [];\n        if (Array.isArray(styles)) {\n            // Dedupe the flattened array in reverse order to preserve the last items.\n            // Casting to Array<unknown> works around TS error that\n            // appears to come from trying to flatten a type CSSResultArray.\n            const set = new Set(styles.flat(Infinity).reverse());\n            // Then preserve original order by adding the set items in reverse order.\n            for (const s of set) {\n                elementStyles.unshift((0,_css_tag_js__WEBPACK_IMPORTED_MODULE_1__.getCompatibleStyle)(s));\n            }\n        }\n        else if (styles !== undefined) {\n            elementStyles.push((0,_css_tag_js__WEBPACK_IMPORTED_MODULE_1__.getCompatibleStyle)(styles));\n        }\n        return elementStyles;\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static __attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false\n            ? undefined\n            : typeof attribute === 'string'\n                ? attribute\n                : typeof name === 'string'\n                    ? name.toLowerCase()\n                    : undefined;\n    }\n    /**\n     * Internal only override point for customizing work done when elements\n     * are constructed.\n     */\n    __initialize() {\n        var _a;\n        this.__updatePromise = new Promise((res) => (this.enableUpdating = res));\n        this._$changedProperties = new Map();\n        this.__saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this.requestUpdate();\n        (_a = this.constructor._initializers) === null || _a === void 0 ? void 0 : _a.forEach((i) => i(this));\n    }\n    /**\n     * Registers a `ReactiveController` to participate in the element's reactive\n     * update cycle. The element automatically calls into any registered\n     * controllers during its lifecycle callbacks.\n     *\n     * If the element is connected when `addController()` is called, the\n     * controller's `hostConnected()` callback will be immediately called.\n     * @category controllers\n     */\n    addController(controller) {\n        var _a, _b;\n        ((_a = this.__controllers) !== null && _a !== void 0 ? _a : (this.__controllers = [])).push(controller);\n        // If a controller is added after the element has been connected,\n        // call hostConnected. Note, re-using existence of `renderRoot` here\n        // (which is set in connectedCallback) to avoid the need to track a\n        // first connected state.\n        if (this.renderRoot !== undefined && this.isConnected) {\n            (_b = controller.hostConnected) === null || _b === void 0 ? void 0 : _b.call(controller);\n        }\n    }\n    /**\n     * Removes a `ReactiveController` from the element.\n     * @category controllers\n     */\n    removeController(controller) {\n        var _a;\n        // Note, if the indexOf is -1, the >>> will flip the sign which makes the\n        // splice do nothing.\n        (_a = this.__controllers) === null || _a === void 0 ? void 0 : _a.splice(this.__controllers.indexOf(controller) >>> 0, 1);\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    __saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor.elementProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                this.__instanceProperties.set(p, this[p]);\n                delete this[p];\n            }\n        });\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     *\n     * @return Returns a node into which to render.\n     * @category rendering\n     */\n    createRenderRoot() {\n        var _a;\n        const renderRoot = (_a = this.shadowRoot) !== null && _a !== void 0 ? _a : this.attachShadow(this.constructor.shadowRootOptions);\n        (0,_css_tag_js__WEBPACK_IMPORTED_MODULE_1__.adoptStyles)(renderRoot, this.constructor.elementStyles);\n        return renderRoot;\n    }\n    /**\n     * On first connection, creates the element's renderRoot, sets up\n     * element styling, and enables updating.\n     * @category lifecycle\n     */\n    connectedCallback() {\n        var _a;\n        // create renderRoot before first update.\n        if (this.renderRoot === undefined) {\n            this.renderRoot = this.createRenderRoot();\n        }\n        this.enableUpdating(true);\n        (_a = this.__controllers) === null || _a === void 0 ? void 0 : _a.forEach((c) => { var _a; return (_a = c.hostConnected) === null || _a === void 0 ? void 0 : _a.call(c); });\n    }\n    /**\n     * Note, this method should be considered final and not overridden. It is\n     * overridden on the element instance with a function that triggers the first\n     * update.\n     * @category updates\n     */\n    enableUpdating(_requestedUpdate) { }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     * @category lifecycle\n     */\n    disconnectedCallback() {\n        var _a;\n        (_a = this.__controllers) === null || _a === void 0 ? void 0 : _a.forEach((c) => { var _a; return (_a = c.hostDisconnected) === null || _a === void 0 ? void 0 : _a.call(c); });\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     *\n     * Specifically, when an attribute is set, the corresponding property is set.\n     * You should rarely need to implement this callback. If this method is\n     * overridden, `super.attributeChangedCallback(name, _old, value)` must be\n     * called.\n     *\n     * See [using the lifecycle callbacks](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements#using_the_lifecycle_callbacks)\n     * on MDN for more information about the `attributeChangedCallback`.\n     * @category attributes\n     */\n    attributeChangedCallback(name, _old, value) {\n        this._$attributeToProperty(name, value);\n    }\n    __propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        var _a;\n        const attr = this.constructor.__attributeNameForProperty(name, options);\n        if (attr !== undefined && options.reflect === true) {\n            const converter = ((_a = options.converter) === null || _a === void 0 ? void 0 : _a.toAttribute) !==\n                undefined\n                ? options.converter\n                : defaultConverter;\n            const attrValue = converter.toAttribute(value, options.type);\n            if (this.constructor.enabledWarnings.indexOf('migration') >= 0 &&\n                attrValue === undefined) {\n                issueWarning('undefined-attribute-value', `The attribute value for the ${name} property is ` +\n                    `undefined on element ${this.localName}. The attribute will be ` +\n                    `removed, but in the previous version of \\`ReactiveElement\\`, ` +\n                    `the attribute would not have changed.`);\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this.__reflectingProperty = name;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this.__reflectingProperty = null;\n        }\n    }\n    /** @internal */\n    _$attributeToProperty(name, value) {\n        var _a;\n        const ctor = this.constructor;\n        // Note, hint this as an `AttributeMap` so closure clearly understands\n        // the type; it has issues with tracking types through statics\n        const propName = ctor.__attributeToPropertyMap.get(name);\n        // Use tracking info to avoid reflecting a property value to an attribute\n        // if it was just set because the attribute changed.\n        if (propName !== undefined && this.__reflectingProperty !== propName) {\n            const options = ctor.getPropertyOptions(propName);\n            const converter = typeof options.converter === 'function'\n                ? { fromAttribute: options.converter }\n                : ((_a = options.converter) === null || _a === void 0 ? void 0 : _a.fromAttribute) !== undefined\n                    ? options.converter\n                    : defaultConverter;\n            // mark state reflecting\n            this.__reflectingProperty = propName;\n            this[propName] = converter.fromAttribute(value, options.type\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            );\n            // mark state not reflecting\n            this.__reflectingProperty = null;\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should be called\n     * when an element should update based on some state not triggered by setting\n     * a reactive property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored.\n     *\n     * @param name name of requesting property\n     * @param oldValue old value of requesting property\n     * @param options property options to use instead of the previously\n     *     configured options\n     * @category updates\n     */\n    requestUpdate(name, oldValue, options) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            options =\n                options ||\n                    this.constructor.getPropertyOptions(name);\n            const hasChanged = options.hasChanged || notEqual;\n            if (hasChanged(this[name], oldValue)) {\n                if (!this._$changedProperties.has(name)) {\n                    this._$changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true && this.__reflectingProperty !== name) {\n                    if (this.__reflectingProperties === undefined) {\n                        this.__reflectingProperties = new Map();\n                    }\n                    this.__reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this.isUpdatePending && shouldRequestUpdate) {\n            this.__updatePromise = this.__enqueueUpdate();\n        }\n        // Note, since this no longer returns a promise, in dev mode we return a\n        // thenable which warns if it's called.\n        return requestUpdateThenable(this.localName)\n            ;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async __enqueueUpdate() {\n        this.isUpdatePending = true;\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await this.__updatePromise;\n        }\n        catch (e) {\n            // Refire any previous errors async so they do not disrupt the update\n            // cycle. Errors are refired so developers have a chance to observe\n            // them, and this can be done by implementing\n            // `window.onunhandledrejection`.\n            Promise.reject(e);\n        }\n        const result = this.scheduleUpdate();\n        // If `scheduleUpdate` returns a Promise, we await it. This is done to\n        // enable coordinating updates with a scheduler. Note, the result is\n        // checked to avoid delaying an additional microtask unless we need to.\n        if (result != null) {\n            await result;\n        }\n        return !this.isUpdatePending;\n    }\n    /**\n     * Schedules an element update. You can override this method to change the\n     * timing of updates by returning a Promise. The update will await the\n     * returned Promise, and you should resolve the Promise to allow the update\n     * to proceed. If this method is overridden, `super.scheduleUpdate()`\n     * must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```ts\n     * override protected async scheduleUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.scheduleUpdate();\n     * }\n     * ```\n     * @category updates\n     */\n    scheduleUpdate() {\n        return this.performUpdate();\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * Call `performUpdate()` to immediately process a pending update. This should\n     * generally not be needed, but it can be done in rare cases when you need to\n     * update synchronously.\n     *\n     * Note: To ensure `performUpdate()` synchronously completes a pending update,\n     * it should not be overridden. In LitElement 2.x it was suggested to override\n     * `performUpdate()` to also customizing update scheduling. Instead, you should now\n     * override `scheduleUpdate()`. For backwards compatibility with LitElement 2.x,\n     * scheduling updates via `performUpdate()` continues to work, but will make\n     * also calling `performUpdate()` to synchronously process updates difficult.\n     *\n     * @category updates\n     */\n    performUpdate() {\n        var _a, _b;\n        // Abort any update if one is not pending when this is called.\n        // This can happen if `performUpdate` is called early to \"flush\"\n        // the update.\n        if (!this.isUpdatePending) {\n            return;\n        }\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({ kind: 'update' });\n        // create renderRoot before first update.\n        if (!this.hasUpdated) {\n            // Produce warning if any class properties are shadowed by class fields\n            {\n                const shadowedProperties = [];\n                (_a = this.constructor.__reactivePropertyKeys) === null || _a === void 0 ? void 0 : _a.forEach((p) => {\n                    var _a;\n                    if (this.hasOwnProperty(p) && !((_a = this.__instanceProperties) === null || _a === void 0 ? void 0 : _a.has(p))) {\n                        shadowedProperties.push(p);\n                    }\n                });\n                if (shadowedProperties.length) {\n                    throw new Error(`The following properties on element ${this.localName} will not ` +\n                        `trigger updates as expected because they are set using class ` +\n                        `fields: ${shadowedProperties.join(', ')}. ` +\n                        `Native class fields and some compiled output will overwrite ` +\n                        `accessors used for detecting changes. See ` +\n                        `https://lit.dev/msg/class-field-shadowing ` +\n                        `for more information.`);\n                }\n            }\n        }\n        // Mixin instance properties once, if they exist.\n        if (this.__instanceProperties) {\n            // Use forEach so this works even if for/of loops are compiled to for loops\n            // expecting arrays\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.__instanceProperties.forEach((v, p) => (this[p] = v));\n            this.__instanceProperties = undefined;\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._$changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.willUpdate(changedProperties);\n                (_b = this.__controllers) === null || _b === void 0 ? void 0 : _b.forEach((c) => { var _a; return (_a = c.hostUpdate) === null || _a === void 0 ? void 0 : _a.call(c); });\n                this.update(changedProperties);\n            }\n            else {\n                this.__markUpdated();\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            // Ensure element can accept additional updates after an exception.\n            this.__markUpdated();\n            throw e;\n        }\n        // The update is no longer considered pending and further updates are now allowed.\n        if (shouldUpdate) {\n            this._$didUpdate(changedProperties);\n        }\n    }\n    /**\n     * Invoked before `update()` to compute values needed during the update.\n     *\n     * Implement `willUpdate` to compute property values that depend on other\n     * properties and are used in the rest of the update process.\n     *\n     * ```ts\n     * willUpdate(changedProperties) {\n     *   // only need to check changed properties for an expensive computation.\n     *   if (changedProperties.has('firstName') || changedProperties.has('lastName')) {\n     *     this.sha = computeSHA(`${this.firstName} ${this.lastName}`);\n     *   }\n     * }\n     *\n     * render() {\n     *   return html`SHA: ${this.sha}`;\n     * }\n     * ```\n     *\n     * @category updates\n     */\n    willUpdate(_changedProperties) { }\n    // Note, this is an override point for polyfill-support.\n    // @internal\n    _$didUpdate(changedProperties) {\n        var _a;\n        (_a = this.__controllers) === null || _a === void 0 ? void 0 : _a.forEach((c) => { var _a; return (_a = c.hostUpdated) === null || _a === void 0 ? void 0 : _a.call(c); });\n        if (!this.hasUpdated) {\n            this.hasUpdated = true;\n            this.firstUpdated(changedProperties);\n        }\n        this.updated(changedProperties);\n        if (this.isUpdatePending &&\n            this.constructor.enabledWarnings.indexOf('change-in-update') >= 0) {\n            issueWarning('change-in-update', `Element ${this.localName} scheduled an update ` +\n                `(generally because a property was set) ` +\n                `after an update completed, causing a new update to be scheduled. ` +\n                `This is inefficient and should be avoided unless the next update ` +\n                `can only be scheduled as a side effect of the previous update.`);\n        }\n    }\n    __markUpdated() {\n        this._$changedProperties = new Map();\n        this.isUpdatePending = false;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super.getUpdateComplete()`, then any subsequent state.\n     *\n     * @return A promise of a boolean that resolves to true if the update completed\n     *     without triggering another update.\n     * @category updates\n     */\n    get updateComplete() {\n        return this.getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     * ```ts\n     * class MyElement extends LitElement {\n     *   override async getUpdateComplete() {\n     *     const result = await super.getUpdateComplete();\n     *     await this._myChild.updateComplete;\n     *     return result;\n     *   }\n     * }\n     * ```\n     *\n     * @return A promise of a boolean that resolves to true if the update completed\n     *     without triggering another update.\n     * @category updates\n     */\n    getUpdateComplete() {\n        return this.__updatePromise;\n    }\n    /**\n     * Controls whether or not `update()` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    update(_changedProperties) {\n        if (this.__reflectingProperties !== undefined) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this.__reflectingProperties.forEach((v, k) => this.__propertyToAttribute(k, this[k], v));\n            this.__reflectingProperties = undefined;\n        }\n        this.__markUpdated();\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    updated(_changedProperties) { }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * ```ts\n     * firstUpdated() {\n     *   this.renderRoot.getElementById('my-text-area').focus();\n     * }\n     * ```\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    firstUpdated(_changedProperties) { }\n}\n_e = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nReactiveElement[_e] = true;\n/**\n * Memoized list of all element properties, including any superclass properties.\n * Created lazily on user subclasses when finalizing the class.\n * @nocollapse\n * @category properties\n */\nReactiveElement.elementProperties = new Map();\n/**\n * Memoized list of all element styles.\n * Created lazily on user subclasses when finalizing the class.\n * @nocollapse\n * @category styles\n */\nReactiveElement.elementStyles = [];\n/**\n * Options used when calling `attachShadow`. Set this property to customize\n * the options for the shadowRoot; for example, to create a closed\n * shadowRoot: `{mode: 'closed'}`.\n *\n * Note, these options are used in `createRenderRoot`. If this method\n * is customized, options should be respected if possible.\n * @nocollapse\n * @category rendering\n */\nReactiveElement.shadowRootOptions = { mode: 'open' };\n// Apply polyfills if available\npolyfillSupport === null || polyfillSupport === void 0 ? void 0 : polyfillSupport({ ReactiveElement });\n// Dev mode warnings...\n{\n    // Default warning set.\n    ReactiveElement.enabledWarnings = ['change-in-update'];\n    const ensureOwnWarnings = function (ctor) {\n        if (!ctor.hasOwnProperty(JSCompiler_renameProperty('enabledWarnings'))) {\n            ctor.enabledWarnings = ctor.enabledWarnings.slice();\n        }\n    };\n    ReactiveElement.enableWarning = function (warning) {\n        ensureOwnWarnings(this);\n        if (this.enabledWarnings.indexOf(warning) < 0) {\n            this.enabledWarnings.push(warning);\n        }\n    };\n    ReactiveElement.disableWarning = function (warning) {\n        ensureOwnWarnings(this);\n        const i = this.enabledWarnings.indexOf(warning);\n        if (i >= 0) {\n            this.enabledWarnings.splice(i, 1);\n        }\n    };\n}\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for ReactiveElement usage.\n((_d = global.reactiveElementVersions) !== null && _d !== void 0 ? _d : (global.reactiveElementVersions = [])).push('1.6.3');\nif (global.reactiveElementVersions.length > 1) {\n    issueWarning('multiple-versions', `Multiple versions of Lit loaded. Loading multiple versions ` +\n        `is not recommended.`);\n}\n\n\n//# sourceMappingURL=reactive-element.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L3JlYWN0aXZlLWVsZW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBcUU7QUFDTjtBQUN3RDs7QUFFdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGLGtFQUFjO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsTUFBTTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLEtBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQywrREFBVztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLCtCQUErQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsZUFBZTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxLQUFLO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5QkFBeUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsS0FBSyw2QkFBNkIsVUFBVTtBQUMzSCxvQ0FBb0MsaUNBQWlDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0RBQWtCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwrREFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3REFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGLFFBQVEsZ0ZBQWdGO0FBQ25MO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGLFFBQVEsbUZBQW1GO0FBQ3RMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RixNQUFNO0FBQy9GLDRDQUE0QyxlQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBLG9GQUFvRixpQkFBaUI7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV1RDtBQUN2RCIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9ub2RlL2RldmVsb3BtZW50L3JlYWN0aXZlLWVsZW1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3VzdG9tRWxlbWVudHMsIEhUTUxFbGVtZW50IH0gZnJvbSAnQGxpdC1sYWJzL3Nzci1kb20tc2hpbSc7XG5pbXBvcnQgeyBnZXRDb21wYXRpYmxlU3R5bGUsIGFkb3B0U3R5bGVzIH0gZnJvbSAnLi9jc3MtdGFnLmpzJztcbmV4cG9ydCB7IENTU1Jlc3VsdCwgYWRvcHRTdHlsZXMsIGNzcywgZ2V0Q29tcGF0aWJsZVN0eWxlLCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMsIHVuc2FmZUNTUyB9IGZyb20gJy4vY3NzLXRhZy5qcyc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xudmFyIF9hLCBfYiwgX2MsIF9kO1xudmFyIF9lO1xuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcyA7XG57XG4gICAgKF9hID0gZ2xvYmFsLmN1c3RvbUVsZW1lbnRzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoZ2xvYmFsLmN1c3RvbUVsZW1lbnRzID0gY3VzdG9tRWxlbWVudHMpO1xufVxubGV0IHJlcXVlc3RVcGRhdGVUaGVuYWJsZTtcbmxldCBpc3N1ZVdhcm5pbmc7XG5jb25zdCB0cnVzdGVkVHlwZXMgPSBnbG9iYWxcbiAgICAudHJ1c3RlZFR5cGVzO1xuLy8gVGVtcG9yYXJ5IHdvcmthcm91bmQgZm9yIGh0dHBzOi8vY3JidWcuY29tLzk5MzI2OFxuLy8gQ3VycmVudGx5LCBhbnkgYXR0cmlidXRlIHN0YXJ0aW5nIHdpdGggXCJvblwiIGlzIGNvbnNpZGVyZWQgdG8gYmUgYVxuLy8gVHJ1c3RlZFNjcmlwdCBzb3VyY2UuIFN1Y2ggYm9vbGVhbiBhdHRyaWJ1dGVzIG11c3QgYmUgc2V0IHRvIHRoZSBlcXVpdmFsZW50XG4vLyB0cnVzdGVkIGVtcHR5U2NyaXB0IHZhbHVlLlxuY29uc3QgZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlID0gdHJ1c3RlZFR5cGVzXG4gICAgPyB0cnVzdGVkVHlwZXMuZW1wdHlTY3JpcHRcbiAgICA6ICcnO1xuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydERldk1vZGVcbiAgICA7XG57XG4gICAgLy8gRW5zdXJlIHdhcm5pbmdzIGFyZSBpc3N1ZWQgb25seSAxeCwgZXZlbiBpZiBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXRcbiAgICAvLyBhcmUgbG9hZGVkLlxuICAgIGNvbnN0IGlzc3VlZFdhcm5pbmdzID0gKChfYiA9IGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA9IG5ldyBTZXQoKSkpO1xuICAgIC8vIElzc3VlIGEgd2FybmluZywgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LlxuICAgIGlzc3VlV2FybmluZyA9IChjb2RlLCB3YXJuaW5nKSA9PiB7XG4gICAgICAgIHdhcm5pbmcgKz0gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmA7XG4gICAgICAgIGlmICghaXNzdWVkV2FybmluZ3MuaGFzKHdhcm5pbmcpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgICAgICAgICBpc3N1ZWRXYXJuaW5ncy5hZGQod2FybmluZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlzc3VlV2FybmluZygnZGV2LW1vZGUnLCBgTGl0IGlzIGluIGRldiBtb2RlLiBOb3QgcmVjb21tZW5kZWQgZm9yIHByb2R1Y3Rpb24hYCk7XG4gICAgLy8gSXNzdWUgcG9seWZpbGwgc3VwcG9ydCB3YXJuaW5nLlxuICAgIGlmICgoKF9jID0gZ2xvYmFsLlNoYWR5RE9NKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaW5Vc2UpICYmIHBvbHlmaWxsU3VwcG9ydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlzc3VlV2FybmluZygncG9seWZpbGwtc3VwcG9ydC1taXNzaW5nJywgYFNoYWRvdyBET00gaXMgYmVpbmcgcG9seWZpbGxlZCB2aWEgXFxgU2hhZHlET01cXGAgYnV0IGAgK1xuICAgICAgICAgICAgYHRoZSBcXGBwb2x5ZmlsbC1zdXBwb3J0XFxgIG1vZHVsZSBoYXMgbm90IGJlZW4gbG9hZGVkLmApO1xuICAgIH1cbiAgICByZXF1ZXN0VXBkYXRlVGhlbmFibGUgPSAobmFtZSkgPT4gKHtcbiAgICAgICAgdGhlbjogKG9uZnVsZmlsbGVkLCBfb25yZWplY3RlZCkgPT4ge1xuICAgICAgICAgICAgaXNzdWVXYXJuaW5nKCdyZXF1ZXN0LXVwZGF0ZS1wcm9taXNlJywgYFRoZSBcXGByZXF1ZXN0VXBkYXRlXFxgIG1ldGhvZCBzaG91bGQgbm8gbG9uZ2VyIHJldHVybiBhIFByb21pc2UgYnV0IGAgK1xuICAgICAgICAgICAgICAgIGBkb2VzIHNvIG9uIFxcYCR7bmFtZX1cXGAuIFVzZSBcXGB1cGRhdGVDb21wbGV0ZVxcYCBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgaWYgKG9uZnVsZmlsbGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvbmZ1bGZpbGxlZChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vKipcbiAqIFVzZWZ1bCBmb3IgdmlzdWFsaXppbmcgYW5kIGxvZ2dpbmcgaW5zaWdodHMgaW50byB3aGF0IHRoZSBMaXQgdGVtcGxhdGUgc3lzdGVtIGlzIGRvaW5nLlxuICpcbiAqIENvbXBpbGVkIG91dCBvZiBwcm9kIG1vZGUgYnVpbGRzLlxuICovXG5jb25zdCBkZWJ1Z0xvZ0V2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSBnbG9iYWxcbiAgICAgICAgICAgIC5lbWl0TGl0RGVidWdMb2dFdmVudHM7XG4gICAgICAgIGlmICghc2hvdWxkRW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbGl0LWRlYnVnJywge1xuICAgICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICA7XG4vKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG4vKkBfX0lOTElORV9fKi9cbmNvbnN0IEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPSAocHJvcCwgX29iaikgPT4gcHJvcDtcbmNvbnN0IGRlZmF1bHRDb252ZXJ0ZXIgPSB7XG4gICAgdG9BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IGVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYCBwYXNzIHRoaXMgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIHRvIGFsbG93IHJlbW92aW5nL25vIGNoYW5nZSBiZWhhdmlvci5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIGxldCBmcm9tVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgZnJvbVZhbHVlID0gdmFsdWUgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgICAgICBmcm9tVmFsdWUgPSB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgICAgICAgIC8vIERvICpub3QqIGdlbmVyYXRlIGV4Y2VwdGlvbiB3aGVuIGludmFsaWQgSlNPTiBpcyBzZXQgYXMgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBub3JtYWxseSBjb21wbGFpbiBvbiBiZWluZyBtaXMtY29uZmlndXJlZC5cbiAgICAgICAgICAgICAgICAvLyBUT0RPKHNvcnZlbGwpOiBEbyBnZW5lcmF0ZSBleGNlcHRpb24gaW4gKmRldiBtb2RlKi5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBc3NlcnQgdG8gYWRoZXJlIHRvIEJhemVsJ3MgXCJtdXN0IHR5cGUgYXNzZXJ0IEpTT04gcGFyc2VcIiBydWxlLlxuICAgICAgICAgICAgICAgICAgICBmcm9tVmFsdWUgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbVZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb21WYWx1ZTtcbiAgICB9LFxufTtcbi8qKlxuICogQ2hhbmdlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZGlmZmVyZW50IGZyb20gYG9sZFZhbHVlYC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgZm9yIGEgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgZnVuY3Rpb24uXG4gKi9cbmNvbnN0IG5vdEVxdWFsID0gKHZhbHVlLCBvbGQpID0+IHtcbiAgICAvLyBUaGlzIGVuc3VyZXMgKG9sZD09TmFOLCB2YWx1ZT09TmFOKSBhbHdheXMgcmV0dXJucyBmYWxzZVxuICAgIHJldHVybiBvbGQgIT09IHZhbHVlICYmIChvbGQgPT09IG9sZCB8fCB2YWx1ZSA9PT0gdmFsdWUpO1xufTtcbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICAgIGF0dHJpYnV0ZTogdHJ1ZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICAgIHJlZmxlY3Q6IGZhbHNlLFxuICAgIGhhc0NoYW5nZWQ6IG5vdEVxdWFsLFxufTtcbi8qKlxuICogVGhlIENsb3N1cmUgSlMgQ29tcGlsZXIgZG9lc24ndCBjdXJyZW50bHkgaGF2ZSBnb29kIHN1cHBvcnQgZm9yIHN0YXRpY1xuICogcHJvcGVydHkgc2VtYW50aWNzIHdoZXJlIFwidGhpc1wiIGlzIGR5bmFtaWMgKGUuZy5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzE3NyBhbmQgb3RoZXJzKSBzbyB3ZSB1c2VcbiAqIHRoaXMgaGFjayB0byBieXBhc3MgYW55IHJld3JpdGluZyBieSB0aGUgY29tcGlsZXIuXG4gKi9cbmNvbnN0IGZpbmFsaXplZCA9ICdmaW5hbGl6ZWQnO1xuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3Mgd2hpY2ggbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMuIFdoZW5cbiAqIHByb3BlcnRpZXMgY2hhbmdlLCB0aGUgYHVwZGF0ZWAgbWV0aG9kIGlzIGFzeW5jaHJvbm91c2x5IGNhbGxlZC4gVGhpcyBtZXRob2RcbiAqIHNob3VsZCBiZSBzdXBwbGllZCBieSBzdWJjbGFzc2VycyB0byByZW5kZXIgdXBkYXRlcyBhcyBkZXNpcmVkLlxuICogQG5vSW5oZXJpdERvY1xuICovXG5jbGFzcyBSZWFjdGl2ZUVsZW1lbnRcbi8vIEluIHRoZSBOb2RlIGJ1aWxkLCB0aGlzIGBleHRlbmRzYCBjbGF1c2Ugd2lsbCBiZSBzdWJzdGl0dXRlZCB3aXRoXG4vLyBgKGdsb2JhbFRoaXMuSFRNTEVsZW1lbnQgPz8gSFRNTEVsZW1lbnQpYC5cbi8vXG4vLyBUaGlzIHdheSwgd2Ugd2lsbCBmaXJzdCBwcmVmZXIgYW55IGdsb2JhbCBgSFRNTEVsZW1lbnRgIHBvbHlmaWxsIHRoYXQgdGhlXG4vLyB1c2VyIGhhcyBhc3NpZ25lZCwgYW5kIHRoZW4gZmFsbCBiYWNrIHRvIHRoZSBgSFRNTEVsZW1lbnRgIHNoaW0gd2hpY2ggaGFzXG4vLyBiZWVuIGltcG9ydGVkIChzZWUgbm90ZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZSBhYm91dCBob3cgdGhpcyBpbXBvcnQgaXNcbi8vIGdlbmVyYXRlZCBieSBSb2xsdXApLiBOb3RlIHRoYXQgdGhlIGBIVE1MRWxlbWVudGAgdmFyaWFibGUgaGFzIGJlZW5cbi8vIHNoYWRvd2VkIGJ5IHRoaXMgaW1wb3J0LCBzbyBpdCBubyBsb25nZXIgcmVmZXJzIHRvIHRoZSBnbG9iYWwuXG4gZXh0ZW5kcyAoZ2xvYmFsVGhpcy5IVE1MRWxlbWVudCA/PyBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJ1ZSBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgdXBkYXRlIGFzIGEgcmVzdWx0IG9mIGNhbGxpbmcgYHJlcXVlc3RVcGRhdGUoKWAuXG4gICAgICAgICAqIFNob3VsZCBvbmx5IGJlIHJlYWQuXG4gICAgICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgc2V0IHRvIGB0cnVlYCBhZnRlciB0aGUgZmlyc3QgdXBkYXRlLiBUaGUgZWxlbWVudCBjb2RlIGNhbm5vdCBhc3N1bWVcbiAgICAgICAgICogdGhhdCBgcmVuZGVyUm9vdGAgZXhpc3RzIGJlZm9yZSB0aGUgZWxlbWVudCBgaGFzVXBkYXRlZGAuXG4gICAgICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc1VwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWUgb2YgY3VycmVudGx5IHJlZmxlY3RpbmcgcHJvcGVydHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBudWxsO1xuICAgICAgICB0aGlzLl9faW5pdGlhbGl6ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuIGluaXRpYWxpemVyIGZ1bmN0aW9uIHRvIHRoZSBjbGFzcyB0aGF0IGlzIGNhbGxlZCBkdXJpbmcgaW5zdGFuY2VcbiAgICAgKiBjb25zdHJ1Y3Rpb24uXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY29kZSB0aGF0IHJ1bnMgYWdhaW5zdCBhIGBSZWFjdGl2ZUVsZW1lbnRgXG4gICAgICogc3ViY2xhc3MsIHN1Y2ggYXMgYSBkZWNvcmF0b3IsIHRoYXQgbmVlZHMgdG8gZG8gd29yayBmb3IgZWFjaFxuICAgICAqIGluc3RhbmNlLCBzdWNoIGFzIHNldHRpbmcgdXAgYSBgUmVhY3RpdmVDb250cm9sbGVyYC5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgbXlEZWNvcmF0b3IgPSAodGFyZ2V0OiB0eXBlb2YgUmVhY3RpdmVFbGVtZW50LCBrZXk6IHN0cmluZykgPT4ge1xuICAgICAqICAgdGFyZ2V0LmFkZEluaXRpYWxpemVyKChpbnN0YW5jZTogUmVhY3RpdmVFbGVtZW50KSA9PiB7XG4gICAgICogICAgIC8vIFRoaXMgaXMgcnVuIGR1cmluZyBjb25zdHJ1Y3Rpb24gb2YgdGhlIGVsZW1lbnRcbiAgICAgKiAgICAgbmV3IE15Q29udHJvbGxlcihpbnN0YW5jZSk7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBEZWNvcmF0aW5nIGEgZmllbGQgd2lsbCB0aGVuIGNhdXNlIGVhY2ggaW5zdGFuY2UgdG8gcnVuIGFuIGluaXRpYWxpemVyXG4gICAgICogdGhhdCBhZGRzIGEgY29udHJvbGxlcjpcbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgICogICBAbXlEZWNvcmF0b3IgZm9vO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEluaXRpYWxpemVycyBhcmUgc3RvcmVkIHBlci1jb25zdHJ1Y3Rvci4gQWRkaW5nIGFuIGluaXRpYWxpemVyIHRvIGFcbiAgICAgKiBzdWJjbGFzcyBkb2VzIG5vdCBhZGQgaXQgdG8gYSBzdXBlcmNsYXNzLiBTaW5jZSBpbml0aWFsaXplcnMgYXJlIHJ1biBpblxuICAgICAqIGNvbnN0cnVjdG9ycywgaW5pdGlhbGl6ZXJzIHdpbGwgcnVuIGluIG9yZGVyIG9mIHRoZSBjbGFzcyBoaWVyYXJjaHksXG4gICAgICogc3RhcnRpbmcgd2l0aCBzdXBlcmNsYXNzZXMgYW5kIHByb2dyZXNzaW5nIHRvIHRoZSBpbnN0YW5jZSdzIGNsYXNzLlxuICAgICAqXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgYWRkSW5pdGlhbGl6ZXIoaW5pdGlhbGl6ZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgICAgICgoX2EgPSB0aGlzLl9pbml0aWFsaXplcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLl9pbml0aWFsaXplcnMgPSBbXSkpLnB1c2goaW5pdGlhbGl6ZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhdHRyaWJ1dGVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqIEBjYXRlZ29yeSBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIC8vIG5vdGU6IHBpZ2d5IGJhY2tpbmcgb24gdGhpcyB0byBlbnN1cmUgd2UncmUgZmluYWxpemVkLlxuICAgICAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgdGhpcy5lbGVtZW50UHJvcGVydGllcy5mb3JFYWNoKCh2LCBwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gdGhpcy5fX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwLCB2KTtcbiAgICAgICAgICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5zZXQoYXR0ciwgcCk7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwcm9wZXJ0eSBhY2Nlc3NvciBvbiB0aGUgZWxlbWVudCBwcm90b3R5cGUgaWYgb25lIGRvZXMgbm90IGV4aXN0XG4gICAgICogYW5kIHN0b3JlcyBhIHtAbGlua2NvZGUgUHJvcGVydHlEZWNsYXJhdGlvbn0gZm9yIHRoZSBwcm9wZXJ0eSB3aXRoIHRoZVxuICAgICAqIGdpdmVuIG9wdGlvbnMuIFRoZSBwcm9wZXJ0eSBzZXR0ZXIgY2FsbHMgdGhlIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgXG4gICAgICogcHJvcGVydHkgb3B0aW9uIG9yIHVzZXMgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2sgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90XG4gICAgICogdG8gcmVxdWVzdCBhbiB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXkgYmUgb3ZlcnJpZGRlbiB0byBjdXN0b21pemUgcHJvcGVydGllczsgaG93ZXZlcixcbiAgICAgKiB3aGVuIGRvaW5nIHNvLCBpdCdzIGltcG9ydGFudCB0byBjYWxsIGBzdXBlci5jcmVhdGVQcm9wZXJ0eWAgdG8gZW5zdXJlXG4gICAgICogdGhlIHByb3BlcnR5IGlzIHNldHVwIGNvcnJlY3RseS4gVGhpcyBtZXRob2QgY2FsbHNcbiAgICAgKiBgZ2V0UHJvcGVydHlEZXNjcmlwdG9yYCBpbnRlcm5hbGx5IHRvIGdldCBhIGRlc2NyaXB0b3IgdG8gaW5zdGFsbC5cbiAgICAgKiBUbyBjdXN0b21pemUgd2hhdCBwcm9wZXJ0aWVzIGRvIHdoZW4gdGhleSBhcmUgZ2V0IG9yIHNldCwgb3ZlcnJpZGVcbiAgICAgKiBgZ2V0UHJvcGVydHlEZXNjcmlwdG9yYC4gVG8gY3VzdG9taXplIHRoZSBvcHRpb25zIGZvciBhIHByb3BlcnR5LFxuICAgICAqIGltcGxlbWVudCBgY3JlYXRlUHJvcGVydHlgIGxpa2UgdGhpczpcbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogc3RhdGljIGNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgKiAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHtteU9wdGlvbjogdHJ1ZX0pO1xuICAgICAqICAgc3VwZXIuY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBpZiB0aGlzIGlzIGEgc3RhdGUgcHJvcGVydHksIGZvcmNlIHRoZSBhdHRyaWJ1dGUgdG8gZmFsc2UuXG4gICAgICAgIGlmIChvcHRpb25zLnN0YXRlKSB7XG4gICAgICAgICAgICAvLyBDYXN0IGFzIGFueSBzaW5jZSB0aGlzIGlzIHJlYWRvbmx5LlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIG9wdGlvbnMuYXR0cmlidXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZSwgc2luY2UgdGhpcyBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3Igd2hpY2hcbiAgICAgICAgLy8gaXMgY2FsbGVkIGJlZm9yZSBgZmluYWxpemVgLCB3ZSBlbnN1cmUgZmluYWxpemF0aW9uIGhhcyBiZWVuIGtpY2tlZCBvZmYuXG4gICAgICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50UHJvcGVydGllcy5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIERvIG5vdCBnZW5lcmF0ZSBhbiBhY2Nlc3NvciBpZiB0aGUgcHJvdG90eXBlIGFscmVhZHkgaGFzIG9uZSwgc2luY2VcbiAgICAgICAgLy8gaXQgd291bGQgYmUgbG9zdCBvdGhlcndpc2UgYW5kIHRoYXQgd291bGQgbmV2ZXIgYmUgdGhlIHVzZXIncyBpbnRlbnRpb247XG4gICAgICAgIC8vIEluc3RlYWQsIHdlIGV4cGVjdCB1c2VycyB0byBjYWxsIGByZXF1ZXN0VXBkYXRlYCB0aGVtc2VsdmVzIGZyb21cbiAgICAgICAgLy8gdXNlci1kZWZpbmVkIGFjY2Vzc29ycy4gTm90ZSB0aGF0IGlmIHRoZSBzdXBlciBoYXMgYW4gYWNjZXNzb3Igd2Ugd2lsbFxuICAgICAgICAvLyBzdGlsbCBvdmVyd3JpdGUgaXRcbiAgICAgICAgaWYgKCFvcHRpb25zLm5vQWNjZXNzb3IgJiYgIXRoaXMucHJvdG90eXBlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB0eXBlb2YgbmFtZSA9PT0gJ3N5bWJvbCcgPyBTeW1ib2woKSA6IGBfXyR7bmFtZX1gO1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMucHJvdG90eXBlLCBuYW1lLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgY2xhc3MgZG9lc24ndCBoYXZlIGl0cyBvd24gc2V0LCBjcmVhdGUgb25lIGFuZCBpbml0aWFsaXplXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpdGggdGhlIHZhbHVlcyBpbiB0aGUgc2V0IGZyb20gdGhlIG5lYXJlc3QgYW5jZXN0b3IgY2xhc3MsIGlmIGFueS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KCdfX3JlYWN0aXZlUHJvcGVydHlLZXlzJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19yZWFjdGl2ZVByb3BlcnR5S2V5cyA9IG5ldyBTZXQoKF9hID0gdGhpcy5fX3JlYWN0aXZlUHJvcGVydHlLZXlzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3JlYWN0aXZlUHJvcGVydHlLZXlzLmFkZChuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gYmUgZGVmaW5lZCBvbiB0aGUgZ2l2ZW4gbmFtZWQgcHJvcGVydHkuXG4gICAgICogSWYgbm8gZGVzY3JpcHRvciBpcyByZXR1cm5lZCwgdGhlIHByb3BlcnR5IHdpbGwgbm90IGJlY29tZSBhbiBhY2Nlc3Nvci5cbiAgICAgKiBGb3IgZXhhbXBsZSxcbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgICogICBzdGF0aWMgZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucykge1xuICAgICAqICAgICBjb25zdCBkZWZhdWx0RGVzY3JpcHRvciA9XG4gICAgICogICAgICAgICBzdXBlci5nZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKTtcbiAgICAgKiAgICAgY29uc3Qgc2V0dGVyID0gZGVmYXVsdERlc2NyaXB0b3Iuc2V0O1xuICAgICAqICAgICByZXR1cm4ge1xuICAgICAqICAgICAgIGdldDogZGVmYXVsdERlc2NyaXB0b3IuZ2V0LFxuICAgICAqICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAqICAgICAgICAgc2V0dGVyLmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAqICAgICAgICAgLy8gY3VzdG9tIGFjdGlvbi5cbiAgICAgKiAgICAgICB9LFxuICAgICAqICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgKiAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3RhdGljIGdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNba2V5XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXNbbmFtZV07XG4gICAgICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBvcHRpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICogVGhlc2Ugb3B0aW9ucyBhcmUgZGVmaW5lZCB3aXRoIGEgYFByb3BlcnR5RGVjbGFyYXRpb25gIHZpYSB0aGUgYHByb3BlcnRpZXNgXG4gICAgICogb2JqZWN0IG9yIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgYW5kIGFyZSByZWdpc3RlcmVkIGluXG4gICAgICogYGNyZWF0ZVByb3BlcnR5KC4uLilgLlxuICAgICAqXG4gICAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgXCJmaW5hbFwiIGFuZCBub3Qgb3ZlcnJpZGRlbi4gVG9cbiAgICAgKiBjdXN0b21pemUgdGhlIG9wdGlvbnMgZm9yIGEgZ2l2ZW4gcHJvcGVydHksIG92ZXJyaWRlXG4gICAgICoge0BsaW5rY29kZSBjcmVhdGVQcm9wZXJ0eX0uXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqIEBmaW5hbFxuICAgICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3RhdGljIGdldFByb3BlcnR5T3B0aW9ucyhuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLmdldChuYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIHJlZ2lzdGVyZWQgcHJvcGVydGllcywgc2V0cyB1cCBlbGVtZW50XG4gICAgICogc3R5bGluZywgYW5kIGVuc3VyZXMgYW55IHN1cGVyY2xhc3NlcyBhcmUgYWxzbyBmaW5hbGl6ZWQuIFJldHVybnMgdHJ1ZSBpZlxuICAgICAqIHRoZSBlbGVtZW50IHdhcyBmaW5hbGl6ZWQuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KGZpbmFsaXplZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzW2ZpbmFsaXplZF0gPSB0cnVlO1xuICAgICAgICAvLyBmaW5hbGl6ZSBhbnkgc3VwZXJjbGFzc2VzXG4gICAgICAgIGNvbnN0IHN1cGVyQ3RvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcbiAgICAgICAgc3VwZXJDdG9yLmZpbmFsaXplKCk7XG4gICAgICAgIC8vIENyZWF0ZSBvd24gc2V0IG9mIGluaXRpYWxpemVycyBmb3IgdGhpcyBjbGFzcyBpZiBhbnkgZXhpc3Qgb24gdGhlXG4gICAgICAgIC8vIHN1cGVyY2xhc3MgYW5kIGNvcHkgdGhlbSBkb3duLiBOb3RlLCBmb3IgYSBzbWFsbCBwZXJmIGJvb3N0LCBhdm9pZFxuICAgICAgICAvLyBjcmVhdGluZyBpbml0aWFsaXplcnMgdW5sZXNzIG5lZWRlZC5cbiAgICAgICAgaWYgKHN1cGVyQ3Rvci5faW5pdGlhbGl6ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVycyA9IFsuLi5zdXBlckN0b3IuX2luaXRpYWxpemVyc107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50UHJvcGVydGllcyA9IG5ldyBNYXAoc3VwZXJDdG9yLmVsZW1lbnRQcm9wZXJ0aWVzKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBNYXAgcG9wdWxhdGVkIGluIG9ic2VydmVkQXR0cmlidXRlc1xuICAgICAgICB0aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gbWFrZSBhbnkgcHJvcGVydGllc1xuICAgICAgICAvLyBOb3RlLCBvbmx5IHByb2Nlc3MgXCJvd25cIiBwcm9wZXJ0aWVzIHNpbmNlIHRoaXMgZWxlbWVudCB3aWxsIGluaGVyaXRcbiAgICAgICAgLy8gYW55IHByb3BlcnRpZXMgZGVmaW5lZCBvbiB0aGUgc3VwZXJDbGFzcywgYW5kIGZpbmFsaXphdGlvbiBlbnN1cmVzXG4gICAgICAgIC8vIHRoZSBlbnRpcmUgcHJvdG90eXBlIGNoYWluIGlzIGZpbmFsaXplZC5cbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgncHJvcGVydGllcycpKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgICAgICAgICAvLyBzdXBwb3J0IHN5bWJvbHMgaW4gcHJvcGVydGllcyAoSUUxMSBkb2VzIG5vdCBzdXBwb3J0IHRoaXMpXG4gICAgICAgICAgICBjb25zdCBwcm9wS2V5cyA9IFtcbiAgICAgICAgICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcyksXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwcm9wcyksXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgLy8gVGhpcyBmb3Ivb2YgaXMgb2sgYmVjYXVzZSBwcm9wS2V5cyBpcyBhbiBhcnJheVxuICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIHByb3BLZXlzKSB7XG4gICAgICAgICAgICAgICAgLy8gbm90ZSwgdXNlIG9mIGBhbnlgIGlzIGR1ZSB0byBUeXBlU2NyaXB0IGxhY2sgb2Ygc3VwcG9ydCBmb3Igc3ltYm9sIGluXG4gICAgICAgICAgICAgICAgLy8gaW5kZXggdHlwZXNcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydHkocCwgcHJvcHNbcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudFN0eWxlcyA9IHRoaXMuZmluYWxpemVTdHlsZXModGhpcy5zdHlsZXMpO1xuICAgICAgICAvLyBERVYgbW9kZSB3YXJuaW5nc1xuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB3YXJuUmVtb3ZlZE9yUmVuYW1lZCA9IChuYW1lLCByZW5hbWVkID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVXYXJuaW5nKHJlbmFtZWQgPyAncmVuYW1lZC1hcGknIDogJ3JlbW92ZWQtYXBpJywgYFxcYCR7bmFtZX1cXGAgaXMgaW1wbGVtZW50ZWQgb24gY2xhc3MgJHt0aGlzLm5hbWV9LiBJdCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBoYXMgYmVlbiAke3JlbmFtZWQgPyAncmVuYW1lZCcgOiAncmVtb3ZlZCd9IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGluIHRoaXMgdmVyc2lvbiBvZiBMaXRFbGVtZW50LmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3YXJuUmVtb3ZlZE9yUmVuYW1lZCgnaW5pdGlhbGl6ZScpO1xuICAgICAgICAgICAgd2FyblJlbW92ZWRPclJlbmFtZWQoJ3JlcXVlc3RVcGRhdGVJbnRlcm5hbCcpO1xuICAgICAgICAgICAgd2FyblJlbW92ZWRPclJlbmFtZWQoJ19nZXRVcGRhdGVDb21wbGV0ZScsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUYWtlcyB0aGUgc3R5bGVzIHRoZSB1c2VyIHN1cHBsaWVkIHZpYSB0aGUgYHN0YXRpYyBzdHlsZXNgIHByb3BlcnR5IGFuZFxuICAgICAqIHJldHVybnMgdGhlIGFycmF5IG9mIHN0eWxlcyB0byBhcHBseSB0byB0aGUgZWxlbWVudC5cbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBpbnRlZ3JhdGUgaW50byBhIHN0eWxlIG1hbmFnZW1lbnQgc3lzdGVtLlxuICAgICAqXG4gICAgICogU3R5bGVzIGFyZSBkZWR1cGxpY2F0ZWQgcHJlc2VydmluZyB0aGUgX2xhc3RfIGluc3RhbmNlIGluIHRoZSBsaXN0LiBUaGlzXG4gICAgICogaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZHVwbGljYXRlZCBzdHlsZXMgdGhhdCBjYW4gb2NjdXJcbiAgICAgKiBlc3BlY2lhbGx5IHdoZW4gY29tcG9zaW5nIHZpYSBzdWJjbGFzc2luZy4gVGhlIGxhc3QgaXRlbSBpcyBrZXB0IHRvIHRyeVxuICAgICAqIHRvIHByZXNlcnZlIHRoZSBjYXNjYWRlIG9yZGVyIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCdzIG1vc3QgaW1wb3J0YW50XG4gICAgICogdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqIEBjYXRlZ29yeSBzdHlsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZmluYWxpemVTdHlsZXMoc3R5bGVzKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRTdHlsZXMgPSBbXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuICAgICAgICAgICAgLy8gRGVkdXBlIHRoZSBmbGF0dGVuZWQgYXJyYXkgaW4gcmV2ZXJzZSBvcmRlciB0byBwcmVzZXJ2ZSB0aGUgbGFzdCBpdGVtcy5cbiAgICAgICAgICAgIC8vIENhc3RpbmcgdG8gQXJyYXk8dW5rbm93bj4gd29ya3MgYXJvdW5kIFRTIGVycm9yIHRoYXRcbiAgICAgICAgICAgIC8vIGFwcGVhcnMgdG8gY29tZSBmcm9tIHRyeWluZyB0byBmbGF0dGVuIGEgdHlwZSBDU1NSZXN1bHRBcnJheS5cbiAgICAgICAgICAgIGNvbnN0IHNldCA9IG5ldyBTZXQoc3R5bGVzLmZsYXQoSW5maW5pdHkpLnJldmVyc2UoKSk7XG4gICAgICAgICAgICAvLyBUaGVuIHByZXNlcnZlIG9yaWdpbmFsIG9yZGVyIGJ5IGFkZGluZyB0aGUgc2V0IGl0ZW1zIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc2V0KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudFN0eWxlcy51bnNoaWZ0KGdldENvbXBhdGlibGVTdHlsZShzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVsZW1lbnRTdHlsZXMucHVzaChnZXRDb21wYXRpYmxlU3R5bGUoc3R5bGVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRTdHlsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGUgPT09IGZhbHNlXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiB0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgOiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIG9ubHkgb3ZlcnJpZGUgcG9pbnQgZm9yIGN1c3RvbWl6aW5nIHdvcmsgZG9uZSB3aGVuIGVsZW1lbnRzXG4gICAgICogYXJlIGNvbnN0cnVjdGVkLlxuICAgICAqL1xuICAgIF9faW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLl9fdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMpID0+ICh0aGlzLmVuYWJsZVVwZGF0aW5nID0gcmVzKSk7XG4gICAgICAgIHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKTtcbiAgICAgICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mXG4gICAgICAgIC8vIGB1cGRhdGVDb21wbGV0ZWBcbiAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG4gICAgICAgIChfYSA9IHRoaXMuY29uc3RydWN0b3IuX2luaXRpYWxpemVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGkpID0+IGkodGhpcykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgZWxlbWVudCdzIHJlYWN0aXZlXG4gICAgICogdXBkYXRlIGN5Y2xlLiBUaGUgZWxlbWVudCBhdXRvbWF0aWNhbGx5IGNhbGxzIGludG8gYW55IHJlZ2lzdGVyZWRcbiAgICAgKiBjb250cm9sbGVycyBkdXJpbmcgaXRzIGxpZmVjeWNsZSBjYWxsYmFja3MuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgZWxlbWVudCBpcyBjb25uZWN0ZWQgd2hlbiBgYWRkQ29udHJvbGxlcigpYCBpcyBjYWxsZWQsIHRoZVxuICAgICAqIGNvbnRyb2xsZXIncyBgaG9zdENvbm5lY3RlZCgpYCBjYWxsYmFjayB3aWxsIGJlIGltbWVkaWF0ZWx5IGNhbGxlZC5cbiAgICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICAgKi9cbiAgICBhZGRDb250cm9sbGVyKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKChfYSA9IHRoaXMuX19jb250cm9sbGVycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKHRoaXMuX19jb250cm9sbGVycyA9IFtdKSkucHVzaChjb250cm9sbGVyKTtcbiAgICAgICAgLy8gSWYgYSBjb250cm9sbGVyIGlzIGFkZGVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGNvbm5lY3RlZCxcbiAgICAgICAgLy8gY2FsbCBob3N0Q29ubmVjdGVkLiBOb3RlLCByZS11c2luZyBleGlzdGVuY2Ugb2YgYHJlbmRlclJvb3RgIGhlcmVcbiAgICAgICAgLy8gKHdoaWNoIGlzIHNldCBpbiBjb25uZWN0ZWRDYWxsYmFjaykgdG8gYXZvaWQgdGhlIG5lZWQgdG8gdHJhY2sgYVxuICAgICAgICAvLyBmaXJzdCBjb25uZWN0ZWQgc3RhdGUuXG4gICAgICAgIGlmICh0aGlzLnJlbmRlclJvb3QgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAoX2IgPSBjb250cm9sbGVyLmhvc3RDb25uZWN0ZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGNvbnRyb2xsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCBmcm9tIHRoZSBlbGVtZW50LlxuICAgICAqIEBjYXRlZ29yeSBjb250cm9sbGVyc1xuICAgICAqL1xuICAgIHJlbW92ZUNvbnRyb2xsZXIoY29udHJvbGxlcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIE5vdGUsIGlmIHRoZSBpbmRleE9mIGlzIC0xLCB0aGUgPj4+IHdpbGwgZmxpcCB0aGUgc2lnbiB3aGljaCBtYWtlcyB0aGVcbiAgICAgICAgLy8gc3BsaWNlIGRvIG5vdGhpbmcuXG4gICAgICAgIChfYSA9IHRoaXMuX19jb250cm9sbGVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGljZSh0aGlzLl9fY29udHJvbGxlcnMuaW5kZXhPZihjb250cm9sbGVyKSA+Pj4gMCwgMSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpeGVzIGFueSBwcm9wZXJ0aWVzIHNldCBvbiB0aGUgaW5zdGFuY2UgYmVmb3JlIHVwZ3JhZGUgdGltZS5cbiAgICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICAgKiBUaGUgcHJvcGVydGllcyBhcmUgc3RvcmVkIGluIGEgTWFwIHdoaWNoIGlzIHBsYXllZCBiYWNrIGFmdGVyIHRoZVxuICAgICAqIGNvbnN0cnVjdG9yIHJ1bnMuIE5vdGUsIG9uIHZlcnkgb2xkIHZlcnNpb25zIG9mIFNhZmFyaSAoPD05KSBvciBDaHJvbWVcbiAgICAgKiAoPD00MSksIHByb3BlcnRpZXMgY3JlYXRlZCBmb3IgbmF0aXZlIHBsYXRmb3JtIHByb3BlcnRpZXMgbGlrZSAoYGlkYCBvclxuICAgICAqIGBuYW1lYCkgbWF5IG5vdCBoYXZlIGRlZmF1bHQgdmFsdWVzIHNldCBpbiB0aGUgZWxlbWVudCBjb25zdHJ1Y3Rvci4gT25cbiAgICAgKiB0aGVzZSBicm93c2VycyBuYXRpdmUgcHJvcGVydGllcyBhcHBlYXIgb24gaW5zdGFuY2VzIGFuZCB0aGVyZWZvcmUgdGhlaXJcbiAgICAgKiBkZWZhdWx0IHZhbHVlIHdpbGwgb3ZlcndyaXRlIGFueSBlbGVtZW50IGRlZmF1bHQgKGUuZy4gaWYgdGhlIGVsZW1lbnQgc2V0c1xuICAgICAqIHRoaXMuaWQgPSAnaWQnIGluIHRoZSBjb25zdHJ1Y3RvciwgdGhlICdpZCcgd2lsbCBiZWNvbWUgJycgc2luY2UgdGhpcyBpc1xuICAgICAqIHRoZSBuYXRpdmUgcGxhdGZvcm0gZGVmYXVsdCkuXG4gICAgICovXG4gICAgX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRQcm9wZXJ0aWVzLmZvckVhY2goKF92LCBwKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMuc2V0KHAsIHRoaXNbcF0pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbm9kZSBpbnRvIHdoaWNoIHRoZSBlbGVtZW50IHNob3VsZCByZW5kZXIgYW5kIGJ5IGRlZmF1bHRcbiAgICAgKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9wZW4gc2hhZG93Um9vdC4gSW1wbGVtZW50IHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGVcbiAgICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgICAqIGNoaWxkTm9kZXMsIHJldHVybiBgdGhpc2AuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIFJldHVybnMgYSBub2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICAgICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICAgKi9cbiAgICBjcmVhdGVSZW5kZXJSb290KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHJlbmRlclJvb3QgPSAoX2EgPSB0aGlzLnNoYWRvd1Jvb3QpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuYXR0YWNoU2hhZG93KHRoaXMuY29uc3RydWN0b3Iuc2hhZG93Um9vdE9wdGlvbnMpO1xuICAgICAgICBhZG9wdFN0eWxlcyhyZW5kZXJSb290LCB0aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRTdHlsZXMpO1xuICAgICAgICByZXR1cm4gcmVuZGVyUm9vdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT24gZmlyc3QgY29ubmVjdGlvbiwgY3JlYXRlcyB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QsIHNldHMgdXBcbiAgICAgKiBlbGVtZW50IHN0eWxpbmcsIGFuZCBlbmFibGVzIHVwZGF0aW5nLlxuICAgICAqIEBjYXRlZ29yeSBsaWZlY3ljbGVcbiAgICAgKi9cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBjcmVhdGUgcmVuZGVyUm9vdCBiZWZvcmUgZmlyc3QgdXBkYXRlLlxuICAgICAgICBpZiAodGhpcy5yZW5kZXJSb290ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUm9vdCA9IHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5hYmxlVXBkYXRpbmcodHJ1ZSk7XG4gICAgICAgIChfYSA9IHRoaXMuX19jb250cm9sbGVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGMpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gYy5ob3N0Q29ubmVjdGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChjKTsgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGUsIHRoaXMgbWV0aG9kIHNob3VsZCBiZSBjb25zaWRlcmVkIGZpbmFsIGFuZCBub3Qgb3ZlcnJpZGRlbi4gSXQgaXNcbiAgICAgKiBvdmVycmlkZGVuIG9uIHRoZSBlbGVtZW50IGluc3RhbmNlIHdpdGggYSBmdW5jdGlvbiB0aGF0IHRyaWdnZXJzIHRoZSBmaXJzdFxuICAgICAqIHVwZGF0ZS5cbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIGVuYWJsZVVwZGF0aW5nKF9yZXF1ZXN0ZWRVcGRhdGUpIHsgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyBmb3IgYHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKClgIGluIGV4dGVuc2lvbnMgd2hpbGVcbiAgICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICAgKiB3aGVuIGRpc2Nvbm5lY3RpbmcgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLlxuICAgICAqIEBjYXRlZ29yeSBsaWZlY3ljbGVcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLl9fY29udHJvbGxlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChjKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGMuaG9zdERpc2Nvbm5lY3RlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoYyk7IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTeW5jaHJvbml6ZXMgcHJvcGVydHkgdmFsdWVzIHdoZW4gYXR0cmlidXRlcyBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBTcGVjaWZpY2FsbHksIHdoZW4gYW4gYXR0cmlidXRlIGlzIHNldCwgdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgaXMgc2V0LlxuICAgICAqIFlvdSBzaG91bGQgcmFyZWx5IG5lZWQgdG8gaW1wbGVtZW50IHRoaXMgY2FsbGJhY2suIElmIHRoaXMgbWV0aG9kIGlzXG4gICAgICogb3ZlcnJpZGRlbiwgYHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBfb2xkLCB2YWx1ZSlgIG11c3QgYmVcbiAgICAgKiBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBTZWUgW3VzaW5nIHRoZSBsaWZlY3ljbGUgY2FsbGJhY2tzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9XZWJfQ29tcG9uZW50cy9Vc2luZ19jdXN0b21fZWxlbWVudHMjdXNpbmdfdGhlX2xpZmVjeWNsZV9jYWxsYmFja3MpXG4gICAgICogb24gTUROIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYC5cbiAgICAgKiBAY2F0ZWdvcnkgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBfb2xkLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl8kYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgfVxuICAgIF9fcHJvcGVydHlUb0F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgYXR0ciA9IHRoaXMuY29uc3RydWN0b3IuX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjb252ZXJ0ZXIgPSAoKF9hID0gb3B0aW9ucy5jb252ZXJ0ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0F0dHJpYnV0ZSkgIT09XG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmNvbnZlcnRlclxuICAgICAgICAgICAgICAgIDogZGVmYXVsdENvbnZlcnRlcjtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IGNvbnZlcnRlci50b0F0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucy50eXBlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLmVuYWJsZWRXYXJuaW5ncy5pbmRleE9mKCdtaWdyYXRpb24nKSA+PSAwICYmXG4gICAgICAgICAgICAgICAgYXR0clZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpc3N1ZVdhcm5pbmcoJ3VuZGVmaW5lZC1hdHRyaWJ1dGUtdmFsdWUnLCBgVGhlIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgdGhlICR7bmFtZX0gcHJvcGVydHkgaXMgYCArXG4gICAgICAgICAgICAgICAgICAgIGB1bmRlZmluZWQgb24gZWxlbWVudCAke3RoaXMubG9jYWxOYW1lfS4gVGhlIGF0dHJpYnV0ZSB3aWxsIGJlIGAgK1xuICAgICAgICAgICAgICAgICAgICBgcmVtb3ZlZCwgYnV0IGluIHRoZSBwcmV2aW91cyB2ZXJzaW9uIG9mIFxcYFJlYWN0aXZlRWxlbWVudFxcYCwgYCArXG4gICAgICAgICAgICAgICAgICAgIGB0aGUgYXR0cmlidXRlIHdvdWxkIG5vdCBoYXZlIGNoYW5nZWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUcmFjayBpZiB0aGUgcHJvcGVydHkgaXMgYmVpbmcgcmVmbGVjdGVkIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBzZXR0aW5nIHRoZSBwcm9wZXJ0eSBhZ2FpbiB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuIE5vdGU6XG4gICAgICAgICAgICAvLyAxLiB0aGlzIHRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSBjYWxsYmFjayBpcyBzeW5jaHJvbm91cy5cbiAgICAgICAgICAgIC8vIDIuIHdpbGwgYmVoYXZlIGluY29ycmVjdGx5IGlmIG11bHRpcGxlIGF0dHJpYnV0ZXMgYXJlIGluIHRoZSByZWFjdGlvblxuICAgICAgICAgICAgLy8gc3RhY2sgYXQgdGltZSBvZiBjYWxsaW5nLiBIb3dldmVyLCBzaW5jZSB3ZSBwcm9jZXNzIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vIGluIGB1cGRhdGVgIHRoaXMgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSAob3IgYW4gZXh0cmVtZSBjb3JuZXIgY2FzZVxuICAgICAgICAgICAgLy8gdGhhdCB3ZSdkIGxpa2UgdG8gZGlzY292ZXIpLlxuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChhdHRyVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgLy8gTm90ZSwgaGludCB0aGlzIGFzIGFuIGBBdHRyaWJ1dGVNYXBgIHNvIGNsb3N1cmUgY2xlYXJseSB1bmRlcnN0YW5kc1xuICAgICAgICAvLyB0aGUgdHlwZTsgaXQgaGFzIGlzc3VlcyB3aXRoIHRyYWNraW5nIHR5cGVzIHRocm91Z2ggc3RhdGljc1xuICAgICAgICBjb25zdCBwcm9wTmFtZSA9IGN0b3IuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmdldChuYW1lKTtcbiAgICAgICAgLy8gVXNlIHRyYWNraW5nIGluZm8gdG8gYXZvaWQgcmVmbGVjdGluZyBhIHByb3BlcnR5IHZhbHVlIHRvIGFuIGF0dHJpYnV0ZVxuICAgICAgICAvLyBpZiBpdCB3YXMganVzdCBzZXQgYmVjYXVzZSB0aGUgYXR0cmlidXRlIGNoYW5nZWQuXG4gICAgICAgIGlmIChwcm9wTmFtZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgIT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gY3Rvci5nZXRQcm9wZXJ0eU9wdGlvbnMocHJvcE5hbWUpO1xuICAgICAgICAgICAgY29uc3QgY29udmVydGVyID0gdHlwZW9mIG9wdGlvbnMuY29udmVydGVyID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyB7IGZyb21BdHRyaWJ1dGU6IG9wdGlvbnMuY29udmVydGVyIH1cbiAgICAgICAgICAgICAgICA6ICgoX2EgPSBvcHRpb25zLmNvbnZlcnRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZyb21BdHRyaWJ1dGUpICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmNvbnZlcnRlclxuICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRDb252ZXJ0ZXI7XG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBwcm9wTmFtZTtcbiAgICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID0gY29udmVydGVyLmZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMudHlwZVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIG5vdCByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBhbiB1cGRhdGUgd2hpY2ggaXMgcHJvY2Vzc2VkIGFzeW5jaHJvbm91c2x5LiBUaGlzIHNob3VsZCBiZSBjYWxsZWRcbiAgICAgKiB3aGVuIGFuIGVsZW1lbnQgc2hvdWxkIHVwZGF0ZSBiYXNlZCBvbiBzb21lIHN0YXRlIG5vdCB0cmlnZ2VyZWQgYnkgc2V0dGluZ1xuICAgICAqIGEgcmVhY3RpdmUgcHJvcGVydHkuIEluIHRoaXMgY2FzZSwgcGFzcyBubyBhcmd1bWVudHMuIEl0IHNob3VsZCBhbHNvIGJlXG4gICAgICogY2FsbGVkIHdoZW4gbWFudWFsbHkgaW1wbGVtZW50aW5nIGEgcHJvcGVydHkgc2V0dGVyLiBJbiB0aGlzIGNhc2UsIHBhc3MgdGhlXG4gICAgICogcHJvcGVydHkgYG5hbWVgIGFuZCBgb2xkVmFsdWVgIHRvIGVuc3VyZSB0aGF0IGFueSBjb25maWd1cmVkIHByb3BlcnR5XG4gICAgICogb3B0aW9ucyBhcmUgaG9ub3JlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIG5hbWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSBvbGRWYWx1ZSBvbGQgdmFsdWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSBvcHRpb25zIHByb3BlcnR5IG9wdGlvbnMgdG8gdXNlIGluc3RlYWQgb2YgdGhlIHByZXZpb3VzbHlcbiAgICAgKiAgICAgY29uZmlndXJlZCBvcHRpb25zXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICByZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBzaG91bGRSZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHByb3BlcnR5IGtleSwgcGVyZm9ybSBwcm9wZXJ0eSB1cGRhdGUgc3RlcHMuXG4gICAgICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPVxuICAgICAgICAgICAgICAgIG9wdGlvbnMgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5nZXRQcm9wZXJ0eU9wdGlvbnMobmFtZSk7XG4gICAgICAgICAgICBjb25zdCBoYXNDaGFuZ2VkID0gb3B0aW9ucy5oYXNDaGFuZ2VkIHx8IG5vdEVxdWFsO1xuICAgICAgICAgICAgaWYgKGhhc0NoYW5nZWQodGhpc1tuYW1lXSwgb2xkVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcy5zZXQobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZGQgdG8gcmVmbGVjdGluZyBwcm9wZXJ0aWVzIHNldC5cbiAgICAgICAgICAgICAgICAvLyBOb3RlLCBpdCdzIGltcG9ydGFudCB0aGF0IGV2ZXJ5IGNoYW5nZSBoYXMgYSBjaGFuY2UgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIHByb3BlcnR5IHRvIGBfcmVmbGVjdGluZ1Byb3BlcnRpZXNgLiBUaGlzIGVuc3VyZXMgc2V0dGluZ1xuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSArIHByb3BlcnR5IHJlZmxlY3RzIGNvcnJlY3RseS5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlICYmIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgIT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCB0aGUgcmVxdWVzdCBpZiB0aGUgcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGNoYW5nZWQuXG4gICAgICAgICAgICAgICAgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc1VwZGF0ZVBlbmRpbmcgJiYgc2hvdWxkUmVxdWVzdFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fX3VwZGF0ZVByb21pc2UgPSB0aGlzLl9fZW5xdWV1ZVVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGUsIHNpbmNlIHRoaXMgbm8gbG9uZ2VyIHJldHVybnMgYSBwcm9taXNlLCBpbiBkZXYgbW9kZSB3ZSByZXR1cm4gYVxuICAgICAgICAvLyB0aGVuYWJsZSB3aGljaCB3YXJucyBpZiBpdCdzIGNhbGxlZC5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RVcGRhdGVUaGVuYWJsZSh0aGlzLmxvY2FsTmFtZSlcbiAgICAgICAgICAgIDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgZWxlbWVudCB0byBhc3luY2hyb25vdXNseSB1cGRhdGUuXG4gICAgICovXG4gICAgYXN5bmMgX19lbnF1ZXVlVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgYW55IHByZXZpb3VzIHVwZGF0ZSBoYXMgcmVzb2x2ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgICAgICAgLy8gVGhpcyBgYXdhaXRgIGFsc28gZW5zdXJlcyB0aGF0IHByb3BlcnR5IGNoYW5nZXMgYXJlIGJhdGNoZWQuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9fdXBkYXRlUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gUmVmaXJlIGFueSBwcmV2aW91cyBlcnJvcnMgYXN5bmMgc28gdGhleSBkbyBub3QgZGlzcnVwdCB0aGUgdXBkYXRlXG4gICAgICAgICAgICAvLyBjeWNsZS4gRXJyb3JzIGFyZSByZWZpcmVkIHNvIGRldmVsb3BlcnMgaGF2ZSBhIGNoYW5jZSB0byBvYnNlcnZlXG4gICAgICAgICAgICAvLyB0aGVtLCBhbmQgdGhpcyBjYW4gYmUgZG9uZSBieSBpbXBsZW1lbnRpbmdcbiAgICAgICAgICAgIC8vIGB3aW5kb3cub251bmhhbmRsZWRyZWplY3Rpb25gLlxuICAgICAgICAgICAgUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgICAgICAvLyBJZiBgc2NoZWR1bGVVcGRhdGVgIHJldHVybnMgYSBQcm9taXNlLCB3ZSBhd2FpdCBpdC4gVGhpcyBpcyBkb25lIHRvXG4gICAgICAgIC8vIGVuYWJsZSBjb29yZGluYXRpbmcgdXBkYXRlcyB3aXRoIGEgc2NoZWR1bGVyLiBOb3RlLCB0aGUgcmVzdWx0IGlzXG4gICAgICAgIC8vIGNoZWNrZWQgdG8gYXZvaWQgZGVsYXlpbmcgYW4gYWRkaXRpb25hbCBtaWNyb3Rhc2sgdW5sZXNzIHdlIG5lZWQgdG8uXG4gICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgYXdhaXQgcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhdGhpcy5pc1VwZGF0ZVBlbmRpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlcyBhbiBlbGVtZW50IHVwZGF0ZS4gWW91IGNhbiBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBjaGFuZ2UgdGhlXG4gICAgICogdGltaW5nIG9mIHVwZGF0ZXMgYnkgcmV0dXJuaW5nIGEgUHJvbWlzZS4gVGhlIHVwZGF0ZSB3aWxsIGF3YWl0IHRoZVxuICAgICAqIHJldHVybmVkIFByb21pc2UsIGFuZCB5b3Ugc2hvdWxkIHJlc29sdmUgdGhlIFByb21pc2UgdG8gYWxsb3cgdGhlIHVwZGF0ZVxuICAgICAqIHRvIHByb2NlZWQuIElmIHRoaXMgbWV0aG9kIGlzIG92ZXJyaWRkZW4sIGBzdXBlci5zY2hlZHVsZVVwZGF0ZSgpYFxuICAgICAqIG11c3QgYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogRm9yIGluc3RhbmNlLCB0byBzY2hlZHVsZSB1cGRhdGVzIHRvIG9jY3VyIGp1c3QgYmVmb3JlIHRoZSBuZXh0IGZyYW1lOlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBvdmVycmlkZSBwcm90ZWN0ZWQgYXN5bmMgc2NoZWR1bGVVcGRhdGUoKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgICogICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlc29sdmUoKSkpO1xuICAgICAqICAgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBzY2hlZHVsZVVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGVyZm9ybVVwZGF0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhbiBlbGVtZW50IHVwZGF0ZS4gTm90ZSwgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBkdXJpbmcgdGhlXG4gICAgICogdXBkYXRlLCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIENhbGwgYHBlcmZvcm1VcGRhdGUoKWAgdG8gaW1tZWRpYXRlbHkgcHJvY2VzcyBhIHBlbmRpbmcgdXBkYXRlLiBUaGlzIHNob3VsZFxuICAgICAqIGdlbmVyYWxseSBub3QgYmUgbmVlZGVkLCBidXQgaXQgY2FuIGJlIGRvbmUgaW4gcmFyZSBjYXNlcyB3aGVuIHlvdSBuZWVkIHRvXG4gICAgICogdXBkYXRlIHN5bmNocm9ub3VzbHkuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUbyBlbnN1cmUgYHBlcmZvcm1VcGRhdGUoKWAgc3luY2hyb25vdXNseSBjb21wbGV0ZXMgYSBwZW5kaW5nIHVwZGF0ZSxcbiAgICAgKiBpdCBzaG91bGQgbm90IGJlIG92ZXJyaWRkZW4uIEluIExpdEVsZW1lbnQgMi54IGl0IHdhcyBzdWdnZXN0ZWQgdG8gb3ZlcnJpZGVcbiAgICAgKiBgcGVyZm9ybVVwZGF0ZSgpYCB0byBhbHNvIGN1c3RvbWl6aW5nIHVwZGF0ZSBzY2hlZHVsaW5nLiBJbnN0ZWFkLCB5b3Ugc2hvdWxkIG5vd1xuICAgICAqIG92ZXJyaWRlIGBzY2hlZHVsZVVwZGF0ZSgpYC4gRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggTGl0RWxlbWVudCAyLngsXG4gICAgICogc2NoZWR1bGluZyB1cGRhdGVzIHZpYSBgcGVyZm9ybVVwZGF0ZSgpYCBjb250aW51ZXMgdG8gd29yaywgYnV0IHdpbGwgbWFrZVxuICAgICAqIGFsc28gY2FsbGluZyBgcGVyZm9ybVVwZGF0ZSgpYCB0byBzeW5jaHJvbm91c2x5IHByb2Nlc3MgdXBkYXRlcyBkaWZmaWN1bHQuXG4gICAgICpcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIHBlcmZvcm1VcGRhdGUoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIC8vIEFib3J0IGFueSB1cGRhdGUgaWYgb25lIGlzIG5vdCBwZW5kaW5nIHdoZW4gdGhpcyBpcyBjYWxsZWQuXG4gICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBgcGVyZm9ybVVwZGF0ZWAgaXMgY2FsbGVkIGVhcmx5IHRvIFwiZmx1c2hcIlxuICAgICAgICAvLyB0aGUgdXBkYXRlLlxuICAgICAgICBpZiAoIXRoaXMuaXNVcGRhdGVQZW5kaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHsga2luZDogJ3VwZGF0ZScgfSk7XG4gICAgICAgIC8vIGNyZWF0ZSByZW5kZXJSb290IGJlZm9yZSBmaXJzdCB1cGRhdGUuXG4gICAgICAgIGlmICghdGhpcy5oYXNVcGRhdGVkKSB7XG4gICAgICAgICAgICAvLyBQcm9kdWNlIHdhcm5pbmcgaWYgYW55IGNsYXNzIHByb3BlcnRpZXMgYXJlIHNoYWRvd2VkIGJ5IGNsYXNzIGZpZWxkc1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoYWRvd2VkUHJvcGVydGllcyA9IFtdO1xuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuY29uc3RydWN0b3IuX19yZWFjdGl2ZVByb3BlcnR5S2V5cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSAmJiAhKChfYSA9IHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYXMocCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dlZFByb3BlcnRpZXMucHVzaChwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzaGFkb3dlZFByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIG9uIGVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gd2lsbCBub3QgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgdHJpZ2dlciB1cGRhdGVzIGFzIGV4cGVjdGVkIGJlY2F1c2UgdGhleSBhcmUgc2V0IHVzaW5nIGNsYXNzIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGZpZWxkczogJHtzaGFkb3dlZFByb3BlcnRpZXMuam9pbignLCAnKX0uIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYE5hdGl2ZSBjbGFzcyBmaWVsZHMgYW5kIHNvbWUgY29tcGlsZWQgb3V0cHV0IHdpbGwgb3ZlcndyaXRlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGFjY2Vzc29ycyB1c2VkIGZvciBkZXRlY3RpbmcgY2hhbmdlcy4gU2VlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGh0dHBzOi8vbGl0LmRldi9tc2cvY2xhc3MtZmllbGQtc2hhZG93aW5nIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGZvciBtb3JlIGluZm9ybWF0aW9uLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBNaXhpbiBpbnN0YW5jZSBwcm9wZXJ0aWVzIG9uY2UsIGlmIHRoZXkgZXhpc3QuXG4gICAgICAgIGlmICh0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgICAgICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICB0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzLmZvckVhY2goKHYsIHApID0+ICh0aGlzW3BdID0gdikpO1xuICAgICAgICAgICAgdGhpcy5fX2luc3RhbmNlUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gdGhpcy5zaG91bGRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgKF9iID0gdGhpcy5fX2NvbnRyb2xsZXJzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZm9yRWFjaCgoYykgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBjLmhvc3RVcGRhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGMpOyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gUHJldmVudCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIGZyb20gcnVubmluZyB3aGVuIHRoZXJlJ3MgYW5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBleGNlcHRpb24uXG4gICAgICAgICAgICBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBlbGVtZW50IGNhbiBhY2NlcHQgYWRkaXRpb25hbCB1cGRhdGVzIGFmdGVyIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX19tYXJrVXBkYXRlZCgpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgdXBkYXRlIGlzIG5vIGxvbmdlciBjb25zaWRlcmVkIHBlbmRpbmcgYW5kIGZ1cnRoZXIgdXBkYXRlcyBhcmUgbm93IGFsbG93ZWQuXG4gICAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuXyRkaWRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgYmVmb3JlIGB1cGRhdGUoKWAgdG8gY29tcHV0ZSB2YWx1ZXMgbmVlZGVkIGR1cmluZyB0aGUgdXBkYXRlLlxuICAgICAqXG4gICAgICogSW1wbGVtZW50IGB3aWxsVXBkYXRlYCB0byBjb21wdXRlIHByb3BlcnR5IHZhbHVlcyB0aGF0IGRlcGVuZCBvbiBvdGhlclxuICAgICAqIHByb3BlcnRpZXMgYW5kIGFyZSB1c2VkIGluIHRoZSByZXN0IG9mIHRoZSB1cGRhdGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAqICAgLy8gb25seSBuZWVkIHRvIGNoZWNrIGNoYW5nZWQgcHJvcGVydGllcyBmb3IgYW4gZXhwZW5zaXZlIGNvbXB1dGF0aW9uLlxuICAgICAqICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnZmlyc3ROYW1lJykgfHwgY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdsYXN0TmFtZScpKSB7XG4gICAgICogICAgIHRoaXMuc2hhID0gY29tcHV0ZVNIQShgJHt0aGlzLmZpcnN0TmFtZX0gJHt0aGlzLmxhc3ROYW1lfWApO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHJlbmRlcigpIHtcbiAgICAgKiAgIHJldHVybiBodG1sYFNIQTogJHt0aGlzLnNoYX1gO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgd2lsbFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXMpIHsgfVxuICAgIC8vIE5vdGUsIHRoaXMgaXMgYW4gb3ZlcnJpZGUgcG9pbnQgZm9yIHBvbHlmaWxsLXN1cHBvcnQuXG4gICAgLy8gQGludGVybmFsXG4gICAgXyRkaWRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLl9fY29udHJvbGxlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChjKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGMuaG9zdFVwZGF0ZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGMpOyB9KTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzVXBkYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgaWYgKHRoaXMuaXNVcGRhdGVQZW5kaW5nICYmXG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmVuYWJsZWRXYXJuaW5ncy5pbmRleE9mKCdjaGFuZ2UtaW4tdXBkYXRlJykgPj0gMCkge1xuICAgICAgICAgICAgaXNzdWVXYXJuaW5nKCdjaGFuZ2UtaW4tdXBkYXRlJywgYEVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gc2NoZWR1bGVkIGFuIHVwZGF0ZSBgICtcbiAgICAgICAgICAgICAgICBgKGdlbmVyYWxseSBiZWNhdXNlIGEgcHJvcGVydHkgd2FzIHNldCkgYCArXG4gICAgICAgICAgICAgICAgYGFmdGVyIGFuIHVwZGF0ZSBjb21wbGV0ZWQsIGNhdXNpbmcgYSBuZXcgdXBkYXRlIHRvIGJlIHNjaGVkdWxlZC4gYCArXG4gICAgICAgICAgICAgICAgYFRoaXMgaXMgaW5lZmZpY2llbnQgYW5kIHNob3VsZCBiZSBhdm9pZGVkIHVubGVzcyB0aGUgbmV4dCB1cGRhdGUgYCArXG4gICAgICAgICAgICAgICAgYGNhbiBvbmx5IGJlIHNjaGVkdWxlZCBhcyBhIHNpZGUgZWZmZWN0IG9mIHRoZSBwcmV2aW91cyB1cGRhdGUuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19tYXJrVXBkYXRlZCgpIHtcbiAgICAgICAgdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGNvbXBsZXRlZCB1cGRhdGluZy5cbiAgICAgKiBUaGUgUHJvbWlzZSB2YWx1ZSBpcyBhIGJvb2xlYW4gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgY29tcGxldGVkIHRoZVxuICAgICAqIHVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuIFRoZSBQcm9taXNlIHJlc3VsdCBpcyBgZmFsc2VgIGlmXG4gICAgICogYSBwcm9wZXJ0eSB3YXMgc2V0IGluc2lkZSBgdXBkYXRlZCgpYC4gSWYgdGhlIFByb21pc2UgaXMgcmVqZWN0ZWQsIGFuXG4gICAgICogZXhjZXB0aW9uIHdhcyB0aHJvd24gZHVyaW5nIHRoZSB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBUbyBhd2FpdCBhZGRpdGlvbmFsIGFzeW5jaHJvbm91cyB3b3JrLCBvdmVycmlkZSB0aGUgYGdldFVwZGF0ZUNvbXBsZXRlYFxuICAgICAqIG1ldGhvZC4gRm9yIGV4YW1wbGUsIGl0IGlzIHNvbWV0aW1lcyB1c2VmdWwgdG8gYXdhaXQgYSByZW5kZXJlZCBlbGVtZW50XG4gICAgICogYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgICAqIGBzdXBlci5nZXRVcGRhdGVDb21wbGV0ZSgpYCwgdGhlbiBhbnkgc3Vic2VxdWVudCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gQSBwcm9taXNlIG9mIGEgYm9vbGVhbiB0aGF0IHJlc29sdmVzIHRvIHRydWUgaWYgdGhlIHVwZGF0ZSBjb21wbGV0ZWRcbiAgICAgKiAgICAgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgZ2V0IHVwZGF0ZUNvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBwb2ludCBmb3IgdGhlIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS5cbiAgICAgKlxuICAgICAqIEl0IGlzIG5vdCBzYWZlIHRvIG92ZXJyaWRlIHRoZSBgdXBkYXRlQ29tcGxldGVgIGdldHRlciBkaXJlY3RseSBkdWUgdG8gYVxuICAgICAqIGxpbWl0YXRpb24gaW4gVHlwZVNjcmlwdCB3aGljaCBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gY2FsbCBhXG4gICAgICogc3VwZXJjbGFzcyBnZXR0ZXIgKGUuZy4gYHN1cGVyLnVwZGF0ZUNvbXBsZXRlLnRoZW4oLi4uKWApIHdoZW4gdGhlIHRhcmdldFxuICAgICAqIGxhbmd1YWdlIGlzIEVTNSAoaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zMzgpLlxuICAgICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBvdmVycmlkZGVuIGluc3RlYWQuIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICAgKiAgIG92ZXJyaWRlIGFzeW5jIGdldFVwZGF0ZUNvbXBsZXRlKCkge1xuICAgICAqICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdXBlci5nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICAgICAqICAgICBhd2FpdCB0aGlzLl9teUNoaWxkLnVwZGF0ZUNvbXBsZXRlO1xuICAgICAqICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm4gQSBwcm9taXNlIG9mIGEgYm9vbGVhbiB0aGF0IHJlc29sdmVzIHRvIHRydWUgaWYgdGhlIHVwZGF0ZSBjb21wbGV0ZWRcbiAgICAgKiAgICAgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgZ2V0VXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fdXBkYXRlUHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udHJvbHMgd2hldGhlciBvciBub3QgYHVwZGF0ZSgpYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICAgKiBhbiB1cGRhdGUuIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGB0cnVlYCwgYnV0IHRoaXMgY2FuIGJlXG4gICAgICogY3VzdG9taXplZCB0byBjb250cm9sIHdoZW4gdG8gdXBkYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAgICovXG4gICAgc2hvdWxkVXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXMuXG4gICAgICogSXQgY2FuIGJlIG92ZXJyaWRkZW4gdG8gcmVuZGVyIGFuZCBrZWVwIHVwZGF0ZWQgZWxlbWVudCBET00uXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICAgKiBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgICAqL1xuICAgIHVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3JcbiAgICAgICAgICAgIC8vIGxvb3BzIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydGllcy5mb3JFYWNoKCh2LCBrKSA9PiB0aGlzLl9fcHJvcGVydHlUb0F0dHJpYnV0ZShrLCB0aGlzW2tdLCB2KSk7XG4gICAgICAgICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX21hcmtVcGRhdGVkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbmV2ZXIgdGhlIGVsZW1lbnQgaXMgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm1cbiAgICAgKiBwb3N0LXVwZGF0aW5nIHRhc2tzIHZpYSBET00gQVBJcywgZm9yIGV4YW1wbGUsIGZvY3VzaW5nIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICB1cGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllcykgeyB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBlbGVtZW50IGlzIGZpcnN0IHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtIG9uZSB0aW1lXG4gICAgICogd29yayBvbiB0aGUgZWxlbWVudCBhZnRlciB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGZpcnN0VXBkYXRlZCgpIHtcbiAgICAgKiAgIHRoaXMucmVuZGVyUm9vdC5nZXRFbGVtZW50QnlJZCgnbXktdGV4dC1hcmVhJykuZm9jdXMoKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICBmaXJzdFVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7IH1cbn1cbl9lID0gZmluYWxpemVkO1xuLyoqXG4gKiBNYXJrcyBjbGFzcyBhcyBoYXZpbmcgZmluaXNoZWQgY3JlYXRpbmcgcHJvcGVydGllcy5cbiAqL1xuUmVhY3RpdmVFbGVtZW50W19lXSA9IHRydWU7XG4vKipcbiAqIE1lbW9pemVkIGxpc3Qgb2YgYWxsIGVsZW1lbnQgcHJvcGVydGllcywgaW5jbHVkaW5nIGFueSBzdXBlcmNsYXNzIHByb3BlcnRpZXMuXG4gKiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZSBjbGFzcy5cbiAqIEBub2NvbGxhcHNlXG4gKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICovXG5SZWFjdGl2ZUVsZW1lbnQuZWxlbWVudFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4vKipcbiAqIE1lbW9pemVkIGxpc3Qgb2YgYWxsIGVsZW1lbnQgc3R5bGVzLlxuICogQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGUgY2xhc3MuXG4gKiBAbm9jb2xsYXBzZVxuICogQGNhdGVnb3J5IHN0eWxlc1xuICovXG5SZWFjdGl2ZUVsZW1lbnQuZWxlbWVudFN0eWxlcyA9IFtdO1xuLyoqXG4gKiBPcHRpb25zIHVzZWQgd2hlbiBjYWxsaW5nIGBhdHRhY2hTaGFkb3dgLiBTZXQgdGhpcyBwcm9wZXJ0eSB0byBjdXN0b21pemVcbiAqIHRoZSBvcHRpb25zIGZvciB0aGUgc2hhZG93Um9vdDsgZm9yIGV4YW1wbGUsIHRvIGNyZWF0ZSBhIGNsb3NlZFxuICogc2hhZG93Um9vdDogYHttb2RlOiAnY2xvc2VkJ31gLlxuICpcbiAqIE5vdGUsIHRoZXNlIG9wdGlvbnMgYXJlIHVzZWQgaW4gYGNyZWF0ZVJlbmRlclJvb3RgLiBJZiB0aGlzIG1ldGhvZFxuICogaXMgY3VzdG9taXplZCwgb3B0aW9ucyBzaG91bGQgYmUgcmVzcGVjdGVkIGlmIHBvc3NpYmxlLlxuICogQG5vY29sbGFwc2VcbiAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAqL1xuUmVhY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3RPcHRpb25zID0geyBtb2RlOiAnb3BlbicgfTtcbi8vIEFwcGx5IHBvbHlmaWxscyBpZiBhdmFpbGFibGVcbnBvbHlmaWxsU3VwcG9ydCA9PT0gbnVsbCB8fCBwb2x5ZmlsbFN1cHBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvbHlmaWxsU3VwcG9ydCh7IFJlYWN0aXZlRWxlbWVudCB9KTtcbi8vIERldiBtb2RlIHdhcm5pbmdzLi4uXG57XG4gICAgLy8gRGVmYXVsdCB3YXJuaW5nIHNldC5cbiAgICBSZWFjdGl2ZUVsZW1lbnQuZW5hYmxlZFdhcm5pbmdzID0gWydjaGFuZ2UtaW4tdXBkYXRlJ107XG4gICAgY29uc3QgZW5zdXJlT3duV2FybmluZ3MgPSBmdW5jdGlvbiAoY3Rvcikge1xuICAgICAgICBpZiAoIWN0b3IuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZW5hYmxlZFdhcm5pbmdzJykpKSB7XG4gICAgICAgICAgICBjdG9yLmVuYWJsZWRXYXJuaW5ncyA9IGN0b3IuZW5hYmxlZFdhcm5pbmdzLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0aXZlRWxlbWVudC5lbmFibGVXYXJuaW5nID0gZnVuY3Rpb24gKHdhcm5pbmcpIHtcbiAgICAgICAgZW5zdXJlT3duV2FybmluZ3ModGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWRXYXJuaW5ncy5pbmRleE9mKHdhcm5pbmcpIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3MucHVzaCh3YXJuaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RpdmVFbGVtZW50LmRpc2FibGVXYXJuaW5nID0gZnVuY3Rpb24gKHdhcm5pbmcpIHtcbiAgICAgICAgZW5zdXJlT3duV2FybmluZ3ModGhpcyk7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLmVuYWJsZWRXYXJuaW5ncy5pbmRleE9mKHdhcm5pbmcpO1xuICAgICAgICBpZiAoaSA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZWRXYXJuaW5ncy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBSZWFjdGl2ZUVsZW1lbnQgdXNhZ2UuXG4oKF9kID0gZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFZlcnNpb25zKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAoZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFZlcnNpb25zID0gW10pKS5wdXNoKCcxLjYuMycpO1xuaWYgKGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucy5sZW5ndGggPiAxKSB7XG4gICAgaXNzdWVXYXJuaW5nKCdtdWx0aXBsZS12ZXJzaW9ucycsIGBNdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgbG9hZGVkLiBMb2FkaW5nIG11bHRpcGxlIHZlcnNpb25zIGAgK1xuICAgICAgICBgaXMgbm90IHJlY29tbWVuZGVkLmApO1xufVxuXG5leHBvcnQgeyBSZWFjdGl2ZUVsZW1lbnQsIGRlZmF1bHRDb252ZXJ0ZXIsIG5vdEVxdWFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdGl2ZS1lbGVtZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/reactive-element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-element/development/lit-element.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-element/development/lit-element.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.CSSResult),\n/* harmony export */   LitElement: () => (/* binding */ LitElement),\n/* harmony export */   ReactiveElement: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement),\n/* harmony export */   UpdatingElement: () => (/* binding */ UpdatingElement),\n/* harmony export */   _$LE: () => (/* binding */ _$LE),\n/* harmony export */   _$LH: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__._$LH),\n/* harmony export */   adoptStyles: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.adoptStyles),\n/* harmony export */   css: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.css),\n/* harmony export */   defaultConverter: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.defaultConverter),\n/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.getCompatibleStyle),\n/* harmony export */   html: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.html),\n/* harmony export */   noChange: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.noChange),\n/* harmony export */   notEqual: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.notEqual),\n/* harmony export */   nothing: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.nothing),\n/* harmony export */   render: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.render),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.supportsAdoptingStyleSheets),\n/* harmony export */   svg: () => (/* reexport safe */ lit_html__WEBPACK_IMPORTED_MODULE_1__.svg),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/reactive-element.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\");\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar _a, _b, _c;\n/**\n * The main LitElement module, which defines the {@linkcode LitElement} base\n * class and related APIs.\n *\n *  LitElement components can define a template and a set of observed\n * properties. Changing an observed property triggers a re-render of the\n * element.\n *\n *  Import {@linkcode LitElement} and {@linkcode html} from this module to\n * create a component:\n *\n *  ```js\n * import {LitElement, html} from 'lit-element';\n *\n * class MyElement extends LitElement {\n *\n *   // Declare observed properties\n *   static get properties() {\n *     return {\n *       adjective: {}\n *     }\n *   }\n *\n *   constructor() {\n *     this.adjective = 'awesome';\n *   }\n *\n *   // Define the element's template\n *   render() {\n *     return html`<p>your ${adjective} template here</p>`;\n *   }\n * }\n *\n * customElements.define('my-element', MyElement);\n * ```\n *\n * `LitElement` extends {@linkcode ReactiveElement} and adds lit-html\n * templating. The `ReactiveElement` class is provided for users that want to\n * build their own custom element base classes that don't use lit-html.\n *\n * @packageDocumentation\n */\n\n\n\n\n// For backwards compatibility export ReactiveElement as UpdatingElement. Note,\n// IE transpilation requires exporting like this.\nconst UpdatingElement = _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement;\nconst DEV_MODE = true;\nlet issueWarning;\nif (DEV_MODE) {\n    // Ensure warnings are issued only 1x, even if multiple versions of Lit\n    // are loaded.\n    const issuedWarnings = ((_a = globalThis.litIssuedWarnings) !== null && _a !== void 0 ? _a : (globalThis.litIssuedWarnings = new Set()));\n    // Issue a warning, if we haven't already.\n    issueWarning = (code, warning) => {\n        warning += ` See https://lit.dev/msg/${code} for more information.`;\n        if (!issuedWarnings.has(warning)) {\n            console.warn(warning);\n            issuedWarnings.add(warning);\n        }\n    };\n}\n/**\n * Base element class that manages element properties and attributes, and\n * renders a lit-html template.\n *\n * To define a component, subclass `LitElement` and implement a\n * `render` method to provide the component's template. Define properties\n * using the {@linkcode LitElement.properties properties} property or the\n * {@linkcode property} decorator.\n */\nclass LitElement extends _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * @category rendering\n         */\n        this.renderOptions = { host: this };\n        this.__childPart = undefined;\n    }\n    /**\n     * @category rendering\n     */\n    createRenderRoot() {\n        var _a;\n        var _b;\n        const renderRoot = super.createRenderRoot();\n        // When adoptedStyleSheets are shimmed, they are inserted into the\n        // shadowRoot by createRenderRoot. Adjust the renderBefore node so that\n        // any styles in Lit content render before adoptedStyleSheets. This is\n        // important so that adoptedStyleSheets have precedence over styles in\n        // the shadowRoot.\n        (_a = (_b = this.renderOptions).renderBefore) !== null && _a !== void 0 ? _a : (_b.renderBefore = renderRoot.firstChild);\n        return renderRoot;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * @param changedProperties Map of changed properties with old values\n     * @category updates\n     */\n    update(changedProperties) {\n        // Setting properties in `render` should not trigger an update. Since\n        // updates are allowed after super.update, it's important to call `render`\n        // before that.\n        const value = this.render();\n        if (!this.hasUpdated) {\n            this.renderOptions.isConnected = this.isConnected;\n        }\n        super.update(changedProperties);\n        this.__childPart = (0,lit_html__WEBPACK_IMPORTED_MODULE_1__.render)(value, this.renderRoot, this.renderOptions);\n    }\n    /**\n     * Invoked when the component is added to the document's DOM.\n     *\n     * In `connectedCallback()` you should setup tasks that should only occur when\n     * the element is connected to the document. The most common of these is\n     * adding event listeners to nodes external to the element, like a keydown\n     * event handler added to the window.\n     *\n     * ```ts\n     * connectedCallback() {\n     *   super.connectedCallback();\n     *   addEventListener('keydown', this._handleKeydown);\n     * }\n     * ```\n     *\n     * Typically, anything done in `connectedCallback()` should be undone when the\n     * element is disconnected, in `disconnectedCallback()`.\n     *\n     * @category lifecycle\n     */\n    connectedCallback() {\n        var _a;\n        super.connectedCallback();\n        (_a = this.__childPart) === null || _a === void 0 ? void 0 : _a.setConnected(true);\n    }\n    /**\n     * Invoked when the component is removed from the document's DOM.\n     *\n     * This callback is the main signal to the element that it may no longer be\n     * used. `disconnectedCallback()` should ensure that nothing is holding a\n     * reference to the element (such as event listeners added to nodes external\n     * to the element), so that it is free to be garbage collected.\n     *\n     * ```ts\n     * disconnectedCallback() {\n     *   super.disconnectedCallback();\n     *   window.removeEventListener('keydown', this._handleKeydown);\n     * }\n     * ```\n     *\n     * An element may be re-connected after being disconnected.\n     *\n     * @category lifecycle\n     */\n    disconnectedCallback() {\n        var _a;\n        super.disconnectedCallback();\n        (_a = this.__childPart) === null || _a === void 0 ? void 0 : _a.setConnected(false);\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method may return\n     * any value renderable by lit-html's `ChildPart` - typically a\n     * `TemplateResult`. Setting properties inside this method will *not* trigger\n     * the element to update.\n     * @category rendering\n     */\n    render() {\n        return lit_html__WEBPACK_IMPORTED_MODULE_1__.noChange;\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See @lit/reactive-element for more information.\n */\nLitElement['finalized'] = true;\n// This property needs to remain unminified.\nLitElement['_$litElement$'] = true;\n// Install hydration if available\n(_b = globalThis.litElementHydrateSupport) === null || _b === void 0 ? void 0 : _b.call(globalThis, { LitElement });\n// Apply polyfills if available\nconst polyfillSupport = DEV_MODE\n    ? globalThis.litElementPolyfillSupportDevMode\n    : globalThis.litElementPolyfillSupport;\npolyfillSupport === null || polyfillSupport === void 0 ? void 0 : polyfillSupport({ LitElement });\n// DEV mode warnings\nif (DEV_MODE) {\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n    // Note, for compatibility with closure compilation, this access\n    // needs to be as a string property index.\n    LitElement['finalize'] = function () {\n        const finalized = _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement.finalize.call(this);\n        if (!finalized) {\n            return false;\n        }\n        const warnRemovedOrRenamed = (obj, name, renamed = false) => {\n            if (obj.hasOwnProperty(name)) {\n                const ctorName = (typeof obj === 'function' ? obj : obj.constructor)\n                    .name;\n                issueWarning(renamed ? 'renamed-api' : 'removed-api', `\\`${name}\\` is implemented on class ${ctorName}. It ` +\n                    `has been ${renamed ? 'renamed' : 'removed'} ` +\n                    `in this version of LitElement.`);\n            }\n        };\n        warnRemovedOrRenamed(this, 'render');\n        warnRemovedOrRenamed(this, 'getStyles', true);\n        warnRemovedOrRenamed(this.prototype, 'adoptStyles');\n        return true;\n    };\n    /* eslint-enable @typescript-eslint/no-explicit-any */\n}\n/**\n * END USERS SHOULD NOT RELY ON THIS OBJECT.\n *\n * Private exports for use by other Lit packages, not intended for use by\n * external users.\n *\n * We currently do not make a mangled rollup build of the lit-ssr code. In order\n * to keep a number of (otherwise private) top-level exports  mangled in the\n * client side code, we export a _$LE object containing those members (or\n * helper methods for accessing private fields of those members), and then\n * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the\n * client-side code is being used in `dev` mode or `prod` mode.\n *\n * This has a unique name, to disambiguate it from private exports in\n * lit-html, since this module re-exports all of lit-html.\n *\n * @private\n */\nconst _$LE = {\n    _$attributeToProperty: (el, name, value) => {\n        // eslint-disable-next-line\n        el._$attributeToProperty(name, value);\n    },\n    // eslint-disable-next-line\n    _$changedProperties: (el) => el._$changedProperties,\n};\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n((_c = globalThis.litElementVersions) !== null && _c !== void 0 ? _c : (globalThis.litElementVersions = [])).push('3.3.3');\nif (DEV_MODE && globalThis.litElementVersions.length > 1) {\n    issueWarning('multiple-versions', `Multiple versions of Lit loaded. Loading multiple versions ` +\n        `is not recommended.`);\n}\n//# sourceMappingURL=lit-element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2RldmVsb3BtZW50L2xpdC1lbGVtZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsc0JBQXNCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0JBQXNCLEtBQUssZ0JBQWdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFdBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJCQUEyQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3dEO0FBQ1o7QUFDTjtBQUNiO0FBQ3pCO0FBQ0E7QUFDTyx3QkFBd0Isa0VBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxNQUFNO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNENBQTRDO0FBQzFELElBQUksb0JBQW9CO0FBQ3hCO0FBQ08seUJBQXlCLGtFQUFlO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGdEQUFNO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4Q0FBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyxZQUFZO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLFlBQVk7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtFQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLEtBQUssNkJBQTZCLFNBQVM7QUFDdEgsZ0NBQWdDLGlDQUFpQztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9kZXZlbG9wbWVudC9saXQtZWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbnZhciBfYSwgX2IsIF9jO1xuLyoqXG4gKiBUaGUgbWFpbiBMaXRFbGVtZW50IG1vZHVsZSwgd2hpY2ggZGVmaW5lcyB0aGUge0BsaW5rY29kZSBMaXRFbGVtZW50fSBiYXNlXG4gKiBjbGFzcyBhbmQgcmVsYXRlZCBBUElzLlxuICpcbiAqICBMaXRFbGVtZW50IGNvbXBvbmVudHMgY2FuIGRlZmluZSBhIHRlbXBsYXRlIGFuZCBhIHNldCBvZiBvYnNlcnZlZFxuICogcHJvcGVydGllcy4gQ2hhbmdpbmcgYW4gb2JzZXJ2ZWQgcHJvcGVydHkgdHJpZ2dlcnMgYSByZS1yZW5kZXIgb2YgdGhlXG4gKiBlbGVtZW50LlxuICpcbiAqICBJbXBvcnQge0BsaW5rY29kZSBMaXRFbGVtZW50fSBhbmQge0BsaW5rY29kZSBodG1sfSBmcm9tIHRoaXMgbW9kdWxlIHRvXG4gKiBjcmVhdGUgYSBjb21wb25lbnQ6XG4gKlxuICogIGBgYGpzXG4gKiBpbXBvcnQge0xpdEVsZW1lbnQsIGh0bWx9IGZyb20gJ2xpdC1lbGVtZW50JztcbiAqXG4gKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAqXG4gKiAgIC8vIERlY2xhcmUgb2JzZXJ2ZWQgcHJvcGVydGllc1xuICogICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIGFkamVjdGl2ZToge31cbiAqICAgICB9XG4gKiAgIH1cbiAqXG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHRoaXMuYWRqZWN0aXZlID0gJ2F3ZXNvbWUnO1xuICogICB9XG4gKlxuICogICAvLyBEZWZpbmUgdGhlIGVsZW1lbnQncyB0ZW1wbGF0ZVxuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgPHA+eW91ciAke2FkamVjdGl2ZX0gdGVtcGxhdGUgaGVyZTwvcD5gO1xuICogICB9XG4gKiB9XG4gKlxuICogY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1lbGVtZW50JywgTXlFbGVtZW50KTtcbiAqIGBgYFxuICpcbiAqIGBMaXRFbGVtZW50YCBleHRlbmRzIHtAbGlua2NvZGUgUmVhY3RpdmVFbGVtZW50fSBhbmQgYWRkcyBsaXQtaHRtbFxuICogdGVtcGxhdGluZy4gVGhlIGBSZWFjdGl2ZUVsZW1lbnRgIGNsYXNzIGlzIHByb3ZpZGVkIGZvciB1c2VycyB0aGF0IHdhbnQgdG9cbiAqIGJ1aWxkIHRoZWlyIG93biBjdXN0b20gZWxlbWVudCBiYXNlIGNsYXNzZXMgdGhhdCBkb24ndCB1c2UgbGl0LWh0bWwuXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi9cbmltcG9ydCB7IFJlYWN0aXZlRWxlbWVudCB9IGZyb20gJ0BsaXQvcmVhY3RpdmUtZWxlbWVudCc7XG5pbXBvcnQgeyByZW5kZXIsIG5vQ2hhbmdlIH0gZnJvbSAnbGl0LWh0bWwnO1xuZXhwb3J0ICogZnJvbSAnQGxpdC9yZWFjdGl2ZS1lbGVtZW50JztcbmV4cG9ydCAqIGZyb20gJ2xpdC1odG1sJztcbi8vIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBleHBvcnQgUmVhY3RpdmVFbGVtZW50IGFzIFVwZGF0aW5nRWxlbWVudC4gTm90ZSxcbi8vIElFIHRyYW5zcGlsYXRpb24gcmVxdWlyZXMgZXhwb3J0aW5nIGxpa2UgdGhpcy5cbmV4cG9ydCBjb25zdCBVcGRhdGluZ0VsZW1lbnQgPSBSZWFjdGl2ZUVsZW1lbnQ7XG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG5sZXQgaXNzdWVXYXJuaW5nO1xuaWYgKERFVl9NT0RFKSB7XG4gICAgLy8gRW5zdXJlIHdhcm5pbmdzIGFyZSBpc3N1ZWQgb25seSAxeCwgZXZlbiBpZiBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXRcbiAgICAvLyBhcmUgbG9hZGVkLlxuICAgIGNvbnN0IGlzc3VlZFdhcm5pbmdzID0gKChfYSA9IGdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChnbG9iYWxUaGlzLmxpdElzc3VlZFdhcm5pbmdzID0gbmV3IFNldCgpKSk7XG4gICAgLy8gSXNzdWUgYSB3YXJuaW5nLCBpZiB3ZSBoYXZlbid0IGFscmVhZHkuXG4gICAgaXNzdWVXYXJuaW5nID0gKGNvZGUsIHdhcm5pbmcpID0+IHtcbiAgICAgICAgd2FybmluZyArPSBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYDtcbiAgICAgICAgaWYgKCFpc3N1ZWRXYXJuaW5ncy5oYXMod2FybmluZykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgICAgICAgIGlzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIEJhc2UgZWxlbWVudCBjbGFzcyB0aGF0IG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLCBhbmRcbiAqIHJlbmRlcnMgYSBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBUbyBkZWZpbmUgYSBjb21wb25lbnQsIHN1YmNsYXNzIGBMaXRFbGVtZW50YCBhbmQgaW1wbGVtZW50IGFcbiAqIGByZW5kZXJgIG1ldGhvZCB0byBwcm92aWRlIHRoZSBjb21wb25lbnQncyB0ZW1wbGF0ZS4gRGVmaW5lIHByb3BlcnRpZXNcbiAqIHVzaW5nIHRoZSB7QGxpbmtjb2RlIExpdEVsZW1lbnQucHJvcGVydGllcyBwcm9wZXJ0aWVzfSBwcm9wZXJ0eSBvciB0aGVcbiAqIHtAbGlua2NvZGUgcHJvcGVydHl9IGRlY29yYXRvci5cbiAqL1xuZXhwb3J0IGNsYXNzIExpdEVsZW1lbnQgZXh0ZW5kcyBSZWFjdGl2ZUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJPcHRpb25zID0geyBob3N0OiB0aGlzIH07XG4gICAgICAgIHRoaXMuX19jaGlsZFBhcnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICAgKi9cbiAgICBjcmVhdGVSZW5kZXJSb290KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgY29uc3QgcmVuZGVyUm9vdCA9IHN1cGVyLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICAgICAgLy8gV2hlbiBhZG9wdGVkU3R5bGVTaGVldHMgYXJlIHNoaW1tZWQsIHRoZXkgYXJlIGluc2VydGVkIGludG8gdGhlXG4gICAgICAgIC8vIHNoYWRvd1Jvb3QgYnkgY3JlYXRlUmVuZGVyUm9vdC4gQWRqdXN0IHRoZSByZW5kZXJCZWZvcmUgbm9kZSBzbyB0aGF0XG4gICAgICAgIC8vIGFueSBzdHlsZXMgaW4gTGl0IGNvbnRlbnQgcmVuZGVyIGJlZm9yZSBhZG9wdGVkU3R5bGVTaGVldHMuIFRoaXMgaXNcbiAgICAgICAgLy8gaW1wb3J0YW50IHNvIHRoYXQgYWRvcHRlZFN0eWxlU2hlZXRzIGhhdmUgcHJlY2VkZW5jZSBvdmVyIHN0eWxlcyBpblxuICAgICAgICAvLyB0aGUgc2hhZG93Um9vdC5cbiAgICAgICAgKF9hID0gKF9iID0gdGhpcy5yZW5kZXJPcHRpb25zKS5yZW5kZXJCZWZvcmUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChfYi5yZW5kZXJCZWZvcmUgPSByZW5kZXJSb290LmZpcnN0Q2hpbGQpO1xuICAgICAgICByZXR1cm4gcmVuZGVyUm9vdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXNcbiAgICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICAgKiB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXIgYW5vdGhlciB1cGRhdGUuXG4gICAgICogQHBhcmFtIGNoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICAgKi9cbiAgICB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgLy8gU2V0dGluZyBwcm9wZXJ0aWVzIGluIGByZW5kZXJgIHNob3VsZCBub3QgdHJpZ2dlciBhbiB1cGRhdGUuIFNpbmNlXG4gICAgICAgIC8vIHVwZGF0ZXMgYXJlIGFsbG93ZWQgYWZ0ZXIgc3VwZXIudXBkYXRlLCBpdCdzIGltcG9ydGFudCB0byBjYWxsIGByZW5kZXJgXG4gICAgICAgIC8vIGJlZm9yZSB0aGF0LlxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmVuZGVyKCk7XG4gICAgICAgIGlmICghdGhpcy5oYXNVcGRhdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlck9wdGlvbnMuaXNDb25uZWN0ZWQgPSB0aGlzLmlzQ29ubmVjdGVkO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMuX19jaGlsZFBhcnQgPSByZW5kZXIodmFsdWUsIHRoaXMucmVuZGVyUm9vdCwgdGhpcy5yZW5kZXJPcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgYWRkZWQgdG8gdGhlIGRvY3VtZW50J3MgRE9NLlxuICAgICAqXG4gICAgICogSW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHlvdSBzaG91bGQgc2V0dXAgdGFza3MgdGhhdCBzaG91bGQgb25seSBvY2N1ciB3aGVuXG4gICAgICogdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIHRoZSBkb2N1bWVudC4gVGhlIG1vc3QgY29tbW9uIG9mIHRoZXNlIGlzXG4gICAgICogYWRkaW5nIGV2ZW50IGxpc3RlbmVycyB0byBub2RlcyBleHRlcm5hbCB0byB0aGUgZWxlbWVudCwgbGlrZSBhIGtleWRvd25cbiAgICAgKiBldmVudCBoYW5kbGVyIGFkZGVkIHRvIHRoZSB3aW5kb3cuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAqICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgKiAgIGFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVLZXlkb3duKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUeXBpY2FsbHksIGFueXRoaW5nIGRvbmUgaW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHNob3VsZCBiZSB1bmRvbmUgd2hlbiB0aGVcbiAgICAgKiBlbGVtZW50IGlzIGRpc2Nvbm5lY3RlZCwgaW4gYGRpc2Nvbm5lY3RlZENhbGxiYWNrKClgLlxuICAgICAqXG4gICAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIChfYSA9IHRoaXMuX19jaGlsZFBhcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRDb25uZWN0ZWQodHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZG9jdW1lbnQncyBET00uXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGlzIHRoZSBtYWluIHNpZ25hbCB0byB0aGUgZWxlbWVudCB0aGF0IGl0IG1heSBubyBsb25nZXIgYmVcbiAgICAgKiB1c2VkLiBgZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgc2hvdWxkIGVuc3VyZSB0aGF0IG5vdGhpbmcgaXMgaG9sZGluZyBhXG4gICAgICogcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IChzdWNoIGFzIGV2ZW50IGxpc3RlbmVycyBhZGRlZCB0byBub2RlcyBleHRlcm5hbFxuICAgICAqIHRvIHRoZSBlbGVtZW50KSwgc28gdGhhdCBpdCBpcyBmcmVlIHRvIGJlIGdhcmJhZ2UgY29sbGVjdGVkLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgKiAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICogICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEFuIGVsZW1lbnQgbWF5IGJlIHJlLWNvbm5lY3RlZCBhZnRlciBiZWluZyBkaXNjb25uZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAgICovXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgKF9hID0gdGhpcy5fX2NoaWxkUGFydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldENvbm5lY3RlZChmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgb24gZWFjaCB1cGRhdGUgdG8gcGVyZm9ybSByZW5kZXJpbmcgdGFza3MuIFRoaXMgbWV0aG9kIG1heSByZXR1cm5cbiAgICAgKiBhbnkgdmFsdWUgcmVuZGVyYWJsZSBieSBsaXQtaHRtbCdzIGBDaGlsZFBhcnRgIC0gdHlwaWNhbGx5IGFcbiAgICAgKiBgVGVtcGxhdGVSZXN1bHRgLiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgICAqIHRoZSBlbGVtZW50IHRvIHVwZGF0ZS5cbiAgICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gbm9DaGFuZ2U7XG4gICAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhpcyBjbGFzcyBpcyBtYXJrZWQgYXMgYGZpbmFsaXplZGAgYXMgYW4gb3B0aW1pemF0aW9uIGVuc3VyaW5nXG4gKiBpdCB3aWxsIG5vdCBuZWVkbGVzc2x5IHRyeSB0byBgZmluYWxpemVgLlxuICpcbiAqIE5vdGUgdGhpcyBwcm9wZXJ0eSBuYW1lIGlzIGEgc3RyaW5nIHRvIHByZXZlbnQgYnJlYWtpbmcgQ2xvc3VyZSBKUyBDb21waWxlclxuICogb3B0aW1pemF0aW9ucy4gU2VlIEBsaXQvcmVhY3RpdmUtZWxlbWVudCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuTGl0RWxlbWVudFsnZmluYWxpemVkJ10gPSB0cnVlO1xuLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbkxpdEVsZW1lbnRbJ18kbGl0RWxlbWVudCQnXSA9IHRydWU7XG4vLyBJbnN0YWxsIGh5ZHJhdGlvbiBpZiBhdmFpbGFibGVcbihfYiA9IGdsb2JhbFRoaXMubGl0RWxlbWVudEh5ZHJhdGVTdXBwb3J0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChnbG9iYWxUaGlzLCB7IExpdEVsZW1lbnQgfSk7XG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICAgID8gZ2xvYmFsVGhpcy5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICAgIDogZ2xvYmFsVGhpcy5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0O1xucG9seWZpbGxTdXBwb3J0ID09PSBudWxsIHx8IHBvbHlmaWxsU3VwcG9ydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9seWZpbGxTdXBwb3J0KHsgTGl0RWxlbWVudCB9KTtcbi8vIERFViBtb2RlIHdhcm5pbmdzXG5pZiAoREVWX01PREUpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4gICAgLy8gTm90ZSwgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBjbG9zdXJlIGNvbXBpbGF0aW9uLCB0aGlzIGFjY2Vzc1xuICAgIC8vIG5lZWRzIHRvIGJlIGFzIGEgc3RyaW5nIHByb3BlcnR5IGluZGV4LlxuICAgIExpdEVsZW1lbnRbJ2ZpbmFsaXplJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsaXplZCA9IFJlYWN0aXZlRWxlbWVudC5maW5hbGl6ZS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoIWZpbmFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdhcm5SZW1vdmVkT3JSZW5hbWVkID0gKG9iaiwgbmFtZSwgcmVuYW1lZCA9IGZhbHNlKSA9PiB7XG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3Rvck5hbWUgPSAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJyA/IG9iaiA6IG9iai5jb25zdHJ1Y3RvcilcbiAgICAgICAgICAgICAgICAgICAgLm5hbWU7XG4gICAgICAgICAgICAgICAgaXNzdWVXYXJuaW5nKHJlbmFtZWQgPyAncmVuYW1lZC1hcGknIDogJ3JlbW92ZWQtYXBpJywgYFxcYCR7bmFtZX1cXGAgaXMgaW1wbGVtZW50ZWQgb24gY2xhc3MgJHtjdG9yTmFtZX0uIEl0IGAgK1xuICAgICAgICAgICAgICAgICAgICBgaGFzIGJlZW4gJHtyZW5hbWVkID8gJ3JlbmFtZWQnIDogJ3JlbW92ZWQnfSBgICtcbiAgICAgICAgICAgICAgICAgICAgYGluIHRoaXMgdmVyc2lvbiBvZiBMaXRFbGVtZW50LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB3YXJuUmVtb3ZlZE9yUmVuYW1lZCh0aGlzLCAncmVuZGVyJyk7XG4gICAgICAgIHdhcm5SZW1vdmVkT3JSZW5hbWVkKHRoaXMsICdnZXRTdHlsZXMnLCB0cnVlKTtcbiAgICAgICAgd2FyblJlbW92ZWRPclJlbmFtZWQodGhpcy5wcm90b3R5cGUsICdhZG9wdFN0eWxlcycpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xufVxuLyoqXG4gKiBFTkQgVVNFUlMgU0hPVUxEIE5PVCBSRUxZIE9OIFRISVMgT0JKRUNULlxuICpcbiAqIFByaXZhdGUgZXhwb3J0cyBmb3IgdXNlIGJ5IG90aGVyIExpdCBwYWNrYWdlcywgbm90IGludGVuZGVkIGZvciB1c2UgYnlcbiAqIGV4dGVybmFsIHVzZXJzLlxuICpcbiAqIFdlIGN1cnJlbnRseSBkbyBub3QgbWFrZSBhIG1hbmdsZWQgcm9sbHVwIGJ1aWxkIG9mIHRoZSBsaXQtc3NyIGNvZGUuIEluIG9yZGVyXG4gKiB0byBrZWVwIGEgbnVtYmVyIG9mIChvdGhlcndpc2UgcHJpdmF0ZSkgdG9wLWxldmVsIGV4cG9ydHMgIG1hbmdsZWQgaW4gdGhlXG4gKiBjbGllbnQgc2lkZSBjb2RlLCB3ZSBleHBvcnQgYSBfJExFIG9iamVjdCBjb250YWluaW5nIHRob3NlIG1lbWJlcnMgKG9yXG4gKiBoZWxwZXIgbWV0aG9kcyBmb3IgYWNjZXNzaW5nIHByaXZhdGUgZmllbGRzIG9mIHRob3NlIG1lbWJlcnMpLCBhbmQgdGhlblxuICogcmUtZXhwb3J0IHRoZW0gZm9yIHVzZSBpbiBsaXQtc3NyLiBUaGlzIGtlZXBzIGxpdC1zc3IgYWdub3N0aWMgdG8gd2hldGhlciB0aGVcbiAqIGNsaWVudC1zaWRlIGNvZGUgaXMgYmVpbmcgdXNlZCBpbiBgZGV2YCBtb2RlIG9yIGBwcm9kYCBtb2RlLlxuICpcbiAqIFRoaXMgaGFzIGEgdW5pcXVlIG5hbWUsIHRvIGRpc2FtYmlndWF0ZSBpdCBmcm9tIHByaXZhdGUgZXhwb3J0cyBpblxuICogbGl0LWh0bWwsIHNpbmNlIHRoaXMgbW9kdWxlIHJlLWV4cG9ydHMgYWxsIG9mIGxpdC1odG1sLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfJExFID0ge1xuICAgIF8kYXR0cmlidXRlVG9Qcm9wZXJ0eTogKGVsLCBuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgZWwuXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICB9LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIF8kY2hhbmdlZFByb3BlcnRpZXM6IChlbCkgPT4gZWwuXyRjaGFuZ2VkUHJvcGVydGllcyxcbn07XG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIExpdEVsZW1lbnQgdXNhZ2UuXG4oKF9jID0gZ2xvYmFsVGhpcy5saXRFbGVtZW50VmVyc2lvbnMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IChnbG9iYWxUaGlzLmxpdEVsZW1lbnRWZXJzaW9ucyA9IFtdKSkucHVzaCgnMy4zLjMnKTtcbmlmIChERVZfTU9ERSAmJiBnbG9iYWxUaGlzLmxpdEVsZW1lbnRWZXJzaW9ucy5sZW5ndGggPiAxKSB7XG4gICAgaXNzdWVXYXJuaW5nKCdtdWx0aXBsZS12ZXJzaW9ucycsIGBNdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgbG9hZGVkLiBMb2FkaW5nIG11bHRpcGxlIHZlcnNpb25zIGAgK1xuICAgICAgICBgaXMgbm90IHJlY29tbWVuZGVkLmApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0LWVsZW1lbnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-element/development/lit-element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directive.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directive.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Directive: () => (/* binding */ Directive),\n/* harmony export */   PartType: () => (/* binding */ PartType),\n/* harmony export */   directive: () => (/* binding */ directive)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst PartType = {\n    ATTRIBUTE: 1,\n    CHILD: 2,\n    PROPERTY: 3,\n    BOOLEAN_ATTRIBUTE: 4,\n    EVENT: 5,\n    ELEMENT: 6,\n};\n/**\n * Creates a user-facing directive function from a Directive class. This\n * function has the same parameters as the directive's render() method.\n */\nconst directive = (c) => (...values) => ({\n    // This property needs to remain unminified.\n    ['_$litDirective$']: c,\n    values,\n});\n/**\n * Base class for creating custom directives. Users should extend this class,\n * implement `render` and/or `update`, and then pass their subclass to\n * `directive`.\n */\nclass Directive {\n    constructor(_partInfo) { }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    /** @internal */\n    _$initialize(part, parent, attributeIndex) {\n        this.__part = part;\n        this._$parent = parent;\n        this.__attributeIndex = attributeIndex;\n    }\n    /** @internal */\n    _$resolve(part, props) {\n        return this.update(part, props);\n    }\n    update(_part, props) {\n        return this.render(...props);\n    }\n}\n\n\n//# sourceMappingURL=directive.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvZGlyZWN0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFMEM7QUFDMUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9saXQtaHRtbC9ub2RlL2RldmVsb3BtZW50L2RpcmVjdGl2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmNvbnN0IFBhcnRUeXBlID0ge1xuICAgIEFUVFJJQlVURTogMSxcbiAgICBDSElMRDogMixcbiAgICBQUk9QRVJUWTogMyxcbiAgICBCT09MRUFOX0FUVFJJQlVURTogNCxcbiAgICBFVkVOVDogNSxcbiAgICBFTEVNRU5UOiA2LFxufTtcbi8qKlxuICogQ3JlYXRlcyBhIHVzZXItZmFjaW5nIGRpcmVjdGl2ZSBmdW5jdGlvbiBmcm9tIGEgRGlyZWN0aXZlIGNsYXNzLiBUaGlzXG4gKiBmdW5jdGlvbiBoYXMgdGhlIHNhbWUgcGFyYW1ldGVycyBhcyB0aGUgZGlyZWN0aXZlJ3MgcmVuZGVyKCkgbWV0aG9kLlxuICovXG5jb25zdCBkaXJlY3RpdmUgPSAoYykgPT4gKC4uLnZhbHVlcykgPT4gKHtcbiAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIFsnXyRsaXREaXJlY3RpdmUkJ106IGMsXG4gICAgdmFsdWVzLFxufSk7XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGNyZWF0aW5nIGN1c3RvbSBkaXJlY3RpdmVzLiBVc2VycyBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MsXG4gKiBpbXBsZW1lbnQgYHJlbmRlcmAgYW5kL29yIGB1cGRhdGVgLCBhbmQgdGhlbiBwYXNzIHRoZWlyIHN1YmNsYXNzIHRvXG4gKiBgZGlyZWN0aXZlYC5cbiAqL1xuY2xhc3MgRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihfcGFydEluZm8pIHsgfVxuICAgIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF8kaW5pdGlhbGl6ZShwYXJ0LCBwYXJlbnQsIGF0dHJpYnV0ZUluZGV4KSB7XG4gICAgICAgIHRoaXMuX19wYXJ0ID0gcGFydDtcbiAgICAgICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5fX2F0dHJpYnV0ZUluZGV4ID0gYXR0cmlidXRlSW5kZXg7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfJHJlc29sdmUocGFydCwgcHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKHBhcnQsIHByb3BzKTtcbiAgICB9XG4gICAgdXBkYXRlKF9wYXJ0LCBwcm9wcykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXIoLi4ucHJvcHMpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgRGlyZWN0aXZlLCBQYXJ0VHlwZSwgZGlyZWN0aXZlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXJlY3RpdmUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directive.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/class-map.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/class-map.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   classMap: () => (/* binding */ classMap)\n/* harmony export */ });\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lit-html.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\");\n/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../directive.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directive.js\");\n\n\n\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nclass ClassMapDirective extends _directive_js__WEBPACK_IMPORTED_MODULE_1__.Directive {\n    constructor(partInfo) {\n        var _a;\n        super(partInfo);\n        if (partInfo.type !== _directive_js__WEBPACK_IMPORTED_MODULE_1__.PartType.ATTRIBUTE ||\n            partInfo.name !== 'class' ||\n            ((_a = partInfo.strings) === null || _a === void 0 ? void 0 : _a.length) > 2) {\n            throw new Error('`classMap()` can only be used in the `class` attribute ' +\n                'and must be the only part in the attribute.');\n        }\n    }\n    render(classInfo) {\n        // Add spaces to ensure separation from static classes\n        return (' ' +\n            Object.keys(classInfo)\n                .filter((key) => classInfo[key])\n                .join(' ') +\n            ' ');\n    }\n    update(part, [classInfo]) {\n        var _a, _b;\n        // Remember dynamic classes on the first render\n        if (this._previousClasses === undefined) {\n            this._previousClasses = new Set();\n            if (part.strings !== undefined) {\n                this._staticClasses = new Set(part.strings\n                    .join(' ')\n                    .split(/\\s/)\n                    .filter((s) => s !== ''));\n            }\n            for (const name in classInfo) {\n                if (classInfo[name] && !((_a = this._staticClasses) === null || _a === void 0 ? void 0 : _a.has(name))) {\n                    this._previousClasses.add(name);\n                }\n            }\n            return this.render(classInfo);\n        }\n        const classList = part.element.classList;\n        // Remove old classes that no longer apply\n        // We use forEach() instead of for-of so that we don't require down-level\n        // iteration.\n        this._previousClasses.forEach((name) => {\n            if (!(name in classInfo)) {\n                classList.remove(name);\n                this._previousClasses.delete(name);\n            }\n        });\n        // Add or remove classes based on their classMap value\n        for (const name in classInfo) {\n            // We explicitly want a loose truthy check of `value` because it seems\n            // more convenient that '' and 0 are skipped.\n            const value = !!classInfo[name];\n            if (value !== this._previousClasses.has(name) &&\n                !((_b = this._staticClasses) === null || _b === void 0 ? void 0 : _b.has(name))) {\n                if (value) {\n                    classList.add(name);\n                    this._previousClasses.add(name);\n                }\n                else {\n                    classList.remove(name);\n                    this._previousClasses.delete(name);\n                }\n            }\n        }\n        return _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.noChange;\n    }\n}\n/**\n * A directive that applies dynamic CSS classes.\n *\n * This must be used in the `class` attribute and must be the only part used in\n * the attribute. It takes each property in the `classInfo` argument and adds\n * the property name to the element's `classList` if the property value is\n * truthy; if the property value is falsey, the property name is removed from\n * the element's `class`.\n *\n * For example `{foo: bar}` applies the class `foo` if the value of `bar` is\n * truthy.\n *\n * @param classInfo\n */\nconst classMap = (0,_directive_js__WEBPACK_IMPORTED_MODULE_1__.directive)(ClassMapDirective);\n\n\n//# sourceMappingURL=class-map.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvZGlyZWN0aXZlcy9jbGFzcy1tYXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBDO0FBQ3VCOztBQUVqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG9EQUFTO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtREFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtEQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFTOztBQUVOO0FBQ3BCIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbm9kZS9kZXZlbG9wbWVudC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBub0NoYW5nZSB9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcbmltcG9ydCB7IGRpcmVjdGl2ZSwgRGlyZWN0aXZlLCBQYXJ0VHlwZSB9IGZyb20gJy4uL2RpcmVjdGl2ZS5qcyc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY2xhc3MgQ2xhc3NNYXBEaXJlY3RpdmUgZXh0ZW5kcyBEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKHBhcnRJbmZvKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIocGFydEluZm8pO1xuICAgICAgICBpZiAocGFydEluZm8udHlwZSAhPT0gUGFydFR5cGUuQVRUUklCVVRFIHx8XG4gICAgICAgICAgICBwYXJ0SW5mby5uYW1lICE9PSAnY2xhc3MnIHx8XG4gICAgICAgICAgICAoKF9hID0gcGFydEluZm8uc3RyaW5ncykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPiAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BjbGFzc01hcCgpYCBjYW4gb25seSBiZSB1c2VkIGluIHRoZSBgY2xhc3NgIGF0dHJpYnV0ZSAnICtcbiAgICAgICAgICAgICAgICAnYW5kIG11c3QgYmUgdGhlIG9ubHkgcGFydCBpbiB0aGUgYXR0cmlidXRlLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlcihjbGFzc0luZm8pIHtcbiAgICAgICAgLy8gQWRkIHNwYWNlcyB0byBlbnN1cmUgc2VwYXJhdGlvbiBmcm9tIHN0YXRpYyBjbGFzc2VzXG4gICAgICAgIHJldHVybiAoJyAnICtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGNsYXNzSW5mbylcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChrZXkpID0+IGNsYXNzSW5mb1trZXldKVxuICAgICAgICAgICAgICAgIC5qb2luKCcgJykgK1xuICAgICAgICAgICAgJyAnKTtcbiAgICB9XG4gICAgdXBkYXRlKHBhcnQsIFtjbGFzc0luZm9dKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIC8vIFJlbWVtYmVyIGR5bmFtaWMgY2xhc3NlcyBvbiB0aGUgZmlyc3QgcmVuZGVyXG4gICAgICAgIGlmICh0aGlzLl9wcmV2aW91c0NsYXNzZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNDbGFzc2VzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgaWYgKHBhcnQuc3RyaW5ncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGljQ2xhc3NlcyA9IG5ldyBTZXQocGFydC5zdHJpbmdzXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJylcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KC9cXHMvKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChzKSA9PiBzICE9PSAnJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGNsYXNzSW5mbykge1xuICAgICAgICAgICAgICAgIGlmIChjbGFzc0luZm9bbmFtZV0gJiYgISgoX2EgPSB0aGlzLl9zdGF0aWNDbGFzc2VzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGFzKG5hbWUpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmV2aW91c0NsYXNzZXMuYWRkKG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcihjbGFzc0luZm8pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IHBhcnQuZWxlbWVudC5jbGFzc0xpc3Q7XG4gICAgICAgIC8vIFJlbW92ZSBvbGQgY2xhc3NlcyB0aGF0IG5vIGxvbmdlciBhcHBseVxuICAgICAgICAvLyBXZSB1c2UgZm9yRWFjaCgpIGluc3RlYWQgb2YgZm9yLW9mIHNvIHRoYXQgd2UgZG9uJ3QgcmVxdWlyZSBkb3duLWxldmVsXG4gICAgICAgIC8vIGl0ZXJhdGlvbi5cbiAgICAgICAgdGhpcy5fcHJldmlvdXNDbGFzc2VzLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gY2xhc3NJbmZvKSkge1xuICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUobmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNDbGFzc2VzLmRlbGV0ZShuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFkZCBvciByZW1vdmUgY2xhc3NlcyBiYXNlZCBvbiB0aGVpciBjbGFzc01hcCB2YWx1ZVxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gY2xhc3NJbmZvKSB7XG4gICAgICAgICAgICAvLyBXZSBleHBsaWNpdGx5IHdhbnQgYSBsb29zZSB0cnV0aHkgY2hlY2sgb2YgYHZhbHVlYCBiZWNhdXNlIGl0IHNlZW1zXG4gICAgICAgICAgICAvLyBtb3JlIGNvbnZlbmllbnQgdGhhdCAnJyBhbmQgMCBhcmUgc2tpcHBlZC5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gISFjbGFzc0luZm9bbmFtZV07XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3ByZXZpb3VzQ2xhc3Nlcy5oYXMobmFtZSkgJiZcbiAgICAgICAgICAgICAgICAhKChfYiA9IHRoaXMuX3N0YXRpY0NsYXNzZXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5oYXMobmFtZSkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzQ2xhc3Nlcy5hZGQobmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmV2aW91c0NsYXNzZXMuZGVsZXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9DaGFuZ2U7XG4gICAgfVxufVxuLyoqXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IGFwcGxpZXMgZHluYW1pYyBDU1MgY2xhc3Nlcy5cbiAqXG4gKiBUaGlzIG11c3QgYmUgdXNlZCBpbiB0aGUgYGNsYXNzYCBhdHRyaWJ1dGUgYW5kIG11c3QgYmUgdGhlIG9ubHkgcGFydCB1c2VkIGluXG4gKiB0aGUgYXR0cmlidXRlLiBJdCB0YWtlcyBlYWNoIHByb3BlcnR5IGluIHRoZSBgY2xhc3NJbmZvYCBhcmd1bWVudCBhbmQgYWRkc1xuICogdGhlIHByb3BlcnR5IG5hbWUgdG8gdGhlIGVsZW1lbnQncyBgY2xhc3NMaXN0YCBpZiB0aGUgcHJvcGVydHkgdmFsdWUgaXNcbiAqIHRydXRoeTsgaWYgdGhlIHByb3BlcnR5IHZhbHVlIGlzIGZhbHNleSwgdGhlIHByb3BlcnR5IG5hbWUgaXMgcmVtb3ZlZCBmcm9tXG4gKiB0aGUgZWxlbWVudCdzIGBjbGFzc2AuXG4gKlxuICogRm9yIGV4YW1wbGUgYHtmb286IGJhcn1gIGFwcGxpZXMgdGhlIGNsYXNzIGBmb29gIGlmIHRoZSB2YWx1ZSBvZiBgYmFyYCBpc1xuICogdHJ1dGh5LlxuICpcbiAqIEBwYXJhbSBjbGFzc0luZm9cbiAqL1xuY29uc3QgY2xhc3NNYXAgPSBkaXJlY3RpdmUoQ2xhc3NNYXBEaXJlY3RpdmUpO1xuXG5leHBvcnQgeyBjbGFzc01hcCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xhc3MtbWFwLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/class-map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/if-defined.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/if-defined.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ifDefined: () => (/* binding */ ifDefined)\n/* harmony export */ });\n/* harmony import */ var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lit-html.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\");\n\n\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * For AttributeParts, sets the attribute if the value is defined and removes\n * the attribute if the value is undefined.\n *\n * For other part types, this directive is a no-op.\n */\nconst ifDefined = (value) => value !== null && value !== void 0 ? value : _lit_html_js__WEBPACK_IMPORTED_MODULE_0__.nothing;\n\n\n//# sourceMappingURL=if-defined.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvZGlyZWN0aXZlcy9pZi1kZWZpbmVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlDOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLGlEQUFPOztBQUU1RDtBQUNyQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvZGlyZWN0aXZlcy9pZi1kZWZpbmVkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5vdGhpbmcgfSBmcm9tICcuLi9saXQtaHRtbC5qcyc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuLyoqXG4gKiBGb3IgQXR0cmlidXRlUGFydHMsIHNldHMgdGhlIGF0dHJpYnV0ZSBpZiB0aGUgdmFsdWUgaXMgZGVmaW5lZCBhbmQgcmVtb3Zlc1xuICogdGhlIGF0dHJpYnV0ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLlxuICpcbiAqIEZvciBvdGhlciBwYXJ0IHR5cGVzLCB0aGlzIGRpcmVjdGl2ZSBpcyBhIG5vLW9wLlxuICovXG5jb25zdCBpZkRlZmluZWQgPSAodmFsdWUpID0+IHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDAgPyB2YWx1ZSA6IG5vdGhpbmc7XG5cbmV4cG9ydCB7IGlmRGVmaW5lZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWYtZGVmaW5lZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/if-defined.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/is-server.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/is-server.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isServer: () => (/* binding */ isServer)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n/**\n * @fileoverview\n *\n * This file exports a boolean const whose value will depend on what environment\n * the module is being imported from.\n */\nconst NODE_MODE = true;\n/**\n * A boolean that will be `true` in server environments like Node, and `false`\n * in browser environments. Note that your server environment or toolchain must\n * support the `\"node\"` export condition for this to be `true`.\n *\n * This can be used when authoring components to change behavior based on\n * whether or not the component is executing in an SSR context.\n */\nconst isServer = NODE_MODE;\n\n\n//# sourceMappingURL=is-server.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvaXMtc2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9CO0FBQ3BCIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbm9kZS9kZXZlbG9wbWVudC9pcy1zZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqXG4gKiBUaGlzIGZpbGUgZXhwb3J0cyBhIGJvb2xlYW4gY29uc3Qgd2hvc2UgdmFsdWUgd2lsbCBkZXBlbmQgb24gd2hhdCBlbnZpcm9ubWVudFxuICogdGhlIG1vZHVsZSBpcyBiZWluZyBpbXBvcnRlZCBmcm9tLlxuICovXG5jb25zdCBOT0RFX01PREUgPSB0cnVlO1xuLyoqXG4gKiBBIGJvb2xlYW4gdGhhdCB3aWxsIGJlIGB0cnVlYCBpbiBzZXJ2ZXIgZW52aXJvbm1lbnRzIGxpa2UgTm9kZSwgYW5kIGBmYWxzZWBcbiAqIGluIGJyb3dzZXIgZW52aXJvbm1lbnRzLiBOb3RlIHRoYXQgeW91ciBzZXJ2ZXIgZW52aXJvbm1lbnQgb3IgdG9vbGNoYWluIG11c3RcbiAqIHN1cHBvcnQgdGhlIGBcIm5vZGVcImAgZXhwb3J0IGNvbmRpdGlvbiBmb3IgdGhpcyB0byBiZSBgdHJ1ZWAuXG4gKlxuICogVGhpcyBjYW4gYmUgdXNlZCB3aGVuIGF1dGhvcmluZyBjb21wb25lbnRzIHRvIGNoYW5nZSBiZWhhdmlvciBiYXNlZCBvblxuICogd2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCBpcyBleGVjdXRpbmcgaW4gYW4gU1NSIGNvbnRleHQuXG4gKi9cbmNvbnN0IGlzU2VydmVyID0gTk9ERV9NT0RFO1xuXG5leHBvcnQgeyBpc1NlcnZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtc2VydmVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/is-server.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _$LH: () => (/* binding */ _$LH),\n/* harmony export */   html: () => (/* binding */ html),\n/* harmony export */   noChange: () => (/* binding */ noChange),\n/* harmony export */   nothing: () => (/* binding */ nothing),\n/* harmony export */   render: () => (/* binding */ render),\n/* harmony export */   svg: () => (/* binding */ svg)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar _a, _d;\n// Use window for browser builds because IE11 doesn't have globalThis.\nconst global = globalThis ;\n/**\n * Useful for visualizing and logging insights into what the Lit template system is doing.\n *\n * Compiled out of prod mode builds.\n */\nconst debugLogEvent = (event) => {\n        const shouldEmit = global\n            .emitLitDebugLogEvents;\n        if (!shouldEmit) {\n            return;\n        }\n        global.dispatchEvent(new CustomEvent('lit-debug', {\n            detail: event,\n        }));\n    }\n    ;\n// Used for connecting beginRender and endRender events when there are nested\n// renders when errors are thrown preventing an endRender event from being\n// called.\nlet debugLogRenderId = 0;\nlet issueWarning;\n{\n    (_a = global.litIssuedWarnings) !== null && _a !== void 0 ? _a : (global.litIssuedWarnings = new Set());\n    // Issue a warning, if we haven't already.\n    issueWarning = (code, warning) => {\n        warning += code\n            ? ` See https://lit.dev/msg/${code} for more information.`\n            : '';\n        if (!global.litIssuedWarnings.has(warning)) {\n            console.warn(warning);\n            global.litIssuedWarnings.add(warning);\n        }\n    };\n    issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);\n}\nconst wrap = (node) => node;\nconst trustedTypes = global.trustedTypes;\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = trustedTypes\n    ? trustedTypes.createPolicy('lit-html', {\n        createHTML: (s) => s,\n    })\n    : undefined;\nconst identityFunction = (value) => value;\nconst noopSanitizer = (_node, _name, _type) => identityFunction;\n/** Sets the global sanitizer factory. */\nconst setSanitizer = (newSanitizer) => {\n    if (sanitizerFactoryInternal !== noopSanitizer) {\n        throw new Error(`Attempted to overwrite existing lit-html security policy.` +\n            ` setSanitizeDOMValueFactory should be called at most once.`);\n    }\n    sanitizerFactoryInternal = newSanitizer;\n};\n/**\n * Only used in internal tests, not a part of the public API.\n */\nconst _testOnlyClearSanitizerFactoryDoNotCallOrElse = () => {\n    sanitizerFactoryInternal = noopSanitizer;\n};\nconst createSanitizer = (node, name, type) => {\n    return sanitizerFactoryInternal(node, name, type);\n};\n// Added to an attribute name to mark the attribute as bound so we can find\n// it easily.\nconst boundAttributeSuffix = '$lit$';\n// This marker is used in many syntactic positions in HTML, so it must be\n// a valid element name and attribute name. We don't support dynamic names (yet)\n// but this at least ensures that the parse tree is closer to the template\n// intention.\nconst marker = `lit$${String(Math.random()).slice(9)}$`;\n// String used to tell if a comment is a marker comment\nconst markerMatch = '?' + marker;\n// Text used to insert a comment marker node. We use processing instruction\n// syntax because it's slightly smaller, but parses as a comment node.\nconst nodeMarker = `<${markerMatch}>`;\nconst d = global.document === undefined\n    ? {\n        createTreeWalker() {\n            return {};\n        },\n    }\n    : document;\n// Creates a dynamic marker. We never have to search for these in the DOM.\nconst createMarker = () => d.createComment('');\nconst isPrimitive = (value) => value === null || (typeof value != 'object' && typeof value != 'function');\nconst isArray = Array.isArray;\nconst isIterable = (value) => isArray(value) ||\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    typeof (value === null || value === void 0 ? void 0 : value[Symbol.iterator]) === 'function';\nconst SPACE_CHAR = `[ \\t\\n\\f\\r]`;\nconst ATTR_VALUE_CHAR = `[^ \\t\\n\\f\\r\"'\\`<>=]`;\nconst NAME_CHAR = `[^\\\\s\"'>=/]`;\n// These regexes represent the five parsing states that we care about in the\n// Template's HTML scanner. They match the *end* of the state they're named\n// after.\n// Depending on the match, we transition to a new state. If there's no match,\n// we stay in the same state.\n// Note that the regexes are stateful. We utilize lastIndex and sync it\n// across the multiple regexes used. In addition to the five regexes below\n// we also dynamically create a regex to find the matching end tags for raw\n// text elements.\n/**\n * End of text is: `<` followed by:\n *   (comment start) or (tag) or (dynamic tag binding)\n */\nconst textEndRegex = /<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g;\nconst COMMENT_START = 1;\nconst TAG_NAME = 2;\nconst DYNAMIC_TAG_NAME = 3;\nconst commentEndRegex = /-->/g;\n/**\n * Comments not started with <!--, like </{, can be ended by a single `>`\n */\nconst comment2EndRegex = />/g;\n/**\n * The tagEnd regex matches the end of the \"inside an opening\" tag syntax\n * position. It either matches a `>`, an attribute-like sequence, or the end\n * of the string after a space (attribute-name position ending).\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\t\\n\\f\\r\" are HTML space characters:\n * https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * So an attribute is:\n *  * The name: any character except a whitespace character, (\"), ('), \">\",\n *    \"=\", or \"/\". Note: this is different from the HTML spec which also excludes control characters.\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nconst tagEndRegex = new RegExp(`>|${SPACE_CHAR}(?:(${NAME_CHAR}+)(${SPACE_CHAR}*=${SPACE_CHAR}*(?:${ATTR_VALUE_CHAR}|(\"|')|))|$)`, 'g');\nconst ENTIRE_MATCH = 0;\nconst ATTRIBUTE_NAME = 1;\nconst SPACES_AND_EQUALS = 2;\nconst QUOTE_CHAR = 3;\nconst singleQuoteAttrEndRegex = /'/g;\nconst doubleQuoteAttrEndRegex = /\"/g;\n/**\n * Matches the raw text elements.\n *\n * Comments are not parsed within raw text elements, so we need to search their\n * text content for marker strings.\n */\nconst rawTextElement = /^(?:script|style|textarea|title)$/i;\n/** TemplateResult types */\nconst HTML_RESULT = 1;\nconst SVG_RESULT = 2;\n// TemplatePart types\n// IMPORTANT: these must match the values in PartType\nconst ATTRIBUTE_PART = 1;\nconst CHILD_PART = 2;\nconst PROPERTY_PART = 3;\nconst BOOLEAN_ATTRIBUTE_PART = 4;\nconst EVENT_PART = 5;\nconst ELEMENT_PART = 6;\nconst COMMENT_PART = 7;\n/**\n * Generates a template literal tag function that returns a TemplateResult with\n * the given result type.\n */\nconst tag = (type) => (strings, ...values) => {\n    // Warn against templates octal escape sequences\n    // We do this here rather than in render so that the warning is closer to the\n    // template definition.\n    if (strings.some((s) => s === undefined)) {\n        console.warn('Some template strings are undefined.\\n' +\n            'This is probably caused by illegal octal escape sequences.');\n    }\n    return {\n        // This property needs to remain unminified.\n        ['_$litType$']: type,\n        strings,\n        values,\n    };\n};\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n *\n * ```ts\n * const header = (title: string) => html`<h1>${title}</h1>`;\n * ```\n *\n * The `html` tag returns a description of the DOM to render as a value. It is\n * lazy, meaning no work is done until the template is rendered. When rendering,\n * if a template comes from the same expression as a previously rendered result,\n * it's efficiently updated instead of replaced.\n */\nconst html = tag(HTML_RESULT);\n/**\n * Interprets a template literal as an SVG fragment that can efficiently\n * render to and update a container.\n *\n * ```ts\n * const rect = svg`<rect width=\"10\" height=\"10\"></rect>`;\n *\n * const myImage = html`\n *   <svg viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\">\n *     ${rect}\n *   </svg>`;\n * ```\n *\n * The `svg` *tag function* should only be used for SVG fragments, or elements\n * that would be contained **inside** an `<svg>` HTML element. A common error is\n * placing an `<svg>` *element* in a template tagged with the `svg` tag\n * function. The `<svg>` element is an HTML element and should be used within a\n * template tagged with the {@linkcode html} tag function.\n *\n * In LitElement usage, it's invalid to return an SVG fragment from the\n * `render()` method, as the SVG fragment will be contained within the element's\n * shadow root and thus cannot be used within an `<svg>` HTML element.\n */\nconst svg = tag(SVG_RESULT);\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nconst noChange = Symbol.for('lit-noChange');\n/**\n * A sentinel value that signals a ChildPart to fully clear its content.\n *\n * ```ts\n * const button = html`${\n *  user.isAdmin\n *    ? html`<button>DELETE</button>`\n *    : nothing\n * }`;\n * ```\n *\n * Prefer using `nothing` over other falsy values as it provides a consistent\n * behavior between various expression binding contexts.\n *\n * In child expressions, `undefined`, `null`, `''`, and `nothing` all behave the\n * same and render no nodes. In attribute expressions, `nothing` _removes_ the\n * attribute, while `undefined` and `null` will render an empty string. In\n * property expressions `nothing` becomes `undefined`.\n */\nconst nothing = Symbol.for('lit-nothing');\n/**\n * The cache of prepared templates, keyed by the tagged TemplateStringsArray\n * and _not_ accounting for the specific template tag used. This means that\n * template tags cannot be dynamic - the must statically be one of html, svg,\n * or attr. This restriction simplifies the cache lookup, which is on the hot\n * path for rendering.\n */\nconst templateCache = new WeakMap();\nconst walker = d.createTreeWalker(d, 129 /* NodeFilter.SHOW_{ELEMENT|COMMENT} */, null, false);\nlet sanitizerFactoryInternal = noopSanitizer;\nfunction trustFromTemplateString(tsa, stringFromTSA) {\n    // A security check to prevent spoofing of Lit template results.\n    // In the future, we may be able to replace this with Array.isTemplateObject,\n    // though we might need to make that check inside of the html and svg\n    // functions, because precompiled templates don't come in as\n    // TemplateStringArray objects.\n    if (!Array.isArray(tsa) || !tsa.hasOwnProperty('raw')) {\n        let message = 'invalid template strings array';\n        {\n            message = `\n          Internal Error: expected template strings to be an array\n          with a 'raw' field. Faking a template strings array by\n          calling html or svg like an ordinary function is effectively\n          the same as calling unsafeHtml and can lead to major security\n          issues, e.g. opening your code up to XSS attacks.\n          If you're using the html or svg tagged template functions normally\n          and still seeing this error, please file a bug at\n          https://github.com/lit/lit/issues/new?template=bug_report.md\n          and include information about your build tooling, if any.\n        `\n                .trim()\n                .replace(/\\n */g, '\\n');\n        }\n        throw new Error(message);\n    }\n    return policy !== undefined\n        ? policy.createHTML(stringFromTSA)\n        : stringFromTSA;\n}\n/**\n * Returns an HTML string for the given TemplateStringsArray and result type\n * (HTML or SVG), along with the case-sensitive bound attribute names in\n * template order. The HTML contains comment markers denoting the `ChildPart`s\n * and suffixes on bound attributes denoting the `AttributeParts`.\n *\n * @param strings template strings array\n * @param type HTML or SVG\n * @return Array containing `[html, attrNames]` (array returned for terseness,\n *     to avoid object fields since this code is shared with non-minified SSR\n *     code)\n */\nconst getTemplateHtml = (strings, type) => {\n    // Insert makers into the template HTML to represent the position of\n    // bindings. The following code scans the template strings to determine the\n    // syntactic position of the bindings. They can be in text position, where\n    // we insert an HTML comment, attribute value position, where we insert a\n    // sentinel string and re-write the attribute name, or inside a tag where\n    // we insert the sentinel string.\n    const l = strings.length - 1;\n    // Stores the case-sensitive bound attribute names in the order of their\n    // parts. ElementParts are also reflected in this array as undefined\n    // rather than a string, to disambiguate from attribute bindings.\n    const attrNames = [];\n    let html = type === SVG_RESULT ? '<svg>' : '';\n    // When we're inside a raw text tag (not it's text content), the regex\n    // will still be tagRegex so we can find attributes, but will switch to\n    // this regex when the tag ends.\n    let rawTextEndRegex;\n    // The current parsing state, represented as a reference to one of the\n    // regexes\n    let regex = textEndRegex;\n    for (let i = 0; i < l; i++) {\n        const s = strings[i];\n        // The index of the end of the last attribute name. When this is\n        // positive at end of a string, it means we're in an attribute value\n        // position and need to rewrite the attribute name.\n        // We also use a special value of -2 to indicate that we encountered\n        // the end of a string in attribute name position.\n        let attrNameEndIndex = -1;\n        let attrName;\n        let lastIndex = 0;\n        let match;\n        // The conditions in this loop handle the current parse state, and the\n        // assignments to the `regex` variable are the state transitions.\n        while (lastIndex < s.length) {\n            // Make sure we start searching from where we previously left off\n            regex.lastIndex = lastIndex;\n            match = regex.exec(s);\n            if (match === null) {\n                break;\n            }\n            lastIndex = regex.lastIndex;\n            if (regex === textEndRegex) {\n                if (match[COMMENT_START] === '!--') {\n                    regex = commentEndRegex;\n                }\n                else if (match[COMMENT_START] !== undefined) {\n                    // We started a weird comment, like </{\n                    regex = comment2EndRegex;\n                }\n                else if (match[TAG_NAME] !== undefined) {\n                    if (rawTextElement.test(match[TAG_NAME])) {\n                        // Record if we encounter a raw-text element. We'll switch to\n                        // this regex at the end of the tag.\n                        rawTextEndRegex = new RegExp(`</${match[TAG_NAME]}`, 'g');\n                    }\n                    regex = tagEndRegex;\n                }\n                else if (match[DYNAMIC_TAG_NAME] !== undefined) {\n                    {\n                        throw new Error('Bindings in tag names are not supported. Please use static templates instead. ' +\n                            'See https://lit.dev/docs/templates/expressions/#static-expressions');\n                    }\n                }\n            }\n            else if (regex === tagEndRegex) {\n                if (match[ENTIRE_MATCH] === '>') {\n                    // End of a tag. If we had started a raw-text element, use that\n                    // regex\n                    regex = rawTextEndRegex !== null && rawTextEndRegex !== void 0 ? rawTextEndRegex : textEndRegex;\n                    // We may be ending an unquoted attribute value, so make sure we\n                    // clear any pending attrNameEndIndex\n                    attrNameEndIndex = -1;\n                }\n                else if (match[ATTRIBUTE_NAME] === undefined) {\n                    // Attribute name position\n                    attrNameEndIndex = -2;\n                }\n                else {\n                    attrNameEndIndex = regex.lastIndex - match[SPACES_AND_EQUALS].length;\n                    attrName = match[ATTRIBUTE_NAME];\n                    regex =\n                        match[QUOTE_CHAR] === undefined\n                            ? tagEndRegex\n                            : match[QUOTE_CHAR] === '\"'\n                                ? doubleQuoteAttrEndRegex\n                                : singleQuoteAttrEndRegex;\n                }\n            }\n            else if (regex === doubleQuoteAttrEndRegex ||\n                regex === singleQuoteAttrEndRegex) {\n                regex = tagEndRegex;\n            }\n            else if (regex === commentEndRegex || regex === comment2EndRegex) {\n                regex = textEndRegex;\n            }\n            else {\n                // Not one of the five state regexes, so it must be the dynamically\n                // created raw text regex and we're at the close of that element.\n                regex = tagEndRegex;\n                rawTextEndRegex = undefined;\n            }\n        }\n        {\n            // If we have a attrNameEndIndex, which indicates that we should\n            // rewrite the attribute name, assert that we're in a valid attribute\n            // position - either in a tag, or a quoted attribute value.\n            console.assert(attrNameEndIndex === -1 ||\n                regex === tagEndRegex ||\n                regex === singleQuoteAttrEndRegex ||\n                regex === doubleQuoteAttrEndRegex, 'unexpected parse state B');\n        }\n        // We have four cases:\n        //  1. We're in text position, and not in a raw text element\n        //     (regex === textEndRegex): insert a comment marker.\n        //  2. We have a non-negative attrNameEndIndex which means we need to\n        //     rewrite the attribute name to add a bound attribute suffix.\n        //  3. We're at the non-first binding in a multi-binding attribute, use a\n        //     plain marker.\n        //  4. We're somewhere else inside the tag. If we're in attribute name\n        //     position (attrNameEndIndex === -2), add a sequential suffix to\n        //     generate a unique attribute name.\n        // Detect a binding next to self-closing tag end and insert a space to\n        // separate the marker from the tag end:\n        const end = regex === tagEndRegex && strings[i + 1].startsWith('/>') ? ' ' : '';\n        html +=\n            regex === textEndRegex\n                ? s + nodeMarker\n                : attrNameEndIndex >= 0\n                    ? (attrNames.push(attrName),\n                        s.slice(0, attrNameEndIndex) +\n                            boundAttributeSuffix +\n                            s.slice(attrNameEndIndex)) +\n                        marker +\n                        end\n                    : s +\n                        marker +\n                        (attrNameEndIndex === -2 ? (attrNames.push(undefined), i) : end);\n    }\n    const htmlResult = html + (strings[l] || '<?>') + (type === SVG_RESULT ? '</svg>' : '');\n    // Returned as an array for terseness\n    return [trustFromTemplateString(strings, htmlResult), attrNames];\n};\nclass Template {\n    constructor(\n    // This property needs to remain unminified.\n    { strings, ['_$litType$']: type }, options) {\n        this.parts = [];\n        let node;\n        let nodeIndex = 0;\n        let attrNameIndex = 0;\n        const partCount = strings.length - 1;\n        const parts = this.parts;\n        // Create template element\n        const [html, attrNames] = getTemplateHtml(strings, type);\n        this.el = Template.createElement(html, options);\n        walker.currentNode = this.el.content;\n        // Reparent SVG nodes into template root\n        if (type === SVG_RESULT) {\n            const content = this.el.content;\n            const svgElement = content.firstChild;\n            svgElement.remove();\n            content.append(...svgElement.childNodes);\n        }\n        // Walk the template to find binding markers and create TemplateParts\n        while ((node = walker.nextNode()) !== null && parts.length < partCount) {\n            if (node.nodeType === 1) {\n                {\n                    const tag = node.localName;\n                    // Warn if `textarea` includes an expression and throw if `template`\n                    // does since these are not supported. We do this by checking\n                    // innerHTML for anything that looks like a marker. This catches\n                    // cases like bindings in textarea there markers turn into text nodes.\n                    if (/^(?:textarea|template)$/i.test(tag) &&\n                        node.innerHTML.includes(marker)) {\n                        const m = `Expressions are not supported inside \\`${tag}\\` ` +\n                            `elements. See https://lit.dev/msg/expression-in-${tag} for more ` +\n                            `information.`;\n                        if (tag === 'template') {\n                            throw new Error(m);\n                        }\n                        else\n                            issueWarning('', m);\n                    }\n                }\n                // TODO (justinfagnani): for attempted dynamic tag names, we don't\n                // increment the bindingIndex, and it'll be off by 1 in the element\n                // and off by two after it.\n                if (node.hasAttributes()) {\n                    // We defer removing bound attributes because on IE we might not be\n                    // iterating attributes in their template order, and would sometimes\n                    // remove an attribute that we still need to create a part for.\n                    const attrsToRemove = [];\n                    for (const name of node.getAttributeNames()) {\n                        // `name` is the name of the attribute we're iterating over, but not\n                        // _necessarily_ the name of the attribute we will create a part\n                        // for. They can be different in browsers that don't iterate on\n                        // attributes in source order. In that case the attrNames array\n                        // contains the attribute name we'll process next. We only need the\n                        // attribute name here to know if we should process a bound attribute\n                        // on this element.\n                        if (name.endsWith(boundAttributeSuffix) ||\n                            name.startsWith(marker)) {\n                            const realName = attrNames[attrNameIndex++];\n                            attrsToRemove.push(name);\n                            if (realName !== undefined) {\n                                // Lowercase for case-sensitive SVG attributes like viewBox\n                                const value = node.getAttribute(realName.toLowerCase() + boundAttributeSuffix);\n                                const statics = value.split(marker);\n                                const m = /([.?@])?(.*)/.exec(realName);\n                                parts.push({\n                                    type: ATTRIBUTE_PART,\n                                    index: nodeIndex,\n                                    name: m[2],\n                                    strings: statics,\n                                    ctor: m[1] === '.'\n                                        ? PropertyPart\n                                        : m[1] === '?'\n                                            ? BooleanAttributePart\n                                            : m[1] === '@'\n                                                ? EventPart\n                                                : AttributePart,\n                                });\n                            }\n                            else {\n                                parts.push({\n                                    type: ELEMENT_PART,\n                                    index: nodeIndex,\n                                });\n                            }\n                        }\n                    }\n                    for (const name of attrsToRemove) {\n                        node.removeAttribute(name);\n                    }\n                }\n                // TODO (justinfagnani): benchmark the regex against testing for each\n                // of the 3 raw text element names.\n                if (rawTextElement.test(node.tagName)) {\n                    // For raw text elements we need to split the text content on\n                    // markers, create a Text node for each segment, and create\n                    // a TemplatePart for each marker.\n                    const strings = node.textContent.split(marker);\n                    const lastIndex = strings.length - 1;\n                    if (lastIndex > 0) {\n                        node.textContent = trustedTypes\n                            ? trustedTypes.emptyScript\n                            : '';\n                        // Generate a new text node for each literal section\n                        // These nodes are also used as the markers for node parts\n                        // We can't use empty text nodes as markers because they're\n                        // normalized when cloning in IE (could simplify when\n                        // IE is no longer supported)\n                        for (let i = 0; i < lastIndex; i++) {\n                            node.append(strings[i], createMarker());\n                            // Walk past the marker node we just added\n                            walker.nextNode();\n                            parts.push({ type: CHILD_PART, index: ++nodeIndex });\n                        }\n                        // Note because this marker is added after the walker's current\n                        // node, it will be walked to in the outer loop (and ignored), so\n                        // we don't need to adjust nodeIndex here\n                        node.append(strings[lastIndex], createMarker());\n                    }\n                }\n            }\n            else if (node.nodeType === 8) {\n                const data = node.data;\n                if (data === markerMatch) {\n                    parts.push({ type: CHILD_PART, index: nodeIndex });\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        parts.push({ type: COMMENT_PART, index: nodeIndex });\n                        // Move to the end of the match\n                        i += marker.length - 1;\n                    }\n                }\n            }\n            nodeIndex++;\n        }\n        // We could set walker.currentNode to another node here to prevent a memory\n        // leak, but every time we prepare a template, we immediately render it\n        // and re-use the walker in new TemplateInstance._clone().\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n            kind: 'template prep',\n            template: this,\n            clonableTemplate: this.el,\n            parts: this.parts,\n            strings,\n        });\n    }\n    // Overridden via `litHtmlPolyfillSupport` to provide platform support.\n    /** @nocollapse */\n    static createElement(html, _options) {\n        const el = d.createElement('template');\n        el.innerHTML = html;\n        return el;\n    }\n}\nfunction resolveDirective(part, value, parent = part, attributeIndex) {\n    var _a, _b, _c;\n    var _d;\n    // Bail early if the value is explicitly noChange. Note, this means any\n    // nested directive is still attached and is not run.\n    if (value === noChange) {\n        return value;\n    }\n    let currentDirective = attributeIndex !== undefined\n        ? (_a = parent.__directives) === null || _a === void 0 ? void 0 : _a[attributeIndex]\n        : parent.__directive;\n    const nextDirectiveConstructor = isPrimitive(value)\n        ? undefined\n        : // This property needs to remain unminified.\n            value['_$litDirective$'];\n    if ((currentDirective === null || currentDirective === void 0 ? void 0 : currentDirective.constructor) !== nextDirectiveConstructor) {\n        // This property needs to remain unminified.\n        (_b = currentDirective === null || currentDirective === void 0 ? void 0 : currentDirective['_$notifyDirectiveConnectionChanged']) === null || _b === void 0 ? void 0 : _b.call(currentDirective, false);\n        if (nextDirectiveConstructor === undefined) {\n            currentDirective = undefined;\n        }\n        else {\n            currentDirective = new nextDirectiveConstructor(part);\n            currentDirective._$initialize(part, parent, attributeIndex);\n        }\n        if (attributeIndex !== undefined) {\n            ((_c = (_d = parent).__directives) !== null && _c !== void 0 ? _c : (_d.__directives = []))[attributeIndex] =\n                currentDirective;\n        }\n        else {\n            parent.__directive = currentDirective;\n        }\n    }\n    if (currentDirective !== undefined) {\n        value = resolveDirective(part, currentDirective._$resolve(part, value.values), currentDirective, attributeIndex);\n    }\n    return value;\n}\n/**\n * An updateable instance of a Template. Holds references to the Parts used to\n * update the template instance.\n */\nclass TemplateInstance {\n    constructor(template, parent) {\n        this._$parts = [];\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$template = template;\n        this._$parent = parent;\n    }\n    // Called by ChildPart parentNode getter\n    get parentNode() {\n        return this._$parent.parentNode;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    // This method is separate from the constructor because we need to return a\n    // DocumentFragment and we don't want to hold onto it with an instance field.\n    _clone(options) {\n        var _a;\n        const { el: { content }, parts: parts, } = this._$template;\n        const fragment = ((_a = options === null || options === void 0 ? void 0 : options.creationScope) !== null && _a !== void 0 ? _a : d).importNode(content, true);\n        walker.currentNode = fragment;\n        let node = walker.nextNode();\n        let nodeIndex = 0;\n        let partIndex = 0;\n        let templatePart = parts[0];\n        while (templatePart !== undefined) {\n            if (nodeIndex === templatePart.index) {\n                let part;\n                if (templatePart.type === CHILD_PART) {\n                    part = new ChildPart(node, node.nextSibling, this, options);\n                }\n                else if (templatePart.type === ATTRIBUTE_PART) {\n                    part = new templatePart.ctor(node, templatePart.name, templatePart.strings, this, options);\n                }\n                else if (templatePart.type === ELEMENT_PART) {\n                    part = new ElementPart(node, this, options);\n                }\n                this._$parts.push(part);\n                templatePart = parts[++partIndex];\n            }\n            if (nodeIndex !== (templatePart === null || templatePart === void 0 ? void 0 : templatePart.index)) {\n                node = walker.nextNode();\n                nodeIndex++;\n            }\n        }\n        // We need to set the currentNode away from the cloned tree so that we\n        // don't hold onto the tree even if the tree is detached and should be\n        // freed.\n        walker.currentNode = d;\n        return fragment;\n    }\n    _update(values) {\n        let i = 0;\n        for (const part of this._$parts) {\n            if (part !== undefined) {\n                debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                    kind: 'set part',\n                    part,\n                    value: values[i],\n                    valueIndex: i,\n                    values,\n                    templateInstance: this,\n                });\n                if (part.strings !== undefined) {\n                    part._$setValue(values, part, i);\n                    // The number of values the part consumes is part.strings.length - 1\n                    // since values are in between template spans. We increment i by 1\n                    // later in the loop, so increment it by part.strings.length - 2 here\n                    i += part.strings.length - 2;\n                }\n                else {\n                    part._$setValue(values[i]);\n                }\n            }\n            i++;\n        }\n    }\n}\nclass ChildPart {\n    constructor(startNode, endNode, parent, options) {\n        var _a;\n        this.type = CHILD_PART;\n        this._$committedValue = nothing;\n        // The following fields will be patched onto ChildParts when required by\n        // AsyncDirective\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$startNode = startNode;\n        this._$endNode = endNode;\n        this._$parent = parent;\n        this.options = options;\n        // Note __isConnected is only ever accessed on RootParts (i.e. when there is\n        // no _$parent); the value on a non-root-part is \"don't care\", but checking\n        // for parent would be more code\n        this.__isConnected = (_a = options === null || options === void 0 ? void 0 : options.isConnected) !== null && _a !== void 0 ? _a : true;\n        {\n            // Explicitly initialize for consistent class shape.\n            this._textSanitizer = undefined;\n        }\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        var _a, _b;\n        // ChildParts that are not at the root should always be created with a\n        // parent; only RootChildNode's won't, so they return the local isConnected\n        // state\n        return (_b = (_a = this._$parent) === null || _a === void 0 ? void 0 : _a._$isConnected) !== null && _b !== void 0 ? _b : this.__isConnected;\n    }\n    /**\n     * The parent node into which the part renders its content.\n     *\n     * A ChildPart's content consists of a range of adjacent child nodes of\n     * `.parentNode`, possibly bordered by 'marker nodes' (`.startNode` and\n     * `.endNode`).\n     *\n     * - If both `.startNode` and `.endNode` are non-null, then the part's content\n     * consists of all siblings between `.startNode` and `.endNode`, exclusively.\n     *\n     * - If `.startNode` is non-null but `.endNode` is null, then the part's\n     * content consists of all siblings following `.startNode`, up to and\n     * including the last child of `.parentNode`. If `.endNode` is non-null, then\n     * `.startNode` will always be non-null.\n     *\n     * - If both `.endNode` and `.startNode` are null, then the part's content\n     * consists of all child nodes of `.parentNode`.\n     */\n    get parentNode() {\n        let parentNode = wrap(this._$startNode).parentNode;\n        const parent = this._$parent;\n        if (parent !== undefined &&\n            (parentNode === null || parentNode === void 0 ? void 0 : parentNode.nodeType) === 11 /* Node.DOCUMENT_FRAGMENT */) {\n            // If the parentNode is a DocumentFragment, it may be because the DOM is\n            // still in the cloned fragment during initial render; if so, get the real\n            // parentNode the part will be committed into by asking the parent.\n            parentNode = parent.parentNode;\n        }\n        return parentNode;\n    }\n    /**\n     * The part's leading marker node, if any. See `.parentNode` for more\n     * information.\n     */\n    get startNode() {\n        return this._$startNode;\n    }\n    /**\n     * The part's trailing marker node, if any. See `.parentNode` for more\n     * information.\n     */\n    get endNode() {\n        return this._$endNode;\n    }\n    _$setValue(value, directiveParent = this) {\n        var _a;\n        if (this.parentNode === null) {\n            throw new Error(`This \\`ChildPart\\` has no \\`parentNode\\` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's \\`innerHTML\\` or \\`textContent\\` can do this.`);\n        }\n        value = resolveDirective(this, value, directiveParent);\n        if (isPrimitive(value)) {\n            // Non-rendering child values. It's important that these do not render\n            // empty text nodes to avoid issues with preventing default <slot>\n            // fallback content.\n            if (value === nothing || value == null || value === '') {\n                if (this._$committedValue !== nothing) {\n                    debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                        kind: 'commit nothing to child',\n                        start: this._$startNode,\n                        end: this._$endNode,\n                        parent: this._$parent,\n                        options: this.options,\n                    });\n                    this._$clear();\n                }\n                this._$committedValue = nothing;\n            }\n            else if (value !== this._$committedValue && value !== noChange) {\n                this._commitText(value);\n            }\n            // This property needs to remain unminified.\n        }\n        else if (value['_$litType$'] !== undefined) {\n            this._commitTemplateResult(value);\n        }\n        else if (value.nodeType !== undefined) {\n            if (((_a = this.options) === null || _a === void 0 ? void 0 : _a.host) === value) {\n                this._commitText(`[probable mistake: rendered a template's host in itself ` +\n                    `(commonly caused by writing \\${this} in a template]`);\n                console.warn(`Attempted to render the template host`, value, `inside itself. This is almost always a mistake, and in dev mode `, `we render some warning text. In production however, we'll `, `render it, which will usually result in an error, and sometimes `, `in the element disappearing from the DOM.`);\n                return;\n            }\n            this._commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this._commitIterable(value);\n        }\n        else {\n            // Fallback, will render the string representation\n            this._commitText(value);\n        }\n    }\n    _insert(node) {\n        return wrap(wrap(this._$startNode).parentNode).insertBefore(node, this._$endNode);\n    }\n    _commitNode(value) {\n        var _a;\n        if (this._$committedValue !== value) {\n            this._$clear();\n            if (sanitizerFactoryInternal !== noopSanitizer) {\n                const parentNodeName = (_a = this._$startNode.parentNode) === null || _a === void 0 ? void 0 : _a.nodeName;\n                if (parentNodeName === 'STYLE' || parentNodeName === 'SCRIPT') {\n                    let message = 'Forbidden';\n                    {\n                        if (parentNodeName === 'STYLE') {\n                            message =\n                                `Lit does not support binding inside style nodes. ` +\n                                    `This is a security risk, as style injection attacks can ` +\n                                    `exfiltrate data and spoof UIs. ` +\n                                    `Consider instead using css\\`...\\` literals ` +\n                                    `to compose styles, and make do dynamic styling with ` +\n                                    `css custom properties, ::parts, <slot>s, ` +\n                                    `and by mutating the DOM rather than stylesheets.`;\n                        }\n                        else {\n                            message =\n                                `Lit does not support binding inside script nodes. ` +\n                                    `This is a security risk, as it could allow arbitrary ` +\n                                    `code execution.`;\n                        }\n                    }\n                    throw new Error(message);\n                }\n            }\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'commit node',\n                start: this._$startNode,\n                parent: this._$parent,\n                value: value,\n                options: this.options,\n            });\n            this._$committedValue = this._insert(value);\n        }\n    }\n    _commitText(value) {\n        // If the committed value is a primitive it means we called _commitText on\n        // the previous render, and we know that this._$startNode.nextSibling is a\n        // Text node. We can now just replace the text content (.data) of the node.\n        if (this._$committedValue !== nothing &&\n            isPrimitive(this._$committedValue)) {\n            const node = wrap(this._$startNode).nextSibling;\n            {\n                if (this._textSanitizer === undefined) {\n                    this._textSanitizer = createSanitizer(node, 'data', 'property');\n                }\n                value = this._textSanitizer(value);\n            }\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'commit text',\n                node,\n                value,\n                options: this.options,\n            });\n            node.data = value;\n        }\n        else {\n            {\n                const textNode = d.createTextNode('');\n                this._commitNode(textNode);\n                // When setting text content, for security purposes it matters a lot\n                // what the parent is. For example, <style> and <script> need to be\n                // handled with care, while <span> does not. So first we need to put a\n                // text node into the document, then we can sanitize its content.\n                if (this._textSanitizer === undefined) {\n                    this._textSanitizer = createSanitizer(textNode, 'data', 'property');\n                }\n                value = this._textSanitizer(value);\n                debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                    kind: 'commit text',\n                    node: textNode,\n                    value,\n                    options: this.options,\n                });\n                textNode.data = value;\n            }\n        }\n        this._$committedValue = value;\n    }\n    _commitTemplateResult(result) {\n        var _a;\n        // This property needs to remain unminified.\n        const { values, ['_$litType$']: type } = result;\n        // If $litType$ is a number, result is a plain TemplateResult and we get\n        // the template from the template cache. If not, result is a\n        // CompiledTemplateResult and _$litType$ is a CompiledTemplate and we need\n        // to create the <template> element the first time we see it.\n        const template = typeof type === 'number'\n            ? this._$getTemplate(result)\n            : (type.el === undefined &&\n                (type.el = Template.createElement(trustFromTemplateString(type.h, type.h[0]), this.options)),\n                type);\n        if (((_a = this._$committedValue) === null || _a === void 0 ? void 0 : _a._$template) === template) {\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'template updating',\n                template,\n                instance: this._$committedValue,\n                parts: this._$committedValue._$parts,\n                options: this.options,\n                values,\n            });\n            this._$committedValue._update(values);\n        }\n        else {\n            const instance = new TemplateInstance(template, this);\n            const fragment = instance._clone(this.options);\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'template instantiated',\n                template,\n                instance,\n                parts: instance._$parts,\n                options: this.options,\n                fragment,\n                values,\n            });\n            instance._update(values);\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'template instantiated and updated',\n                template,\n                instance,\n                parts: instance._$parts,\n                options: this.options,\n                fragment,\n                values,\n            });\n            this._commitNode(fragment);\n            this._$committedValue = instance;\n        }\n    }\n    // Overridden via `litHtmlPolyfillSupport` to provide platform support.\n    /** @internal */\n    _$getTemplate(result) {\n        let template = templateCache.get(result.strings);\n        if (template === undefined) {\n            templateCache.set(result.strings, (template = new Template(result)));\n        }\n        return template;\n    }\n    _commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If value is an array, then the previous render was of an\n        // iterable and value will contain the ChildParts from the previous\n        // render. If value is not an array, clear this part and make a new\n        // array for ChildParts.\n        if (!isArray(this._$committedValue)) {\n            this._$committedValue = [];\n            this._$clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this._$committedValue;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            if (partIndex === itemParts.length) {\n                // If no existing part, create a new one\n                // TODO (justinfagnani): test perf impact of always creating two parts\n                // instead of sharing parts between nodes\n                // https://github.com/lit/lit/issues/1266\n                itemParts.push((itemPart = new ChildPart(this._insert(createMarker()), this._insert(createMarker()), this, this.options)));\n            }\n            else {\n                // Reuse an existing part\n                itemPart = itemParts[partIndex];\n            }\n            itemPart._$setValue(item);\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // itemParts always have end nodes\n            this._$clear(itemPart && wrap(itemPart._$endNode).nextSibling, partIndex);\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n        }\n    }\n    /**\n     * Removes the nodes contained within this Part from the DOM.\n     *\n     * @param start Start node to clear from, for clearing a subset of the part's\n     *     DOM (used when truncating iterables)\n     * @param from  When `start` is specified, the index within the iterable from\n     *     which ChildParts are being removed, used for disconnecting directives in\n     *     those Parts.\n     *\n     * @internal\n     */\n    _$clear(start = wrap(this._$startNode).nextSibling, from) {\n        var _a;\n        (_a = this._$notifyConnectionChanged) === null || _a === void 0 ? void 0 : _a.call(this, false, true, from);\n        while (start && start !== this._$endNode) {\n            const n = wrap(start).nextSibling;\n            wrap(start).remove();\n            start = n;\n        }\n    }\n    /**\n     * Implementation of RootPart's `isConnected`. Note that this metod\n     * should only be called on `RootPart`s (the `ChildPart` returned from a\n     * top-level `render()` call). It has no effect on non-root ChildParts.\n     * @param isConnected Whether to set\n     * @internal\n     */\n    setConnected(isConnected) {\n        var _a;\n        if (this._$parent === undefined) {\n            this.__isConnected = isConnected;\n            (_a = this._$notifyConnectionChanged) === null || _a === void 0 ? void 0 : _a.call(this, isConnected);\n        }\n        else {\n            throw new Error('part.setConnected() may only be called on a ' +\n                'RootPart returned from render().');\n        }\n    }\n}\nclass AttributePart {\n    constructor(element, name, strings, parent, options) {\n        this.type = ATTRIBUTE_PART;\n        /** @internal */\n        this._$committedValue = nothing;\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this.element = element;\n        this.name = name;\n        this._$parent = parent;\n        this.options = options;\n        if (strings.length > 2 || strings[0] !== '' || strings[1] !== '') {\n            this._$committedValue = new Array(strings.length - 1).fill(new String());\n            this.strings = strings;\n        }\n        else {\n            this._$committedValue = nothing;\n        }\n        {\n            this._sanitizer = undefined;\n        }\n    }\n    get tagName() {\n        return this.element.tagName;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    /**\n     * Sets the value of this part by resolving the value from possibly multiple\n     * values and static strings and committing it to the DOM.\n     * If this part is single-valued, `this._strings` will be undefined, and the\n     * method will be called with a single value argument. If this part is\n     * multi-value, `this._strings` will be defined, and the method is called\n     * with the value array of the part's owning TemplateInstance, and an offset\n     * into the value array from which the values should be read.\n     * This method is overloaded this way to eliminate short-lived array slices\n     * of the template instance values, and allow a fast-path for single-valued\n     * parts.\n     *\n     * @param value The part value, or an array of values for multi-valued parts\n     * @param valueIndex the index to start reading values from. `undefined` for\n     *   single-valued parts\n     * @param noCommit causes the part to not commit its value to the DOM. Used\n     *   in hydration to prime attribute parts with their first-rendered value,\n     *   but not set the attribute, and in SSR to no-op the DOM operation and\n     *   capture the value for serialization.\n     *\n     * @internal\n     */\n    _$setValue(value, directiveParent = this, valueIndex, noCommit) {\n        const strings = this.strings;\n        // Whether any of the values has changed, for dirty-checking\n        let change = false;\n        if (strings === undefined) {\n            // Single-value binding case\n            value = resolveDirective(this, value, directiveParent, 0);\n            change =\n                !isPrimitive(value) ||\n                    (value !== this._$committedValue && value !== noChange);\n            if (change) {\n                this._$committedValue = value;\n            }\n        }\n        else {\n            // Interpolation case\n            const values = value;\n            value = strings[0];\n            let i, v;\n            for (i = 0; i < strings.length - 1; i++) {\n                v = resolveDirective(this, values[valueIndex + i], directiveParent, i);\n                if (v === noChange) {\n                    // If the user-provided value is `noChange`, use the previous value\n                    v = this._$committedValue[i];\n                }\n                change || (change = !isPrimitive(v) || v !== this._$committedValue[i]);\n                if (v === nothing) {\n                    value = nothing;\n                }\n                else if (value !== nothing) {\n                    value += (v !== null && v !== void 0 ? v : '') + strings[i + 1];\n                }\n                // We always record each value, even if one is `nothing`, for future\n                // change detection.\n                this._$committedValue[i] = v;\n            }\n        }\n        if (change && !noCommit) {\n            this._commitValue(value);\n        }\n    }\n    /** @internal */\n    _commitValue(value) {\n        if (value === nothing) {\n            wrap(this.element).removeAttribute(this.name);\n        }\n        else {\n            {\n                if (this._sanitizer === undefined) {\n                    this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'attribute');\n                }\n                value = this._sanitizer(value !== null && value !== void 0 ? value : '');\n            }\n            debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n                kind: 'commit attribute',\n                element: this.element,\n                name: this.name,\n                value,\n                options: this.options,\n            });\n            wrap(this.element).setAttribute(this.name, (value !== null && value !== void 0 ? value : ''));\n        }\n    }\n}\nclass PropertyPart extends AttributePart {\n    constructor() {\n        super(...arguments);\n        this.type = PROPERTY_PART;\n    }\n    /** @internal */\n    _commitValue(value) {\n        {\n            if (this._sanitizer === undefined) {\n                this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'property');\n            }\n            value = this._sanitizer(value);\n        }\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n            kind: 'commit property',\n            element: this.element,\n            name: this.name,\n            value,\n            options: this.options,\n        });\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.element[this.name] = value === nothing ? undefined : value;\n    }\n}\n// Temporary workaround for https://crbug.com/993268\n// Currently, any attribute starting with \"on\" is considered to be a\n// TrustedScript source. Such boolean attributes must be set to the equivalent\n// trusted emptyScript value.\nconst emptyStringForBooleanAttribute = trustedTypes\n    ? trustedTypes.emptyScript\n    : '';\nclass BooleanAttributePart extends AttributePart {\n    constructor() {\n        super(...arguments);\n        this.type = BOOLEAN_ATTRIBUTE_PART;\n    }\n    /** @internal */\n    _commitValue(value) {\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n            kind: 'commit boolean attribute',\n            element: this.element,\n            name: this.name,\n            value: !!(value && value !== nothing),\n            options: this.options,\n        });\n        if (value && value !== nothing) {\n            wrap(this.element).setAttribute(this.name, emptyStringForBooleanAttribute);\n        }\n        else {\n            wrap(this.element).removeAttribute(this.name);\n        }\n    }\n}\nclass EventPart extends AttributePart {\n    constructor(element, name, strings, parent, options) {\n        super(element, name, strings, parent, options);\n        this.type = EVENT_PART;\n        if (this.strings !== undefined) {\n            throw new Error(`A \\`<${element.localName}>\\` has a \\`@${name}=...\\` listener with ` +\n                'invalid content. Event listeners in templates must have exactly ' +\n                'one expression and no surrounding text.');\n        }\n    }\n    // EventPart does not use the base _$setValue/_resolveValue implementation\n    // since the dirty checking is more complex\n    /** @internal */\n    _$setValue(newListener, directiveParent = this) {\n        var _a;\n        newListener =\n            (_a = resolveDirective(this, newListener, directiveParent, 0)) !== null && _a !== void 0 ? _a : nothing;\n        if (newListener === noChange) {\n            return;\n        }\n        const oldListener = this._$committedValue;\n        // If the new value is nothing or any options change we have to remove the\n        // part as a listener.\n        const shouldRemoveListener = (newListener === nothing && oldListener !== nothing) ||\n            newListener.capture !==\n                oldListener.capture ||\n            newListener.once !==\n                oldListener.once ||\n            newListener.passive !==\n                oldListener.passive;\n        // If the new value is not nothing and we removed the listener, we have\n        // to add the part as a listener.\n        const shouldAddListener = newListener !== nothing &&\n            (oldListener === nothing || shouldRemoveListener);\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n            kind: 'commit event listener',\n            element: this.element,\n            name: this.name,\n            value: newListener,\n            options: this.options,\n            removeListener: shouldRemoveListener,\n            addListener: shouldAddListener,\n            oldListener,\n        });\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.name, this, oldListener);\n        }\n        if (shouldAddListener) {\n            // Beware: IE11 and Chrome 41 don't like using the listener as the\n            // options object. Figure out how to deal w/ this in IE11 - maybe\n            // patch addEventListener?\n            this.element.addEventListener(this.name, this, newListener);\n        }\n        this._$committedValue = newListener;\n    }\n    handleEvent(event) {\n        var _a, _b;\n        if (typeof this._$committedValue === 'function') {\n            this._$committedValue.call((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.host) !== null && _b !== void 0 ? _b : this.element, event);\n        }\n        else {\n            this._$committedValue.handleEvent(event);\n        }\n    }\n}\nclass ElementPart {\n    constructor(element, parent, options) {\n        this.element = element;\n        this.type = ELEMENT_PART;\n        /** @internal */\n        this._$disconnectableChildren = undefined;\n        this._$parent = parent;\n        this.options = options;\n    }\n    // See comment in Disconnectable interface for why this is a getter\n    get _$isConnected() {\n        return this._$parent._$isConnected;\n    }\n    _$setValue(value) {\n        debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n            kind: 'commit to element binding',\n            element: this.element,\n            value,\n            options: this.options,\n        });\n        resolveDirective(this, value);\n    }\n}\n/**\n * END USERS SHOULD NOT RELY ON THIS OBJECT.\n *\n * Private exports for use by other Lit packages, not intended for use by\n * external users.\n *\n * We currently do not make a mangled rollup build of the lit-ssr code. In order\n * to keep a number of (otherwise private) top-level exports  mangled in the\n * client side code, we export a _$LH object containing those members (or\n * helper methods for accessing private fields of those members), and then\n * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the\n * client-side code is being used in `dev` mode or `prod` mode.\n *\n * This has a unique name, to disambiguate it from private exports in\n * lit-element, which re-exports all of lit-html.\n *\n * @private\n */\nconst _$LH = {\n    // Used in lit-ssr\n    _boundAttributeSuffix: boundAttributeSuffix,\n    _marker: marker,\n    _markerMatch: markerMatch,\n    _HTML_RESULT: HTML_RESULT,\n    _getTemplateHtml: getTemplateHtml,\n    // Used in tests and private-ssr-support\n    _TemplateInstance: TemplateInstance,\n    _isIterable: isIterable,\n    _resolveDirective: resolveDirective,\n    _ChildPart: ChildPart,\n    _AttributePart: AttributePart,\n    _BooleanAttributePart: BooleanAttributePart,\n    _EventPart: EventPart,\n    _PropertyPart: PropertyPart,\n    _ElementPart: ElementPart,\n};\n// Apply polyfills if available\nconst polyfillSupport = global.litHtmlPolyfillSupportDevMode\n    ;\npolyfillSupport === null || polyfillSupport === void 0 ? void 0 : polyfillSupport(Template, ChildPart);\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n((_d = global.litHtmlVersions) !== null && _d !== void 0 ? _d : (global.litHtmlVersions = [])).push('2.8.0');\nif (global.litHtmlVersions.length > 1) {\n    issueWarning('multiple-versions', `Multiple versions of Lit loaded. ` +\n        `Loading multiple versions is not recommended.`);\n}\n/**\n * Renders a value, usually a lit-html TemplateResult, to the container.\n *\n * This example renders the text \"Hello, Zoe!\" inside a paragraph tag, appending\n * it to the container `document.body`.\n *\n * ```js\n * import {html, render} from 'lit';\n *\n * const name = \"Zoe\";\n * render(html`<p>Hello, ${name}!</p>`, document.body);\n * ```\n *\n * @param value Any [renderable\n *   value](https://lit.dev/docs/templates/expressions/#child-expressions),\n *   typically a {@linkcode TemplateResult} created by evaluating a template tag\n *   like {@linkcode html} or {@linkcode svg}.\n * @param container A DOM container to render to. The first render will append\n *   the rendered value to the container, and subsequent renders will\n *   efficiently update the rendered value if the same result type was\n *   previously rendered there.\n * @param options See {@linkcode RenderOptions} for options documentation.\n * @see\n * {@link https://lit.dev/docs/libraries/standalone-templates/#rendering-lit-html-templates| Rendering Lit HTML Templates}\n */\nconst render = (value, container, options) => {\n    var _a, _b;\n    if (container == null) {\n        // Give a clearer error message than\n        //     Uncaught TypeError: Cannot read properties of null (reading\n        //     '_$litPart$')\n        // which reads like an internal Lit error.\n        throw new TypeError(`The container to render into may not be ${container}`);\n    }\n    const renderId = debugLogRenderId++ ;\n    const partOwnerNode = (_a = options === null || options === void 0 ? void 0 : options.renderBefore) !== null && _a !== void 0 ? _a : container;\n    // This property needs to remain unminified.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let part = partOwnerNode['_$litPart$'];\n    debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n        kind: 'begin render',\n        id: renderId,\n        value,\n        container,\n        options,\n        part,\n    });\n    if (part === undefined) {\n        const endNode = (_b = options === null || options === void 0 ? void 0 : options.renderBefore) !== null && _b !== void 0 ? _b : null;\n        // This property needs to remain unminified.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        partOwnerNode['_$litPart$'] = part = new ChildPart(container.insertBefore(createMarker(), endNode), endNode, undefined, options !== null && options !== void 0 ? options : {});\n    }\n    part._$setValue(value);\n    debugLogEvent === null || debugLogEvent === void 0 ? void 0 : debugLogEvent({\n        kind: 'end render',\n        id: renderId,\n        value,\n        container,\n        options,\n        part,\n    });\n    return part;\n};\n{\n    render.setSanitizer = setSanitizer;\n    render.createSanitizer = createSanitizer;\n    {\n        render._testOnlyClearSanitizerFactoryDoNotCallOrElse =\n            _testOnlyClearSanitizerFactoryDoNotCallOrElse;\n    }\n}\n\n\n//# sourceMappingURL=lit-html.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC1odG1sL25vZGUvZGV2ZWxvcG1lbnQvbGl0LWh0bWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxNQUFNO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsK0JBQStCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFlBQVk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFdBQVcsTUFBTSxVQUFVLEtBQUssV0FBVyxJQUFJLFdBQVcsTUFBTSxnQkFBZ0I7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsTUFBTTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdCQUFnQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxpQkFBaUI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsZ0JBQWdCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrQkFBK0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsSUFBSTtBQUNoRiwrRUFBK0UsS0FBSztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsc0NBQXNDO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0NBQW9DO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxzQ0FBc0M7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNLFNBQVMsa0JBQWtCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELE1BQU07QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLCtCQUErQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsRUFBRTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrQkFBa0IsZUFBZSxLQUFLO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0EsMkJBQTJCLEtBQUs7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVDLFdBQVcsZ0JBQWdCLElBQUksY0FBYztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5QkFBeUI7QUFDaEQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxVQUFVO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUxBQXFMO0FBQ3JMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFc0Q7QUFDdEQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9saXQtaHRtbC9ub2RlL2RldmVsb3BtZW50L2xpdC1odG1sLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xudmFyIF9hLCBfZDtcbi8vIFVzZSB3aW5kb3cgZm9yIGJyb3dzZXIgYnVpbGRzIGJlY2F1c2UgSUUxMSBkb2Vzbid0IGhhdmUgZ2xvYmFsVGhpcy5cbmNvbnN0IGdsb2JhbCA9IGdsb2JhbFRoaXMgO1xuLyoqXG4gKiBVc2VmdWwgZm9yIHZpc3VhbGl6aW5nIGFuZCBsb2dnaW5nIGluc2lnaHRzIGludG8gd2hhdCB0aGUgTGl0IHRlbXBsYXRlIHN5c3RlbSBpcyBkb2luZy5cbiAqXG4gKiBDb21waWxlZCBvdXQgb2YgcHJvZCBtb2RlIGJ1aWxkcy5cbiAqL1xuY29uc3QgZGVidWdMb2dFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBzaG91bGRFbWl0ID0gZ2xvYmFsXG4gICAgICAgICAgICAuZW1pdExpdERlYnVnTG9nRXZlbnRzO1xuICAgICAgICBpZiAoIXNob3VsZEVtaXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbG9iYWwuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2xpdC1kZWJ1ZycsIHtcbiAgICAgICAgICAgIGRldGFpbDogZXZlbnQsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgO1xuLy8gVXNlZCBmb3IgY29ubmVjdGluZyBiZWdpblJlbmRlciBhbmQgZW5kUmVuZGVyIGV2ZW50cyB3aGVuIHRoZXJlIGFyZSBuZXN0ZWRcbi8vIHJlbmRlcnMgd2hlbiBlcnJvcnMgYXJlIHRocm93biBwcmV2ZW50aW5nIGFuIGVuZFJlbmRlciBldmVudCBmcm9tIGJlaW5nXG4vLyBjYWxsZWQuXG5sZXQgZGVidWdMb2dSZW5kZXJJZCA9IDA7XG5sZXQgaXNzdWVXYXJuaW5nO1xue1xuICAgIChfYSA9IGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA9IG5ldyBTZXQoKSk7XG4gICAgLy8gSXNzdWUgYSB3YXJuaW5nLCBpZiB3ZSBoYXZlbid0IGFscmVhZHkuXG4gICAgaXNzdWVXYXJuaW5nID0gKGNvZGUsIHdhcm5pbmcpID0+IHtcbiAgICAgICAgd2FybmluZyArPSBjb2RlXG4gICAgICAgICAgICA/IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICBpZiAoIWdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncy5oYXMod2FybmluZykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgICAgICAgIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncy5hZGQod2FybmluZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlzc3VlV2FybmluZygnZGV2LW1vZGUnLCBgTGl0IGlzIGluIGRldiBtb2RlLiBOb3QgcmVjb21tZW5kZWQgZm9yIHByb2R1Y3Rpb24hYCk7XG59XG5jb25zdCB3cmFwID0gKG5vZGUpID0+IG5vZGU7XG5jb25zdCB0cnVzdGVkVHlwZXMgPSBnbG9iYWwudHJ1c3RlZFR5cGVzO1xuLyoqXG4gKiBPdXIgVHJ1c3RlZFR5cGVQb2xpY3kgZm9yIEhUTUwgd2hpY2ggaXMgZGVjbGFyZWQgdXNpbmcgdGhlIGh0bWwgdGVtcGxhdGVcbiAqIHRhZyBmdW5jdGlvbi5cbiAqXG4gKiBUaGF0IEhUTUwgaXMgYSBkZXZlbG9wZXItYXV0aG9yZWQgY29uc3RhbnQsIGFuZCBpcyBwYXJzZWQgd2l0aCBpbm5lckhUTUxcbiAqIGJlZm9yZSBhbnkgdW50cnVzdGVkIGV4cHJlc3Npb25zIGhhdmUgYmVlbiBtaXhlZCBpbi4gVGhlcmVmb3IgaXQgaXNcbiAqIGNvbnNpZGVyZWQgc2FmZSBieSBjb25zdHJ1Y3Rpb24uXG4gKi9cbmNvbnN0IHBvbGljeSA9IHRydXN0ZWRUeXBlc1xuICAgID8gdHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSgnbGl0LWh0bWwnLCB7XG4gICAgICAgIGNyZWF0ZUhUTUw6IChzKSA9PiBzLFxuICAgIH0pXG4gICAgOiB1bmRlZmluZWQ7XG5jb25zdCBpZGVudGl0eUZ1bmN0aW9uID0gKHZhbHVlKSA9PiB2YWx1ZTtcbmNvbnN0IG5vb3BTYW5pdGl6ZXIgPSAoX25vZGUsIF9uYW1lLCBfdHlwZSkgPT4gaWRlbnRpdHlGdW5jdGlvbjtcbi8qKiBTZXRzIHRoZSBnbG9iYWwgc2FuaXRpemVyIGZhY3RvcnkuICovXG5jb25zdCBzZXRTYW5pdGl6ZXIgPSAobmV3U2FuaXRpemVyKSA9PiB7XG4gICAgaWYgKHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCAhPT0gbm9vcFNhbml0aXplcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRlZCB0byBvdmVyd3JpdGUgZXhpc3RpbmcgbGl0LWh0bWwgc2VjdXJpdHkgcG9saWN5LmAgK1xuICAgICAgICAgICAgYCBzZXRTYW5pdGl6ZURPTVZhbHVlRmFjdG9yeSBzaG91bGQgYmUgY2FsbGVkIGF0IG1vc3Qgb25jZS5gKTtcbiAgICB9XG4gICAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbmV3U2FuaXRpemVyO1xufTtcbi8qKlxuICogT25seSB1c2VkIGluIGludGVybmFsIHRlc3RzLCBub3QgYSBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLlxuICovXG5jb25zdCBfdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPSAoKSA9PiB7XG4gICAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbm9vcFNhbml0aXplcjtcbn07XG5jb25zdCBjcmVhdGVTYW5pdGl6ZXIgPSAobm9kZSwgbmFtZSwgdHlwZSkgPT4ge1xuICAgIHJldHVybiBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwobm9kZSwgbmFtZSwgdHlwZSk7XG59O1xuLy8gQWRkZWQgdG8gYW4gYXR0cmlidXRlIG5hbWUgdG8gbWFyayB0aGUgYXR0cmlidXRlIGFzIGJvdW5kIHNvIHdlIGNhbiBmaW5kXG4vLyBpdCBlYXNpbHkuXG5jb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG4vLyBUaGlzIG1hcmtlciBpcyB1c2VkIGluIG1hbnkgc3ludGFjdGljIHBvc2l0aW9ucyBpbiBIVE1MLCBzbyBpdCBtdXN0IGJlXG4vLyBhIHZhbGlkIGVsZW1lbnQgbmFtZSBhbmQgYXR0cmlidXRlIG5hbWUuIFdlIGRvbid0IHN1cHBvcnQgZHluYW1pYyBuYW1lcyAoeWV0KVxuLy8gYnV0IHRoaXMgYXQgbGVhc3QgZW5zdXJlcyB0aGF0IHRoZSBwYXJzZSB0cmVlIGlzIGNsb3NlciB0byB0aGUgdGVtcGxhdGVcbi8vIGludGVudGlvbi5cbmNvbnN0IG1hcmtlciA9IGBsaXQkJHtTdHJpbmcoTWF0aC5yYW5kb20oKSkuc2xpY2UoOSl9JGA7XG4vLyBTdHJpbmcgdXNlZCB0byB0ZWxsIGlmIGEgY29tbWVudCBpcyBhIG1hcmtlciBjb21tZW50XG5jb25zdCBtYXJrZXJNYXRjaCA9ICc/JyArIG1hcmtlcjtcbi8vIFRleHQgdXNlZCB0byBpbnNlcnQgYSBjb21tZW50IG1hcmtlciBub2RlLiBXZSB1c2UgcHJvY2Vzc2luZyBpbnN0cnVjdGlvblxuLy8gc3ludGF4IGJlY2F1c2UgaXQncyBzbGlnaHRseSBzbWFsbGVyLCBidXQgcGFyc2VzIGFzIGEgY29tbWVudCBub2RlLlxuY29uc3Qgbm9kZU1hcmtlciA9IGA8JHttYXJrZXJNYXRjaH0+YDtcbmNvbnN0IGQgPSBnbG9iYWwuZG9jdW1lbnQgPT09IHVuZGVmaW5lZFxuICAgID8ge1xuICAgICAgICBjcmVhdGVUcmVlV2Fsa2VyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgIH1cbiAgICA6IGRvY3VtZW50O1xuLy8gQ3JlYXRlcyBhIGR5bmFtaWMgbWFya2VyLiBXZSBuZXZlciBoYXZlIHRvIHNlYXJjaCBmb3IgdGhlc2UgaW4gdGhlIERPTS5cbmNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGQuY3JlYXRlQ29tbWVudCgnJyk7XG5jb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09IG51bGwgfHwgKHR5cGVvZiB2YWx1ZSAhPSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUgIT0gJ2Z1bmN0aW9uJyk7XG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGlzSXRlcmFibGUgPSAodmFsdWUpID0+IGlzQXJyYXkodmFsdWUpIHx8XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICB0eXBlb2YgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZVtTeW1ib2wuaXRlcmF0b3JdKSA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IFNQQUNFX0NIQVIgPSBgWyBcXHRcXG5cXGZcXHJdYDtcbmNvbnN0IEFUVFJfVkFMVUVfQ0hBUiA9IGBbXiBcXHRcXG5cXGZcXHJcIidcXGA8Pj1dYDtcbmNvbnN0IE5BTUVfQ0hBUiA9IGBbXlxcXFxzXCInPj0vXWA7XG4vLyBUaGVzZSByZWdleGVzIHJlcHJlc2VudCB0aGUgZml2ZSBwYXJzaW5nIHN0YXRlcyB0aGF0IHdlIGNhcmUgYWJvdXQgaW4gdGhlXG4vLyBUZW1wbGF0ZSdzIEhUTUwgc2Nhbm5lci4gVGhleSBtYXRjaCB0aGUgKmVuZCogb2YgdGhlIHN0YXRlIHRoZXkncmUgbmFtZWRcbi8vIGFmdGVyLlxuLy8gRGVwZW5kaW5nIG9uIHRoZSBtYXRjaCwgd2UgdHJhbnNpdGlvbiB0byBhIG5ldyBzdGF0ZS4gSWYgdGhlcmUncyBubyBtYXRjaCxcbi8vIHdlIHN0YXkgaW4gdGhlIHNhbWUgc3RhdGUuXG4vLyBOb3RlIHRoYXQgdGhlIHJlZ2V4ZXMgYXJlIHN0YXRlZnVsLiBXZSB1dGlsaXplIGxhc3RJbmRleCBhbmQgc3luYyBpdFxuLy8gYWNyb3NzIHRoZSBtdWx0aXBsZSByZWdleGVzIHVzZWQuIEluIGFkZGl0aW9uIHRvIHRoZSBmaXZlIHJlZ2V4ZXMgYmVsb3dcbi8vIHdlIGFsc28gZHluYW1pY2FsbHkgY3JlYXRlIGEgcmVnZXggdG8gZmluZCB0aGUgbWF0Y2hpbmcgZW5kIHRhZ3MgZm9yIHJhd1xuLy8gdGV4dCBlbGVtZW50cy5cbi8qKlxuICogRW5kIG9mIHRleHQgaXM6IGA8YCBmb2xsb3dlZCBieTpcbiAqICAgKGNvbW1lbnQgc3RhcnQpIG9yICh0YWcpIG9yIChkeW5hbWljIHRhZyBiaW5kaW5nKVxuICovXG5jb25zdCB0ZXh0RW5kUmVnZXggPSAvPCg/OighLS18XFwvW15hLXpBLVpdKXwoXFwvP1thLXpBLVpdW14+XFxzXSopfChcXC8/JCkpL2c7XG5jb25zdCBDT01NRU5UX1NUQVJUID0gMTtcbmNvbnN0IFRBR19OQU1FID0gMjtcbmNvbnN0IERZTkFNSUNfVEFHX05BTUUgPSAzO1xuY29uc3QgY29tbWVudEVuZFJlZ2V4ID0gLy0tPi9nO1xuLyoqXG4gKiBDb21tZW50cyBub3Qgc3RhcnRlZCB3aXRoIDwhLS0sIGxpa2UgPC97LCBjYW4gYmUgZW5kZWQgYnkgYSBzaW5nbGUgYD5gXG4gKi9cbmNvbnN0IGNvbW1lbnQyRW5kUmVnZXggPSAvPi9nO1xuLyoqXG4gKiBUaGUgdGFnRW5kIHJlZ2V4IG1hdGNoZXMgdGhlIGVuZCBvZiB0aGUgXCJpbnNpZGUgYW4gb3BlbmluZ1wiIHRhZyBzeW50YXhcbiAqIHBvc2l0aW9uLiBJdCBlaXRoZXIgbWF0Y2hlcyBhIGA+YCwgYW4gYXR0cmlidXRlLWxpa2Ugc2VxdWVuY2UsIG9yIHRoZSBlbmRcbiAqIG9mIHRoZSBzdHJpbmcgYWZ0ZXIgYSBzcGFjZSAoYXR0cmlidXRlLW5hbWUgcG9zaXRpb24gZW5kaW5nKS5cbiAqXG4gKiBTZWUgYXR0cmlidXRlcyBpbiB0aGUgSFRNTCBzcGVjOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L3N5bnRheC5odG1sI2VsZW1lbnRzLWF0dHJpYnV0ZXNcbiAqXG4gKiBcIiBcXHRcXG5cXGZcXHJcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI2FzY2lpLXdoaXRlc3BhY2VcbiAqXG4gKiBTbyBhbiBhdHRyaWJ1dGUgaXM6XG4gKiAgKiBUaGUgbmFtZTogYW55IGNoYXJhY3RlciBleGNlcHQgYSB3aGl0ZXNwYWNlIGNoYXJhY3RlciwgKFwiKSwgKCcpLCBcIj5cIixcbiAqICAgIFwiPVwiLCBvciBcIi9cIi4gTm90ZTogdGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgSFRNTCBzcGVjIHdoaWNoIGFsc28gZXhjbHVkZXMgY29udHJvbCBjaGFyYWN0ZXJzLlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5IFwiPVwiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnk6XG4gKiAgICAqIEFueSBjaGFyYWN0ZXIgZXhjZXB0IHNwYWNlLCAoJyksIChcIiksIFwiPFwiLCBcIj5cIiwgXCI9XCIsIChgKSwgb3JcbiAqICAgICogKFwiKSB0aGVuIGFueSBub24tKFwiKSwgb3JcbiAqICAgICogKCcpIHRoZW4gYW55IG5vbi0oJylcbiAqL1xuY29uc3QgdGFnRW5kUmVnZXggPSBuZXcgUmVnRXhwKGA+fCR7U1BBQ0VfQ0hBUn0oPzooJHtOQU1FX0NIQVJ9KykoJHtTUEFDRV9DSEFSfSo9JHtTUEFDRV9DSEFSfSooPzoke0FUVFJfVkFMVUVfQ0hBUn18KFwifCcpfCkpfCQpYCwgJ2cnKTtcbmNvbnN0IEVOVElSRV9NQVRDSCA9IDA7XG5jb25zdCBBVFRSSUJVVEVfTkFNRSA9IDE7XG5jb25zdCBTUEFDRVNfQU5EX0VRVUFMUyA9IDI7XG5jb25zdCBRVU9URV9DSEFSID0gMztcbmNvbnN0IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gLycvZztcbmNvbnN0IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gL1wiL2c7XG4vKipcbiAqIE1hdGNoZXMgdGhlIHJhdyB0ZXh0IGVsZW1lbnRzLlxuICpcbiAqIENvbW1lbnRzIGFyZSBub3QgcGFyc2VkIHdpdGhpbiByYXcgdGV4dCBlbGVtZW50cywgc28gd2UgbmVlZCB0byBzZWFyY2ggdGhlaXJcbiAqIHRleHQgY29udGVudCBmb3IgbWFya2VyIHN0cmluZ3MuXG4gKi9cbmNvbnN0IHJhd1RleHRFbGVtZW50ID0gL14oPzpzY3JpcHR8c3R5bGV8dGV4dGFyZWF8dGl0bGUpJC9pO1xuLyoqIFRlbXBsYXRlUmVzdWx0IHR5cGVzICovXG5jb25zdCBIVE1MX1JFU1VMVCA9IDE7XG5jb25zdCBTVkdfUkVTVUxUID0gMjtcbi8vIFRlbXBsYXRlUGFydCB0eXBlc1xuLy8gSU1QT1JUQU5UOiB0aGVzZSBtdXN0IG1hdGNoIHRoZSB2YWx1ZXMgaW4gUGFydFR5cGVcbmNvbnN0IEFUVFJJQlVURV9QQVJUID0gMTtcbmNvbnN0IENISUxEX1BBUlQgPSAyO1xuY29uc3QgUFJPUEVSVFlfUEFSVCA9IDM7XG5jb25zdCBCT09MRUFOX0FUVFJJQlVURV9QQVJUID0gNDtcbmNvbnN0IEVWRU5UX1BBUlQgPSA1O1xuY29uc3QgRUxFTUVOVF9QQVJUID0gNjtcbmNvbnN0IENPTU1FTlRfUEFSVCA9IDc7XG4vKipcbiAqIEdlbmVyYXRlcyBhIHRlbXBsYXRlIGxpdGVyYWwgdGFnIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFRlbXBsYXRlUmVzdWx0IHdpdGhcbiAqIHRoZSBnaXZlbiByZXN1bHQgdHlwZS5cbiAqL1xuY29uc3QgdGFnID0gKHR5cGUpID0+IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IHtcbiAgICAvLyBXYXJuIGFnYWluc3QgdGVtcGxhdGVzIG9jdGFsIGVzY2FwZSBzZXF1ZW5jZXNcbiAgICAvLyBXZSBkbyB0aGlzIGhlcmUgcmF0aGVyIHRoYW4gaW4gcmVuZGVyIHNvIHRoYXQgdGhlIHdhcm5pbmcgaXMgY2xvc2VyIHRvIHRoZVxuICAgIC8vIHRlbXBsYXRlIGRlZmluaXRpb24uXG4gICAgaWYgKHN0cmluZ3Muc29tZSgocykgPT4gcyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1NvbWUgdGVtcGxhdGUgc3RyaW5ncyBhcmUgdW5kZWZpbmVkLlxcbicgK1xuICAgICAgICAgICAgJ1RoaXMgaXMgcHJvYmFibHkgY2F1c2VkIGJ5IGlsbGVnYWwgb2N0YWwgZXNjYXBlIHNlcXVlbmNlcy4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICAgWydfJGxpdFR5cGUkJ106IHR5cGUsXG4gICAgICAgIHN0cmluZ3MsXG4gICAgICAgIHZhbHVlcyxcbiAgICB9O1xufTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IGhlYWRlciA9ICh0aXRsZTogc3RyaW5nKSA9PiBodG1sYDxoMT4ke3RpdGxlfTwvaDE+YDtcbiAqIGBgYFxuICpcbiAqIFRoZSBgaHRtbGAgdGFnIHJldHVybnMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgRE9NIHRvIHJlbmRlciBhcyBhIHZhbHVlLiBJdCBpc1xuICogbGF6eSwgbWVhbmluZyBubyB3b3JrIGlzIGRvbmUgdW50aWwgdGhlIHRlbXBsYXRlIGlzIHJlbmRlcmVkLiBXaGVuIHJlbmRlcmluZyxcbiAqIGlmIGEgdGVtcGxhdGUgY29tZXMgZnJvbSB0aGUgc2FtZSBleHByZXNzaW9uIGFzIGEgcHJldmlvdXNseSByZW5kZXJlZCByZXN1bHQsXG4gKiBpdCdzIGVmZmljaWVudGx5IHVwZGF0ZWQgaW5zdGVhZCBvZiByZXBsYWNlZC5cbiAqL1xuY29uc3QgaHRtbCA9IHRhZyhIVE1MX1JFU1VMVCk7XG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIFNWRyBmcmFnbWVudCB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IHJlY3QgPSBzdmdgPHJlY3Qgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCI+PC9yZWN0PmA7XG4gKlxuICogY29uc3QgbXlJbWFnZSA9IGh0bWxgXG4gKiAgIDxzdmcgdmlld0JveD1cIjAgMCAxMCAxMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAqICAgICAke3JlY3R9XG4gKiAgIDwvc3ZnPmA7XG4gKiBgYGBcbiAqXG4gKiBUaGUgYHN2Z2AgKnRhZyBmdW5jdGlvbiogc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgU1ZHIGZyYWdtZW50cywgb3IgZWxlbWVudHNcbiAqIHRoYXQgd291bGQgYmUgY29udGFpbmVkICoqaW5zaWRlKiogYW4gYDxzdmc+YCBIVE1MIGVsZW1lbnQuIEEgY29tbW9uIGVycm9yIGlzXG4gKiBwbGFjaW5nIGFuIGA8c3ZnPmAgKmVsZW1lbnQqIGluIGEgdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIGBzdmdgIHRhZ1xuICogZnVuY3Rpb24uIFRoZSBgPHN2Zz5gIGVsZW1lbnQgaXMgYW4gSFRNTCBlbGVtZW50IGFuZCBzaG91bGQgYmUgdXNlZCB3aXRoaW4gYVxuICogdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIHtAbGlua2NvZGUgaHRtbH0gdGFnIGZ1bmN0aW9uLlxuICpcbiAqIEluIExpdEVsZW1lbnQgdXNhZ2UsIGl0J3MgaW52YWxpZCB0byByZXR1cm4gYW4gU1ZHIGZyYWdtZW50IGZyb20gdGhlXG4gKiBgcmVuZGVyKClgIG1ldGhvZCwgYXMgdGhlIFNWRyBmcmFnbWVudCB3aWxsIGJlIGNvbnRhaW5lZCB3aXRoaW4gdGhlIGVsZW1lbnQnc1xuICogc2hhZG93IHJvb3QgYW5kIHRodXMgY2Fubm90IGJlIHVzZWQgd2l0aGluIGFuIGA8c3ZnPmAgSFRNTCBlbGVtZW50LlxuICovXG5jb25zdCBzdmcgPSB0YWcoU1ZHX1JFU1VMVCk7XG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIHRoYXQgYSB2YWx1ZSB3YXMgaGFuZGxlZCBieSBhIGRpcmVjdGl2ZSBhbmRcbiAqIHNob3VsZCBub3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuICovXG5jb25zdCBub0NoYW5nZSA9IFN5bWJvbC5mb3IoJ2xpdC1ub0NoYW5nZScpO1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIENoaWxkUGFydCB0byBmdWxseSBjbGVhciBpdHMgY29udGVudC5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgYnV0dG9uID0gaHRtbGAke1xuICogIHVzZXIuaXNBZG1pblxuICogICAgPyBodG1sYDxidXR0b24+REVMRVRFPC9idXR0b24+YFxuICogICAgOiBub3RoaW5nXG4gKiB9YDtcbiAqIGBgYFxuICpcbiAqIFByZWZlciB1c2luZyBgbm90aGluZ2Agb3ZlciBvdGhlciBmYWxzeSB2YWx1ZXMgYXMgaXQgcHJvdmlkZXMgYSBjb25zaXN0ZW50XG4gKiBiZWhhdmlvciBiZXR3ZWVuIHZhcmlvdXMgZXhwcmVzc2lvbiBiaW5kaW5nIGNvbnRleHRzLlxuICpcbiAqIEluIGNoaWxkIGV4cHJlc3Npb25zLCBgdW5kZWZpbmVkYCwgYG51bGxgLCBgJydgLCBhbmQgYG5vdGhpbmdgIGFsbCBiZWhhdmUgdGhlXG4gKiBzYW1lIGFuZCByZW5kZXIgbm8gbm9kZXMuIEluIGF0dHJpYnV0ZSBleHByZXNzaW9ucywgYG5vdGhpbmdgIF9yZW1vdmVzXyB0aGVcbiAqIGF0dHJpYnV0ZSwgd2hpbGUgYHVuZGVmaW5lZGAgYW5kIGBudWxsYCB3aWxsIHJlbmRlciBhbiBlbXB0eSBzdHJpbmcuIEluXG4gKiBwcm9wZXJ0eSBleHByZXNzaW9ucyBgbm90aGluZ2AgYmVjb21lcyBgdW5kZWZpbmVkYC5cbiAqL1xuY29uc3Qgbm90aGluZyA9IFN5bWJvbC5mb3IoJ2xpdC1ub3RoaW5nJyk7XG4vKipcbiAqIFRoZSBjYWNoZSBvZiBwcmVwYXJlZCB0ZW1wbGF0ZXMsIGtleWVkIGJ5IHRoZSB0YWdnZWQgVGVtcGxhdGVTdHJpbmdzQXJyYXlcbiAqIGFuZCBfbm90XyBhY2NvdW50aW5nIGZvciB0aGUgc3BlY2lmaWMgdGVtcGxhdGUgdGFnIHVzZWQuIFRoaXMgbWVhbnMgdGhhdFxuICogdGVtcGxhdGUgdGFncyBjYW5ub3QgYmUgZHluYW1pYyAtIHRoZSBtdXN0IHN0YXRpY2FsbHkgYmUgb25lIG9mIGh0bWwsIHN2ZyxcbiAqIG9yIGF0dHIuIFRoaXMgcmVzdHJpY3Rpb24gc2ltcGxpZmllcyB0aGUgY2FjaGUgbG9va3VwLCB3aGljaCBpcyBvbiB0aGUgaG90XG4gKiBwYXRoIGZvciByZW5kZXJpbmcuXG4gKi9cbmNvbnN0IHRlbXBsYXRlQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3Qgd2Fsa2VyID0gZC5jcmVhdGVUcmVlV2Fsa2VyKGQsIDEyOSAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVH0gKi8sIG51bGwsIGZhbHNlKTtcbmxldCBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgPSBub29wU2FuaXRpemVyO1xuZnVuY3Rpb24gdHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcodHNhLCBzdHJpbmdGcm9tVFNBKSB7XG4gICAgLy8gQSBzZWN1cml0eSBjaGVjayB0byBwcmV2ZW50IHNwb29maW5nIG9mIExpdCB0ZW1wbGF0ZSByZXN1bHRzLlxuICAgIC8vIEluIHRoZSBmdXR1cmUsIHdlIG1heSBiZSBhYmxlIHRvIHJlcGxhY2UgdGhpcyB3aXRoIEFycmF5LmlzVGVtcGxhdGVPYmplY3QsXG4gICAgLy8gdGhvdWdoIHdlIG1pZ2h0IG5lZWQgdG8gbWFrZSB0aGF0IGNoZWNrIGluc2lkZSBvZiB0aGUgaHRtbCBhbmQgc3ZnXG4gICAgLy8gZnVuY3Rpb25zLCBiZWNhdXNlIHByZWNvbXBpbGVkIHRlbXBsYXRlcyBkb24ndCBjb21lIGluIGFzXG4gICAgLy8gVGVtcGxhdGVTdHJpbmdBcnJheSBvYmplY3RzLlxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0c2EpIHx8ICF0c2EuaGFzT3duUHJvcGVydHkoJ3JhdycpKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJ2ludmFsaWQgdGVtcGxhdGUgc3RyaW5ncyBhcnJheSc7XG4gICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgXG4gICAgICAgICAgSW50ZXJuYWwgRXJyb3I6IGV4cGVjdGVkIHRlbXBsYXRlIHN0cmluZ3MgdG8gYmUgYW4gYXJyYXlcbiAgICAgICAgICB3aXRoIGEgJ3JhdycgZmllbGQuIEZha2luZyBhIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXkgYnlcbiAgICAgICAgICBjYWxsaW5nIGh0bWwgb3Igc3ZnIGxpa2UgYW4gb3JkaW5hcnkgZnVuY3Rpb24gaXMgZWZmZWN0aXZlbHlcbiAgICAgICAgICB0aGUgc2FtZSBhcyBjYWxsaW5nIHVuc2FmZUh0bWwgYW5kIGNhbiBsZWFkIHRvIG1ham9yIHNlY3VyaXR5XG4gICAgICAgICAgaXNzdWVzLCBlLmcuIG9wZW5pbmcgeW91ciBjb2RlIHVwIHRvIFhTUyBhdHRhY2tzLlxuICAgICAgICAgIElmIHlvdSdyZSB1c2luZyB0aGUgaHRtbCBvciBzdmcgdGFnZ2VkIHRlbXBsYXRlIGZ1bmN0aW9ucyBub3JtYWxseVxuICAgICAgICAgIGFuZCBzdGlsbCBzZWVpbmcgdGhpcyBlcnJvciwgcGxlYXNlIGZpbGUgYSBidWcgYXRcbiAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9pc3N1ZXMvbmV3P3RlbXBsYXRlPWJ1Z19yZXBvcnQubWRcbiAgICAgICAgICBhbmQgaW5jbHVkZSBpbmZvcm1hdGlvbiBhYm91dCB5b3VyIGJ1aWxkIHRvb2xpbmcsIGlmIGFueS5cbiAgICAgICAgYFxuICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxuICovZywgJ1xcbicpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHBvbGljeSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcG9saWN5LmNyZWF0ZUhUTUwoc3RyaW5nRnJvbVRTQSlcbiAgICAgICAgOiBzdHJpbmdGcm9tVFNBO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIEhUTUwgc3RyaW5nIGZvciB0aGUgZ2l2ZW4gVGVtcGxhdGVTdHJpbmdzQXJyYXkgYW5kIHJlc3VsdCB0eXBlXG4gKiAoSFRNTCBvciBTVkcpLCBhbG9uZyB3aXRoIHRoZSBjYXNlLXNlbnNpdGl2ZSBib3VuZCBhdHRyaWJ1dGUgbmFtZXMgaW5cbiAqIHRlbXBsYXRlIG9yZGVyLiBUaGUgSFRNTCBjb250YWlucyBjb21tZW50IG1hcmtlcnMgZGVub3RpbmcgdGhlIGBDaGlsZFBhcnRgc1xuICogYW5kIHN1ZmZpeGVzIG9uIGJvdW5kIGF0dHJpYnV0ZXMgZGVub3RpbmcgdGhlIGBBdHRyaWJ1dGVQYXJ0c2AuXG4gKlxuICogQHBhcmFtIHN0cmluZ3MgdGVtcGxhdGUgc3RyaW5ncyBhcnJheVxuICogQHBhcmFtIHR5cGUgSFRNTCBvciBTVkdcbiAqIEByZXR1cm4gQXJyYXkgY29udGFpbmluZyBgW2h0bWwsIGF0dHJOYW1lc11gIChhcnJheSByZXR1cm5lZCBmb3IgdGVyc2VuZXNzLFxuICogICAgIHRvIGF2b2lkIG9iamVjdCBmaWVsZHMgc2luY2UgdGhpcyBjb2RlIGlzIHNoYXJlZCB3aXRoIG5vbi1taW5pZmllZCBTU1JcbiAqICAgICBjb2RlKVxuICovXG5jb25zdCBnZXRUZW1wbGF0ZUh0bWwgPSAoc3RyaW5ncywgdHlwZSkgPT4ge1xuICAgIC8vIEluc2VydCBtYWtlcnMgaW50byB0aGUgdGVtcGxhdGUgSFRNTCB0byByZXByZXNlbnQgdGhlIHBvc2l0aW9uIG9mXG4gICAgLy8gYmluZGluZ3MuIFRoZSBmb2xsb3dpbmcgY29kZSBzY2FucyB0aGUgdGVtcGxhdGUgc3RyaW5ncyB0byBkZXRlcm1pbmUgdGhlXG4gICAgLy8gc3ludGFjdGljIHBvc2l0aW9uIG9mIHRoZSBiaW5kaW5ncy4gVGhleSBjYW4gYmUgaW4gdGV4dCBwb3NpdGlvbiwgd2hlcmVcbiAgICAvLyB3ZSBpbnNlcnQgYW4gSFRNTCBjb21tZW50LCBhdHRyaWJ1dGUgdmFsdWUgcG9zaXRpb24sIHdoZXJlIHdlIGluc2VydCBhXG4gICAgLy8gc2VudGluZWwgc3RyaW5nIGFuZCByZS13cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUsIG9yIGluc2lkZSBhIHRhZyB3aGVyZVxuICAgIC8vIHdlIGluc2VydCB0aGUgc2VudGluZWwgc3RyaW5nLlxuICAgIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgLy8gU3RvcmVzIHRoZSBjYXNlLXNlbnNpdGl2ZSBib3VuZCBhdHRyaWJ1dGUgbmFtZXMgaW4gdGhlIG9yZGVyIG9mIHRoZWlyXG4gICAgLy8gcGFydHMuIEVsZW1lbnRQYXJ0cyBhcmUgYWxzbyByZWZsZWN0ZWQgaW4gdGhpcyBhcnJheSBhcyB1bmRlZmluZWRcbiAgICAvLyByYXRoZXIgdGhhbiBhIHN0cmluZywgdG8gZGlzYW1iaWd1YXRlIGZyb20gYXR0cmlidXRlIGJpbmRpbmdzLlxuICAgIGNvbnN0IGF0dHJOYW1lcyA9IFtdO1xuICAgIGxldCBodG1sID0gdHlwZSA9PT0gU1ZHX1JFU1VMVCA/ICc8c3ZnPicgOiAnJztcbiAgICAvLyBXaGVuIHdlJ3JlIGluc2lkZSBhIHJhdyB0ZXh0IHRhZyAobm90IGl0J3MgdGV4dCBjb250ZW50KSwgdGhlIHJlZ2V4XG4gICAgLy8gd2lsbCBzdGlsbCBiZSB0YWdSZWdleCBzbyB3ZSBjYW4gZmluZCBhdHRyaWJ1dGVzLCBidXQgd2lsbCBzd2l0Y2ggdG9cbiAgICAvLyB0aGlzIHJlZ2V4IHdoZW4gdGhlIHRhZyBlbmRzLlxuICAgIGxldCByYXdUZXh0RW5kUmVnZXg7XG4gICAgLy8gVGhlIGN1cnJlbnQgcGFyc2luZyBzdGF0ZSwgcmVwcmVzZW50ZWQgYXMgYSByZWZlcmVuY2UgdG8gb25lIG9mIHRoZVxuICAgIC8vIHJlZ2V4ZXNcbiAgICBsZXQgcmVnZXggPSB0ZXh0RW5kUmVnZXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY29uc3QgcyA9IHN0cmluZ3NbaV07XG4gICAgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgZW5kIG9mIHRoZSBsYXN0IGF0dHJpYnV0ZSBuYW1lLiBXaGVuIHRoaXMgaXNcbiAgICAgICAgLy8gcG9zaXRpdmUgYXQgZW5kIG9mIGEgc3RyaW5nLCBpdCBtZWFucyB3ZSdyZSBpbiBhbiBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgICAgLy8gcG9zaXRpb24gYW5kIG5lZWQgdG8gcmV3cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUuXG4gICAgICAgIC8vIFdlIGFsc28gdXNlIGEgc3BlY2lhbCB2YWx1ZSBvZiAtMiB0byBpbmRpY2F0ZSB0aGF0IHdlIGVuY291bnRlcmVkXG4gICAgICAgIC8vIHRoZSBlbmQgb2YgYSBzdHJpbmcgaW4gYXR0cmlidXRlIG5hbWUgcG9zaXRpb24uXG4gICAgICAgIGxldCBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgIGxldCBhdHRyTmFtZTtcbiAgICAgICAgbGV0IGxhc3RJbmRleCA9IDA7XG4gICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgLy8gVGhlIGNvbmRpdGlvbnMgaW4gdGhpcyBsb29wIGhhbmRsZSB0aGUgY3VycmVudCBwYXJzZSBzdGF0ZSwgYW5kIHRoZVxuICAgICAgICAvLyBhc3NpZ25tZW50cyB0byB0aGUgYHJlZ2V4YCB2YXJpYWJsZSBhcmUgdGhlIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgICAgICB3aGlsZSAobGFzdEluZGV4IDwgcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBzdGFydCBzZWFyY2hpbmcgZnJvbSB3aGVyZSB3ZSBwcmV2aW91c2x5IGxlZnQgb2ZmXG4gICAgICAgICAgICByZWdleC5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICBtYXRjaCA9IHJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RJbmRleCA9IHJlZ2V4Lmxhc3RJbmRleDtcbiAgICAgICAgICAgIGlmIChyZWdleCA9PT0gdGV4dEVuZFJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoW0NPTU1FTlRfU1RBUlRdID09PSAnIS0tJykge1xuICAgICAgICAgICAgICAgICAgICByZWdleCA9IGNvbW1lbnRFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBzdGFydGVkIGEgd2VpcmQgY29tbWVudCwgbGlrZSA8L3tcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPSBjb21tZW50MkVuZFJlZ2V4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFtUQUdfTkFNRV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF3VGV4dEVsZW1lbnQudGVzdChtYXRjaFtUQUdfTkFNRV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgaWYgd2UgZW5jb3VudGVyIGEgcmF3LXRleHQgZWxlbWVudC4gV2UnbGwgc3dpdGNoIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHJlZ2V4IGF0IHRoZSBlbmQgb2YgdGhlIHRhZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd1RleHRFbmRSZWdleCA9IG5ldyBSZWdFeHAoYDwvJHttYXRjaFtUQUdfTkFNRV19YCwgJ2cnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFtEWU5BTUlDX1RBR19OQU1FXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQmluZGluZ3MgaW4gdGFnIG5hbWVzIGFyZSBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIHN0YXRpYyB0ZW1wbGF0ZXMgaW5zdGVhZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI3N0YXRpYy1leHByZXNzaW9ucycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVnZXggPT09IHRhZ0VuZFJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoW0VOVElSRV9NQVRDSF0gPT09ICc+Jykge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgb2YgYSB0YWcuIElmIHdlIGhhZCBzdGFydGVkIGEgcmF3LXRleHQgZWxlbWVudCwgdXNlIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVnZXhcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPSByYXdUZXh0RW5kUmVnZXggIT09IG51bGwgJiYgcmF3VGV4dEVuZFJlZ2V4ICE9PSB2b2lkIDAgPyByYXdUZXh0RW5kUmVnZXggOiB0ZXh0RW5kUmVnZXg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG1heSBiZSBlbmRpbmcgYW4gdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLCBzbyBtYWtlIHN1cmUgd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xlYXIgYW55IHBlbmRpbmcgYXR0ck5hbWVFbmRJbmRleFxuICAgICAgICAgICAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoW0FUVFJJQlVURV9OQU1FXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dHJpYnV0ZSBuYW1lIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSAtMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSByZWdleC5sYXN0SW5kZXggLSBtYXRjaFtTUEFDRVNfQU5EX0VRVUFMU10ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBhdHRyTmFtZSA9IG1hdGNoW0FUVFJJQlVURV9OQU1FXTtcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbUVVPVEVfQ0hBUl0gPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGFnRW5kUmVnZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1hdGNoW1FVT1RFX0NIQVJdID09PSAnXCInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZWdleCA9PT0gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXggfHxcbiAgICAgICAgICAgICAgICByZWdleCA9PT0gc2luZ2xlUXVvdGVBdHRyRW5kUmVnZXgpIHtcbiAgICAgICAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVnZXggPT09IGNvbW1lbnRFbmRSZWdleCB8fCByZWdleCA9PT0gY29tbWVudDJFbmRSZWdleCkge1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gdGV4dEVuZFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IG9uZSBvZiB0aGUgZml2ZSBzdGF0ZSByZWdleGVzLCBzbyBpdCBtdXN0IGJlIHRoZSBkeW5hbWljYWxseVxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZWQgcmF3IHRleHQgcmVnZXggYW5kIHdlJ3JlIGF0IHRoZSBjbG9zZSBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgICAgICAgICByYXdUZXh0RW5kUmVnZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGF0dHJOYW1lRW5kSW5kZXgsIHdoaWNoIGluZGljYXRlcyB0aGF0IHdlIHNob3VsZFxuICAgICAgICAgICAgLy8gcmV3cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUsIGFzc2VydCB0aGF0IHdlJ3JlIGluIGEgdmFsaWQgYXR0cmlidXRlXG4gICAgICAgICAgICAvLyBwb3NpdGlvbiAtIGVpdGhlciBpbiBhIHRhZywgb3IgYSBxdW90ZWQgYXR0cmlidXRlIHZhbHVlLlxuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTEgfHxcbiAgICAgICAgICAgICAgICByZWdleCA9PT0gdGFnRW5kUmVnZXggfHxcbiAgICAgICAgICAgICAgICByZWdleCA9PT0gc2luZ2xlUXVvdGVBdHRyRW5kUmVnZXggfHxcbiAgICAgICAgICAgICAgICByZWdleCA9PT0gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXgsICd1bmV4cGVjdGVkIHBhcnNlIHN0YXRlIEInKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBoYXZlIGZvdXIgY2FzZXM6XG4gICAgICAgIC8vICAxLiBXZSdyZSBpbiB0ZXh0IHBvc2l0aW9uLCBhbmQgbm90IGluIGEgcmF3IHRleHQgZWxlbWVudFxuICAgICAgICAvLyAgICAgKHJlZ2V4ID09PSB0ZXh0RW5kUmVnZXgpOiBpbnNlcnQgYSBjb21tZW50IG1hcmtlci5cbiAgICAgICAgLy8gIDIuIFdlIGhhdmUgYSBub24tbmVnYXRpdmUgYXR0ck5hbWVFbmRJbmRleCB3aGljaCBtZWFucyB3ZSBuZWVkIHRvXG4gICAgICAgIC8vICAgICByZXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSB0byBhZGQgYSBib3VuZCBhdHRyaWJ1dGUgc3VmZml4LlxuICAgICAgICAvLyAgMy4gV2UncmUgYXQgdGhlIG5vbi1maXJzdCBiaW5kaW5nIGluIGEgbXVsdGktYmluZGluZyBhdHRyaWJ1dGUsIHVzZSBhXG4gICAgICAgIC8vICAgICBwbGFpbiBtYXJrZXIuXG4gICAgICAgIC8vICA0LiBXZSdyZSBzb21ld2hlcmUgZWxzZSBpbnNpZGUgdGhlIHRhZy4gSWYgd2UncmUgaW4gYXR0cmlidXRlIG5hbWVcbiAgICAgICAgLy8gICAgIHBvc2l0aW9uIChhdHRyTmFtZUVuZEluZGV4ID09PSAtMiksIGFkZCBhIHNlcXVlbnRpYWwgc3VmZml4IHRvXG4gICAgICAgIC8vICAgICBnZW5lcmF0ZSBhIHVuaXF1ZSBhdHRyaWJ1dGUgbmFtZS5cbiAgICAgICAgLy8gRGV0ZWN0IGEgYmluZGluZyBuZXh0IHRvIHNlbGYtY2xvc2luZyB0YWcgZW5kIGFuZCBpbnNlcnQgYSBzcGFjZSB0b1xuICAgICAgICAvLyBzZXBhcmF0ZSB0aGUgbWFya2VyIGZyb20gdGhlIHRhZyBlbmQ6XG4gICAgICAgIGNvbnN0IGVuZCA9IHJlZ2V4ID09PSB0YWdFbmRSZWdleCAmJiBzdHJpbmdzW2kgKyAxXS5zdGFydHNXaXRoKCcvPicpID8gJyAnIDogJyc7XG4gICAgICAgIGh0bWwgKz1cbiAgICAgICAgICAgIHJlZ2V4ID09PSB0ZXh0RW5kUmVnZXhcbiAgICAgICAgICAgICAgICA/IHMgKyBub2RlTWFya2VyXG4gICAgICAgICAgICAgICAgOiBhdHRyTmFtZUVuZEluZGV4ID49IDBcbiAgICAgICAgICAgICAgICAgICAgPyAoYXR0ck5hbWVzLnB1c2goYXR0ck5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcy5zbGljZSgwLCBhdHRyTmFtZUVuZEluZGV4KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRBdHRyaWJ1dGVTdWZmaXggK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc2xpY2UoYXR0ck5hbWVFbmRJbmRleCkpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlciArXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRcbiAgICAgICAgICAgICAgICAgICAgOiBzICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlciArXG4gICAgICAgICAgICAgICAgICAgICAgICAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIgPyAoYXR0ck5hbWVzLnB1c2godW5kZWZpbmVkKSwgaSkgOiBlbmQpO1xuICAgIH1cbiAgICBjb25zdCBodG1sUmVzdWx0ID0gaHRtbCArIChzdHJpbmdzW2xdIHx8ICc8Pz4nKSArICh0eXBlID09PSBTVkdfUkVTVUxUID8gJzwvc3ZnPicgOiAnJyk7XG4gICAgLy8gUmV0dXJuZWQgYXMgYW4gYXJyYXkgZm9yIHRlcnNlbmVzc1xuICAgIHJldHVybiBbdHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcoc3RyaW5ncywgaHRtbFJlc3VsdCksIGF0dHJOYW1lc107XG59O1xuY2xhc3MgVGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgeyBzdHJpbmdzLCBbJ18kbGl0VHlwZSQnXTogdHlwZSB9LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICAgICAgbGV0IG5vZGU7XG4gICAgICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgICAgICBsZXQgYXR0ck5hbWVJbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IHBhcnRDb3VudCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgY29uc3QgcGFydHMgPSB0aGlzLnBhcnRzO1xuICAgICAgICAvLyBDcmVhdGUgdGVtcGxhdGUgZWxlbWVudFxuICAgICAgICBjb25zdCBbaHRtbCwgYXR0ck5hbWVzXSA9IGdldFRlbXBsYXRlSHRtbChzdHJpbmdzLCB0eXBlKTtcbiAgICAgICAgdGhpcy5lbCA9IFRlbXBsYXRlLmNyZWF0ZUVsZW1lbnQoaHRtbCwgb3B0aW9ucyk7XG4gICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IHRoaXMuZWwuY29udGVudDtcbiAgICAgICAgLy8gUmVwYXJlbnQgU1ZHIG5vZGVzIGludG8gdGVtcGxhdGUgcm9vdFxuICAgICAgICBpZiAodHlwZSA9PT0gU1ZHX1JFU1VMVCkge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuZWwuY29udGVudDtcbiAgICAgICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSBjb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICBzdmdFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgY29udGVudC5hcHBlbmQoLi4uc3ZnRWxlbWVudC5jaGlsZE5vZGVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXYWxrIHRoZSB0ZW1wbGF0ZSB0byBmaW5kIGJpbmRpbmcgbWFya2VycyBhbmQgY3JlYXRlIFRlbXBsYXRlUGFydHNcbiAgICAgICAgd2hpbGUgKChub2RlID0gd2Fsa2VyLm5leHROb2RlKCkpICE9PSBudWxsICYmIHBhcnRzLmxlbmd0aCA8IHBhcnRDb3VudCkge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhZyA9IG5vZGUubG9jYWxOYW1lO1xuICAgICAgICAgICAgICAgICAgICAvLyBXYXJuIGlmIGB0ZXh0YXJlYWAgaW5jbHVkZXMgYW4gZXhwcmVzc2lvbiBhbmQgdGhyb3cgaWYgYHRlbXBsYXRlYFxuICAgICAgICAgICAgICAgICAgICAvLyBkb2VzIHNpbmNlIHRoZXNlIGFyZSBub3Qgc3VwcG9ydGVkLiBXZSBkbyB0aGlzIGJ5IGNoZWNraW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGlubmVySFRNTCBmb3IgYW55dGhpbmcgdGhhdCBsb29rcyBsaWtlIGEgbWFya2VyLiBUaGlzIGNhdGNoZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FzZXMgbGlrZSBiaW5kaW5ncyBpbiB0ZXh0YXJlYSB0aGVyZSBtYXJrZXJzIHR1cm4gaW50byB0ZXh0IG5vZGVzLlxuICAgICAgICAgICAgICAgICAgICBpZiAoL14oPzp0ZXh0YXJlYXx0ZW1wbGF0ZSkkL2kudGVzdCh0YWcpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmlubmVySFRNTC5pbmNsdWRlcyhtYXJrZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtID0gYEV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIGluc2lkZSBcXGAke3RhZ31cXGAgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGVsZW1lbnRzLiBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy9leHByZXNzaW9uLWluLSR7dGFnfSBmb3IgbW9yZSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgaW5mb3JtYXRpb24uYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWcgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVXYXJuaW5nKCcnLCBtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogZm9yIGF0dGVtcHRlZCBkeW5hbWljIHRhZyBuYW1lcywgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIGJpbmRpbmdJbmRleCwgYW5kIGl0J2xsIGJlIG9mZiBieSAxIGluIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgLy8gYW5kIG9mZiBieSB0d28gYWZ0ZXIgaXQuXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRlZmVyIHJlbW92aW5nIGJvdW5kIGF0dHJpYnV0ZXMgYmVjYXVzZSBvbiBJRSB3ZSBtaWdodCBub3QgYmVcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW5nIGF0dHJpYnV0ZXMgaW4gdGhlaXIgdGVtcGxhdGUgb3JkZXIsIGFuZCB3b3VsZCBzb21ldGltZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGFuIGF0dHJpYnV0ZSB0aGF0IHdlIHN0aWxsIG5lZWQgdG8gY3JlYXRlIGEgcGFydCBmb3IuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJzVG9SZW1vdmUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG5vZGUuZ2V0QXR0cmlidXRlTmFtZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYG5hbWVgIGlzIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgd2UncmUgaXRlcmF0aW5nIG92ZXIsIGJ1dCBub3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIF9uZWNlc3NhcmlseV8gdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB3ZSB3aWxsIGNyZWF0ZSBhIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvci4gVGhleSBjYW4gYmUgZGlmZmVyZW50IGluIGJyb3dzZXJzIHRoYXQgZG9uJ3QgaXRlcmF0ZSBvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlcyBpbiBzb3VyY2Ugb3JkZXIuIEluIHRoYXQgY2FzZSB0aGUgYXR0ck5hbWVzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb250YWlucyB0aGUgYXR0cmlidXRlIG5hbWUgd2UnbGwgcHJvY2VzcyBuZXh0LiBXZSBvbmx5IG5lZWQgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgbmFtZSBoZXJlIHRvIGtub3cgaWYgd2Ugc2hvdWxkIHByb2Nlc3MgYSBib3VuZCBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmVuZHNXaXRoKGJvdW5kQXR0cmlidXRlU3VmZml4KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUuc3RhcnRzV2l0aChtYXJrZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhbE5hbWUgPSBhdHRyTmFtZXNbYXR0ck5hbWVJbmRleCsrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyc1RvUmVtb3ZlLnB1c2gobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWxOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG93ZXJjYXNlIGZvciBjYXNlLXNlbnNpdGl2ZSBTVkcgYXR0cmlidXRlcyBsaWtlIHZpZXdCb3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShyZWFsTmFtZS50b0xvd2VyQ2FzZSgpICsgYm91bmRBdHRyaWJ1dGVTdWZmaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0aWNzID0gdmFsdWUuc3BsaXQobWFya2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbSA9IC8oWy4/QF0pPyguKikvLmV4ZWMocmVhbE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEFUVFJJQlVURV9QQVJULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IG5vZGVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG1bMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdzOiBzdGF0aWNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RvcjogbVsxXSA9PT0gJy4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBQcm9wZXJ0eVBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1bMV0gPT09ICc/J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IEJvb2xlYW5BdHRyaWJ1dGVQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbVsxXSA9PT0gJ0AnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IEV2ZW50UGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBBdHRyaWJ1dGVQYXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRUxFTUVOVF9QQVJULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IG5vZGVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBhdHRyc1RvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogYmVuY2htYXJrIHRoZSByZWdleCBhZ2FpbnN0IHRlc3RpbmcgZm9yIGVhY2hcbiAgICAgICAgICAgICAgICAvLyBvZiB0aGUgMyByYXcgdGV4dCBlbGVtZW50IG5hbWVzLlxuICAgICAgICAgICAgICAgIGlmIChyYXdUZXh0RWxlbWVudC50ZXN0KG5vZGUudGFnTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIHJhdyB0ZXh0IGVsZW1lbnRzIHdlIG5lZWQgdG8gc3BsaXQgdGhlIHRleHQgY29udGVudCBvblxuICAgICAgICAgICAgICAgICAgICAvLyBtYXJrZXJzLCBjcmVhdGUgYSBUZXh0IG5vZGUgZm9yIGVhY2ggc2VnbWVudCwgYW5kIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICAvLyBhIFRlbXBsYXRlUGFydCBmb3IgZWFjaCBtYXJrZXIuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSBub2RlLnRleHRDb250ZW50LnNwbGl0KG1hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSB0cnVzdGVkVHlwZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRydXN0ZWRUeXBlcy5lbXB0eVNjcmlwdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSBub2RlcyBhcmUgYWxzbyB1c2VkIGFzIHRoZSBtYXJrZXJzIGZvciBub2RlIHBhcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCB1c2UgZW1wdHkgdGV4dCBub2RlcyBhcyBtYXJrZXJzIGJlY2F1c2UgdGhleSdyZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9ybWFsaXplZCB3aGVuIGNsb25pbmcgaW4gSUUgKGNvdWxkIHNpbXBsaWZ5IHdoZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmQoc3RyaW5nc1tpXSwgY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhbGsgcGFzdCB0aGUgbWFya2VyIG5vZGUgd2UganVzdCBhZGRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goeyB0eXBlOiBDSElMRF9QQVJULCBpbmRleDogKytub2RlSW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlIGJlY2F1c2UgdGhpcyBtYXJrZXIgaXMgYWRkZWQgYWZ0ZXIgdGhlIHdhbGtlcidzIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vZGUsIGl0IHdpbGwgYmUgd2Fsa2VkIHRvIGluIHRoZSBvdXRlciBsb29wIChhbmQgaWdub3JlZCksIHNvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIGFkanVzdCBub2RlSW5kZXggaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmQoc3RyaW5nc1tsYXN0SW5kZXhdLCBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSA4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5vZGUuZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbWFya2VyTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh7IHR5cGU6IENISUxEX1BBUlQsIGluZGV4OiBub2RlSW5kZXggfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGkgPSBub2RlLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goeyB0eXBlOiBDT01NRU5UX1BBUlQsIGluZGV4OiBub2RlSW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIHRvIHRoZSBlbmQgb2YgdGhlIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpICs9IG1hcmtlci5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgY291bGQgc2V0IHdhbGtlci5jdXJyZW50Tm9kZSB0byBhbm90aGVyIG5vZGUgaGVyZSB0byBwcmV2ZW50IGEgbWVtb3J5XG4gICAgICAgIC8vIGxlYWssIGJ1dCBldmVyeSB0aW1lIHdlIHByZXBhcmUgYSB0ZW1wbGF0ZSwgd2UgaW1tZWRpYXRlbHkgcmVuZGVyIGl0XG4gICAgICAgIC8vIGFuZCByZS11c2UgdGhlIHdhbGtlciBpbiBuZXcgVGVtcGxhdGVJbnN0YW5jZS5fY2xvbmUoKS5cbiAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBwcmVwJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLFxuICAgICAgICAgICAgY2xvbmFibGVUZW1wbGF0ZTogdGhpcy5lbCxcbiAgICAgICAgICAgIHBhcnRzOiB0aGlzLnBhcnRzLFxuICAgICAgICAgICAgc3RyaW5ncyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIE92ZXJyaWRkZW4gdmlhIGBsaXRIdG1sUG9seWZpbGxTdXBwb3J0YCB0byBwcm92aWRlIHBsYXRmb3JtIHN1cHBvcnQuXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIGNyZWF0ZUVsZW1lbnQoaHRtbCwgX29wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZWwgPSBkLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIGVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG59XG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKHBhcnQsIHZhbHVlLCBwYXJlbnQgPSBwYXJ0LCBhdHRyaWJ1dGVJbmRleCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHZhciBfZDtcbiAgICAvLyBCYWlsIGVhcmx5IGlmIHRoZSB2YWx1ZSBpcyBleHBsaWNpdGx5IG5vQ2hhbmdlLiBOb3RlLCB0aGlzIG1lYW5zIGFueVxuICAgIC8vIG5lc3RlZCBkaXJlY3RpdmUgaXMgc3RpbGwgYXR0YWNoZWQgYW5kIGlzIG5vdCBydW4uXG4gICAgaWYgKHZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGxldCBjdXJyZW50RGlyZWN0aXZlID0gYXR0cmlidXRlSW5kZXggIT09IHVuZGVmaW5lZFxuICAgICAgICA/IChfYSA9IHBhcmVudC5fX2RpcmVjdGl2ZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVthdHRyaWJ1dGVJbmRleF1cbiAgICAgICAgOiBwYXJlbnQuX19kaXJlY3RpdmU7XG4gICAgY29uc3QgbmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yID0gaXNQcmltaXRpdmUodmFsdWUpXG4gICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgIDogLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICAgICAgIHZhbHVlWydfJGxpdERpcmVjdGl2ZSQnXTtcbiAgICBpZiAoKGN1cnJlbnREaXJlY3RpdmUgPT09IG51bGwgfHwgY3VycmVudERpcmVjdGl2ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudERpcmVjdGl2ZS5jb25zdHJ1Y3RvcikgIT09IG5leHREaXJlY3RpdmVDb25zdHJ1Y3Rvcikge1xuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICAoX2IgPSBjdXJyZW50RGlyZWN0aXZlID09PSBudWxsIHx8IGN1cnJlbnREaXJlY3RpdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnREaXJlY3RpdmVbJ18kbm90aWZ5RGlyZWN0aXZlQ29ubmVjdGlvbkNoYW5nZWQnXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoY3VycmVudERpcmVjdGl2ZSwgZmFsc2UpO1xuICAgICAgICBpZiAobmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnREaXJlY3RpdmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50RGlyZWN0aXZlID0gbmV3IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvcihwYXJ0KTtcbiAgICAgICAgICAgIGN1cnJlbnREaXJlY3RpdmUuXyRpbml0aWFsaXplKHBhcnQsIHBhcmVudCwgYXR0cmlidXRlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAoKF9jID0gKF9kID0gcGFyZW50KS5fX2RpcmVjdGl2ZXMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IChfZC5fX2RpcmVjdGl2ZXMgPSBbXSkpW2F0dHJpYnV0ZUluZGV4XSA9XG4gICAgICAgICAgICAgICAgY3VycmVudERpcmVjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5fX2RpcmVjdGl2ZSA9IGN1cnJlbnREaXJlY3RpdmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN1cnJlbnREaXJlY3RpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUocGFydCwgY3VycmVudERpcmVjdGl2ZS5fJHJlc29sdmUocGFydCwgdmFsdWUudmFsdWVzKSwgY3VycmVudERpcmVjdGl2ZSwgYXR0cmlidXRlSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIEFuIHVwZGF0ZWFibGUgaW5zdGFuY2Ugb2YgYSBUZW1wbGF0ZS4gSG9sZHMgcmVmZXJlbmNlcyB0byB0aGUgUGFydHMgdXNlZCB0b1xuICogdXBkYXRlIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZS5cbiAqL1xuY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHBhcmVudCkge1xuICAgICAgICB0aGlzLl8kcGFydHMgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fJHRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuICAgIC8vIENhbGxlZCBieSBDaGlsZFBhcnQgcGFyZW50Tm9kZSBnZXR0ZXJcbiAgICBnZXQgcGFyZW50Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICAgIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICAgIH1cbiAgICAvLyBUaGlzIG1ldGhvZCBpcyBzZXBhcmF0ZSBmcm9tIHRoZSBjb25zdHJ1Y3RvciBiZWNhdXNlIHdlIG5lZWQgdG8gcmV0dXJuIGFcbiAgICAvLyBEb2N1bWVudEZyYWdtZW50IGFuZCB3ZSBkb24ndCB3YW50IHRvIGhvbGQgb250byBpdCB3aXRoIGFuIGluc3RhbmNlIGZpZWxkLlxuICAgIF9jbG9uZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBlbDogeyBjb250ZW50IH0sIHBhcnRzOiBwYXJ0cywgfSA9IHRoaXMuXyR0ZW1wbGF0ZTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSAoKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNyZWF0aW9uU2NvcGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGQpLmltcG9ydE5vZGUoY29udGVudCwgdHJ1ZSk7XG4gICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IGZyYWdtZW50O1xuICAgICAgICBsZXQgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICBsZXQgbm9kZUluZGV4ID0gMDtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCB0ZW1wbGF0ZVBhcnQgPSBwYXJ0c1swXTtcbiAgICAgICAgd2hpbGUgKHRlbXBsYXRlUGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAobm9kZUluZGV4ID09PSB0ZW1wbGF0ZVBhcnQuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFydDtcbiAgICAgICAgICAgICAgICBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IENISUxEX1BBUlQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydCA9IG5ldyBDaGlsZFBhcnQobm9kZSwgbm9kZS5uZXh0U2libGluZywgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRlbXBsYXRlUGFydC50eXBlID09PSBBVFRSSUJVVEVfUEFSVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gbmV3IHRlbXBsYXRlUGFydC5jdG9yKG5vZGUsIHRlbXBsYXRlUGFydC5uYW1lLCB0ZW1wbGF0ZVBhcnQuc3RyaW5ncywgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRlbXBsYXRlUGFydC50eXBlID09PSBFTEVNRU5UX1BBUlQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydCA9IG5ldyBFbGVtZW50UGFydChub2RlLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fJHBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVQYXJ0ID0gcGFydHNbKytwYXJ0SW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVJbmRleCAhPT0gKHRlbXBsYXRlUGFydCA9PT0gbnVsbCB8fCB0ZW1wbGF0ZVBhcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRlbXBsYXRlUGFydC5pbmRleCkpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgbmVlZCB0byBzZXQgdGhlIGN1cnJlbnROb2RlIGF3YXkgZnJvbSB0aGUgY2xvbmVkIHRyZWUgc28gdGhhdCB3ZVxuICAgICAgICAvLyBkb24ndCBob2xkIG9udG8gdGhlIHRyZWUgZXZlbiBpZiB0aGUgdHJlZSBpcyBkZXRhY2hlZCBhbmQgc2hvdWxkIGJlXG4gICAgICAgIC8vIGZyZWVkLlxuICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBkO1xuICAgICAgICByZXR1cm4gZnJhZ21lbnQ7XG4gICAgfVxuICAgIF91cGRhdGUodmFsdWVzKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuXyRwYXJ0cykge1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdzZXQgcGFydCcsXG4gICAgICAgICAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlSW5kZXg6IGksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVJbnN0YW5jZTogdGhpcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocGFydC5zdHJpbmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5fJHNldFZhbHVlKHZhbHVlcywgcGFydCwgaSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBudW1iZXIgb2YgdmFsdWVzIHRoZSBwYXJ0IGNvbnN1bWVzIGlzIHBhcnQuc3RyaW5ncy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIHZhbHVlcyBhcmUgaW4gYmV0d2VlbiB0ZW1wbGF0ZSBzcGFucy4gV2UgaW5jcmVtZW50IGkgYnkgMVxuICAgICAgICAgICAgICAgICAgICAvLyBsYXRlciBpbiB0aGUgbG9vcCwgc28gaW5jcmVtZW50IGl0IGJ5IHBhcnQuc3RyaW5ncy5sZW5ndGggLSAyIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgaSArPSBwYXJ0LnN0cmluZ3MubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQuXyRzZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIENoaWxkUGFydCB7XG4gICAgY29uc3RydWN0b3Ioc3RhcnROb2RlLCBlbmROb2RlLCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnR5cGUgPSBDSElMRF9QQVJUO1xuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBub3RoaW5nO1xuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGZpZWxkcyB3aWxsIGJlIHBhdGNoZWQgb250byBDaGlsZFBhcnRzIHdoZW4gcmVxdWlyZWQgYnlcbiAgICAgICAgLy8gQXN5bmNEaXJlY3RpdmVcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fJHN0YXJ0Tm9kZSA9IHN0YXJ0Tm9kZTtcbiAgICAgICAgdGhpcy5fJGVuZE5vZGUgPSBlbmROb2RlO1xuICAgICAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAvLyBOb3RlIF9faXNDb25uZWN0ZWQgaXMgb25seSBldmVyIGFjY2Vzc2VkIG9uIFJvb3RQYXJ0cyAoaS5lLiB3aGVuIHRoZXJlIGlzXG4gICAgICAgIC8vIG5vIF8kcGFyZW50KTsgdGhlIHZhbHVlIG9uIGEgbm9uLXJvb3QtcGFydCBpcyBcImRvbid0IGNhcmVcIiwgYnV0IGNoZWNraW5nXG4gICAgICAgIC8vIGZvciBwYXJlbnQgd291bGQgYmUgbW9yZSBjb2RlXG4gICAgICAgIHRoaXMuX19pc0Nvbm5lY3RlZCA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5pc0Nvbm5lY3RlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZTtcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gRXhwbGljaXRseSBpbml0aWFsaXplIGZvciBjb25zaXN0ZW50IGNsYXNzIHNoYXBlLlxuICAgICAgICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gICAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIC8vIENoaWxkUGFydHMgdGhhdCBhcmUgbm90IGF0IHRoZSByb290IHNob3VsZCBhbHdheXMgYmUgY3JlYXRlZCB3aXRoIGFcbiAgICAgICAgLy8gcGFyZW50OyBvbmx5IFJvb3RDaGlsZE5vZGUncyB3b24ndCwgc28gdGhleSByZXR1cm4gdGhlIGxvY2FsIGlzQ29ubmVjdGVkXG4gICAgICAgIC8vIHN0YXRlXG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLl8kcGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuXyRpc0Nvbm5lY3RlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5fX2lzQ29ubmVjdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcGFyZW50IG5vZGUgaW50byB3aGljaCB0aGUgcGFydCByZW5kZXJzIGl0cyBjb250ZW50LlxuICAgICAqXG4gICAgICogQSBDaGlsZFBhcnQncyBjb250ZW50IGNvbnNpc3RzIG9mIGEgcmFuZ2Ugb2YgYWRqYWNlbnQgY2hpbGQgbm9kZXMgb2ZcbiAgICAgKiBgLnBhcmVudE5vZGVgLCBwb3NzaWJseSBib3JkZXJlZCBieSAnbWFya2VyIG5vZGVzJyAoYC5zdGFydE5vZGVgIGFuZFxuICAgICAqIGAuZW5kTm9kZWApLlxuICAgICAqXG4gICAgICogLSBJZiBib3RoIGAuc3RhcnROb2RlYCBhbmQgYC5lbmROb2RlYCBhcmUgbm9uLW51bGwsIHRoZW4gdGhlIHBhcnQncyBjb250ZW50XG4gICAgICogY29uc2lzdHMgb2YgYWxsIHNpYmxpbmdzIGJldHdlZW4gYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgLCBleGNsdXNpdmVseS5cbiAgICAgKlxuICAgICAqIC0gSWYgYC5zdGFydE5vZGVgIGlzIG5vbi1udWxsIGJ1dCBgLmVuZE5vZGVgIGlzIG51bGwsIHRoZW4gdGhlIHBhcnQnc1xuICAgICAqIGNvbnRlbnQgY29uc2lzdHMgb2YgYWxsIHNpYmxpbmdzIGZvbGxvd2luZyBgLnN0YXJ0Tm9kZWAsIHVwIHRvIGFuZFxuICAgICAqIGluY2x1ZGluZyB0aGUgbGFzdCBjaGlsZCBvZiBgLnBhcmVudE5vZGVgLiBJZiBgLmVuZE5vZGVgIGlzIG5vbi1udWxsLCB0aGVuXG4gICAgICogYC5zdGFydE5vZGVgIHdpbGwgYWx3YXlzIGJlIG5vbi1udWxsLlxuICAgICAqXG4gICAgICogLSBJZiBib3RoIGAuZW5kTm9kZWAgYW5kIGAuc3RhcnROb2RlYCBhcmUgbnVsbCwgdGhlbiB0aGUgcGFydCdzIGNvbnRlbnRcbiAgICAgKiBjb25zaXN0cyBvZiBhbGwgY2hpbGQgbm9kZXMgb2YgYC5wYXJlbnROb2RlYC5cbiAgICAgKi9cbiAgICBnZXQgcGFyZW50Tm9kZSgpIHtcbiAgICAgICAgbGV0IHBhcmVudE5vZGUgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLnBhcmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuXyRwYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKHBhcmVudE5vZGUgPT09IG51bGwgfHwgcGFyZW50Tm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50Tm9kZS5ub2RlVHlwZSkgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlQgKi8pIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBwYXJlbnROb2RlIGlzIGEgRG9jdW1lbnRGcmFnbWVudCwgaXQgbWF5IGJlIGJlY2F1c2UgdGhlIERPTSBpc1xuICAgICAgICAgICAgLy8gc3RpbGwgaW4gdGhlIGNsb25lZCBmcmFnbWVudCBkdXJpbmcgaW5pdGlhbCByZW5kZXI7IGlmIHNvLCBnZXQgdGhlIHJlYWxcbiAgICAgICAgICAgIC8vIHBhcmVudE5vZGUgdGhlIHBhcnQgd2lsbCBiZSBjb21taXR0ZWQgaW50byBieSBhc2tpbmcgdGhlIHBhcmVudC5cbiAgICAgICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50Tm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBhcnQncyBsZWFkaW5nIG1hcmtlciBub2RlLCBpZiBhbnkuIFNlZSBgLnBhcmVudE5vZGVgIGZvciBtb3JlXG4gICAgICogaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgZ2V0IHN0YXJ0Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyRzdGFydE5vZGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJ0J3MgdHJhaWxpbmcgbWFya2VyIG5vZGUsIGlmIGFueS4gU2VlIGAucGFyZW50Tm9kZWAgZm9yIG1vcmVcbiAgICAgKiBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgZW5kTm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyRlbmROb2RlO1xuICAgIH1cbiAgICBfJHNldFZhbHVlKHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQgPSB0aGlzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGlzIFxcYENoaWxkUGFydFxcYCBoYXMgbm8gXFxgcGFyZW50Tm9kZVxcYCBhbmQgdGhlcmVmb3JlIGNhbm5vdCBhY2NlcHQgYSB2YWx1ZS4gVGhpcyBsaWtlbHkgbWVhbnMgdGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgcGFydCB3YXMgbWFuaXB1bGF0ZWQgaW4gYW4gdW5zdXBwb3J0ZWQgd2F5IG91dHNpZGUgb2YgTGl0J3MgY29udHJvbCBzdWNoIHRoYXQgdGhlIHBhcnQncyBtYXJrZXIgbm9kZXMgd2VyZSBlamVjdGVkIGZyb20gRE9NLiBGb3IgZXhhbXBsZSwgc2V0dGluZyB0aGUgZWxlbWVudCdzIFxcYGlubmVySFRNTFxcYCBvciBcXGB0ZXh0Q29udGVudFxcYCBjYW4gZG8gdGhpcy5gKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUsIGRpcmVjdGl2ZVBhcmVudCk7XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIE5vbi1yZW5kZXJpbmcgY2hpbGQgdmFsdWVzLiBJdCdzIGltcG9ydGFudCB0aGF0IHRoZXNlIGRvIG5vdCByZW5kZXJcbiAgICAgICAgICAgIC8vIGVtcHR5IHRleHQgbm9kZXMgdG8gYXZvaWQgaXNzdWVzIHdpdGggcHJldmVudGluZyBkZWZhdWx0IDxzbG90PlxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgY29udGVudC5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZyB8fCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgbm90aGluZyB0byBjaGlsZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogdGhpcy5fJHN0YXJ0Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogdGhpcy5fJGVuZE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IHRoaXMuXyRwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9PSB0aGlzLl8kY29tbWl0dGVkVmFsdWUgJiYgdmFsdWUgIT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlWydfJGxpdFR5cGUkJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlLm5vZGVUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaG9zdCkgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tbWl0VGV4dChgW3Byb2JhYmxlIG1pc3Rha2U6IHJlbmRlcmVkIGEgdGVtcGxhdGUncyBob3N0IGluIGl0c2VsZiBgICtcbiAgICAgICAgICAgICAgICAgICAgYChjb21tb25seSBjYXVzZWQgYnkgd3JpdGluZyBcXCR7dGhpc30gaW4gYSB0ZW1wbGF0ZV1gKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEF0dGVtcHRlZCB0byByZW5kZXIgdGhlIHRlbXBsYXRlIGhvc3RgLCB2YWx1ZSwgYGluc2lkZSBpdHNlbGYuIFRoaXMgaXMgYWxtb3N0IGFsd2F5cyBhIG1pc3Rha2UsIGFuZCBpbiBkZXYgbW9kZSBgLCBgd2UgcmVuZGVyIHNvbWUgd2FybmluZyB0ZXh0LiBJbiBwcm9kdWN0aW9uIGhvd2V2ZXIsIHdlJ2xsIGAsIGByZW5kZXIgaXQsIHdoaWNoIHdpbGwgdXN1YWxseSByZXN1bHQgaW4gYW4gZXJyb3IsIGFuZCBzb21ldGltZXMgYCwgYGluIHRoZSBlbGVtZW50IGRpc2FwcGVhcmluZyBmcm9tIHRoZSBET00uYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY29tbWl0Tm9kZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrLCB3aWxsIHJlbmRlciB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgICAgICAgICB0aGlzLl9jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaW5zZXJ0KG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHdyYXAod3JhcCh0aGlzLl8kc3RhcnROb2RlKS5wYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUobm9kZSwgdGhpcy5fJGVuZE5vZGUpO1xuICAgIH1cbiAgICBfY29tbWl0Tm9kZSh2YWx1ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl8kY2xlYXIoKTtcbiAgICAgICAgICAgIGlmIChzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgIT09IG5vb3BTYW5pdGl6ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlTmFtZSA9IChfYSA9IHRoaXMuXyRzdGFydE5vZGUucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5vZGVOYW1lO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnROb2RlTmFtZSA9PT0gJ1NUWUxFJyB8fCBwYXJlbnROb2RlTmFtZSA9PT0gJ1NDUklQVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSAnRm9yYmlkZGVuJztcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGVOYW1lID09PSAnU1RZTEUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBMaXQgZG9lcyBub3Qgc3VwcG9ydCBiaW5kaW5nIGluc2lkZSBzdHlsZSBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVGhpcyBpcyBhIHNlY3VyaXR5IHJpc2ssIGFzIHN0eWxlIGluamVjdGlvbiBhdHRhY2tzIGNhbiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBleGZpbHRyYXRlIGRhdGEgYW5kIHNwb29mIFVJcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgQ29uc2lkZXIgaW5zdGVhZCB1c2luZyBjc3NcXGAuLi5cXGAgbGl0ZXJhbHMgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgdG8gY29tcG9zZSBzdHlsZXMsIGFuZCBtYWtlIGRvIGR5bmFtaWMgc3R5bGluZyB3aXRoIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGNzcyBjdXN0b20gcHJvcGVydGllcywgOjpwYXJ0cywgPHNsb3Q+cywgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYW5kIGJ5IG11dGF0aW5nIHRoZSBET00gcmF0aGVyIHRoYW4gc3R5bGVzaGVldHMuYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgTGl0IGRvZXMgbm90IHN1cHBvcnQgYmluZGluZyBpbnNpZGUgc2NyaXB0IG5vZGVzLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBUaGlzIGlzIGEgc2VjdXJpdHkgcmlzaywgYXMgaXQgY291bGQgYWxsb3cgYXJiaXRyYXJ5IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGNvZGUgZXhlY3V0aW9uLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBub2RlJyxcbiAgICAgICAgICAgICAgICBzdGFydDogdGhpcy5fJHN0YXJ0Tm9kZSxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHRoaXMuXyRwYXJlbnQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdGhpcy5faW5zZXJ0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29tbWl0VGV4dCh2YWx1ZSkge1xuICAgICAgICAvLyBJZiB0aGUgY29tbWl0dGVkIHZhbHVlIGlzIGEgcHJpbWl0aXZlIGl0IG1lYW5zIHdlIGNhbGxlZCBfY29tbWl0VGV4dCBvblxuICAgICAgICAvLyB0aGUgcHJldmlvdXMgcmVuZGVyLCBhbmQgd2Uga25vdyB0aGF0IHRoaXMuXyRzdGFydE5vZGUubmV4dFNpYmxpbmcgaXMgYVxuICAgICAgICAvLyBUZXh0IG5vZGUuIFdlIGNhbiBub3cganVzdCByZXBsYWNlIHRoZSB0ZXh0IGNvbnRlbnQgKC5kYXRhKSBvZiB0aGUgbm9kZS5cbiAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gbm90aGluZyAmJlxuICAgICAgICAgICAgaXNQcmltaXRpdmUodGhpcy5fJGNvbW1pdHRlZFZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRTYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyKG5vZGUsICdkYXRhJywgJ3Byb3BlcnR5Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fdGV4dFNhbml0aXplcih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ID09PSBudWxsIHx8IGRlYnVnTG9nRXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCcsXG4gICAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHROb2RlID0gZC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tbWl0Tm9kZSh0ZXh0Tm9kZSk7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBzZXR0aW5nIHRleHQgY29udGVudCwgZm9yIHNlY3VyaXR5IHB1cnBvc2VzIGl0IG1hdHRlcnMgYSBsb3RcbiAgICAgICAgICAgICAgICAvLyB3aGF0IHRoZSBwYXJlbnQgaXMuIEZvciBleGFtcGxlLCA8c3R5bGU+IGFuZCA8c2NyaXB0PiBuZWVkIHRvIGJlXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlZCB3aXRoIGNhcmUsIHdoaWxlIDxzcGFuPiBkb2VzIG5vdC4gU28gZmlyc3Qgd2UgbmVlZCB0byBwdXQgYVxuICAgICAgICAgICAgICAgIC8vIHRleHQgbm9kZSBpbnRvIHRoZSBkb2N1bWVudCwgdGhlbiB3ZSBjYW4gc2FuaXRpemUgaXRzIGNvbnRlbnQuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRTYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyKHRleHROb2RlLCAnZGF0YScsICdwcm9wZXJ0eScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3RleHRTYW5pdGl6ZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCcsXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRleHROb2RlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRleHROb2RlLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHJlc3VsdCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIGNvbnN0IHsgdmFsdWVzLCBbJ18kbGl0VHlwZSQnXTogdHlwZSB9ID0gcmVzdWx0O1xuICAgICAgICAvLyBJZiAkbGl0VHlwZSQgaXMgYSBudW1iZXIsIHJlc3VsdCBpcyBhIHBsYWluIFRlbXBsYXRlUmVzdWx0IGFuZCB3ZSBnZXRcbiAgICAgICAgLy8gdGhlIHRlbXBsYXRlIGZyb20gdGhlIHRlbXBsYXRlIGNhY2hlLiBJZiBub3QsIHJlc3VsdCBpcyBhXG4gICAgICAgIC8vIENvbXBpbGVkVGVtcGxhdGVSZXN1bHQgYW5kIF8kbGl0VHlwZSQgaXMgYSBDb21waWxlZFRlbXBsYXRlIGFuZCB3ZSBuZWVkXG4gICAgICAgIC8vIHRvIGNyZWF0ZSB0aGUgPHRlbXBsYXRlPiBlbGVtZW50IHRoZSBmaXJzdCB0aW1lIHdlIHNlZSBpdC5cbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0eXBlb2YgdHlwZSA9PT0gJ251bWJlcidcbiAgICAgICAgICAgID8gdGhpcy5fJGdldFRlbXBsYXRlKHJlc3VsdClcbiAgICAgICAgICAgIDogKHR5cGUuZWwgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICh0eXBlLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudCh0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyh0eXBlLmgsIHR5cGUuaFswXSksIHRoaXMub3B0aW9ucykpLFxuICAgICAgICAgICAgICAgIHR5cGUpO1xuICAgICAgICBpZiAoKChfYSA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLl8kdGVtcGxhdGUpID09PSB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgICAgICBraW5kOiAndGVtcGxhdGUgdXBkYXRpbmcnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLl8kY29tbWl0dGVkVmFsdWUsXG4gICAgICAgICAgICAgICAgcGFydHM6IHRoaXMuXyRjb21taXR0ZWRWYWx1ZS5fJHBhcnRzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZS5fdXBkYXRlKHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBUZW1wbGF0ZUluc3RhbmNlKHRlbXBsYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaW5zdGFuY2UuX2Nsb25lKHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50ID09PSBudWxsIHx8IGRlYnVnTG9nRXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBpbnN0YW50aWF0ZWQnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHBhcnRzOiBpbnN0YW5jZS5fJHBhcnRzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGUodmFsdWVzKTtcbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCBhbmQgdXBkYXRlZCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgcGFydHM6IGluc3RhbmNlLl8kcGFydHMsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGZyYWdtZW50LFxuICAgICAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fY29tbWl0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBPdmVycmlkZGVuIHZpYSBgbGl0SHRtbFBvbHlmaWxsU3VwcG9ydGAgdG8gcHJvdmlkZSBwbGF0Zm9ybSBzdXBwb3J0LlxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfJGdldFRlbXBsYXRlKHJlc3VsdCkge1xuICAgICAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZUNhY2hlLnNldChyZXN1bHQuc3RyaW5ncywgKHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxuICAgIF9jb21taXRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgICAgICAvLyB2YWx1ZSB0byB0aGUgaXRlbS4gVGhpcyBpcyBhIGxpdHRsZSBiaXQgb2Ygb3ZlcmhlYWQgZm9yIGV2ZXJ5IGl0ZW0gaW5cbiAgICAgICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgICAgICAvLyBhcnJheS5tYXAoKGkpID0+IGh0bWxgJHtpfWApLCBieSByZXVzaW5nIGV4aXN0aW5nIFRlbXBsYXRlSW5zdGFuY2VzLlxuICAgICAgICAvLyBJZiB2YWx1ZSBpcyBhbiBhcnJheSwgdGhlbiB0aGUgcHJldmlvdXMgcmVuZGVyIHdhcyBvZiBhblxuICAgICAgICAvLyBpdGVyYWJsZSBhbmQgdmFsdWUgd2lsbCBjb250YWluIHRoZSBDaGlsZFBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgICAgIC8vIHJlbmRlci4gSWYgdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAgICAgLy8gYXJyYXkgZm9yIENoaWxkUGFydHMuXG4gICAgICAgIGlmICghaXNBcnJheSh0aGlzLl8kY29tbWl0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgICAgICAvLyBpdGVtcyBmcm9tIGEgcHJldmlvdXMgcmVuZGVyXG4gICAgICAgIGNvbnN0IGl0ZW1QYXJ0cyA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpdGVtUGFydDtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAocGFydEluZGV4ID09PSBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgbm8gZXhpc3RpbmcgcGFydCwgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiB0ZXN0IHBlcmYgaW1wYWN0IG9mIGFsd2F5cyBjcmVhdGluZyB0d28gcGFydHNcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIHNoYXJpbmcgcGFydHMgYmV0d2VlbiBub2Rlc1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L2lzc3Vlcy8xMjY2XG4gICAgICAgICAgICAgICAgaXRlbVBhcnRzLnB1c2goKGl0ZW1QYXJ0ID0gbmV3IENoaWxkUGFydCh0aGlzLl9pbnNlcnQoY3JlYXRlTWFya2VyKCkpLCB0aGlzLl9pbnNlcnQoY3JlYXRlTWFya2VyKCkpLCB0aGlzLCB0aGlzLm9wdGlvbnMpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICAgICAgICAgICAgaXRlbVBhcnQgPSBpdGVtUGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1QYXJ0Ll8kc2V0VmFsdWUoaXRlbSk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydEluZGV4IDwgaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gaXRlbVBhcnRzIGFsd2F5cyBoYXZlIGVuZCBub2Rlc1xuICAgICAgICAgICAgdGhpcy5fJGNsZWFyKGl0ZW1QYXJ0ICYmIHdyYXAoaXRlbVBhcnQuXyRlbmROb2RlKS5uZXh0U2libGluZywgcGFydEluZGV4KTtcbiAgICAgICAgICAgIC8vIFRydW5jYXRlIHRoZSBwYXJ0cyBhcnJheSBzbyBfdmFsdWUgcmVmbGVjdHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgICAgICAgIGl0ZW1QYXJ0cy5sZW5ndGggPSBwYXJ0SW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbm9kZXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIFBhcnQgZnJvbSB0aGUgRE9NLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXJ0IFN0YXJ0IG5vZGUgdG8gY2xlYXIgZnJvbSwgZm9yIGNsZWFyaW5nIGEgc3Vic2V0IG9mIHRoZSBwYXJ0J3NcbiAgICAgKiAgICAgRE9NICh1c2VkIHdoZW4gdHJ1bmNhdGluZyBpdGVyYWJsZXMpXG4gICAgICogQHBhcmFtIGZyb20gIFdoZW4gYHN0YXJ0YCBpcyBzcGVjaWZpZWQsIHRoZSBpbmRleCB3aXRoaW4gdGhlIGl0ZXJhYmxlIGZyb21cbiAgICAgKiAgICAgd2hpY2ggQ2hpbGRQYXJ0cyBhcmUgYmVpbmcgcmVtb3ZlZCwgdXNlZCBmb3IgZGlzY29ubmVjdGluZyBkaXJlY3RpdmVzIGluXG4gICAgICogICAgIHRob3NlIFBhcnRzLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgXyRjbGVhcihzdGFydCA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmcsIGZyb20pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLl8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMsIGZhbHNlLCB0cnVlLCBmcm9tKTtcbiAgICAgICAgd2hpbGUgKHN0YXJ0ICYmIHN0YXJ0ICE9PSB0aGlzLl8kZW5kTm9kZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHdyYXAoc3RhcnQpLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgd3JhcChzdGFydCkucmVtb3ZlKCk7XG4gICAgICAgICAgICBzdGFydCA9IG47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50YXRpb24gb2YgUm9vdFBhcnQncyBgaXNDb25uZWN0ZWRgLiBOb3RlIHRoYXQgdGhpcyBtZXRvZFxuICAgICAqIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBgUm9vdFBhcnRgcyAodGhlIGBDaGlsZFBhcnRgIHJldHVybmVkIGZyb20gYVxuICAgICAqIHRvcC1sZXZlbCBgcmVuZGVyKClgIGNhbGwpLiBJdCBoYXMgbm8gZWZmZWN0IG9uIG5vbi1yb290IENoaWxkUGFydHMuXG4gICAgICogQHBhcmFtIGlzQ29ubmVjdGVkIFdoZXRoZXIgdG8gc2V0XG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc2V0Q29ubmVjdGVkKGlzQ29ubmVjdGVkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuXyRwYXJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fX2lzQ29ubmVjdGVkID0gaXNDb25uZWN0ZWQ7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLl8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMsIGlzQ29ubmVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGFydC5zZXRDb25uZWN0ZWQoKSBtYXkgb25seSBiZSBjYWxsZWQgb24gYSAnICtcbiAgICAgICAgICAgICAgICAnUm9vdFBhcnQgcmV0dXJuZWQgZnJvbSByZW5kZXIoKS4nKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIHBhcmVudCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnR5cGUgPSBBVFRSSUJVVEVfUEFSVDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBub3RoaW5nO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAoc3RyaW5ncy5sZW5ndGggPiAyIHx8IHN0cmluZ3NbMF0gIT09ICcnIHx8IHN0cmluZ3NbMV0gIT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBuZXcgQXJyYXkoc3RyaW5ncy5sZW5ndGggLSAxKS5maWxsKG5ldyBTdHJpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zYW5pdGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZTtcbiAgICB9XG4gICAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICAgIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGlzIHBhcnQgYnkgcmVzb2x2aW5nIHRoZSB2YWx1ZSBmcm9tIHBvc3NpYmx5IG11bHRpcGxlXG4gICAgICogdmFsdWVzIGFuZCBzdGF0aWMgc3RyaW5ncyBhbmQgY29tbWl0dGluZyBpdCB0byB0aGUgRE9NLlxuICAgICAqIElmIHRoaXMgcGFydCBpcyBzaW5nbGUtdmFsdWVkLCBgdGhpcy5fc3RyaW5nc2Agd2lsbCBiZSB1bmRlZmluZWQsIGFuZCB0aGVcbiAgICAgKiBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIHNpbmdsZSB2YWx1ZSBhcmd1bWVudC4gSWYgdGhpcyBwYXJ0IGlzXG4gICAgICogbXVsdGktdmFsdWUsIGB0aGlzLl9zdHJpbmdzYCB3aWxsIGJlIGRlZmluZWQsIGFuZCB0aGUgbWV0aG9kIGlzIGNhbGxlZFxuICAgICAqIHdpdGggdGhlIHZhbHVlIGFycmF5IG9mIHRoZSBwYXJ0J3Mgb3duaW5nIFRlbXBsYXRlSW5zdGFuY2UsIGFuZCBhbiBvZmZzZXRcbiAgICAgKiBpbnRvIHRoZSB2YWx1ZSBhcnJheSBmcm9tIHdoaWNoIHRoZSB2YWx1ZXMgc2hvdWxkIGJlIHJlYWQuXG4gICAgICogVGhpcyBtZXRob2QgaXMgb3ZlcmxvYWRlZCB0aGlzIHdheSB0byBlbGltaW5hdGUgc2hvcnQtbGl2ZWQgYXJyYXkgc2xpY2VzXG4gICAgICogb2YgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHZhbHVlcywgYW5kIGFsbG93IGEgZmFzdC1wYXRoIGZvciBzaW5nbGUtdmFsdWVkXG4gICAgICogcGFydHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHBhcnQgdmFsdWUsIG9yIGFuIGFycmF5IG9mIHZhbHVlcyBmb3IgbXVsdGktdmFsdWVkIHBhcnRzXG4gICAgICogQHBhcmFtIHZhbHVlSW5kZXggdGhlIGluZGV4IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzIGZyb20uIGB1bmRlZmluZWRgIGZvclxuICAgICAqICAgc2luZ2xlLXZhbHVlZCBwYXJ0c1xuICAgICAqIEBwYXJhbSBub0NvbW1pdCBjYXVzZXMgdGhlIHBhcnQgdG8gbm90IGNvbW1pdCBpdHMgdmFsdWUgdG8gdGhlIERPTS4gVXNlZFxuICAgICAqICAgaW4gaHlkcmF0aW9uIHRvIHByaW1lIGF0dHJpYnV0ZSBwYXJ0cyB3aXRoIHRoZWlyIGZpcnN0LXJlbmRlcmVkIHZhbHVlLFxuICAgICAqICAgYnV0IG5vdCBzZXQgdGhlIGF0dHJpYnV0ZSwgYW5kIGluIFNTUiB0byBuby1vcCB0aGUgRE9NIG9wZXJhdGlvbiBhbmRcbiAgICAgKiAgIGNhcHR1cmUgdGhlIHZhbHVlIGZvciBzZXJpYWxpemF0aW9uLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgXyRzZXRWYWx1ZSh2YWx1ZSwgZGlyZWN0aXZlUGFyZW50ID0gdGhpcywgdmFsdWVJbmRleCwgbm9Db21taXQpIHtcbiAgICAgICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcbiAgICAgICAgLy8gV2hldGhlciBhbnkgb2YgdGhlIHZhbHVlcyBoYXMgY2hhbmdlZCwgZm9yIGRpcnR5LWNoZWNraW5nXG4gICAgICAgIGxldCBjaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0cmluZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gU2luZ2xlLXZhbHVlIGJpbmRpbmcgY2FzZVxuICAgICAgICAgICAgdmFsdWUgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQsIDApO1xuICAgICAgICAgICAgY2hhbmdlID1cbiAgICAgICAgICAgICAgICAhaXNQcmltaXRpdmUodmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICh2YWx1ZSAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlICYmIHZhbHVlICE9PSBub0NoYW5nZSk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJbnRlcnBvbGF0aW9uIGNhc2VcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHZhbHVlO1xuICAgICAgICAgICAgdmFsdWUgPSBzdHJpbmdzWzBdO1xuICAgICAgICAgICAgbGV0IGksIHY7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ID0gcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZXNbdmFsdWVJbmRleCArIGldLCBkaXJlY3RpdmVQYXJlbnQsIGkpO1xuICAgICAgICAgICAgICAgIGlmICh2ID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdXNlci1wcm92aWRlZCB2YWx1ZSBpcyBgbm9DaGFuZ2VgLCB1c2UgdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIHYgPSB0aGlzLl8kY29tbWl0dGVkVmFsdWVbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoYW5nZSB8fCAoY2hhbmdlID0gIWlzUHJpbWl0aXZlKHYpIHx8IHYgIT09IHRoaXMuXyRjb21taXR0ZWRWYWx1ZVtpXSk7XG4gICAgICAgICAgICAgICAgaWYgKHYgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBub3RoaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gbm90aGluZykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSAodiAhPT0gbnVsbCAmJiB2ICE9PSB2b2lkIDAgPyB2IDogJycpICsgc3RyaW5nc1tpICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdlIGFsd2F5cyByZWNvcmQgZWFjaCB2YWx1ZSwgZXZlbiBpZiBvbmUgaXMgYG5vdGhpbmdgLCBmb3IgZnV0dXJlXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIGRldGVjdGlvbi5cbiAgICAgICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWVbaV0gPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2UgJiYgIW5vQ29tbWl0KSB7XG4gICAgICAgICAgICB0aGlzLl9jb21taXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9jb21taXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgIHdyYXAodGhpcy5lbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2FuaXRpemVyID0gc2FuaXRpemVyRmFjdG9yeUludGVybmFsKHRoaXMuZWxlbWVudCwgdGhpcy5uYW1lLCAnYXR0cmlidXRlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fc2FuaXRpemVyKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDAgPyB2YWx1ZSA6ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbW1pdCBhdHRyaWJ1dGUnLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3cmFwKHRoaXMuZWxlbWVudCkuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDAgPyB2YWx1ZSA6ICcnKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBQcm9wZXJ0eVBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy50eXBlID0gUFJPUEVSVFlfUEFSVDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9jb21taXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zYW5pdGl6ZXIgPSBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwodGhpcy5lbGVtZW50LCB0aGlzLm5hbWUsICdwcm9wZXJ0eScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9zYW5pdGl6ZXIodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnY29tbWl0IHByb3BlcnR5JyxcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdGhpcy5lbGVtZW50W3RoaXMubmFtZV0gPSB2YWx1ZSA9PT0gbm90aGluZyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cbn1cbi8vIFRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBodHRwczovL2NyYnVnLmNvbS85OTMyNjhcbi8vIEN1cnJlbnRseSwgYW55IGF0dHJpYnV0ZSBzdGFydGluZyB3aXRoIFwib25cIiBpcyBjb25zaWRlcmVkIHRvIGJlIGFcbi8vIFRydXN0ZWRTY3JpcHQgc291cmNlLiBTdWNoIGJvb2xlYW4gYXR0cmlidXRlcyBtdXN0IGJlIHNldCB0byB0aGUgZXF1aXZhbGVudFxuLy8gdHJ1c3RlZCBlbXB0eVNjcmlwdCB2YWx1ZS5cbmNvbnN0IGVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSA9IHRydXN0ZWRUeXBlc1xuICAgID8gdHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0XG4gICAgOiAnJztcbmNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudHlwZSA9IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfY29tbWl0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgZGVidWdMb2dFdmVudCA9PT0gbnVsbCB8fCBkZWJ1Z0xvZ0V2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgYm9vbGVhbiBhdHRyaWJ1dGUnLFxuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgdmFsdWU6ICEhKHZhbHVlICYmIHZhbHVlICE9PSBub3RoaW5nKSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPT0gbm90aGluZykge1xuICAgICAgICAgICAgd3JhcCh0aGlzLmVsZW1lbnQpLnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsIGVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3cmFwKHRoaXMuZWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKHRoaXMubmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBFdmVudFBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzLCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncywgcGFyZW50LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy50eXBlID0gRVZFTlRfUEFSVDtcbiAgICAgICAgaWYgKHRoaXMuc3RyaW5ncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgXFxgPCR7ZWxlbWVudC5sb2NhbE5hbWV9PlxcYCBoYXMgYSBcXGBAJHtuYW1lfT0uLi5cXGAgbGlzdGVuZXIgd2l0aCBgICtcbiAgICAgICAgICAgICAgICAnaW52YWxpZCBjb250ZW50LiBFdmVudCBsaXN0ZW5lcnMgaW4gdGVtcGxhdGVzIG11c3QgaGF2ZSBleGFjdGx5ICcgK1xuICAgICAgICAgICAgICAgICdvbmUgZXhwcmVzc2lvbiBhbmQgbm8gc3Vycm91bmRpbmcgdGV4dC4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBFdmVudFBhcnQgZG9lcyBub3QgdXNlIHRoZSBiYXNlIF8kc2V0VmFsdWUvX3Jlc29sdmVWYWx1ZSBpbXBsZW1lbnRhdGlvblxuICAgIC8vIHNpbmNlIHRoZSBkaXJ0eSBjaGVja2luZyBpcyBtb3JlIGNvbXBsZXhcbiAgICAvKiogQGludGVybmFsICovXG4gICAgXyRzZXRWYWx1ZShuZXdMaXN0ZW5lciwgZGlyZWN0aXZlUGFyZW50ID0gdGhpcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIG5ld0xpc3RlbmVyID1cbiAgICAgICAgICAgIChfYSA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgbmV3TGlzdGVuZXIsIGRpcmVjdGl2ZVBhcmVudCwgMCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5vdGhpbmc7XG4gICAgICAgIGlmIChuZXdMaXN0ZW5lciA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZTtcbiAgICAgICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyBub3RoaW5nIG9yIGFueSBvcHRpb25zIGNoYW5nZSB3ZSBoYXZlIHRvIHJlbW92ZSB0aGVcbiAgICAgICAgLy8gcGFydCBhcyBhIGxpc3RlbmVyLlxuICAgICAgICBjb25zdCBzaG91bGRSZW1vdmVMaXN0ZW5lciA9IChuZXdMaXN0ZW5lciA9PT0gbm90aGluZyAmJiBvbGRMaXN0ZW5lciAhPT0gbm90aGluZykgfHxcbiAgICAgICAgICAgIG5ld0xpc3RlbmVyLmNhcHR1cmUgIT09XG4gICAgICAgICAgICAgICAgb2xkTGlzdGVuZXIuY2FwdHVyZSB8fFxuICAgICAgICAgICAgbmV3TGlzdGVuZXIub25jZSAhPT1cbiAgICAgICAgICAgICAgICBvbGRMaXN0ZW5lci5vbmNlIHx8XG4gICAgICAgICAgICBuZXdMaXN0ZW5lci5wYXNzaXZlICE9PVxuICAgICAgICAgICAgICAgIG9sZExpc3RlbmVyLnBhc3NpdmU7XG4gICAgICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgbm90IG5vdGhpbmcgYW5kIHdlIHJlbW92ZWQgdGhlIGxpc3RlbmVyLCB3ZSBoYXZlXG4gICAgICAgIC8vIHRvIGFkZCB0aGUgcGFydCBhcyBhIGxpc3RlbmVyLlxuICAgICAgICBjb25zdCBzaG91bGRBZGRMaXN0ZW5lciA9IG5ld0xpc3RlbmVyICE9PSBub3RoaW5nICYmXG4gICAgICAgICAgICAob2xkTGlzdGVuZXIgPT09IG5vdGhpbmcgfHwgc2hvdWxkUmVtb3ZlTGlzdGVuZXIpO1xuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ID09PSBudWxsIHx8IGRlYnVnTG9nRXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAga2luZDogJ2NvbW1pdCBldmVudCBsaXN0ZW5lcicsXG4gICAgICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3TGlzdGVuZXIsXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICByZW1vdmVMaXN0ZW5lcjogc2hvdWxkUmVtb3ZlTGlzdGVuZXIsXG4gICAgICAgICAgICBhZGRMaXN0ZW5lcjogc2hvdWxkQWRkTGlzdGVuZXIsXG4gICAgICAgICAgICBvbGRMaXN0ZW5lcixcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLCB0aGlzLCBvbGRMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZEFkZExpc3RlbmVyKSB7XG4gICAgICAgICAgICAvLyBCZXdhcmU6IElFMTEgYW5kIENocm9tZSA0MSBkb24ndCBsaWtlIHVzaW5nIHRoZSBsaXN0ZW5lciBhcyB0aGVcbiAgICAgICAgICAgIC8vIG9wdGlvbnMgb2JqZWN0LiBGaWd1cmUgb3V0IGhvdyB0byBkZWFsIHcvIHRoaXMgaW4gSUUxMSAtIG1heWJlXG4gICAgICAgICAgICAvLyBwYXRjaCBhZGRFdmVudExpc3RlbmVyP1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLCB0aGlzLCBuZXdMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3TGlzdGVuZXI7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUuY2FsbCgoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ob3N0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmVsZW1lbnQsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBFbGVtZW50UGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgcGFyZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMudHlwZSA9IEVMRU1FTlRfUEFSVDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICAgIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICAgIH1cbiAgICBfJHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnY29tbWl0IHRvIGVsZW1lbnQgYmluZGluZycsXG4gICAgICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogRU5EIFVTRVJTIFNIT1VMRCBOT1QgUkVMWSBPTiBUSElTIE9CSkVDVC5cbiAqXG4gKiBQcml2YXRlIGV4cG9ydHMgZm9yIHVzZSBieSBvdGhlciBMaXQgcGFja2FnZXMsIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5XG4gKiBleHRlcm5hbCB1c2Vycy5cbiAqXG4gKiBXZSBjdXJyZW50bHkgZG8gbm90IG1ha2UgYSBtYW5nbGVkIHJvbGx1cCBidWlsZCBvZiB0aGUgbGl0LXNzciBjb2RlLiBJbiBvcmRlclxuICogdG8ga2VlcCBhIG51bWJlciBvZiAob3RoZXJ3aXNlIHByaXZhdGUpIHRvcC1sZXZlbCBleHBvcnRzICBtYW5nbGVkIGluIHRoZVxuICogY2xpZW50IHNpZGUgY29kZSwgd2UgZXhwb3J0IGEgXyRMSCBvYmplY3QgY29udGFpbmluZyB0aG9zZSBtZW1iZXJzIChvclxuICogaGVscGVyIG1ldGhvZHMgZm9yIGFjY2Vzc2luZyBwcml2YXRlIGZpZWxkcyBvZiB0aG9zZSBtZW1iZXJzKSwgYW5kIHRoZW5cbiAqIHJlLWV4cG9ydCB0aGVtIGZvciB1c2UgaW4gbGl0LXNzci4gVGhpcyBrZWVwcyBsaXQtc3NyIGFnbm9zdGljIHRvIHdoZXRoZXIgdGhlXG4gKiBjbGllbnQtc2lkZSBjb2RlIGlzIGJlaW5nIHVzZWQgaW4gYGRldmAgbW9kZSBvciBgcHJvZGAgbW9kZS5cbiAqXG4gKiBUaGlzIGhhcyBhIHVuaXF1ZSBuYW1lLCB0byBkaXNhbWJpZ3VhdGUgaXQgZnJvbSBwcml2YXRlIGV4cG9ydHMgaW5cbiAqIGxpdC1lbGVtZW50LCB3aGljaCByZS1leHBvcnRzIGFsbCBvZiBsaXQtaHRtbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBfJExIID0ge1xuICAgIC8vIFVzZWQgaW4gbGl0LXNzclxuICAgIF9ib3VuZEF0dHJpYnV0ZVN1ZmZpeDogYm91bmRBdHRyaWJ1dGVTdWZmaXgsXG4gICAgX21hcmtlcjogbWFya2VyLFxuICAgIF9tYXJrZXJNYXRjaDogbWFya2VyTWF0Y2gsXG4gICAgX0hUTUxfUkVTVUxUOiBIVE1MX1JFU1VMVCxcbiAgICBfZ2V0VGVtcGxhdGVIdG1sOiBnZXRUZW1wbGF0ZUh0bWwsXG4gICAgLy8gVXNlZCBpbiB0ZXN0cyBhbmQgcHJpdmF0ZS1zc3Itc3VwcG9ydFxuICAgIF9UZW1wbGF0ZUluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlLFxuICAgIF9pc0l0ZXJhYmxlOiBpc0l0ZXJhYmxlLFxuICAgIF9yZXNvbHZlRGlyZWN0aXZlOiByZXNvbHZlRGlyZWN0aXZlLFxuICAgIF9DaGlsZFBhcnQ6IENoaWxkUGFydCxcbiAgICBfQXR0cmlidXRlUGFydDogQXR0cmlidXRlUGFydCxcbiAgICBfQm9vbGVhbkF0dHJpYnV0ZVBhcnQ6IEJvb2xlYW5BdHRyaWJ1dGVQYXJ0LFxuICAgIF9FdmVudFBhcnQ6IEV2ZW50UGFydCxcbiAgICBfUHJvcGVydHlQYXJ0OiBQcm9wZXJ0eVBhcnQsXG4gICAgX0VsZW1lbnRQYXJ0OiBFbGVtZW50UGFydCxcbn07XG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBnbG9iYWwubGl0SHRtbFBvbHlmaWxsU3VwcG9ydERldk1vZGVcbiAgICA7XG5wb2x5ZmlsbFN1cHBvcnQgPT09IG51bGwgfHwgcG9seWZpbGxTdXBwb3J0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb2x5ZmlsbFN1cHBvcnQoVGVtcGxhdGUsIENoaWxkUGFydCk7XG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIGxpdC1odG1sIHVzYWdlLlxuKChfZCA9IGdsb2JhbC5saXRIdG1sVmVyc2lvbnMpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IChnbG9iYWwubGl0SHRtbFZlcnNpb25zID0gW10pKS5wdXNoKCcyLjguMCcpO1xuaWYgKGdsb2JhbC5saXRIdG1sVmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICAgIGlzc3VlV2FybmluZygnbXVsdGlwbGUtdmVyc2lvbnMnLCBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gYCArXG4gICAgICAgIGBMb2FkaW5nIG11bHRpcGxlIHZlcnNpb25zIGlzIG5vdCByZWNvbW1lbmRlZC5gKTtcbn1cbi8qKlxuICogUmVuZGVycyBhIHZhbHVlLCB1c3VhbGx5IGEgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQsIHRvIHRoZSBjb250YWluZXIuXG4gKlxuICogVGhpcyBleGFtcGxlIHJlbmRlcnMgdGhlIHRleHQgXCJIZWxsbywgWm9lIVwiIGluc2lkZSBhIHBhcmFncmFwaCB0YWcsIGFwcGVuZGluZ1xuICogaXQgdG8gdGhlIGNvbnRhaW5lciBgZG9jdW1lbnQuYm9keWAuXG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQnO1xuICpcbiAqIGNvbnN0IG5hbWUgPSBcIlpvZVwiO1xuICogcmVuZGVyKGh0bWxgPHA+SGVsbG8sICR7bmFtZX0hPC9wPmAsIGRvY3VtZW50LmJvZHkpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHZhbHVlIEFueSBbcmVuZGVyYWJsZVxuICogICB2YWx1ZV0oaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNjaGlsZC1leHByZXNzaW9ucyksXG4gKiAgIHR5cGljYWxseSBhIHtAbGlua2NvZGUgVGVtcGxhdGVSZXN1bHR9IGNyZWF0ZWQgYnkgZXZhbHVhdGluZyBhIHRlbXBsYXRlIHRhZ1xuICogICBsaWtlIHtAbGlua2NvZGUgaHRtbH0gb3Ige0BsaW5rY29kZSBzdmd9LlxuICogQHBhcmFtIGNvbnRhaW5lciBBIERPTSBjb250YWluZXIgdG8gcmVuZGVyIHRvLiBUaGUgZmlyc3QgcmVuZGVyIHdpbGwgYXBwZW5kXG4gKiAgIHRoZSByZW5kZXJlZCB2YWx1ZSB0byB0aGUgY29udGFpbmVyLCBhbmQgc3Vic2VxdWVudCByZW5kZXJzIHdpbGxcbiAqICAgZWZmaWNpZW50bHkgdXBkYXRlIHRoZSByZW5kZXJlZCB2YWx1ZSBpZiB0aGUgc2FtZSByZXN1bHQgdHlwZSB3YXNcbiAqICAgcHJldmlvdXNseSByZW5kZXJlZCB0aGVyZS5cbiAqIEBwYXJhbSBvcHRpb25zIFNlZSB7QGxpbmtjb2RlIFJlbmRlck9wdGlvbnN9IGZvciBvcHRpb25zIGRvY3VtZW50YXRpb24uXG4gKiBAc2VlXG4gKiB7QGxpbmsgaHR0cHM6Ly9saXQuZGV2L2RvY3MvbGlicmFyaWVzL3N0YW5kYWxvbmUtdGVtcGxhdGVzLyNyZW5kZXJpbmctbGl0LWh0bWwtdGVtcGxhdGVzfCBSZW5kZXJpbmcgTGl0IEhUTUwgVGVtcGxhdGVzfVxuICovXG5jb25zdCByZW5kZXIgPSAodmFsdWUsIGNvbnRhaW5lciwgb3B0aW9ucykgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKGNvbnRhaW5lciA9PSBudWxsKSB7XG4gICAgICAgIC8vIEdpdmUgYSBjbGVhcmVyIGVycm9yIG1lc3NhZ2UgdGhhblxuICAgICAgICAvLyAgICAgVW5jYXVnaHQgVHlwZUVycm9yOiBDYW5ub3QgcmVhZCBwcm9wZXJ0aWVzIG9mIG51bGwgKHJlYWRpbmdcbiAgICAgICAgLy8gICAgICdfJGxpdFBhcnQkJylcbiAgICAgICAgLy8gd2hpY2ggcmVhZHMgbGlrZSBhbiBpbnRlcm5hbCBMaXQgZXJyb3IuXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBjb250YWluZXIgdG8gcmVuZGVyIGludG8gbWF5IG5vdCBiZSAke2NvbnRhaW5lcn1gKTtcbiAgICB9XG4gICAgY29uc3QgcmVuZGVySWQgPSBkZWJ1Z0xvZ1JlbmRlcklkKysgO1xuICAgIGNvbnN0IHBhcnRPd25lck5vZGUgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVuZGVyQmVmb3JlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250YWluZXI7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCBwYXJ0ID0gcGFydE93bmVyTm9kZVsnXyRsaXRQYXJ0JCddO1xuICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgIGtpbmQ6ICdiZWdpbiByZW5kZXInLFxuICAgICAgICBpZDogcmVuZGVySWQsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHBhcnQsXG4gICAgfSk7XG4gICAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbmROb2RlID0gKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlbmRlckJlZm9yZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcGFydE93bmVyTm9kZVsnXyRsaXRQYXJ0JCddID0gcGFydCA9IG5ldyBDaGlsZFBhcnQoY29udGFpbmVyLmluc2VydEJlZm9yZShjcmVhdGVNYXJrZXIoKSwgZW5kTm9kZSksIGVuZE5vZGUsIHVuZGVmaW5lZCwgb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge30pO1xuICAgIH1cbiAgICBwYXJ0Ll8kc2V0VmFsdWUodmFsdWUpO1xuICAgIGRlYnVnTG9nRXZlbnQgPT09IG51bGwgfHwgZGVidWdMb2dFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVidWdMb2dFdmVudCh7XG4gICAgICAgIGtpbmQ6ICdlbmQgcmVuZGVyJyxcbiAgICAgICAgaWQ6IHJlbmRlcklkLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBwYXJ0LFxuICAgIH0pO1xuICAgIHJldHVybiBwYXJ0O1xufTtcbntcbiAgICByZW5kZXIuc2V0U2FuaXRpemVyID0gc2V0U2FuaXRpemVyO1xuICAgIHJlbmRlci5jcmVhdGVTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXI7XG4gICAge1xuICAgICAgICByZW5kZXIuX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlID1cbiAgICAgICAgICAgIF90ZXN0T25seUNsZWFyU2FuaXRpemVyRmFjdG9yeURvTm90Q2FsbE9yRWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IF8kTEgsIGh0bWwsIG5vQ2hhbmdlLCBub3RoaW5nLCByZW5kZXIsIHN2ZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0LWh0bWwuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/decorators.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit/decorators.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customElement: () => (/* reexport safe */ _lit_reactive_element_decorators_custom_element_js__WEBPACK_IMPORTED_MODULE_0__.customElement),\n/* harmony export */   eventOptions: () => (/* reexport safe */ _lit_reactive_element_decorators_event_options_js__WEBPACK_IMPORTED_MODULE_3__.eventOptions),\n/* harmony export */   property: () => (/* reexport safe */ _lit_reactive_element_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property),\n/* harmony export */   query: () => (/* reexport safe */ _lit_reactive_element_decorators_query_js__WEBPACK_IMPORTED_MODULE_4__.query),\n/* harmony export */   queryAll: () => (/* reexport safe */ _lit_reactive_element_decorators_query_all_js__WEBPACK_IMPORTED_MODULE_5__.queryAll),\n/* harmony export */   queryAssignedElements: () => (/* reexport safe */ _lit_reactive_element_decorators_query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_7__.queryAssignedElements),\n/* harmony export */   queryAssignedNodes: () => (/* reexport safe */ _lit_reactive_element_decorators_query_assigned_nodes_js__WEBPACK_IMPORTED_MODULE_8__.queryAssignedNodes),\n/* harmony export */   queryAsync: () => (/* reexport safe */ _lit_reactive_element_decorators_query_async_js__WEBPACK_IMPORTED_MODULE_6__.queryAsync),\n/* harmony export */   state: () => (/* reexport safe */ _lit_reactive_element_decorators_state_js__WEBPACK_IMPORTED_MODULE_2__.state)\n/* harmony export */ });\n/* harmony import */ var _lit_reactive_element_decorators_custom_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element/decorators/custom-element.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/custom-element.js\");\n/* harmony import */ var _lit_reactive_element_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lit/reactive-element/decorators/property.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/property.js\");\n/* harmony import */ var _lit_reactive_element_decorators_state_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lit/reactive-element/decorators/state.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/state.js\");\n/* harmony import */ var _lit_reactive_element_decorators_event_options_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lit/reactive-element/decorators/event-options.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/event-options.js\");\n/* harmony import */ var _lit_reactive_element_decorators_query_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lit/reactive-element/decorators/query.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query.js\");\n/* harmony import */ var _lit_reactive_element_decorators_query_all_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-all.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-all.js\");\n/* harmony import */ var _lit_reactive_element_decorators_query_async_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-async.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-async.js\");\n/* harmony import */ var _lit_reactive_element_decorators_query_assigned_elements_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-assigned-elements.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-elements.js\");\n/* harmony import */ var _lit_reactive_element_decorators_query_assigned_nodes_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @lit/reactive-element/decorators/query-assigned-nodes.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/decorators/query-assigned-nodes.js\");\n\n//# sourceMappingURL=decorators.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9kZWNvcmF0b3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4aUI7QUFDOWlCIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9tb2RhbC11aS9ub2RlX21vZHVsZXMvbGl0L2RlY29yYXRvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0KmZyb21cIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL2N1c3RvbS1lbGVtZW50LmpzXCI7ZXhwb3J0KmZyb21cIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7ZXhwb3J0KmZyb21cIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3N0YXRlLmpzXCI7ZXhwb3J0KmZyb21cIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL2V2ZW50LW9wdGlvbnMuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcXVlcnkuanNcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcXVlcnktYWxsLmpzXCI7ZXhwb3J0KmZyb21cIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFzeW5jLmpzXCI7ZXhwb3J0KmZyb21cIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFzc2lnbmVkLWVsZW1lbnRzLmpzXCI7ZXhwb3J0KmZyb21cIkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFzc2lnbmVkLW5vZGVzLmpzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWNvcmF0b3JzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/decorators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/class-map.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/class-map.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   classMap: () => (/* reexport safe */ lit_html_directives_class_map_js__WEBPACK_IMPORTED_MODULE_0__.classMap)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_class_map_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/class-map.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/class-map.js\");\n\n//# sourceMappingURL=class-map.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE4QztBQUM5QyIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQqZnJvbVwibGl0LWh0bWwvZGlyZWN0aXZlcy9jbGFzcy1tYXAuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsYXNzLW1hcC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/class-map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/if-defined.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/if-defined.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ifDefined: () => (/* reexport safe */ lit_html_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_0__.ifDefined)\n/* harmony export */ });\n/* harmony import */ var lit_html_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html/directives/if-defined.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/directives/if-defined.js\");\n\n//# sourceMappingURL=if-defined.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDL0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsLXVpL25vZGVfbW9kdWxlcy9saXQvZGlyZWN0aXZlcy9pZi1kZWZpbmVkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCpmcm9tXCJsaXQtaHRtbC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlmLWRlZmluZWQuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/directives/if-defined.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/@walletconnect/modal-ui/node_modules/lit/index.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSResult: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.CSSResult),\n/* harmony export */   LitElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.LitElement),\n/* harmony export */   ReactiveElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.ReactiveElement),\n/* harmony export */   UpdatingElement: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.UpdatingElement),\n/* harmony export */   _$LE: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__._$LE),\n/* harmony export */   _$LH: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__._$LH),\n/* harmony export */   adoptStyles: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.adoptStyles),\n/* harmony export */   css: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.css),\n/* harmony export */   defaultConverter: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.defaultConverter),\n/* harmony export */   getCompatibleStyle: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.getCompatibleStyle),\n/* harmony export */   html: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.html),\n/* harmony export */   isServer: () => (/* reexport safe */ lit_html_is_server_js__WEBPACK_IMPORTED_MODULE_3__.isServer),\n/* harmony export */   noChange: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.noChange),\n/* harmony export */   notEqual: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.notEqual),\n/* harmony export */   nothing: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.nothing),\n/* harmony export */   render: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.render),\n/* harmony export */   supportsAdoptingStyleSheets: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.supportsAdoptingStyleSheets),\n/* harmony export */   svg: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.svg),\n/* harmony export */   unsafeCSS: () => (/* reexport safe */ lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__.unsafeCSS)\n/* harmony export */ });\n/* harmony import */ var _lit_reactive_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lit/reactive-element */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/@lit/reactive-element/node/development/reactive-element.js\");\n/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit-html */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/lit-html.js\");\n/* harmony import */ var lit_element_lit_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit-element/lit-element.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-element/development/lit-element.js\");\n/* harmony import */ var lit_html_is_server_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit-html/is-server.js */ \"(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit-html/node/development/is-server.js\");\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwSDtBQUMxSCIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwtdWkvbm9kZV9tb2R1bGVzL2xpdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnRcIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO2ltcG9ydFwibGl0LWh0bWxcIjtleHBvcnQqZnJvbVwibGl0LWVsZW1lbnQvbGl0LWVsZW1lbnQuanNcIjtleHBvcnQqZnJvbVwibGl0LWh0bWwvaXMtc2VydmVyLmpzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal-ui/node_modules/lit/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/modal/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@walletconnect/modal/dist/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WalletConnectModal: () => (/* binding */ WalletConnectModal)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/modal-core */ \"(ssr)/./node_modules/@walletconnect/modal-core/dist/index.js\");\n\n\nclass WalletConnectModal {\n  constructor(config) {\n    this.openModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalCtrl.open;\n    this.closeModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalCtrl.close;\n    this.subscribeModal = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalCtrl.subscribe;\n    this.setTheme = _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ThemeCtrl.setThemeConfig;\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ThemeCtrl.setThemeConfig(config);\n    _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.ConfigCtrl.setConfig(config);\n    this.initUi();\n  }\n  async initUi() {\n    if (typeof window !== \"undefined\") {\n      await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/qrcode\"), __webpack_require__.e(\"vendor-chunks/pngjs\"), __webpack_require__.e(\"vendor-chunks/dijkstrajs\"), __webpack_require__.e(\"vendor-chunks/encode-utf8\"), __webpack_require__.e(\"vendor-chunks/@walletconnect\"), __webpack_require__.e(\"vendor-chunks/@motionone\"), __webpack_require__.e(\"vendor-chunks/motion\"), __webpack_require__.e(\"vendor-chunks/hey-listen\")]).then(__webpack_require__.bind(__webpack_require__, /*! @walletconnect/modal-ui */ \"(ssr)/./node_modules/@walletconnect/modal-ui/dist/index.js\"));\n      const modal = document.createElement(\"wcm-modal\");\n      document.body.insertAdjacentElement(\"beforeend\", modal);\n      _walletconnect_modal_core__WEBPACK_IMPORTED_MODULE_0__.OptionsCtrl.setIsUiLoaded(true);\n    }\n  }\n}\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvbW9kYWwvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwRjs7QUFFMUY7QUFDQTtBQUNBLHFCQUFxQixnRUFBUztBQUM5QixzQkFBc0IsZ0VBQVM7QUFDL0IsMEJBQTBCLGdFQUFTO0FBQ25DLG9CQUFvQixnRUFBUztBQUM3QixJQUFJLGdFQUFTO0FBQ2IsSUFBSSxpRUFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2akJBQWlDO0FBQzdDO0FBQ0E7QUFDQSxNQUFNLGtFQUFXO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFOEI7QUFDOUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L21vZGFsL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9kYWxDdHJsLCBUaGVtZUN0cmwsIENvbmZpZ0N0cmwsIE9wdGlvbnNDdHJsIH0gZnJvbSAnQHdhbGxldGNvbm5lY3QvbW9kYWwtY29yZSc7XG5cbmNsYXNzIFdhbGxldENvbm5lY3RNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMub3Blbk1vZGFsID0gTW9kYWxDdHJsLm9wZW47XG4gICAgdGhpcy5jbG9zZU1vZGFsID0gTW9kYWxDdHJsLmNsb3NlO1xuICAgIHRoaXMuc3Vic2NyaWJlTW9kYWwgPSBNb2RhbEN0cmwuc3Vic2NyaWJlO1xuICAgIHRoaXMuc2V0VGhlbWUgPSBUaGVtZUN0cmwuc2V0VGhlbWVDb25maWc7XG4gICAgVGhlbWVDdHJsLnNldFRoZW1lQ29uZmlnKGNvbmZpZyk7XG4gICAgQ29uZmlnQ3RybC5zZXRDb25maWcoY29uZmlnKTtcbiAgICB0aGlzLmluaXRVaSgpO1xuICB9XG4gIGFzeW5jIGluaXRVaSgpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgYXdhaXQgaW1wb3J0KCdAd2FsbGV0Y29ubmVjdC9tb2RhbC11aScpO1xuICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwid2NtLW1vZGFsXCIpO1xuICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgbW9kYWwpO1xuICAgICAgT3B0aW9uc0N0cmwuc2V0SXNVaUxvYWRlZCh0cnVlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgV2FsbGV0Q29ubmVjdE1vZGFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/modal/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js":
/*!****************************************************************!*\
  !*** ./node_modules/@walletconnect/relay-api/dist/index.es.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RELAY_JSONRPC: () => (/* binding */ C),\n/* harmony export */   isPublishMethod: () => (/* binding */ c),\n/* harmony export */   isPublishParams: () => (/* binding */ h),\n/* harmony export */   isPublishRequest: () => (/* binding */ P),\n/* harmony export */   isSubscribeMethod: () => (/* binding */ b),\n/* harmony export */   isSubscribeParams: () => (/* binding */ a),\n/* harmony export */   isSubscribeRequest: () => (/* binding */ R),\n/* harmony export */   isSubscriptionMethod: () => (/* binding */ m),\n/* harmony export */   isSubscriptionParams: () => (/* binding */ d),\n/* harmony export */   isSubscriptionRequest: () => (/* binding */ S),\n/* harmony export */   isUnsubscribeMethod: () => (/* binding */ o),\n/* harmony export */   isUnsubscribeParams: () => (/* binding */ p),\n/* harmony export */   isUnsubscribeRequest: () => (/* binding */ _),\n/* harmony export */   parsePublishRequest: () => (/* binding */ q),\n/* harmony export */   parseSubscribeRequest: () => (/* binding */ g),\n/* harmony export */   parseSubscriptionRequest: () => (/* binding */ k),\n/* harmony export */   parseUnsubscribeRequest: () => (/* binding */ E)\n/* harmony export */ });\nfunction e(s,r,i=\"string\"){if(!s[r]||typeof s[r]!==i)throw new Error(`Missing or invalid \"${r}\" param`)}function l(s,r){let i=!0;return r.forEach(t=>{t in s||(i=!1)}),i}function f(s,r){return Array.isArray(s)?s.length===r:Object.keys(s).length===r}function w(s,r){return Array.isArray(s)?s.length>=r:Object.keys(s).length>=r}function u(s,r,i){return(i.length?w(s,r.length):f(s,r.length))?l(s,r):!1}function n(s,r,i=\"_\"){const t=s.split(i);return t[t.length-1].trim().toLowerCase()===r.trim().toLowerCase()}function R(s){return b(s.method)&&a(s.params)}function b(s){return n(s,\"subscribe\")}function a(s){return u(s,[\"topic\"],[])}function P(s){return c(s.method)&&h(s.params)}function c(s){return n(s,\"publish\")}function h(s){return u(s,[\"message\",\"topic\",\"ttl\"],[\"prompt\",\"tag\"])}function _(s){return o(s.method)&&p(s.params)}function o(s){return n(s,\"unsubscribe\")}function p(s){return u(s,[\"id\",\"topic\"],[])}function S(s){return m(s.method)&&d(s.params)}function m(s){return n(s,\"subscription\")}function d(s){return u(s,[\"id\",\"data\"],[])}function g(s){if(!b(s.method))throw new Error(\"JSON-RPC Request has invalid subscribe method\");if(!a(s.params))throw new Error(\"JSON-RPC Request has invalid subscribe params\");const r=s.params;return e(r,\"topic\"),r}function q(s){if(!c(s.method))throw new Error(\"JSON-RPC Request has invalid publish method\");if(!h(s.params))throw new Error(\"JSON-RPC Request has invalid publish params\");const r=s.params;return e(r,\"topic\"),e(r,\"message\"),e(r,\"ttl\",\"number\"),r}function E(s){if(!o(s.method))throw new Error(\"JSON-RPC Request has invalid unsubscribe method\");if(!p(s.params))throw new Error(\"JSON-RPC Request has invalid unsubscribe params\");const r=s.params;return e(r,\"id\"),r}function k(s){if(!m(s.method))throw new Error(\"JSON-RPC Request has invalid subscription method\");if(!d(s.params))throw new Error(\"JSON-RPC Request has invalid subscription params\");const r=s.params;return e(r,\"id\"),e(r,\"data\"),r}const C={waku:{publish:\"waku_publish\",batchPublish:\"waku_batchPublish\",subscribe:\"waku_subscribe\",batchSubscribe:\"waku_batchSubscribe\",subscription:\"waku_subscription\",unsubscribe:\"waku_unsubscribe\",batchUnsubscribe:\"waku_batchUnsubscribe\",batchFetchMessages:\"waku_batchFetchMessages\"},irn:{publish:\"irn_publish\",batchPublish:\"irn_batchPublish\",subscribe:\"irn_subscribe\",batchSubscribe:\"irn_batchSubscribe\",subscription:\"irn_subscription\",unsubscribe:\"irn_unsubscribe\",batchUnsubscribe:\"irn_batchUnsubscribe\",batchFetchMessages:\"irn_batchFetchMessages\"},iridium:{publish:\"iridium_publish\",batchPublish:\"iridium_batchPublish\",subscribe:\"iridium_subscribe\",batchSubscribe:\"iridium_batchSubscribe\",subscription:\"iridium_subscription\",unsubscribe:\"iridium_unsubscribe\",batchUnsubscribe:\"iridium_batchUnsubscribe\",batchFetchMessages:\"iridium_batchFetchMessages\"}};\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvcmVsYXktYXBpL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQkFBMkIsaUVBQWlFLEVBQUUsVUFBVSxnQkFBZ0IsU0FBUyxxQkFBcUIsZUFBZSxJQUFJLGdCQUFnQiwrREFBK0QsZ0JBQWdCLDZEQUE2RCxrQkFBa0IsdURBQXVELHNCQUFzQixtQkFBbUIsbUVBQW1FLGNBQWMsZ0NBQWdDLGNBQWMsd0JBQXdCLGNBQWMseUJBQXlCLGNBQWMsZ0NBQWdDLGNBQWMsc0JBQXNCLGNBQWMsdURBQXVELGNBQWMsZ0NBQWdDLGNBQWMsMEJBQTBCLGNBQWMsOEJBQThCLGNBQWMsZ0NBQWdDLGNBQWMsMkJBQTJCLGNBQWMsNkJBQTZCLGNBQWMsaUZBQWlGLGlGQUFpRixpQkFBaUIsc0JBQXNCLGNBQWMsK0VBQStFLCtFQUErRSxpQkFBaUIseURBQXlELGNBQWMsbUZBQW1GLG1GQUFtRixpQkFBaUIsbUJBQW1CLGNBQWMsb0ZBQW9GLG9GQUFvRixpQkFBaUIsK0JBQStCLFNBQVMsTUFBTSw4UUFBOFEsTUFBTSxzUUFBc1EsVUFBVSx3U0FBbXRCO0FBQ2pxRyIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvcmVsYXktYXBpL2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZShzLHIsaT1cInN0cmluZ1wiKXtpZighc1tyXXx8dHlwZW9mIHNbcl0hPT1pKXRocm93IG5ldyBFcnJvcihgTWlzc2luZyBvciBpbnZhbGlkIFwiJHtyfVwiIHBhcmFtYCl9ZnVuY3Rpb24gbChzLHIpe2xldCBpPSEwO3JldHVybiByLmZvckVhY2godD0+e3QgaW4gc3x8KGk9ITEpfSksaX1mdW5jdGlvbiBmKHMscil7cmV0dXJuIEFycmF5LmlzQXJyYXkocyk/cy5sZW5ndGg9PT1yOk9iamVjdC5rZXlzKHMpLmxlbmd0aD09PXJ9ZnVuY3Rpb24gdyhzLHIpe3JldHVybiBBcnJheS5pc0FycmF5KHMpP3MubGVuZ3RoPj1yOk9iamVjdC5rZXlzKHMpLmxlbmd0aD49cn1mdW5jdGlvbiB1KHMscixpKXtyZXR1cm4oaS5sZW5ndGg/dyhzLHIubGVuZ3RoKTpmKHMsci5sZW5ndGgpKT9sKHMscik6ITF9ZnVuY3Rpb24gbihzLHIsaT1cIl9cIil7Y29uc3QgdD1zLnNwbGl0KGkpO3JldHVybiB0W3QubGVuZ3RoLTFdLnRyaW0oKS50b0xvd2VyQ2FzZSgpPT09ci50cmltKCkudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBSKHMpe3JldHVybiBiKHMubWV0aG9kKSYmYShzLnBhcmFtcyl9ZnVuY3Rpb24gYihzKXtyZXR1cm4gbihzLFwic3Vic2NyaWJlXCIpfWZ1bmN0aW9uIGEocyl7cmV0dXJuIHUocyxbXCJ0b3BpY1wiXSxbXSl9ZnVuY3Rpb24gUChzKXtyZXR1cm4gYyhzLm1ldGhvZCkmJmgocy5wYXJhbXMpfWZ1bmN0aW9uIGMocyl7cmV0dXJuIG4ocyxcInB1Ymxpc2hcIil9ZnVuY3Rpb24gaChzKXtyZXR1cm4gdShzLFtcIm1lc3NhZ2VcIixcInRvcGljXCIsXCJ0dGxcIl0sW1wicHJvbXB0XCIsXCJ0YWdcIl0pfWZ1bmN0aW9uIF8ocyl7cmV0dXJuIG8ocy5tZXRob2QpJiZwKHMucGFyYW1zKX1mdW5jdGlvbiBvKHMpe3JldHVybiBuKHMsXCJ1bnN1YnNjcmliZVwiKX1mdW5jdGlvbiBwKHMpe3JldHVybiB1KHMsW1wiaWRcIixcInRvcGljXCJdLFtdKX1mdW5jdGlvbiBTKHMpe3JldHVybiBtKHMubWV0aG9kKSYmZChzLnBhcmFtcyl9ZnVuY3Rpb24gbShzKXtyZXR1cm4gbihzLFwic3Vic2NyaXB0aW9uXCIpfWZ1bmN0aW9uIGQocyl7cmV0dXJuIHUocyxbXCJpZFwiLFwiZGF0YVwiXSxbXSl9ZnVuY3Rpb24gZyhzKXtpZighYihzLm1ldGhvZCkpdGhyb3cgbmV3IEVycm9yKFwiSlNPTi1SUEMgUmVxdWVzdCBoYXMgaW52YWxpZCBzdWJzY3JpYmUgbWV0aG9kXCIpO2lmKCFhKHMucGFyYW1zKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLVJQQyBSZXF1ZXN0IGhhcyBpbnZhbGlkIHN1YnNjcmliZSBwYXJhbXNcIik7Y29uc3Qgcj1zLnBhcmFtcztyZXR1cm4gZShyLFwidG9waWNcIikscn1mdW5jdGlvbiBxKHMpe2lmKCFjKHMubWV0aG9kKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLVJQQyBSZXF1ZXN0IGhhcyBpbnZhbGlkIHB1Ymxpc2ggbWV0aG9kXCIpO2lmKCFoKHMucGFyYW1zKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLVJQQyBSZXF1ZXN0IGhhcyBpbnZhbGlkIHB1Ymxpc2ggcGFyYW1zXCIpO2NvbnN0IHI9cy5wYXJhbXM7cmV0dXJuIGUocixcInRvcGljXCIpLGUocixcIm1lc3NhZ2VcIiksZShyLFwidHRsXCIsXCJudW1iZXJcIikscn1mdW5jdGlvbiBFKHMpe2lmKCFvKHMubWV0aG9kKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLVJQQyBSZXF1ZXN0IGhhcyBpbnZhbGlkIHVuc3Vic2NyaWJlIG1ldGhvZFwiKTtpZighcChzLnBhcmFtcykpdGhyb3cgbmV3IEVycm9yKFwiSlNPTi1SUEMgUmVxdWVzdCBoYXMgaW52YWxpZCB1bnN1YnNjcmliZSBwYXJhbXNcIik7Y29uc3Qgcj1zLnBhcmFtcztyZXR1cm4gZShyLFwiaWRcIikscn1mdW5jdGlvbiBrKHMpe2lmKCFtKHMubWV0aG9kKSl0aHJvdyBuZXcgRXJyb3IoXCJKU09OLVJQQyBSZXF1ZXN0IGhhcyBpbnZhbGlkIHN1YnNjcmlwdGlvbiBtZXRob2RcIik7aWYoIWQocy5wYXJhbXMpKXRocm93IG5ldyBFcnJvcihcIkpTT04tUlBDIFJlcXVlc3QgaGFzIGludmFsaWQgc3Vic2NyaXB0aW9uIHBhcmFtc1wiKTtjb25zdCByPXMucGFyYW1zO3JldHVybiBlKHIsXCJpZFwiKSxlKHIsXCJkYXRhXCIpLHJ9Y29uc3QgQz17d2FrdTp7cHVibGlzaDpcIndha3VfcHVibGlzaFwiLGJhdGNoUHVibGlzaDpcIndha3VfYmF0Y2hQdWJsaXNoXCIsc3Vic2NyaWJlOlwid2FrdV9zdWJzY3JpYmVcIixiYXRjaFN1YnNjcmliZTpcIndha3VfYmF0Y2hTdWJzY3JpYmVcIixzdWJzY3JpcHRpb246XCJ3YWt1X3N1YnNjcmlwdGlvblwiLHVuc3Vic2NyaWJlOlwid2FrdV91bnN1YnNjcmliZVwiLGJhdGNoVW5zdWJzY3JpYmU6XCJ3YWt1X2JhdGNoVW5zdWJzY3JpYmVcIixiYXRjaEZldGNoTWVzc2FnZXM6XCJ3YWt1X2JhdGNoRmV0Y2hNZXNzYWdlc1wifSxpcm46e3B1Ymxpc2g6XCJpcm5fcHVibGlzaFwiLGJhdGNoUHVibGlzaDpcImlybl9iYXRjaFB1Ymxpc2hcIixzdWJzY3JpYmU6XCJpcm5fc3Vic2NyaWJlXCIsYmF0Y2hTdWJzY3JpYmU6XCJpcm5fYmF0Y2hTdWJzY3JpYmVcIixzdWJzY3JpcHRpb246XCJpcm5fc3Vic2NyaXB0aW9uXCIsdW5zdWJzY3JpYmU6XCJpcm5fdW5zdWJzY3JpYmVcIixiYXRjaFVuc3Vic2NyaWJlOlwiaXJuX2JhdGNoVW5zdWJzY3JpYmVcIixiYXRjaEZldGNoTWVzc2FnZXM6XCJpcm5fYmF0Y2hGZXRjaE1lc3NhZ2VzXCJ9LGlyaWRpdW06e3B1Ymxpc2g6XCJpcmlkaXVtX3B1Ymxpc2hcIixiYXRjaFB1Ymxpc2g6XCJpcmlkaXVtX2JhdGNoUHVibGlzaFwiLHN1YnNjcmliZTpcImlyaWRpdW1fc3Vic2NyaWJlXCIsYmF0Y2hTdWJzY3JpYmU6XCJpcmlkaXVtX2JhdGNoU3Vic2NyaWJlXCIsc3Vic2NyaXB0aW9uOlwiaXJpZGl1bV9zdWJzY3JpcHRpb25cIix1bnN1YnNjcmliZTpcImlyaWRpdW1fdW5zdWJzY3JpYmVcIixiYXRjaFVuc3Vic2NyaWJlOlwiaXJpZGl1bV9iYXRjaFVuc3Vic2NyaWJlXCIsYmF0Y2hGZXRjaE1lc3NhZ2VzOlwiaXJpZGl1bV9iYXRjaEZldGNoTWVzc2FnZXNcIn19O2V4cG9ydHtDIGFzIFJFTEFZX0pTT05SUEMsYyBhcyBpc1B1Ymxpc2hNZXRob2QsaCBhcyBpc1B1Ymxpc2hQYXJhbXMsUCBhcyBpc1B1Ymxpc2hSZXF1ZXN0LGIgYXMgaXNTdWJzY3JpYmVNZXRob2QsYSBhcyBpc1N1YnNjcmliZVBhcmFtcyxSIGFzIGlzU3Vic2NyaWJlUmVxdWVzdCxtIGFzIGlzU3Vic2NyaXB0aW9uTWV0aG9kLGQgYXMgaXNTdWJzY3JpcHRpb25QYXJhbXMsUyBhcyBpc1N1YnNjcmlwdGlvblJlcXVlc3QsbyBhcyBpc1Vuc3Vic2NyaWJlTWV0aG9kLHAgYXMgaXNVbnN1YnNjcmliZVBhcmFtcyxfIGFzIGlzVW5zdWJzY3JpYmVSZXF1ZXN0LHEgYXMgcGFyc2VQdWJsaXNoUmVxdWVzdCxnIGFzIHBhcnNlU3Vic2NyaWJlUmVxdWVzdCxrIGFzIHBhcnNlU3Vic2NyaXB0aW9uUmVxdWVzdCxFIGFzIHBhcnNlVW5zdWJzY3JpYmVSZXF1ZXN0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@walletconnect/relay-auth/dist/index.es.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DATA_ENCODING: () => (/* binding */ xt),\n/* harmony export */   DID_DELIMITER: () => (/* binding */ Vt),\n/* harmony export */   DID_METHOD: () => (/* binding */ Jt),\n/* harmony export */   DID_PREFIX: () => (/* binding */ Yt),\n/* harmony export */   JSON_ENCODING: () => (/* binding */ Gt),\n/* harmony export */   JWT_DELIMITER: () => (/* binding */ ut),\n/* harmony export */   JWT_ENCODING: () => (/* binding */ Dt),\n/* harmony export */   JWT_IRIDIUM_ALG: () => (/* binding */ jt),\n/* harmony export */   JWT_IRIDIUM_TYP: () => (/* binding */ Zt),\n/* harmony export */   KEY_PAIR_SEED_LENGTH: () => (/* binding */ Ne),\n/* harmony export */   MULTICODEC_ED25519_BASE: () => (/* binding */ Kt),\n/* harmony export */   MULTICODEC_ED25519_ENCODING: () => (/* binding */ dt),\n/* harmony export */   MULTICODEC_ED25519_HEADER: () => (/* binding */ Wt),\n/* harmony export */   MULTICODEC_ED25519_LENGTH: () => (/* binding */ Fe),\n/* harmony export */   decodeData: () => (/* binding */ Xo),\n/* harmony export */   decodeIss: () => (/* binding */ tn),\n/* harmony export */   decodeJSON: () => (/* binding */ lt),\n/* harmony export */   decodeJWT: () => (/* binding */ sn),\n/* harmony export */   decodeSig: () => (/* binding */ nn),\n/* harmony export */   encodeData: () => (/* binding */ rn),\n/* harmony export */   encodeIss: () => (/* binding */ Qe),\n/* harmony export */   encodeJSON: () => (/* binding */ bt),\n/* harmony export */   encodeJWT: () => (/* binding */ on),\n/* harmony export */   encodeSig: () => (/* binding */ en),\n/* harmony export */   generateKeyPair: () => (/* binding */ Po),\n/* harmony export */   signJWT: () => (/* binding */ Qo),\n/* harmony export */   verifyJWT: () => (/* binding */ ts)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\nfunction En(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function fe(t,...e){if(!En(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function De(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function gn(t,e){fe(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}const it=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _t=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function yn(t){if(typeof t!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function de(t){return typeof t==\"string\"&&(t=yn(t)),fe(t),t}class xn{clone(){return this._cloneInto()}}function Bn(t){const e=r=>t().update(de(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function he(t=32){if(it&&typeof it.getRandomValues==\"function\")return it.getRandomValues(new Uint8Array(t));if(it&&typeof it.randomBytes==\"function\")return it.randomBytes(t);throw new Error(\"crypto.getRandomValues must be defined\")}function Cn(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),a=Number(n>>o&s),u=Number(n&s),i=r?4:0,D=r?0:4;t.setUint32(e+i,a,r),t.setUint32(e+D,u,r)}class An extends xn{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_t(this.buffer)}update(e){De(this);const{view:n,buffer:r,blockLen:o}=this;e=de(e);const s=e.length;for(let a=0;a<s;){const u=Math.min(o-this.pos,s-a);if(u===o){const i=_t(e);for(;o<=s-a;a+=o)this.process(i,a);continue}r.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){De(this),gn(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let l=a;l<o;l++)n[l]=0;Cn(r,o-8,BigInt(this.length*8),s),this.process(r,0);const u=_t(e),i=this.outputLen;if(i%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const D=i/4,c=this.get();if(D>c.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let l=0;l<D;l++)u.setUint32(4*l,c[l],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:a,pos:u}=this;return e.length=o,e.pos=u,e.finished=s,e.destroyed=a,o%n&&e.buffer.set(r),e}}const wt=BigInt(2**32-1),St=BigInt(32);function le(t,e=!1){return e?{h:Number(t&wt),l:Number(t>>St&wt)}:{h:Number(t>>St&wt)|0,l:Number(t&wt)|0}}function mn(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:s,l:a}=le(t[o],e);[n[o],r[o]]=[s,a]}return[n,r]}const _n=(t,e)=>BigInt(t>>>0)<<St|BigInt(e>>>0),Sn=(t,e,n)=>t>>>n,vn=(t,e,n)=>t<<32-n|e>>>n,In=(t,e,n)=>t>>>n|e<<32-n,Un=(t,e,n)=>t<<32-n|e>>>n,Tn=(t,e,n)=>t<<64-n|e>>>n-32,Fn=(t,e,n)=>t>>>n-32|e<<64-n,Nn=(t,e)=>e,Ln=(t,e)=>t,On=(t,e,n)=>t<<n|e>>>32-n,Hn=(t,e,n)=>e<<n|t>>>32-n,zn=(t,e,n)=>e<<n-32|t>>>64-n,Mn=(t,e,n)=>t<<n-32|e>>>64-n;function qn(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const $n=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),kn=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Rn=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),jn=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,Zn=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),Gn=(t,e,n,r,o,s)=>e+n+r+o+s+(t/2**32|0)|0,x={fromBig:le,split:mn,toBig:_n,shrSH:Sn,shrSL:vn,rotrSH:In,rotrSL:Un,rotrBH:Tn,rotrBL:Fn,rotr32H:Nn,rotr32L:Ln,rotlSH:On,rotlSL:Hn,rotlBH:zn,rotlBL:Mn,add:qn,add3L:$n,add3H:kn,add4L:Rn,add4H:jn,add5H:Gn,add5L:Zn},[Vn,Yn]=(()=>x.split([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map(t=>BigInt(t))))(),P=new Uint32Array(80),Q=new Uint32Array(80);class Jn extends An{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:s,Cl:a,Dh:u,Dl:i,Eh:D,El:c,Fh:l,Fl:p,Gh:w,Gl:h,Hh:g,Hl:S}=this;return[e,n,r,o,s,a,u,i,D,c,l,p,w,h,g,S]}set(e,n,r,o,s,a,u,i,D,c,l,p,w,h,g,S){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=u|0,this.Dl=i|0,this.Eh=D|0,this.El=c|0,this.Fh=l|0,this.Fl=p|0,this.Gh=w|0,this.Gl=h|0,this.Hh=g|0,this.Hl=S|0}process(e,n){for(let d=0;d<16;d++,n+=4)P[d]=e.getUint32(n),Q[d]=e.getUint32(n+=4);for(let d=16;d<80;d++){const m=P[d-15]|0,F=Q[d-15]|0,q=x.rotrSH(m,F,1)^x.rotrSH(m,F,8)^x.shrSH(m,F,7),z=x.rotrSL(m,F,1)^x.rotrSL(m,F,8)^x.shrSL(m,F,7),I=P[d-2]|0,O=Q[d-2]|0,ot=x.rotrSH(I,O,19)^x.rotrBH(I,O,61)^x.shrSH(I,O,6),tt=x.rotrSL(I,O,19)^x.rotrBL(I,O,61)^x.shrSL(I,O,6),st=x.add4L(z,tt,Q[d-7],Q[d-16]),at=x.add4H(st,q,ot,P[d-7],P[d-16]);P[d]=at|0,Q[d]=st|0}let{Ah:r,Al:o,Bh:s,Bl:a,Ch:u,Cl:i,Dh:D,Dl:c,Eh:l,El:p,Fh:w,Fl:h,Gh:g,Gl:S,Hh:v,Hl:L}=this;for(let d=0;d<80;d++){const m=x.rotrSH(l,p,14)^x.rotrSH(l,p,18)^x.rotrBH(l,p,41),F=x.rotrSL(l,p,14)^x.rotrSL(l,p,18)^x.rotrBL(l,p,41),q=l&w^~l&g,z=p&h^~p&S,I=x.add5L(L,F,z,Yn[d],Q[d]),O=x.add5H(I,v,m,q,Vn[d],P[d]),ot=I|0,tt=x.rotrSH(r,o,28)^x.rotrBH(r,o,34)^x.rotrBH(r,o,39),st=x.rotrSL(r,o,28)^x.rotrBL(r,o,34)^x.rotrBL(r,o,39),at=r&s^r&u^s&u,Ct=o&a^o&i^a&i;v=g|0,L=S|0,g=w|0,S=h|0,w=l|0,h=p|0,{h:l,l:p}=x.add(D|0,c|0,O|0,ot|0),D=u|0,c=i|0,u=s|0,i=a|0,s=r|0,a=o|0;const At=x.add3L(ot,st,Ct);r=x.add3H(At,O,tt,at),o=At|0}({h:r,l:o}=x.add(this.Ah|0,this.Al|0,r|0,o|0)),{h:s,l:a}=x.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:u,l:i}=x.add(this.Ch|0,this.Cl|0,u|0,i|0),{h:D,l:c}=x.add(this.Dh|0,this.Dl|0,D|0,c|0),{h:l,l:p}=x.add(this.Eh|0,this.El|0,l|0,p|0),{h:w,l:h}=x.add(this.Fh|0,this.Fl|0,w|0,h|0),{h:g,l:S}=x.add(this.Gh|0,this.Gl|0,g|0,S|0),{h:v,l:L}=x.add(this.Hh|0,this.Hl|0,v|0,L|0),this.set(r,o,s,a,u,i,D,c,l,p,w,h,g,S,v,L)}roundClean(){P.fill(0),Q.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Kn=Bn(()=>new Jn);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vt=BigInt(0),be=BigInt(1),Wn=BigInt(2);function It(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function Ut(t){if(!It(t))throw new Error(\"Uint8Array expected\")}function Tt(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}const Xn=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Ft(t){Ut(t);let e=\"\";for(let n=0;n<t.length;n++)e+=Xn[t[n]];return e}function pe(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?vt:BigInt(\"0x\"+t)}const K={_0:48,_9:57,A:65,F:70,a:97,f:102};function we(t){if(t>=K._0&&t<=K._9)return t-K._0;if(t>=K.A&&t<=K.F)return t-(K.A-10);if(t>=K.a&&t<=K.f)return t-(K.a-10)}function Ee(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const a=we(t.charCodeAt(s)),u=we(t.charCodeAt(s+1));if(a===void 0||u===void 0){const i=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+i+'\" at index '+s)}r[o]=a*16+u}return r}function Pn(t){return pe(Ft(t))}function Et(t){return Ut(t),pe(Ft(Uint8Array.from(t).reverse()))}function ge(t,e){return Ee(t.toString(16).padStart(e*2,\"0\"))}function Nt(t,e){return ge(t,e).reverse()}function W(t,e,n){let r;if(typeof e==\"string\")try{r=Ee(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(It(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const o=r.length;if(typeof n==\"number\"&&o!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+o);return r}function ye(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Ut(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length}return n}const Lt=t=>typeof t==\"bigint\"&&vt<=t;function Qn(t,e,n){return Lt(t)&&Lt(e)&&Lt(n)&&e<=t&&t<n}function ft(t,e,n,r){if(!Qn(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function tr(t){let e;for(e=0;t>vt;t>>=be,e+=1);return e}const er=t=>(Wn<<BigInt(t-1))-be,nr={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||It(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};function Ot(t,e,n={}){const r=(o,s,a)=>{const u=nr[s];if(typeof u!=\"function\")throw new Error(\"invalid validator function\");const i=t[o];if(!(a&&i===void 0)&&!u(i,t))throw new Error(\"param \"+String(o)+\" is invalid. Expected \"+s+\", got \"+i)};for(const[o,s]of Object.entries(e))r(o,s,!1);for(const[o,s]of Object.entries(n))r(o,s,!0);return t}function xe(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t(n,...r);return e.set(n,s),s}}const M=BigInt(0),N=BigInt(1),nt=BigInt(2),rr=BigInt(3),Ht=BigInt(4),Be=BigInt(5),Ce=BigInt(8);function H(t,e){const n=t%e;return n>=M?n:e+n}function or(t,e,n){if(e<M)throw new Error(\"invalid exponent, negatives unsupported\");if(n<=M)throw new Error(\"invalid modulus\");if(n===N)return M;let r=N;for(;e>M;)e&N&&(r=r*t%n),t=t*t%n,e>>=N;return r}function J(t,e,n){let r=t;for(;e-- >M;)r*=r,r%=n;return r}function Ae(t,e){if(t===M)throw new Error(\"invert: expected non-zero number\");if(e<=M)throw new Error(\"invert: expected positive modulus, got \"+e);let n=H(t,e),r=e,o=M,s=N;for(;n!==M;){const u=r/n,i=r%n,D=o-s*u;r=n,n=i,o=s,s=D}if(r!==N)throw new Error(\"invert: does not exist\");return H(o,e)}function sr(t){const e=(t-N)/nt;let n,r,o;for(n=t-N,r=0;n%nt===M;n/=nt,r++);for(o=nt;o<t&&or(o,e,t)!==t-N;o++)if(o>1e3)throw new Error(\"Cannot find square root: likely non-prime P\");if(r===1){const a=(t+N)/Ht;return function(i,D){const c=i.pow(D,a);if(!i.eql(i.sqr(c),D))throw new Error(\"Cannot find square root\");return c}}const s=(n+N)/nt;return function(u,i){if(u.pow(i,e)===u.neg(u.ONE))throw new Error(\"Cannot find square root\");let D=r,c=u.pow(u.mul(u.ONE,o),n),l=u.pow(i,s),p=u.pow(i,n);for(;!u.eql(p,u.ONE);){if(u.eql(p,u.ZERO))return u.ZERO;let w=1;for(let g=u.sqr(p);w<D&&!u.eql(g,u.ONE);w++)g=u.sqr(g);const h=u.pow(c,N<<BigInt(D-w-1));c=u.sqr(h),l=u.mul(l,h),p=u.mul(p,c),D=w}return l}}function ir(t){if(t%Ht===rr){const e=(t+N)/Ht;return function(r,o){const s=r.pow(o,e);if(!r.eql(r.sqr(s),o))throw new Error(\"Cannot find square root\");return s}}if(t%Ce===Be){const e=(t-Be)/Ce;return function(r,o){const s=r.mul(o,nt),a=r.pow(s,e),u=r.mul(o,a),i=r.mul(r.mul(u,nt),a),D=r.mul(u,r.sub(i,r.ONE));if(!r.eql(r.sqr(D),o))throw new Error(\"Cannot find square root\");return D}}return sr(t)}const ur=(t,e)=>(H(t,e)&N)===N,cr=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function ar(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},n=cr.reduce((r,o)=>(r[o]=\"function\",r),e);return Ot(t,n)}function fr(t,e,n){if(n<M)throw new Error(\"invalid exponent, negatives unsupported\");if(n===M)return t.ONE;if(n===N)return e;let r=t.ONE,o=e;for(;n>M;)n&N&&(r=t.mul(r,o)),o=t.sqr(o),n>>=N;return r}function Dr(t,e){const n=new Array(e.length),r=e.reduce((s,a,u)=>t.is0(a)?s:(n[u]=s,t.mul(s,a)),t.ONE),o=t.inv(r);return e.reduceRight((s,a,u)=>t.is0(a)?s:(n[u]=t.mul(s,n[u]),t.mul(s,a)),o),n}function me(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _e(t,e,n=!1,r={}){if(t<=M)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);const{nBitLength:o,nByteLength:s}=me(t,e);if(s>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let a;const u=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:s,MASK:er(o),ZERO:M,ONE:N,create:i=>H(i,t),isValid:i=>{if(typeof i!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof i);return M<=i&&i<t},is0:i=>i===M,isOdd:i=>(i&N)===N,neg:i=>H(-i,t),eql:(i,D)=>i===D,sqr:i=>H(i*i,t),add:(i,D)=>H(i+D,t),sub:(i,D)=>H(i-D,t),mul:(i,D)=>H(i*D,t),pow:(i,D)=>fr(u,i,D),div:(i,D)=>H(i*Ae(D,t),t),sqrN:i=>i*i,addN:(i,D)=>i+D,subN:(i,D)=>i-D,mulN:(i,D)=>i*D,inv:i=>Ae(i,t),sqrt:r.sqrt||(i=>(a||(a=ir(t)),a(u,i))),invertBatch:i=>Dr(u,i),cmov:(i,D,c)=>c?D:i,toBytes:i=>n?Nt(i,s):ge(i,s),fromBytes:i=>{if(i.length!==s)throw new Error(\"Field.fromBytes: expected \"+s+\" bytes, got \"+i.length);return n?Et(i):Pn(i)}});return Object.freeze(u)}const Se=BigInt(0),gt=BigInt(1);function zt(t,e){const n=e.negate();return t?n:e}function ve(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function Mt(t,e){ve(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function dr(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function hr(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const qt=new WeakMap,Ie=new WeakMap;function $t(t){return Ie.get(t)||1}function lr(t,e){return{constTimeNegate:zt,hasPrecomputes(n){return $t(n)!==1},unsafeLadder(n,r,o=t.ZERO){let s=n;for(;r>Se;)r&gt&&(o=o.add(s)),s=s.double(),r>>=gt;return o},precomputeWindow(n,r){const{windows:o,windowSize:s}=Mt(r,e),a=[];let u=n,i=u;for(let D=0;D<o;D++){i=u,a.push(i);for(let c=1;c<s;c++)i=i.add(u),a.push(i);u=i.double()}return a},wNAF(n,r,o){const{windows:s,windowSize:a}=Mt(n,e);let u=t.ZERO,i=t.BASE;const D=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let p=0;p<s;p++){const w=p*a;let h=Number(o&D);o>>=l,h>a&&(h-=c,o+=gt);const g=w,S=w+Math.abs(h)-1,v=p%2!==0,L=h<0;h===0?i=i.add(zt(v,r[g])):u=u.add(zt(L,r[S]))}return{p:u,f:i}},wNAFUnsafe(n,r,o,s=t.ZERO){const{windows:a,windowSize:u}=Mt(n,e),i=BigInt(2**n-1),D=2**n,c=BigInt(n);for(let l=0;l<a;l++){const p=l*u;if(o===Se)break;let w=Number(o&i);if(o>>=c,w>u&&(w-=D,o+=gt),w===0)continue;let h=r[p+Math.abs(w)-1];w<0&&(h=h.negate()),s=s.add(h)}return s},getPrecomputes(n,r,o){let s=qt.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&qt.set(r,o(s))),s},wNAFCached(n,r,o){const s=$t(n);return this.wNAF(s,this.getPrecomputes(s,n,o),r)},wNAFCachedUnsafe(n,r,o,s){const a=$t(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,o),r,s)},setWindowSize(n,r){ve(r,e),Ie.set(n,r),qt.delete(n)}}}function br(t,e,n,r){if(dr(n,t),hr(r,e),n.length!==r.length)throw new Error(\"arrays of points and scalars must have equal length\");const o=t.ZERO,s=tr(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,u=(1<<a)-1,i=new Array(u+1).fill(o),D=Math.floor((e.BITS-1)/a)*a;let c=o;for(let l=D;l>=0;l-=a){i.fill(o);for(let w=0;w<r.length;w++){const h=r[w],g=Number(h>>BigInt(l)&BigInt(u));i[g]=i[g].add(n[w])}let p=o;for(let w=i.length-1,h=o;w>0;w--)h=h.add(i[w]),p=p.add(h);if(c=c.add(p),l!==0)for(let w=0;w<a;w++)c=c.double()}return c}function pr(t){return ar(t.Fp),Ot(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...me(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const G=BigInt(0),j=BigInt(1),yt=BigInt(2),wr=BigInt(8),Er={zip215:!0};function gr(t){const e=pr(t);return Ot(t,{hash:\"function\",a:\"bigint\",d:\"bigint\",randomBytes:\"function\"},{adjustScalarBytes:\"function\",domain:\"function\",uvRatio:\"function\",mapToCurve:\"function\"}),Object.freeze({...e})}function yr(t){const e=gr(t),{Fp:n,n:r,prehash:o,hash:s,randomBytes:a,nByteLength:u,h:i}=e,D=yt<<BigInt(u*8)-j,c=n.create,l=_e(e.n,e.nBitLength),p=e.uvRatio||((y,f)=>{try{return{isValid:!0,value:n.sqrt(y*n.inv(f))}}catch{return{isValid:!1,value:G}}}),w=e.adjustScalarBytes||(y=>y),h=e.domain||((y,f,b)=>{if(Tt(\"phflag\",b),f.length||b)throw new Error(\"Contexts/pre-hash are not supported\");return y});function g(y,f){ft(\"coordinate \"+y,f,G,D)}function S(y){if(!(y instanceof d))throw new Error(\"ExtendedPoint expected\")}const v=xe((y,f)=>{const{ex:b,ey:E,ez:B}=y,C=y.is0();f==null&&(f=C?wr:n.inv(B));const A=c(b*f),U=c(E*f),_=c(B*f);if(C)return{x:G,y:j};if(_!==j)throw new Error(\"invZ was invalid\");return{x:A,y:U}}),L=xe(y=>{const{a:f,d:b}=e;if(y.is0())throw new Error(\"bad point: ZERO\");const{ex:E,ey:B,ez:C,et:A}=y,U=c(E*E),_=c(B*B),T=c(C*C),$=c(T*T),R=c(U*f),V=c(T*c(R+_)),Y=c($+c(b*c(U*_)));if(V!==Y)throw new Error(\"bad point: equation left != right (1)\");const Z=c(E*B),X=c(C*A);if(Z!==X)throw new Error(\"bad point: equation left != right (2)\");return!0});class d{constructor(f,b,E,B){this.ex=f,this.ey=b,this.ez=E,this.et=B,g(\"x\",f),g(\"y\",b),g(\"z\",E),g(\"t\",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(f){if(f instanceof d)throw new Error(\"extended point not allowed\");const{x:b,y:E}=f||{};return g(\"x\",b),g(\"y\",E),new d(b,E,j,c(b*E))}static normalizeZ(f){const b=n.invertBatch(f.map(E=>E.ez));return f.map((E,B)=>E.toAffine(b[B])).map(d.fromAffine)}static msm(f,b){return br(d,l,f,b)}_setWindowSize(f){q.setWindowSize(this,f)}assertValidity(){L(this)}equals(f){S(f);const{ex:b,ey:E,ez:B}=this,{ex:C,ey:A,ez:U}=f,_=c(b*U),T=c(C*B),$=c(E*U),R=c(A*B);return _===T&&$===R}is0(){return this.equals(d.ZERO)}negate(){return new d(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:f}=e,{ex:b,ey:E,ez:B}=this,C=c(b*b),A=c(E*E),U=c(yt*c(B*B)),_=c(f*C),T=b+E,$=c(c(T*T)-C-A),R=_+A,V=R-U,Y=_-A,Z=c($*V),X=c(R*Y),et=c($*Y),pt=c(V*R);return new d(Z,X,pt,et)}add(f){S(f);const{a:b,d:E}=e,{ex:B,ey:C,ez:A,et:U}=this,{ex:_,ey:T,ez:$,et:R}=f;if(b===BigInt(-1)){const re=c((C-B)*(T+_)),oe=c((C+B)*(T-_)),mt=c(oe-re);if(mt===G)return this.double();const se=c(A*yt*R),ie=c(U*yt*$),ue=ie+se,ce=oe+re,ae=ie-se,Dn=c(ue*mt),dn=c(ce*ae),hn=c(ue*ae),ln=c(mt*ce);return new d(Dn,dn,ln,hn)}const V=c(B*_),Y=c(C*T),Z=c(U*E*R),X=c(A*$),et=c((B+C)*(_+T)-V-Y),pt=X-Z,ee=X+Z,ne=c(Y-b*V),un=c(et*pt),cn=c(ee*ne),an=c(et*ne),fn=c(pt*ee);return new d(un,cn,fn,an)}subtract(f){return this.add(f.negate())}wNAF(f){return q.wNAFCached(this,f,d.normalizeZ)}multiply(f){const b=f;ft(\"scalar\",b,j,r);const{p:E,f:B}=this.wNAF(b);return d.normalizeZ([E,B])[0]}multiplyUnsafe(f,b=d.ZERO){const E=f;return ft(\"scalar\",E,G,r),E===G?F:this.is0()||E===j?this:q.wNAFCachedUnsafe(this,E,d.normalizeZ,b)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return q.unsafeLadder(this,r).is0()}toAffine(f){return v(this,f)}clearCofactor(){const{h:f}=e;return f===j?this:this.multiplyUnsafe(f)}static fromHex(f,b=!1){const{d:E,a:B}=e,C=n.BYTES;f=W(\"pointHex\",f,C),Tt(\"zip215\",b);const A=f.slice(),U=f[C-1];A[C-1]=U&-129;const _=Et(A),T=b?D:n.ORDER;ft(\"pointHex.y\",_,G,T);const $=c(_*_),R=c($-j),V=c(E*$-B);let{isValid:Y,value:Z}=p(R,V);if(!Y)throw new Error(\"Point.fromHex: invalid y coordinate\");const X=(Z&j)===j,et=(U&128)!==0;if(!b&&Z===G&&et)throw new Error(\"Point.fromHex: x=0 and x_0=1\");return et!==X&&(Z=c(-Z)),d.fromAffine({x:Z,y:_})}static fromPrivateKey(f){return O(f).point}toRawBytes(){const{x:f,y:b}=this.toAffine(),E=Nt(b,n.BYTES);return E[E.length-1]|=f&j?128:0,E}toHex(){return Ft(this.toRawBytes())}}d.BASE=new d(e.Gx,e.Gy,j,c(e.Gx*e.Gy)),d.ZERO=new d(G,j,j,G);const{BASE:m,ZERO:F}=d,q=lr(d,u*8);function z(y){return H(y,r)}function I(y){return z(Et(y))}function O(y){const f=n.BYTES;y=W(\"private key\",y,f);const b=W(\"hashed private key\",s(y),2*f),E=w(b.slice(0,f)),B=b.slice(f,2*f),C=I(E),A=m.multiply(C),U=A.toRawBytes();return{head:E,prefix:B,scalar:C,point:A,pointBytes:U}}function ot(y){return O(y).pointBytes}function tt(y=new Uint8Array,...f){const b=ye(...f);return I(s(h(b,W(\"context\",y),!!o)))}function st(y,f,b={}){y=W(\"message\",y),o&&(y=o(y));const{prefix:E,scalar:B,pointBytes:C}=O(f),A=tt(b.context,E,y),U=m.multiply(A).toRawBytes(),_=tt(b.context,U,C,y),T=z(A+_*B);ft(\"signature.s\",T,G,r);const $=ye(U,Nt(T,n.BYTES));return W(\"result\",$,n.BYTES*2)}const at=Er;function Ct(y,f,b,E=at){const{context:B,zip215:C}=E,A=n.BYTES;y=W(\"signature\",y,2*A),f=W(\"message\",f),b=W(\"publicKey\",b,A),C!==void 0&&Tt(\"zip215\",C),o&&(f=o(f));const U=Et(y.slice(A,2*A));let _,T,$;try{_=d.fromHex(b,C),T=d.fromHex(y.slice(0,A),C),$=m.multiplyUnsafe(U)}catch{return!1}if(!C&&_.isSmallOrder())return!1;const R=tt(B,T.toRawBytes(),_.toRawBytes(),f);return T.add(_.multiplyUnsafe(R)).subtract($).clearCofactor().equals(d.ZERO)}return m._setWindowSize(8),{CURVE:e,getPublicKey:ot,sign:st,verify:Ct,ExtendedPoint:d,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>a(n.BYTES),precompute(y=8,f=d.BASE){return f._setWindowSize(y),f.multiply(BigInt(3)),f}}}}BigInt(0),BigInt(1);const kt=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\"),Ue=BigInt(\"19681161376707505956807079304988542015446066515923890162744021073123829784752\");BigInt(0);const xr=BigInt(1),Te=BigInt(2);BigInt(3);const Br=BigInt(5),Cr=BigInt(8);function Ar(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=kt,u=t*t%s*t%s,i=J(u,Te,s)*u%s,D=J(i,xr,s)*t%s,c=J(D,Br,s)*D%s,l=J(c,e,s)*c%s,p=J(l,n,s)*l%s,w=J(p,r,s)*p%s,h=J(w,o,s)*w%s,g=J(h,o,s)*w%s,S=J(g,e,s)*c%s;return{pow_p_5_8:J(S,Te,s)*t%s,b2:u}}function mr(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function _r(t,e){const n=kt,r=H(e*e*e,n),o=H(r*r*e,n),s=Ar(t*o).pow_p_5_8;let a=H(t*r*s,n);const u=H(e*a*a,n),i=a,D=H(a*Ue,n),c=u===t,l=u===H(-t,n),p=u===H(-t*Ue,n);return c&&(a=i),(l||p)&&(a=D),ur(a,n)&&(a=H(-a,n)),{isValid:c||l,value:a}}const Sr=(()=>_e(kt,void 0,!0))(),vr=(()=>({a:BigInt(-1),d:BigInt(\"37095705934669439343138083508754565189542113879843219016388785533085940283555\"),Fp:Sr,n:BigInt(\"7237005577332262213973186563042994240857116359379907606001950938285454250989\"),h:Cr,Gx:BigInt(\"15112221349535400772501151409588531511454012693041857206046113283949847762202\"),Gy:BigInt(\"46316835694926478169428394003475163141307993866256225615783033603165251855960\"),hash:Kn,randomBytes:he,adjustScalarBytes:mr,uvRatio:_r}))(),Rt=(()=>yr(vr))(),jt=\"EdDSA\",Zt=\"JWT\",ut=\".\",Dt=\"base64url\",Gt=\"utf8\",xt=\"utf8\",Vt=\":\",Yt=\"did\",Jt=\"key\",dt=\"base58btc\",Kt=\"z\",Wt=\"K36\",Fe=32,Ne=32;function Xt(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Le(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xt(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Oe(t,e){e||(e=t.reduce((o,s)=>o+s.length,0));const n=Le(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return Xt(n)}function Ir(t,e){if(t.length>=255)throw new TypeError(\"Alphabet too long\");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<t.length;o++){var s=t.charAt(o),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+\" is ambiguous\");n[a]=o}var u=t.length,i=t.charAt(0),D=Math.log(u)/Math.log(256),c=Math.log(256)/Math.log(u);function l(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(h.length===0)return\"\";for(var g=0,S=0,v=0,L=h.length;v!==L&&h[v]===0;)v++,g++;for(var d=(L-v)*c+1>>>0,m=new Uint8Array(d);v!==L;){for(var F=h[v],q=0,z=d-1;(F!==0||q<S)&&z!==-1;z--,q++)F+=256*m[z]>>>0,m[z]=F%u>>>0,F=F/u>>>0;if(F!==0)throw new Error(\"Non-zero carry\");S=q,v++}for(var I=d-S;I!==d&&m[I]===0;)I++;for(var O=i.repeat(g);I<d;++I)O+=t.charAt(m[I]);return O}function p(h){if(typeof h!=\"string\")throw new TypeError(\"Expected String\");if(h.length===0)return new Uint8Array;var g=0;if(h[g]!==\" \"){for(var S=0,v=0;h[g]===i;)S++,g++;for(var L=(h.length-g)*D+1>>>0,d=new Uint8Array(L);h[g];){var m=n[h.charCodeAt(g)];if(m===255)return;for(var F=0,q=L-1;(m!==0||F<v)&&q!==-1;q--,F++)m+=u*d[q]>>>0,d[q]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error(\"Non-zero carry\");v=F,g++}if(h[g]!==\" \"){for(var z=L-v;z!==L&&d[z]===0;)z++;for(var I=new Uint8Array(S+(L-z)),O=S;z!==L;)I[O++]=d[z++];return I}}}function w(h){var g=p(h);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:p,decode:w}}var Ur=Ir,Tr=Ur;const He=t=>{if(t instanceof Uint8Array&&t.constructor.name===\"Uint8Array\")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error(\"Unknown type, must be binary type\")},Fr=t=>new TextEncoder().encode(t),Nr=t=>new TextDecoder().decode(t);class Lr{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class Or{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return ze(this,e)}}class Hr{constructor(e){this.decoders=e}or(e){return ze(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ze=(t,e)=>new Hr({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class zr{constructor(e,n,r,o){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=o,this.encoder=new Lr(e,n,r),this.decoder=new Or(e,n,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Bt=({name:t,prefix:e,encode:n,decode:r})=>new zr(t,e,n,r),ht=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:o}=Tr(n,e);return Bt({prefix:t,name:e,encode:r,decode:s=>He(o(s))})},Mr=(t,e,n,r)=>{const o={};for(let c=0;c<e.length;++c)o[e[c]]=c;let s=t.length;for(;t[s-1]===\"=\";)--s;const a=new Uint8Array(s*n/8|0);let u=0,i=0,D=0;for(let c=0;c<s;++c){const l=o[t[c]];if(l===void 0)throw new SyntaxError(`Non-${r} character`);i=i<<n|l,u+=n,u>=8&&(u-=8,a[D++]=255&i>>u)}if(u>=n||255&i<<8-u)throw new SyntaxError(\"Unexpected end of data\");return a},qr=(t,e,n)=>{const r=e[e.length-1]===\"=\",o=(1<<n)-1;let s=\"\",a=0,u=0;for(let i=0;i<t.length;++i)for(u=u<<8|t[i],a+=8;a>n;)a-=n,s+=e[o&u>>a];if(a&&(s+=e[o&u<<n-a]),r)for(;s.length*n&7;)s+=\"=\";return s},k=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Bt({prefix:e,name:t,encode(o){return qr(o,r,n)},decode(o){return Mr(o,r,n,t)}}),$r=Bt({prefix:\"\\0\",name:\"identity\",encode:t=>Nr(t),decode:t=>Fr(t)});var kr=Object.freeze({__proto__:null,identity:$r});const Rr=k({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var jr=Object.freeze({__proto__:null,base2:Rr});const Zr=k({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var Gr=Object.freeze({__proto__:null,base8:Zr});const Vr=ht({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var Yr=Object.freeze({__proto__:null,base10:Vr});const Jr=k({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Kr=k({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Wr=Object.freeze({__proto__:null,base16:Jr,base16upper:Kr});const Xr=k({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Pr=k({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),Qr=k({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),to=k({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),eo=k({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),no=k({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),ro=k({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),oo=k({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),so=k({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var io=Object.freeze({__proto__:null,base32:Xr,base32upper:Pr,base32pad:Qr,base32padupper:to,base32hex:eo,base32hexupper:no,base32hexpad:ro,base32hexpadupper:oo,base32z:so});const uo=ht({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),co=ht({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var ao=Object.freeze({__proto__:null,base36:uo,base36upper:co});const fo=ht({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Do=ht({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var ho=Object.freeze({__proto__:null,base58btc:fo,base58flickr:Do});const lo=k({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),bo=k({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),po=k({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),wo=k({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var Eo=Object.freeze({__proto__:null,base64:lo,base64pad:bo,base64url:po,base64urlpad:wo});const Me=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),go=Me.reduce((t,e,n)=>(t[n]=e,t),[]),yo=Me.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function xo(t){return t.reduce((e,n)=>(e+=go[n],e),\"\")}function Bo(t){const e=[];for(const n of t){const r=yo[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Co=Bt({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:xo,decode:Bo});var Ao=Object.freeze({__proto__:null,base256emoji:Co}),mo=$e,qe=128,_o=127,So=~_o,vo=Math.pow(2,31);function $e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=vo;)e[n++]=t&255|qe,t/=128;for(;t&So;)e[n++]=t&255|qe,t>>>=7;return e[n]=t|0,$e.bytes=n-r+1,e}var Io=Pt,Uo=128,ke=127;function Pt(t,r){var n=0,r=r||0,o=0,s=r,a,u=t.length;do{if(s>=u)throw Pt.bytes=0,new RangeError(\"Could not decode varint\");a=t[s++],n+=o<28?(a&ke)<<o:(a&ke)*Math.pow(2,o),o+=7}while(a>=Uo);return Pt.bytes=s-r,n}var To=Math.pow(2,7),Fo=Math.pow(2,14),No=Math.pow(2,21),Lo=Math.pow(2,28),Oo=Math.pow(2,35),Ho=Math.pow(2,42),zo=Math.pow(2,49),Mo=Math.pow(2,56),qo=Math.pow(2,63),$o=function(t){return t<To?1:t<Fo?2:t<No?3:t<Lo?4:t<Oo?5:t<Ho?6:t<zo?7:t<Mo?8:t<qo?9:10},ko={encode:mo,decode:Io,encodingLength:$o},Re=ko;const je=(t,e,n=0)=>(Re.encode(t,e,n),e),Ze=t=>Re.encodingLength(t),Qt=(t,e)=>{const n=e.byteLength,r=Ze(t),o=r+Ze(n),s=new Uint8Array(o+n);return je(t,s,0),je(n,s,r),s.set(e,o),new Ro(t,n,e,s)};class Ro{constructor(e,n,r,o){this.code=e,this.size=n,this.digest=r,this.bytes=o}}const Ge=({name:t,code:e,encode:n})=>new jo(t,e,n);class jo{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Qt(this.code,n):n.then(r=>Qt(this.code,r))}else throw Error(\"Unknown type, must be binary type\")}}const Ve=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Zo=Ge({name:\"sha2-256\",code:18,encode:Ve(\"SHA-256\")}),Go=Ge({name:\"sha2-512\",code:19,encode:Ve(\"SHA-512\")});var Vo=Object.freeze({__proto__:null,sha256:Zo,sha512:Go});const Ye=0,Yo=\"identity\",Je=He,Jo=t=>Qt(Ye,Je(t)),Ko={code:Ye,name:Yo,encode:Je,digest:Jo};var Wo=Object.freeze({__proto__:null,identity:Ko});new TextEncoder,new TextDecoder;const Ke={...kr,...jr,...Gr,...Yr,...Wr,...io,...ao,...ho,...Eo,...Ao};({...Vo,...Wo});function We(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Xe=We(\"utf8\",\"u\",t=>\"u\"+new TextDecoder(\"utf8\").decode(t),t=>new TextEncoder().encode(t.substring(1))),te=We(\"ascii\",\"a\",t=>{let e=\"a\";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Le(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Pe={utf8:Xe,\"utf-8\":Xe,hex:Ke.base16,latin1:te,ascii:te,binary:te,...Ke};function ct(t,e=\"utf8\"){const n=Pe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString(\"utf8\"):n.encoder.encode(t).substring(1)}function rt(t,e=\"utf8\"){const n=Pe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xt(globalThis.Buffer.from(t,\"utf-8\")):n.decoder.decode(`${n.prefix}${t}`)}function lt(t){return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonParse)(ct(rt(t,Dt),Gt))}function bt(t){return ct(rt((0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_1__.safeJsonStringify)(t),Gt),Dt)}function Qe(t){const e=rt(Wt,dt),n=Kt+ct(Oe([e,t]),dt);return[Yt,Jt,n].join(Vt)}function tn(t){const[e,n,r]=t.split(Vt);if(e!==Yt||n!==Jt)throw new Error('Issuer must be a DID with method \"key\"');if(r.slice(0,1)!==Kt)throw new Error(\"Issuer must be a key in mulicodec format\");const o=rt(r.slice(1),dt);if(ct(o.slice(0,2),dt)!==Wt)throw new Error('Issuer must be a public key with type \"Ed25519\"');const s=o.slice(2);if(s.length!==Fe)throw new Error(\"Issuer must be a public key with length 32 bytes\");return s}function en(t){return ct(t,Dt)}function nn(t){return rt(t,Dt)}function rn(t){return rt([bt(t.header),bt(t.payload)].join(ut),xt)}function Xo(t){const e=ct(t,xt).split(ut),n=lt(e[0]),r=lt(e[1]);return{header:n,payload:r}}function on(t){return[bt(t.header),bt(t.payload),en(t.signature)].join(ut)}function sn(t){const e=t.split(ut),n=lt(e[0]),r=lt(e[1]),o=nn(e[2]),s=rt(e.slice(0,2).join(ut),xt);return{header:n,payload:r,signature:o,data:s}}function Po(t=he(Ne)){const e=Rt.getPublicKey(t);return{secretKey:Oe([t,e]),publicKey:e}}async function Qo(t,e,n,r,o=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.fromMiliseconds)(Date.now())){const s={alg:jt,typ:Zt},a=Qe(r.publicKey),u=o+n,i={iss:a,sub:t,aud:e,iat:o,exp:u},D=rn({header:s,payload:i}),c=Rt.sign(D,r.secretKey.slice(0,32));return on({header:s,payload:i,signature:c})}async function ts(t){const{header:e,payload:n,data:r,signature:o}=sn(t);if(e.alg!==jt||e.typ!==Zt)throw new Error(\"JWT must use EdDSA algorithm\");const s=tn(n.iss);return Rt.verify(o,r,s)}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvcmVsYXktYXV0aC9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5SSxlQUFlLHlGQUF5RixvQkFBb0IsaURBQWlELGtIQUFrSCxvQkFBb0IsbUVBQW1FLDBFQUEwRSxpQkFBaUIsTUFBTSxvQkFBb0IsMEZBQTBGLHFGQUFxRixtSUFBbUksZUFBZSxvRkFBb0YsbURBQW1ELGVBQWUsNkNBQTZDLFNBQVMsUUFBUSwwQkFBMEIsZUFBZSw0Q0FBNEMsd0VBQXdFLGtCQUFrQiwwRkFBMEYsa0VBQWtFLDBEQUEwRCxxQkFBcUIsa0VBQWtFLHVGQUF1RiwwQ0FBMEMsb0JBQW9CLHFCQUFxQiwwTEFBMEwsVUFBVSxTQUFTLE1BQU0sMkJBQTJCLE1BQU0sUUFBUSxpQkFBaUIsWUFBWSxJQUFJLEVBQUUsaUNBQWlDLFVBQVUsY0FBYyxLQUFLLE9BQU8sdUJBQXVCLFNBQVMsZ0dBQWdHLG9EQUFvRCxjQUFjLHFDQUFxQyxNQUFNLGtDQUFrQyxNQUFNLElBQUksTUFBTSxNQUFNLHVGQUF1RixZQUFZLElBQUksV0FBVyxvREFBb0QsK0JBQStCLHNFQUFzRSx5QkFBeUIsb0VBQW9FLFlBQVksSUFBSSw0QkFBNEIsU0FBUyxNQUFNLHFCQUFxQixNQUFNLG1CQUFtQixxQkFBcUIsd0JBQXdCLGNBQWMsaURBQWlELE1BQU0sMERBQTBELE1BQU0sNkVBQTZFLHVDQUF1QyxvQkFBb0IsVUFBVSxrQ0FBa0MsRUFBRSx1Q0FBdUMsb0JBQW9CLDREQUE0RCxZQUFZLFdBQVcsS0FBSyxNQUFNLFFBQVEsWUFBWSxrQkFBa0IsWUFBWSxnVkFBZ1YscUJBQXFCLHdCQUF3QixPQUFPLDJCQUEyQixxUUFBcVEsa05BQWtOLDB1REFBMHVELG9CQUFvQixjQUFjLG9VQUFvVSxNQUFNLE1BQU0sZ0ZBQWdGLE1BQU0sd0NBQXdDLHFDQUFxQyxnTUFBZ00sYUFBYSxZQUFZ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QU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxxQkFBcUIsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sNEZBQTRGLGVBQWUsd0NBQXdDLGVBQWUsV0FBVyxrQkFBa0IsNkJBQTZCLDZEQUE2RCxFQUFFLEdBQUcsVUFBVSx5QkFBeUIsYUFBYSxXQUFXLE1BQU0sMENBQTBDLEVBQUUsc0JBQXNCLCtCQUErQiwrQ0FBK0MsbUJBQW1CLGVBQWUsWUFBWSxNQUFNLHdCQUF3QixLQUFLLEtBQUssd0JBQXdCLGlDQUFpQyx3QkFBd0IsaUJBQWlCLG9DQUFvQyxHQUFHLG1FQUFtRSxxREFBcUQsYUFBYSxzQkFBc0Isb0xBQW9MLHlFQUF5RSxLQUFLLHNDQUFzQyxPQUFPLCtFQUErRSw2REFBNkQsdURBQXVELFNBQVMscUJBQXFCLG9EQUFvRCxXQUFXLHVCQUF1QixpQkFBaUIsU0FBUyxtQkFBbUIsc0NBQXNDLFVBQVUsNEJBQTRCLHVCQUF1QiwwRUFBMEUsdURBQXVELDRFQUE0RSw2Q0FBNkMsU0FBUyw2Q0FBNkMsRUFBRSxzQkFBc0IsbUNBQW1DLEVBQUUsc0RBQXNELHFDQUFxQyxzQkFBc0IsMkJBQTJCLEVBQUUsZ0NBQWdDLFVBQVUsNkRBQTZELEVBQUUsWUFBWSxFQUFFLHFCQUFxQixPQUFPLHlCQUF5Qix5QkFBeUIsVUFBVSxXQUFXLG1JQUFtSSxVQUFVLFlBQVksV0FBVyxpQ0FBaUMsU0FBUyxLQUFLLGlCQUFpQixxQkFBcUIsWUFBWSxXQUFXLHlCQUF5QixTQUFTLE1BQU0scUVBQXFFLHdCQUF3QixjQUFjLCtDQUErQyxFQUFFLElBQUksb01BQW9NLHdCQUF3QixjQUFjLCtDQUErQyxFQUFFLElBQUksaUpBQWlKLFNBQVMsRUFBRSxFQUFFLEdBQUcsZUFBZSxPQUFPLHVFQUFFLGtCQUFrQixlQUFlLGFBQWEsMkVBQUUsWUFBWSxlQUFlLHdDQUF3Qyx5QkFBeUIsZUFBZSx5QkFBeUIsNEVBQTRFLGlGQUFpRiwwQkFBMEIsK0ZBQStGLG1CQUFtQixxRkFBcUYsU0FBUyxlQUFlLGdCQUFnQixlQUFlLGdCQUFnQixlQUFlLG9EQUFvRCxlQUFlLGlEQUFpRCxPQUFPLG9CQUFvQixlQUFlLDREQUE0RCxlQUFlLG9GQUFvRixPQUFPLHVDQUF1QyxzQkFBc0IsMkJBQTJCLE9BQU8saUNBQWlDLDRCQUE0QixvRUFBRSxjQUFjLFNBQVMsY0FBYyw0QkFBNEIsOEJBQThCLE9BQU8sbUJBQW1CLHVDQUF1QyxXQUFXLCtCQUErQixFQUFFLHFCQUFxQixNQUFNLHNDQUFzQyxPQUFPLDBFQUEwRSxrQkFBa0Isd0JBQW9rQjtBQUN4d3RDIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9yZWxheS1hdXRoL2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e2Zyb21NaWxpc2Vjb25kcyBhcyBibn1mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e3NhZmVKc29uUGFyc2UgYXMgcG4sc2FmZUpzb25TdHJpbmdpZnkgYXMgd259ZnJvbVwiQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uXCI7ZnVuY3Rpb24gRW4odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJnQuY29uc3RydWN0b3IubmFtZT09PVwiVWludDhBcnJheVwifWZ1bmN0aW9uIGZlKHQsLi4uZSl7aWYoIUVuKHQpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWRcIik7aWYoZS5sZW5ndGg+MCYmIWUuaW5jbHVkZXModC5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWQgb2YgbGVuZ3RoIFwiK2UrXCIsIGdvdCBsZW5ndGg9XCIrdC5sZW5ndGgpfWZ1bmN0aW9uIERlKHQsZT0hMCl7aWYodC5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWRcIik7aWYoZSYmdC5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXCIpfWZ1bmN0aW9uIGduKHQsZSl7ZmUodCk7Y29uc3Qgbj1lLm91dHB1dExlbjtpZih0Lmxlbmd0aDxuKXRocm93IG5ldyBFcnJvcihcImRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0IFwiK24pfWNvbnN0IGl0PXR5cGVvZiBnbG9iYWxUaGlzPT1cIm9iamVjdFwiJiZcImNyeXB0b1wiaW4gZ2xvYmFsVGhpcz9nbG9iYWxUaGlzLmNyeXB0bzp2b2lkIDA7LyohIG5vYmxlLWhhc2hlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL2NvbnN0IF90PXQ9Pm5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKTtmdW5jdGlvbiB5bih0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoXCJ1dGY4VG9CeXRlcyBleHBlY3RlZCBzdHJpbmcsIGdvdCBcIit0eXBlb2YgdCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KSl9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIHR5cGVvZiB0PT1cInN0cmluZ1wiJiYodD15bih0KSksZmUodCksdH1jbGFzcyB4bntjbG9uZSgpe3JldHVybiB0aGlzLl9jbG9uZUludG8oKX19ZnVuY3Rpb24gQm4odCl7Y29uc3QgZT1yPT50KCkudXBkYXRlKGRlKHIpKS5kaWdlc3QoKSxuPXQoKTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPSgpPT50KCksZX1mdW5jdGlvbiBoZSh0PTMyKXtpZihpdCYmdHlwZW9mIGl0LmdldFJhbmRvbVZhbHVlcz09XCJmdW5jdGlvblwiKXJldHVybiBpdC5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkodCkpO2lmKGl0JiZ0eXBlb2YgaXQucmFuZG9tQnl0ZXM9PVwiZnVuY3Rpb25cIilyZXR1cm4gaXQucmFuZG9tQnl0ZXModCk7dGhyb3cgbmV3IEVycm9yKFwiY3J5cHRvLmdldFJhbmRvbVZhbHVlcyBtdXN0IGJlIGRlZmluZWRcIil9ZnVuY3Rpb24gQ24odCxlLG4scil7aWYodHlwZW9mIHQuc2V0QmlnVWludDY0PT1cImZ1bmN0aW9uXCIpcmV0dXJuIHQuc2V0QmlnVWludDY0KGUsbixyKTtjb25zdCBvPUJpZ0ludCgzMikscz1CaWdJbnQoNDI5NDk2NzI5NSksYT1OdW1iZXIobj4+byZzKSx1PU51bWJlcihuJnMpLGk9cj80OjAsRD1yPzA6NDt0LnNldFVpbnQzMihlK2ksYSxyKSx0LnNldFVpbnQzMihlK0QsdSxyKX1jbGFzcyBBbiBleHRlbmRzIHhue2NvbnN0cnVjdG9yKGUsbixyLG8pe3N1cGVyKCksdGhpcy5ibG9ja0xlbj1lLHRoaXMub3V0cHV0TGVuPW4sdGhpcy5wYWRPZmZzZXQ9cix0aGlzLmlzTEU9byx0aGlzLmZpbmlzaGVkPSExLHRoaXMubGVuZ3RoPTAsdGhpcy5wb3M9MCx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheShlKSx0aGlzLnZpZXc9X3QodGhpcy5idWZmZXIpfXVwZGF0ZShlKXtEZSh0aGlzKTtjb25zdHt2aWV3Om4sYnVmZmVyOnIsYmxvY2tMZW46b309dGhpcztlPWRlKGUpO2NvbnN0IHM9ZS5sZW5ndGg7Zm9yKGxldCBhPTA7YTxzOyl7Y29uc3QgdT1NYXRoLm1pbihvLXRoaXMucG9zLHMtYSk7aWYodT09PW8pe2NvbnN0IGk9X3QoZSk7Zm9yKDtvPD1zLWE7YSs9byl0aGlzLnByb2Nlc3MoaSxhKTtjb250aW51ZX1yLnNldChlLnN1YmFycmF5KGEsYSt1KSx0aGlzLnBvcyksdGhpcy5wb3MrPXUsYSs9dSx0aGlzLnBvcz09PW8mJih0aGlzLnByb2Nlc3MobiwwKSx0aGlzLnBvcz0wKX1yZXR1cm4gdGhpcy5sZW5ndGgrPWUubGVuZ3RoLHRoaXMucm91bmRDbGVhbigpLHRoaXN9ZGlnZXN0SW50byhlKXtEZSh0aGlzKSxnbihlLHRoaXMpLHRoaXMuZmluaXNoZWQ9ITA7Y29uc3R7YnVmZmVyOm4sdmlldzpyLGJsb2NrTGVuOm8saXNMRTpzfT10aGlzO2xldHtwb3M6YX09dGhpcztuW2ErK109MTI4LHRoaXMuYnVmZmVyLnN1YmFycmF5KGEpLmZpbGwoMCksdGhpcy5wYWRPZmZzZXQ+by1hJiYodGhpcy5wcm9jZXNzKHIsMCksYT0wKTtmb3IobGV0IGw9YTtsPG87bCsrKW5bbF09MDtDbihyLG8tOCxCaWdJbnQodGhpcy5sZW5ndGgqOCkscyksdGhpcy5wcm9jZXNzKHIsMCk7Y29uc3QgdT1fdChlKSxpPXRoaXMub3V0cHV0TGVuO2lmKGklNCl0aHJvdyBuZXcgRXJyb3IoXCJfc2hhMjogb3V0cHV0TGVuIHNob3VsZCBiZSBhbGlnbmVkIHRvIDMyYml0XCIpO2NvbnN0IEQ9aS80LGM9dGhpcy5nZXQoKTtpZihEPmMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIl9zaGEyOiBvdXRwdXRMZW4gYmlnZ2VyIHRoYW4gc3RhdGVcIik7Zm9yKGxldCBsPTA7bDxEO2wrKyl1LnNldFVpbnQzMig0KmwsY1tsXSxzKX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9X2Nsb25lSW50byhlKXtlfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3RvciksZS5zZXQoLi4udGhpcy5nZXQoKSk7Y29uc3R7YmxvY2tMZW46bixidWZmZXI6cixsZW5ndGg6byxmaW5pc2hlZDpzLGRlc3Ryb3llZDphLHBvczp1fT10aGlzO3JldHVybiBlLmxlbmd0aD1vLGUucG9zPXUsZS5maW5pc2hlZD1zLGUuZGVzdHJveWVkPWEsbyVuJiZlLmJ1ZmZlci5zZXQociksZX19Y29uc3Qgd3Q9QmlnSW50KDIqKjMyLTEpLFN0PUJpZ0ludCgzMik7ZnVuY3Rpb24gbGUodCxlPSExKXtyZXR1cm4gZT97aDpOdW1iZXIodCZ3dCksbDpOdW1iZXIodD4+U3Qmd3QpfTp7aDpOdW1iZXIodD4+U3Qmd3QpfDAsbDpOdW1iZXIodCZ3dCl8MH19ZnVuY3Rpb24gbW4odCxlPSExKXtsZXQgbj1uZXcgVWludDMyQXJyYXkodC5sZW5ndGgpLHI9bmV3IFVpbnQzMkFycmF5KHQubGVuZ3RoKTtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7Y29uc3R7aDpzLGw6YX09bGUodFtvXSxlKTtbbltvXSxyW29dXT1bcyxhXX1yZXR1cm5bbixyXX1jb25zdCBfbj0odCxlKT0+QmlnSW50KHQ+Pj4wKTw8U3R8QmlnSW50KGU+Pj4wKSxTbj0odCxlLG4pPT50Pj4+bix2bj0odCxlLG4pPT50PDwzMi1ufGU+Pj5uLEluPSh0LGUsbik9PnQ+Pj5ufGU8PDMyLW4sVW49KHQsZSxuKT0+dDw8MzItbnxlPj4+bixUbj0odCxlLG4pPT50PDw2NC1ufGU+Pj5uLTMyLEZuPSh0LGUsbik9PnQ+Pj5uLTMyfGU8PDY0LW4sTm49KHQsZSk9PmUsTG49KHQsZSk9PnQsT249KHQsZSxuKT0+dDw8bnxlPj4+MzItbixIbj0odCxlLG4pPT5lPDxufHQ+Pj4zMi1uLHpuPSh0LGUsbik9PmU8PG4tMzJ8dD4+PjY0LW4sTW49KHQsZSxuKT0+dDw8bi0zMnxlPj4+NjQtbjtmdW5jdGlvbiBxbih0LGUsbixyKXtjb25zdCBvPShlPj4+MCkrKHI+Pj4wKTtyZXR1cm57aDp0K24rKG8vMioqMzJ8MCl8MCxsOm98MH19Y29uc3QgJG49KHQsZSxuKT0+KHQ+Pj4wKSsoZT4+PjApKyhuPj4+MCksa249KHQsZSxuLHIpPT5lK24rcisodC8yKiozMnwwKXwwLFJuPSh0LGUsbixyKT0+KHQ+Pj4wKSsoZT4+PjApKyhuPj4+MCkrKHI+Pj4wKSxqbj0odCxlLG4scixvKT0+ZStuK3IrbysodC8yKiozMnwwKXwwLFpuPSh0LGUsbixyLG8pPT4odD4+PjApKyhlPj4+MCkrKG4+Pj4wKSsocj4+PjApKyhvPj4+MCksR249KHQsZSxuLHIsbyxzKT0+ZStuK3IrbytzKyh0LzIqKjMyfDApfDAseD17ZnJvbUJpZzpsZSxzcGxpdDptbix0b0JpZzpfbixzaHJTSDpTbixzaHJTTDp2bixyb3RyU0g6SW4scm90clNMOlVuLHJvdHJCSDpUbixyb3RyQkw6Rm4scm90cjMySDpObixyb3RyMzJMOkxuLHJvdGxTSDpPbixyb3RsU0w6SG4scm90bEJIOnpuLHJvdGxCTDpNbixhZGQ6cW4sYWRkM0w6JG4sYWRkM0g6a24sYWRkNEw6Um4sYWRkNEg6am4sYWRkNUg6R24sYWRkNUw6Wm59LFtWbixZbl09KCgpPT54LnNwbGl0KFtcIjB4NDI4YTJmOThkNzI4YWUyMlwiLFwiMHg3MTM3NDQ5MTIzZWY2NWNkXCIsXCIweGI1YzBmYmNmZWM0ZDNiMmZcIixcIjB4ZTliNWRiYTU4MTg5ZGJiY1wiLFwiMHgzOTU2YzI1YmYzNDhiNTM4XCIsXCIweDU5ZjExMWYxYjYwNWQwMTlcIixcIjB4OTIzZjgyYTRhZjE5NGY5YlwiLFwiMHhhYjFjNWVkNWRhNmQ4MTE4XCIsXCIweGQ4MDdhYTk4YTMwMzAyNDJcIixcIjB4MTI4MzViMDE0NTcwNmZiZVwiLFwiMHgyNDMxODViZTRlZTRiMjhjXCIsXCIweDU1MGM3ZGMzZDVmZmI0ZTJcIixcIjB4NzJiZTVkNzRmMjdiODk2ZlwiLFwiMHg4MGRlYjFmZTNiMTY5NmIxXCIsXCIweDliZGMwNmE3MjVjNzEyMzVcIixcIjB4YzE5YmYxNzRjZjY5MjY5NFwiLFwiMHhlNDliNjljMTllZjE0YWQyXCIsXCIweGVmYmU0Nzg2Mzg0ZjI1ZTNcIixcIjB4MGZjMTlkYzY4YjhjZDViNVwiLFwiMHgyNDBjYTFjYzc3YWM5YzY1XCIsXCIweDJkZTkyYzZmNTkyYjAyNzVcIixcIjB4NGE3NDg0YWE2ZWE2ZTQ4M1wiLFwiMHg1Y2IwYTlkY2JkNDFmYmQ0XCIsXCIweDc2Zjk4OGRhODMxMTUzYjVcIixcIjB4OTgzZTUxNTJlZTY2ZGZhYlwiLFwiMHhhODMxYzY2ZDJkYjQzMjEwXCIsXCIweGIwMDMyN2M4OThmYjIxM2ZcIixcIjB4YmY1OTdmYzdiZWVmMGVlNFwiLFwiMHhjNmUwMGJmMzNkYTg4ZmMyXCIsXCIweGQ1YTc5MTQ3OTMwYWE3MjVcIixcIjB4MDZjYTYzNTFlMDAzODI2ZlwiLFwiMHgxNDI5Mjk2NzBhMGU2ZTcwXCIsXCIweDI3YjcwYTg1NDZkMjJmZmNcIixcIjB4MmUxYjIxMzg1YzI2YzkyNlwiLFwiMHg0ZDJjNmRmYzVhYzQyYWVkXCIsXCIweDUzMzgwZDEzOWQ5NWIzZGZcIixcIjB4NjUwYTczNTQ4YmFmNjNkZVwiLFwiMHg3NjZhMGFiYjNjNzdiMmE4XCIsXCIweDgxYzJjOTJlNDdlZGFlZTZcIixcIjB4OTI3MjJjODUxNDgyMzUzYlwiLFwiMHhhMmJmZThhMTRjZjEwMzY0XCIsXCIweGE4MWE2NjRiYmM0MjMwMDFcIixcIjB4YzI0YjhiNzBkMGY4OTc5MVwiLFwiMHhjNzZjNTFhMzA2NTRiZTMwXCIsXCIweGQxOTJlODE5ZDZlZjUyMThcIixcIjB4ZDY5OTA2MjQ1NTY1YTkxMFwiLFwiMHhmNDBlMzU4NTU3NzEyMDJhXCIsXCIweDEwNmFhMDcwMzJiYmQxYjhcIixcIjB4MTlhNGMxMTZiOGQyZDBjOFwiLFwiMHgxZTM3NmMwODUxNDFhYjUzXCIsXCIweDI3NDg3NzRjZGY4ZWViOTlcIixcIjB4MzRiMGJjYjVlMTliNDhhOFwiLFwiMHgzOTFjMGNiM2M1Yzk1YTYzXCIsXCIweDRlZDhhYTRhZTM0MThhY2JcIixcIjB4NWI5Y2NhNGY3NzYzZTM3M1wiLFwiMHg2ODJlNmZmM2Q2YjJiOGEzXCIsXCIweDc0OGY4MmVlNWRlZmIyZmNcIixcIjB4NzhhNTYzNmY0MzE3MmY2MFwiLFwiMHg4NGM4NzgxNGExZjBhYjcyXCIsXCIweDhjYzcwMjA4MWE2NDM5ZWNcIixcIjB4OTBiZWZmZmEyMzYzMWUyOFwiLFwiMHhhNDUwNmNlYmRlODJiZGU5XCIsXCIweGJlZjlhM2Y3YjJjNjc5MTVcIixcIjB4YzY3MTc4ZjJlMzcyNTMyYlwiLFwiMHhjYTI3M2VjZWVhMjY2MTljXCIsXCIweGQxODZiOGM3MjFjMGMyMDdcIixcIjB4ZWFkYTdkZDZjZGUwZWIxZVwiLFwiMHhmNTdkNGY3ZmVlNmVkMTc4XCIsXCIweDA2ZjA2N2FhNzIxNzZmYmFcIixcIjB4MGE2MzdkYzVhMmM4OThhNlwiLFwiMHgxMTNmOTgwNGJlZjkwZGFlXCIsXCIweDFiNzEwYjM1MTMxYzQ3MWJcIixcIjB4MjhkYjc3ZjUyMzA0N2Q4NFwiLFwiMHgzMmNhYWI3YjQwYzcyNDkzXCIsXCIweDNjOWViZTBhMTVjOWJlYmNcIixcIjB4NDMxZDY3YzQ5YzEwMGQ0Y1wiLFwiMHg0Y2M1ZDRiZWNiM2U0MmI2XCIsXCIweDU5N2YyOTljZmM2NTdlMmFcIixcIjB4NWZjYjZmYWIzYWQ2ZmFlY1wiLFwiMHg2YzQ0MTk4YzRhNDc1ODE3XCJdLm1hcCh0PT5CaWdJbnQodCkpKSkoKSxQPW5ldyBVaW50MzJBcnJheSg4MCksUT1uZXcgVWludDMyQXJyYXkoODApO2NsYXNzIEpuIGV4dGVuZHMgQW57Y29uc3RydWN0b3IoKXtzdXBlcigxMjgsNjQsMTYsITEpLHRoaXMuQWg9MTc3OTAzMzcwMyx0aGlzLkFsPS0yMDU3MzE1NzYsdGhpcy5CaD0tMTE1MDgzMzAxOSx0aGlzLkJsPS0yMDY3MDkzNzAxLHRoaXMuQ2g9MTAxMzkwNDI0Mix0aGlzLkNsPS0yMzc5MTU3Myx0aGlzLkRoPS0xNTIxNDg2NTM0LHRoaXMuRGw9MTU5NTc1MDEyOSx0aGlzLkVoPTEzNTk4OTMxMTksdGhpcy5FbD0tMTM3NzQwMjE1OSx0aGlzLkZoPS0xNjk0MTQ0MzcyLHRoaXMuRmw9NzI1NTExMTk5LHRoaXMuR2g9NTI4NzM0NjM1LHRoaXMuR2w9LTc5NTc3NzQ5LHRoaXMuSGg9MTU0MTQ1OTIyNSx0aGlzLkhsPTMyNzAzMzIwOX1nZXQoKXtjb25zdHtBaDplLEFsOm4sQmg6cixCbDpvLENoOnMsQ2w6YSxEaDp1LERsOmksRWg6RCxFbDpjLEZoOmwsRmw6cCxHaDp3LEdsOmgsSGg6ZyxIbDpTfT10aGlzO3JldHVybltlLG4scixvLHMsYSx1LGksRCxjLGwscCx3LGgsZyxTXX1zZXQoZSxuLHIsbyxzLGEsdSxpLEQsYyxsLHAsdyxoLGcsUyl7dGhpcy5BaD1lfDAsdGhpcy5BbD1ufDAsdGhpcy5CaD1yfDAsdGhpcy5CbD1vfDAsdGhpcy5DaD1zfDAsdGhpcy5DbD1hfDAsdGhpcy5EaD11fDAsdGhpcy5EbD1pfDAsdGhpcy5FaD1EfDAsdGhpcy5FbD1jfDAsdGhpcy5GaD1sfDAsdGhpcy5GbD1wfDAsdGhpcy5HaD13fDAsdGhpcy5HbD1ofDAsdGhpcy5IaD1nfDAsdGhpcy5IbD1TfDB9cHJvY2VzcyhlLG4pe2ZvcihsZXQgZD0wO2Q8MTY7ZCsrLG4rPTQpUFtkXT1lLmdldFVpbnQzMihuKSxRW2RdPWUuZ2V0VWludDMyKG4rPTQpO2ZvcihsZXQgZD0xNjtkPDgwO2QrKyl7Y29uc3QgbT1QW2QtMTVdfDAsRj1RW2QtMTVdfDAscT14LnJvdHJTSChtLEYsMSleeC5yb3RyU0gobSxGLDgpXnguc2hyU0gobSxGLDcpLHo9eC5yb3RyU0wobSxGLDEpXngucm90clNMKG0sRiw4KV54LnNoclNMKG0sRiw3KSxJPVBbZC0yXXwwLE89UVtkLTJdfDAsb3Q9eC5yb3RyU0goSSxPLDE5KV54LnJvdHJCSChJLE8sNjEpXnguc2hyU0goSSxPLDYpLHR0PXgucm90clNMKEksTywxOSleeC5yb3RyQkwoSSxPLDYxKV54LnNoclNMKEksTyw2KSxzdD14LmFkZDRMKHosdHQsUVtkLTddLFFbZC0xNl0pLGF0PXguYWRkNEgoc3QscSxvdCxQW2QtN10sUFtkLTE2XSk7UFtkXT1hdHwwLFFbZF09c3R8MH1sZXR7QWg6cixBbDpvLEJoOnMsQmw6YSxDaDp1LENsOmksRGg6RCxEbDpjLEVoOmwsRWw6cCxGaDp3LEZsOmgsR2g6ZyxHbDpTLEhoOnYsSGw6TH09dGhpcztmb3IobGV0IGQ9MDtkPDgwO2QrKyl7Y29uc3QgbT14LnJvdHJTSChsLHAsMTQpXngucm90clNIKGwscCwxOCleeC5yb3RyQkgobCxwLDQxKSxGPXgucm90clNMKGwscCwxNCleeC5yb3RyU0wobCxwLDE4KV54LnJvdHJCTChsLHAsNDEpLHE9bCZ3Xn5sJmcsej1wJmhefnAmUyxJPXguYWRkNUwoTCxGLHosWW5bZF0sUVtkXSksTz14LmFkZDVIKEksdixtLHEsVm5bZF0sUFtkXSksb3Q9SXwwLHR0PXgucm90clNIKHIsbywyOCleeC5yb3RyQkgocixvLDM0KV54LnJvdHJCSChyLG8sMzkpLHN0PXgucm90clNMKHIsbywyOCleeC5yb3RyQkwocixvLDM0KV54LnJvdHJCTChyLG8sMzkpLGF0PXImc15yJnVecyZ1LEN0PW8mYV5vJmleYSZpO3Y9Z3wwLEw9U3wwLGc9d3wwLFM9aHwwLHc9bHwwLGg9cHwwLHtoOmwsbDpwfT14LmFkZChEfDAsY3wwLE98MCxvdHwwKSxEPXV8MCxjPWl8MCx1PXN8MCxpPWF8MCxzPXJ8MCxhPW98MDtjb25zdCBBdD14LmFkZDNMKG90LHN0LEN0KTtyPXguYWRkM0goQXQsTyx0dCxhdCksbz1BdHwwfSh7aDpyLGw6b309eC5hZGQodGhpcy5BaHwwLHRoaXMuQWx8MCxyfDAsb3wwKSkse2g6cyxsOmF9PXguYWRkKHRoaXMuQmh8MCx0aGlzLkJsfDAsc3wwLGF8MCkse2g6dSxsOml9PXguYWRkKHRoaXMuQ2h8MCx0aGlzLkNsfDAsdXwwLGl8MCkse2g6RCxsOmN9PXguYWRkKHRoaXMuRGh8MCx0aGlzLkRsfDAsRHwwLGN8MCkse2g6bCxsOnB9PXguYWRkKHRoaXMuRWh8MCx0aGlzLkVsfDAsbHwwLHB8MCkse2g6dyxsOmh9PXguYWRkKHRoaXMuRmh8MCx0aGlzLkZsfDAsd3wwLGh8MCkse2g6ZyxsOlN9PXguYWRkKHRoaXMuR2h8MCx0aGlzLkdsfDAsZ3wwLFN8MCkse2g6dixsOkx9PXguYWRkKHRoaXMuSGh8MCx0aGlzLkhsfDAsdnwwLEx8MCksdGhpcy5zZXQocixvLHMsYSx1LGksRCxjLGwscCx3LGgsZyxTLHYsTCl9cm91bmRDbGVhbigpe1AuZmlsbCgwKSxRLmZpbGwoMCl9ZGVzdHJveSgpe3RoaXMuYnVmZmVyLmZpbGwoMCksdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCl9fWNvbnN0IEtuPUJuKCgpPT5uZXcgSm4pOy8qISBub2JsZS1jdXJ2ZXMgLSBNSVQgTGljZW5zZSAoYykgMjAyMiBQYXVsIE1pbGxlciAocGF1bG1pbGxyLmNvbSkgKi9jb25zdCB2dD1CaWdJbnQoMCksYmU9QmlnSW50KDEpLFduPUJpZ0ludCgyKTtmdW5jdGlvbiBJdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEFycmF5QnVmZmVyLmlzVmlldyh0KSYmdC5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCJ9ZnVuY3Rpb24gVXQodCl7aWYoIUl0KHQpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWRcIil9ZnVuY3Rpb24gVHQodCxlKXtpZih0eXBlb2YgZSE9XCJib29sZWFuXCIpdGhyb3cgbmV3IEVycm9yKHQrXCIgYm9vbGVhbiBleHBlY3RlZCwgZ290IFwiK2UpfWNvbnN0IFhuPUFycmF5LmZyb20oe2xlbmd0aDoyNTZ9LCh0LGUpPT5lLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKSk7ZnVuY3Rpb24gRnQodCl7VXQodCk7bGV0IGU9XCJcIjtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllKz1Yblt0W25dXTtyZXR1cm4gZX1mdW5jdGlvbiBwZSh0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoXCJoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgXCIrdHlwZW9mIHQpO3JldHVybiB0PT09XCJcIj92dDpCaWdJbnQoXCIweFwiK3QpfWNvbnN0IEs9e18wOjQ4LF85OjU3LEE6NjUsRjo3MCxhOjk3LGY6MTAyfTtmdW5jdGlvbiB3ZSh0KXtpZih0Pj1LLl8wJiZ0PD1LLl85KXJldHVybiB0LUsuXzA7aWYodD49Sy5BJiZ0PD1LLkYpcmV0dXJuIHQtKEsuQS0xMCk7aWYodD49Sy5hJiZ0PD1LLmYpcmV0dXJuIHQtKEsuYS0xMCl9ZnVuY3Rpb24gRWUodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtjb25zdCBlPXQubGVuZ3RoLG49ZS8yO2lmKGUlMil0aHJvdyBuZXcgRXJyb3IoXCJoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgdW5wYWRkZWQgaGV4IG9mIGxlbmd0aCBcIitlKTtjb25zdCByPW5ldyBVaW50OEFycmF5KG4pO2ZvcihsZXQgbz0wLHM9MDtvPG47bysrLHMrPTIpe2NvbnN0IGE9d2UodC5jaGFyQ29kZUF0KHMpKSx1PXdlKHQuY2hhckNvZGVBdChzKzEpKTtpZihhPT09dm9pZCAwfHx1PT09dm9pZCAwKXtjb25zdCBpPXRbc10rdFtzKzFdO3Rocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IG5vbi1oZXggY2hhcmFjdGVyIFwiJytpKydcIiBhdCBpbmRleCAnK3MpfXJbb109YSoxNit1fXJldHVybiByfWZ1bmN0aW9uIFBuKHQpe3JldHVybiBwZShGdCh0KSl9ZnVuY3Rpb24gRXQodCl7cmV0dXJuIFV0KHQpLHBlKEZ0KFVpbnQ4QXJyYXkuZnJvbSh0KS5yZXZlcnNlKCkpKX1mdW5jdGlvbiBnZSh0LGUpe3JldHVybiBFZSh0LnRvU3RyaW5nKDE2KS5wYWRTdGFydChlKjIsXCIwXCIpKX1mdW5jdGlvbiBOdCh0LGUpe3JldHVybiBnZSh0LGUpLnJldmVyc2UoKX1mdW5jdGlvbiBXKHQsZSxuKXtsZXQgcjtpZih0eXBlb2YgZT09XCJzdHJpbmdcIil0cnl7cj1FZShlKX1jYXRjaChzKXt0aHJvdyBuZXcgRXJyb3IodCtcIiBtdXN0IGJlIGhleCBzdHJpbmcgb3IgVWludDhBcnJheSwgY2F1c2U6IFwiK3MpfWVsc2UgaWYoSXQoZSkpcj1VaW50OEFycmF5LmZyb20oZSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IodCtcIiBtdXN0IGJlIGhleCBzdHJpbmcgb3IgVWludDhBcnJheVwiKTtjb25zdCBvPXIubGVuZ3RoO2lmKHR5cGVvZiBuPT1cIm51bWJlclwiJiZvIT09bil0aHJvdyBuZXcgRXJyb3IodCtcIiBvZiBsZW5ndGggXCIrbitcIiBleHBlY3RlZCwgZ290IFwiK28pO3JldHVybiByfWZ1bmN0aW9uIHllKC4uLnQpe2xldCBlPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG89dFtyXTtVdChvKSxlKz1vLmxlbmd0aH1jb25zdCBuPW5ldyBVaW50OEFycmF5KGUpO2ZvcihsZXQgcj0wLG89MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgcz10W3JdO24uc2V0KHMsbyksbys9cy5sZW5ndGh9cmV0dXJuIG59Y29uc3QgTHQ9dD0+dHlwZW9mIHQ9PVwiYmlnaW50XCImJnZ0PD10O2Z1bmN0aW9uIFFuKHQsZSxuKXtyZXR1cm4gTHQodCkmJkx0KGUpJiZMdChuKSYmZTw9dCYmdDxufWZ1bmN0aW9uIGZ0KHQsZSxuLHIpe2lmKCFRbihlLG4scikpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgdmFsaWQgXCIrdCtcIjogXCIrbitcIiA8PSBuIDwgXCIrcitcIiwgZ290IFwiK2UpfWZ1bmN0aW9uIHRyKHQpe2xldCBlO2ZvcihlPTA7dD52dDt0Pj49YmUsZSs9MSk7cmV0dXJuIGV9Y29uc3QgZXI9dD0+KFduPDxCaWdJbnQodC0xKSktYmUsbnI9e2JpZ2ludDp0PT50eXBlb2YgdD09XCJiaWdpbnRcIixmdW5jdGlvbjp0PT50eXBlb2YgdD09XCJmdW5jdGlvblwiLGJvb2xlYW46dD0+dHlwZW9mIHQ9PVwiYm9vbGVhblwiLHN0cmluZzp0PT50eXBlb2YgdD09XCJzdHJpbmdcIixzdHJpbmdPclVpbnQ4QXJyYXk6dD0+dHlwZW9mIHQ9PVwic3RyaW5nXCJ8fEl0KHQpLGlzU2FmZUludGVnZXI6dD0+TnVtYmVyLmlzU2FmZUludGVnZXIodCksYXJyYXk6dD0+QXJyYXkuaXNBcnJheSh0KSxmaWVsZDoodCxlKT0+ZS5GcC5pc1ZhbGlkKHQpLGhhc2g6dD0+dHlwZW9mIHQ9PVwiZnVuY3Rpb25cIiYmTnVtYmVyLmlzU2FmZUludGVnZXIodC5vdXRwdXRMZW4pfTtmdW5jdGlvbiBPdCh0LGUsbj17fSl7Y29uc3Qgcj0obyxzLGEpPT57Y29uc3QgdT1ucltzXTtpZih0eXBlb2YgdSE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgdmFsaWRhdG9yIGZ1bmN0aW9uXCIpO2NvbnN0IGk9dFtvXTtpZighKGEmJmk9PT12b2lkIDApJiYhdShpLHQpKXRocm93IG5ldyBFcnJvcihcInBhcmFtIFwiK1N0cmluZyhvKStcIiBpcyBpbnZhbGlkLiBFeHBlY3RlZCBcIitzK1wiLCBnb3QgXCIraSl9O2Zvcihjb25zdFtvLHNdb2YgT2JqZWN0LmVudHJpZXMoZSkpcihvLHMsITEpO2Zvcihjb25zdFtvLHNdb2YgT2JqZWN0LmVudHJpZXMobikpcihvLHMsITApO3JldHVybiB0fWZ1bmN0aW9uIHhlKHQpe2NvbnN0IGU9bmV3IFdlYWtNYXA7cmV0dXJuKG4sLi4ucik9Pntjb25zdCBvPWUuZ2V0KG4pO2lmKG8hPT12b2lkIDApcmV0dXJuIG87Y29uc3Qgcz10KG4sLi4ucik7cmV0dXJuIGUuc2V0KG4scyksc319Y29uc3QgTT1CaWdJbnQoMCksTj1CaWdJbnQoMSksbnQ9QmlnSW50KDIpLHJyPUJpZ0ludCgzKSxIdD1CaWdJbnQoNCksQmU9QmlnSW50KDUpLENlPUJpZ0ludCg4KTtmdW5jdGlvbiBIKHQsZSl7Y29uc3Qgbj10JWU7cmV0dXJuIG4+PU0/bjplK259ZnVuY3Rpb24gb3IodCxlLG4pe2lmKGU8TSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGV4cG9uZW50LCBuZWdhdGl2ZXMgdW5zdXBwb3J0ZWRcIik7aWYobjw9TSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG1vZHVsdXNcIik7aWYobj09PU4pcmV0dXJuIE07bGV0IHI9Tjtmb3IoO2U+TTspZSZOJiYocj1yKnQlbiksdD10KnQlbixlPj49TjtyZXR1cm4gcn1mdW5jdGlvbiBKKHQsZSxuKXtsZXQgcj10O2Zvcig7ZS0tID5NOylyKj1yLHIlPW47cmV0dXJuIHJ9ZnVuY3Rpb24gQWUodCxlKXtpZih0PT09TSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZlcnQ6IGV4cGVjdGVkIG5vbi16ZXJvIG51bWJlclwiKTtpZihlPD1NKXRocm93IG5ldyBFcnJvcihcImludmVydDogZXhwZWN0ZWQgcG9zaXRpdmUgbW9kdWx1cywgZ290IFwiK2UpO2xldCBuPUgodCxlKSxyPWUsbz1NLHM9Tjtmb3IoO24hPT1NOyl7Y29uc3QgdT1yL24saT1yJW4sRD1vLXMqdTtyPW4sbj1pLG89cyxzPUR9aWYociE9PU4pdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBkb2VzIG5vdCBleGlzdFwiKTtyZXR1cm4gSChvLGUpfWZ1bmN0aW9uIHNyKHQpe2NvbnN0IGU9KHQtTikvbnQ7bGV0IG4scixvO2ZvcihuPXQtTixyPTA7biVudD09PU07bi89bnQscisrKTtmb3Iobz1udDtvPHQmJm9yKG8sZSx0KSE9PXQtTjtvKyspaWYobz4xZTMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3Q6IGxpa2VseSBub24tcHJpbWUgUFwiKTtpZihyPT09MSl7Y29uc3QgYT0odCtOKS9IdDtyZXR1cm4gZnVuY3Rpb24oaSxEKXtjb25zdCBjPWkucG93KEQsYSk7aWYoIWkuZXFsKGkuc3FyKGMpLEQpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO3JldHVybiBjfX1jb25zdCBzPShuK04pL250O3JldHVybiBmdW5jdGlvbih1LGkpe2lmKHUucG93KGksZSk9PT11Lm5lZyh1Lk9ORSkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7bGV0IEQ9cixjPXUucG93KHUubXVsKHUuT05FLG8pLG4pLGw9dS5wb3coaSxzKSxwPXUucG93KGksbik7Zm9yKDshdS5lcWwocCx1Lk9ORSk7KXtpZih1LmVxbChwLHUuWkVSTykpcmV0dXJuIHUuWkVSTztsZXQgdz0xO2ZvcihsZXQgZz11LnNxcihwKTt3PEQmJiF1LmVxbChnLHUuT05FKTt3KyspZz11LnNxcihnKTtjb25zdCBoPXUucG93KGMsTjw8QmlnSW50KEQtdy0xKSk7Yz11LnNxcihoKSxsPXUubXVsKGwsaCkscD11Lm11bChwLGMpLEQ9d31yZXR1cm4gbH19ZnVuY3Rpb24gaXIodCl7aWYodCVIdD09PXJyKXtjb25zdCBlPSh0K04pL0h0O3JldHVybiBmdW5jdGlvbihyLG8pe2NvbnN0IHM9ci5wb3cobyxlKTtpZighci5lcWwoci5zcXIocyksbykpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7cmV0dXJuIHN9fWlmKHQlQ2U9PT1CZSl7Y29uc3QgZT0odC1CZSkvQ2U7cmV0dXJuIGZ1bmN0aW9uKHIsbyl7Y29uc3Qgcz1yLm11bChvLG50KSxhPXIucG93KHMsZSksdT1yLm11bChvLGEpLGk9ci5tdWwoci5tdWwodSxudCksYSksRD1yLm11bCh1LHIuc3ViKGksci5PTkUpKTtpZighci5lcWwoci5zcXIoRCksbykpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7cmV0dXJuIER9fXJldHVybiBzcih0KX1jb25zdCB1cj0odCxlKT0+KEgodCxlKSZOKT09PU4sY3I9W1wiY3JlYXRlXCIsXCJpc1ZhbGlkXCIsXCJpczBcIixcIm5lZ1wiLFwiaW52XCIsXCJzcXJ0XCIsXCJzcXJcIixcImVxbFwiLFwiYWRkXCIsXCJzdWJcIixcIm11bFwiLFwicG93XCIsXCJkaXZcIixcImFkZE5cIixcInN1Yk5cIixcIm11bE5cIixcInNxck5cIl07ZnVuY3Rpb24gYXIodCl7Y29uc3QgZT17T1JERVI6XCJiaWdpbnRcIixNQVNLOlwiYmlnaW50XCIsQllURVM6XCJpc1NhZmVJbnRlZ2VyXCIsQklUUzpcImlzU2FmZUludGVnZXJcIn0sbj1jci5yZWR1Y2UoKHIsbyk9PihyW29dPVwiZnVuY3Rpb25cIixyKSxlKTtyZXR1cm4gT3QodCxuKX1mdW5jdGlvbiBmcih0LGUsbil7aWYobjxNKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZXhwb25lbnQsIG5lZ2F0aXZlcyB1bnN1cHBvcnRlZFwiKTtpZihuPT09TSlyZXR1cm4gdC5PTkU7aWYobj09PU4pcmV0dXJuIGU7bGV0IHI9dC5PTkUsbz1lO2Zvcig7bj5NOyluJk4mJihyPXQubXVsKHIsbykpLG89dC5zcXIobyksbj4+PU47cmV0dXJuIHJ9ZnVuY3Rpb24gRHIodCxlKXtjb25zdCBuPW5ldyBBcnJheShlLmxlbmd0aCkscj1lLnJlZHVjZSgocyxhLHUpPT50LmlzMChhKT9zOihuW3VdPXMsdC5tdWwocyxhKSksdC5PTkUpLG89dC5pbnYocik7cmV0dXJuIGUucmVkdWNlUmlnaHQoKHMsYSx1KT0+dC5pczAoYSk/czooblt1XT10Lm11bChzLG5bdV0pLHQubXVsKHMsYSkpLG8pLG59ZnVuY3Rpb24gbWUodCxlKXtjb25zdCBuPWUhPT12b2lkIDA/ZTp0LnRvU3RyaW5nKDIpLmxlbmd0aCxyPU1hdGguY2VpbChuLzgpO3JldHVybntuQml0TGVuZ3RoOm4sbkJ5dGVMZW5ndGg6cn19ZnVuY3Rpb24gX2UodCxlLG49ITEscj17fSl7aWYodDw9TSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZpZWxkOiBleHBlY3RlZCBPUkRFUiA+IDAsIGdvdCBcIit0KTtjb25zdHtuQml0TGVuZ3RoOm8sbkJ5dGVMZW5ndGg6c309bWUodCxlKTtpZihzPjIwNDgpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZDogZXhwZWN0ZWQgT1JERVIgb2YgPD0gMjA0OCBieXRlc1wiKTtsZXQgYTtjb25zdCB1PU9iamVjdC5mcmVlemUoe09SREVSOnQsaXNMRTpuLEJJVFM6byxCWVRFUzpzLE1BU0s6ZXIobyksWkVSTzpNLE9ORTpOLGNyZWF0ZTppPT5IKGksdCksaXNWYWxpZDppPT57aWYodHlwZW9mIGkhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZCBlbGVtZW50OiBleHBlY3RlZCBiaWdpbnQsIGdvdCBcIit0eXBlb2YgaSk7cmV0dXJuIE08PWkmJmk8dH0saXMwOmk9Pmk9PT1NLGlzT2RkOmk9PihpJk4pPT09TixuZWc6aT0+SCgtaSx0KSxlcWw6KGksRCk9Pmk9PT1ELHNxcjppPT5IKGkqaSx0KSxhZGQ6KGksRCk9PkgoaStELHQpLHN1YjooaSxEKT0+SChpLUQsdCksbXVsOihpLEQpPT5IKGkqRCx0KSxwb3c6KGksRCk9PmZyKHUsaSxEKSxkaXY6KGksRCk9PkgoaSpBZShELHQpLHQpLHNxck46aT0+aSppLGFkZE46KGksRCk9PmkrRCxzdWJOOihpLEQpPT5pLUQsbXVsTjooaSxEKT0+aSpELGludjppPT5BZShpLHQpLHNxcnQ6ci5zcXJ0fHwoaT0+KGF8fChhPWlyKHQpKSxhKHUsaSkpKSxpbnZlcnRCYXRjaDppPT5Ecih1LGkpLGNtb3Y6KGksRCxjKT0+Yz9EOmksdG9CeXRlczppPT5uP050KGkscyk6Z2UoaSxzKSxmcm9tQnl0ZXM6aT0+e2lmKGkubGVuZ3RoIT09cyl0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZC5mcm9tQnl0ZXM6IGV4cGVjdGVkIFwiK3MrXCIgYnl0ZXMsIGdvdCBcIitpLmxlbmd0aCk7cmV0dXJuIG4/RXQoaSk6UG4oaSl9fSk7cmV0dXJuIE9iamVjdC5mcmVlemUodSl9Y29uc3QgU2U9QmlnSW50KDApLGd0PUJpZ0ludCgxKTtmdW5jdGlvbiB6dCh0LGUpe2NvbnN0IG49ZS5uZWdhdGUoKTtyZXR1cm4gdD9uOmV9ZnVuY3Rpb24gdmUodCxlKXtpZighTnVtYmVyLmlzU2FmZUludGVnZXIodCl8fHQ8PTB8fHQ+ZSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHdpbmRvdyBzaXplLCBleHBlY3RlZCBbMS4uXCIrZStcIl0sIGdvdCBXPVwiK3QpfWZ1bmN0aW9uIE10KHQsZSl7dmUodCxlKTtjb25zdCBuPU1hdGguY2VpbChlL3QpKzEscj0yKioodC0xKTtyZXR1cm57d2luZG93czpuLHdpbmRvd1NpemU6cn19ZnVuY3Rpb24gZHIodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBleHBlY3RlZFwiKTt0LmZvckVhY2goKG4scik9PntpZighKG4gaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBvaW50IGF0IGluZGV4IFwiK3IpfSl9ZnVuY3Rpb24gaHIodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBvZiBzY2FsYXJzIGV4cGVjdGVkXCIpO3QuZm9yRWFjaCgobixyKT0+e2lmKCFlLmlzVmFsaWQobikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzY2FsYXIgYXQgaW5kZXggXCIrcil9KX1jb25zdCBxdD1uZXcgV2Vha01hcCxJZT1uZXcgV2Vha01hcDtmdW5jdGlvbiAkdCh0KXtyZXR1cm4gSWUuZ2V0KHQpfHwxfWZ1bmN0aW9uIGxyKHQsZSl7cmV0dXJue2NvbnN0VGltZU5lZ2F0ZTp6dCxoYXNQcmVjb21wdXRlcyhuKXtyZXR1cm4gJHQobikhPT0xfSx1bnNhZmVMYWRkZXIobixyLG89dC5aRVJPKXtsZXQgcz1uO2Zvcig7cj5TZTspciZndCYmKG89by5hZGQocykpLHM9cy5kb3VibGUoKSxyPj49Z3Q7cmV0dXJuIG99LHByZWNvbXB1dGVXaW5kb3cobixyKXtjb25zdHt3aW5kb3dzOm8sd2luZG93U2l6ZTpzfT1NdChyLGUpLGE9W107bGV0IHU9bixpPXU7Zm9yKGxldCBEPTA7RDxvO0QrKyl7aT11LGEucHVzaChpKTtmb3IobGV0IGM9MTtjPHM7YysrKWk9aS5hZGQodSksYS5wdXNoKGkpO3U9aS5kb3VibGUoKX1yZXR1cm4gYX0sd05BRihuLHIsbyl7Y29uc3R7d2luZG93czpzLHdpbmRvd1NpemU6YX09TXQobixlKTtsZXQgdT10LlpFUk8saT10LkJBU0U7Y29uc3QgRD1CaWdJbnQoMioqbi0xKSxjPTIqKm4sbD1CaWdJbnQobik7Zm9yKGxldCBwPTA7cDxzO3ArKyl7Y29uc3Qgdz1wKmE7bGV0IGg9TnVtYmVyKG8mRCk7bz4+PWwsaD5hJiYoaC09YyxvKz1ndCk7Y29uc3QgZz13LFM9dytNYXRoLmFicyhoKS0xLHY9cCUyIT09MCxMPWg8MDtoPT09MD9pPWkuYWRkKHp0KHYscltnXSkpOnU9dS5hZGQoenQoTCxyW1NdKSl9cmV0dXJue3A6dSxmOml9fSx3TkFGVW5zYWZlKG4scixvLHM9dC5aRVJPKXtjb25zdHt3aW5kb3dzOmEsd2luZG93U2l6ZTp1fT1NdChuLGUpLGk9QmlnSW50KDIqKm4tMSksRD0yKipuLGM9QmlnSW50KG4pO2ZvcihsZXQgbD0wO2w8YTtsKyspe2NvbnN0IHA9bCp1O2lmKG89PT1TZSlicmVhaztsZXQgdz1OdW1iZXIobyZpKTtpZihvPj49Yyx3PnUmJih3LT1ELG8rPWd0KSx3PT09MCljb250aW51ZTtsZXQgaD1yW3ArTWF0aC5hYnModyktMV07dzwwJiYoaD1oLm5lZ2F0ZSgpKSxzPXMuYWRkKGgpfXJldHVybiBzfSxnZXRQcmVjb21wdXRlcyhuLHIsbyl7bGV0IHM9cXQuZ2V0KHIpO3JldHVybiBzfHwocz10aGlzLnByZWNvbXB1dGVXaW5kb3cocixuKSxuIT09MSYmcXQuc2V0KHIsbyhzKSkpLHN9LHdOQUZDYWNoZWQobixyLG8pe2NvbnN0IHM9JHQobik7cmV0dXJuIHRoaXMud05BRihzLHRoaXMuZ2V0UHJlY29tcHV0ZXMocyxuLG8pLHIpfSx3TkFGQ2FjaGVkVW5zYWZlKG4scixvLHMpe2NvbnN0IGE9JHQobik7cmV0dXJuIGE9PT0xP3RoaXMudW5zYWZlTGFkZGVyKG4scixzKTp0aGlzLndOQUZVbnNhZmUoYSx0aGlzLmdldFByZWNvbXB1dGVzKGEsbixvKSxyLHMpfSxzZXRXaW5kb3dTaXplKG4scil7dmUocixlKSxJZS5zZXQobixyKSxxdC5kZWxldGUobil9fX1mdW5jdGlvbiBicih0LGUsbixyKXtpZihkcihuLHQpLGhyKHIsZSksbi5sZW5ndGghPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheXMgb2YgcG9pbnRzIGFuZCBzY2FsYXJzIG11c3QgaGF2ZSBlcXVhbCBsZW5ndGhcIik7Y29uc3Qgbz10LlpFUk8scz10cihCaWdJbnQobi5sZW5ndGgpKSxhPXM+MTI/cy0zOnM+ND9zLTI6cz8yOjEsdT0oMTw8YSktMSxpPW5ldyBBcnJheSh1KzEpLmZpbGwobyksRD1NYXRoLmZsb29yKChlLkJJVFMtMSkvYSkqYTtsZXQgYz1vO2ZvcihsZXQgbD1EO2w+PTA7bC09YSl7aS5maWxsKG8pO2ZvcihsZXQgdz0wO3c8ci5sZW5ndGg7dysrKXtjb25zdCBoPXJbd10sZz1OdW1iZXIoaD4+QmlnSW50KGwpJkJpZ0ludCh1KSk7aVtnXT1pW2ddLmFkZChuW3ddKX1sZXQgcD1vO2ZvcihsZXQgdz1pLmxlbmd0aC0xLGg9bzt3PjA7dy0tKWg9aC5hZGQoaVt3XSkscD1wLmFkZChoKTtpZihjPWMuYWRkKHApLGwhPT0wKWZvcihsZXQgdz0wO3c8YTt3KyspYz1jLmRvdWJsZSgpfXJldHVybiBjfWZ1bmN0aW9uIHByKHQpe3JldHVybiBhcih0LkZwKSxPdCh0LHtuOlwiYmlnaW50XCIsaDpcImJpZ2ludFwiLEd4OlwiZmllbGRcIixHeTpcImZpZWxkXCJ9LHtuQml0TGVuZ3RoOlwiaXNTYWZlSW50ZWdlclwiLG5CeXRlTGVuZ3RoOlwiaXNTYWZlSW50ZWdlclwifSksT2JqZWN0LmZyZWV6ZSh7Li4ubWUodC5uLHQubkJpdExlbmd0aCksLi4udCxwOnQuRnAuT1JERVJ9KX1jb25zdCBHPUJpZ0ludCgwKSxqPUJpZ0ludCgxKSx5dD1CaWdJbnQoMiksd3I9QmlnSW50KDgpLEVyPXt6aXAyMTU6ITB9O2Z1bmN0aW9uIGdyKHQpe2NvbnN0IGU9cHIodCk7cmV0dXJuIE90KHQse2hhc2g6XCJmdW5jdGlvblwiLGE6XCJiaWdpbnRcIixkOlwiYmlnaW50XCIscmFuZG9tQnl0ZXM6XCJmdW5jdGlvblwifSx7YWRqdXN0U2NhbGFyQnl0ZXM6XCJmdW5jdGlvblwiLGRvbWFpbjpcImZ1bmN0aW9uXCIsdXZSYXRpbzpcImZ1bmN0aW9uXCIsbWFwVG9DdXJ2ZTpcImZ1bmN0aW9uXCJ9KSxPYmplY3QuZnJlZXplKHsuLi5lfSl9ZnVuY3Rpb24geXIodCl7Y29uc3QgZT1ncih0KSx7RnA6bixuOnIscHJlaGFzaDpvLGhhc2g6cyxyYW5kb21CeXRlczphLG5CeXRlTGVuZ3RoOnUsaDppfT1lLEQ9eXQ8PEJpZ0ludCh1KjgpLWosYz1uLmNyZWF0ZSxsPV9lKGUubixlLm5CaXRMZW5ndGgpLHA9ZS51dlJhdGlvfHwoKHksZik9Pnt0cnl7cmV0dXJue2lzVmFsaWQ6ITAsdmFsdWU6bi5zcXJ0KHkqbi5pbnYoZikpfX1jYXRjaHtyZXR1cm57aXNWYWxpZDohMSx2YWx1ZTpHfX19KSx3PWUuYWRqdXN0U2NhbGFyQnl0ZXN8fCh5PT55KSxoPWUuZG9tYWlufHwoKHksZixiKT0+e2lmKFR0KFwicGhmbGFnXCIsYiksZi5sZW5ndGh8fGIpdGhyb3cgbmV3IEVycm9yKFwiQ29udGV4dHMvcHJlLWhhc2ggYXJlIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuIHl9KTtmdW5jdGlvbiBnKHksZil7ZnQoXCJjb29yZGluYXRlIFwiK3ksZixHLEQpfWZ1bmN0aW9uIFMoeSl7aWYoISh5IGluc3RhbmNlb2YgZCkpdGhyb3cgbmV3IEVycm9yKFwiRXh0ZW5kZWRQb2ludCBleHBlY3RlZFwiKX1jb25zdCB2PXhlKCh5LGYpPT57Y29uc3R7ZXg6YixleTpFLGV6OkJ9PXksQz15LmlzMCgpO2Y9PW51bGwmJihmPUM/d3I6bi5pbnYoQikpO2NvbnN0IEE9YyhiKmYpLFU9YyhFKmYpLF89YyhCKmYpO2lmKEMpcmV0dXJue3g6Ryx5Omp9O2lmKF8hPT1qKXRocm93IG5ldyBFcnJvcihcImludlogd2FzIGludmFsaWRcIik7cmV0dXJue3g6QSx5OlV9fSksTD14ZSh5PT57Y29uc3R7YTpmLGQ6Yn09ZTtpZih5LmlzMCgpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogWkVST1wiKTtjb25zdHtleDpFLGV5OkIsZXo6QyxldDpBfT15LFU9YyhFKkUpLF89YyhCKkIpLFQ9YyhDKkMpLCQ9YyhUKlQpLFI9YyhVKmYpLFY9YyhUKmMoUitfKSksWT1jKCQrYyhiKmMoVSpfKSkpO2lmKFYhPT1ZKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogZXF1YXRpb24gbGVmdCAhPSByaWdodCAoMSlcIik7Y29uc3QgWj1jKEUqQiksWD1jKEMqQSk7aWYoWiE9PVgpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBlcXVhdGlvbiBsZWZ0ICE9IHJpZ2h0ICgyKVwiKTtyZXR1cm4hMH0pO2NsYXNzIGR7Y29uc3RydWN0b3IoZixiLEUsQil7dGhpcy5leD1mLHRoaXMuZXk9Yix0aGlzLmV6PUUsdGhpcy5ldD1CLGcoXCJ4XCIsZiksZyhcInlcIixiKSxnKFwielwiLEUpLGcoXCJ0XCIsQiksT2JqZWN0LmZyZWV6ZSh0aGlzKX1nZXQgeCgpe3JldHVybiB0aGlzLnRvQWZmaW5lKCkueH1nZXQgeSgpe3JldHVybiB0aGlzLnRvQWZmaW5lKCkueX1zdGF0aWMgZnJvbUFmZmluZShmKXtpZihmIGluc3RhbmNlb2YgZCl0aHJvdyBuZXcgRXJyb3IoXCJleHRlbmRlZCBwb2ludCBub3QgYWxsb3dlZFwiKTtjb25zdHt4OmIseTpFfT1mfHx7fTtyZXR1cm4gZyhcInhcIixiKSxnKFwieVwiLEUpLG5ldyBkKGIsRSxqLGMoYipFKSl9c3RhdGljIG5vcm1hbGl6ZVooZil7Y29uc3QgYj1uLmludmVydEJhdGNoKGYubWFwKEU9PkUuZXopKTtyZXR1cm4gZi5tYXAoKEUsQik9PkUudG9BZmZpbmUoYltCXSkpLm1hcChkLmZyb21BZmZpbmUpfXN0YXRpYyBtc20oZixiKXtyZXR1cm4gYnIoZCxsLGYsYil9X3NldFdpbmRvd1NpemUoZil7cS5zZXRXaW5kb3dTaXplKHRoaXMsZil9YXNzZXJ0VmFsaWRpdHkoKXtMKHRoaXMpfWVxdWFscyhmKXtTKGYpO2NvbnN0e2V4OmIsZXk6RSxlejpCfT10aGlzLHtleDpDLGV5OkEsZXo6VX09ZixfPWMoYipVKSxUPWMoQypCKSwkPWMoRSpVKSxSPWMoQSpCKTtyZXR1cm4gXz09PVQmJiQ9PT1SfWlzMCgpe3JldHVybiB0aGlzLmVxdWFscyhkLlpFUk8pfW5lZ2F0ZSgpe3JldHVybiBuZXcgZChjKC10aGlzLmV4KSx0aGlzLmV5LHRoaXMuZXosYygtdGhpcy5ldCkpfWRvdWJsZSgpe2NvbnN0e2E6Zn09ZSx7ZXg6YixleTpFLGV6OkJ9PXRoaXMsQz1jKGIqYiksQT1jKEUqRSksVT1jKHl0KmMoQipCKSksXz1jKGYqQyksVD1iK0UsJD1jKGMoVCpUKS1DLUEpLFI9XytBLFY9Ui1VLFk9Xy1BLFo9YygkKlYpLFg9YyhSKlkpLGV0PWMoJCpZKSxwdD1jKFYqUik7cmV0dXJuIG5ldyBkKFosWCxwdCxldCl9YWRkKGYpe1MoZik7Y29uc3R7YTpiLGQ6RX09ZSx7ZXg6QixleTpDLGV6OkEsZXQ6VX09dGhpcyx7ZXg6XyxleTpULGV6OiQsZXQ6Un09ZjtpZihiPT09QmlnSW50KC0xKSl7Y29uc3QgcmU9YygoQy1CKSooVCtfKSksb2U9YygoQytCKSooVC1fKSksbXQ9YyhvZS1yZSk7aWYobXQ9PT1HKXJldHVybiB0aGlzLmRvdWJsZSgpO2NvbnN0IHNlPWMoQSp5dCpSKSxpZT1jKFUqeXQqJCksdWU9aWUrc2UsY2U9b2UrcmUsYWU9aWUtc2UsRG49Yyh1ZSptdCksZG49YyhjZSphZSksaG49Yyh1ZSphZSksbG49YyhtdCpjZSk7cmV0dXJuIG5ldyBkKERuLGRuLGxuLGhuKX1jb25zdCBWPWMoQipfKSxZPWMoQypUKSxaPWMoVSpFKlIpLFg9YyhBKiQpLGV0PWMoKEIrQykqKF8rVCktVi1ZKSxwdD1YLVosZWU9WCtaLG5lPWMoWS1iKlYpLHVuPWMoZXQqcHQpLGNuPWMoZWUqbmUpLGFuPWMoZXQqbmUpLGZuPWMocHQqZWUpO3JldHVybiBuZXcgZCh1bixjbixmbixhbil9c3VidHJhY3QoZil7cmV0dXJuIHRoaXMuYWRkKGYubmVnYXRlKCkpfXdOQUYoZil7cmV0dXJuIHEud05BRkNhY2hlZCh0aGlzLGYsZC5ub3JtYWxpemVaKX1tdWx0aXBseShmKXtjb25zdCBiPWY7ZnQoXCJzY2FsYXJcIixiLGoscik7Y29uc3R7cDpFLGY6Qn09dGhpcy53TkFGKGIpO3JldHVybiBkLm5vcm1hbGl6ZVooW0UsQl0pWzBdfW11bHRpcGx5VW5zYWZlKGYsYj1kLlpFUk8pe2NvbnN0IEU9ZjtyZXR1cm4gZnQoXCJzY2FsYXJcIixFLEcsciksRT09PUc/Rjp0aGlzLmlzMCgpfHxFPT09aj90aGlzOnEud05BRkNhY2hlZFVuc2FmZSh0aGlzLEUsZC5ub3JtYWxpemVaLGIpfWlzU21hbGxPcmRlcigpe3JldHVybiB0aGlzLm11bHRpcGx5VW5zYWZlKGkpLmlzMCgpfWlzVG9yc2lvbkZyZWUoKXtyZXR1cm4gcS51bnNhZmVMYWRkZXIodGhpcyxyKS5pczAoKX10b0FmZmluZShmKXtyZXR1cm4gdih0aGlzLGYpfWNsZWFyQ29mYWN0b3IoKXtjb25zdHtoOmZ9PWU7cmV0dXJuIGY9PT1qP3RoaXM6dGhpcy5tdWx0aXBseVVuc2FmZShmKX1zdGF0aWMgZnJvbUhleChmLGI9ITEpe2NvbnN0e2Q6RSxhOkJ9PWUsQz1uLkJZVEVTO2Y9VyhcInBvaW50SGV4XCIsZixDKSxUdChcInppcDIxNVwiLGIpO2NvbnN0IEE9Zi5zbGljZSgpLFU9ZltDLTFdO0FbQy0xXT1VJi0xMjk7Y29uc3QgXz1FdChBKSxUPWI/RDpuLk9SREVSO2Z0KFwicG9pbnRIZXgueVwiLF8sRyxUKTtjb25zdCAkPWMoXypfKSxSPWMoJC1qKSxWPWMoRSokLUIpO2xldHtpc1ZhbGlkOlksdmFsdWU6Wn09cChSLFYpO2lmKCFZKXRocm93IG5ldyBFcnJvcihcIlBvaW50LmZyb21IZXg6IGludmFsaWQgeSBjb29yZGluYXRlXCIpO2NvbnN0IFg9KFomaik9PT1qLGV0PShVJjEyOCkhPT0wO2lmKCFiJiZaPT09RyYmZXQpdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQuZnJvbUhleDogeD0wIGFuZCB4XzA9MVwiKTtyZXR1cm4gZXQhPT1YJiYoWj1jKC1aKSksZC5mcm9tQWZmaW5lKHt4OloseTpffSl9c3RhdGljIGZyb21Qcml2YXRlS2V5KGYpe3JldHVybiBPKGYpLnBvaW50fXRvUmF3Qnl0ZXMoKXtjb25zdHt4OmYseTpifT10aGlzLnRvQWZmaW5lKCksRT1OdChiLG4uQllURVMpO3JldHVybiBFW0UubGVuZ3RoLTFdfD1mJmo/MTI4OjAsRX10b0hleCgpe3JldHVybiBGdCh0aGlzLnRvUmF3Qnl0ZXMoKSl9fWQuQkFTRT1uZXcgZChlLkd4LGUuR3ksaixjKGUuR3gqZS5HeSkpLGQuWkVSTz1uZXcgZChHLGosaixHKTtjb25zdHtCQVNFOm0sWkVSTzpGfT1kLHE9bHIoZCx1KjgpO2Z1bmN0aW9uIHooeSl7cmV0dXJuIEgoeSxyKX1mdW5jdGlvbiBJKHkpe3JldHVybiB6KEV0KHkpKX1mdW5jdGlvbiBPKHkpe2NvbnN0IGY9bi5CWVRFUzt5PVcoXCJwcml2YXRlIGtleVwiLHksZik7Y29uc3QgYj1XKFwiaGFzaGVkIHByaXZhdGUga2V5XCIscyh5KSwyKmYpLEU9dyhiLnNsaWNlKDAsZikpLEI9Yi5zbGljZShmLDIqZiksQz1JKEUpLEE9bS5tdWx0aXBseShDKSxVPUEudG9SYXdCeXRlcygpO3JldHVybntoZWFkOkUscHJlZml4OkIsc2NhbGFyOkMscG9pbnQ6QSxwb2ludEJ5dGVzOlV9fWZ1bmN0aW9uIG90KHkpe3JldHVybiBPKHkpLnBvaW50Qnl0ZXN9ZnVuY3Rpb24gdHQoeT1uZXcgVWludDhBcnJheSwuLi5mKXtjb25zdCBiPXllKC4uLmYpO3JldHVybiBJKHMoaChiLFcoXCJjb250ZXh0XCIseSksISFvKSkpfWZ1bmN0aW9uIHN0KHksZixiPXt9KXt5PVcoXCJtZXNzYWdlXCIseSksbyYmKHk9byh5KSk7Y29uc3R7cHJlZml4OkUsc2NhbGFyOkIscG9pbnRCeXRlczpDfT1PKGYpLEE9dHQoYi5jb250ZXh0LEUseSksVT1tLm11bHRpcGx5KEEpLnRvUmF3Qnl0ZXMoKSxfPXR0KGIuY29udGV4dCxVLEMseSksVD16KEErXypCKTtmdChcInNpZ25hdHVyZS5zXCIsVCxHLHIpO2NvbnN0ICQ9eWUoVSxOdChULG4uQllURVMpKTtyZXR1cm4gVyhcInJlc3VsdFwiLCQsbi5CWVRFUyoyKX1jb25zdCBhdD1FcjtmdW5jdGlvbiBDdCh5LGYsYixFPWF0KXtjb25zdHtjb250ZXh0OkIsemlwMjE1OkN9PUUsQT1uLkJZVEVTO3k9VyhcInNpZ25hdHVyZVwiLHksMipBKSxmPVcoXCJtZXNzYWdlXCIsZiksYj1XKFwicHVibGljS2V5XCIsYixBKSxDIT09dm9pZCAwJiZUdChcInppcDIxNVwiLEMpLG8mJihmPW8oZikpO2NvbnN0IFU9RXQoeS5zbGljZShBLDIqQSkpO2xldCBfLFQsJDt0cnl7Xz1kLmZyb21IZXgoYixDKSxUPWQuZnJvbUhleCh5LnNsaWNlKDAsQSksQyksJD1tLm11bHRpcGx5VW5zYWZlKFUpfWNhdGNoe3JldHVybiExfWlmKCFDJiZfLmlzU21hbGxPcmRlcigpKXJldHVybiExO2NvbnN0IFI9dHQoQixULnRvUmF3Qnl0ZXMoKSxfLnRvUmF3Qnl0ZXMoKSxmKTtyZXR1cm4gVC5hZGQoXy5tdWx0aXBseVVuc2FmZShSKSkuc3VidHJhY3QoJCkuY2xlYXJDb2ZhY3RvcigpLmVxdWFscyhkLlpFUk8pfXJldHVybiBtLl9zZXRXaW5kb3dTaXplKDgpLHtDVVJWRTplLGdldFB1YmxpY0tleTpvdCxzaWduOnN0LHZlcmlmeTpDdCxFeHRlbmRlZFBvaW50OmQsdXRpbHM6e2dldEV4dGVuZGVkUHVibGljS2V5Ok8scmFuZG9tUHJpdmF0ZUtleTooKT0+YShuLkJZVEVTKSxwcmVjb21wdXRlKHk9OCxmPWQuQkFTRSl7cmV0dXJuIGYuX3NldFdpbmRvd1NpemUoeSksZi5tdWx0aXBseShCaWdJbnQoMykpLGZ9fX19QmlnSW50KDApLEJpZ0ludCgxKTtjb25zdCBrdD1CaWdJbnQoXCI1Nzg5NjA0NDYxODY1ODA5NzcxMTc4NTQ5MjUwNDM0Mzk1MzkyNjYzNDk5MjMzMjgyMDI4MjAxOTcyODc5MjAwMzk1NjU2NDgxOTk0OVwiKSxVZT1CaWdJbnQoXCIxOTY4MTE2MTM3NjcwNzUwNTk1NjgwNzA3OTMwNDk4ODU0MjAxNTQ0NjA2NjUxNTkyMzg5MDE2Mjc0NDAyMTA3MzEyMzgyOTc4NDc1MlwiKTtCaWdJbnQoMCk7Y29uc3QgeHI9QmlnSW50KDEpLFRlPUJpZ0ludCgyKTtCaWdJbnQoMyk7Y29uc3QgQnI9QmlnSW50KDUpLENyPUJpZ0ludCg4KTtmdW5jdGlvbiBBcih0KXtjb25zdCBlPUJpZ0ludCgxMCksbj1CaWdJbnQoMjApLHI9QmlnSW50KDQwKSxvPUJpZ0ludCg4MCkscz1rdCx1PXQqdCVzKnQlcyxpPUoodSxUZSxzKSp1JXMsRD1KKGkseHIscykqdCVzLGM9SihELEJyLHMpKkQlcyxsPUooYyxlLHMpKmMlcyxwPUoobCxuLHMpKmwlcyx3PUoocCxyLHMpKnAlcyxoPUoodyxvLHMpKnclcyxnPUooaCxvLHMpKnclcyxTPUooZyxlLHMpKmMlcztyZXR1cm57cG93X3BfNV84OkooUyxUZSxzKSp0JXMsYjI6dX19ZnVuY3Rpb24gbXIodCl7cmV0dXJuIHRbMF0mPTI0OCx0WzMxXSY9MTI3LHRbMzFdfD02NCx0fWZ1bmN0aW9uIF9yKHQsZSl7Y29uc3Qgbj1rdCxyPUgoZSplKmUsbiksbz1IKHIqciplLG4pLHM9QXIodCpvKS5wb3dfcF81Xzg7bGV0IGE9SCh0KnIqcyxuKTtjb25zdCB1PUgoZSphKmEsbiksaT1hLEQ9SChhKlVlLG4pLGM9dT09PXQsbD11PT09SCgtdCxuKSxwPXU9PT1IKC10KlVlLG4pO3JldHVybiBjJiYoYT1pKSwobHx8cCkmJihhPUQpLHVyKGEsbikmJihhPUgoLWEsbikpLHtpc1ZhbGlkOmN8fGwsdmFsdWU6YX19Y29uc3QgU3I9KCgpPT5fZShrdCx2b2lkIDAsITApKSgpLHZyPSgoKT0+KHthOkJpZ0ludCgtMSksZDpCaWdJbnQoXCIzNzA5NTcwNTkzNDY2OTQzOTM0MzEzODA4MzUwODc1NDU2NTE4OTU0MjExMzg3OTg0MzIxOTAxNjM4ODc4NTUzMzA4NTk0MDI4MzU1NVwiKSxGcDpTcixuOkJpZ0ludChcIjcyMzcwMDU1NzczMzIyNjIyMTM5NzMxODY1NjMwNDI5OTQyNDA4NTcxMTYzNTkzNzk5MDc2MDYwMDE5NTA5MzgyODU0NTQyNTA5ODlcIiksaDpDcixHeDpCaWdJbnQoXCIxNTExMjIyMTM0OTUzNTQwMDc3MjUwMTE1MTQwOTU4ODUzMTUxMTQ1NDAxMjY5MzA0MTg1NzIwNjA0NjExMzI4Mzk0OTg0Nzc2MjIwMlwiKSxHeTpCaWdJbnQoXCI0NjMxNjgzNTY5NDkyNjQ3ODE2OTQyODM5NDAwMzQ3NTE2MzE0MTMwNzk5Mzg2NjI1NjIyNTYxNTc4MzAzMzYwMzE2NTI1MTg1NTk2MFwiKSxoYXNoOktuLHJhbmRvbUJ5dGVzOmhlLGFkanVzdFNjYWxhckJ5dGVzOm1yLHV2UmF0aW86X3J9KSkoKSxSdD0oKCk9PnlyKHZyKSkoKSxqdD1cIkVkRFNBXCIsWnQ9XCJKV1RcIix1dD1cIi5cIixEdD1cImJhc2U2NHVybFwiLEd0PVwidXRmOFwiLHh0PVwidXRmOFwiLFZ0PVwiOlwiLFl0PVwiZGlkXCIsSnQ9XCJrZXlcIixkdD1cImJhc2U1OGJ0Y1wiLEt0PVwielwiLFd0PVwiSzM2XCIsRmU9MzIsTmU9MzI7ZnVuY3Rpb24gWHQodCl7cmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyIT1udWxsP25ldyBVaW50OEFycmF5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpOnR9ZnVuY3Rpb24gTGUodD0wKXtyZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIhPW51bGwmJmdsb2JhbFRoaXMuQnVmZmVyLmFsbG9jVW5zYWZlIT1udWxsP1h0KGdsb2JhbFRoaXMuQnVmZmVyLmFsbG9jVW5zYWZlKHQpKTpuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBPZSh0LGUpe2V8fChlPXQucmVkdWNlKChvLHMpPT5vK3MubGVuZ3RoLDApKTtjb25zdCBuPUxlKGUpO2xldCByPTA7Zm9yKGNvbnN0IG8gb2YgdCluLnNldChvLHIpLHIrPW8ubGVuZ3RoO3JldHVybiBYdChuKX1mdW5jdGlvbiBJcih0LGUpe2lmKHQubGVuZ3RoPj0yNTUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFscGhhYmV0IHRvbyBsb25nXCIpO2Zvcih2YXIgbj1uZXcgVWludDhBcnJheSgyNTYpLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdPTI1NTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIHM9dC5jaGFyQXQobyksYT1zLmNoYXJDb2RlQXQoMCk7aWYoblthXSE9PTI1NSl0aHJvdyBuZXcgVHlwZUVycm9yKHMrXCIgaXMgYW1iaWd1b3VzXCIpO25bYV09b312YXIgdT10Lmxlbmd0aCxpPXQuY2hhckF0KDApLEQ9TWF0aC5sb2codSkvTWF0aC5sb2coMjU2KSxjPU1hdGgubG9nKDI1NikvTWF0aC5sb2codSk7ZnVuY3Rpb24gbChoKXtpZihoIGluc3RhbmNlb2YgVWludDhBcnJheXx8KEFycmF5QnVmZmVyLmlzVmlldyhoKT9oPW5ldyBVaW50OEFycmF5KGguYnVmZmVyLGguYnl0ZU9mZnNldCxoLmJ5dGVMZW5ndGgpOkFycmF5LmlzQXJyYXkoaCkmJihoPVVpbnQ4QXJyYXkuZnJvbShoKSkpLCEoaCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBVaW50OEFycmF5XCIpO2lmKGgubGVuZ3RoPT09MClyZXR1cm5cIlwiO2Zvcih2YXIgZz0wLFM9MCx2PTAsTD1oLmxlbmd0aDt2IT09TCYmaFt2XT09PTA7KXYrKyxnKys7Zm9yKHZhciBkPShMLXYpKmMrMT4+PjAsbT1uZXcgVWludDhBcnJheShkKTt2IT09TDspe2Zvcih2YXIgRj1oW3ZdLHE9MCx6PWQtMTsoRiE9PTB8fHE8UykmJnohPT0tMTt6LS0scSsrKUYrPTI1NiptW3pdPj4+MCxtW3pdPUYldT4+PjAsRj1GL3U+Pj4wO2lmKEYhPT0wKXRocm93IG5ldyBFcnJvcihcIk5vbi16ZXJvIGNhcnJ5XCIpO1M9cSx2Kyt9Zm9yKHZhciBJPWQtUztJIT09ZCYmbVtJXT09PTA7KUkrKztmb3IodmFyIE89aS5yZXBlYXQoZyk7STxkOysrSSlPKz10LmNoYXJBdChtW0ldKTtyZXR1cm4gT31mdW5jdGlvbiBwKGgpe2lmKHR5cGVvZiBoIT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBTdHJpbmdcIik7aWYoaC5sZW5ndGg9PT0wKXJldHVybiBuZXcgVWludDhBcnJheTt2YXIgZz0wO2lmKGhbZ10hPT1cIiBcIil7Zm9yKHZhciBTPTAsdj0wO2hbZ109PT1pOylTKyssZysrO2Zvcih2YXIgTD0oaC5sZW5ndGgtZykqRCsxPj4+MCxkPW5ldyBVaW50OEFycmF5KEwpO2hbZ107KXt2YXIgbT1uW2guY2hhckNvZGVBdChnKV07aWYobT09PTI1NSlyZXR1cm47Zm9yKHZhciBGPTAscT1MLTE7KG0hPT0wfHxGPHYpJiZxIT09LTE7cS0tLEYrKyltKz11KmRbcV0+Pj4wLGRbcV09bSUyNTY+Pj4wLG09bS8yNTY+Pj4wO2lmKG0hPT0wKXRocm93IG5ldyBFcnJvcihcIk5vbi16ZXJvIGNhcnJ5XCIpO3Y9RixnKyt9aWYoaFtnXSE9PVwiIFwiKXtmb3IodmFyIHo9TC12O3ohPT1MJiZkW3pdPT09MDspeisrO2Zvcih2YXIgST1uZXcgVWludDhBcnJheShTKyhMLXopKSxPPVM7eiE9PUw7KUlbTysrXT1kW3orK107cmV0dXJuIEl9fX1mdW5jdGlvbiB3KGgpe3ZhciBnPXAoaCk7aWYoZylyZXR1cm4gZzt0aHJvdyBuZXcgRXJyb3IoYE5vbi0ke2V9IGNoYXJhY3RlcmApfXJldHVybntlbmNvZGU6bCxkZWNvZGVVbnNhZmU6cCxkZWNvZGU6d319dmFyIFVyPUlyLFRyPVVyO2NvbnN0IEhlPXQ9PntpZih0IGluc3RhbmNlb2YgVWludDhBcnJheSYmdC5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCIpcmV0dXJuIHQ7aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBuZXcgVWludDhBcnJheSh0KTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpcmV0dXJuIG5ldyBVaW50OEFycmF5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpO3Rocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX0sRnI9dD0+bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHQpLE5yPXQ9Pm5ldyBUZXh0RGVjb2RlcigpLmRlY29kZSh0KTtjbGFzcyBMcntjb25zdHJ1Y3RvcihlLG4scil7dGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9bix0aGlzLmJhc2VFbmNvZGU9cn1lbmNvZGUoZSl7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuYCR7dGhpcy5wcmVmaXh9JHt0aGlzLmJhc2VFbmNvZGUoZSl9YDt0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX19Y2xhc3MgT3J7Y29uc3RydWN0b3IoZSxuLHIpe2lmKHRoaXMubmFtZT1lLHRoaXMucHJlZml4PW4sbi5jb2RlUG9pbnRBdCgwKT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByZWZpeCBjaGFyYWN0ZXJcIik7dGhpcy5wcmVmaXhDb2RlUG9pbnQ9bi5jb2RlUG9pbnRBdCgwKSx0aGlzLmJhc2VEZWNvZGU9cn1kZWNvZGUoZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpe2lmKGUuY29kZVBvaW50QXQoMCkhPT10aGlzLnByZWZpeENvZGVQb2ludCl0aHJvdyBFcnJvcihgVW5hYmxlIHRvIGRlY29kZSBtdWx0aWJhc2Ugc3RyaW5nICR7SlNPTi5zdHJpbmdpZnkoZSl9LCAke3RoaXMubmFtZX0gZGVjb2RlciBvbmx5IHN1cHBvcnRzIGlucHV0cyBwcmVmaXhlZCB3aXRoICR7dGhpcy5wcmVmaXh9YCk7cmV0dXJuIHRoaXMuYmFzZURlY29kZShlLnNsaWNlKHRoaXMucHJlZml4Lmxlbmd0aCkpfWVsc2UgdGhyb3cgRXJyb3IoXCJDYW4gb25seSBtdWx0aWJhc2UgZGVjb2RlIHN0cmluZ3NcIil9b3IoZSl7cmV0dXJuIHplKHRoaXMsZSl9fWNsYXNzIEhye2NvbnN0cnVjdG9yKGUpe3RoaXMuZGVjb2RlcnM9ZX1vcihlKXtyZXR1cm4gemUodGhpcyxlKX1kZWNvZGUoZSl7Y29uc3Qgbj1lWzBdLHI9dGhpcy5kZWNvZGVyc1tuXTtpZihyKXJldHVybiByLmRlY29kZShlKTt0aHJvdyBSYW5nZUVycm9yKGBVbmFibGUgdG8gZGVjb2RlIG11bHRpYmFzZSBzdHJpbmcgJHtKU09OLnN0cmluZ2lmeShlKX0sIG9ubHkgaW5wdXRzIHByZWZpeGVkIHdpdGggJHtPYmplY3Qua2V5cyh0aGlzLmRlY29kZXJzKX0gYXJlIHN1cHBvcnRlZGApfX1jb25zdCB6ZT0odCxlKT0+bmV3IEhyKHsuLi50LmRlY29kZXJzfHx7W3QucHJlZml4XTp0fSwuLi5lLmRlY29kZXJzfHx7W2UucHJlZml4XTplfX0pO2NsYXNzIHpye2NvbnN0cnVjdG9yKGUsbixyLG8pe3RoaXMubmFtZT1lLHRoaXMucHJlZml4PW4sdGhpcy5iYXNlRW5jb2RlPXIsdGhpcy5iYXNlRGVjb2RlPW8sdGhpcy5lbmNvZGVyPW5ldyBMcihlLG4sciksdGhpcy5kZWNvZGVyPW5ldyBPcihlLG4sbyl9ZW5jb2RlKGUpe3JldHVybiB0aGlzLmVuY29kZXIuZW5jb2RlKGUpfWRlY29kZShlKXtyZXR1cm4gdGhpcy5kZWNvZGVyLmRlY29kZShlKX19Y29uc3QgQnQ9KHtuYW1lOnQscHJlZml4OmUsZW5jb2RlOm4sZGVjb2RlOnJ9KT0+bmV3IHpyKHQsZSxuLHIpLGh0PSh7cHJlZml4OnQsbmFtZTplLGFscGhhYmV0Om59KT0+e2NvbnN0e2VuY29kZTpyLGRlY29kZTpvfT1UcihuLGUpO3JldHVybiBCdCh7cHJlZml4OnQsbmFtZTplLGVuY29kZTpyLGRlY29kZTpzPT5IZShvKHMpKX0pfSxNcj0odCxlLG4scik9Pntjb25zdCBvPXt9O2ZvcihsZXQgYz0wO2M8ZS5sZW5ndGg7KytjKW9bZVtjXV09YztsZXQgcz10Lmxlbmd0aDtmb3IoO3Rbcy0xXT09PVwiPVwiOyktLXM7Y29uc3QgYT1uZXcgVWludDhBcnJheShzKm4vOHwwKTtsZXQgdT0wLGk9MCxEPTA7Zm9yKGxldCBjPTA7YzxzOysrYyl7Y29uc3QgbD1vW3RbY11dO2lmKGw9PT12b2lkIDApdGhyb3cgbmV3IFN5bnRheEVycm9yKGBOb24tJHtyfSBjaGFyYWN0ZXJgKTtpPWk8PG58bCx1Kz1uLHU+PTgmJih1LT04LGFbRCsrXT0yNTUmaT4+dSl9aWYodT49bnx8MjU1Jmk8PDgtdSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJVbmV4cGVjdGVkIGVuZCBvZiBkYXRhXCIpO3JldHVybiBhfSxxcj0odCxlLG4pPT57Y29uc3Qgcj1lW2UubGVuZ3RoLTFdPT09XCI9XCIsbz0oMTw8biktMTtsZXQgcz1cIlwiLGE9MCx1PTA7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDsrK2kpZm9yKHU9dTw8OHx0W2ldLGErPTg7YT5uOylhLT1uLHMrPWVbbyZ1Pj5hXTtpZihhJiYocys9ZVtvJnU8PG4tYV0pLHIpZm9yKDtzLmxlbmd0aCpuJjc7KXMrPVwiPVwiO3JldHVybiBzfSxrPSh7bmFtZTp0LHByZWZpeDplLGJpdHNQZXJDaGFyOm4sYWxwaGFiZXQ6cn0pPT5CdCh7cHJlZml4OmUsbmFtZTp0LGVuY29kZShvKXtyZXR1cm4gcXIobyxyLG4pfSxkZWNvZGUobyl7cmV0dXJuIE1yKG8scixuLHQpfX0pLCRyPUJ0KHtwcmVmaXg6XCJcXDBcIixuYW1lOlwiaWRlbnRpdHlcIixlbmNvZGU6dD0+TnIodCksZGVjb2RlOnQ9PkZyKHQpfSk7dmFyIGtyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGlkZW50aXR5OiRyfSk7Y29uc3QgUnI9ayh7cHJlZml4OlwiMFwiLG5hbWU6XCJiYXNlMlwiLGFscGhhYmV0OlwiMDFcIixiaXRzUGVyQ2hhcjoxfSk7dmFyIGpyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UyOlJyfSk7Y29uc3QgWnI9ayh7cHJlZml4OlwiN1wiLG5hbWU6XCJiYXNlOFwiLGFscGhhYmV0OlwiMDEyMzQ1NjdcIixiaXRzUGVyQ2hhcjozfSk7dmFyIEdyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U4OlpyfSk7Y29uc3QgVnI9aHQoe3ByZWZpeDpcIjlcIixuYW1lOlwiYmFzZTEwXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5XCJ9KTt2YXIgWXI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTEwOlZyfSk7Y29uc3QgSnI9ayh7cHJlZml4OlwiZlwiLG5hbWU6XCJiYXNlMTZcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZcIixiaXRzUGVyQ2hhcjo0fSksS3I9ayh7cHJlZml4OlwiRlwiLG5hbWU6XCJiYXNlMTZ1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRlwiLGJpdHNQZXJDaGFyOjR9KTt2YXIgV3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTE2OkpyLGJhc2UxNnVwcGVyOktyfSk7Y29uc3QgWHI9ayh7cHJlZml4OlwiYlwiLG5hbWU6XCJiYXNlMzJcIixhbHBoYWJldDpcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MjM0NTY3XCIsYml0c1BlckNoYXI6NX0pLFByPWsoe3ByZWZpeDpcIkJcIixuYW1lOlwiYmFzZTMydXBwZXJcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMjM0NTY3XCIsYml0c1BlckNoYXI6NX0pLFFyPWsoe3ByZWZpeDpcImNcIixuYW1lOlwiYmFzZTMycGFkXCIsYWxwaGFiZXQ6XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2Nz1cIixiaXRzUGVyQ2hhcjo1fSksdG89ayh7cHJlZml4OlwiQ1wiLG5hbWU6XCJiYXNlMzJwYWR1cHBlclwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1Njc9XCIsYml0c1BlckNoYXI6NX0pLGVvPWsoe3ByZWZpeDpcInZcIixuYW1lOlwiYmFzZTMyaGV4XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dlwiLGJpdHNQZXJDaGFyOjV9KSxubz1rKHtwcmVmaXg6XCJWXCIsbmFtZTpcImJhc2UzMmhleHVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVlwiLGJpdHNQZXJDaGFyOjV9KSxybz1rKHtwcmVmaXg6XCJ0XCIsbmFtZTpcImJhc2UzMmhleHBhZFwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXY9XCIsYml0c1BlckNoYXI6NX0pLG9vPWsoe3ByZWZpeDpcIlRcIixuYW1lOlwiYmFzZTMyaGV4cGFkdXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWPVwiLGJpdHNQZXJDaGFyOjV9KSxzbz1rKHtwcmVmaXg6XCJoXCIsbmFtZTpcImJhc2UzMnpcIixhbHBoYWJldDpcInlibmRyZmc4ZWprbWNwcXhvdDF1d2lzemEzNDVoNzY5XCIsYml0c1BlckNoYXI6NX0pO3ZhciBpbz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMzI6WHIsYmFzZTMydXBwZXI6UHIsYmFzZTMycGFkOlFyLGJhc2UzMnBhZHVwcGVyOnRvLGJhc2UzMmhleDplbyxiYXNlMzJoZXh1cHBlcjpubyxiYXNlMzJoZXhwYWQ6cm8sYmFzZTMyaGV4cGFkdXBwZXI6b28sYmFzZTMyejpzb30pO2NvbnN0IHVvPWh0KHtwcmVmaXg6XCJrXCIsbmFtZTpcImJhc2UzNlwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCJ9KSxjbz1odCh7cHJlZml4OlwiS1wiLG5hbWU6XCJiYXNlMzZ1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCJ9KTt2YXIgYW89T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTM2OnVvLGJhc2UzNnVwcGVyOmNvfSk7Y29uc3QgZm89aHQoe25hbWU6XCJiYXNlNThidGNcIixwcmVmaXg6XCJ6XCIsYWxwaGFiZXQ6XCIxMjM0NTY3ODlBQkNERUZHSEpLTE1OUFFSU1RVVldYWVphYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6XCJ9KSxEbz1odCh7bmFtZTpcImJhc2U1OGZsaWNrclwiLHByZWZpeDpcIlpcIixhbHBoYWJldDpcIjEyMzQ1Njc4OWFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXpBQkNERUZHSEpLTE1OUFFSU1RVVldYWVpcIn0pO3ZhciBobz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlNThidGM6Zm8sYmFzZTU4ZmxpY2tyOkRvfSk7Y29uc3QgbG89ayh7cHJlZml4OlwibVwiLG5hbWU6XCJiYXNlNjRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixiaXRzUGVyQ2hhcjo2fSksYm89ayh7cHJlZml4OlwiTVwiLG5hbWU6XCJiYXNlNjRwYWRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsYml0c1BlckNoYXI6Nn0pLHBvPWsoe3ByZWZpeDpcInVcIixuYW1lOlwiYmFzZTY0dXJsXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fXCIsYml0c1BlckNoYXI6Nn0pLHdvPWsoe3ByZWZpeDpcIlVcIixuYW1lOlwiYmFzZTY0dXJscGFkXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fPVwiLGJpdHNQZXJDaGFyOjZ9KTt2YXIgRW89T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTY0OmxvLGJhc2U2NHBhZDpibyxiYXNlNjR1cmw6cG8sYmFzZTY0dXJscGFkOndvfSk7Y29uc3QgTWU9QXJyYXkuZnJvbShcIlxcdXsxRjY4MH1cXHV7MUZBOTB9XFx1MjYwNFxcdXsxRjZGMH1cXHV7MUYzMEN9XFx1ezFGMzExfVxcdXsxRjMxMn1cXHV7MUYzMTN9XFx1ezFGMzE0fVxcdXsxRjMxNX1cXHV7MUYzMTZ9XFx1ezFGMzE3fVxcdXsxRjMxOH1cXHV7MUYzMER9XFx1ezFGMzBGfVxcdXsxRjMwRX1cXHV7MUY0MDl9XFx1MjYwMFxcdXsxRjRCQn1cXHV7MUY1QTV9XFx1ezFGNEJFfVxcdXsxRjRCRn1cXHV7MUY2MDJ9XFx1Mjc2NFxcdXsxRjYwRH1cXHV7MUY5MjN9XFx1ezFGNjBBfVxcdXsxRjY0Rn1cXHV7MUY0OTV9XFx1ezFGNjJEfVxcdXsxRjYxOH1cXHV7MUY0NER9XFx1ezFGNjA1fVxcdXsxRjQ0Rn1cXHV7MUY2MDF9XFx1ezFGNTI1fVxcdXsxRjk3MH1cXHV7MUY0OTR9XFx1ezFGNDk2fVxcdXsxRjQ5OX1cXHV7MUY2MjJ9XFx1ezFGOTE0fVxcdXsxRjYwNn1cXHV7MUY2NDR9XFx1ezFGNEFBfVxcdXsxRjYwOX1cXHUyNjNBXFx1ezFGNDRDfVxcdXsxRjkxN31cXHV7MUY0OUN9XFx1ezFGNjE0fVxcdXsxRjYwRX1cXHV7MUY2MDd9XFx1ezFGMzM5fVxcdXsxRjkyNn1cXHV7MUYzODl9XFx1ezFGNDlFfVxcdTI3MENcXHUyNzI4XFx1ezFGOTM3fVxcdXsxRjYzMX1cXHV7MUY2MEN9XFx1ezFGMzM4fVxcdXsxRjY0Q31cXHV7MUY2MEJ9XFx1ezFGNDk3fVxcdXsxRjQ5QX1cXHV7MUY2MEZ9XFx1ezFGNDlCfVxcdXsxRjY0Mn1cXHV7MUY0OTN9XFx1ezFGOTI5fVxcdXsxRjYwNH1cXHV7MUY2MDB9XFx1ezFGNUE0fVxcdXsxRjYwM31cXHV7MUY0QUZ9XFx1ezFGNjQ4fVxcdXsxRjQ0N31cXHV7MUYzQjZ9XFx1ezFGNjEyfVxcdXsxRjkyRH1cXHUyNzYzXFx1ezFGNjFDfVxcdXsxRjQ4Qn1cXHV7MUY0NDB9XFx1ezFGNjJBfVxcdXsxRjYxMX1cXHV7MUY0QTV9XFx1ezFGNjRCfVxcdXsxRjYxRX1cXHV7MUY2Mjl9XFx1ezFGNjIxfVxcdXsxRjkyQX1cXHV7MUY0NEF9XFx1ezFGOTczfVxcdXsxRjYyNX1cXHV7MUY5MjR9XFx1ezFGNDQ5fVxcdXsxRjQ4M31cXHV7MUY2MzN9XFx1MjcwQlxcdXsxRjYxQX1cXHV7MUY2MUR9XFx1ezFGNjM0fVxcdXsxRjMxRn1cXHV7MUY2MkN9XFx1ezFGNjQzfVxcdXsxRjM0MH1cXHV7MUYzMzd9XFx1ezFGNjNCfVxcdXsxRjYxM31cXHUyQjUwXFx1MjcwNVxcdXsxRjk3QX1cXHV7MUYzMDh9XFx1ezFGNjA4fVxcdXsxRjkxOH1cXHV7MUY0QTZ9XFx1MjcxNFxcdXsxRjYyM31cXHV7MUYzQzN9XFx1ezFGNDkwfVxcdTI2MzlcXHV7MUYzOEF9XFx1ezFGNDk4fVxcdXsxRjYyMH1cXHUyNjFEXFx1ezFGNjE1fVxcdXsxRjMzQX1cXHV7MUYzODJ9XFx1ezFGMzNCfVxcdXsxRjYxMH1cXHV7MUY1OTV9XFx1ezFGNDlEfVxcdXsxRjY0QX1cXHV7MUY2Mzl9XFx1ezFGNUUzfVxcdXsxRjRBQn1cXHV7MUY0ODB9XFx1ezFGNDUxfVxcdXsxRjNCNX1cXHV7MUY5MUV9XFx1ezFGNjFCfVxcdXsxRjUzNH1cXHV7MUY2MjR9XFx1ezFGMzNDfVxcdXsxRjYyQn1cXHUyNkJEXFx1ezFGOTE5fVxcdTI2MTVcXHV7MUYzQzZ9XFx1ezFGOTJCfVxcdXsxRjQ0OH1cXHV7MUY2MkV9XFx1ezFGNjQ2fVxcdXsxRjM3Qn1cXHV7MUYzNDN9XFx1ezFGNDM2fVxcdXsxRjQ4MX1cXHV7MUY2MzJ9XFx1ezFGMzNGfVxcdXsxRjlFMX1cXHV7MUYzODF9XFx1MjZBMVxcdXsxRjMxRX1cXHV7MUYzODh9XFx1Mjc0Q1xcdTI3MEFcXHV7MUY0NEJ9XFx1ezFGNjMwfVxcdXsxRjkyOH1cXHV7MUY2MzZ9XFx1ezFGOTFEfVxcdXsxRjZCNn1cXHV7MUY0QjB9XFx1ezFGMzUzfVxcdXsxRjRBMn1cXHV7MUY5MUZ9XFx1ezFGNjQxfVxcdXsxRjZBOH1cXHV7MUY0QTh9XFx1ezFGOTJDfVxcdTI3MDhcXHV7MUYzODB9XFx1ezFGMzdBfVxcdXsxRjkxM31cXHV7MUY2MTl9XFx1ezFGNDlGfVxcdXsxRjMzMX1cXHV7MUY2MTZ9XFx1ezFGNDc2fVxcdXsxRjk3NH1cXHUyNUI2XFx1MjdBMVxcdTI3NTNcXHV7MUY0OEV9XFx1ezFGNEI4fVxcdTJCMDdcXHV7MUY2Mjh9XFx1ezFGMzFBfVxcdXsxRjk4Qn1cXHV7MUY2Mzd9XFx1ezFGNTdBfVxcdTI2QTBcXHV7MUY2NDV9XFx1ezFGNjFGfVxcdXsxRjYzNX1cXHV7MUY0NEV9XFx1ezFGOTMyfVxcdXsxRjkyMH1cXHV7MUY5Mjd9XFx1ezFGNENDfVxcdXsxRjUzNX1cXHV7MUY0ODV9XFx1ezFGOUQwfVxcdXsxRjQzRX1cXHV7MUYzNTJ9XFx1ezFGNjE3fVxcdXsxRjkxMX1cXHV7MUYzMEF9XFx1ezFGOTJGfVxcdXsxRjQzN31cXHUyNjBFXFx1ezFGNEE3fVxcdXsxRjYyRn1cXHV7MUY0ODZ9XFx1ezFGNDQ2fVxcdXsxRjNBNH1cXHV7MUY2NDd9XFx1ezFGMzUxfVxcdTI3NDRcXHV7MUYzMzR9XFx1ezFGNEEzfVxcdXsxRjQzOH1cXHV7MUY0OEN9XFx1ezFGNENEfVxcdXsxRjk0MH1cXHV7MUY5MjJ9XFx1ezFGNDQ1fVxcdXsxRjRBMX1cXHV7MUY0QTl9XFx1ezFGNDUwfVxcdXsxRjRGOH1cXHV7MUY0N0J9XFx1ezFGOTEwfVxcdXsxRjkyRX1cXHV7MUYzQkN9XFx1ezFGOTc1fVxcdXsxRjZBOX1cXHV7MUYzNEV9XFx1ezFGMzRBfVxcdXsxRjQ3Q31cXHV7MUY0OER9XFx1ezFGNEUzfVxcdXsxRjk0Mn1cIiksZ289TWUucmVkdWNlKCh0LGUsbik9Pih0W25dPWUsdCksW10pLHlvPU1lLnJlZHVjZSgodCxlLG4pPT4odFtlLmNvZGVQb2ludEF0KDApXT1uLHQpLFtdKTtmdW5jdGlvbiB4byh0KXtyZXR1cm4gdC5yZWR1Y2UoKGUsbik9PihlKz1nb1tuXSxlKSxcIlwiKX1mdW5jdGlvbiBCbyh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHI9eW9bbi5jb2RlUG9pbnRBdCgwKV07aWYocj09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYE5vbi1iYXNlMjU2ZW1vamkgY2hhcmFjdGVyOiAke259YCk7ZS5wdXNoKHIpfXJldHVybiBuZXcgVWludDhBcnJheShlKX1jb25zdCBDbz1CdCh7cHJlZml4OlwiXFx1ezFGNjgwfVwiLG5hbWU6XCJiYXNlMjU2ZW1vamlcIixlbmNvZGU6eG8sZGVjb2RlOkJvfSk7dmFyIEFvPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UyNTZlbW9qaTpDb30pLG1vPSRlLHFlPTEyOCxfbz0xMjcsU289fl9vLHZvPU1hdGgucG93KDIsMzEpO2Z1bmN0aW9uICRlKHQsZSxuKXtlPWV8fFtdLG49bnx8MDtmb3IodmFyIHI9bjt0Pj12bzspZVtuKytdPXQmMjU1fHFlLHQvPTEyODtmb3IoO3QmU287KWVbbisrXT10JjI1NXxxZSx0Pj4+PTc7cmV0dXJuIGVbbl09dHwwLCRlLmJ5dGVzPW4tcisxLGV9dmFyIElvPVB0LFVvPTEyOCxrZT0xMjc7ZnVuY3Rpb24gUHQodCxyKXt2YXIgbj0wLHI9cnx8MCxvPTAscz1yLGEsdT10Lmxlbmd0aDtkb3tpZihzPj11KXRocm93IFB0LmJ5dGVzPTAsbmV3IFJhbmdlRXJyb3IoXCJDb3VsZCBub3QgZGVjb2RlIHZhcmludFwiKTthPXRbcysrXSxuKz1vPDI4PyhhJmtlKTw8bzooYSZrZSkqTWF0aC5wb3coMixvKSxvKz03fXdoaWxlKGE+PVVvKTtyZXR1cm4gUHQuYnl0ZXM9cy1yLG59dmFyIFRvPU1hdGgucG93KDIsNyksRm89TWF0aC5wb3coMiwxNCksTm89TWF0aC5wb3coMiwyMSksTG89TWF0aC5wb3coMiwyOCksT289TWF0aC5wb3coMiwzNSksSG89TWF0aC5wb3coMiw0Miksem89TWF0aC5wb3coMiw0OSksTW89TWF0aC5wb3coMiw1NikscW89TWF0aC5wb3coMiw2MyksJG89ZnVuY3Rpb24odCl7cmV0dXJuIHQ8VG8/MTp0PEZvPzI6dDxObz8zOnQ8TG8/NDp0PE9vPzU6dDxIbz82OnQ8em8/Nzp0PE1vPzg6dDxxbz85OjEwfSxrbz17ZW5jb2RlOm1vLGRlY29kZTpJbyxlbmNvZGluZ0xlbmd0aDokb30sUmU9a287Y29uc3QgamU9KHQsZSxuPTApPT4oUmUuZW5jb2RlKHQsZSxuKSxlKSxaZT10PT5SZS5lbmNvZGluZ0xlbmd0aCh0KSxRdD0odCxlKT0+e2NvbnN0IG49ZS5ieXRlTGVuZ3RoLHI9WmUodCksbz1yK1plKG4pLHM9bmV3IFVpbnQ4QXJyYXkobytuKTtyZXR1cm4gamUodCxzLDApLGplKG4scyxyKSxzLnNldChlLG8pLG5ldyBSbyh0LG4sZSxzKX07Y2xhc3MgUm97Y29uc3RydWN0b3IoZSxuLHIsbyl7dGhpcy5jb2RlPWUsdGhpcy5zaXplPW4sdGhpcy5kaWdlc3Q9cix0aGlzLmJ5dGVzPW99fWNvbnN0IEdlPSh7bmFtZTp0LGNvZGU6ZSxlbmNvZGU6bn0pPT5uZXcgam8odCxlLG4pO2NsYXNzIGpve2NvbnN0cnVjdG9yKGUsbixyKXt0aGlzLm5hbWU9ZSx0aGlzLmNvZGU9bix0aGlzLmVuY29kZT1yfWRpZ2VzdChlKXtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheSl7Y29uc3Qgbj10aGlzLmVuY29kZShlKTtyZXR1cm4gbiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/UXQodGhpcy5jb2RlLG4pOm4udGhlbihyPT5RdCh0aGlzLmNvZGUscikpfWVsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIil9fWNvbnN0IFZlPXQ9PmFzeW5jIGU9Pm5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KHQsZSkpLFpvPUdlKHtuYW1lOlwic2hhMi0yNTZcIixjb2RlOjE4LGVuY29kZTpWZShcIlNIQS0yNTZcIil9KSxHbz1HZSh7bmFtZTpcInNoYTItNTEyXCIsY29kZToxOSxlbmNvZGU6VmUoXCJTSEEtNTEyXCIpfSk7dmFyIFZvPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHNoYTI1NjpabyxzaGE1MTI6R299KTtjb25zdCBZZT0wLFlvPVwiaWRlbnRpdHlcIixKZT1IZSxKbz10PT5RdChZZSxKZSh0KSksS289e2NvZGU6WWUsbmFtZTpZbyxlbmNvZGU6SmUsZGlnZXN0OkpvfTt2YXIgV289T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaWRlbnRpdHk6S299KTtuZXcgVGV4dEVuY29kZXIsbmV3IFRleHREZWNvZGVyO2NvbnN0IEtlPXsuLi5rciwuLi5qciwuLi5HciwuLi5ZciwuLi5XciwuLi5pbywuLi5hbywuLi5obywuLi5FbywuLi5Bb307KHsuLi5WbywuLi5Xb30pO2Z1bmN0aW9uIFdlKHQsZSxuLHIpe3JldHVybntuYW1lOnQscHJlZml4OmUsZW5jb2Rlcjp7bmFtZTp0LHByZWZpeDplLGVuY29kZTpufSxkZWNvZGVyOntkZWNvZGU6cn19fWNvbnN0IFhlPVdlKFwidXRmOFwiLFwidVwiLHQ9PlwidVwiK25ldyBUZXh0RGVjb2RlcihcInV0ZjhcIikuZGVjb2RlKHQpLHQ9Pm5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0LnN1YnN0cmluZygxKSkpLHRlPVdlKFwiYXNjaWlcIixcImFcIix0PT57bGV0IGU9XCJhXCI7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W25dKTtyZXR1cm4gZX0sdD0+e3Q9dC5zdWJzdHJpbmcoMSk7Y29uc3QgZT1MZSh0Lmxlbmd0aCk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZVtuXT10LmNoYXJDb2RlQXQobik7cmV0dXJuIGV9KSxQZT17dXRmODpYZSxcInV0Zi04XCI6WGUsaGV4OktlLmJhc2UxNixsYXRpbjE6dGUsYXNjaWk6dGUsYmluYXJ5OnRlLC4uLktlfTtmdW5jdGlvbiBjdCh0LGU9XCJ1dGY4XCIpe2NvbnN0IG49UGVbZV07aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBlbmNvZGluZyBcIiR7ZX1cImApO3JldHVybihlPT09XCJ1dGY4XCJ8fGU9PT1cInV0Zi04XCIpJiZnbG9iYWxUaGlzLkJ1ZmZlciE9bnVsbCYmZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbSE9bnVsbD9nbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpLnRvU3RyaW5nKFwidXRmOFwiKTpuLmVuY29kZXIuZW5jb2RlKHQpLnN1YnN0cmluZygxKX1mdW5jdGlvbiBydCh0LGU9XCJ1dGY4XCIpe2NvbnN0IG49UGVbZV07aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBlbmNvZGluZyBcIiR7ZX1cImApO3JldHVybihlPT09XCJ1dGY4XCJ8fGU9PT1cInV0Zi04XCIpJiZnbG9iYWxUaGlzLkJ1ZmZlciE9bnVsbCYmZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbSE9bnVsbD9YdChnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKHQsXCJ1dGYtOFwiKSk6bi5kZWNvZGVyLmRlY29kZShgJHtuLnByZWZpeH0ke3R9YCl9ZnVuY3Rpb24gbHQodCl7cmV0dXJuIHBuKGN0KHJ0KHQsRHQpLEd0KSl9ZnVuY3Rpb24gYnQodCl7cmV0dXJuIGN0KHJ0KHduKHQpLEd0KSxEdCl9ZnVuY3Rpb24gUWUodCl7Y29uc3QgZT1ydChXdCxkdCksbj1LdCtjdChPZShbZSx0XSksZHQpO3JldHVybltZdCxKdCxuXS5qb2luKFZ0KX1mdW5jdGlvbiB0bih0KXtjb25zdFtlLG4scl09dC5zcGxpdChWdCk7aWYoZSE9PVl0fHxuIT09SnQpdGhyb3cgbmV3IEVycm9yKCdJc3N1ZXIgbXVzdCBiZSBhIERJRCB3aXRoIG1ldGhvZCBcImtleVwiJyk7aWYoci5zbGljZSgwLDEpIT09S3QpdGhyb3cgbmV3IEVycm9yKFwiSXNzdWVyIG11c3QgYmUgYSBrZXkgaW4gbXVsaWNvZGVjIGZvcm1hdFwiKTtjb25zdCBvPXJ0KHIuc2xpY2UoMSksZHQpO2lmKGN0KG8uc2xpY2UoMCwyKSxkdCkhPT1XdCl0aHJvdyBuZXcgRXJyb3IoJ0lzc3VlciBtdXN0IGJlIGEgcHVibGljIGtleSB3aXRoIHR5cGUgXCJFZDI1NTE5XCInKTtjb25zdCBzPW8uc2xpY2UoMik7aWYocy5sZW5ndGghPT1GZSl0aHJvdyBuZXcgRXJyb3IoXCJJc3N1ZXIgbXVzdCBiZSBhIHB1YmxpYyBrZXkgd2l0aCBsZW5ndGggMzIgYnl0ZXNcIik7cmV0dXJuIHN9ZnVuY3Rpb24gZW4odCl7cmV0dXJuIGN0KHQsRHQpfWZ1bmN0aW9uIG5uKHQpe3JldHVybiBydCh0LER0KX1mdW5jdGlvbiBybih0KXtyZXR1cm4gcnQoW2J0KHQuaGVhZGVyKSxidCh0LnBheWxvYWQpXS5qb2luKHV0KSx4dCl9ZnVuY3Rpb24gWG8odCl7Y29uc3QgZT1jdCh0LHh0KS5zcGxpdCh1dCksbj1sdChlWzBdKSxyPWx0KGVbMV0pO3JldHVybntoZWFkZXI6bixwYXlsb2FkOnJ9fWZ1bmN0aW9uIG9uKHQpe3JldHVybltidCh0LmhlYWRlciksYnQodC5wYXlsb2FkKSxlbih0LnNpZ25hdHVyZSldLmpvaW4odXQpfWZ1bmN0aW9uIHNuKHQpe2NvbnN0IGU9dC5zcGxpdCh1dCksbj1sdChlWzBdKSxyPWx0KGVbMV0pLG89bm4oZVsyXSkscz1ydChlLnNsaWNlKDAsMikuam9pbih1dCkseHQpO3JldHVybntoZWFkZXI6bixwYXlsb2FkOnIsc2lnbmF0dXJlOm8sZGF0YTpzfX1mdW5jdGlvbiBQbyh0PWhlKE5lKSl7Y29uc3QgZT1SdC5nZXRQdWJsaWNLZXkodCk7cmV0dXJue3NlY3JldEtleTpPZShbdCxlXSkscHVibGljS2V5OmV9fWFzeW5jIGZ1bmN0aW9uIFFvKHQsZSxuLHIsbz1ibihEYXRlLm5vdygpKSl7Y29uc3Qgcz17YWxnOmp0LHR5cDpadH0sYT1RZShyLnB1YmxpY0tleSksdT1vK24saT17aXNzOmEsc3ViOnQsYXVkOmUsaWF0Om8sZXhwOnV9LEQ9cm4oe2hlYWRlcjpzLHBheWxvYWQ6aX0pLGM9UnQuc2lnbihELHIuc2VjcmV0S2V5LnNsaWNlKDAsMzIpKTtyZXR1cm4gb24oe2hlYWRlcjpzLHBheWxvYWQ6aSxzaWduYXR1cmU6Y30pfWFzeW5jIGZ1bmN0aW9uIHRzKHQpe2NvbnN0e2hlYWRlcjplLHBheWxvYWQ6bixkYXRhOnIsc2lnbmF0dXJlOm99PXNuKHQpO2lmKGUuYWxnIT09anR8fGUudHlwIT09WnQpdGhyb3cgbmV3IEVycm9yKFwiSldUIG11c3QgdXNlIEVkRFNBIGFsZ29yaXRobVwiKTtjb25zdCBzPXRuKG4uaXNzKTtyZXR1cm4gUnQudmVyaWZ5KG8scixzKX1leHBvcnR7eHQgYXMgREFUQV9FTkNPRElORyxWdCBhcyBESURfREVMSU1JVEVSLEp0IGFzIERJRF9NRVRIT0QsWXQgYXMgRElEX1BSRUZJWCxHdCBhcyBKU09OX0VOQ09ESU5HLHV0IGFzIEpXVF9ERUxJTUlURVIsRHQgYXMgSldUX0VOQ09ESU5HLGp0IGFzIEpXVF9JUklESVVNX0FMRyxadCBhcyBKV1RfSVJJRElVTV9UWVAsTmUgYXMgS0VZX1BBSVJfU0VFRF9MRU5HVEgsS3QgYXMgTVVMVElDT0RFQ19FRDI1NTE5X0JBU0UsZHQgYXMgTVVMVElDT0RFQ19FRDI1NTE5X0VOQ09ESU5HLFd0IGFzIE1VTFRJQ09ERUNfRUQyNTUxOV9IRUFERVIsRmUgYXMgTVVMVElDT0RFQ19FRDI1NTE5X0xFTkdUSCxYbyBhcyBkZWNvZGVEYXRhLHRuIGFzIGRlY29kZUlzcyxsdCBhcyBkZWNvZGVKU09OLHNuIGFzIGRlY29kZUpXVCxubiBhcyBkZWNvZGVTaWcscm4gYXMgZW5jb2RlRGF0YSxRZSBhcyBlbmNvZGVJc3MsYnQgYXMgZW5jb2RlSlNPTixvbiBhcyBlbmNvZGVKV1QsZW4gYXMgZW5jb2RlU2lnLFBvIGFzIGdlbmVyYXRlS2V5UGFpcixRbyBhcyBzaWduSldULHRzIGFzIHZlcmlmeUpXVH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@walletconnect/safe-json/dist/esm/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   safeJsonParse: () => (/* binding */ safeJsonParse),\n/* harmony export */   safeJsonStringify: () => (/* binding */ safeJsonStringify)\n/* harmony export */ });\nconst JSONStringify = data => JSON.stringify(data, (_, value) => typeof value === \"bigint\" ? value.toString() + \"n\" : value);\nconst JSONParse = json => {\n    const numbersBiggerThanMaxInt = /([\\[:])?(\\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\\}\\]])/g;\n    const serializedData = json.replace(numbersBiggerThanMaxInt, \"$1\\\"$2n\\\"$3\");\n    return JSON.parse(serializedData, (_, value) => {\n        const isCustomFormatBigInt = typeof value === \"string\" && value.match(/^\\d+n$/);\n        if (isCustomFormatBigInt)\n            return BigInt(value.substring(0, value.length - 1));\n        return value;\n    });\n};\nfunction safeJsonParse(value) {\n    if (typeof value !== \"string\") {\n        throw new Error(`Cannot safe json parse value of type ${typeof value}`);\n    }\n    try {\n        return JSONParse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n}\nfunction safeJsonStringify(value) {\n    return typeof value === \"string\" ? value : JSONStringify(value) || \"\";\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBLGlEQUFpRCxJQUFJLDZPQUE2TztBQUNsUztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0EsZ0VBQWdFLGFBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9zYWZlLWpzb24vZGlzdC9lc20vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSlNPTlN0cmluZ2lmeSA9IGRhdGEgPT4gSlNPTi5zdHJpbmdpZnkoZGF0YSwgKF8sIHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIgPyB2YWx1ZS50b1N0cmluZygpICsgXCJuXCIgOiB2YWx1ZSk7XG5jb25zdCBKU09OUGFyc2UgPSBqc29uID0+IHtcbiAgICBjb25zdCBudW1iZXJzQmlnZ2VyVGhhbk1heEludCA9IC8oW1xcWzpdKT8oXFxkezE3LH18KD86WzldKD86WzEtOV0wNzE5OTI1NDc0MDk5MXwwWzEtOV03MTk5MjU0NzQwOTkxfDAwWzgtOV0xOTkyNTQ3NDA5OTF8MDA3WzItOV05OTI1NDc0MDk5MXwwMDcxOTlbMy05XTU0NzQwOTkxfDAwNzE5OTJbNi05XTQ3NDA5OTF8MDA3MTk5MjVbNS05XTc0MDk5MXwwMDcxOTkyNTRbOC05XTQwOTkxfDAwNzE5OTI1NDdbNS05XTA5OTF8MDA3MTk5MjU0NzRbMS05XTk5MXwwMDcxOTkyNTQ3NDA5OVsyLTldKSkpKFssXFx9XFxdXSkvZztcbiAgICBjb25zdCBzZXJpYWxpemVkRGF0YSA9IGpzb24ucmVwbGFjZShudW1iZXJzQmlnZ2VyVGhhbk1heEludCwgXCIkMVxcXCIkMm5cXFwiJDNcIik7XG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc2VyaWFsaXplZERhdGEsIChfLCB2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBpc0N1c3RvbUZvcm1hdEJpZ0ludCA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZS5tYXRjaCgvXlxcZCtuJC8pO1xuICAgICAgICBpZiAoaXNDdXN0b21Gb3JtYXRCaWdJbnQpXG4gICAgICAgICAgICByZXR1cm4gQmlnSW50KHZhbHVlLnN1YnN0cmluZygwLCB2YWx1ZS5sZW5ndGggLSAxKSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbn07XG5leHBvcnQgZnVuY3Rpb24gc2FmZUpzb25QYXJzZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc2FmZSBqc29uIHBhcnNlIHZhbHVlIG9mIHR5cGUgJHt0eXBlb2YgdmFsdWV9YCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OUGFyc2UodmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzYWZlSnNvblN0cmluZ2lmeSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IEpTT05TdHJpbmdpZnkodmFsdWUpIHx8IFwiXCI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/sign-client/dist/index.es.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/sign-client/dist/index.es.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_CONTEXT: () => (/* binding */ wt),\n/* harmony export */   AUTH_KEYS_CONTEXT: () => (/* binding */ mt),\n/* harmony export */   AUTH_PAIRING_TOPIC_CONTEXT: () => (/* binding */ _t),\n/* harmony export */   AUTH_PROTOCOL: () => (/* binding */ yt),\n/* harmony export */   AUTH_PUBLIC_KEY_NAME: () => (/* binding */ ce),\n/* harmony export */   AUTH_REQUEST_CONTEXT: () => (/* binding */ Et),\n/* harmony export */   AUTH_STORAGE_PREFIX: () => (/* binding */ ae),\n/* harmony export */   AUTH_VERSION: () => (/* binding */ Ss),\n/* harmony export */   ENGINE_CONTEXT: () => (/* binding */ dt),\n/* harmony export */   ENGINE_QUEUE_STATES: () => (/* binding */ $),\n/* harmony export */   ENGINE_RPC_OPTS: () => (/* binding */ N),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ _s),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ ms),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Es),\n/* harmony export */   METHODS_TO_VERIFY: () => (/* binding */ gt),\n/* harmony export */   PROPOSAL_CONTEXT: () => (/* binding */ pt),\n/* harmony export */   PROPOSAL_EXPIRY: () => (/* binding */ fs),\n/* harmony export */   PROPOSAL_EXPIRY_MESSAGE: () => (/* binding */ $e),\n/* harmony export */   REQUEST_CONTEXT: () => (/* binding */ ut),\n/* harmony export */   SESSION_CONTEXT: () => (/* binding */ ht),\n/* harmony export */   SESSION_EXPIRY: () => (/* binding */ J),\n/* harmony export */   SESSION_REQUEST_EXPIRY_BOUNDARIES: () => (/* binding */ _e),\n/* harmony export */   SIGN_CLIENT_CONTEXT: () => (/* binding */ ke),\n/* harmony export */   SIGN_CLIENT_DEFAULT: () => (/* binding */ me),\n/* harmony export */   SIGN_CLIENT_EVENTS: () => (/* binding */ ys),\n/* harmony export */   SIGN_CLIENT_PROTOCOL: () => (/* binding */ De),\n/* harmony export */   SIGN_CLIENT_STORAGE_OPTIONS: () => (/* binding */ ws),\n/* harmony export */   SIGN_CLIENT_STORAGE_PREFIX: () => (/* binding */ we),\n/* harmony export */   SIGN_CLIENT_VERSION: () => (/* binding */ Le),\n/* harmony export */   SessionStore: () => (/* binding */ Ms),\n/* harmony export */   SignClient: () => (/* binding */ $s),\n/* harmony export */   TVF_METHODS: () => (/* binding */ Ue),\n/* harmony export */   WALLETCONNECT_DEEPLINK_CHOICE: () => (/* binding */ Me),\n/* harmony export */   \"default\": () => (/* binding */ Ee)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/core */ \"(ssr)/./node_modules/@walletconnect/core/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst De=\"wc\",Le=2,ke=\"client\",we=`${De}@${Le}:${ke}:`,me={name:ke,logger:\"error\",controller:!1,relayUrl:\"wss://relay.walletconnect.org\"},ys={session_proposal:\"session_proposal\",session_update:\"session_update\",session_extend:\"session_extend\",session_ping:\"session_ping\",session_delete:\"session_delete\",session_expire:\"session_expire\",session_request:\"session_request\",session_request_sent:\"session_request_sent\",session_event:\"session_event\",proposal_expire:\"proposal_expire\",session_authenticate:\"session_authenticate\",session_request_expire:\"session_request_expire\",session_connect:\"session_connect\"},ws={database:\":memory:\"},Me=\"WALLETCONNECT_DEEPLINK_CHOICE\",ms={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},_s=\"history\",Es=\"0.3\",pt=\"proposal\",fs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.THIRTY_DAYS,$e=\"Proposal expired\",ht=\"session\",J=_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.SEVEN_DAYS,dt=\"engine\",N={wc_sessionPropose:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,prompt:!1,tag:1119}}},_e={min:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,max:_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.SEVEN_DAYS},$={idle:\"IDLE\",active:\"ACTIVE\"},Ue={eth_sendTransaction:{key:\"\"},eth_sendRawTransaction:{key:\"\"},wallet_sendCalls:{key:\"\"},solana_signTransaction:{key:\"signature\"},solana_signAllTransactions:{key:\"transactions\"},solana_signAndSendTransaction:{key:\"signature\"}},ut=\"request\",gt=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\",\"wc_sessionAuthenticate\"],yt=\"wc\",Ss=1.5,wt=\"auth\",mt=\"authKeys\",_t=\"pairingTopics\",Et=\"requests\",ae=`${yt}@${1.5}:${wt}:`,ce=`${ae}:PUB_KEY`;var Rs=Object.defineProperty,vs=Object.defineProperties,Is=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,Ts=Object.prototype.hasOwnProperty,qs=Object.prototype.propertyIsEnumerable,Ke=(S,n,e)=>n in S?Rs(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,v=(S,n)=>{for(var e in n||(n={}))Ts.call(n,e)&&Ke(S,e,n[e]);if(ft)for(var e of ft(n))qs.call(n,e)&&Ke(S,e,n[e]);return S},b=(S,n)=>vs(S,Is(n)),c=(S,n,e)=>Ke(S,typeof n!=\"symbol\"?n+\"\":n,e);class Ps extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.IEngine{constructor(n){super(n),c(this,\"name\",dt),c(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_2___default())),c(this,\"initialized\",!1),c(this,\"requestQueue\",{state:$.idle,queue:[]}),c(this,\"sessionRequestQueue\",{state:$.idle,queue:[]}),c(this,\"requestQueueDelay\",_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND),c(this,\"expectedPairingMethodMap\",new Map),c(this,\"recentlyDeletedMap\",new Map),c(this,\"recentlyDeletedLimit\",200),c(this,\"relayMessageCache\",[]),c(this,\"pendingSessions\",new Map),c(this,\"init\",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(N)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.requestQueueDelay)))}),c(this,\"connect\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=b(v({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:o,scopedProperties:a,relays:l}=t;let p=s,h,u=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn(\"connect() with existing pairing topic is deprecated and will be removed in the next major release.\"),u=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!u){const{topic:T,uri:U}=await this.client.core.pairing.create();p=T,h=U}if(!p){const{message:T}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`connect() pairing topic: ${p}`);throw new Error(T)}const d=await this.client.core.crypto.generateKeyPair(),w=N.wc_sessionPropose.req.ttl||_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.FIVE_MINUTES,m=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(w),f=b(v(v({requiredNamespaces:i,optionalNamespaces:r,relays:l??[{protocol:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:p},o&&{sessionProperties:o}),a&&{scopedProperties:a}),{id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()}),_=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",f.id),{reject:g,resolve:A,done:D}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(w,$e),I=({id:T})=>{T===f.id&&(this.client.events.off(\"proposal_expire\",I),this.pendingSessions.delete(f.id),this.events.emit(_,{error:{message:$e,code:0}}))};return this.client.events.on(\"proposal_expire\",I),this.events.once(_,({error:T,session:U})=>{this.client.events.off(\"proposal_expire\",I),T?g(T):U&&A(U)}),await this.sendRequest({topic:p,method:\"wc_sessionPropose\",params:f,throwOnFailedPublish:!0,clientRpcId:f.id}),await this.setProposal(f.id,f),{uri:h,approval:D}}),c(this,\"pair\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error(\"pair() failed\"),t}}),c(this,\"approve\",async e=>{var t,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(t=e?.id)==null?void 0:t.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(q){throw r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.no_internet_connection),q}try{await this.isValidProposalId(e?.id)}catch(q){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_not_found),q}try{await this.isValidApprove(e)}catch(q){throw this.client.logger.error(\"approve() -> isValidApprove() failed\"),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_namespace_validation_failure),q}const{id:o,relayProtocol:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=e,d=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:w,proposer:m,requiredNamespaces:f,optionalNamespaces:_}=d;let g=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:w});g||(g=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,properties:{topic:w,trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_namespaces_validation_success]}}));const A=await this.client.core.crypto.generateKeyPair(),D=m.publicKey,I=await this.client.core.crypto.generateSharedKey(A,D),T=v(v(v({relay:{protocol:a??\"irn\"},namespaces:l,controller:{publicKey:A,metadata:this.client.metadata},expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),U=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:U})}catch(q){throw g.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.subscribe_session_topic_failure),q}g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribe_session_topic_success);const fe=b(v({},T),{topic:I,requiredNamespaces:f,optionalNamespaces:_,pairingTopic:w,acknowledged:!1,self:T.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:A,transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(I,fe),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.store_session);try{g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.publishing_session_settle),await this.sendRequest({topic:I,method:\"wc_sessionSettle\",params:T,throwOnFailedPublish:!0}).catch(q=>{throw g?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_settle_publish_failure),q}),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_settle_publish_success),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.publishing_session_approve),await this.sendResult({id:o,topic:w,result:{relay:{protocol:a??\"irn\"},responderPublicKey:A},throwOnFailedPublish:!0}).catch(q=>{throw g?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_publish_failure),q}),g.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_publish_success)}catch(q){throw this.client.logger.error(q),this.client.session.delete(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(I),q}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:m.metadata}),await this.client.proposal.delete(o,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),c(this,\"reject\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(r){throw this.client.logger.error(\"reject() -> isValidReject() failed\"),r}const{id:t,reason:s}=e;let i;try{i=this.client.proposal.get(t).pairingTopic}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),r}i&&(await this.sendError({id:t,topic:i,error:s,rpcOpts:N.wc_sessionPropose.reject}),await this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")))}),c(this,\"update\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(h){throw this.client.logger.error(\"update() -> isValidUpdate() failed\"),h}const{topic:t,namespaces:s}=e,{done:i,resolve:r,reject:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(),a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),p=this.client.session.get(t).namespaces;return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",a),({error:h})=>{h?o(h):r()}),await this.client.session.update(t,{namespaces:s}),await this.sendRequest({topic:t,method:\"wc_sessionUpdate\",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(t,{namespaces:p}),o(h)}),{acknowledged:i}}),c(this,\"extend\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(a){throw this.client.logger.error(\"extend() -> isValidExtend() failed\"),a}const{topic:t}=e,s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),{done:i,resolve:r,reject:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),({error:a})=>{a?o(a):r()}),await this.setExpiry(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)),this.sendRequest({topic:t,method:\"wc_sessionExtend\",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(a=>{o(a)}),{acknowledged:i}}),c(this,\"request\",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(_){throw this.client.logger.error(\"request() -> isValidRequest() failed\"),_}const{chainId:t,request:s,topic:i,expiry:r=N.wc_sessionRequest.req.ttl}=e,o=this.client.session.get(i);o?.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:p,resolve:h,reject:u}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(r,\"Request expired. Please try again.\");this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",a),({error:_,result:g})=>{_?u(_):h(g)});const d=\"wc_sessionRequest\",w=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(w)return await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:{request:b(v({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:t},expiry:r,throwOnFailedPublish:!0,appLink:w}).catch(_=>u(_)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:t,id:a}),await p();const m={request:b(v({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:t},f=this.shouldSetTVF(d,m);return await Promise.all([new Promise(async _=>{await this.sendRequest(v({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:m,expiry:r,throwOnFailedPublish:!0},f&&{tvf:this.getTVFParams(a,m)})).catch(g=>u(g)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:t,id:a}),_()}),new Promise(async _=>{var g;if(!((g=o.sessionConfig)!=null&&g.disableDeepLink)){const A=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDeepLink)(this.client.core.storage,Me);await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.handleDeeplinkRedirect)({id:a,topic:i,wcDeepLink:A})}_()}),p()]).then(_=>_[2])}),c(this,\"respond\",async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:s}=e,{id:i}=s,r=this.client.session.get(t);r.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(r.peer.metadata,r.transportType);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?await this.sendResult({id:i,topic:t,result:s.result,throwOnFailedPublish:!0,appLink:o}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&await this.sendError({id:i,topic:t,error:s.error,appLink:o}),this.cleanupAfterResponse(e)}),c(this,\"ping\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(s){throw this.client.logger.error(\"ping() -> isValidPing() failed\"),s}const{topic:t}=e;if(this.client.session.keys.includes(t)){const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:r,resolve:o,reject:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),({error:l})=>{l?a(l):o()}),await Promise.all([this.sendRequest({topic:t,method:\"wc_sessionPing\",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn(\"ping() on pairing topic is deprecated and will be removed in the next major release.\"),await this.client.core.pairing.ping({topic:t}))}),c(this,\"emit\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:s,chainId:i}=e,r=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)();await this.sendRequest({topic:t,method:\"wc_sessionEvent\",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:r,clientRpcId:o})}),c(this,\"disconnect\",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:\"wc_sessionDelete\",params:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${t}`);throw new Error(s)}}),c(this,\"find\",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isSessionCompatible)(t,e)))),c(this,\"getPendingSessionRequests\",()=>this.client.pendingRequest.getAll()),c(this,\"authenticate\",async(e,t)=>{var s;this.isInitialized(),this.isValidAuthenticate(e);const i=t&&this.client.core.linkModeSupportedApps.includes(t)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;r===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:a=\"\",uri:l,domain:p,nonce:h,type:u,exp:d,nbf:w,methods:m=[],expiry:f}=e,_=[...e.resources||[]],{topic:g,uri:A}=await this.client.core.pairing.create({methods:[\"wc_sessionAuthenticate\"],transportType:r});this.client.logger.info({message:\"Generated new pairing\",pairing:{topic:g,uri:A}});const D=await this.client.core.crypto.generateKeyPair(),I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(D);if(await Promise.all([this.client.auth.authKeys.set(ce,{responseTopic:I,publicKey:D}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:g})]),await this.client.core.relayer.subscribe(I,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${g}`),m.length>0){const{namespace:x}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(o[0]);let L=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createEncodedRecap)(x,\"request\",m);(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(_)&&(L=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeEncodedRecaps)(L,_.pop())),_.push(L)}const T=f&&f>N.wc_sessionAuthenticate.req.ttl?f:N.wc_sessionAuthenticate.req.ttl,U={authPayload:{type:u??\"caip122\",chains:o,statement:a,aud:l,domain:p,version:\"1\",nonce:h,iat:new Date().toISOString(),exp:d,nbf:w,resources:_},requester:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(T)},fe={eip155:{chains:o,methods:[...new Set([\"personal_sign\",...m])],events:[\"chainChanged\",\"accountsChanged\"]}},q={requiredNamespaces:{},optionalNamespaces:fe,relays:[{protocol:\"irn\"}],pairingTopic:g,proposer:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionPropose.req.ttl),id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()},{done:Rt,resolve:je,reject:Se}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(T,\"Request expired\"),te=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),le=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",q.id),Re=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",te),pe=async({error:x,session:L})=>{this.events.off(Re,ve),x?Se(x):L&&je({session:L})},ve=async x=>{var L,Fe,Qe;if(await this.deletePendingAuthRequest(te,{message:\"fulfilled\",code:0}),x.error){const ie=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",\"wc_sessionAuthenticate\");return x.error.code===ie.code?void 0:(this.events.off(le,pe),Se(x.error.message))}await this.deleteProposal(q.id),this.events.off(le,pe);const{cacaos:He,responder:Q}=x.result,Te=[],ze=[];for(const ie of He){await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:ie,projectId:this.client.core.projectId})||(this.client.logger.error(ie,\"Signature verification failed\"),Se((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\")));const{p:qe}=ie,Pe=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(qe.resources),Ye=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(qe.iss)],vt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(qe.iss);if(Pe){const Ne=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(Pe),It=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(Pe);Te.push(...Ne),Ye.push(...It)}for(const Ne of Ye)ze.push(`${Ne}:${vt}`)}const se=await this.client.core.crypto.generateSharedKey(D,Q.publicKey);let he;Te.length>0&&(he={topic:se,acknowledged:!0,self:{publicKey:D,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:g,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(Te)],[...new Set(ze)]),transportType:r},await this.client.core.relayer.subscribe(se,{transportType:r}),await this.client.session.set(se,he),g&&await this.client.core.pairing.updateMetadata({topic:g,metadata:Q.metadata}),he=this.client.session.get(se)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(Fe=Q.metadata.redirect)!=null&&Fe.linkMode&&(Qe=Q.metadata.redirect)!=null&&Qe.universal&&t&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(se,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode})),je({auths:He,session:he})};this.events.once(le,pe),this.events.once(Re,ve);let Ie;try{if(i){const x=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionAuthenticate\",U,te);this.client.core.history.set(g,x);const L=await this.client.core.crypto.encode(\"\",x,{type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_2,encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL});Ie=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(t,g,L)}else await Promise.all([this.sendRequest({topic:g,method:\"wc_sessionAuthenticate\",params:U,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:te}),this.sendRequest({topic:g,method:\"wc_sessionPropose\",params:q,expiry:N.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:q.id})])}catch(x){throw this.events.off(le,pe),this.events.off(Re,ve),x}return await this.setProposal(q.id,q),await this.setAuthRequest(te,{request:b(v({},U),{verifyContext:{}}),pairingTopic:g,transportType:r}),{uri:Ie??A,response:Rt}}),c(this,\"approveSessionAuthenticate\",async e=>{const{id:t,auths:s}=e,i=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.authenticated_session_approve_started]}});try{this.isInitialized()}catch(f){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.no_internet_connection),f}const r=this.getPendingAuthRequest(t);if(!r)throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${t}`);const o=r.transportType||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;o===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(a),h={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:a,senderPublicKey:l},u=[],d=[];for(const f of s){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:f,projectId:this.client.core.projectId})){i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.invalid_cacao);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\");throw await this.sendError({id:t,topic:p,error:I,encodeOpts:h}),new Error(I.message)}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.cacaos_verified);const{p:_}=f,g=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(_.resources),A=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(_.iss)],D=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(_.iss);if(g){const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(g),T=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(g);u.push(...I),A.push(...T)}for(const I of A)d.push(`${I}:${D}`)}const w=await this.client.core.crypto.generateSharedKey(l,a);i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.create_authenticated_session_topic);let m;if(u?.length>0){m={topic:w,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:r.pairingTopic,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(u)],[...new Set(d)]),transportType:o},i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:o})}catch(f){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.subscribe_authenticated_session_topic_failure),f}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribe_authenticated_session_topic_success),await this.client.session.set(w,m),i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata})}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:t,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,o)})}catch(f){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_approve_publish_failure),f}return await this.client.auth.requests.delete(t,{message:\"fulfilled\",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),c(this,\"rejectSessionAuthenticate\",async e=>{this.isInitialized();const{id:t,reason:s}=e,i=this.getPendingAuthRequest(t);if(!i)throw new Error(`Could not find pending auth request with id ${t}`);i.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(r),l={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:r,senderPublicKey:o};await this.sendError({id:t,topic:a,error:s,encodeOpts:l,rpcOpts:N.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(t,{message:\"rejected\",code:0}),await this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),c(this,\"formatAuthMessage\",e=>{this.isInitialized();const{request:t,iss:s}=e;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.formatMessage)(t,s)}),c(this,\"processRelayMessageCache\",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),c(this,\"cleanupDuplicatePairings\",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,o;return((r=i.peerMetadata)==null?void 0:r.url)&&((o=i.peerMetadata)==null?void 0:o.url)===e.peer.metadata.url&&i.topic&&i.topic!==t.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(t){this.client.logger.error(t)}}),c(this,\"deleteSession\",async e=>{var t;const{topic:s,expirerHasDeleted:i=!1,emitEvent:r=!0,id:o=0}=e,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.addToRecentlyDeleted(s,\"session\"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Me).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),s===((t=this.sessionRequestQueue.queue[0])==null?void 0:t.topic)&&(this.sessionRequestQueue.state=$.idle),r&&this.client.events.emit(\"session_delete\",{id:o,topic:s})}),c(this,\"deleteProposal\",async(e,t)=>{if(t)try{const s=this.client.proposal.get(e),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,\"proposal\")}),c(this,\"deletePendingSessionRequest\",async(e,t,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,\"request\"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==e),s&&(this.sessionRequestQueue.state=$.idle,this.client.events.emit(\"session_request_expire\",{id:e}))}),c(this,\"deletePendingAuthRequest\",async(e,t,s=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),s?Promise.resolve():this.client.core.expirer.del(e)])}),c(this,\"setExpiry\",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),c(this,\"setProposal\",async(e,t)=>{this.client.core.expirer.set(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),c(this,\"setAuthRequest\",async(e,t)=>{const{request:s,pairingTopic:i,transportType:r=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay}=t;this.client.core.expirer.set(e,s.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:e,pairingTopic:i,verifyContext:s.verifyContext,transportType:r})}),c(this,\"setPendingSessionRequest\",async e=>{const{id:t,topic:s,params:i,verifyContext:r}=e,o=i.request.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,o),await this.client.pendingRequest.set(t,{id:t,topic:s,params:i,verifyContext:r})}),c(this,\"sendRequest\",async e=>{const{topic:t,method:s,params:i,expiry:r,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:l,appLink:p,tvf:h}=e,u=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(s,i,a);let d;const w=!!p;try{const _=w?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;d=await this.client.core.crypto.encode(t,u,{encoding:_})}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),_}let m;if(gt.includes(s)){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(u)),g=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(d);m=await this.client.core.verify.register({id:g,decryptedId:_})}const f=N[s].req;if(f.attestation=m,r&&(f.ttl=r),o&&(f.id=o),this.client.core.history.set(t,u),w){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(p,t,d);await global.Linking.openURL(_,this.client.name)}else{const _=N[s].req;r&&(_.ttl=r),o&&(_.id=o),_.tvf=b(v({},h),{correlationId:u.id}),l?(_.internal=b(v({},_.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,d,_)):this.client.core.relayer.publish(t,d,_).catch(g=>this.client.logger.error(g))}return u.id}),c(this,\"sendResult\",async e=>{const{id:t,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:o,appLink:a}=e,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(t,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const w=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,b(v({},o||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),w}let u,d;try{u=await this.client.core.history.get(s,t);const w=u.request;try{this.shouldSetTVF(w.method,w.params)&&(d=this.getTVFParams(t,w.params,i))}catch(m){this.client.logger.warn(\"sendResult() -> getTVFParams() failed\",m)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${t}) failed`),w}if(h){const w=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(w,this.client.name)}else{const w=u.request.method,m=N[w].res;m.tvf=b(v({},d),{correlationId:t}),r?(m.internal=b(v({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,m)):this.client.core.relayer.publish(s,p,m).catch(f=>this.client.logger.error(f))}await this.client.core.history.resolve(l)}),c(this,\"sendError\",async e=>{const{id:t,topic:s,error:i,encodeOpts:r,rpcOpts:o,appLink:a}=e,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(t,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const d=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,b(v({},r||{}),{encoding:d}))}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),d}let u;try{u=await this.client.core.history.get(s,t)}catch(d){throw this.client.logger.error(`sendError() -> history.get(${s}, ${t}) failed`),d}if(h){const d=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(d,this.client.name)}else{const d=u.request.method,w=o||N[d].res;this.client.core.relayer.publish(s,p,w)}await this.client.core.history.resolve(l)}),c(this,\"cleanup\",async()=>{const e=[],t=[];this.client.session.getAll().forEach(s=>{let i=!1;(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&e.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiryTimestamp)&&t.push(s.id)}),await Promise.all([...e.map(s=>this.deleteSession({topic:s})),...t.map(s=>this.deleteProposal(s))])}),c(this,\"onProviderMessageEvent\",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),c(this,\"onRelayEventRequest\",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),c(this,\"processRequestsQueue\",async()=>{if(this.requestQueue.state===$.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$.active;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(t){this.client.logger.warn(t)}}this.requestQueue.state=$.idle}),c(this,\"processRequest\",async e=>{const{topic:t,payload:s,attestation:i,transportType:r,encryptedId:o}=e,a=s.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:a}))switch(a){case\"wc_sessionPropose\":return await this.onSessionProposeRequest({topic:t,payload:s,attestation:i,encryptedId:o});case\"wc_sessionSettle\":return await this.onSessionSettleRequest(t,s);case\"wc_sessionUpdate\":return await this.onSessionUpdateRequest(t,s);case\"wc_sessionExtend\":return await this.onSessionExtendRequest(t,s);case\"wc_sessionPing\":return await this.onSessionPingRequest(t,s);case\"wc_sessionDelete\":return await this.onSessionDeleteRequest(t,s);case\"wc_sessionRequest\":return await this.onSessionRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});case\"wc_sessionEvent\":return await this.onSessionEventRequest(t,s);case\"wc_sessionAuthenticate\":return await this.onSessionAuthenticateRequest({topic:t,payload:s,attestation:i,encryptedId:o,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),c(this,\"onRelayEventResponse\",async e=>{const{topic:t,payload:s,transportType:i}=e,r=(await this.client.core.history.get(t,s.id)).request.method;switch(r){case\"wc_sessionPropose\":return this.onSessionProposeResponse(t,s,i);case\"wc_sessionSettle\":return this.onSessionSettleResponse(t,s);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(t,s);case\"wc_sessionExtend\":return this.onSessionExtendResponse(t,s);case\"wc_sessionPing\":return this.onSessionPingResponse(t,s);case\"wc_sessionRequest\":return this.onSessionRequestResponse(t,s);case\"wc_sessionAuthenticate\":return this.onSessionAuthenticateResponse(t,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}}),c(this,\"onRelayEventUnknownPayload\",e=>{const{topic:t}=e,{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),c(this,\"shouldIgnorePairingRequest\",e=>{const{topic:t,requestMethod:s}=e,i=this.expectedPairingMethodMap.get(t);return!i||i.includes(s)?!1:!!(i.includes(\"wc_sessionAuthenticate\")&&this.client.events.listenerCount(\"session_authenticate\")>0)}),c(this,\"onSessionProposeRequest\",async e=>{const{topic:t,payload:s,attestation:i,encryptedId:r}=e,{params:o,id:a}=s;try{const l=this.client.core.eventClient.getEvent({topic:t});this.client.events.listenerCount(\"session_proposal\")===0&&(console.warn(\"No listener for session_proposal event\"),l?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_ERRORS.proposal_listener_not_found)),this.isValidConnect(v({},s.params));const p=o.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(N.wc_sessionPropose.req.ttl),h=v({id:a,pairingTopic:t,expiryTimestamp:p},o);await this.setProposal(a,h);const u=await this.getVerifyContext({attestationId:i,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(s)),encryptedId:r,metadata:h.proposer.metadata});l?.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_TRACES.emit_session_proposal),this.client.events.emit(\"session_proposal\",{id:a,params:h,verifyContext:u})}catch(l){await this.sendError({id:a,topic:t,error:l,rpcOpts:N.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),c(this,\"onSessionProposeResponse\",async(e,t,s)=>{const{id:i}=t;if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)){const{result:r}=t;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:r});const o=this.client.proposal.get(i);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:a});const l=r.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:l});const p=await this.client.core.crypto.generateSharedKey(a,l);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:e,proposalId:i,publicKey:a});const h=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:h}),await this.client.core.pairing.activate({topic:e})}else if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)){await this.client.proposal.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"));const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",i);if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit(r,{error:t.error})}}),c(this,\"onSessionSettleRequest\",async(e,t)=>{const{id:s,params:i}=t;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:o,expiry:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=t.params,d=[...this.pendingSessions.values()].find(f=>f.sessionTopic===e);if(!d)return this.client.logger.error(`Pending session not found for topic ${e}`);const w=this.client.proposal.get(d.proposalId),m=b(v(v(v({topic:e,relay:r,expiry:a,namespaces:l,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:o.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit(\"session_connect\",{session:m}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",d.proposalId),{session:m}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionSettleResponse\",async(e,t)=>{const{id:s}=t;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&(await this.client.session.delete(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{error:t.error}))}),c(this,\"onSessionUpdateRequest\",async(e,t)=>{const{params:s,id:i}=t;try{const r=`${e}_session_update`,o=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:e,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"INVALID_UPDATE_REQUEST\")});return}this.isValidUpdate(v({topic:e},s));try{_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,i),await this.client.session.update(e,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:e,result:!0,throwOnFailedPublish:!0})}catch(a){throw _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.delete(r),a}this.client.events.emit(\"session_update\",{id:i,topic:e,params:s})}catch(r){await this.sendError({id:i,topic:e,error:r}),this.client.logger.error(r)}}),c(this,\"isRequestOutOfSync\",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),c(this,\"onSessionUpdateResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{error:t.error})}),c(this,\"onSessionExtendRequest\",async(e,t)=>{const{id:s}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(J)),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_extend\",{id:s,topic:e})}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionExtendResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{error:t.error})}),c(this,\"onSessionPingRequest\",async(e,t)=>{const{id:s}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_ping\",{id:s,topic:e})}catch(i){await this.sendError({id:s,topic:e,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionPingResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{error:t.error})},500)}),c(this,\"onSessionDeleteRequest\",async(e,t)=>{const{id:s}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.publish,async()=>{i(await this.deleteSession({topic:e,id:s}))})}),this.sendResult({id:s,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),c(this,\"onSessionRequest\",async e=>{var t,s,i;const{topic:r,payload:o,attestation:a,encryptedId:l,transportType:p}=e,{id:h,params:u}=o;try{await this.isValidRequest(v({topic:r},u));const d=this.client.session.get(r),w=await this.getVerifyContext({attestationId:a,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionRequest\",u,h))),encryptedId:l,metadata:d.peer.metadata,transportType:p}),m={id:h,topic:r,params:u,verifyContext:w};await this.setPendingSessionRequest(m),p===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(t=d.peer.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp((s=d.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(d){await this.sendError({id:h,topic:r,error:d}),this.client.logger.error(d)}}),c(this,\"onSessionRequestResponse\",(e,t)=>{const{id:s}=t,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:t.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:t.error})}),c(this,\"onSessionEventRequest\",async(e,t)=>{const{id:s,params:i}=t;try{const r=`${e}_session_event_${i.event.name}`,o=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(v({topic:e},i)),this.client.events.emit(\"session_event\",{id:s,topic:e,params:i}),_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,s)}catch(r){await this.sendError({id:s,topic:e,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionAuthenticateResponse\",(e,t)=>{const{id:s}=t;this.client.logger.trace({type:\"method\",method:\"onSessionAuthenticateResponse\",topic:e,payload:t}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(t)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:t.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(t)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:t.error})}),c(this,\"onSessionAuthenticateRequest\",async e=>{var t;const{topic:s,payload:i,attestation:r,encryptedId:o,transportType:a}=e;try{const{requester:l,authPayload:p,expiryTimestamp:h}=i.params,u=await this.getVerifyContext({attestationId:r,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),encryptedId:o,metadata:l.metadata,transportType:a}),d={requester:l,pairingTopic:s,id:i.id,authPayload:p,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(i.id,{request:d,pairingTopic:s,transportType:a}),a===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(t=l.metadata.redirect)!=null&&t.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit(\"session_authenticate\",{topic:s,params:i.params,id:i.id,verifyContext:u})}catch(l){this.client.logger.error(l);const p=i.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(i.params.requester.metadata,a),d={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:p,senderPublicKey:h};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:d,rpcOpts:N.wc_sessionAuthenticate.autoReject,appLink:u})}}),c(this,\"addSessionRequestToSessionRequestQueue\",e=>{this.sessionRequestQueue.queue.push(e)}),c(this,\"cleanupAfterResponse\",e=>{this.deletePendingSessionRequest(e.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=$.idle,this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(this.requestQueueDelay))}),c(this,\"cleanupPendingSentRequestsForTopic\",({topic:e,error:t})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===e&&i.request.method===\"wc_sessionRequest\").forEach(i=>{const r=i.request.id,o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",r);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",i.request.id),{error:t})})}),c(this,\"processSessionRequestQueue\",()=>{if(this.sessionRequestQueue.state===$.active){this.client.logger.info(\"session request queue is already active.\");return}const e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info(\"session request queue is empty.\");return}try{this.sessionRequestQueue.state=$.active,this.emitSessionRequest(e)}catch(t){this.client.logger.error(t)}}),c(this,\"emitSessionRequest\",e=>{this.client.events.emit(\"session_request\",e)}),c(this,\"onPairingCreated\",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(s=>s.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",b(v({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id)})}),c(this,\"isValidConnect\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(e)}`);throw new Error(l)}const{pairingTopic:t,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,scopedProperties:o,relays:a}=e;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(t)||await this.isValidPairingTopic(t),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelays)(a,!0)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() relays: ${a}`);throw new Error(l)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(s)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s)!==0&&this.validateNamespaces(s,\"requiredNamespaces\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(i)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i)!==0&&this.validateNamespaces(i,\"optionalNamespaces\"),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(o)){this.validateSessionProps(o,\"scopedProperties\");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(o).every(p=>l.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),c(this,\"validateNamespaces\",(e,t)=>{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequiredNamespaces)(e,\"connect()\",t);if(s)throw new Error(s.message)}),c(this,\"isValidApprove\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e))throw new Error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() params: ${e}`).message);const{id:t,namespaces:s,relayProtocol:i,sessionProperties:r,scopedProperties:o}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const a=this.client.proposal.get(t),l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"approve()\");if(l)throw new Error(l.message);const p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(a.requiredNamespaces,s,\"approve()\");if(p)throw new Error(p.message);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!0)){const{message:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${i}`);throw new Error(h)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(o)){this.validateSessionProps(o,\"scopedProperties\");const h=new Set(Object.keys(s));if(!Object.keys(o).every(u=>h.has(u)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(h).join(\", \")}`)}}),c(this,\"isValidReject\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() params: ${e}`);throw new Error(i)}const{id:t,reason:s}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidErrorReason)(s)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),c(this,\"isValidSessionSettleRequest\",e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${e}`);throw new Error(l)}const{relay:t,controller:s,namespaces:i,expiry:r}=e;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelay)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(l)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidController)(s,\"onSessionSettleRequest()\");if(o)throw new Error(o.message);const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(r)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(l)}}),c(this,\"isValidUpdate\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`update() params: ${e}`);throw new Error(a)}const{topic:t,namespaces:s}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const i=this.client.session.get(t),r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"update()\");if(r)throw new Error(r.message);const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(i.requiredNamespaces,s,\"update()\");if(o)throw new Error(o.message)}),c(this,\"isValidExtend\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`extend() params: ${e}`);throw new Error(s)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),c(this,\"isValidRequest\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() params: ${e}`);throw new Error(a)}const{topic:t,request:s,chainId:i,expiry:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:o}=this.client.session.get(t);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(o,i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() chainId: ${i}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequest)(s)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesRequest)(o,i,s.method)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() method: ${s.method}`);throw new Error(a)}if(r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequestExpiry)(r,_e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${_e.min} and ${_e.max}`);throw new Error(a)}}),c(this,\"isValidRespond\",async e=>{var t;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() params: ${e}`);throw new Error(r)}const{topic:s,response:i}=e;try{await this.isValidSessionTopic(s)}catch(r){throw(t=e?.response)!=null&&t.id&&this.cleanupAfterResponse(e),r}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidResponse)(i)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(i)}`);throw new Error(r)}}),c(this,\"isValidPing\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),c(this,\"isValidEmit\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() params: ${e}`);throw new Error(o)}const{topic:t,event:s,chainId:i}=e;await this.isValidSessionTopic(t);const{namespaces:r}=this.client.session.get(t);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(r,i)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() chainId: ${i}`);throw new Error(o)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidEvent)(s)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesEvent)(r,i,s.name)){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(o)}}),c(this,\"isValidDisconnect\",async e=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${e}`);throw new Error(s)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),c(this,\"isValidAuthenticate\",e=>{const{chains:t,uri:s,domain:i,nonce:r}=e;if(!Array.isArray(t)||t.length===0)throw new Error(\"chains is required and must be a non-empty array\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(s,!1))throw new Error(\"uri is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!1))throw new Error(\"domain is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1))throw new Error(\"nonce is required parameter\");if([...new Set(t.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(a).namespace))].length>1)throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");const{namespace:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(t[0]);if(o!==\"eip155\")throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\")}),c(this,\"getVerifyContext\",async e=>{const{attestationId:t,hash:s,encryptedId:i,metadata:r,transportType:o}=e,a={verified:{verifyUrl:r.verifyUrl||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.VERIFY_SERVER,validation:\"UNKNOWN\",origin:r.url||\"\"}};try{if(o===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode){const p=this.getAppLinkIfEnabled(r,o);return a.verified.validation=p&&new URL(p).origin===new URL(r.url).origin?\"VALID\":\"INVALID\",a}const l=await this.client.core.verify.resolve({attestationId:t,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});l&&(a.verified.origin=l.origin,a.verified.isScam=l.isScam,a.verified.validation=l.origin===new URL(r.url).origin?\"VALID\":\"INVALID\")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),c(this,\"validateSessionProps\",(e,t)=>{Object.values(e).forEach((s,i)=>{if(s==null){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`${t} must contain an existing value for each key. Received: ${s} for key ${Object.keys(e)[i]}`);throw new Error(r)}})}),c(this,\"getPendingAuthRequest\",e=>{const t=this.client.auth.requests.get(e);return typeof t==\"object\"?t:void 0}),c(this,\"addToRecentlyDeleted\",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r)}}}),c(this,\"checkRecentlyDeleted\",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${t}: ${e}`);throw new Error(s)}}),c(this,\"isLinkModeEnabled\",(e,t)=>{var s,i,r,o,a,l,p,h,u;return!e||t!==_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((o=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:o.universal)!==void 0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==\"\"&&((p=e?.redirect)==null?void 0:p.universal)!==void 0&&((h=e?.redirect)==null?void 0:h.universal)!==\"\"&&((u=e?.redirect)==null?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(global==null?void 0:global.Linking)<\"u\"}),c(this,\"getAppLinkIfEnabled\",(e,t)=>{var s;return this.isLinkModeEnabled(e,t)?(s=e?.redirect)==null?void 0:s.universal:void 0}),c(this,\"handleLinkModeMessage\",({url:e})=>{if(!e||!e.includes(\"wc_ev\")||!e.includes(\"topic\"))return;const t=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(e,\"topic\")||\"\",s=decodeURIComponent((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(e,\"wc_ev\")||\"\"),i=this.client.session.keys.includes(t);i&&this.client.session.update(t,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:s,sessionExists:i})}),c(this,\"registerLinkModeListeners\",async()=>{var e;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isTestRun)()||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isReactNative)()&&(e=this.client.metadata.redirect)!=null&&e.linkMode){const t=global==null?void 0:global.Linking;if(typeof t<\"u\"){t.addEventListener(\"url\",this.handleLinkModeMessage,this.client.name);const s=await t.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),c(this,\"shouldSetTVF\",(e,t)=>{if(!t||e!==\"wc_sessionRequest\")return!1;const{request:s}=t;return Object.keys(Ue).includes(s.method)}),c(this,\"getTVFParams\",(e,t,s)=>{var i,r;try{const o=t.request.method,a=this.extractTxHashesFromResult(o,s);return b(v({correlationId:e,rpcMethods:[o],chainId:t.chainId},this.isValidContractData(t.request.params)&&{contractAddresses:[(r=(i=t.request.params)==null?void 0:i[0])==null?void 0:r.to]}),{txHashes:a})}catch(o){this.client.logger.warn(\"Error getting TVF params\",o)}return{}}),c(this,\"isValidContractData\",e=>{var t;if(!e)return!1;try{const s=e?.data||((t=e?.[0])==null?void 0:t.data);if(!s.startsWith(\"0x\"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),c(this,\"extractTxHashesFromResult\",(e,t)=>{try{const s=Ue[e];if(typeof t==\"string\")return[t];const i=t[s.key];if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(i))return e===\"solana_signAllTransactions\"?i.map(r=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.extractSolanaTransactionId)(r)):i;if(typeof i==\"string\")return[i]}catch(s){this.client.logger.warn(\"Error extracting tx hashes from result\",s)}return[]})}async processPendingMessageEvents(){try{const n=this.client.session.keys,e=this.client.core.relayer.messages.getWithoutAck(n);for(const[t,s]of Object.entries(e))for(const i of s)try{await this.onProviderMessageEvent({topic:t,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${t}, message: ${i}`)}}catch(n){this.client.logger.warn(\"processPendingMessageEvents failed\",n)}}isInitialized(){if(!this.initialized){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(n)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.message,n=>{this.onProviderMessageEvent(n)})}async onRelayMessage(n){const{topic:e,message:t,attestation:s,transportType:i}=n,{publicKey:r}=this.client.auth.authKeys.keys.includes(ce)?this.client.auth.authKeys.get(ce):{responseTopic:void 0,publicKey:void 0};try{const o=await this.client.core.crypto.decode(e,t,{receiverPublicKey:r,encoding:i===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcRequest)(o)?(this.client.core.history.set(e,o),await this.onRelayEventRequest({topic:e,payload:o,attestation:s,transportType:i,encryptedId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(t)})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResponse)(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:e,payload:o,transportType:i}),this.client.core.history.delete(e,o.id)):await this.onRelayEventUnknownPayload({topic:e,payload:o,transportType:i}),await this.client.core.relayer.messages.ack(e,t)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EXPIRER_EVENTS.expired,async n=>{const{topic:e,id:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseExpirerTarget)(n.target);if(t&&this.client.pendingRequest.keys.includes(t))return await this.deletePendingSessionRequest(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);if(t&&this.client.auth.requests.keys.includes(t))return await this.deletePendingAuthRequest(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:e})):t&&(await this.deleteProposal(t,!0),this.client.events.emit(\"proposal_expire\",{id:t}))})}registerPairingEvents(){this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.create,n=>this.onPairingCreated(n)),this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.delete,n=>{this.addToRecentlyDeleted(n.topic,\"pairing\")})}isValidPairingTopic(n){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(n,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${n}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${n}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.core.pairing.pairings.get(n).expiry)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`pairing topic: ${n}`);throw new Error(e)}}async isValidSessionTopic(n){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(n,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic should be a string: ${n}`);throw new Error(e)}if(this.checkRecentlyDeleted(n),!this.client.session.keys.includes(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${n}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.session.get(n).expiry)){await this.deleteSession({topic:n});const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`session topic: ${n}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${n}`);throw await this.deleteSession({topic:n}),new Error(e)}}async isValidSessionOrPairingTopic(n){if(this.checkRecentlyDeleted(n),this.client.session.keys.includes(n))await this.isValidSessionTopic(n);else if(this.client.core.pairing.pairings.keys.includes(n))this.isValidPairingTopic(n);else if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(n,!1)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${n}`);throw new Error(e)}else{const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${n}`);throw new Error(e)}}async isValidProposalId(n){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidId)(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`proposal id should be a number: ${n}`);throw new Error(e)}if(!this.client.proposal.keys.includes(n)){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${n}`);throw new Error(e)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.proposal.get(n).expiryTimestamp)){await this.deleteProposal(n);const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`proposal id: ${n}`);throw new Error(e)}}}class Ns extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,pt,we),this.core=n,this.logger=e}}class St extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,ht,we),this.core=n,this.logger=e}}class Os extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,ut,we,t=>t.id),this.core=n,this.logger=e}}class bs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,mt,ae,()=>ce),this.core=n,this.logger=e}}class As extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,_t,ae),this.core=n,this.logger=e}}class xs extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(n,e){super(n,e,Et,ae,t=>t.id),this.core=n,this.logger=e}}var Cs=Object.defineProperty,Vs=(S,n,e)=>n in S?Cs(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,Ge=(S,n,e)=>Vs(S,typeof n!=\"symbol\"?n+\"\":n,e);class Ds{constructor(n,e){this.core=n,this.logger=e,Ge(this,\"authKeys\"),Ge(this,\"pairingTopics\"),Ge(this,\"requests\"),this.authKeys=new bs(this.core,this.logger),this.pairingTopics=new As(this.core,this.logger),this.requests=new xs(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Ls=Object.defineProperty,ks=(S,n,e)=>n in S?Ls(S,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[n]=e,E=(S,n,e)=>ks(S,typeof n!=\"symbol\"?n+\"\":n,e);class Ee extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.ISignClient{constructor(n){super(n),E(this,\"protocol\",De),E(this,\"version\",Le),E(this,\"name\",me.name),E(this,\"metadata\"),E(this,\"core\"),E(this,\"logger\"),E(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter),E(this,\"engine\"),E(this,\"session\"),E(this,\"proposal\"),E(this,\"pendingRequest\"),E(this,\"auth\"),E(this,\"signConfig\"),E(this,\"on\",(t,s)=>this.events.on(t,s)),E(this,\"once\",(t,s)=>this.events.once(t,s)),E(this,\"off\",(t,s)=>this.events.off(t,s)),E(this,\"removeListener\",(t,s)=>this.events.removeListener(t,s)),E(this,\"removeAllListeners\",t=>this.events.removeAllListeners(t)),E(this,\"connect\",async t=>{try{return await this.engine.connect(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"pair\",async t=>{try{return await this.engine.pair(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"approve\",async t=>{try{return await this.engine.approve(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"reject\",async t=>{try{return await this.engine.reject(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"update\",async t=>{try{return await this.engine.update(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"extend\",async t=>{try{return await this.engine.extend(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"request\",async t=>{try{return await this.engine.request(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"respond\",async t=>{try{return await this.engine.respond(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"ping\",async t=>{try{return await this.engine.ping(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"emit\",async t=>{try{return await this.engine.emit(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"disconnect\",async t=>{try{return await this.engine.disconnect(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"find\",t=>{try{return this.engine.find(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"getPendingSessionRequests\",()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}}),E(this,\"authenticate\",async(t,s)=>{try{return await this.engine.authenticate(t,s)}catch(i){throw this.logger.error(i.message),i}}),E(this,\"formatAuthMessage\",t=>{try{return this.engine.formatAuthMessage(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"approveSessionAuthenticate\",async t=>{try{return await this.engine.approveSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),E(this,\"rejectSessionAuthenticate\",async t=>{try{return await this.engine.rejectSessionAuthenticate(t)}catch(s){throw this.logger.error(s.message),s}}),this.name=n?.name||me.name,this.metadata=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.populateAppMetadata)(n?.metadata),this.signConfig=n?.signConfig;const e=typeof n?.logger<\"u\"&&typeof n?.logger!=\"string\"?n.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:n?.logger||me.logger}));this.core=n?.core||new _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Core(n),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.generateChildLogger)(e,this.name),this.session=new St(this.core,this.logger),this.proposal=new Ns(this.core,this.logger),this.pendingRequest=new Os(this.core,this.logger),this.engine=new Ps(this),this.auth=new Ds(this.core,this.logger)}static async init(n){const e=new Ee(n);return await e.initialize(),e}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info(\"SignClient Initialization Success\"),setTimeout(()=>{this.engine.processRelayMessageCache()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND))}catch(n){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(n.message),n}}}const Ms=St,$s=Ee;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXF0RSxxQ0FBcUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLE9BQU8sOEVBQThFLEtBQUssNGNBQTRjLEtBQUssb0JBQW9CLHdDQUF3QyxrR0FBa0csd0NBQXdDLDREQUFFLHNDQUFzQywyREFBRSxnQkFBZ0IsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLG9CQUFvQixTQUFTLElBQUksNkRBQUMsb0JBQW9CLGFBQWEsSUFBSSw2REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLHdEQUFDLG9CQUFvQixNQUFNLElBQUksd0RBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsb0JBQW9CLEtBQUssSUFBSSw2REFBQyxvQkFBb0IsTUFBTSxJQUFJLDZEQUFDLHFCQUFxQixrQkFBa0IsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsaUJBQWlCLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQix5QkFBeUIsS0FBSyxJQUFJLHlEQUFFLG9CQUFvQixNQUFNLElBQUkseURBQUUsb0JBQW9CLFNBQVMsSUFBSSw2REFBQyxvQkFBb0IsYUFBYSxJQUFJLDZEQUFDLHNCQUFzQixLQUFLLElBQUksNkRBQUMsS0FBSywyREFBRSxDQUFDLElBQUksNEJBQTRCLEtBQUsscUJBQXFCLE9BQU8seUJB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QUFTLHNDQUFzQywwQ0FBMEMsSUFBSSwrQ0FBK0MsU0FBUyxzQ0FBc0MscUNBQXFDLElBQUksMkNBQTJDLFNBQVMsc0NBQXNDLGlDQUFpQyxJQUFJLHdDQUF3QyxTQUFTLHNDQUFzQyxnREFBZ0QsSUFBSSx1REFBdUQsU0FBUyxzQ0FBc0MsK0NBQStDLElBQUksc0RBQXNELFNBQVMsc0NBQXNDLDJDQUEyQyx5RUFBRSw0Q0FBNEMsa0VBQWtFLDJEQUFFLENBQUMsOEVBQUUsRUFBRSwyQkFBMkIsR0FBRyx1QkFBdUIscURBQUUsZ0JBQWdCLDBFQUFFLHdOQUF3TixxQkFBcUIsa0JBQWtCLDhCQUE4QixjQUFjLE9BQU8sdUVBQUUsY0FBYyxjQUFjLGtDQUFrQyxtQkFBbUIsaUNBQWlDLElBQUksb09BQW9PLHVDQUF1QyxDQUFDLGtFQUFFLENBQUMsMkRBQUUsR0FBRyxTQUFTLDZGQUE2RixrQkFBaTJCO0FBQ3Q0OUQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3NpZ24tY2xpZW50L2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e1JFTEFZRVJfRVZFTlRTIGFzIFhlLFRSQU5TUE9SVF9UWVBFUyBhcyBQLEVYUElSRVJfRVZFTlRTIGFzIFR0LFBBSVJJTkdfRVZFTlRTIGFzIEplLFJFTEFZRVJfREVGQVVMVF9QUk9UT0NPTCBhcyBxdCxFVkVOVF9DTElFTlRfU0VTU0lPTl9UUkFDRVMgYXMgayxFVkVOVF9DTElFTlRfU0VTU0lPTl9FUlJPUlMgYXMgSCxFVkVOVF9DTElFTlRfQVVUSEVOVElDQVRFX1RSQUNFUyBhcyB6LEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfRVJST1JTIGFzIHJlLEVWRU5UX0NMSUVOVF9QQUlSSU5HX0VSUk9SUyBhcyBQdCxFVkVOVF9DTElFTlRfUEFJUklOR19UUkFDRVMgYXMgTnQsVkVSSUZZX1NFUlZFUiBhcyBPdCxTdG9yZSBhcyBCLENvcmUgYXMgYnR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvY29yZVwiO2ltcG9ydHtwaW5vIGFzIEF0LGdldERlZmF1bHRMb2dnZXJPcHRpb25zIGFzIHh0LGdlbmVyYXRlQ2hpbGRMb2dnZXIgYXMgQ3QsZ2V0TG9nZ2VyQ29udGV4dCBhcyBWdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9sb2dnZXJcIjtpbXBvcnR7SUVuZ2luZSBhcyBEdCxJU2lnbkNsaWVudCBhcyBMdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC90eXBlc1wiO2ltcG9ydHtUSElSVFlfREFZUyBhcyBrdCxTRVZFTl9EQVlTIGFzIEJlLEZJVkVfTUlOVVRFUyBhcyBDLE9ORV9EQVkgYXMgSyxPTkVfSE9VUiBhcyBXZSxPTkVfU0VDT05EIGFzIFplLHRvTWlsaXNlY29uZHMgYXMgT2V9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdGltZVwiO2ltcG9ydHtnZXRJbnRlcm5hbEVycm9yIGFzIHksQkFTRTY0VVJMIGFzIG5lLEJBU0U2NCBhcyBkZSxoYXNoTWVzc2FnZSBhcyBXLHBhcnNlRXhwaXJlclRhcmdldCBhcyBNdCxpc1ZhbGlkU3RyaW5nIGFzIFksaXNFeHBpcmVkIGFzIFosaXNWYWxpZElkIGFzICR0LGNhbGNFeHBpcnkgYXMgVixlbmdpbmVFdmVudCBhcyBSLGNyZWF0ZURlbGF5ZWRQcm9taXNlIGFzIGVlLGdldFNka0Vycm9yIGFzIE8sZ2V0RGVlcExpbmsgYXMgVXQsaGFuZGxlRGVlcGxpbmtSZWRpcmVjdCBhcyBLdCxpc1Nlc3Npb25Db21wYXRpYmxlIGFzIEd0LGhhc2hLZXkgYXMgYmUscGFyc2VDaGFpbklkIGFzIEFlLGNyZWF0ZUVuY29kZWRSZWNhcCBhcyBqdCxnZXRSZWNhcEZyb21SZXNvdXJjZXMgYXMgeGUsbWVyZ2VFbmNvZGVkUmVjYXBzIGFzIEZ0LFRZUEVfMiBhcyBRdCxnZXRMaW5rTW9kZVVSTCBhcyB1ZSx2YWxpZGF0ZVNpZ25lZENhY2FvIGFzIGV0LGdldE5hbWVzcGFjZWREaWRDaGFpbklkIGFzIHR0LGdldERpZEFkZHJlc3MgYXMgc3QsZ2V0TWV0aG9kc0Zyb21SZWNhcCBhcyBpdCxnZXRDaGFpbnNGcm9tUmVjYXAgYXMgcnQsYnVpbGROYW1lc3BhY2VzRnJvbUF1dGggYXMgbnQsZm9ybWF0TWVzc2FnZSBhcyBIdCxNZW1vcnlTdG9yZSBhcyBvZSxpc1ZhbGlkUGFyYW1zIGFzIE0saXNVbmRlZmluZWQgYXMgWCxpc1ZhbGlkUmVsYXlzIGFzIHp0LGlzVmFsaWRPYmplY3QgYXMgb3QsaXNWYWxpZFJlcXVpcmVkTmFtZXNwYWNlcyBhcyBZdCxpc1ZhbGlkTmFtZXNwYWNlcyBhcyBDZSxpc0NvbmZvcm1pbmdOYW1lc3BhY2VzIGFzIGF0LGlzVmFsaWRFcnJvclJlYXNvbiBhcyBYdCxpc1ZhbGlkUmVsYXkgYXMgSnQsaXNWYWxpZENvbnRyb2xsZXIgYXMgQnQsaXNWYWxpZE5hbWVzcGFjZXNDaGFpbklkIGFzIGN0LGlzVmFsaWRSZXF1ZXN0IGFzIFd0LGlzVmFsaWROYW1lc3BhY2VzUmVxdWVzdCBhcyBadCxpc1ZhbGlkUmVxdWVzdEV4cGlyeSBhcyBlcyxpc1ZhbGlkUmVzcG9uc2UgYXMgdHMsaXNWYWxpZEV2ZW50IGFzIHNzLGlzVmFsaWROYW1lc3BhY2VzRXZlbnQgYXMgaXMsZ2V0U2VhcmNoUGFyYW1Gcm9tVVJMIGFzIGx0LGlzVGVzdFJ1biBhcyBycyxpc1JlYWN0TmF0aXZlIGFzIG5zLGlzVmFsaWRBcnJheSBhcyBvcyxleHRyYWN0U29sYW5hVHJhbnNhY3Rpb25JZCBhcyBhcyxUWVBFXzEgYXMgVmUscG9wdWxhdGVBcHBNZXRhZGF0YSBhcyBjc31mcm9tXCJAd2FsbGV0Y29ubmVjdC91dGlsc1wiO2ltcG9ydCBscyx7RXZlbnRFbWl0dGVyIGFzIHBzfWZyb21cImV2ZW50c1wiO2ltcG9ydHtpc0pzb25ScGNSZXF1ZXN0IGFzIGhzLGlzSnNvblJwY1Jlc3BvbnNlIGFzIGRzLHBheWxvYWRJZCBhcyBHLGdldEJpZ0ludFJwY0lkIGFzIGdlLGlzSnNvblJwY1Jlc3VsdCBhcyBqLGlzSnNvblJwY0Vycm9yIGFzIEYsZm9ybWF0SnNvblJwY1JlcXVlc3QgYXMgeWUsZm9ybWF0SnNvblJwY1Jlc3VsdCBhcyB1cyxmb3JtYXRKc29uUnBjRXJyb3IgYXMgZ3N9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO2NvbnN0IERlPVwid2NcIixMZT0yLGtlPVwiY2xpZW50XCIsd2U9YCR7RGV9QCR7TGV9OiR7a2V9OmAsbWU9e25hbWU6a2UsbG9nZ2VyOlwiZXJyb3JcIixjb250cm9sbGVyOiExLHJlbGF5VXJsOlwid3NzOi8vcmVsYXkud2FsbGV0Y29ubmVjdC5vcmdcIn0seXM9e3Nlc3Npb25fcHJvcG9zYWw6XCJzZXNzaW9uX3Byb3Bvc2FsXCIsc2Vzc2lvbl91cGRhdGU6XCJzZXNzaW9uX3VwZGF0ZVwiLHNlc3Npb25fZXh0ZW5kOlwic2Vzc2lvbl9leHRlbmRcIixzZXNzaW9uX3Bpbmc6XCJzZXNzaW9uX3BpbmdcIixzZXNzaW9uX2RlbGV0ZTpcInNlc3Npb25fZGVsZXRlXCIsc2Vzc2lvbl9leHBpcmU6XCJzZXNzaW9uX2V4cGlyZVwiLHNlc3Npb25fcmVxdWVzdDpcInNlc3Npb25fcmVxdWVzdFwiLHNlc3Npb25fcmVxdWVzdF9zZW50Olwic2Vzc2lvbl9yZXF1ZXN0X3NlbnRcIixzZXNzaW9uX2V2ZW50Olwic2Vzc2lvbl9ldmVudFwiLHByb3Bvc2FsX2V4cGlyZTpcInByb3Bvc2FsX2V4cGlyZVwiLHNlc3Npb25fYXV0aGVudGljYXRlOlwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIixzZXNzaW9uX3JlcXVlc3RfZXhwaXJlOlwic2Vzc2lvbl9yZXF1ZXN0X2V4cGlyZVwiLHNlc3Npb25fY29ubmVjdDpcInNlc3Npb25fY29ubmVjdFwifSx3cz17ZGF0YWJhc2U6XCI6bWVtb3J5OlwifSxNZT1cIldBTExFVENPTk5FQ1RfREVFUExJTktfQ0hPSUNFXCIsbXM9e2NyZWF0ZWQ6XCJoaXN0b3J5X2NyZWF0ZWRcIix1cGRhdGVkOlwiaGlzdG9yeV91cGRhdGVkXCIsZGVsZXRlZDpcImhpc3RvcnlfZGVsZXRlZFwiLHN5bmM6XCJoaXN0b3J5X3N5bmNcIn0sX3M9XCJoaXN0b3J5XCIsRXM9XCIwLjNcIixwdD1cInByb3Bvc2FsXCIsZnM9a3QsJGU9XCJQcm9wb3NhbCBleHBpcmVkXCIsaHQ9XCJzZXNzaW9uXCIsSj1CZSxkdD1cImVuZ2luZVwiLE49e3djX3Nlc3Npb25Qcm9wb3NlOntyZXE6e3R0bDpDLHByb21wdDohMCx0YWc6MTEwMH0scmVzOnt0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMDF9LHJlamVjdDp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTIwfSxhdXRvUmVqZWN0Ont0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMjF9fSx3Y19zZXNzaW9uU2V0dGxlOntyZXE6e3R0bDpDLHByb21wdDohMSx0YWc6MTEwMn0scmVzOnt0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMDN9fSx3Y19zZXNzaW9uVXBkYXRlOntyZXE6e3R0bDpLLHByb21wdDohMSx0YWc6MTEwNH0scmVzOnt0dGw6Syxwcm9tcHQ6ITEsdGFnOjExMDV9fSx3Y19zZXNzaW9uRXh0ZW5kOntyZXE6e3R0bDpLLHByb21wdDohMSx0YWc6MTEwNn0scmVzOnt0dGw6Syxwcm9tcHQ6ITEsdGFnOjExMDd9fSx3Y19zZXNzaW9uUmVxdWVzdDp7cmVxOnt0dGw6Qyxwcm9tcHQ6ITAsdGFnOjExMDh9LHJlczp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTA5fX0sd2Nfc2Vzc2lvbkV2ZW50OntyZXE6e3R0bDpDLHByb21wdDohMCx0YWc6MTExMH0scmVzOnt0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMTF9fSx3Y19zZXNzaW9uRGVsZXRlOntyZXE6e3R0bDpLLHByb21wdDohMSx0YWc6MTExMn0scmVzOnt0dGw6Syxwcm9tcHQ6ITEsdGFnOjExMTN9fSx3Y19zZXNzaW9uUGluZzp7cmVxOnt0dGw6Syxwcm9tcHQ6ITEsdGFnOjExMTR9LHJlczp7dHRsOksscHJvbXB0OiExLHRhZzoxMTE1fX0sd2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZTp7cmVxOnt0dGw6V2UscHJvbXB0OiEwLHRhZzoxMTE2fSxyZXM6e3R0bDpXZSxwcm9tcHQ6ITEsdGFnOjExMTd9LHJlamVjdDp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTE4fSxhdXRvUmVqZWN0Ont0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMTl9fX0sX2U9e21pbjpDLG1heDpCZX0sJD17aWRsZTpcIklETEVcIixhY3RpdmU6XCJBQ1RJVkVcIn0sVWU9e2V0aF9zZW5kVHJhbnNhY3Rpb246e2tleTpcIlwifSxldGhfc2VuZFJhd1RyYW5zYWN0aW9uOntrZXk6XCJcIn0sd2FsbGV0X3NlbmRDYWxsczp7a2V5OlwiXCJ9LHNvbGFuYV9zaWduVHJhbnNhY3Rpb246e2tleTpcInNpZ25hdHVyZVwifSxzb2xhbmFfc2lnbkFsbFRyYW5zYWN0aW9uczp7a2V5OlwidHJhbnNhY3Rpb25zXCJ9LHNvbGFuYV9zaWduQW5kU2VuZFRyYW5zYWN0aW9uOntrZXk6XCJzaWduYXR1cmVcIn19LHV0PVwicmVxdWVzdFwiLGd0PVtcIndjX3Nlc3Npb25Qcm9wb3NlXCIsXCJ3Y19zZXNzaW9uUmVxdWVzdFwiLFwid2NfYXV0aFJlcXVlc3RcIixcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIl0seXQ9XCJ3Y1wiLFNzPTEuNSx3dD1cImF1dGhcIixtdD1cImF1dGhLZXlzXCIsX3Q9XCJwYWlyaW5nVG9waWNzXCIsRXQ9XCJyZXF1ZXN0c1wiLGFlPWAke3l0fUAkezEuNX06JHt3dH06YCxjZT1gJHthZX06UFVCX0tFWWA7dmFyIFJzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx2cz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxJcz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxmdD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFRzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscXM9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxLZT0oUyxuLGUpPT5uIGluIFM/UnMoUyxuLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTplfSk6U1tuXT1lLHY9KFMsbik9Pntmb3IodmFyIGUgaW4gbnx8KG49e30pKVRzLmNhbGwobixlKSYmS2UoUyxlLG5bZV0pO2lmKGZ0KWZvcih2YXIgZSBvZiBmdChuKSlxcy5jYWxsKG4sZSkmJktlKFMsZSxuW2VdKTtyZXR1cm4gU30sYj0oUyxuKT0+dnMoUyxJcyhuKSksYz0oUyxuLGUpPT5LZShTLHR5cGVvZiBuIT1cInN5bWJvbFwiP24rXCJcIjpuLGUpO2NsYXNzIFBzIGV4dGVuZHMgRHR7Y29uc3RydWN0b3Iobil7c3VwZXIobiksYyh0aGlzLFwibmFtZVwiLGR0KSxjKHRoaXMsXCJldmVudHNcIixuZXcgbHMpLGModGhpcyxcImluaXRpYWxpemVkXCIsITEpLGModGhpcyxcInJlcXVlc3RRdWV1ZVwiLHtzdGF0ZTokLmlkbGUscXVldWU6W119KSxjKHRoaXMsXCJzZXNzaW9uUmVxdWVzdFF1ZXVlXCIse3N0YXRlOiQuaWRsZSxxdWV1ZTpbXX0pLGModGhpcyxcInJlcXVlc3RRdWV1ZURlbGF5XCIsWmUpLGModGhpcyxcImV4cGVjdGVkUGFpcmluZ01ldGhvZE1hcFwiLG5ldyBNYXApLGModGhpcyxcInJlY2VudGx5RGVsZXRlZE1hcFwiLG5ldyBNYXApLGModGhpcyxcInJlY2VudGx5RGVsZXRlZExpbWl0XCIsMjAwKSxjKHRoaXMsXCJyZWxheU1lc3NhZ2VDYWNoZVwiLFtdKSxjKHRoaXMsXCJwZW5kaW5nU2Vzc2lvbnNcIixuZXcgTWFwKSxjKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fChhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLnJlZ2lzdGVyUmVsYXllckV2ZW50cygpLHRoaXMucmVnaXN0ZXJFeHBpcmVyRXZlbnRzKCksdGhpcy5yZWdpc3RlclBhaXJpbmdFdmVudHMoKSxhd2FpdCB0aGlzLnJlZ2lzdGVyTGlua01vZGVMaXN0ZW5lcnMoKSx0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucmVnaXN0ZXIoe21ldGhvZHM6T2JqZWN0LmtleXMoTil9KSx0aGlzLmluaXRpYWxpemVkPSEwLHNldFRpbWVvdXQoYXN5bmMoKT0+e2F3YWl0IHRoaXMucHJvY2Vzc1BlbmRpbmdNZXNzYWdlRXZlbnRzKCksdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlPXRoaXMuZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0cygpLHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKX0sT2UodGhpcy5yZXF1ZXN0UXVldWVEZWxheSkpKX0pLGModGhpcyxcImNvbm5lY3RcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3QgdD1iKHYoe30sZSkse3JlcXVpcmVkTmFtZXNwYWNlczplLnJlcXVpcmVkTmFtZXNwYWNlc3x8e30sb3B0aW9uYWxOYW1lc3BhY2VzOmUub3B0aW9uYWxOYW1lc3BhY2VzfHx7fX0pO2F3YWl0IHRoaXMuaXNWYWxpZENvbm5lY3QodCk7Y29uc3R7cGFpcmluZ1RvcGljOnMscmVxdWlyZWROYW1lc3BhY2VzOmksb3B0aW9uYWxOYW1lc3BhY2VzOnIsc2Vzc2lvblByb3BlcnRpZXM6byxzY29wZWRQcm9wZXJ0aWVzOmEscmVsYXlzOmx9PXQ7bGV0IHA9cyxoLHU9ITE7dHJ5e2lmKHApe2NvbnN0IFQ9dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChwKTt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcImNvbm5lY3QoKSB3aXRoIGV4aXN0aW5nIHBhaXJpbmcgdG9waWMgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXCIpLHU9VC5hY3RpdmV9fWNhdGNoKFQpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgY29ubmVjdCgpIC0+IHBhaXJpbmcuZ2V0KCR7cH0pIGZhaWxlZGApLFR9aWYoIXB8fCF1KXtjb25zdHt0b3BpYzpULHVyaTpVfT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuY3JlYXRlKCk7cD1ULGg9VX1pZighcCl7Y29uc3R7bWVzc2FnZTpUfT15KFwiTk9fTUFUQ0hJTkdfS0VZXCIsYGNvbm5lY3QoKSBwYWlyaW5nIHRvcGljOiAke3B9YCk7dGhyb3cgbmV3IEVycm9yKFQpfWNvbnN0IGQ9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksdz1OLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGx8fEMsbT1WKHcpLGY9Yih2KHYoe3JlcXVpcmVkTmFtZXNwYWNlczppLG9wdGlvbmFsTmFtZXNwYWNlczpyLHJlbGF5czpsPz9be3Byb3RvY29sOnF0fV0scHJvcG9zZXI6e3B1YmxpY0tleTpkLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnlUaW1lc3RhbXA6bSxwYWlyaW5nVG9waWM6cH0sbyYme3Nlc3Npb25Qcm9wZXJ0aWVzOm99KSxhJiZ7c2NvcGVkUHJvcGVydGllczphfSkse2lkOkcoKX0pLF89UihcInNlc3Npb25fY29ubmVjdFwiLGYuaWQpLHtyZWplY3Q6ZyxyZXNvbHZlOkEsZG9uZTpEfT1lZSh3LCRlKSxJPSh7aWQ6VH0pPT57VD09PWYuaWQmJih0aGlzLmNsaWVudC5ldmVudHMub2ZmKFwicHJvcG9zYWxfZXhwaXJlXCIsSSksdGhpcy5wZW5kaW5nU2Vzc2lvbnMuZGVsZXRlKGYuaWQpLHRoaXMuZXZlbnRzLmVtaXQoXyx7ZXJyb3I6e21lc3NhZ2U6JGUsY29kZTowfX0pKX07cmV0dXJuIHRoaXMuY2xpZW50LmV2ZW50cy5vbihcInByb3Bvc2FsX2V4cGlyZVwiLEkpLHRoaXMuZXZlbnRzLm9uY2UoXywoe2Vycm9yOlQsc2Vzc2lvbjpVfSk9Pnt0aGlzLmNsaWVudC5ldmVudHMub2ZmKFwicHJvcG9zYWxfZXhwaXJlXCIsSSksVD9nKFQpOlUmJkEoVSl9KSxhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzpwLG1ldGhvZDpcIndjX3Nlc3Npb25Qcm9wb3NlXCIscGFyYW1zOmYsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6Zi5pZH0pLGF3YWl0IHRoaXMuc2V0UHJvcG9zYWwoZi5pZCxmKSx7dXJpOmgsYXBwcm92YWw6RH19KSxjKHRoaXMsXCJwYWlyXCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXIoZSl9Y2F0Y2godCl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwicGFpcigpIGZhaWxlZFwiKSx0fX0pLGModGhpcyxcImFwcHJvdmVcIixhc3luYyBlPT57dmFyIHQscyxpO2NvbnN0IHI9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5jcmVhdGVFdmVudCh7cHJvcGVydGllczp7dG9waWM6KHQ9ZT8uaWQpPT1udWxsP3ZvaWQgMDp0LnRvU3RyaW5nKCksdHJhY2U6W2suc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWRdfX0pO3RyeXt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKX1jYXRjaChxKXt0aHJvdyByLnNldEVycm9yKEgubm9faW50ZXJuZXRfY29ubmVjdGlvbikscX10cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUHJvcG9zYWxJZChlPy5pZCl9Y2F0Y2gocSl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBhcHByb3ZlKCkgLT4gcHJvcG9zYWwuZ2V0KCR7ZT8uaWR9KSBmYWlsZWRgKSxyLnNldEVycm9yKEgucHJvcG9zYWxfbm90X2ZvdW5kKSxxfXRyeXthd2FpdCB0aGlzLmlzVmFsaWRBcHByb3ZlKGUpfWNhdGNoKHEpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcImFwcHJvdmUoKSAtPiBpc1ZhbGlkQXBwcm92ZSgpIGZhaWxlZFwiKSxyLnNldEVycm9yKEguc2Vzc2lvbl9hcHByb3ZlX25hbWVzcGFjZV92YWxpZGF0aW9uX2ZhaWx1cmUpLHF9Y29uc3R7aWQ6byxyZWxheVByb3RvY29sOmEsbmFtZXNwYWNlczpsLHNlc3Npb25Qcm9wZXJ0aWVzOnAsc2NvcGVkUHJvcGVydGllczpoLHNlc3Npb25Db25maWc6dX09ZSxkPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChvKTt0aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmRlbGV0ZUV2ZW50KHtldmVudElkOnIuZXZlbnRJZH0pO2NvbnN0e3BhaXJpbmdUb3BpYzp3LHByb3Bvc2VyOm0scmVxdWlyZWROYW1lc3BhY2VzOmYsb3B0aW9uYWxOYW1lc3BhY2VzOl99PWQ7bGV0IGc9KHM9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudCk9PW51bGw/dm9pZCAwOnMuZ2V0RXZlbnQoe3RvcGljOnd9KTtnfHwoZz0oaT10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50KT09bnVsbD92b2lkIDA6aS5jcmVhdGVFdmVudCh7dHlwZTprLnNlc3Npb25fYXBwcm92ZV9zdGFydGVkLHByb3BlcnRpZXM6e3RvcGljOncsdHJhY2U6W2suc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWQsay5zZXNzaW9uX25hbWVzcGFjZXNfdmFsaWRhdGlvbl9zdWNjZXNzXX19KSk7Y29uc3QgQT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSxEPW0ucHVibGljS2V5LEk9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVTaGFyZWRLZXkoQSxEKSxUPXYodih2KHtyZWxheTp7cHJvdG9jb2w6YT8/XCJpcm5cIn0sbmFtZXNwYWNlczpsLGNvbnRyb2xsZXI6e3B1YmxpY0tleTpBLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnk6VihKKX0scCYme3Nlc3Npb25Qcm9wZXJ0aWVzOnB9KSxoJiZ7c2NvcGVkUHJvcGVydGllczpofSksdSYme3Nlc3Npb25Db25maWc6dX0pLFU9UC5yZWxheTtnLmFkZFRyYWNlKGsuc3Vic2NyaWJpbmdfc2Vzc2lvbl90b3BpYyk7dHJ5e2F3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUoSSx7dHJhbnNwb3J0VHlwZTpVfSl9Y2F0Y2gocSl7dGhyb3cgZy5zZXRFcnJvcihILnN1YnNjcmliZV9zZXNzaW9uX3RvcGljX2ZhaWx1cmUpLHF9Zy5hZGRUcmFjZShrLnN1YnNjcmliZV9zZXNzaW9uX3RvcGljX3N1Y2Nlc3MpO2NvbnN0IGZlPWIodih7fSxUKSx7dG9waWM6SSxyZXF1aXJlZE5hbWVzcGFjZXM6ZixvcHRpb25hbE5hbWVzcGFjZXM6XyxwYWlyaW5nVG9waWM6dyxhY2tub3dsZWRnZWQ6ITEsc2VsZjpULmNvbnRyb2xsZXIscGVlcjp7cHVibGljS2V5Om0ucHVibGljS2V5LG1ldGFkYXRhOm0ubWV0YWRhdGF9LGNvbnRyb2xsZXI6QSx0cmFuc3BvcnRUeXBlOlAucmVsYXl9KTthd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldChJLGZlKSxnLmFkZFRyYWNlKGsuc3RvcmVfc2Vzc2lvbik7dHJ5e2cuYWRkVHJhY2Uoay5wdWJsaXNoaW5nX3Nlc3Npb25fc2V0dGxlKSxhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzpJLG1ldGhvZDpcIndjX3Nlc3Npb25TZXR0bGVcIixwYXJhbXM6VCx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLmNhdGNoKHE9Pnt0aHJvdyBnPy5zZXRFcnJvcihILnNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZSkscX0pLGcuYWRkVHJhY2Uoay5zZXNzaW9uX3NldHRsZV9wdWJsaXNoX3N1Y2Nlc3MpLGcuYWRkVHJhY2Uoay5wdWJsaXNoaW5nX3Nlc3Npb25fYXBwcm92ZSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDpvLHRvcGljOncscmVzdWx0OntyZWxheTp7cHJvdG9jb2w6YT8/XCJpcm5cIn0scmVzcG9uZGVyUHVibGljS2V5OkF9LHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSkuY2F0Y2gocT0+e3Rocm93IGc/LnNldEVycm9yKEguc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZSkscX0pLGcuYWRkVHJhY2Uoay5zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzKX1jYXRjaChxKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IocSksdGhpcy5jbGllbnQuc2Vzc2lvbi5kZWxldGUoSSxPKFwiVVNFUl9ESVNDT05ORUNURURcIikpLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci51bnN1YnNjcmliZShJKSxxfXJldHVybiB0aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmRlbGV0ZUV2ZW50KHtldmVudElkOmcuZXZlbnRJZH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6dyxtZXRhZGF0YTptLm1ldGFkYXRhfSksYXdhaXQgdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKG8sTyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuYWN0aXZhdGUoe3RvcGljOnd9KSxhd2FpdCB0aGlzLnNldEV4cGlyeShJLFYoSikpLHt0b3BpYzpJLGFja25vd2xlZGdlZDooKT0+UHJvbWlzZS5yZXNvbHZlKHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KEkpKX19KSxjKHRoaXMsXCJyZWplY3RcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFJlamVjdChlKX1jYXRjaChyKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJyZWplY3QoKSAtPiBpc1ZhbGlkUmVqZWN0KCkgZmFpbGVkXCIpLHJ9Y29uc3R7aWQ6dCxyZWFzb246c309ZTtsZXQgaTt0cnl7aT10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQodCkucGFpcmluZ1RvcGljfWNhdGNoKHIpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgcmVqZWN0KCkgLT4gcHJvcG9zYWwuZ2V0KCR7dH0pIGZhaWxlZGApLHJ9aSYmKGF3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDp0LHRvcGljOmksZXJyb3I6cyxycGNPcHRzOk4ud2Nfc2Vzc2lvblByb3Bvc2UucmVqZWN0fSksYXdhaXQgdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKHQsTyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSl9KSxjKHRoaXMsXCJ1cGRhdGVcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFVwZGF0ZShlKX1jYXRjaChoKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJ1cGRhdGUoKSAtPiBpc1ZhbGlkVXBkYXRlKCkgZmFpbGVkXCIpLGh9Y29uc3R7dG9waWM6dCxuYW1lc3BhY2VzOnN9PWUse2RvbmU6aSxyZXNvbHZlOnIscmVqZWN0Om99PWVlKCksYT1HKCksbD1nZSgpLnRvU3RyaW5nKCkscD10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0KS5uYW1lc3BhY2VzO3JldHVybiB0aGlzLmV2ZW50cy5vbmNlKFIoXCJzZXNzaW9uX3VwZGF0ZVwiLGEpLCh7ZXJyb3I6aH0pPT57aD9vKGgpOnIoKX0pLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKHQse25hbWVzcGFjZXM6c30pLGF3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOnQsbWV0aG9kOlwid2Nfc2Vzc2lvblVwZGF0ZVwiLHBhcmFtczp7bmFtZXNwYWNlczpzfSx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDphLHJlbGF5UnBjSWQ6bH0pLmNhdGNoKGg9Pnt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaCksdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodCx7bmFtZXNwYWNlczpwfSksbyhoKX0pLHthY2tub3dsZWRnZWQ6aX19KSxjKHRoaXMsXCJleHRlbmRcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZEV4dGVuZChlKX1jYXRjaChhKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJleHRlbmQoKSAtPiBpc1ZhbGlkRXh0ZW5kKCkgZmFpbGVkXCIpLGF9Y29uc3R7dG9waWM6dH09ZSxzPUcoKSx7ZG9uZTppLHJlc29sdmU6cixyZWplY3Q6b309ZWUoKTtyZXR1cm4gdGhpcy5ldmVudHMub25jZShSKFwic2Vzc2lvbl9leHRlbmRcIixzKSwoe2Vycm9yOmF9KT0+e2E/byhhKTpyKCl9KSxhd2FpdCB0aGlzLnNldEV4cGlyeSh0LFYoSikpLHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOnQsbWV0aG9kOlwid2Nfc2Vzc2lvbkV4dGVuZFwiLHBhcmFtczp7fSxjbGllbnRScGNJZDpzLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSkuY2F0Y2goYT0+e28oYSl9KSx7YWNrbm93bGVkZ2VkOml9fSksYyh0aGlzLFwicmVxdWVzdFwiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUmVxdWVzdChlKX1jYXRjaChfKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJyZXF1ZXN0KCkgLT4gaXNWYWxpZFJlcXVlc3QoKSBmYWlsZWRcIiksX31jb25zdHtjaGFpbklkOnQscmVxdWVzdDpzLHRvcGljOmksZXhwaXJ5OnI9Ti53Y19zZXNzaW9uUmVxdWVzdC5yZXEudHRsfT1lLG89dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoaSk7bz8udHJhbnNwb3J0VHlwZT09PVAucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IGE9RygpLGw9Z2UoKS50b1N0cmluZygpLHtkb25lOnAscmVzb2x2ZTpoLHJlamVjdDp1fT1lZShyLFwiUmVxdWVzdCBleHBpcmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTt0aGlzLmV2ZW50cy5vbmNlKFIoXCJzZXNzaW9uX3JlcXVlc3RcIixhKSwoe2Vycm9yOl8scmVzdWx0Omd9KT0+e18/dShfKTpoKGcpfSk7Y29uc3QgZD1cIndjX3Nlc3Npb25SZXF1ZXN0XCIsdz10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoby5wZWVyLm1ldGFkYXRhLG8udHJhbnNwb3J0VHlwZSk7aWYodylyZXR1cm4gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7Y2xpZW50UnBjSWQ6YSxyZWxheVJwY0lkOmwsdG9waWM6aSxtZXRob2Q6ZCxwYXJhbXM6e3JlcXVlc3Q6Yih2KHt9LHMpLHtleHBpcnlUaW1lc3RhbXA6VihyKX0pLGNoYWluSWQ6dH0sZXhwaXJ5OnIsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsYXBwTGluazp3fSkuY2F0Y2goXz0+dShfKSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3Rfc2VudFwiLHt0b3BpYzppLHJlcXVlc3Q6cyxjaGFpbklkOnQsaWQ6YX0pLGF3YWl0IHAoKTtjb25zdCBtPXtyZXF1ZXN0OmIodih7fSxzKSx7ZXhwaXJ5VGltZXN0YW1wOlYocil9KSxjaGFpbklkOnR9LGY9dGhpcy5zaG91bGRTZXRUVkYoZCxtKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoW25ldyBQcm9taXNlKGFzeW5jIF89Pnthd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHYoe2NsaWVudFJwY0lkOmEscmVsYXlScGNJZDpsLHRvcGljOmksbWV0aG9kOmQscGFyYW1zOm0sZXhwaXJ5OnIsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9LGYmJnt0dmY6dGhpcy5nZXRUVkZQYXJhbXMoYSxtKX0pKS5jYXRjaChnPT51KGcpKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9zZW50XCIse3RvcGljOmkscmVxdWVzdDpzLGNoYWluSWQ6dCxpZDphfSksXygpfSksbmV3IFByb21pc2UoYXN5bmMgXz0+e3ZhciBnO2lmKCEoKGc9by5zZXNzaW9uQ29uZmlnKSE9bnVsbCYmZy5kaXNhYmxlRGVlcExpbmspKXtjb25zdCBBPWF3YWl0IFV0KHRoaXMuY2xpZW50LmNvcmUuc3RvcmFnZSxNZSk7YXdhaXQgS3Qoe2lkOmEsdG9waWM6aSx3Y0RlZXBMaW5rOkF9KX1fKCl9KSxwKCldKS50aGVuKF89Pl9bMl0pfSksYyh0aGlzLFwicmVzcG9uZFwiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmlzVmFsaWRSZXNwb25kKGUpO2NvbnN0e3RvcGljOnQscmVzcG9uc2U6c309ZSx7aWQ6aX09cyxyPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHQpO3IudHJhbnNwb3J0VHlwZT09PVAucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IG89dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKHIucGVlci5tZXRhZGF0YSxyLnRyYW5zcG9ydFR5cGUpO2oocyk/YXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDppLHRvcGljOnQscmVzdWx0OnMucmVzdWx0LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGFwcExpbms6b30pOkYocykmJmF3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDppLHRvcGljOnQsZXJyb3I6cy5lcnJvcixhcHBMaW5rOm99KSx0aGlzLmNsZWFudXBBZnRlclJlc3BvbnNlKGUpfSksYyh0aGlzLFwicGluZ1wiLGFzeW5jIGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUGluZyhlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJwaW5nKCkgLT4gaXNWYWxpZFBpbmcoKSBmYWlsZWRcIiksc31jb25zdHt0b3BpYzp0fT1lO2lmKHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyh0KSl7Y29uc3Qgcz1HKCksaT1nZSgpLnRvU3RyaW5nKCkse2RvbmU6cixyZXNvbHZlOm8scmVqZWN0OmF9PWVlKCk7dGhpcy5ldmVudHMub25jZShSKFwic2Vzc2lvbl9waW5nXCIscyksKHtlcnJvcjpsfSk9PntsP2EobCk6bygpfSksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOnQsbWV0aG9kOlwid2Nfc2Vzc2lvblBpbmdcIixwYXJhbXM6e30sdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6cyxyZWxheVJwY0lkOml9KSxyKCldKX1lbHNlIHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHQpJiYodGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJwaW5nKCkgb24gcGFpcmluZyB0b3BpYyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cIiksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBpbmcoe3RvcGljOnR9KSl9KSxjKHRoaXMsXCJlbWl0XCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLGF3YWl0IHRoaXMuaXNWYWxpZEVtaXQoZSk7Y29uc3R7dG9waWM6dCxldmVudDpzLGNoYWluSWQ6aX09ZSxyPWdlKCkudG9TdHJpbmcoKSxvPUcoKTthd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzp0LG1ldGhvZDpcIndjX3Nlc3Npb25FdmVudFwiLHBhcmFtczp7ZXZlbnQ6cyxjaGFpbklkOml9LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLHJlbGF5UnBjSWQ6cixjbGllbnRScGNJZDpvfSl9KSxjKHRoaXMsXCJkaXNjb25uZWN0XCIsYXN5bmMgZT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLGF3YWl0IHRoaXMuaXNWYWxpZERpc2Nvbm5lY3QoZSk7Y29uc3R7dG9waWM6dH09ZTtpZih0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXModCkpYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6dCxtZXRob2Q6XCJ3Y19zZXNzaW9uRGVsZXRlXCIscGFyYW1zOk8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6dCxlbWl0RXZlbnQ6ITF9KTtlbHNlIGlmKHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHQpKWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5kaXNjb25uZWN0KHt0b3BpYzp0fSk7ZWxzZXtjb25zdHttZXNzYWdlOnN9PXkoXCJNSVNNQVRDSEVEX1RPUElDXCIsYFNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBub3QgZm91bmQ6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9fSksYyh0aGlzLFwiZmluZFwiLGU9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmNsaWVudC5zZXNzaW9uLmdldEFsbCgpLmZpbHRlcih0PT5HdCh0LGUpKSkpLGModGhpcyxcImdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHNcIiwoKT0+dGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3QuZ2V0QWxsKCkpLGModGhpcyxcImF1dGhlbnRpY2F0ZVwiLGFzeW5jKGUsdCk9Pnt2YXIgczt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmlzVmFsaWRBdXRoZW50aWNhdGUoZSk7Y29uc3QgaT10JiZ0aGlzLmNsaWVudC5jb3JlLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5pbmNsdWRlcyh0KSYmKChzPXRoaXMuY2xpZW50Lm1ldGFkYXRhLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cy5saW5rTW9kZSkscj1pP1AubGlua19tb2RlOlAucmVsYXk7cj09PVAucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0e2NoYWluczpvLHN0YXRlbWVudDphPVwiXCIsdXJpOmwsZG9tYWluOnAsbm9uY2U6aCx0eXBlOnUsZXhwOmQsbmJmOncsbWV0aG9kczptPVtdLGV4cGlyeTpmfT1lLF89Wy4uLmUucmVzb3VyY2VzfHxbXV0se3RvcGljOmcsdXJpOkF9PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5jcmVhdGUoe21ldGhvZHM6W1wid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiXSx0cmFuc3BvcnRUeXBlOnJ9KTt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyh7bWVzc2FnZTpcIkdlbmVyYXRlZCBuZXcgcGFpcmluZ1wiLHBhaXJpbmc6e3RvcGljOmcsdXJpOkF9fSk7Y29uc3QgRD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSxJPWJlKEQpO2lmKGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLmNsaWVudC5hdXRoLmF1dGhLZXlzLnNldChjZSx7cmVzcG9uc2VUb3BpYzpJLHB1YmxpY0tleTpEfSksdGhpcy5jbGllbnQuYXV0aC5wYWlyaW5nVG9waWNzLnNldChJLHt0b3BpYzpJLHBhaXJpbmdUb3BpYzpnfSldKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKEkse3RyYW5zcG9ydFR5cGU6cn0pLHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBzZW5kaW5nIHJlcXVlc3QgdG8gbmV3IHBhaXJpbmcgdG9waWM6ICR7Z31gKSxtLmxlbmd0aD4wKXtjb25zdHtuYW1lc3BhY2U6eH09QWUob1swXSk7bGV0IEw9anQoeCxcInJlcXVlc3RcIixtKTt4ZShfKSYmKEw9RnQoTCxfLnBvcCgpKSksXy5wdXNoKEwpfWNvbnN0IFQ9ZiYmZj5OLndjX3Nlc3Npb25BdXRoZW50aWNhdGUucmVxLnR0bD9mOk4ud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZXEudHRsLFU9e2F1dGhQYXlsb2FkOnt0eXBlOnU/P1wiY2FpcDEyMlwiLGNoYWluczpvLHN0YXRlbWVudDphLGF1ZDpsLGRvbWFpbjpwLHZlcnNpb246XCIxXCIsbm9uY2U6aCxpYXQ6bmV3IERhdGUoKS50b0lTT1N0cmluZygpLGV4cDpkLG5iZjp3LHJlc291cmNlczpffSxyZXF1ZXN0ZXI6e3B1YmxpY0tleTpELG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnlUaW1lc3RhbXA6VihUKX0sZmU9e2VpcDE1NTp7Y2hhaW5zOm8sbWV0aG9kczpbLi4ubmV3IFNldChbXCJwZXJzb25hbF9zaWduXCIsLi4ubV0pXSxldmVudHM6W1wiY2hhaW5DaGFuZ2VkXCIsXCJhY2NvdW50c0NoYW5nZWRcIl19fSxxPXtyZXF1aXJlZE5hbWVzcGFjZXM6e30sb3B0aW9uYWxOYW1lc3BhY2VzOmZlLHJlbGF5czpbe3Byb3RvY29sOlwiaXJuXCJ9XSxwYWlyaW5nVG9waWM6Zyxwcm9wb3Nlcjp7cHVibGljS2V5OkQsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDpWKE4ud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCksaWQ6RygpfSx7ZG9uZTpSdCxyZXNvbHZlOmplLHJlamVjdDpTZX09ZWUoVCxcIlJlcXVlc3QgZXhwaXJlZFwiKSx0ZT1HKCksbGU9UihcInNlc3Npb25fY29ubmVjdFwiLHEuaWQpLFJlPVIoXCJzZXNzaW9uX3JlcXVlc3RcIix0ZSkscGU9YXN5bmMoe2Vycm9yOngsc2Vzc2lvbjpMfSk9Pnt0aGlzLmV2ZW50cy5vZmYoUmUsdmUpLHg/U2UoeCk6TCYmamUoe3Nlc3Npb246TH0pfSx2ZT1hc3luYyB4PT57dmFyIEwsRmUsUWU7aWYoYXdhaXQgdGhpcy5kZWxldGVQZW5kaW5nQXV0aFJlcXVlc3QodGUse21lc3NhZ2U6XCJmdWxmaWxsZWRcIixjb2RlOjB9KSx4LmVycm9yKXtjb25zdCBpZT1PKFwiV0NfTUVUSE9EX1VOU1VQUE9SVEVEXCIsXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIpO3JldHVybiB4LmVycm9yLmNvZGU9PT1pZS5jb2RlP3ZvaWQgMDoodGhpcy5ldmVudHMub2ZmKGxlLHBlKSxTZSh4LmVycm9yLm1lc3NhZ2UpKX1hd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKHEuaWQpLHRoaXMuZXZlbnRzLm9mZihsZSxwZSk7Y29uc3R7Y2FjYW9zOkhlLHJlc3BvbmRlcjpRfT14LnJlc3VsdCxUZT1bXSx6ZT1bXTtmb3IoY29uc3QgaWUgb2YgSGUpe2F3YWl0IGV0KHtjYWNhbzppZSxwcm9qZWN0SWQ6dGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWR9KXx8KHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpZSxcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpLFNlKE8oXCJTRVNTSU9OX1NFVFRMRU1FTlRfRkFJTEVEXCIsXCJTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZFwiKSkpO2NvbnN0e3A6cWV9PWllLFBlPXhlKHFlLnJlc291cmNlcyksWWU9W3R0KHFlLmlzcyldLHZ0PXN0KHFlLmlzcyk7aWYoUGUpe2NvbnN0IE5lPWl0KFBlKSxJdD1ydChQZSk7VGUucHVzaCguLi5OZSksWWUucHVzaCguLi5JdCl9Zm9yKGNvbnN0IE5lIG9mIFllKXplLnB1c2goYCR7TmV9OiR7dnR9YCl9Y29uc3Qgc2U9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVTaGFyZWRLZXkoRCxRLnB1YmxpY0tleSk7bGV0IGhlO1RlLmxlbmd0aD4wJiYoaGU9e3RvcGljOnNlLGFja25vd2xlZGdlZDohMCxzZWxmOntwdWJsaWNLZXk6RCxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0scGVlcjpRLGNvbnRyb2xsZXI6US5wdWJsaWNLZXksZXhwaXJ5OlYoSikscmVxdWlyZWROYW1lc3BhY2VzOnt9LG9wdGlvbmFsTmFtZXNwYWNlczp7fSxyZWxheTp7cHJvdG9jb2w6XCJpcm5cIn0scGFpcmluZ1RvcGljOmcsbmFtZXNwYWNlczpudChbLi4ubmV3IFNldChUZSldLFsuLi5uZXcgU2V0KHplKV0pLHRyYW5zcG9ydFR5cGU6cn0sYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShzZSx7dHJhbnNwb3J0VHlwZTpyfSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQoc2UsaGUpLGcmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7dG9waWM6ZyxtZXRhZGF0YTpRLm1ldGFkYXRhfSksaGU9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoc2UpKSwoTD10aGlzLmNsaWVudC5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJkwubGlua01vZGUmJihGZT1RLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmRmUubGlua01vZGUmJihRZT1RLm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmUWUudW5pdmVyc2FsJiZ0JiYodGhpcy5jbGllbnQuY29yZS5hZGRMaW5rTW9kZVN1cHBvcnRlZEFwcChRLm1ldGFkYXRhLnJlZGlyZWN0LnVuaXZlcnNhbCksdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoc2Use3RyYW5zcG9ydFR5cGU6UC5saW5rX21vZGV9KSksamUoe2F1dGhzOkhlLHNlc3Npb246aGV9KX07dGhpcy5ldmVudHMub25jZShsZSxwZSksdGhpcy5ldmVudHMub25jZShSZSx2ZSk7bGV0IEllO3RyeXtpZihpKXtjb25zdCB4PXllKFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLFUsdGUpO3RoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoZyx4KTtjb25zdCBMPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShcIlwiLHgse3R5cGU6UXQsZW5jb2Rpbmc6bmV9KTtJZT11ZSh0LGcsTCl9ZWxzZSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6ZyxtZXRob2Q6XCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIscGFyYW1zOlUsZXhwaXJ5OmUuZXhwaXJ5LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGNsaWVudFJwY0lkOnRlfSksdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6ZyxtZXRob2Q6XCJ3Y19zZXNzaW9uUHJvcG9zZVwiLHBhcmFtczpxLGV4cGlyeTpOLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6cS5pZH0pXSl9Y2F0Y2goeCl7dGhyb3cgdGhpcy5ldmVudHMub2ZmKGxlLHBlKSx0aGlzLmV2ZW50cy5vZmYoUmUsdmUpLHh9cmV0dXJuIGF3YWl0IHRoaXMuc2V0UHJvcG9zYWwocS5pZCxxKSxhd2FpdCB0aGlzLnNldEF1dGhSZXF1ZXN0KHRlLHtyZXF1ZXN0OmIodih7fSxVKSx7dmVyaWZ5Q29udGV4dDp7fX0pLHBhaXJpbmdUb3BpYzpnLHRyYW5zcG9ydFR5cGU6cn0pLHt1cmk6SWU/P0EscmVzcG9uc2U6UnR9fSksYyh0aGlzLFwiYXBwcm92ZVNlc3Npb25BdXRoZW50aWNhdGVcIixhc3luYyBlPT57Y29uc3R7aWQ6dCxhdXRoczpzfT1lLGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5jcmVhdGVFdmVudCh7cHJvcGVydGllczp7dG9waWM6dC50b1N0cmluZygpLHRyYWNlOlt6LmF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWRdfX0pO3RyeXt0aGlzLmlzSW5pdGlhbGl6ZWQoKX1jYXRjaChmKXt0aHJvdyBpLnNldEVycm9yKHJlLm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pLGZ9Y29uc3Qgcj10aGlzLmdldFBlbmRpbmdBdXRoUmVxdWVzdCh0KTtpZighcil0aHJvdyBpLnNldEVycm9yKHJlLmF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kKSxuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIHBlbmRpbmcgYXV0aCByZXF1ZXN0IHdpdGggaWQgJHt0fWApO2NvbnN0IG89ci50cmFuc3BvcnRUeXBlfHxQLnJlbGF5O289PT1QLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCBhPXIucmVxdWVzdGVyLnB1YmxpY0tleSxsPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLHA9YmUoYSksaD17dHlwZTpWZSxyZWNlaXZlclB1YmxpY0tleTphLHNlbmRlclB1YmxpY0tleTpsfSx1PVtdLGQ9W107Zm9yKGNvbnN0IGYgb2Ygcyl7aWYoIWF3YWl0IGV0KHtjYWNhbzpmLHByb2plY3RJZDp0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZH0pKXtpLnNldEVycm9yKHJlLmludmFsaWRfY2FjYW8pO2NvbnN0IEk9TyhcIlNFU1NJT05fU0VUVExFTUVOVF9GQUlMRURcIixcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpO3Rocm93IGF3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDp0LHRvcGljOnAsZXJyb3I6SSxlbmNvZGVPcHRzOmh9KSxuZXcgRXJyb3IoSS5tZXNzYWdlKX1pLmFkZFRyYWNlKHouY2FjYW9zX3ZlcmlmaWVkKTtjb25zdHtwOl99PWYsZz14ZShfLnJlc291cmNlcyksQT1bdHQoXy5pc3MpXSxEPXN0KF8uaXNzKTtpZihnKXtjb25zdCBJPWl0KGcpLFQ9cnQoZyk7dS5wdXNoKC4uLkkpLEEucHVzaCguLi5UKX1mb3IoY29uc3QgSSBvZiBBKWQucHVzaChgJHtJfToke0R9YCl9Y29uc3Qgdz1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShsLGEpO2kuYWRkVHJhY2Uoei5jcmVhdGVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljKTtsZXQgbTtpZih1Py5sZW5ndGg+MCl7bT17dG9waWM6dyxhY2tub3dsZWRnZWQ6ITAsc2VsZjp7cHVibGljS2V5OmwsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LHBlZXI6e3B1YmxpY0tleTphLG1ldGFkYXRhOnIucmVxdWVzdGVyLm1ldGFkYXRhfSxjb250cm9sbGVyOmEsZXhwaXJ5OlYoSiksYXV0aGVudGljYXRpb246cyxyZXF1aXJlZE5hbWVzcGFjZXM6e30sb3B0aW9uYWxOYW1lc3BhY2VzOnt9LHJlbGF5Ontwcm90b2NvbDpcImlyblwifSxwYWlyaW5nVG9waWM6ci5wYWlyaW5nVG9waWMsbmFtZXNwYWNlczpudChbLi4ubmV3IFNldCh1KV0sWy4uLm5ldyBTZXQoZCldKSx0cmFuc3BvcnRUeXBlOm99LGkuYWRkVHJhY2Uoei5zdWJzY3JpYmluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWMpO3RyeXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKHcse3RyYW5zcG9ydFR5cGU6b30pfWNhdGNoKGYpe3Rocm93IGkuc2V0RXJyb3IocmUuc3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19mYWlsdXJlKSxmfWkuYWRkVHJhY2Uoei5zdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3MpLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KHcsbSksaS5hZGRUcmFjZSh6LnN0b3JlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbiksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHt0b3BpYzpyLnBhaXJpbmdUb3BpYyxtZXRhZGF0YTpyLnJlcXVlc3Rlci5tZXRhZGF0YX0pfWkuYWRkVHJhY2Uoei5wdWJsaXNoaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlKTt0cnl7YXdhaXQgdGhpcy5zZW5kUmVzdWx0KHt0b3BpYzpwLGlkOnQscmVzdWx0OntjYWNhb3M6cyxyZXNwb25kZXI6e3B1YmxpY0tleTpsLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfX0sZW5jb2RlT3B0czpoLHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGFwcExpbms6dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKHIucmVxdWVzdGVyLm1ldGFkYXRhLG8pfSl9Y2F0Y2goZil7dGhyb3cgaS5zZXRFcnJvcihyZS5hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmUpLGZ9cmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuZGVsZXRlKHQse21lc3NhZ2U6XCJmdWxmaWxsZWRcIixjb2RlOjB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuYWN0aXZhdGUoe3RvcGljOnIucGFpcmluZ1RvcGljfSksdGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7ZXZlbnRJZDppLmV2ZW50SWR9KSx7c2Vzc2lvbjptfX0pLGModGhpcyxcInJlamVjdFNlc3Npb25BdXRoZW50aWNhdGVcIixhc3luYyBlPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3R7aWQ6dCxyZWFzb246c309ZSxpPXRoaXMuZ2V0UGVuZGluZ0F1dGhSZXF1ZXN0KHQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgcGVuZGluZyBhdXRoIHJlcXVlc3Qgd2l0aCBpZCAke3R9YCk7aS50cmFuc3BvcnRUeXBlPT09UC5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3Qgcj1pLnJlcXVlc3Rlci5wdWJsaWNLZXksbz1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSxhPWJlKHIpLGw9e3R5cGU6VmUscmVjZWl2ZXJQdWJsaWNLZXk6cixzZW5kZXJQdWJsaWNLZXk6b307YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnQsdG9waWM6YSxlcnJvcjpzLGVuY29kZU9wdHM6bCxycGNPcHRzOk4ud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZWplY3QsYXBwTGluazp0aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoaS5yZXF1ZXN0ZXIubWV0YWRhdGEsaS50cmFuc3BvcnRUeXBlKX0pLGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuZGVsZXRlKHQse21lc3NhZ2U6XCJyZWplY3RlZFwiLGNvZGU6MH0pLGF3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZSh0LE8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSl9KSxjKHRoaXMsXCJmb3JtYXRBdXRoTWVzc2FnZVwiLGU9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdHtyZXF1ZXN0OnQsaXNzOnN9PWU7cmV0dXJuIEh0KHQscyl9KSxjKHRoaXMsXCJwcm9jZXNzUmVsYXlNZXNzYWdlQ2FjaGVcIiwoKT0+e3NldFRpbWVvdXQoYXN5bmMoKT0+e2lmKHRoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoIT09MClmb3IoO3RoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoPjA7KXRyeXtjb25zdCBlPXRoaXMucmVsYXlNZXNzYWdlQ2FjaGUuc2hpZnQoKTtlJiZhd2FpdCB0aGlzLm9uUmVsYXlNZXNzYWdlKGUpfWNhdGNoKGUpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihlKX19LDUwKX0pLGModGhpcyxcImNsZWFudXBEdXBsaWNhdGVQYWlyaW5nc1wiLGFzeW5jIGU9PntpZihlLnBhaXJpbmdUb3BpYyl0cnl7Y29uc3QgdD10aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0KGUucGFpcmluZ1RvcGljKSxzPXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5nZXRBbGwoKS5maWx0ZXIoaT0+e3ZhciByLG87cmV0dXJuKChyPWkucGVlck1ldGFkYXRhKT09bnVsbD92b2lkIDA6ci51cmwpJiYoKG89aS5wZWVyTWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpvLnVybCk9PT1lLnBlZXIubWV0YWRhdGEudXJsJiZpLnRvcGljJiZpLnRvcGljIT09dC50b3BpY30pO2lmKHMubGVuZ3RoPT09MClyZXR1cm47dGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYENsZWFuaW5nIHVwICR7cy5sZW5ndGh9IGR1cGxpY2F0ZSBwYWlyaW5nKHMpYCksYXdhaXQgUHJvbWlzZS5hbGwocy5tYXAoaT0+dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmRpc2Nvbm5lY3Qoe3RvcGljOmkudG9waWN9KSkpLHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwiRHVwbGljYXRlIHBhaXJpbmdzIGNsZWFuIHVwIGZpbmlzaGVkXCIpfWNhdGNoKHQpe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcih0KX19KSxjKHRoaXMsXCJkZWxldGVTZXNzaW9uXCIsYXN5bmMgZT0+e3ZhciB0O2NvbnN0e3RvcGljOnMsZXhwaXJlckhhc0RlbGV0ZWQ6aT0hMSxlbWl0RXZlbnQ6cj0hMCxpZDpvPTB9PWUse3NlbGY6YX09dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQocyk7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnVuc3Vic2NyaWJlKHMpLGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uZGVsZXRlKHMsTyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKHMsXCJzZXNzaW9uXCIpLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhhLnB1YmxpY0tleSkmJmF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmRlbGV0ZUtleVBhaXIoYS5wdWJsaWNLZXkpLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhzKSYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVsZXRlU3ltS2V5KHMpLGl8fHRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwocyksdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnJlbW92ZUl0ZW0oTWUpLmNhdGNoKGw9PnRoaXMuY2xpZW50LmxvZ2dlci53YXJuKGwpKSx0aGlzLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKS5mb3JFYWNoKGw9PntsLnRvcGljPT09cyYmdGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QobC5pZCxPKFwiVVNFUl9ESVNDT05ORUNURURcIikpfSkscz09PSgodD10aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWVbMF0pPT1udWxsP3ZvaWQgMDp0LnRvcGljKSYmKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmlkbGUpLHImJnRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9kZWxldGVcIix7aWQ6byx0b3BpYzpzfSl9KSxjKHRoaXMsXCJkZWxldGVQcm9wb3NhbFwiLGFzeW5jKGUsdCk9PntpZih0KXRyeXtjb25zdCBzPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChlKSxpPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZ2V0RXZlbnQoe3RvcGljOnMucGFpcmluZ1RvcGljfSk7aT8uc2V0RXJyb3IoSC5wcm9wb3NhbF9leHBpcmVkKX1jYXRjaHt9YXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZShlLE8oXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdD9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKGUpXSksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZChlLFwicHJvcG9zYWxcIil9KSxjKHRoaXMsXCJkZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3RcIixhc3luYyhlLHQscz0hMSk9Pnthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3QuZGVsZXRlKGUsdCkscz9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKGUpXSksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZChlLFwicmVxdWVzdFwiKSx0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWU9dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlLmZpbHRlcihpPT5pLmlkIT09ZSkscyYmKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmlkbGUsdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3RfZXhwaXJlXCIse2lkOmV9KSl9KSxjKHRoaXMsXCJkZWxldGVQZW5kaW5nQXV0aFJlcXVlc3RcIixhc3luYyhlLHQscz0hMSk9Pnthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUoZSx0KSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwoZSldKX0pLGModGhpcyxcInNldEV4cGlyeVwiLGFzeW5jKGUsdCk9Pnt0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMoZSkmJih0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KGUsdCksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZSx7ZXhwaXJ5OnR9KSl9KSxjKHRoaXMsXCJzZXRQcm9wb3NhbFwiLGFzeW5jKGUsdCk9Pnt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KGUsVihOLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpKSxhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5zZXQoZSx0KX0pLGModGhpcyxcInNldEF1dGhSZXF1ZXN0XCIsYXN5bmMoZSx0KT0+e2NvbnN0e3JlcXVlc3Q6cyxwYWlyaW5nVG9waWM6aSx0cmFuc3BvcnRUeXBlOnI9UC5yZWxheX09dDt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KGUscy5leHBpcnlUaW1lc3RhbXApLGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuc2V0KGUse2F1dGhQYXlsb2FkOnMuYXV0aFBheWxvYWQscmVxdWVzdGVyOnMucmVxdWVzdGVyLGV4cGlyeVRpbWVzdGFtcDpzLmV4cGlyeVRpbWVzdGFtcCxpZDplLHBhaXJpbmdUb3BpYzppLHZlcmlmeUNvbnRleHQ6cy52ZXJpZnlDb250ZXh0LHRyYW5zcG9ydFR5cGU6cn0pfSksYyh0aGlzLFwic2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0XCIsYXN5bmMgZT0+e2NvbnN0e2lkOnQsdG9waWM6cyxwYXJhbXM6aSx2ZXJpZnlDb250ZXh0OnJ9PWUsbz1pLnJlcXVlc3QuZXhwaXJ5VGltZXN0YW1wfHxWKE4ud2Nfc2Vzc2lvblJlcXVlc3QucmVxLnR0bCk7dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldCh0LG8pLGF3YWl0IHRoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LnNldCh0LHtpZDp0LHRvcGljOnMscGFyYW1zOmksdmVyaWZ5Q29udGV4dDpyfSl9KSxjKHRoaXMsXCJzZW5kUmVxdWVzdFwiLGFzeW5jIGU9Pntjb25zdHt0b3BpYzp0LG1ldGhvZDpzLHBhcmFtczppLGV4cGlyeTpyLHJlbGF5UnBjSWQ6byxjbGllbnRScGNJZDphLHRocm93T25GYWlsZWRQdWJsaXNoOmwsYXBwTGluazpwLHR2ZjpofT1lLHU9eWUocyxpLGEpO2xldCBkO2NvbnN0IHc9ISFwO3RyeXtjb25zdCBfPXc/bmU6ZGU7ZD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUodCx1LHtlbmNvZGluZzpffSl9Y2F0Y2goXyl7dGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kUmVxdWVzdCgpIC0+IGNvcmUuY3J5cHRvLmVuY29kZSgpIGZvciB0b3BpYyAke3R9IGZhaWxlZGApLF99bGV0IG07aWYoZ3QuaW5jbHVkZXMocykpe2NvbnN0IF89VyhKU09OLnN0cmluZ2lmeSh1KSksZz1XKGQpO209YXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVnaXN0ZXIoe2lkOmcsZGVjcnlwdGVkSWQ6X30pfWNvbnN0IGY9TltzXS5yZXE7aWYoZi5hdHRlc3RhdGlvbj1tLHImJihmLnR0bD1yKSxvJiYoZi5pZD1vKSx0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KHQsdSksdyl7Y29uc3QgXz11ZShwLHQsZCk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChfLHRoaXMuY2xpZW50Lm5hbWUpfWVsc2V7Y29uc3QgXz1OW3NdLnJlcTtyJiYoXy50dGw9ciksbyYmKF8uaWQ9byksXy50dmY9Yih2KHt9LGgpLHtjb3JyZWxhdGlvbklkOnUuaWR9KSxsPyhfLmludGVybmFsPWIodih7fSxfLmludGVybmFsKSx7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaCh0LGQsXykpOnRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHQsZCxfKS5jYXRjaChnPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZykpfXJldHVybiB1LmlkfSksYyh0aGlzLFwic2VuZFJlc3VsdFwiLGFzeW5jIGU9Pntjb25zdHtpZDp0LHRvcGljOnMscmVzdWx0OmksdGhyb3dPbkZhaWxlZFB1Ymxpc2g6cixlbmNvZGVPcHRzOm8sYXBwTGluazphfT1lLGw9dXModCxpKTtsZXQgcDtjb25zdCBoPWEmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIjt0cnl7Y29uc3Qgdz1oP25lOmRlO3A9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKHMsbCxiKHYoe30sb3x8e30pLHtlbmNvZGluZzp3fSkpfWNhdGNoKHcpe3Rocm93IGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlc3VsdCgpIC0+IGNvcmUuY3J5cHRvLmVuY29kZSgpIGZvciB0b3BpYyAke3N9IGZhaWxlZGApLHd9bGV0IHUsZDt0cnl7dT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZ2V0KHMsdCk7Y29uc3Qgdz11LnJlcXVlc3Q7dHJ5e3RoaXMuc2hvdWxkU2V0VFZGKHcubWV0aG9kLHcucGFyYW1zKSYmKGQ9dGhpcy5nZXRUVkZQYXJhbXModCx3LnBhcmFtcyxpKSl9Y2F0Y2gobSl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJzZW5kUmVzdWx0KCkgLT4gZ2V0VFZGUGFyYW1zKCkgZmFpbGVkXCIsbSl9fWNhdGNoKHcpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlc3VsdCgpIC0+IGhpc3RvcnkuZ2V0KCR7c30sICR7dH0pIGZhaWxlZGApLHd9aWYoaCl7Y29uc3Qgdz11ZShhLHMscCk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTCh3LHRoaXMuY2xpZW50Lm5hbWUpfWVsc2V7Y29uc3Qgdz11LnJlcXVlc3QubWV0aG9kLG09Tlt3XS5yZXM7bS50dmY9Yih2KHt9LGQpLHtjb3JyZWxhdGlvbklkOnR9KSxyPyhtLmludGVybmFsPWIodih7fSxtLmludGVybmFsKSx7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChzLHAsbSkpOnRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHMscCxtKS5jYXRjaChmPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZikpfWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGwpfSksYyh0aGlzLFwic2VuZEVycm9yXCIsYXN5bmMgZT0+e2NvbnN0e2lkOnQsdG9waWM6cyxlcnJvcjppLGVuY29kZU9wdHM6cixycGNPcHRzOm8sYXBwTGluazphfT1lLGw9Z3ModCxpKTtsZXQgcDtjb25zdCBoPWEmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIjt0cnl7Y29uc3QgZD1oP25lOmRlO3A9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKHMsbCxiKHYoe30scnx8e30pLHtlbmNvZGluZzpkfSkpfWNhdGNoKGQpe3Rocm93IGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZEVycm9yKCkgLT4gY29yZS5jcnlwdG8uZW5jb2RlKCkgZm9yIHRvcGljICR7c30gZmFpbGVkYCksZH1sZXQgdTt0cnl7dT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZ2V0KHMsdCl9Y2F0Y2goZCl7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kRXJyb3IoKSAtPiBoaXN0b3J5LmdldCgke3N9LCAke3R9KSBmYWlsZWRgKSxkfWlmKGgpe2NvbnN0IGQ9dWUoYSxzLHApO2F3YWl0IGdsb2JhbC5MaW5raW5nLm9wZW5VUkwoZCx0aGlzLmNsaWVudC5uYW1lKX1lbHNle2NvbnN0IGQ9dS5yZXF1ZXN0Lm1ldGhvZCx3PW98fE5bZF0ucmVzO3RoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHMscCx3KX1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucmVzb2x2ZShsKX0pLGModGhpcyxcImNsZWFudXBcIixhc3luYygpPT57Y29uc3QgZT1bXSx0PVtdO3RoaXMuY2xpZW50LnNlc3Npb24uZ2V0QWxsKCkuZm9yRWFjaChzPT57bGV0IGk9ITE7WihzLmV4cGlyeSkmJihpPSEwKSx0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMocy50b3BpYyl8fChpPSEwKSxpJiZlLnB1c2gocy50b3BpYyl9KSx0aGlzLmNsaWVudC5wcm9wb3NhbC5nZXRBbGwoKS5mb3JFYWNoKHM9PntaKHMuZXhwaXJ5VGltZXN0YW1wKSYmdC5wdXNoKHMuaWQpfSksYXdhaXQgUHJvbWlzZS5hbGwoWy4uLmUubWFwKHM9PnRoaXMuZGVsZXRlU2Vzc2lvbih7dG9waWM6c30pKSwuLi50Lm1hcChzPT50aGlzLmRlbGV0ZVByb3Bvc2FsKHMpKV0pfSksYyh0aGlzLFwib25Qcm92aWRlck1lc3NhZ2VFdmVudFwiLGFzeW5jIGU9PnshdGhpcy5pbml0aWFsaXplZHx8dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5sZW5ndGg+MD90aGlzLnJlbGF5TWVzc2FnZUNhY2hlLnB1c2goZSk6YXdhaXQgdGhpcy5vblJlbGF5TWVzc2FnZShlKX0pLGModGhpcyxcIm9uUmVsYXlFdmVudFJlcXVlc3RcIixhc3luYyBlPT57dGhpcy5yZXF1ZXN0UXVldWUucXVldWUucHVzaChlKSxhd2FpdCB0aGlzLnByb2Nlc3NSZXF1ZXN0c1F1ZXVlKCl9KSxjKHRoaXMsXCJwcm9jZXNzUmVxdWVzdHNRdWV1ZVwiLGFzeW5jKCk9PntpZih0aGlzLnJlcXVlc3RRdWV1ZS5zdGF0ZT09PSQuYWN0aXZlKXt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhcIlJlcXVlc3QgcXVldWUgYWxyZWFkeSBhY3RpdmUsIHNraXBwaW5nLi4uXCIpO3JldHVybn1mb3IodGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYFJlcXVlc3QgcXVldWUgc3RhcnRpbmcgd2l0aCAke3RoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLmxlbmd0aH0gcmVxdWVzdHNgKTt0aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5sZW5ndGg+MDspe3RoaXMucmVxdWVzdFF1ZXVlLnN0YXRlPSQuYWN0aXZlO2NvbnN0IGU9dGhpcy5yZXF1ZXN0UXVldWUucXVldWUuc2hpZnQoKTtpZihlKXRyeXthd2FpdCB0aGlzLnByb2Nlc3NSZXF1ZXN0KGUpfWNhdGNoKHQpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKHQpfX10aGlzLnJlcXVlc3RRdWV1ZS5zdGF0ZT0kLmlkbGV9KSxjKHRoaXMsXCJwcm9jZXNzUmVxdWVzdFwiLGFzeW5jIGU9Pntjb25zdHt0b3BpYzp0LHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLHRyYW5zcG9ydFR5cGU6cixlbmNyeXB0ZWRJZDpvfT1lLGE9cy5tZXRob2Q7aWYoIXRoaXMuc2hvdWxkSWdub3JlUGFpcmluZ1JlcXVlc3Qoe3RvcGljOnQscmVxdWVzdE1ldGhvZDphfSkpc3dpdGNoKGEpe2Nhc2VcIndjX3Nlc3Npb25Qcm9wb3NlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uUHJvcG9zZVJlcXVlc3Qoe3RvcGljOnQscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6b30pO2Nhc2VcIndjX3Nlc3Npb25TZXR0bGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25TZXR0bGVSZXF1ZXN0KHQscyk7Y2FzZVwid2Nfc2Vzc2lvblVwZGF0ZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblVwZGF0ZVJlcXVlc3QodCxzKTtjYXNlXCJ3Y19zZXNzaW9uRXh0ZW5kXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uRXh0ZW5kUmVxdWVzdCh0LHMpO2Nhc2VcIndjX3Nlc3Npb25QaW5nXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uUGluZ1JlcXVlc3QodCxzKTtjYXNlXCJ3Y19zZXNzaW9uRGVsZXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uRGVsZXRlUmVxdWVzdCh0LHMpO2Nhc2VcIndjX3Nlc3Npb25SZXF1ZXN0XCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uUmVxdWVzdCh7dG9waWM6dCxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpvLHRyYW5zcG9ydFR5cGU6cn0pO2Nhc2VcIndjX3Nlc3Npb25FdmVudFwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkV2ZW50UmVxdWVzdCh0LHMpO2Nhc2VcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25BdXRoZW50aWNhdGVSZXF1ZXN0KHt0b3BpYzp0LHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOm8sdHJhbnNwb3J0VHlwZTpyfSk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYFVuc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kICR7YX1gKX19KSxjKHRoaXMsXCJvblJlbGF5RXZlbnRSZXNwb25zZVwiLGFzeW5jIGU9Pntjb25zdHt0b3BpYzp0LHBheWxvYWQ6cyx0cmFuc3BvcnRUeXBlOml9PWUscj0oYXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LmdldCh0LHMuaWQpKS5yZXF1ZXN0Lm1ldGhvZDtzd2l0Y2gocil7Y2FzZVwid2Nfc2Vzc2lvblByb3Bvc2VcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVzcG9uc2UodCxzLGkpO2Nhc2VcIndjX3Nlc3Npb25TZXR0bGVcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25TZXR0bGVSZXNwb25zZSh0LHMpO2Nhc2VcIndjX3Nlc3Npb25VcGRhdGVcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25VcGRhdGVSZXNwb25zZSh0LHMpO2Nhc2VcIndjX3Nlc3Npb25FeHRlbmRcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25FeHRlbmRSZXNwb25zZSh0LHMpO2Nhc2VcIndjX3Nlc3Npb25QaW5nXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uUGluZ1Jlc3BvbnNlKHQscyk7Y2FzZVwid2Nfc2Vzc2lvblJlcXVlc3RcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25SZXF1ZXN0UmVzcG9uc2UodCxzKTtjYXNlXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCI6cmV0dXJuIHRoaXMub25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2UodCxzKTtkZWZhdWx0OnJldHVybiB0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgVW5zdXBwb3J0ZWQgcmVzcG9uc2UgbWV0aG9kICR7cn1gKX19KSxjKHRoaXMsXCJvblJlbGF5RXZlbnRVbmtub3duUGF5bG9hZFwiLGU9Pntjb25zdHt0b3BpYzp0fT1lLHttZXNzYWdlOnN9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgRGVjb2RlZCBwYXlsb2FkIG9uIHRvcGljICR7dH0gaXMgbm90IGlkZW50aWZpYWJsZSBhcyBhIEpTT04tUlBDIHJlcXVlc3Qgb3IgYSByZXNwb25zZS5gKTt0aHJvdyBuZXcgRXJyb3Iocyl9KSxjKHRoaXMsXCJzaG91bGRJZ25vcmVQYWlyaW5nUmVxdWVzdFwiLGU9Pntjb25zdHt0b3BpYzp0LHJlcXVlc3RNZXRob2Q6c309ZSxpPXRoaXMuZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwLmdldCh0KTtyZXR1cm4haXx8aS5pbmNsdWRlcyhzKT8hMTohIShpLmluY2x1ZGVzKFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiKSYmdGhpcy5jbGllbnQuZXZlbnRzLmxpc3RlbmVyQ291bnQoXCJzZXNzaW9uX2F1dGhlbnRpY2F0ZVwiKT4wKX0pLGModGhpcyxcIm9uU2Vzc2lvblByb3Bvc2VSZXF1ZXN0XCIsYXN5bmMgZT0+e2NvbnN0e3RvcGljOnQscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6cn09ZSx7cGFyYW1zOm8saWQ6YX09czt0cnl7Y29uc3QgbD10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmdldEV2ZW50KHt0b3BpYzp0fSk7dGhpcy5jbGllbnQuZXZlbnRzLmxpc3RlbmVyQ291bnQoXCJzZXNzaW9uX3Byb3Bvc2FsXCIpPT09MCYmKGNvbnNvbGUud2FybihcIk5vIGxpc3RlbmVyIGZvciBzZXNzaW9uX3Byb3Bvc2FsIGV2ZW50XCIpLGw/LnNldEVycm9yKFB0LnByb3Bvc2FsX2xpc3RlbmVyX25vdF9mb3VuZCkpLHRoaXMuaXNWYWxpZENvbm5lY3Qodih7fSxzLnBhcmFtcykpO2NvbnN0IHA9by5leHBpcnlUaW1lc3RhbXB8fFYoTi53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsKSxoPXYoe2lkOmEscGFpcmluZ1RvcGljOnQsZXhwaXJ5VGltZXN0YW1wOnB9LG8pO2F3YWl0IHRoaXMuc2V0UHJvcG9zYWwoYSxoKTtjb25zdCB1PWF3YWl0IHRoaXMuZ2V0VmVyaWZ5Q29udGV4dCh7YXR0ZXN0YXRpb25JZDppLGhhc2g6VyhKU09OLnN0cmluZ2lmeShzKSksZW5jcnlwdGVkSWQ6cixtZXRhZGF0YTpoLnByb3Bvc2VyLm1ldGFkYXRhfSk7bD8uYWRkVHJhY2UoTnQuZW1pdF9zZXNzaW9uX3Byb3Bvc2FsKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcHJvcG9zYWxcIix7aWQ6YSxwYXJhbXM6aCx2ZXJpZnlDb250ZXh0OnV9KX1jYXRjaChsKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6YSx0b3BpYzp0LGVycm9yOmwscnBjT3B0czpOLndjX3Nlc3Npb25Qcm9wb3NlLmF1dG9SZWplY3R9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IobCl9fSksYyh0aGlzLFwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsYXN5bmMoZSx0LHMpPT57Y29uc3R7aWQ6aX09dDtpZihqKHQpKXtjb25zdHtyZXN1bHQ6cn09dDt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixyZXN1bHQ6cn0pO2NvbnN0IG89dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KGkpO3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHByb3Bvc2FsOm99KTtjb25zdCBhPW8ucHJvcG9zZXIucHVibGljS2V5O3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHNlbGZQdWJsaWNLZXk6YX0pO2NvbnN0IGw9ci5yZXNwb25kZXJQdWJsaWNLZXk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIscGVlclB1YmxpY0tleTpsfSk7Y29uc3QgcD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShhLGwpO3RoaXMucGVuZGluZ1Nlc3Npb25zLnNldChpLHtzZXNzaW9uVG9waWM6cCxwYWlyaW5nVG9waWM6ZSxwcm9wb3NhbElkOmkscHVibGljS2V5OmF9KTtjb25zdCBoPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUocCx7dHJhbnNwb3J0VHlwZTpzfSk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsc3Vic2NyaXB0aW9uSWQ6aH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5hY3RpdmF0ZSh7dG9waWM6ZX0pfWVsc2UgaWYoRih0KSl7YXdhaXQgdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKGksTyhcIlVTRVJfRElTQ09OTkVDVEVEXCIpKTtjb25zdCByPVIoXCJzZXNzaW9uX2Nvbm5lY3RcIixpKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KHIpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7cn0gd2l0aG91dCBhbnkgbGlzdGVuZXJzLCA5NTRgKTt0aGlzLmV2ZW50cy5lbWl0KHIse2Vycm9yOnQuZXJyb3J9KX19KSxjKHRoaXMsXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0XCIsYXN5bmMoZSx0KT0+e2NvbnN0e2lkOnMscGFyYW1zOml9PXQ7dHJ5e3RoaXMuaXNWYWxpZFNlc3Npb25TZXR0bGVSZXF1ZXN0KGkpO2NvbnN0e3JlbGF5OnIsY29udHJvbGxlcjpvLGV4cGlyeTphLG5hbWVzcGFjZXM6bCxzZXNzaW9uUHJvcGVydGllczpwLHNjb3BlZFByb3BlcnRpZXM6aCxzZXNzaW9uQ29uZmlnOnV9PXQucGFyYW1zLGQ9Wy4uLnRoaXMucGVuZGluZ1Nlc3Npb25zLnZhbHVlcygpXS5maW5kKGY9PmYuc2Vzc2lvblRvcGljPT09ZSk7aWYoIWQpcmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgUGVuZGluZyBzZXNzaW9uIG5vdCBmb3VuZCBmb3IgdG9waWMgJHtlfWApO2NvbnN0IHc9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KGQucHJvcG9zYWxJZCksbT1iKHYodih2KHt0b3BpYzplLHJlbGF5OnIsZXhwaXJ5OmEsbmFtZXNwYWNlczpsLGFja25vd2xlZGdlZDohMCxwYWlyaW5nVG9waWM6ZC5wYWlyaW5nVG9waWMscmVxdWlyZWROYW1lc3BhY2VzOncucmVxdWlyZWROYW1lc3BhY2VzLG9wdGlvbmFsTmFtZXNwYWNlczp3Lm9wdGlvbmFsTmFtZXNwYWNlcyxjb250cm9sbGVyOm8ucHVibGljS2V5LHNlbGY6e3B1YmxpY0tleTpkLnB1YmxpY0tleSxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0scGVlcjp7cHVibGljS2V5Om8ucHVibGljS2V5LG1ldGFkYXRhOm8ubWV0YWRhdGF9fSxwJiZ7c2Vzc2lvblByb3BlcnRpZXM6cH0pLGgmJntzY29wZWRQcm9wZXJ0aWVzOmh9KSx1JiZ7c2Vzc2lvbkNvbmZpZzp1fSkse3RyYW5zcG9ydFR5cGU6UC5yZWxheX0pO2F3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KG0udG9waWMsbSksYXdhaXQgdGhpcy5zZXRFeHBpcnkobS50b3BpYyxtLmV4cGlyeSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHt0b3BpYzpkLnBhaXJpbmdUb3BpYyxtZXRhZGF0YTptLnBlZXIubWV0YWRhdGF9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fY29ubmVjdFwiLHtzZXNzaW9uOm19KSx0aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX2Nvbm5lY3RcIixkLnByb3Bvc2FsSWQpLHtzZXNzaW9uOm19KSx0aGlzLnBlbmRpbmdTZXNzaW9ucy5kZWxldGUoZC5wcm9wb3NhbElkKSx0aGlzLmRlbGV0ZVByb3Bvc2FsKGQucHJvcG9zYWxJZCwhMSksdGhpcy5jbGVhbnVwRHVwbGljYXRlUGFpcmluZ3MobSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDp0LmlkLHRvcGljOmUscmVzdWx0OiEwLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSl9Y2F0Y2gocil7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnMsdG9waWM6ZSxlcnJvcjpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHIpfX0pLGModGhpcyxcIm9uU2Vzc2lvblNldHRsZVJlc3BvbnNlXCIsYXN5bmMoZSx0KT0+e2NvbnN0e2lkOnN9PXQ7aih0KT8oYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZSx7YWNrbm93bGVkZ2VkOiEwfSksdGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9hcHByb3ZlXCIscykse30pKTpGKHQpJiYoYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5kZWxldGUoZSxPKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHRoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fYXBwcm92ZVwiLHMpLHtlcnJvcjp0LmVycm9yfSkpfSksYyh0aGlzLFwib25TZXNzaW9uVXBkYXRlUmVxdWVzdFwiLGFzeW5jKGUsdCk9Pntjb25zdHtwYXJhbXM6cyxpZDppfT10O3RyeXtjb25zdCByPWAke2V9X3Nlc3Npb25fdXBkYXRlYCxvPW9lLmdldChyKTtpZihvJiZ0aGlzLmlzUmVxdWVzdE91dE9mU3luYyhvLGkpKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihgRGlzY2FyZGluZyBvdXQgb2Ygc3luYyByZXF1ZXN0IC0gJHtpfWApLHRoaXMuc2VuZEVycm9yKHtpZDppLHRvcGljOmUsZXJyb3I6TyhcIklOVkFMSURfVVBEQVRFX1JFUVVFU1RcIil9KTtyZXR1cm59dGhpcy5pc1ZhbGlkVXBkYXRlKHYoe3RvcGljOmV9LHMpKTt0cnl7b2Uuc2V0KHIsaSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZSx7bmFtZXNwYWNlczpzLm5hbWVzcGFjZXN9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOmksdG9waWM6ZSxyZXN1bHQ6ITAsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KX1jYXRjaChhKXt0aHJvdyBvZS5kZWxldGUociksYX10aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fdXBkYXRlXCIse2lkOmksdG9waWM6ZSxwYXJhbXM6c30pfWNhdGNoKHIpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDppLHRvcGljOmUsZXJyb3I6cn0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihyKX19KSxjKHRoaXMsXCJpc1JlcXVlc3RPdXRPZlN5bmNcIiwoZSx0KT0+dC50b1N0cmluZygpLnNsaWNlKDAsLTMpPGUudG9TdHJpbmcoKS5zbGljZSgwLC0zKSksYyh0aGlzLFwib25TZXNzaW9uVXBkYXRlUmVzcG9uc2VcIiwoZSx0KT0+e2NvbnN0e2lkOnN9PXQsaT1SKFwic2Vzc2lvbl91cGRhdGVcIixzKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7aih0KT90aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX3VwZGF0ZVwiLHMpLHt9KTpGKHQpJiZ0aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX3VwZGF0ZVwiLHMpLHtlcnJvcjp0LmVycm9yfSl9KSxjKHRoaXMsXCJvblNlc3Npb25FeHRlbmRSZXF1ZXN0XCIsYXN5bmMoZSx0KT0+e2NvbnN0e2lkOnN9PXQ7dHJ5e3RoaXMuaXNWYWxpZEV4dGVuZCh7dG9waWM6ZX0pLGF3YWl0IHRoaXMuc2V0RXhwaXJ5KGUsVihKKSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDpzLHRvcGljOmUscmVzdWx0OiEwLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2V4dGVuZFwiLHtpZDpzLHRvcGljOmV9KX1jYXRjaChpKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzplLGVycm9yOml9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSksYyh0aGlzLFwib25TZXNzaW9uRXh0ZW5kUmVzcG9uc2VcIiwoZSx0KT0+e2NvbnN0e2lkOnN9PXQsaT1SKFwic2Vzc2lvbl9leHRlbmRcIixzKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7aih0KT90aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX2V4dGVuZFwiLHMpLHt9KTpGKHQpJiZ0aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX2V4dGVuZFwiLHMpLHtlcnJvcjp0LmVycm9yfSl9KSxjKHRoaXMsXCJvblNlc3Npb25QaW5nUmVxdWVzdFwiLGFzeW5jKGUsdCk9Pntjb25zdHtpZDpzfT10O3RyeXt0aGlzLmlzVmFsaWRQaW5nKHt0b3BpYzplfSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDpzLHRvcGljOmUscmVzdWx0OiEwLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3BpbmdcIix7aWQ6cyx0b3BpYzplfSl9Y2F0Y2goaSl7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnMsdG9waWM6ZSxlcnJvcjppfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpfX0pLGModGhpcyxcIm9uU2Vzc2lvblBpbmdSZXNwb25zZVwiLChlLHQpPT57Y29uc3R7aWQ6c309dCxpPVIoXCJzZXNzaW9uX3BpbmdcIixzKTtzZXRUaW1lb3V0KCgpPT57aWYodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChpKT09PTApdGhyb3cgbmV3IEVycm9yKGBlbWl0dGluZyAke2l9IHdpdGhvdXQgYW55IGxpc3RlbmVycyAyMTc2YCk7aih0KT90aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX3BpbmdcIixzKSx7fSk6Rih0KSYmdGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9waW5nXCIscykse2Vycm9yOnQuZXJyb3J9KX0sNTAwKX0pLGModGhpcyxcIm9uU2Vzc2lvbkRlbGV0ZVJlcXVlc3RcIixhc3luYyhlLHQpPT57Y29uc3R7aWQ6c309dDt0cnl7dGhpcy5pc1ZhbGlkRGlzY29ubmVjdCh7dG9waWM6ZSxyZWFzb246dC5wYXJhbXN9KSxQcm9taXNlLmFsbChbbmV3IFByb21pc2UoaT0+e3RoaXMuY2xpZW50LmNvcmUucmVsYXllci5vbmNlKFhlLnB1Ymxpc2gsYXN5bmMoKT0+e2koYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzplLGlkOnN9KSl9KX0pLHRoaXMuc2VuZFJlc3VsdCh7aWQ6cyx0b3BpYzplLHJlc3VsdDohMCx0aHJvd09uRmFpbGVkUHVibGlzaDohMH0pLHRoaXMuY2xlYW51cFBlbmRpbmdTZW50UmVxdWVzdHNGb3JUb3BpYyh7dG9waWM6ZSxlcnJvcjpPKFwiVVNFUl9ESVNDT05ORUNURURcIil9KV0pLmNhdGNoKGk9PnRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpKSl9Y2F0Y2goaSl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpfX0pLGModGhpcyxcIm9uU2Vzc2lvblJlcXVlc3RcIixhc3luYyBlPT57dmFyIHQscyxpO2NvbnN0e3RvcGljOnIscGF5bG9hZDpvLGF0dGVzdGF0aW9uOmEsZW5jcnlwdGVkSWQ6bCx0cmFuc3BvcnRUeXBlOnB9PWUse2lkOmgscGFyYW1zOnV9PW87dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFJlcXVlc3Qodih7dG9waWM6cn0sdSkpO2NvbnN0IGQ9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQociksdz1hd2FpdCB0aGlzLmdldFZlcmlmeUNvbnRleHQoe2F0dGVzdGF0aW9uSWQ6YSxoYXNoOlcoSlNPTi5zdHJpbmdpZnkoeWUoXCJ3Y19zZXNzaW9uUmVxdWVzdFwiLHUsaCkpKSxlbmNyeXB0ZWRJZDpsLG1ldGFkYXRhOmQucGVlci5tZXRhZGF0YSx0cmFuc3BvcnRUeXBlOnB9KSxtPXtpZDpoLHRvcGljOnIscGFyYW1zOnUsdmVyaWZ5Q29udGV4dDp3fTthd2FpdCB0aGlzLnNldFBlbmRpbmdTZXNzaW9uUmVxdWVzdChtKSxwPT09UC5saW5rX21vZGUmJih0PWQucGVlci5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJnQudW5pdmVyc2FsJiZ0aGlzLmNsaWVudC5jb3JlLmFkZExpbmtNb2RlU3VwcG9ydGVkQXBwKChzPWQucGVlci5tZXRhZGF0YS5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnMudW5pdmVyc2FsKSwoaT10aGlzLmNsaWVudC5zaWduQ29uZmlnKSE9bnVsbCYmaS5kaXNhYmxlUmVxdWVzdFF1ZXVlP3RoaXMuZW1pdFNlc3Npb25SZXF1ZXN0KG0pOih0aGlzLmFkZFNlc3Npb25SZXF1ZXN0VG9TZXNzaW9uUmVxdWVzdFF1ZXVlKG0pLHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKSl9Y2F0Y2goZCl7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmgsdG9waWM6cixlcnJvcjpkfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGQpfX0pLGModGhpcyxcIm9uU2Vzc2lvblJlcXVlc3RSZXNwb25zZVwiLChlLHQpPT57Y29uc3R7aWQ6c309dCxpPVIoXCJzZXNzaW9uX3JlcXVlc3RcIixzKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7aih0KT90aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7cmVzdWx0OnQucmVzdWx0fSk6Rih0KSYmdGhpcy5ldmVudHMuZW1pdChSKFwic2Vzc2lvbl9yZXF1ZXN0XCIscykse2Vycm9yOnQuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvbkV2ZW50UmVxdWVzdFwiLGFzeW5jKGUsdCk9Pntjb25zdHtpZDpzLHBhcmFtczppfT10O3RyeXtjb25zdCByPWAke2V9X3Nlc3Npb25fZXZlbnRfJHtpLmV2ZW50Lm5hbWV9YCxvPW9lLmdldChyKTtpZihvJiZ0aGlzLmlzUmVxdWVzdE91dE9mU3luYyhvLHMpKXt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgRGlzY2FyZGluZyBvdXQgb2Ygc3luYyByZXF1ZXN0IC0gJHtzfWApO3JldHVybn10aGlzLmlzVmFsaWRFbWl0KHYoe3RvcGljOmV9LGkpKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXZlbnRcIix7aWQ6cyx0b3BpYzplLHBhcmFtczppfSksb2Uuc2V0KHIscyl9Y2F0Y2gocil7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnMsdG9waWM6ZSxlcnJvcjpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHIpfX0pLGModGhpcyxcIm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlc3BvbnNlXCIsKGUsdCk9Pntjb25zdHtpZDpzfT10O3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlc3BvbnNlXCIsdG9waWM6ZSxwYXlsb2FkOnR9KSxqKHQpP3RoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtyZXN1bHQ6dC5yZXN1bHR9KTpGKHQpJiZ0aGlzLmV2ZW50cy5lbWl0KFIoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7ZXJyb3I6dC5lcnJvcn0pfSksYyh0aGlzLFwib25TZXNzaW9uQXV0aGVudGljYXRlUmVxdWVzdFwiLGFzeW5jIGU9Pnt2YXIgdDtjb25zdHt0b3BpYzpzLHBheWxvYWQ6aSxhdHRlc3RhdGlvbjpyLGVuY3J5cHRlZElkOm8sdHJhbnNwb3J0VHlwZTphfT1lO3RyeXtjb25zdHtyZXF1ZXN0ZXI6bCxhdXRoUGF5bG9hZDpwLGV4cGlyeVRpbWVzdGFtcDpofT1pLnBhcmFtcyx1PWF3YWl0IHRoaXMuZ2V0VmVyaWZ5Q29udGV4dCh7YXR0ZXN0YXRpb25JZDpyLGhhc2g6VyhKU09OLnN0cmluZ2lmeShpKSksZW5jcnlwdGVkSWQ6byxtZXRhZGF0YTpsLm1ldGFkYXRhLHRyYW5zcG9ydFR5cGU6YX0pLGQ9e3JlcXVlc3RlcjpsLHBhaXJpbmdUb3BpYzpzLGlkOmkuaWQsYXV0aFBheWxvYWQ6cCx2ZXJpZnlDb250ZXh0OnUsZXhwaXJ5VGltZXN0YW1wOmh9O2F3YWl0IHRoaXMuc2V0QXV0aFJlcXVlc3QoaS5pZCx7cmVxdWVzdDpkLHBhaXJpbmdUb3BpYzpzLHRyYW5zcG9ydFR5cGU6YX0pLGE9PT1QLmxpbmtfbW9kZSYmKHQ9bC5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJnQudW5pdmVyc2FsJiZ0aGlzLmNsaWVudC5jb3JlLmFkZExpbmtNb2RlU3VwcG9ydGVkQXBwKGwubWV0YWRhdGEucmVkaXJlY3QudW5pdmVyc2FsKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fYXV0aGVudGljYXRlXCIse3RvcGljOnMscGFyYW1zOmkucGFyYW1zLGlkOmkuaWQsdmVyaWZ5Q29udGV4dDp1fSl9Y2F0Y2gobCl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGwpO2NvbnN0IHA9aS5wYXJhbXMucmVxdWVzdGVyLnB1YmxpY0tleSxoPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLHU9dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKGkucGFyYW1zLnJlcXVlc3Rlci5tZXRhZGF0YSxhKSxkPXt0eXBlOlZlLHJlY2VpdmVyUHVibGljS2V5OnAsc2VuZGVyUHVibGljS2V5Omh9O2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDppLmlkLHRvcGljOnMsZXJyb3I6bCxlbmNvZGVPcHRzOmQscnBjT3B0czpOLndjX3Nlc3Npb25BdXRoZW50aWNhdGUuYXV0b1JlamVjdCxhcHBMaW5rOnV9KX19KSxjKHRoaXMsXCJhZGRTZXNzaW9uUmVxdWVzdFRvU2Vzc2lvblJlcXVlc3RRdWV1ZVwiLGU9Pnt0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWUucHVzaChlKX0pLGModGhpcyxcImNsZWFudXBBZnRlclJlc3BvbnNlXCIsZT0+e3RoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0KGUucmVzcG9uc2UuaWQse21lc3NhZ2U6XCJmdWxmaWxsZWRcIixjb2RlOjB9KSxzZXRUaW1lb3V0KCgpPT57dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPSQuaWRsZSx0aGlzLnByb2Nlc3NTZXNzaW9uUmVxdWVzdFF1ZXVlKCl9LE9lKHRoaXMucmVxdWVzdFF1ZXVlRGVsYXkpKX0pLGModGhpcyxcImNsZWFudXBQZW5kaW5nU2VudFJlcXVlc3RzRm9yVG9waWNcIiwoe3RvcGljOmUsZXJyb3I6dH0pPT57Y29uc3Qgcz10aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucGVuZGluZztzLmxlbmd0aD4wJiZzLmZpbHRlcihpPT5pLnRvcGljPT09ZSYmaS5yZXF1ZXN0Lm1ldGhvZD09PVwid2Nfc2Vzc2lvblJlcXVlc3RcIikuZm9yRWFjaChpPT57Y29uc3Qgcj1pLnJlcXVlc3QuaWQsbz1SKFwic2Vzc2lvbl9yZXF1ZXN0XCIscik7aWYodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChvKT09PTApdGhyb3cgbmV3IEVycm9yKGBlbWl0dGluZyAke299IHdpdGhvdXQgYW55IGxpc3RlbmVyc2ApO3RoaXMuZXZlbnRzLmVtaXQoUihcInNlc3Npb25fcmVxdWVzdFwiLGkucmVxdWVzdC5pZCkse2Vycm9yOnR9KX0pfSksYyh0aGlzLFwicHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWVcIiwoKT0+e2lmKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT09PSQuYWN0aXZlKXt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhcInNlc3Npb24gcmVxdWVzdCBxdWV1ZSBpcyBhbHJlYWR5IGFjdGl2ZS5cIik7cmV0dXJufWNvbnN0IGU9dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlWzBdO2lmKCFlKXt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhcInNlc3Npb24gcmVxdWVzdCBxdWV1ZSBpcyBlbXB0eS5cIik7cmV0dXJufXRyeXt0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGU9JC5hY3RpdmUsdGhpcy5lbWl0U2Vzc2lvblJlcXVlc3QoZSl9Y2F0Y2godCl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHQpfX0pLGModGhpcyxcImVtaXRTZXNzaW9uUmVxdWVzdFwiLGU9Pnt0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdFwiLGUpfSksYyh0aGlzLFwib25QYWlyaW5nQ3JlYXRlZFwiLGU9PntpZihlLm1ldGhvZHMmJnRoaXMuZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwLnNldChlLnRvcGljLGUubWV0aG9kcyksZS5hY3RpdmUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0QWxsKCkuZmluZChzPT5zLnBhaXJpbmdUb3BpYz09PWUudG9waWMpO3QmJnRoaXMub25TZXNzaW9uUHJvcG9zZVJlcXVlc3Qoe3RvcGljOmUudG9waWMscGF5bG9hZDp5ZShcIndjX3Nlc3Npb25Qcm9wb3NlXCIsYih2KHt9LHQpLHtyZXF1aXJlZE5hbWVzcGFjZXM6dC5yZXF1aXJlZE5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnQub3B0aW9uYWxOYW1lc3BhY2VzLHJlbGF5czp0LnJlbGF5cyxwcm9wb3Nlcjp0LnByb3Bvc2VyLHNlc3Npb25Qcm9wZXJ0aWVzOnQuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczp0LnNjb3BlZFByb3BlcnRpZXN9KSx0LmlkKX0pfSksYyh0aGlzLFwiaXNWYWxpZENvbm5lY3RcIixhc3luYyBlPT57aWYoIU0oZSkpe2NvbnN0e21lc3NhZ2U6bH09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBjb25uZWN0KCkgcGFyYW1zOiAke0pTT04uc3RyaW5naWZ5KGUpfWApO3Rocm93IG5ldyBFcnJvcihsKX1jb25zdHtwYWlyaW5nVG9waWM6dCxyZXF1aXJlZE5hbWVzcGFjZXM6cyxvcHRpb25hbE5hbWVzcGFjZXM6aSxzZXNzaW9uUHJvcGVydGllczpyLHNjb3BlZFByb3BlcnRpZXM6byxyZWxheXM6YX09ZTtpZihYKHQpfHxhd2FpdCB0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWModCksIXp0KGEsITApKXtjb25zdHttZXNzYWdlOmx9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgY29ubmVjdCgpIHJlbGF5czogJHthfWApO3Rocm93IG5ldyBFcnJvcihsKX1pZighWChzKSYmb3QocykhPT0wJiZ0aGlzLnZhbGlkYXRlTmFtZXNwYWNlcyhzLFwicmVxdWlyZWROYW1lc3BhY2VzXCIpLCFYKGkpJiZvdChpKSE9PTAmJnRoaXMudmFsaWRhdGVOYW1lc3BhY2VzKGksXCJvcHRpb25hbE5hbWVzcGFjZXNcIiksWChyKXx8dGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhyLFwic2Vzc2lvblByb3BlcnRpZXNcIiksIVgobykpe3RoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMobyxcInNjb3BlZFByb3BlcnRpZXNcIik7Y29uc3QgbD1PYmplY3Qua2V5cyhzfHx7fSkuY29uY2F0KE9iamVjdC5rZXlzKGl8fHt9KSk7aWYoIU9iamVjdC5rZXlzKG8pLmV2ZXJ5KHA9PmwuaW5jbHVkZXMocCkpKXRocm93IG5ldyBFcnJvcihgU2NvcGVkIHByb3BlcnRpZXMgbXVzdCBiZSBhIHN1YnNldCBvZiByZXF1aXJlZC9vcHRpb25hbCBuYW1lc3BhY2VzLCByZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShvKX0sIHJlcXVpcmVkL29wdGlvbmFsIG5hbWVzcGFjZXM6ICR7SlNPTi5zdHJpbmdpZnkobCl9YCl9fSksYyh0aGlzLFwidmFsaWRhdGVOYW1lc3BhY2VzXCIsKGUsdCk9Pntjb25zdCBzPVl0KGUsXCJjb25uZWN0KClcIix0KTtpZihzKXRocm93IG5ldyBFcnJvcihzLm1lc3NhZ2UpfSksYyh0aGlzLFwiaXNWYWxpZEFwcHJvdmVcIixhc3luYyBlPT57aWYoIU0oZSkpdGhyb3cgbmV3IEVycm9yKHkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgYXBwcm92ZSgpIHBhcmFtczogJHtlfWApLm1lc3NhZ2UpO2NvbnN0e2lkOnQsbmFtZXNwYWNlczpzLHJlbGF5UHJvdG9jb2w6aSxzZXNzaW9uUHJvcGVydGllczpyLHNjb3BlZFByb3BlcnRpZXM6b309ZTt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKHQpLGF3YWl0IHRoaXMuaXNWYWxpZFByb3Bvc2FsSWQodCk7Y29uc3QgYT10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQodCksbD1DZShzLFwiYXBwcm92ZSgpXCIpO2lmKGwpdGhyb3cgbmV3IEVycm9yKGwubWVzc2FnZSk7Y29uc3QgcD1hdChhLnJlcXVpcmVkTmFtZXNwYWNlcyxzLFwiYXBwcm92ZSgpXCIpO2lmKHApdGhyb3cgbmV3IEVycm9yKHAubWVzc2FnZSk7aWYoIVkoaSwhMCkpe2NvbnN0e21lc3NhZ2U6aH09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBhcHByb3ZlKCkgcmVsYXlQcm90b2NvbDogJHtpfWApO3Rocm93IG5ldyBFcnJvcihoKX1pZihYKHIpfHx0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKHIsXCJzZXNzaW9uUHJvcGVydGllc1wiKSwhWChvKSl7dGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhvLFwic2NvcGVkUHJvcGVydGllc1wiKTtjb25zdCBoPW5ldyBTZXQoT2JqZWN0LmtleXMocykpO2lmKCFPYmplY3Qua2V5cyhvKS5ldmVyeSh1PT5oLmhhcyh1KSkpdGhyb3cgbmV3IEVycm9yKGBTY29wZWQgcHJvcGVydGllcyBtdXN0IGJlIGEgc3Vic2V0IG9mIGFwcHJvdmVkIG5hbWVzcGFjZXMsIHJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KG8pfSwgYXBwcm92ZWQgbmFtZXNwYWNlczogJHtBcnJheS5mcm9tKGgpLmpvaW4oXCIsIFwiKX1gKX19KSxjKHRoaXMsXCJpc1ZhbGlkUmVqZWN0XCIsYXN5bmMgZT0+e2lmKCFNKGUpKXtjb25zdHttZXNzYWdlOml9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVqZWN0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGkpfWNvbnN0e2lkOnQscmVhc29uOnN9PWU7aWYodGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZCh0KSxhd2FpdCB0aGlzLmlzVmFsaWRQcm9wb3NhbElkKHQpLCFYdChzKSl7Y29uc3R7bWVzc2FnZTppfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlamVjdCgpIHJlYXNvbjogJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9fSksYyh0aGlzLFwiaXNWYWxpZFNlc3Npb25TZXR0bGVSZXF1ZXN0XCIsZT0+e2lmKCFNKGUpKXtjb25zdHttZXNzYWdlOmx9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgb25TZXNzaW9uU2V0dGxlUmVxdWVzdCgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihsKX1jb25zdHtyZWxheTp0LGNvbnRyb2xsZXI6cyxuYW1lc3BhY2VzOmksZXhwaXJ5OnJ9PWU7aWYoIUp0KHQpKXtjb25zdHttZXNzYWdlOmx9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKSByZWxheSBwcm90b2NvbCBzaG91bGQgYmUgYSBzdHJpbmdcIik7dGhyb3cgbmV3IEVycm9yKGwpfWNvbnN0IG89QnQocyxcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTtpZihvKXRocm93IG5ldyBFcnJvcihvLm1lc3NhZ2UpO2NvbnN0IGE9Q2UoaSxcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTtpZihhKXRocm93IG5ldyBFcnJvcihhLm1lc3NhZ2UpO2lmKFoocikpe2NvbnN0e21lc3NhZ2U6bH09eShcIkVYUElSRURcIixcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTt0aHJvdyBuZXcgRXJyb3IobCl9fSksYyh0aGlzLFwiaXNWYWxpZFVwZGF0ZVwiLGFzeW5jIGU9PntpZighTShlKSl7Y29uc3R7bWVzc2FnZTphfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHVwZGF0ZSgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihhKX1jb25zdHt0b3BpYzp0LG5hbWVzcGFjZXM6c309ZTt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKHQpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyh0KTtjb25zdCBpPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KHQpLHI9Q2UocyxcInVwZGF0ZSgpXCIpO2lmKHIpdGhyb3cgbmV3IEVycm9yKHIubWVzc2FnZSk7Y29uc3Qgbz1hdChpLnJlcXVpcmVkTmFtZXNwYWNlcyxzLFwidXBkYXRlKClcIik7aWYobyl0aHJvdyBuZXcgRXJyb3Ioby5tZXNzYWdlKX0pLGModGhpcyxcImlzVmFsaWRFeHRlbmRcIixhc3luYyBlPT57aWYoIU0oZSkpe2NvbnN0e21lc3NhZ2U6c309eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBleHRlbmQoKSBwYXJhbXM6ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9Y29uc3R7dG9waWM6dH09ZTt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKHQpLGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyh0KX0pLGModGhpcyxcImlzVmFsaWRSZXF1ZXN0XCIsYXN5bmMgZT0+e2lmKCFNKGUpKXtjb25zdHttZXNzYWdlOmF9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVxdWVzdCgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihhKX1jb25zdHt0b3BpYzp0LHJlcXVlc3Q6cyxjaGFpbklkOmksZXhwaXJ5OnJ9PWU7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZCh0KSxhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWModCk7Y29uc3R7bmFtZXNwYWNlczpvfT10aGlzLmNsaWVudC5zZXNzaW9uLmdldCh0KTtpZighY3QobyxpKSl7Y29uc3R7bWVzc2FnZTphfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBjaGFpbklkOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKCFXdChzKSl7Y29uc3R7bWVzc2FnZTphfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihhKX1pZighWnQobyxpLHMubWV0aG9kKSl7Y29uc3R7bWVzc2FnZTphfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBtZXRob2Q6ICR7cy5tZXRob2R9YCk7dGhyb3cgbmV3IEVycm9yKGEpfWlmKHImJiFlcyhyLF9lKSl7Y29uc3R7bWVzc2FnZTphfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBleHBpcnk6ICR7cn0uIEV4cGlyeSBtdXN0IGJlIGEgbnVtYmVyIChpbiBzZWNvbmRzKSBiZXR3ZWVuICR7X2UubWlufSBhbmQgJHtfZS5tYXh9YCk7dGhyb3cgbmV3IEVycm9yKGEpfX0pLGModGhpcyxcImlzVmFsaWRSZXNwb25kXCIsYXN5bmMgZT0+e3ZhciB0O2lmKCFNKGUpKXtjb25zdHttZXNzYWdlOnJ9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcmVzcG9uZCgpIHBhcmFtczogJHtlfWApO3Rocm93IG5ldyBFcnJvcihyKX1jb25zdHt0b3BpYzpzLHJlc3BvbnNlOml9PWU7dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhzKX1jYXRjaChyKXt0aHJvdyh0PWU/LnJlc3BvbnNlKSE9bnVsbCYmdC5pZCYmdGhpcy5jbGVhbnVwQWZ0ZXJSZXNwb25zZShlKSxyfWlmKCF0cyhpKSl7Y29uc3R7bWVzc2FnZTpyfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlc3BvbmQoKSByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShpKX1gKTt0aHJvdyBuZXcgRXJyb3Iocil9fSksYyh0aGlzLFwiaXNWYWxpZFBpbmdcIixhc3luYyBlPT57aWYoIU0oZSkpe2NvbnN0e21lc3NhZ2U6c309eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwaW5nKCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWNvbnN0e3RvcGljOnR9PWU7YXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvbk9yUGFpcmluZ1RvcGljKHQpfSksYyh0aGlzLFwiaXNWYWxpZEVtaXRcIixhc3luYyBlPT57aWYoIU0oZSkpe2NvbnN0e21lc3NhZ2U6b309eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKG8pfWNvbnN0e3RvcGljOnQsZXZlbnQ6cyxjaGFpbklkOml9PWU7YXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKHQpO2NvbnN0e25hbWVzcGFjZXM6cn09dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQodCk7aWYoIWN0KHIsaSkpe2NvbnN0e21lc3NhZ2U6b309eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgY2hhaW5JZDogJHtpfWApO3Rocm93IG5ldyBFcnJvcihvKX1pZighc3Mocykpe2NvbnN0e21lc3NhZ2U6b309eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkocyl9YCk7dGhyb3cgbmV3IEVycm9yKG8pfWlmKCFpcyhyLGkscy5uYW1lKSl7Y29uc3R7bWVzc2FnZTpvfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGVtaXQoKSBldmVudDogJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3Iobyl9fSksYyh0aGlzLFwiaXNWYWxpZERpc2Nvbm5lY3RcIixhc3luYyBlPT57aWYoIU0oZSkpe2NvbnN0e21lc3NhZ2U6c309eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBkaXNjb25uZWN0KCkgcGFyYW1zOiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWNvbnN0e3RvcGljOnR9PWU7YXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvbk9yUGFpcmluZ1RvcGljKHQpfSksYyh0aGlzLFwiaXNWYWxpZEF1dGhlbnRpY2F0ZVwiLGU9Pntjb25zdHtjaGFpbnM6dCx1cmk6cyxkb21haW46aSxub25jZTpyfT1lO2lmKCFBcnJheS5pc0FycmF5KHQpfHx0Lmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKFwiY2hhaW5zIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5XCIpO2lmKCFZKHMsITEpKXRocm93IG5ldyBFcnJvcihcInVyaSBpcyByZXF1aXJlZCBwYXJhbWV0ZXJcIik7aWYoIVkoaSwhMSkpdGhyb3cgbmV3IEVycm9yKFwiZG9tYWluIGlzIHJlcXVpcmVkIHBhcmFtZXRlclwiKTtpZighWShyLCExKSl0aHJvdyBuZXcgRXJyb3IoXCJub25jZSBpcyByZXF1aXJlZCBwYXJhbWV0ZXJcIik7aWYoWy4uLm5ldyBTZXQodC5tYXAoYT0+QWUoYSkubmFtZXNwYWNlKSldLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcihcIk11bHRpLW5hbWVzcGFjZSByZXF1ZXN0cyBhcmUgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHJlcXVlc3Qgc2luZ2xlIG5hbWVzcGFjZSBvbmx5LlwiKTtjb25zdHtuYW1lc3BhY2U6b309QWUodFswXSk7aWYobyE9PVwiZWlwMTU1XCIpdGhyb3cgbmV3IEVycm9yKFwiT25seSBlaXAxNTUgbmFtZXNwYWNlIGlzIHN1cHBvcnRlZCBmb3IgYXV0aGVudGljYXRlZCBzZXNzaW9ucy4gUGxlYXNlIHVzZSAuY29ubmVjdCgpIGZvciBub24tZWlwMTU1IGNoYWlucy5cIil9KSxjKHRoaXMsXCJnZXRWZXJpZnlDb250ZXh0XCIsYXN5bmMgZT0+e2NvbnN0e2F0dGVzdGF0aW9uSWQ6dCxoYXNoOnMsZW5jcnlwdGVkSWQ6aSxtZXRhZGF0YTpyLHRyYW5zcG9ydFR5cGU6b309ZSxhPXt2ZXJpZmllZDp7dmVyaWZ5VXJsOnIudmVyaWZ5VXJsfHxPdCx2YWxpZGF0aW9uOlwiVU5LTk9XTlwiLG9yaWdpbjpyLnVybHx8XCJcIn19O3RyeXtpZihvPT09UC5saW5rX21vZGUpe2NvbnN0IHA9dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKHIsbyk7cmV0dXJuIGEudmVyaWZpZWQudmFsaWRhdGlvbj1wJiZuZXcgVVJMKHApLm9yaWdpbj09PW5ldyBVUkwoci51cmwpLm9yaWdpbj9cIlZBTElEXCI6XCJJTlZBTElEXCIsYX1jb25zdCBsPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUudmVyaWZ5LnJlc29sdmUoe2F0dGVzdGF0aW9uSWQ6dCxoYXNoOnMsZW5jcnlwdGVkSWQ6aSx2ZXJpZnlVcmw6ci52ZXJpZnlVcmx9KTtsJiYoYS52ZXJpZmllZC5vcmlnaW49bC5vcmlnaW4sYS52ZXJpZmllZC5pc1NjYW09bC5pc1NjYW0sYS52ZXJpZmllZC52YWxpZGF0aW9uPWwub3JpZ2luPT09bmV3IFVSTChyLnVybCkub3JpZ2luP1wiVkFMSURcIjpcIklOVkFMSURcIil9Y2F0Y2gobCl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4obCl9cmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5kZWJ1ZyhgVmVyaWZ5IGNvbnRleHQ6ICR7SlNPTi5zdHJpbmdpZnkoYSl9YCksYX0pLGModGhpcyxcInZhbGlkYXRlU2Vzc2lvblByb3BzXCIsKGUsdCk9PntPYmplY3QudmFsdWVzKGUpLmZvckVhY2goKHMsaSk9PntpZihzPT1udWxsKXtjb25zdHttZXNzYWdlOnJ9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgJHt0fSBtdXN0IGNvbnRhaW4gYW4gZXhpc3RpbmcgdmFsdWUgZm9yIGVhY2gga2V5LiBSZWNlaXZlZDogJHtzfSBmb3Iga2V5ICR7T2JqZWN0LmtleXMoZSlbaV19YCk7dGhyb3cgbmV3IEVycm9yKHIpfX0pfSksYyh0aGlzLFwiZ2V0UGVuZGluZ0F1dGhSZXF1ZXN0XCIsZT0+e2NvbnN0IHQ9dGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5nZXQoZSk7cmV0dXJuIHR5cGVvZiB0PT1cIm9iamVjdFwiP3Q6dm9pZCAwfSksYyh0aGlzLFwiYWRkVG9SZWNlbnRseURlbGV0ZWRcIiwoZSx0KT0+e2lmKHRoaXMucmVjZW50bHlEZWxldGVkTWFwLnNldChlLHQpLHRoaXMucmVjZW50bHlEZWxldGVkTWFwLnNpemU+PXRoaXMucmVjZW50bHlEZWxldGVkTGltaXQpe2xldCBzPTA7Y29uc3QgaT10aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0LzI7Zm9yKGNvbnN0IHIgb2YgdGhpcy5yZWNlbnRseURlbGV0ZWRNYXAua2V5cygpKXtpZihzKys+PWkpYnJlYWs7dGhpcy5yZWNlbnRseURlbGV0ZWRNYXAuZGVsZXRlKHIpfX19KSxjKHRoaXMsXCJjaGVja1JlY2VudGx5RGVsZXRlZFwiLGU9Pntjb25zdCB0PXRoaXMucmVjZW50bHlEZWxldGVkTWFwLmdldChlKTtpZih0KXtjb25zdHttZXNzYWdlOnN9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgUmVjb3JkIHdhcyByZWNlbnRseSBkZWxldGVkIC0gJHt0fTogJHtlfWApO3Rocm93IG5ldyBFcnJvcihzKX19KSxjKHRoaXMsXCJpc0xpbmtNb2RlRW5hYmxlZFwiLChlLHQpPT57dmFyIHMsaSxyLG8sYSxsLHAsaCx1O3JldHVybiFlfHx0IT09UC5saW5rX21vZGU/ITE6KChpPShzPXRoaXMuY2xpZW50Lm1ldGFkYXRhKT09bnVsbD92b2lkIDA6cy5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOmkubGlua01vZGUpPT09ITAmJigobz0ocj10aGlzLmNsaWVudC5tZXRhZGF0YSk9PW51bGw/dm9pZCAwOnIucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpvLnVuaXZlcnNhbCkhPT12b2lkIDAmJigobD0oYT10aGlzLmNsaWVudC5tZXRhZGF0YSk9PW51bGw/dm9pZCAwOmEucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpsLnVuaXZlcnNhbCkhPT1cIlwiJiYoKHA9ZT8ucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpwLnVuaXZlcnNhbCkhPT12b2lkIDAmJigoaD1lPy5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOmgudW5pdmVyc2FsKSE9PVwiXCImJigodT1lPy5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnUubGlua01vZGUpPT09ITAmJnRoaXMuY2xpZW50LmNvcmUubGlua01vZGVTdXBwb3J0ZWRBcHBzLmluY2x1ZGVzKGUucmVkaXJlY3QudW5pdmVyc2FsKSYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkxpbmtpbmcpPFwidVwifSksYyh0aGlzLFwiZ2V0QXBwTGlua0lmRW5hYmxlZFwiLChlLHQpPT57dmFyIHM7cmV0dXJuIHRoaXMuaXNMaW5rTW9kZUVuYWJsZWQoZSx0KT8ocz1lPy5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnMudW5pdmVyc2FsOnZvaWQgMH0pLGModGhpcyxcImhhbmRsZUxpbmtNb2RlTWVzc2FnZVwiLCh7dXJsOmV9KT0+e2lmKCFlfHwhZS5pbmNsdWRlcyhcIndjX2V2XCIpfHwhZS5pbmNsdWRlcyhcInRvcGljXCIpKXJldHVybjtjb25zdCB0PWx0KGUsXCJ0b3BpY1wiKXx8XCJcIixzPWRlY29kZVVSSUNvbXBvbmVudChsdChlLFwid2NfZXZcIil8fFwiXCIpLGk9dGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKHQpO2kmJnRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKHQse3RyYW5zcG9ydFR5cGU6UC5saW5rX21vZGV9KSx0aGlzLmNsaWVudC5jb3JlLmRpc3BhdGNoRW52ZWxvcGUoe3RvcGljOnQsbWVzc2FnZTpzLHNlc3Npb25FeGlzdHM6aX0pfSksYyh0aGlzLFwicmVnaXN0ZXJMaW5rTW9kZUxpc3RlbmVyc1wiLGFzeW5jKCk9Pnt2YXIgZTtpZihycygpfHxucygpJiYoZT10aGlzLmNsaWVudC5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJmUubGlua01vZGUpe2NvbnN0IHQ9Z2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuTGlua2luZztpZih0eXBlb2YgdDxcInVcIil7dC5hZGRFdmVudExpc3RlbmVyKFwidXJsXCIsdGhpcy5oYW5kbGVMaW5rTW9kZU1lc3NhZ2UsdGhpcy5jbGllbnQubmFtZSk7Y29uc3Qgcz1hd2FpdCB0LmdldEluaXRpYWxVUkwoKTtzJiZzZXRUaW1lb3V0KCgpPT57dGhpcy5oYW5kbGVMaW5rTW9kZU1lc3NhZ2Uoe3VybDpzfSl9LDUwKX19fSksYyh0aGlzLFwic2hvdWxkU2V0VFZGXCIsKGUsdCk9PntpZighdHx8ZSE9PVwid2Nfc2Vzc2lvblJlcXVlc3RcIilyZXR1cm4hMTtjb25zdHtyZXF1ZXN0OnN9PXQ7cmV0dXJuIE9iamVjdC5rZXlzKFVlKS5pbmNsdWRlcyhzLm1ldGhvZCl9KSxjKHRoaXMsXCJnZXRUVkZQYXJhbXNcIiwoZSx0LHMpPT57dmFyIGkscjt0cnl7Y29uc3Qgbz10LnJlcXVlc3QubWV0aG9kLGE9dGhpcy5leHRyYWN0VHhIYXNoZXNGcm9tUmVzdWx0KG8scyk7cmV0dXJuIGIodih7Y29ycmVsYXRpb25JZDplLHJwY01ldGhvZHM6W29dLGNoYWluSWQ6dC5jaGFpbklkfSx0aGlzLmlzVmFsaWRDb250cmFjdERhdGEodC5yZXF1ZXN0LnBhcmFtcykmJntjb250cmFjdEFkZHJlc3NlczpbKHI9KGk9dC5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOmlbMF0pPT1udWxsP3ZvaWQgMDpyLnRvXX0pLHt0eEhhc2hlczphfSl9Y2F0Y2gobyl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJFcnJvciBnZXR0aW5nIFRWRiBwYXJhbXNcIixvKX1yZXR1cm57fX0pLGModGhpcyxcImlzVmFsaWRDb250cmFjdERhdGFcIixlPT57dmFyIHQ7aWYoIWUpcmV0dXJuITE7dHJ5e2NvbnN0IHM9ZT8uZGF0YXx8KCh0PWU/LlswXSk9PW51bGw/dm9pZCAwOnQuZGF0YSk7aWYoIXMuc3RhcnRzV2l0aChcIjB4XCIpKXJldHVybiExO2NvbnN0IGk9cy5zbGljZSgyKTtyZXR1cm4vXlswLTlhLWZBLUZdKiQvLnRlc3QoaSk/aS5sZW5ndGglMj09PTA6ITF9Y2F0Y2h7fXJldHVybiExfSksYyh0aGlzLFwiZXh0cmFjdFR4SGFzaGVzRnJvbVJlc3VsdFwiLChlLHQpPT57dHJ5e2NvbnN0IHM9VWVbZV07aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpcmV0dXJuW3RdO2NvbnN0IGk9dFtzLmtleV07aWYob3MoaSkpcmV0dXJuIGU9PT1cInNvbGFuYV9zaWduQWxsVHJhbnNhY3Rpb25zXCI/aS5tYXAocj0+YXMocikpOmk7aWYodHlwZW9mIGk9PVwic3RyaW5nXCIpcmV0dXJuW2ldfWNhdGNoKHMpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKFwiRXJyb3IgZXh0cmFjdGluZyB0eCBoYXNoZXMgZnJvbSByZXN1bHRcIixzKX1yZXR1cm5bXX0pfWFzeW5jIHByb2Nlc3NQZW5kaW5nTWVzc2FnZUV2ZW50cygpe3RyeXtjb25zdCBuPXRoaXMuY2xpZW50LnNlc3Npb24ua2V5cyxlPXRoaXMuY2xpZW50LmNvcmUucmVsYXllci5tZXNzYWdlcy5nZXRXaXRob3V0QWNrKG4pO2Zvcihjb25zdFt0LHNdb2YgT2JqZWN0LmVudHJpZXMoZSkpZm9yKGNvbnN0IGkgb2Ygcyl0cnl7YXdhaXQgdGhpcy5vblByb3ZpZGVyTWVzc2FnZUV2ZW50KHt0b3BpYzp0LG1lc3NhZ2U6aSxwdWJsaXNoZWRBdDpEYXRlLm5vdygpfSl9Y2F0Y2h7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oYEVycm9yIHByb2Nlc3NpbmcgcGVuZGluZyBtZXNzYWdlIGV2ZW50IGZvciB0b3BpYzogJHt0fSwgbWVzc2FnZTogJHtpfWApfX1jYXRjaChuKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcInByb2Nlc3NQZW5kaW5nTWVzc2FnZUV2ZW50cyBmYWlsZWRcIixuKX19aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOm59PXkoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihuKX19YXN5bmMgY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpe2F3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5jb25maXJtT25saW5lU3RhdGVPclRocm93KCl9cmVnaXN0ZXJSZWxheWVyRXZlbnRzKCl7dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm9uKFhlLm1lc3NhZ2Usbj0+e3RoaXMub25Qcm92aWRlck1lc3NhZ2VFdmVudChuKX0pfWFzeW5jIG9uUmVsYXlNZXNzYWdlKG4pe2NvbnN0e3RvcGljOmUsbWVzc2FnZTp0LGF0dGVzdGF0aW9uOnMsdHJhbnNwb3J0VHlwZTppfT1uLHtwdWJsaWNLZXk6cn09dGhpcy5jbGllbnQuYXV0aC5hdXRoS2V5cy5rZXlzLmluY2x1ZGVzKGNlKT90aGlzLmNsaWVudC5hdXRoLmF1dGhLZXlzLmdldChjZSk6e3Jlc3BvbnNlVG9waWM6dm9pZCAwLHB1YmxpY0tleTp2b2lkIDB9O3RyeXtjb25zdCBvPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmRlY29kZShlLHQse3JlY2VpdmVyUHVibGljS2V5OnIsZW5jb2Rpbmc6aT09PVAubGlua19tb2RlP25lOmRlfSk7aHMobyk/KHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoZSxvKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlcXVlc3Qoe3RvcGljOmUscGF5bG9hZDpvLGF0dGVzdGF0aW9uOnMsdHJhbnNwb3J0VHlwZTppLGVuY3J5cHRlZElkOlcodCl9KSk6ZHMobyk/KGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKG8pLGF3YWl0IHRoaXMub25SZWxheUV2ZW50UmVzcG9uc2Uoe3RvcGljOmUscGF5bG9hZDpvLHRyYW5zcG9ydFR5cGU6aX0pLHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5kZWxldGUoZSxvLmlkKSk6YXdhaXQgdGhpcy5vblJlbGF5RXZlbnRVbmtub3duUGF5bG9hZCh7dG9waWM6ZSxwYXlsb2FkOm8sdHJhbnNwb3J0VHlwZTppfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm1lc3NhZ2VzLmFjayhlLHQpfWNhdGNoKG8pe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihvKX19cmVnaXN0ZXJFeHBpcmVyRXZlbnRzKCl7dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLm9uKFR0LmV4cGlyZWQsYXN5bmMgbj0+e2NvbnN0e3RvcGljOmUsaWQ6dH09TXQobi50YXJnZXQpO2lmKHQmJnRoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LmtleXMuaW5jbHVkZXModCkpcmV0dXJuIGF3YWl0IHRoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0KHQseShcIkVYUElSRURcIiksITApO2lmKHQmJnRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMua2V5cy5pbmNsdWRlcyh0KSlyZXR1cm4gYXdhaXQgdGhpcy5kZWxldGVQZW5kaW5nQXV0aFJlcXVlc3QodCx5KFwiRVhQSVJFRFwiKSwhMCk7ZT90aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMoZSkmJihhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOmUsZXhwaXJlckhhc0RlbGV0ZWQ6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXhwaXJlXCIse3RvcGljOmV9KSk6dCYmKGF3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwodCwhMCksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJwcm9wb3NhbF9leHBpcmVcIix7aWQ6dH0pKX0pfXJlZ2lzdGVyUGFpcmluZ0V2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUucGFpcmluZy5ldmVudHMub24oSmUuY3JlYXRlLG49PnRoaXMub25QYWlyaW5nQ3JlYXRlZChuKSksdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmV2ZW50cy5vbihKZS5kZWxldGUsbj0+e3RoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQobi50b3BpYyxcInBhaXJpbmdcIil9KX1pc1ZhbGlkUGFpcmluZ1RvcGljKG4pe2lmKCFZKG4sITEpKXtjb25zdHttZXNzYWdlOmV9PXkoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9aWYoIXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKG4pKXtjb25zdHttZXNzYWdlOmV9PXkoXCJOT19NQVRDSElOR19LRVlcIixgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfWlmKFoodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChuKS5leHBpcnkpKXtjb25zdHttZXNzYWdlOmV9PXkoXCJFWFBJUkVEXCIsYHBhaXJpbmcgdG9waWM6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9fWFzeW5jIGlzVmFsaWRTZXNzaW9uVG9waWMobil7aWYoIVkobiwhMSkpe2NvbnN0e21lc3NhZ2U6ZX09eShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBzZXNzaW9uIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX1pZih0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKG4pLCF0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMobikpe2NvbnN0e21lc3NhZ2U6ZX09eShcIk5PX01BVENISU5HX0tFWVwiLGBzZXNzaW9uIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9aWYoWih0aGlzLmNsaWVudC5zZXNzaW9uLmdldChuKS5leHBpcnkpKXthd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOm59KTtjb25zdHttZXNzYWdlOmV9PXkoXCJFWFBJUkVEXCIsYHNlc3Npb24gdG9waWM6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9aWYoIXRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhuKSl7Y29uc3R7bWVzc2FnZTplfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gdG9waWMgZG9lcyBub3QgZXhpc3QgaW4ga2V5Y2hhaW46ICR7bn1gKTt0aHJvdyBhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOm59KSxuZXcgRXJyb3IoZSl9fWFzeW5jIGlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWMobil7aWYodGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChuKSx0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMobikpYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKG4pO2Vsc2UgaWYodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMobikpdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKG4pO2Vsc2UgaWYoWShuLCExKSl7Y29uc3R7bWVzc2FnZTplfT15KFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfWVsc2V7Y29uc3R7bWVzc2FnZTplfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9fWFzeW5jIGlzVmFsaWRQcm9wb3NhbElkKG4pe2lmKCEkdChuKSl7Y29uc3R7bWVzc2FnZTplfT15KFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHByb3Bvc2FsIGlkIHNob3VsZCBiZSBhIG51bWJlcjogJHtufWApO3Rocm93IG5ldyBFcnJvcihlKX1pZighdGhpcy5jbGllbnQucHJvcG9zYWwua2V5cy5pbmNsdWRlcyhuKSl7Y29uc3R7bWVzc2FnZTplfT15KFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHByb3Bvc2FsIGlkIGRvZXNuJ3QgZXhpc3Q6ICR7bn1gKTt0aHJvdyBuZXcgRXJyb3IoZSl9aWYoWih0aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQobikuZXhwaXJ5VGltZXN0YW1wKSl7YXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChuKTtjb25zdHttZXNzYWdlOmV9PXkoXCJFWFBJUkVEXCIsYHByb3Bvc2FsIGlkOiAke259YCk7dGhyb3cgbmV3IEVycm9yKGUpfX19Y2xhc3MgTnMgZXh0ZW5kcyBCe2NvbnN0cnVjdG9yKG4sZSl7c3VwZXIobixlLHB0LHdlKSx0aGlzLmNvcmU9bix0aGlzLmxvZ2dlcj1lfX1jbGFzcyBTdCBleHRlbmRzIEJ7Y29uc3RydWN0b3IobixlKXtzdXBlcihuLGUsaHQsd2UpLHRoaXMuY29yZT1uLHRoaXMubG9nZ2VyPWV9fWNsYXNzIE9zIGV4dGVuZHMgQntjb25zdHJ1Y3RvcihuLGUpe3N1cGVyKG4sZSx1dCx3ZSx0PT50LmlkKSx0aGlzLmNvcmU9bix0aGlzLmxvZ2dlcj1lfX1jbGFzcyBicyBleHRlbmRzIEJ7Y29uc3RydWN0b3IobixlKXtzdXBlcihuLGUsbXQsYWUsKCk9PmNlKSx0aGlzLmNvcmU9bix0aGlzLmxvZ2dlcj1lfX1jbGFzcyBBcyBleHRlbmRzIEJ7Y29uc3RydWN0b3IobixlKXtzdXBlcihuLGUsX3QsYWUpLHRoaXMuY29yZT1uLHRoaXMubG9nZ2VyPWV9fWNsYXNzIHhzIGV4dGVuZHMgQntjb25zdHJ1Y3RvcihuLGUpe3N1cGVyKG4sZSxFdCxhZSx0PT50LmlkKSx0aGlzLmNvcmU9bix0aGlzLmxvZ2dlcj1lfX12YXIgQ3M9T2JqZWN0LmRlZmluZVByb3BlcnR5LFZzPShTLG4sZSk9Pm4gaW4gUz9DcyhTLG4se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpTW25dPWUsR2U9KFMsbixlKT0+VnMoUyx0eXBlb2YgbiE9XCJzeW1ib2xcIj9uK1wiXCI6bixlKTtjbGFzcyBEc3tjb25zdHJ1Y3RvcihuLGUpe3RoaXMuY29yZT1uLHRoaXMubG9nZ2VyPWUsR2UodGhpcyxcImF1dGhLZXlzXCIpLEdlKHRoaXMsXCJwYWlyaW5nVG9waWNzXCIpLEdlKHRoaXMsXCJyZXF1ZXN0c1wiKSx0aGlzLmF1dGhLZXlzPW5ldyBicyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGFpcmluZ1RvcGljcz1uZXcgQXModGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnJlcXVlc3RzPW5ldyB4cyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpfWFzeW5jIGluaXQoKXthd2FpdCB0aGlzLmF1dGhLZXlzLmluaXQoKSxhd2FpdCB0aGlzLnBhaXJpbmdUb3BpY3MuaW5pdCgpLGF3YWl0IHRoaXMucmVxdWVzdHMuaW5pdCgpfX12YXIgTHM9T2JqZWN0LmRlZmluZVByb3BlcnR5LGtzPShTLG4sZSk9Pm4gaW4gUz9McyhTLG4se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KTpTW25dPWUsRT0oUyxuLGUpPT5rcyhTLHR5cGVvZiBuIT1cInN5bWJvbFwiP24rXCJcIjpuLGUpO2NsYXNzIEVlIGV4dGVuZHMgTHR7Y29uc3RydWN0b3Iobil7c3VwZXIobiksRSh0aGlzLFwicHJvdG9jb2xcIixEZSksRSh0aGlzLFwidmVyc2lvblwiLExlKSxFKHRoaXMsXCJuYW1lXCIsbWUubmFtZSksRSh0aGlzLFwibWV0YWRhdGFcIiksRSh0aGlzLFwiY29yZVwiKSxFKHRoaXMsXCJsb2dnZXJcIiksRSh0aGlzLFwiZXZlbnRzXCIsbmV3IHBzKSxFKHRoaXMsXCJlbmdpbmVcIiksRSh0aGlzLFwic2Vzc2lvblwiKSxFKHRoaXMsXCJwcm9wb3NhbFwiKSxFKHRoaXMsXCJwZW5kaW5nUmVxdWVzdFwiKSxFKHRoaXMsXCJhdXRoXCIpLEUodGhpcyxcInNpZ25Db25maWdcIiksRSh0aGlzLFwib25cIiwodCxzKT0+dGhpcy5ldmVudHMub24odCxzKSksRSh0aGlzLFwib25jZVwiLCh0LHMpPT50aGlzLmV2ZW50cy5vbmNlKHQscykpLEUodGhpcyxcIm9mZlwiLCh0LHMpPT50aGlzLmV2ZW50cy5vZmYodCxzKSksRSh0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwodCxzKT0+dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIodCxzKSksRSh0aGlzLFwicmVtb3ZlQWxsTGlzdGVuZXJzXCIsdD0+dGhpcy5ldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpKSxFKHRoaXMsXCJjb25uZWN0XCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuY29ubmVjdCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwicGFpclwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnBhaXIodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcImFwcHJvdmVcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5hcHByb3ZlKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJyZWplY3RcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZWplY3QodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcInVwZGF0ZVwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnVwZGF0ZSh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwiZXh0ZW5kXCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuZXh0ZW5kKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJyZXF1ZXN0XCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVxdWVzdCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwicmVzcG9uZFwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlc3BvbmQodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcInBpbmdcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5waW5nKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJlbWl0XCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuZW1pdCh0KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksRSh0aGlzLFwiZGlzY29ubmVjdFwiLGFzeW5jIHQ9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmRpc2Nvbm5lY3QodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcImZpbmRcIix0PT57dHJ5e3JldHVybiB0aGlzLmVuZ2luZS5maW5kKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxFKHRoaXMsXCJnZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzXCIsKCk9Pnt0cnl7cmV0dXJuIHRoaXMuZW5naW5lLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKX1jYXRjaCh0KXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0Lm1lc3NhZ2UpLHR9fSksRSh0aGlzLFwiYXV0aGVudGljYXRlXCIsYXN5bmModCxzKT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXV0aGVudGljYXRlKHQscyl9Y2F0Y2goaSl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoaS5tZXNzYWdlKSxpfX0pLEUodGhpcyxcImZvcm1hdEF1dGhNZXNzYWdlXCIsdD0+e3RyeXtyZXR1cm4gdGhpcy5lbmdpbmUuZm9ybWF0QXV0aE1lc3NhZ2UodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcImFwcHJvdmVTZXNzaW9uQXV0aGVudGljYXRlXCIsYXN5bmMgdD0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXBwcm92ZVNlc3Npb25BdXRoZW50aWNhdGUodCl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLEUodGhpcyxcInJlamVjdFNlc3Npb25BdXRoZW50aWNhdGVcIixhc3luYyB0PT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZWplY3RTZXNzaW9uQXV0aGVudGljYXRlKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSx0aGlzLm5hbWU9bj8ubmFtZXx8bWUubmFtZSx0aGlzLm1ldGFkYXRhPWNzKG4/Lm1ldGFkYXRhKSx0aGlzLnNpZ25Db25maWc9bj8uc2lnbkNvbmZpZztjb25zdCBlPXR5cGVvZiBuPy5sb2dnZXI8XCJ1XCImJnR5cGVvZiBuPy5sb2dnZXIhPVwic3RyaW5nXCI/bi5sb2dnZXI6QXQoeHQoe2xldmVsOm4/LmxvZ2dlcnx8bWUubG9nZ2VyfSkpO3RoaXMuY29yZT1uPy5jb3JlfHxuZXcgYnQobiksdGhpcy5sb2dnZXI9Q3QoZSx0aGlzLm5hbWUpLHRoaXMuc2Vzc2lvbj1uZXcgU3QodGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnByb3Bvc2FsPW5ldyBOcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGVuZGluZ1JlcXVlc3Q9bmV3IE9zKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5lbmdpbmU9bmV3IFBzKHRoaXMpLHRoaXMuYXV0aD1uZXcgRHModGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1zdGF0aWMgYXN5bmMgaW5pdChuKXtjb25zdCBlPW5ldyBFZShuKTtyZXR1cm4gYXdhaXQgZS5pbml0aWFsaXplKCksZX1nZXQgY29udGV4dCgpe3JldHVybiBWdCh0aGlzLmxvZ2dlcil9Z2V0IHBhaXJpbmcoKXtyZXR1cm4gdGhpcy5jb3JlLnBhaXJpbmcucGFpcmluZ3N9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY29yZS5zdGFydCgpLGF3YWl0IHRoaXMuc2Vzc2lvbi5pbml0KCksYXdhaXQgdGhpcy5wcm9wb3NhbC5pbml0KCksYXdhaXQgdGhpcy5wZW5kaW5nUmVxdWVzdC5pbml0KCksYXdhaXQgdGhpcy5hdXRoLmluaXQoKSxhd2FpdCB0aGlzLmVuZ2luZS5pbml0KCksdGhpcy5sb2dnZXIuaW5mbyhcIlNpZ25DbGllbnQgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKSxzZXRUaW1lb3V0KCgpPT57dGhpcy5lbmdpbmUucHJvY2Vzc1JlbGF5TWVzc2FnZUNhY2hlKCl9LE9lKFplKSl9Y2F0Y2gobil7dGhyb3cgdGhpcy5sb2dnZXIuaW5mbyhcIlNpZ25DbGllbnQgSW5pdGlhbGl6YXRpb24gRmFpbHVyZVwiKSx0aGlzLmxvZ2dlci5lcnJvcihuLm1lc3NhZ2UpLG59fX1jb25zdCBNcz1TdCwkcz1FZTtleHBvcnR7d3QgYXMgQVVUSF9DT05URVhULG10IGFzIEFVVEhfS0VZU19DT05URVhULF90IGFzIEFVVEhfUEFJUklOR19UT1BJQ19DT05URVhULHl0IGFzIEFVVEhfUFJPVE9DT0wsY2UgYXMgQVVUSF9QVUJMSUNfS0VZX05BTUUsRXQgYXMgQVVUSF9SRVFVRVNUX0NPTlRFWFQsYWUgYXMgQVVUSF9TVE9SQUdFX1BSRUZJWCxTcyBhcyBBVVRIX1ZFUlNJT04sZHQgYXMgRU5HSU5FX0NPTlRFWFQsJCBhcyBFTkdJTkVfUVVFVUVfU1RBVEVTLE4gYXMgRU5HSU5FX1JQQ19PUFRTLF9zIGFzIEhJU1RPUllfQ09OVEVYVCxtcyBhcyBISVNUT1JZX0VWRU5UUyxFcyBhcyBISVNUT1JZX1NUT1JBR0VfVkVSU0lPTixndCBhcyBNRVRIT0RTX1RPX1ZFUklGWSxwdCBhcyBQUk9QT1NBTF9DT05URVhULGZzIGFzIFBST1BPU0FMX0VYUElSWSwkZSBhcyBQUk9QT1NBTF9FWFBJUllfTUVTU0FHRSx1dCBhcyBSRVFVRVNUX0NPTlRFWFQsaHQgYXMgU0VTU0lPTl9DT05URVhULEogYXMgU0VTU0lPTl9FWFBJUlksX2UgYXMgU0VTU0lPTl9SRVFVRVNUX0VYUElSWV9CT1VOREFSSUVTLGtlIGFzIFNJR05fQ0xJRU5UX0NPTlRFWFQsbWUgYXMgU0lHTl9DTElFTlRfREVGQVVMVCx5cyBhcyBTSUdOX0NMSUVOVF9FVkVOVFMsRGUgYXMgU0lHTl9DTElFTlRfUFJPVE9DT0wsd3MgYXMgU0lHTl9DTElFTlRfU1RPUkFHRV9PUFRJT05TLHdlIGFzIFNJR05fQ0xJRU5UX1NUT1JBR0VfUFJFRklYLExlIGFzIFNJR05fQ0xJRU5UX1ZFUlNJT04sTXMgYXMgU2Vzc2lvblN0b3JlLCRzIGFzIFNpZ25DbGllbnQsVWUgYXMgVFZGX01FVEhPRFMsTWUgYXMgV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0UsRWUgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/sign-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/constants/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./misc */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/misc.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/time.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0IscUJBQXFCLG1CQUFPLENBQUMsbUZBQVE7QUFDckMscUJBQXFCLG1CQUFPLENBQUMsbUZBQVE7QUFDckMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3RpbWUvZGlzdC9janMvY29uc3RhbnRzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL21pc2NcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdGltZVwiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/misc.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/constants/misc.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ONE_THOUSAND = exports.ONE_HUNDRED = void 0;\nexports.ONE_HUNDRED = 100;\nexports.ONE_THOUSAND = 1000;\n//# sourceMappingURL=misc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvbWlzYy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0IsR0FBRyxtQkFBbUI7QUFDMUMsbUJBQW1CO0FBQ25CLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvbWlzYy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT05FX1RIT1VTQU5EID0gZXhwb3J0cy5PTkVfSFVORFJFRCA9IHZvaWQgMDtcbmV4cG9ydHMuT05FX0hVTkRSRUQgPSAxMDA7XG5leHBvcnRzLk9ORV9USE9VU0FORCA9IDEwMDA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXNjLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/misc.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/time.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/constants/time.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ONE_YEAR = exports.FOUR_WEEKS = exports.THREE_WEEKS = exports.TWO_WEEKS = exports.ONE_WEEK = exports.THIRTY_DAYS = exports.SEVEN_DAYS = exports.FIVE_DAYS = exports.THREE_DAYS = exports.ONE_DAY = exports.TWENTY_FOUR_HOURS = exports.TWELVE_HOURS = exports.SIX_HOURS = exports.THREE_HOURS = exports.ONE_HOUR = exports.SIXTY_MINUTES = exports.THIRTY_MINUTES = exports.TEN_MINUTES = exports.FIVE_MINUTES = exports.ONE_MINUTE = exports.SIXTY_SECONDS = exports.THIRTY_SECONDS = exports.TEN_SECONDS = exports.FIVE_SECONDS = exports.ONE_SECOND = void 0;\nexports.ONE_SECOND = 1;\nexports.FIVE_SECONDS = 5;\nexports.TEN_SECONDS = 10;\nexports.THIRTY_SECONDS = 30;\nexports.SIXTY_SECONDS = 60;\nexports.ONE_MINUTE = exports.SIXTY_SECONDS;\nexports.FIVE_MINUTES = exports.ONE_MINUTE * 5;\nexports.TEN_MINUTES = exports.ONE_MINUTE * 10;\nexports.THIRTY_MINUTES = exports.ONE_MINUTE * 30;\nexports.SIXTY_MINUTES = exports.ONE_MINUTE * 60;\nexports.ONE_HOUR = exports.SIXTY_MINUTES;\nexports.THREE_HOURS = exports.ONE_HOUR * 3;\nexports.SIX_HOURS = exports.ONE_HOUR * 6;\nexports.TWELVE_HOURS = exports.ONE_HOUR * 12;\nexports.TWENTY_FOUR_HOURS = exports.ONE_HOUR * 24;\nexports.ONE_DAY = exports.TWENTY_FOUR_HOURS;\nexports.THREE_DAYS = exports.ONE_DAY * 3;\nexports.FIVE_DAYS = exports.ONE_DAY * 5;\nexports.SEVEN_DAYS = exports.ONE_DAY * 7;\nexports.THIRTY_DAYS = exports.ONE_DAY * 30;\nexports.ONE_WEEK = exports.SEVEN_DAYS;\nexports.TWO_WEEKS = exports.ONE_WEEK * 2;\nexports.THREE_WEEKS = exports.ONE_WEEK * 3;\nexports.FOUR_WEEKS = exports.ONE_WEEK * 4;\nexports.ONE_YEAR = exports.ONE_DAY * 365;\n//# sourceMappingURL=time.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9jb25zdGFudHMvdGltZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsR0FBRyxrQkFBa0IsR0FBRyxtQkFBbUIsR0FBRyxpQkFBaUIsR0FBRyxnQkFBZ0IsR0FBRyxtQkFBbUIsR0FBRyxrQkFBa0IsR0FBRyxpQkFBaUIsR0FBRyxrQkFBa0IsR0FBRyxlQUFlLEdBQUcseUJBQXlCLEdBQUcsb0JBQW9CLEdBQUcsaUJBQWlCLEdBQUcsbUJBQW1CLEdBQUcsZ0JBQWdCLEdBQUcscUJBQXFCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcsb0JBQW9CLEdBQUcsa0JBQWtCLEdBQUcscUJBQXFCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcsb0JBQW9CLEdBQUcsa0JBQWtCO0FBQzloQixrQkFBa0I7QUFDbEIsb0JBQW9CO0FBQ3BCLG1CQUFtQjtBQUNuQixzQkFBc0I7QUFDdEIscUJBQXFCO0FBQ3JCLGtCQUFrQjtBQUNsQixvQkFBb0I7QUFDcEIsbUJBQW1CO0FBQ25CLHNCQUFzQjtBQUN0QixxQkFBcUI7QUFDckIsZ0JBQWdCO0FBQ2hCLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakIsb0JBQW9CO0FBQ3BCLHlCQUF5QjtBQUN6QixlQUFlO0FBQ2Ysa0JBQWtCO0FBQ2xCLGlCQUFpQjtBQUNqQixrQkFBa0I7QUFDbEIsbUJBQW1CO0FBQ25CLGdCQUFnQjtBQUNoQixpQkFBaUI7QUFDakIsbUJBQW1CO0FBQ25CLGtCQUFrQjtBQUNsQixnQkFBZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3RpbWUvZGlzdC9janMvY29uc3RhbnRzL3RpbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9ORV9ZRUFSID0gZXhwb3J0cy5GT1VSX1dFRUtTID0gZXhwb3J0cy5USFJFRV9XRUVLUyA9IGV4cG9ydHMuVFdPX1dFRUtTID0gZXhwb3J0cy5PTkVfV0VFSyA9IGV4cG9ydHMuVEhJUlRZX0RBWVMgPSBleHBvcnRzLlNFVkVOX0RBWVMgPSBleHBvcnRzLkZJVkVfREFZUyA9IGV4cG9ydHMuVEhSRUVfREFZUyA9IGV4cG9ydHMuT05FX0RBWSA9IGV4cG9ydHMuVFdFTlRZX0ZPVVJfSE9VUlMgPSBleHBvcnRzLlRXRUxWRV9IT1VSUyA9IGV4cG9ydHMuU0lYX0hPVVJTID0gZXhwb3J0cy5USFJFRV9IT1VSUyA9IGV4cG9ydHMuT05FX0hPVVIgPSBleHBvcnRzLlNJWFRZX01JTlVURVMgPSBleHBvcnRzLlRISVJUWV9NSU5VVEVTID0gZXhwb3J0cy5URU5fTUlOVVRFUyA9IGV4cG9ydHMuRklWRV9NSU5VVEVTID0gZXhwb3J0cy5PTkVfTUlOVVRFID0gZXhwb3J0cy5TSVhUWV9TRUNPTkRTID0gZXhwb3J0cy5USElSVFlfU0VDT05EUyA9IGV4cG9ydHMuVEVOX1NFQ09ORFMgPSBleHBvcnRzLkZJVkVfU0VDT05EUyA9IGV4cG9ydHMuT05FX1NFQ09ORCA9IHZvaWQgMDtcbmV4cG9ydHMuT05FX1NFQ09ORCA9IDE7XG5leHBvcnRzLkZJVkVfU0VDT05EUyA9IDU7XG5leHBvcnRzLlRFTl9TRUNPTkRTID0gMTA7XG5leHBvcnRzLlRISVJUWV9TRUNPTkRTID0gMzA7XG5leHBvcnRzLlNJWFRZX1NFQ09ORFMgPSA2MDtcbmV4cG9ydHMuT05FX01JTlVURSA9IGV4cG9ydHMuU0lYVFlfU0VDT05EUztcbmV4cG9ydHMuRklWRV9NSU5VVEVTID0gZXhwb3J0cy5PTkVfTUlOVVRFICogNTtcbmV4cG9ydHMuVEVOX01JTlVURVMgPSBleHBvcnRzLk9ORV9NSU5VVEUgKiAxMDtcbmV4cG9ydHMuVEhJUlRZX01JTlVURVMgPSBleHBvcnRzLk9ORV9NSU5VVEUgKiAzMDtcbmV4cG9ydHMuU0lYVFlfTUlOVVRFUyA9IGV4cG9ydHMuT05FX01JTlVURSAqIDYwO1xuZXhwb3J0cy5PTkVfSE9VUiA9IGV4cG9ydHMuU0lYVFlfTUlOVVRFUztcbmV4cG9ydHMuVEhSRUVfSE9VUlMgPSBleHBvcnRzLk9ORV9IT1VSICogMztcbmV4cG9ydHMuU0lYX0hPVVJTID0gZXhwb3J0cy5PTkVfSE9VUiAqIDY7XG5leHBvcnRzLlRXRUxWRV9IT1VSUyA9IGV4cG9ydHMuT05FX0hPVVIgKiAxMjtcbmV4cG9ydHMuVFdFTlRZX0ZPVVJfSE9VUlMgPSBleHBvcnRzLk9ORV9IT1VSICogMjQ7XG5leHBvcnRzLk9ORV9EQVkgPSBleHBvcnRzLlRXRU5UWV9GT1VSX0hPVVJTO1xuZXhwb3J0cy5USFJFRV9EQVlTID0gZXhwb3J0cy5PTkVfREFZICogMztcbmV4cG9ydHMuRklWRV9EQVlTID0gZXhwb3J0cy5PTkVfREFZICogNTtcbmV4cG9ydHMuU0VWRU5fREFZUyA9IGV4cG9ydHMuT05FX0RBWSAqIDc7XG5leHBvcnRzLlRISVJUWV9EQVlTID0gZXhwb3J0cy5PTkVfREFZICogMzA7XG5leHBvcnRzLk9ORV9XRUVLID0gZXhwb3J0cy5TRVZFTl9EQVlTO1xuZXhwb3J0cy5UV09fV0VFS1MgPSBleHBvcnRzLk9ORV9XRUVLICogMjtcbmV4cG9ydHMuVEhSRUVfV0VFS1MgPSBleHBvcnRzLk9ORV9XRUVLICogMztcbmV4cG9ydHMuRk9VUl9XRUVLUyA9IGV4cG9ydHMuT05FX1dFRUsgKiA0O1xuZXhwb3J0cy5PTkVfWUVBUiA9IGV4cG9ydHMuT05FX0RBWSAqIDM2NTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/time.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/index.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./watch */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/watch.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/index.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQixxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQywyRUFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBYTtBQUMxQyIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi91dGlsc1wiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi93YXRjaFwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi90eXBlc1wiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25zdGFudHNcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/types/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./watch */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/watch.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy90eXBlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQixxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy90eXBlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi93YXRjaFwiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/watch.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/types/watch.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IWatch = void 0;\nclass IWatch {\n}\nexports.IWatch = IWatch;\n//# sourceMappingURL=watch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy90eXBlcy93YXRjaC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy90eXBlcy93YXRjaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSVdhdGNoID0gdm9pZCAwO1xuY2xhc3MgSVdhdGNoIHtcbn1cbmV4cG9ydHMuSVdhdGNoID0gSVdhdGNoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2F0Y2guanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/types/watch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/convert.js":
/*!********************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/utils/convert.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fromMiliseconds = exports.toMiliseconds = void 0;\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/constants/index.js\");\nfunction toMiliseconds(seconds) {\n    return seconds * constants_1.ONE_THOUSAND;\n}\nexports.toMiliseconds = toMiliseconds;\nfunction fromMiliseconds(miliseconds) {\n    return Math.floor(miliseconds / constants_1.ONE_THOUSAND);\n}\nexports.fromMiliseconds = fromMiliseconds;\n//# sourceMappingURL=convert.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy91dGlscy9jb252ZXJ0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QixHQUFHLHFCQUFxQjtBQUMvQyxvQkFBb0IsbUJBQU8sQ0FBQywwRkFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL3V0aWxzL2NvbnZlcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZyb21NaWxpc2Vjb25kcyA9IGV4cG9ydHMudG9NaWxpc2Vjb25kcyA9IHZvaWQgMDtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL2NvbnN0YW50c1wiKTtcbmZ1bmN0aW9uIHRvTWlsaXNlY29uZHMoc2Vjb25kcykge1xuICAgIHJldHVybiBzZWNvbmRzICogY29uc3RhbnRzXzEuT05FX1RIT1VTQU5EO1xufVxuZXhwb3J0cy50b01pbGlzZWNvbmRzID0gdG9NaWxpc2Vjb25kcztcbmZ1bmN0aW9uIGZyb21NaWxpc2Vjb25kcyhtaWxpc2Vjb25kcykge1xuICAgIHJldHVybiBNYXRoLmZsb29yKG1pbGlzZWNvbmRzIC8gY29uc3RhbnRzXzEuT05FX1RIT1VTQU5EKTtcbn1cbmV4cG9ydHMuZnJvbU1pbGlzZWNvbmRzID0gZnJvbU1pbGlzZWNvbmRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udmVydC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/convert.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/delay.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/utils/delay.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.delay = void 0;\nfunction delay(timeout) {\n    return new Promise(resolve => {\n        setTimeout(() => {\n            resolve(true);\n        }, timeout);\n    });\n}\nexports.delay = delay;\n//# sourceMappingURL=delay.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy91dGlscy9kZWxheS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsYUFBYTtBQUNiIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90aW1lL2Rpc3QvY2pzL3V0aWxzL2RlbGF5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWxheSA9IHZvaWQgMDtcbmZ1bmN0aW9uIGRlbGF5KHRpbWVvdXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgfSk7XG59XG5leHBvcnRzLmRlbGF5ID0gZGVsYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxheS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/delay.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/utils/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/tslib/tslib.es6.js\");\ntslib_1.__exportStar(__webpack_require__(/*! ./delay */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/delay.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./convert */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/convert.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy91dGlscy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQixxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBUztBQUN0QyxxQkFBcUIsbUJBQU8sQ0FBQyxxRkFBVztBQUN4QyIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy91dGlscy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9kZWxheVwiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb252ZXJ0XCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/utils/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/time/dist/cjs/watch.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/time/dist/cjs/watch.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Watch = void 0;\nclass Watch {\n    constructor() {\n        this.timestamps = new Map();\n    }\n    start(label) {\n        if (this.timestamps.has(label)) {\n            throw new Error(`Watch already started for label: ${label}`);\n        }\n        this.timestamps.set(label, { started: Date.now() });\n    }\n    stop(label) {\n        const timestamp = this.get(label);\n        if (typeof timestamp.elapsed !== \"undefined\") {\n            throw new Error(`Watch already stopped for label: ${label}`);\n        }\n        const elapsed = Date.now() - timestamp.started;\n        this.timestamps.set(label, { started: timestamp.started, elapsed });\n    }\n    get(label) {\n        const timestamp = this.timestamps.get(label);\n        if (typeof timestamp === \"undefined\") {\n            throw new Error(`No timestamp found for label: ${label}`);\n        }\n        return timestamp;\n    }\n    elapsed(label) {\n        const timestamp = this.get(label);\n        const elapsed = timestamp.elapsed || Date.now() - timestamp.started;\n        return elapsed;\n    }\n}\nexports.Watch = Watch;\nexports[\"default\"] = Watch;\n//# sourceMappingURL=watch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy93YXRjaC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLE1BQU07QUFDdEU7QUFDQSxxQ0FBcUMscUJBQXFCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLE1BQU07QUFDdEU7QUFDQTtBQUNBLHFDQUFxQyxxQ0FBcUM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsTUFBTTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdGltZS9kaXN0L2Nqcy93YXRjaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2F0Y2ggPSB2b2lkIDA7XG5jbGFzcyBXYXRjaCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGltZXN0YW1wcyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgc3RhcnQobGFiZWwpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZXN0YW1wcy5oYXMobGFiZWwpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFdhdGNoIGFscmVhZHkgc3RhcnRlZCBmb3IgbGFiZWw6ICR7bGFiZWx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lc3RhbXBzLnNldChsYWJlbCwgeyBzdGFydGVkOiBEYXRlLm5vdygpIH0pO1xuICAgIH1cbiAgICBzdG9wKGxhYmVsKSB7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IHRoaXMuZ2V0KGxhYmVsKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lc3RhbXAuZWxhcHNlZCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBXYXRjaCBhbHJlYWR5IHN0b3BwZWQgZm9yIGxhYmVsOiAke2xhYmVsfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gdGltZXN0YW1wLnN0YXJ0ZWQ7XG4gICAgICAgIHRoaXMudGltZXN0YW1wcy5zZXQobGFiZWwsIHsgc3RhcnRlZDogdGltZXN0YW1wLnN0YXJ0ZWQsIGVsYXBzZWQgfSk7XG4gICAgfVxuICAgIGdldChsYWJlbCkge1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSB0aGlzLnRpbWVzdGFtcHMuZ2V0KGxhYmVsKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lc3RhbXAgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gdGltZXN0YW1wIGZvdW5kIGZvciBsYWJlbDogJHtsYWJlbH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGltZXN0YW1wO1xuICAgIH1cbiAgICBlbGFwc2VkKGxhYmVsKSB7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IHRoaXMuZ2V0KGxhYmVsKTtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IHRpbWVzdGFtcC5lbGFwc2VkIHx8IERhdGUubm93KCkgLSB0aW1lc3RhbXAuc3RhcnRlZDtcbiAgICAgICAgcmV0dXJuIGVsYXBzZWQ7XG4gICAgfVxufVxuZXhwb3J0cy5XYXRjaCA9IFdhdGNoO1xuZXhwb3J0cy5kZWZhdWx0ID0gV2F0Y2g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13YXRjaC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/time/dist/cjs/watch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/types/dist/index.es.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/types/dist/index.es.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ICore: () => (/* binding */ h),\n/* harmony export */   ICrypto: () => (/* binding */ g),\n/* harmony export */   IEchoClient: () => (/* binding */ O),\n/* harmony export */   IEngine: () => (/* binding */ V),\n/* harmony export */   IEngineEvents: () => (/* binding */ K),\n/* harmony export */   IEventClient: () => (/* binding */ R),\n/* harmony export */   IExpirer: () => (/* binding */ S),\n/* harmony export */   IJsonRpcHistory: () => (/* binding */ I),\n/* harmony export */   IKeyChain: () => (/* binding */ j),\n/* harmony export */   IMessageTracker: () => (/* binding */ y),\n/* harmony export */   IPairing: () => (/* binding */ $),\n/* harmony export */   IPublisher: () => (/* binding */ m),\n/* harmony export */   IRelayer: () => (/* binding */ d),\n/* harmony export */   ISignClient: () => (/* binding */ J),\n/* harmony export */   ISignClientEvents: () => (/* binding */ H),\n/* harmony export */   IStore: () => (/* binding */ f),\n/* harmony export */   ISubscriber: () => (/* binding */ P),\n/* harmony export */   ISubscriberTopicMap: () => (/* binding */ C),\n/* harmony export */   IVerify: () => (/* binding */ M)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\nvar a=Object.defineProperty,u=(e,s,r)=>s in e?a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,c=(e,s,r)=>u(e,typeof s!=\"symbol\"?s+\"\":s,r);class h extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super(),this.opts=s,c(this,\"protocol\",\"wc\"),c(this,\"version\",2)}}class g{constructor(s,r,t){this.core=s,this.logger=r}}var p=Object.defineProperty,b=(e,s,r)=>s in e?p(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,v=(e,s,r)=>b(e,typeof s!=\"symbol\"?s+\"\":s,r);class I extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r,v(this,\"records\",new Map)}}class y{constructor(s,r){this.logger=s,this.core=r}}class m extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class d extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super()}}class f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t}}var E=Object.defineProperty,x=(e,s,r)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,w=(e,s,r)=>x(e,typeof s!=\"symbol\"?s+\"\":s,r);class C{constructor(){w(this,\"map\",new Map)}}class P extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class j{constructor(s,r){this.core=s,this.logger=r}}class S extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r}}class ${constructor(s,r){this.logger=s,this.core=r}}class M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t}}class O{constructor(s,r){this.projectId=s,this.logger=r}}class R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t}}var T=Object.defineProperty,k=(e,s,r)=>s in e?T(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,i=(e,s,r)=>k(e,typeof s!=\"symbol\"?s+\"\":s,r);class H extends (events__WEBPACK_IMPORTED_MODULE_1___default()){constructor(){super()}}class J{constructor(s){this.opts=s,i(this,\"protocol\",\"wc\"),i(this,\"version\",2)}}class K extends events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter{constructor(){super()}}class V{constructor(s){this.client=s}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdHlwZXMvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlGLHFEQUFxRCxrREFBa0QscURBQXFELGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsaUVBQWlFLFFBQVEsbUJBQW1CLDJCQUEyQixxREFBcUQsa0RBQWtELHFEQUFxRCxnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsNkRBQTZELFFBQVEsaUJBQWlCLDJCQUEyQixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsc0NBQXNDLGdCQUFnQiwwREFBQyxDQUFDLGVBQWUsU0FBUyxRQUFRLHFCQUFxQix1Q0FBdUMscURBQXFELGtEQUFrRCxxREFBcUQsUUFBUSxjQUFjLHVCQUF1QixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsc0NBQXNDLFFBQVEsaUJBQWlCLDJCQUEyQixnQkFBZ0IsMERBQUMsQ0FBQyxpQkFBaUIsbUNBQW1DLFFBQVEsaUJBQWlCLDJCQUEyQixRQUFRLG1CQUFtQix3Q0FBd0MsUUFBUSxpQkFBaUIsZ0NBQWdDLFFBQVEsbUJBQW1CLG1EQUFtRCxxREFBcUQsa0RBQWtELHFEQUFxRCxnQkFBZ0IsK0NBQUMsQ0FBQyxjQUFjLFNBQVMsUUFBUSxlQUFlLHlEQUF5RCxnQkFBZ0IsZ0RBQUMsQ0FBQyxjQUFjLFNBQVMsUUFBUSxlQUFlLGVBQWdWO0FBQ25xRSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdHlwZXMvZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7SUV2ZW50cyBhcyBvfWZyb21cIkB3YWxsZXRjb25uZWN0L2V2ZW50c1wiO2ltcG9ydCBuLHtFdmVudEVtaXR0ZXIgYXMgbH1mcm9tXCJldmVudHNcIjt2YXIgYT1PYmplY3QuZGVmaW5lUHJvcGVydHksdT0oZSxzLHIpPT5zIGluIGU/YShlLHMse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnJ9KTplW3NdPXIsYz0oZSxzLHIpPT51KGUsdHlwZW9mIHMhPVwic3ltYm9sXCI/cytcIlwiOnMscik7Y2xhc3MgaCBleHRlbmRzIG97Y29uc3RydWN0b3Iocyl7c3VwZXIoKSx0aGlzLm9wdHM9cyxjKHRoaXMsXCJwcm90b2NvbFwiLFwid2NcIiksYyh0aGlzLFwidmVyc2lvblwiLDIpfX1jbGFzcyBne2NvbnN0cnVjdG9yKHMscix0KXt0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yfX12YXIgcD1PYmplY3QuZGVmaW5lUHJvcGVydHksYj0oZSxzLHIpPT5zIGluIGU/cChlLHMse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnJ9KTplW3NdPXIsdj0oZSxzLHIpPT5iKGUsdHlwZW9mIHMhPVwic3ltYm9sXCI/cytcIlwiOnMscik7Y2xhc3MgSSBleHRlbmRzIG97Y29uc3RydWN0b3IocyxyKXtzdXBlcigpLHRoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXIsdih0aGlzLFwicmVjb3Jkc1wiLG5ldyBNYXApfX1jbGFzcyB5e2NvbnN0cnVjdG9yKHMscil7dGhpcy5sb2dnZXI9cyx0aGlzLmNvcmU9cn19Y2xhc3MgbSBleHRlbmRzIG97Y29uc3RydWN0b3IocyxyKXtzdXBlcigpLHRoaXMucmVsYXllcj1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzIGQgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMpe3N1cGVyKCl9fWNsYXNzIGZ7Y29uc3RydWN0b3IocyxyLHQscSl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cix0aGlzLm5hbWU9dH19dmFyIEU9T2JqZWN0LmRlZmluZVByb3BlcnR5LHg9KGUscyxyKT0+cyBpbiBlP0UoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLHc9KGUscyxyKT0+eChlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEN7Y29uc3RydWN0b3IoKXt3KHRoaXMsXCJtYXBcIixuZXcgTWFwKX19Y2xhc3MgUCBleHRlbmRzIG97Y29uc3RydWN0b3IocyxyKXtzdXBlcigpLHRoaXMucmVsYXllcj1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzIGp7Y29uc3RydWN0b3IocyxyKXt0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBTIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzLHIpe3N1cGVyKCksdGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgJHtjb25zdHJ1Y3RvcihzLHIpe3RoaXMubG9nZ2VyPXMsdGhpcy5jb3JlPXJ9fWNsYXNzIE17Y29uc3RydWN0b3IocyxyLHQpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXIsdGhpcy5zdG9yZT10fX1jbGFzcyBPe2NvbnN0cnVjdG9yKHMscil7dGhpcy5wcm9qZWN0SWQ9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBSe2NvbnN0cnVjdG9yKHMscix0KXt0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHRoaXMudGVsZW1ldHJ5RW5hYmxlZD10fX12YXIgVD1PYmplY3QuZGVmaW5lUHJvcGVydHksaz0oZSxzLHIpPT5zIGluIGU/VChlLHMse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnJ9KTplW3NdPXIsaT0oZSxzLHIpPT5rKGUsdHlwZW9mIHMhPVwic3ltYm9sXCI/cytcIlwiOnMscik7Y2xhc3MgSCBleHRlbmRzIG57Y29uc3RydWN0b3IoKXtzdXBlcigpfX1jbGFzcyBKe2NvbnN0cnVjdG9yKHMpe3RoaXMub3B0cz1zLGkodGhpcyxcInByb3RvY29sXCIsXCJ3Y1wiKSxpKHRoaXMsXCJ2ZXJzaW9uXCIsMil9fWNsYXNzIEsgZXh0ZW5kcyBse2NvbnN0cnVjdG9yKCl7c3VwZXIoKX19Y2xhc3MgVntjb25zdHJ1Y3RvcihzKXt0aGlzLmNsaWVudD1zfX1leHBvcnR7aCBhcyBJQ29yZSxnIGFzIElDcnlwdG8sTyBhcyBJRWNob0NsaWVudCxWIGFzIElFbmdpbmUsSyBhcyBJRW5naW5lRXZlbnRzLFIgYXMgSUV2ZW50Q2xpZW50LFMgYXMgSUV4cGlyZXIsSSBhcyBJSnNvblJwY0hpc3RvcnksaiBhcyBJS2V5Q2hhaW4seSBhcyBJTWVzc2FnZVRyYWNrZXIsJCBhcyBJUGFpcmluZyxtIGFzIElQdWJsaXNoZXIsZCBhcyBJUmVsYXllcixKIGFzIElTaWduQ2xpZW50LEggYXMgSVNpZ25DbGllbnRFdmVudHMsZiBhcyBJU3RvcmUsUCBhcyBJU3Vic2NyaWJlcixDIGFzIElTdWJzY3JpYmVyVG9waWNNYXAsTSBhcyBJVmVyaWZ5fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/types/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/dist/index.es.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/dist/index.es.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UniversalProvider: () => (/* binding */ rs),\n/* harmony export */   \"default\": () => (/* binding */ N)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/sign-client */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/sign-client/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-http-connection */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-http-connection/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_4__);\nconst Z=\"error\",Fe=\"wss://relay.walletconnect.org\",He=\"wc\",Ue=\"universal_provider\",$=`${He}@2:${Ue}:`,T=\"https://rpc.walletconnect.org/v1/\",ee=\"generic\",Be=`${T}bundler`,y=\"call_status\",Le=86400,_={DEFAULT_CHAIN_CHANGED:\"default_chain_changed\"};function x(t){return t==null||typeof t!=\"object\"&&typeof t!=\"function\"}function te(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function se(t){return t==null?t===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(t)}const Me=\"[object RegExp]\",ie=\"[object String]\",ne=\"[object Number]\",re=\"[object Boolean]\",ae=\"[object Arguments]\",ze=\"[object Symbol]\",Ge=\"[object Date]\",We=\"[object Map]\",Je=\"[object Set]\",Ke=\"[object Array]\",Ve=\"[object ArrayBuffer]\",Ye=\"[object Object]\",Xe=\"[object DataView]\",ke=\"[object Uint8Array]\",Qe=\"[object Uint8ClampedArray]\",Ze=\"[object Uint16Array]\",Te=\"[object Uint32Array]\",et=\"[object Int8Array]\",tt=\"[object Int16Array]\",st=\"[object Int32Array]\",it=\"[object Float32Array]\",nt=\"[object Float64Array]\";function F(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rt(t,e){return v(t,void 0,t,new Map,e)}function v(t,e,s,i=new Map,r=void 0){const a=r?.(t,e,s,i);if(a!=null)return a;if(x(t))return t;if(i.has(t))return i.get(t);if(Array.isArray(t)){const n=new Array(t.length);i.set(t,n);for(let c=0;c<t.length;c++)n[c]=v(t[c],c,s,i,r);return Object.hasOwn(t,\"index\")&&(n.index=t.index),Object.hasOwn(t,\"input\")&&(n.input=t.input),n}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const n=new RegExp(t.source,t.flags);return n.lastIndex=t.lastIndex,n}if(t instanceof Map){const n=new Map;i.set(t,n);for(const[c,o]of t)n.set(c,v(o,c,s,i,r));return n}if(t instanceof Set){const n=new Set;i.set(t,n);for(const c of t)n.add(v(c,void 0,s,i,r));return n}if(typeof Buffer<\"u\"&&Buffer.isBuffer(t))return t.subarray();if(F(t)){const n=new(Object.getPrototypeOf(t)).constructor(t.length);i.set(t,n);for(let c=0;c<t.length;c++)n[c]=v(t[c],c,s,i,r);return n}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const n=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return i.set(t,n),m(n,t,s,i,r),n}if(typeof File<\"u\"&&t instanceof File){const n=new File([t],t.name,{type:t.type});return i.set(t,n),m(n,t,s,i,r),n}if(t instanceof Blob){const n=new Blob([t],{type:t.type});return i.set(t,n),m(n,t,s,i,r),n}if(t instanceof Error){const n=new t.constructor;return i.set(t,n),n.message=t.message,n.name=t.name,n.stack=t.stack,n.cause=t.cause,m(n,t,s,i,r),n}if(typeof t==\"object\"&&at(t)){const n=Object.create(Object.getPrototypeOf(t));return i.set(t,n),m(n,t,s,i,r),n}return t}function m(t,e,s=t,i,r){const a=[...Object.keys(e),...te(e)];for(let n=0;n<a.length;n++){const c=a[n],o=Object.getOwnPropertyDescriptor(t,c);(o==null||o.writable)&&(t[c]=v(e[c],c,s,i,r))}}function at(t){switch(se(t)){case ae:case Ke:case Ve:case Xe:case re:case Ge:case it:case nt:case et:case tt:case st:case We:case ne:case Ye:case Me:case Je:case ie:case ze:case ke:case Qe:case Ze:case Te:return!0;default:return!1}}function ct(t,e){return rt(t,(s,i,r,a)=>{const n=e?.(s,i,r,a);if(n!=null)return n;if(typeof t==\"object\")switch(Object.prototype.toString.call(t)){case ne:case ie:case re:{const c=new t.constructor(t?.valueOf());return m(c,t),c}case ae:{const c={};return m(c,t),c.length=t.length,c[Symbol.iterator]=t[Symbol.iterator],c}default:return}})}function ce(t){return ct(t)}function oe(t){return t!==null&&typeof t==\"object\"&&se(t)===\"[object Arguments]\"}function pe(t){return typeof t==\"object\"&&t!==null}function ot(){}function pt(t){return F(t)}function ht(t){if(typeof t!=\"object\"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!==\"[object Object]\"){const s=t[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${s}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function lt(t){if(x(t))return t;if(Array.isArray(t)||F(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),s=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new s(t);if(t instanceof RegExp){const i=new s(t);return i.lastIndex=t.lastIndex,i}if(t instanceof DataView)return new s(t.buffer.slice(0));if(t instanceof Error){const i=new s(t.message);return i.stack=t.stack,i.name=t.name,i.cause=t.cause,i}if(typeof File<\"u\"&&t instanceof File)return new s([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t==\"object\"){const i=Object.create(e);return Object.assign(i,t)}return t}function ut(t,...e){const s=e.slice(0,-1),i=e[e.length-1];let r=t;for(let a=0;a<s.length;a++){const n=s[a];r=A(r,n,i,new Map)}return r}function A(t,e,s,i){if(x(t)&&(t=Object(t)),e==null||typeof e!=\"object\")return t;if(i.has(e))return lt(i.get(e));if(i.set(e,t),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const r=[...Object.keys(e),...te(e)];for(let a=0;a<r.length;a++){const n=r[a];let c=e[n],o=t[n];if(oe(c)&&(c={...c}),oe(o)&&(o={...o}),typeof Buffer<\"u\"&&Buffer.isBuffer(c)&&(c=ce(c)),Array.isArray(c))if(typeof o==\"object\"&&o!=null){const l=[],p=Reflect.ownKeys(o);for(let f=0;f<p.length;f++){const u=p[f];l[u]=o[u]}o=l}else o=[];const h=s(o,c,n,t,e,i);h!=null?t[n]=h:Array.isArray(c)||pe(o)&&pe(c)?t[n]=A(o,c,s,i):o==null&&ht(c)?t[n]=A({},c,s,i):o==null&&pt(c)?t[n]=ce(c):(o===void 0||c!==void 0)&&(t[n]=c)}return t}function dt(t,...e){return ut(t,...e,ot)}var ft=Object.defineProperty,mt=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable,le=(t,e,s)=>e in t?ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,E=(t,e)=>{for(var s in e||(e={}))yt.call(e,s)&&le(t,s,e[s]);if(he)for(var s of he(e))vt.call(e,s)&&le(t,s,e[s]);return t},wt=(t,e)=>mt(t,gt(e));function ue(t,e,s){var i;const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(t);return((i=e.rpcMap)==null?void 0:i[r.reference])||`${T}?chainId=${r.namespace}:${r.reference}&projectId=${s}`}function bt(t){return t.includes(\":\")?t.split(\":\")[1]:t}function de(t){return t.map(e=>`${e.split(\":\")[0]}:${e.split(\":\")[1]}`)}function Pt(t,e){const s=Object.keys(e.namespaces).filter(r=>r.includes(t));if(!s.length)return[];const i=[];return s.forEach(r=>{const a=e.namespaces[r].accounts;i.push(...a)}),i}function fe(t){return Object.fromEntries(Object.entries(t).filter(([e,s])=>{var i,r;return((i=s?.chains)==null?void 0:i.length)&&((r=s?.chains)==null?void 0:r.length)>0}))}function j(t={},e={}){const s=fe(me(t)),i=fe(me(e));return dt(s,i)}function me(t){var e,s,i,r,a;const n={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(t))return n;for(const[c,o]of Object.entries(t)){const h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isCaipNamespace)(c)?[c]:o.chains,l=o.methods||[],p=o.events||[],f=o.rpcMap||{},u=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(c);n[u]=wt(E(E({},n[u]),o),{chains:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(h,(e=n[u])==null?void 0:e.chains),methods:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(l,(s=n[u])==null?void 0:s.methods),events:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeArrays)(p,(i=n[u])==null?void 0:i.events)}),((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(f)||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(((r=n[u])==null?void 0:r.rpcMap)||{}))&&(n[u].rpcMap=E(E({},f),(a=n[u])==null?void 0:a.rpcMap))}return n}function ge(t){return t.includes(\":\")?t.split(\":\")[2]:t}function ye(t){const e={};for(const[s,i]of Object.entries(t)){const r=i.methods||[],a=i.events||[],n=i.accounts||[],c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isCaipNamespace)(s)?[s]:i.chains?i.chains:de(i.accounts);e[s]={chains:c,methods:r,events:a,accounts:n}}return e}function H(t){return typeof t==\"number\"?t:t.includes(\"0x\")?parseInt(t,16):(t=t.includes(\":\")?t.split(\":\")[1]:t,isNaN(Number(t))?t:Number(t))}function Ot(t){try{const e=JSON.parse(t);return typeof e==\"object\"&&e!==null&&!Array.isArray(e)}catch{return!1}}const ve={},w=t=>ve[t],U=(t,e)=>{ve[t]=e};var It=Object.defineProperty,we=Object.getOwnPropertySymbols,St=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable,be=(t,e,s)=>e in t?It(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Pe=(t,e)=>{for(var s in e||(e={}))St.call(e,s)&&be(t,s,e[s]);if(we)for(var s of we(e))$t.call(e,s)&&be(t,s,e[s]);return t};const Oe=\"eip155\",At=[\"atomic\",\"flow-control\",\"paymasterService\",\"sessionKeys\",\"auxiliaryFunds\"],Et=t=>t&&t.startsWith(\"0x\")?BigInt(t).toString(10):t,B=t=>t&&t.startsWith(\"0x\")?t:`0x${BigInt(t).toString(16)}`,Ie=t=>Object.keys(t).filter(e=>At.includes(e)).reduce((e,s)=>(e[s]=jt(t[s]),e),{}),jt=t=>typeof t==\"string\"&&Ot(t)?JSON.parse(t):t,Ct=(t,e,s)=>{const{sessionProperties:i={},scopedProperties:r={}}=t,a={};if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(r)&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i))return;const n=Ie(i);for(const c of s){const o=Et(c);if(!o)continue;a[B(o)]=n;const h=r?.[`${Oe}:${o}`];if(h){const l=h?.[`${Oe}:${o}:${e}`];a[B(o)]=Pe(Pe({},a[B(o)]),Ie(l||h))}}for(const[c,o]of Object.entries(a))Object.keys(o).length===0&&delete a[c];return Object.keys(a).length>0?a:void 0};var Nt=Object.defineProperty,Dt=(t,e,s)=>e in t?Nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,qt=(t,e,s)=>Dt(t,typeof e!=\"symbol\"?e+\"\":e,s);let L;class J{constructor(e){qt(this,\"storage\"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,s){return await this.storage.setItem(e,s)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return L||(L=new J(e)),L}}var Rt=Object.defineProperty,_t=Object.defineProperties,xt=Object.getOwnPropertyDescriptors,Se=Object.getOwnPropertySymbols,Ft=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,$e=(t,e,s)=>e in t?Rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Ut=(t,e)=>{for(var s in e||(e={}))Ft.call(e,s)&&$e(t,s,e[s]);if(Se)for(var s of Se(e))Ht.call(e,s)&&$e(t,s,e[s]);return t},Bt=(t,e)=>_t(t,xt(e));async function Lt(t,e){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(t.result.capabilities.caip345.caip2),i=t.result.capabilities.caip345.transactionHashes,r=await Promise.allSettled(i.map(p=>Mt(s.reference,p,e))),a=r.filter(p=>p.status===\"fulfilled\").map(p=>p.value).filter(p=>p);r.filter(p=>p.status===\"rejected\").forEach(p=>console.warn(\"Failed to fetch transaction receipt:\",p.reason));const n=!a.length||a.some(p=>!p),c=a.every(p=>p?.status===\"0x1\"),o=a.every(p=>p?.status===\"0x0\"),h=a.some(p=>p?.status===\"0x0\");let l;return n?l=100:c?l=200:o?l=500:h&&(l=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:a,status:l}}async function Mt(t,e,s){return await s(parseInt(t)).request((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.formatJsonRpcRequest)(\"eth_getTransactionReceipt\",[e]))}async function zt({sendCalls:t,storage:e}){const s=await e.getItem(y);await e.setItem(y,Bt(Ut({},s),{[t.result.id]:{request:t.request,result:t.result,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(Le)}}))}async function Gt({resultId:t,storage:e}){const s=await e.getItem(y);if(s){delete s[t],await e.setItem(y,s);for(const i in s)(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s[i].expiry)&&delete s[i];await e.setItem(y,s)}}async function Wt({resultId:t,storage:e}){const s=await e.getItem(y),i=s?.[t];if(i&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(i.expiry))return i;await Gt({resultId:t,storage:e})}var Jt=Object.defineProperty,Kt=Object.defineProperties,Vt=Object.getOwnPropertyDescriptors,Ae=Object.getOwnPropertySymbols,Yt=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable,M=(t,e,s)=>e in t?Jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,z=(t,e)=>{for(var s in e||(e={}))Yt.call(e,s)&&M(t,s,e[s]);if(Ae)for(var s of Ae(e))Xt.call(e,s)&&M(t,s,e[s]);return t},G=(t,e)=>Kt(t,Vt(e)),g=(t,e,s)=>M(t,typeof e!=\"symbol\"?e+\"\":e,s);class kt{constructor(e){g(this,\"name\",\"eip155\"),g(this,\"client\"),g(this,\"chainId\"),g(this,\"namespace\"),g(this,\"httpProviders\"),g(this,\"events\"),g(this,\"storage\"),this.namespace=e.namespace,this.events=w(\"events\"),this.client=w(\"client\"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=J.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case\"eth_requestAccounts\":return this.getAccounts();case\"eth_accounts\":return this.getAccounts();case\"wallet_switchEthereumChain\":return await this.handleSwitchChain(e);case\"eth_chainId\":return parseInt(this.getDefaultChain());case\"wallet_getCapabilities\":return await this.getCapabilities(e);case\"wallet_getCallsStatus\":return await this.getCallStatus(e);case\"wallet_sendCalls\":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,s){this.httpProviders[e]||this.setHttpProvider(parseInt(e),s);const i=this.chainId;this.chainId=parseInt(e),this.events.emit(_.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${i}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}createHttpProvider(e,s){const i=s||ue(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_3__.HttpConnection(i,w(\"disableProviderPing\")))}setHttpProvider(e,s){const i=this.createHttpProvider(e,s);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(s=>{var i;const r=parseInt(bt(s));e[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[s])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(s=>s.split(\":\")[1]===this.chainId.toString()).map(s=>s.split(\":\")[2]))]:[]}getHttpProvider(e){const s=e||this.chainId;return this.httpProviders[s]||(this.httpProviders=G(z({},this.httpProviders),{[s]:this.createHttpProvider(s)}),this.httpProviders[s])}async handleSwitchChain(e){var s,i;let r=e.request.params?(s=e.request.params[0])==null?void 0:s.chainId:\"0x0\";r=r.startsWith(\"0x\")?r:`0x${r}`;const a=parseInt(r,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes(\"wallet_switchEthereumChain\"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var s,i,r,a,n;const c=(i=(s=e.request)==null?void 0:s.params)==null?void 0:i[0],o=((a=(r=e.request)==null?void 0:r.params)==null?void 0:a[1])||[];if(!c)throw new Error(\"Missing address parameter in `wallet_getCapabilities` request\");const h=this.client.session.get(e.topic),l=((n=h?.sessionProperties)==null?void 0:n.capabilities)||{},p=`${c}${o.join(\",\")}`,f=l?.[p];if(f)return f;let u;try{u=Ct(h,c,o)}catch(D){console.warn(\"Failed to extract capabilities from session\",D)}if(u)return u;const K=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:G(z({},h.sessionProperties||{}),{capabilities:G(z({},l||{}),{[p]:K})})})}catch(D){console.warn(\"Failed to update session with capabilities\",D)}return K}async getCallStatus(e){var s,i,r;const a=this.client.session.get(e.topic),n=(s=a.sessionProperties)==null?void 0:s.bundler_name;if(n){const h=this.getBundlerUrl(e.chainId,n);try{return await this.getUserOperationReceipt(h,e)}catch(l){console.warn(\"Failed to fetch call status from bundler\",l,h)}}const c=(i=a.sessionProperties)==null?void 0:i.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(h){console.warn(\"Failed to fetch call status from custom bundler\",h,c)}const o=await Wt({resultId:(r=e.request.params)==null?void 0:r[0],storage:this.storage});if(o)try{return await Lt(o,this.getHttpProvider.bind(this))}catch(h){console.warn(\"Failed to fetch call status from stored send calls\",h,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error(\"Fetching call status not approved by the wallet.\")}async getUserOperationReceipt(e,s){var i;const r=new URL(e),a=await fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.formatJsonRpcRequest)(\"eth_getUserOperationReceipt\",[(i=s.request.params)==null?void 0:i[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,s){return`${Be}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${s}`}async sendCalls(e){var s,i,r;const a=await this.client.request(e),n=(s=e.request.params)==null?void 0:s[0],c=a?.id,o=a?.capabilities||{},h=(i=o?.caip345)==null?void 0:i.caip2,l=(r=o?.caip345)==null?void 0:r.transactionHashes;return!c||!h||!(l!=null&&l.length)||await zt({sendCalls:{request:n,result:a},storage:this.storage}),a}}var Qt=Object.defineProperty,Zt=(t,e,s)=>e in t?Qt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,b=(t,e,s)=>Zt(t,typeof e!=\"symbol\"?e+\"\":e,s);class Tt{constructor(e){b(this,\"name\",ee),b(this,\"client\"),b(this,\"httpProviders\"),b(this,\"events\"),b(this,\"namespace\"),b(this,\"chainId\"),this.namespace=e.namespace,this.events=w(\"events\"),this.client=w(\"client\"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,s){this.httpProviders[e]||this.setHttpProvider(e,s);const i=this.chainId;this.chainId=e,this.events.emit(_.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${i}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(s=>s.split(\":\")[1]===this.chainId.toString()).map(s=>s.split(\":\")[2]))]:[]}createHttpProviders(){var e,s;const i={};return(s=(e=this.namespace)==null?void 0:e.accounts)==null||s.forEach(r=>{var a,n;const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(r),o=(n=(a=this.namespace)==null?void 0:a.rpcMap)==null?void 0:n[`${c.namespace}:${c.reference}`];i[c.reference]=this.createHttpProvider(r,o)}),i}getHttpProvider(e){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(e).reference,i=this.httpProviders[s];if(typeof i>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return i}setHttpProvider(e,s){const i=this.createHttpProvider(e,s);i&&(this.httpProviders[e]=i)}createHttpProvider(e,s){const i=s||ue(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_2__.JsonRpcProvider(new _walletconnect_jsonrpc_http_connection__WEBPACK_IMPORTED_MODULE_3__[\"default\"](i,w(\"disableProviderPing\")))}}var es=Object.defineProperty,ts=Object.defineProperties,ss=Object.getOwnPropertyDescriptors,Ee=Object.getOwnPropertySymbols,is=Object.prototype.hasOwnProperty,ns=Object.prototype.propertyIsEnumerable,W=(t,e,s)=>e in t?es(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,S=(t,e)=>{for(var s in e||(e={}))is.call(e,s)&&W(t,s,e[s]);if(Ee)for(var s of Ee(e))ns.call(e,s)&&W(t,s,e[s]);return t},C=(t,e)=>ts(t,ss(e)),d=(t,e,s)=>W(t,typeof e!=\"symbol\"?e+\"\":e,s);class N{constructor(e){d(this,\"client\"),d(this,\"namespaces\"),d(this,\"optionalNamespaces\"),d(this,\"sessionProperties\"),d(this,\"scopedProperties\"),d(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_4___default())),d(this,\"rpcProviders\",{}),d(this,\"session\"),d(this,\"providerOpts\"),d(this,\"logger\"),d(this,\"uri\"),d(this,\"disableProviderPing\",!1),this.providerOpts=e,this.logger=typeof e?.logger<\"u\"&&typeof e?.logger!=\"string\"?e.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:e?.logger||Z})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const s=new N(e);return await s.initialize(),s}async request(e,s,i){const[r,a]=this.validateChain(s);if(!this.session)throw new Error(\"Please call connect() before request()\");return await this.getProvider(r).request({request:S({},e),chainId:`${r}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(e,s,i,r){const a=new Date().getTime();this.request(e,i,r).then(n=>s(null,(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_1__.formatJsonRpcResult)(a,n))).catch(n=>s(n,void 0))}async enable(){if(!this.client)throw new Error(\"Sign Client not initialized\");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error(\"Please call connect() before enable()\");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error(\"Sign Client not initialized\");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,s){if(!this.client)throw new Error(\"Sign Client not initialized\");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:r}=await this.client.authenticate(e,s);i&&(this.uri=i,this.events.emit(\"display_uri\",i));const a=await r();if(this.session=a.session,this.session){const n=ye(this.session.namespaces);this.namespaces=j(this.namespaces,n),await this.persist(\"namespaces\",this.namespaces),this.onConnect()}return a}on(e,s){this.events.on(e,s)}once(e,s){this.events.once(e,s)}removeListener(e,s){this.events.removeListener(e,s)}off(e,s){this.events.off(e,s)}get isWalletConnect(){return!0}async pair(e){const{uri:s,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});s&&(this.uri=s,this.events.emit(\"display_uri\",s));const r=await i();this.session=r;const a=ye(r.namespaces);return this.namespaces=j(this.namespaces,a),await this.persist(\"namespaces\",this.namespaces),await this.persist(\"optionalNamespaces\",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,s){try{if(!this.session)return;const[i,r]=this.validateChain(e);this.getProvider(i).setDefaultChain(r,s)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){try{this.logger.info(\"Cleaning up inactive pairings...\");const s=this.client.pairing.getAll();if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(s))return;for(const i of s)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${s.length}`)}catch(s){this.logger.warn(\"Failed to cleanup pending pairings\",s)}}abortPairingAttempt(){this.logger.warn(\"abortPairingAttempt is deprecated. This is now a no-op.\")}async checkStorage(){this.namespaces=await this.getFromStore(\"namespaces\")||{},this.optionalNamespaces=await this.getFromStore(\"optionalNamespaces\")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace(\"Initialized\"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,s;if(this.client=this.providerOpts.client||await _walletconnect_sign_client__WEBPACK_IMPORTED_MODULE_6__[\"default\"].init({core:this.providerOpts.core,logger:this.providerOpts.logger||Z,relayUrl:this.providerOpts.relayUrl||Fe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error(\"Failed to get session\",i),new Error(`The provided session: ${(s=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:s.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace(\"SignClient Initialized\")}createProviders(){if(!this.client)throw new Error(\"Sign Client not initialized\");if(!this.session)throw new Error(\"Session not initialized. Please call connect() before enable()\");const e=[...new Set(Object.keys(this.session.namespaces).map(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(s)))];U(\"client\",this.client),U(\"events\",this.events),U(\"disableProviderPing\",this.disableProviderPing),e.forEach(s=>{if(!this.session)return;const i=Pt(s,this.session);if(i?.length===0)return;const r=de(i),a=j(this.namespaces,this.optionalNamespaces),n=C(S({},a[s]),{accounts:i,chains:r});switch(s){case\"eip155\":this.rpcProviders[s]=new kt({namespace:n});break;default:this.rpcProviders[s]=new Tt({namespace:n})}})}registerEventListeners(){if(typeof this.client>\"u\")throw new Error(\"Sign Client is not initialized\");this.client.on(\"session_ping\",e=>{var s;const{topic:i}=e;i===((s=this.session)==null?void 0:s.topic)&&this.events.emit(\"session_ping\",e)}),this.client.on(\"session_event\",e=>{var s;const{params:i,topic:r}=e;if(r!==((s=this.session)==null?void 0:s.topic))return;const{event:a}=i;if(a.name===\"accountsChanged\"){const n=a.data;n&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(n)&&this.events.emit(\"accountsChanged\",n.map(ge))}else if(a.name===\"chainChanged\"){const n=i.chainId,c=i.event.data,o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(n),h=H(n)!==H(c)?`${o}:${H(c)}`:n;this.onChainChanged({currentCaipChainId:h})}else this.events.emit(a.name,a.data);this.events.emit(\"session_event\",e)}),this.client.on(\"session_update\",({topic:e,params:s})=>{var i,r;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:a}=s,n=(r=this.client)==null?void 0:r.session.get(e);this.session=C(S({},n),{namespaces:a}),this.onSessionUpdate(),this.events.emit(\"session_update\",{topic:e,params:s})}),this.client.on(\"session_delete\",async e=>{var s;e.topic===((s=this.session)==null?void 0:s.topic)&&(await this.cleanup(),this.events.emit(\"session_delete\",e),this.events.emit(\"disconnect\",C(S({},(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),{data:e.topic})))}),this.on(_.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(C(S({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[ee]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var s;this.getProvider(e).updateNamespace((s=this.session)==null?void 0:s.namespaces[e])})}setNamespaces(e){const{namespaces:s={},optionalNamespaces:i={},sessionProperties:r,scopedProperties:a}=e;this.optionalNamespaces=j(s,i),this.sessionProperties=r,this.scopedProperties=a}validateChain(e){const[s,i]=e?.split(\":\")||[\"\",\"\"];if(!this.namespaces||!Object.keys(this.namespaces).length)return[s,i];if(s&&!Object.keys(this.namespaces||{}).map(n=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(n)).includes(s))throw new Error(`Namespace '${s}' is not configured. Please call connect() first with namespace config.`);if(s&&i)return[s,i];const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseNamespaceKey)(Object.keys(this.namespaces)[0]),a=this.rpcProviders[r].getDefaultChain();return[r,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:s,internal:i=!1}){if(!this.namespaces)return;const[r,a]=this.validateChain(e);a&&(this.updateNamespaceChain(r,a),i?(this.events.emit(\"chainChanged\",a),this.emitAccountsChangedOnChainChange({namespace:r,currentCaipChainId:e,previousCaipChainId:s})):this.getProvider(r).setDefaultChain(a),await this.persist(\"namespaces\",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:s,previousCaipChainId:i}){var r,a;try{if(i===s)return;const n=(a=(r=this.session)==null?void 0:r.namespaces[e])==null?void 0:a.accounts;if(!n)return;const c=n.filter(o=>o.includes(`${s}:`)).map(ge);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(c))return;this.events.emit(\"accountsChanged\",c)}catch(n){this.logger.warn(\"Failed to emit accountsChanged on chain change\",n)}}updateNamespaceChain(e,s){if(!this.namespaces)return;const i=this.namespaces[e]?e:`${e}:${s}`,r={chains:[],methods:[],events:[],defaultChain:s};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=s):this.namespaces[i]=r}onConnect(){this.createProviders(),this.events.emit(\"connect\",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore(\"namespaces\"),await this.deleteFromStore(\"optionalNamespaces\"),await this.deleteFromStore(\"sessionProperties\"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,s){var i;const r=((i=this.session)==null?void 0:i.topic)||\"\";await this.client.core.storage.setItem(`${$}/${e}${r}`,s)}async getFromStore(e){var s;const i=((s=this.session)==null?void 0:s.topic)||\"\";return await this.client.core.storage.getItem(`${$}/${e}${i}`)}async deleteFromStore(e){var s;const i=((s=this.session)==null?void 0:s.topic)||\"\";await this.client.core.storage.removeItem(`${$}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const s=await this.client.core.storage.getKeys();for(const i of s)i.startsWith($)&&await this.client.core.storage.removeItem(i)}catch(s){this.logger.warn(\"Failed to cleanup storage\",s)}}}const rs=N;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFra0Isd0ZBQXdGLEdBQUcsS0FBSyxHQUFHLDREQUE0RCxFQUFFLHFDQUFxQywrQ0FBK0MsY0FBYyx5REFBeUQsZUFBZSxrR0FBa0csZUFBZSxpR0FBaUcsc2dCQUFzZ0IsY0FBYyx1REFBdUQsaUJBQWlCLCtCQUErQixxQ0FBcUMscUJBQXFCLG9CQUFvQixpQkFBaUIsNEJBQTRCLHFCQUFxQiw0QkFBNEIsV0FBVyxZQUFZLFdBQVcseUJBQXlCLGlHQUFpRyxrREFBa0Qsd0JBQXdCLHFDQUFxQyxpQ0FBaUMscUJBQXFCLGdCQUFnQixXQUFXLHlDQUF5QyxTQUFTLHFCQUFxQixnQkFBZ0IsV0FBVywwQ0FBMEMsU0FBUyw2REFBNkQsU0FBUyw0REFBNEQsV0FBVyxZQUFZLFdBQVcseUJBQXlCLFNBQVMsNEdBQTRHLDBCQUEwQixrRUFBa0UsaUNBQWlDLHVDQUF1Qyw2QkFBNkIsWUFBWSxFQUFFLGlDQUFpQyxzQkFBc0Isc0JBQXNCLFlBQVksRUFBRSxpQ0FBaUMsdUJBQXVCLDBCQUEwQixtR0FBbUcsOEJBQThCLGdEQUFnRCxpQ0FBaUMsU0FBUyx3QkFBd0IscUNBQXFDLFlBQVksV0FBVyxLQUFLLG9EQUFvRCwrQ0FBK0MsZUFBZSxjQUFjLHlMQUF5TCxrQkFBa0IsaUJBQWlCLHdCQUF3QixxQkFBcUIsb0JBQW9CLGdFQUFnRSx5QkFBeUIsd0NBQXdDLGdCQUFnQixTQUFTLFdBQVcsd0VBQXdFLGdCQUFnQixFQUFFLGVBQWUsYUFBYSxlQUFlLGtFQUFrRSxlQUFlLG9DQUFvQyxlQUFlLGVBQWUsWUFBWSxlQUFlLHdDQUF3Qyw0Q0FBNEMsMERBQTBELDhCQUE4Qiw4R0FBOEcsRUFBRSxHQUFHLFFBQVEsS0FBSyxnQ0FBZ0MsNEJBQTRCLG9DQUFvQyxlQUFlLGlCQUFpQixvSUFBb0ksaURB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QXNELE1BQU0sYUFBYSxtREFBbUQsbUJBQW1CLEtBQUssYUFBYSw0REFBNEQsaUJBQWlCLEVBQUUsNENBQTRDLE1BQU0sa0pBQWtKLENBQUMsaUVBQUMsd0JBQXdCLGFBQWEsSUFBSSxzQ0FBc0MsMEJBQTBCLEtBQUssWUFBWSxHQUFHLEVBQUUsZUFBZSxtREFBbUQsa0JBQWtCLDJDQUEyQyxNQUFNLG1GQUFtRixFQUFFLGlCQUFpQixNQUFNLGVBQWUsd0JBQXdCLHdDQUF3QyxHQUFHLGdGQUFnRixpQkFBaUIsa0NBQWtDLHNFQUFzRSxzQ0FBc0MsU0FBUyx1RUFBQywrQ0FBK0MsRUFBRSwwRUFBMEUsb0JBQW9CLFFBQVEsdUVBQUMsMkVBQTJFLFlBQVksd0JBQXdCLDhCQUE4QixtREFBbUQsc0JBQXNCLHlEQUF5RCxFQUFFLDJCQUEyQixpQ0FBaUMsZ0hBQWdILHVEQUF1RCw0RkFBNEYsa0NBQWtDLHVEQUF1RCxFQUFFLFFBQVEsSUFBSSxnQkFBZ0Isa0ZBQWtGLGFBQWEsa0NBQWtDLEVBQUUsYUFBYSxJQUFJLGtFQUFDLFdBQVcsc0NBQXNDLFNBQVMsc0VBQXNFLDBCQUEwQiwyQkFBMkIsZ0NBQWdDLEVBQUUsR0FBRyxFQUFFLEtBQUssK0NBQStDLGdHQUFnRyxZQUFZLG1EQUFtRCxxQkFBcUIsRUFBRSxnQkFBZ0IsK1FBQStRLGtCQUFrQiw4QkFBOEIsbUJBQW1CLE1BQU0sb0RBQW9ELDBDQUEwQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsS0FBSyxzQkFBc0IsTUFBTSxvREFBb0QsaURBQWlELEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLHlCQUF5QixNQUFNLG9EQUFvRCw2Q0FBNkMsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsdUJBQXVCLE1BQU0sSUFBSSw0REFBNEQsaURBQWlELCtFQUErRSxTQUFTLGtEQUFrRCxXQUF3RDtBQUNqcjdCIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgamUgZnJvbVwiQHdhbGxldGNvbm5lY3Qvc2lnbi1jbGllbnRcIjtpbXBvcnR7aXNWYWxpZE9iamVjdCBhcyBQLGlzQ2FpcE5hbWVzcGFjZSBhcyBWLHBhcnNlTmFtZXNwYWNlS2V5IGFzIE8sbWVyZ2VBcnJheXMgYXMgcSxwYXJzZUNoYWluSWQgYXMgSSxjYWxjRXhwaXJ5IGFzIENlLGlzRXhwaXJlZCBhcyBZLGdldFNka0Vycm9yIGFzIFgsaXNWYWxpZEFycmF5IGFzIFJ9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnR7cGlubyBhcyBOZSxnZXREZWZhdWx0TG9nZ2VyT3B0aW9ucyBhcyBEZX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9sb2dnZXJcIjtpbXBvcnR7Zm9ybWF0SnNvblJwY1JlcXVlc3QgYXMgayxmb3JtYXRKc29uUnBjUmVzdWx0IGFzIHFlfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtdXRpbHNcIjtpbXBvcnR7SnNvblJwY1Byb3ZpZGVyIGFzIFF9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy1wcm92aWRlclwiO2ltcG9ydCBSZSx7SHR0cENvbm5lY3Rpb24gYXMgX2V9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy1odHRwLWNvbm5lY3Rpb25cIjtpbXBvcnQgeGUgZnJvbVwiZXZlbnRzXCI7Y29uc3QgWj1cImVycm9yXCIsRmU9XCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0Lm9yZ1wiLEhlPVwid2NcIixVZT1cInVuaXZlcnNhbF9wcm92aWRlclwiLCQ9YCR7SGV9QDI6JHtVZX06YCxUPVwiaHR0cHM6Ly9ycGMud2FsbGV0Y29ubmVjdC5vcmcvdjEvXCIsZWU9XCJnZW5lcmljXCIsQmU9YCR7VH1idW5kbGVyYCx5PVwiY2FsbF9zdGF0dXNcIixMZT04NjQwMCxfPXtERUZBVUxUX0NIQUlOX0NIQU5HRUQ6XCJkZWZhdWx0X2NoYWluX2NoYW5nZWRcIn07ZnVuY3Rpb24geCh0KXtyZXR1cm4gdD09bnVsbHx8dHlwZW9mIHQhPVwib2JqZWN0XCImJnR5cGVvZiB0IT1cImZ1bmN0aW9uXCJ9ZnVuY3Rpb24gdGUodCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCkuZmlsdGVyKGU9Pk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LGUpKX1mdW5jdGlvbiBzZSh0KXtyZXR1cm4gdD09bnVsbD90PT09dm9pZCAwP1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfWNvbnN0IE1lPVwiW29iamVjdCBSZWdFeHBdXCIsaWU9XCJbb2JqZWN0IFN0cmluZ11cIixuZT1cIltvYmplY3QgTnVtYmVyXVwiLHJlPVwiW29iamVjdCBCb29sZWFuXVwiLGFlPVwiW29iamVjdCBBcmd1bWVudHNdXCIsemU9XCJbb2JqZWN0IFN5bWJvbF1cIixHZT1cIltvYmplY3QgRGF0ZV1cIixXZT1cIltvYmplY3QgTWFwXVwiLEplPVwiW29iamVjdCBTZXRdXCIsS2U9XCJbb2JqZWN0IEFycmF5XVwiLFZlPVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIixZZT1cIltvYmplY3QgT2JqZWN0XVwiLFhlPVwiW29iamVjdCBEYXRhVmlld11cIixrZT1cIltvYmplY3QgVWludDhBcnJheV1cIixRZT1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsWmU9XCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiLFRlPVwiW29iamVjdCBVaW50MzJBcnJheV1cIixldD1cIltvYmplY3QgSW50OEFycmF5XVwiLHR0PVwiW29iamVjdCBJbnQxNkFycmF5XVwiLHN0PVwiW29iamVjdCBJbnQzMkFycmF5XVwiLGl0PVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIsbnQ9XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjtmdW5jdGlvbiBGKHQpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJiEodCBpbnN0YW5jZW9mIERhdGFWaWV3KX1mdW5jdGlvbiBydCh0LGUpe3JldHVybiB2KHQsdm9pZCAwLHQsbmV3IE1hcCxlKX1mdW5jdGlvbiB2KHQsZSxzLGk9bmV3IE1hcCxyPXZvaWQgMCl7Y29uc3QgYT1yPy4odCxlLHMsaSk7aWYoYSE9bnVsbClyZXR1cm4gYTtpZih4KHQpKXJldHVybiB0O2lmKGkuaGFzKHQpKXJldHVybiBpLmdldCh0KTtpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBuPW5ldyBBcnJheSh0Lmxlbmd0aCk7aS5zZXQodCxuKTtmb3IobGV0IGM9MDtjPHQubGVuZ3RoO2MrKyluW2NdPXYodFtjXSxjLHMsaSxyKTtyZXR1cm4gT2JqZWN0Lmhhc093bih0LFwiaW5kZXhcIikmJihuLmluZGV4PXQuaW5kZXgpLE9iamVjdC5oYXNPd24odCxcImlucHV0XCIpJiYobi5pbnB1dD10LmlucHV0KSxufWlmKHQgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZSh0LmdldFRpbWUoKSk7aWYodCBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3Qgbj1uZXcgUmVnRXhwKHQuc291cmNlLHQuZmxhZ3MpO3JldHVybiBuLmxhc3RJbmRleD10Lmxhc3RJbmRleCxufWlmKHQgaW5zdGFuY2VvZiBNYXApe2NvbnN0IG49bmV3IE1hcDtpLnNldCh0LG4pO2Zvcihjb25zdFtjLG9db2YgdCluLnNldChjLHYobyxjLHMsaSxyKSk7cmV0dXJuIG59aWYodCBpbnN0YW5jZW9mIFNldCl7Y29uc3Qgbj1uZXcgU2V0O2kuc2V0KHQsbik7Zm9yKGNvbnN0IGMgb2YgdCluLmFkZCh2KGMsdm9pZCAwLHMsaSxyKSk7cmV0dXJuIG59aWYodHlwZW9mIEJ1ZmZlcjxcInVcIiYmQnVmZmVyLmlzQnVmZmVyKHQpKXJldHVybiB0LnN1YmFycmF5KCk7aWYoRih0KSl7Y29uc3Qgbj1uZXcoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCk7aS5zZXQodCxuKTtmb3IobGV0IGM9MDtjPHQubGVuZ3RoO2MrKyluW2NdPXYodFtjXSxjLHMsaSxyKTtyZXR1cm4gbn1pZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjxcInVcIiYmdCBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKXJldHVybiB0LnNsaWNlKDApO2lmKHQgaW5zdGFuY2VvZiBEYXRhVmlldyl7Y29uc3Qgbj1uZXcgRGF0YVZpZXcodC5idWZmZXIuc2xpY2UoMCksdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk7cmV0dXJuIGkuc2V0KHQsbiksbShuLHQscyxpLHIpLG59aWYodHlwZW9mIEZpbGU8XCJ1XCImJnQgaW5zdGFuY2VvZiBGaWxlKXtjb25zdCBuPW5ldyBGaWxlKFt0XSx0Lm5hbWUse3R5cGU6dC50eXBlfSk7cmV0dXJuIGkuc2V0KHQsbiksbShuLHQscyxpLHIpLG59aWYodCBpbnN0YW5jZW9mIEJsb2Ipe2NvbnN0IG49bmV3IEJsb2IoW3RdLHt0eXBlOnQudHlwZX0pO3JldHVybiBpLnNldCh0LG4pLG0obix0LHMsaSxyKSxufWlmKHQgaW5zdGFuY2VvZiBFcnJvcil7Y29uc3Qgbj1uZXcgdC5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5zZXQodCxuKSxuLm1lc3NhZ2U9dC5tZXNzYWdlLG4ubmFtZT10Lm5hbWUsbi5zdGFjaz10LnN0YWNrLG4uY2F1c2U9dC5jYXVzZSxtKG4sdCxzLGksciksbn1pZih0eXBlb2YgdD09XCJvYmplY3RcIiYmYXQodCkpe2NvbnN0IG49T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpO3JldHVybiBpLnNldCh0LG4pLG0obix0LHMsaSxyKSxufXJldHVybiB0fWZ1bmN0aW9uIG0odCxlLHM9dCxpLHIpe2NvbnN0IGE9Wy4uLk9iamVjdC5rZXlzKGUpLC4uLnRlKGUpXTtmb3IobGV0IG49MDtuPGEubGVuZ3RoO24rKyl7Y29uc3QgYz1hW25dLG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGMpOyhvPT1udWxsfHxvLndyaXRhYmxlKSYmKHRbY109dihlW2NdLGMscyxpLHIpKX19ZnVuY3Rpb24gYXQodCl7c3dpdGNoKHNlKHQpKXtjYXNlIGFlOmNhc2UgS2U6Y2FzZSBWZTpjYXNlIFhlOmNhc2UgcmU6Y2FzZSBHZTpjYXNlIGl0OmNhc2UgbnQ6Y2FzZSBldDpjYXNlIHR0OmNhc2Ugc3Q6Y2FzZSBXZTpjYXNlIG5lOmNhc2UgWWU6Y2FzZSBNZTpjYXNlIEplOmNhc2UgaWU6Y2FzZSB6ZTpjYXNlIGtlOmNhc2UgUWU6Y2FzZSBaZTpjYXNlIFRlOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIGN0KHQsZSl7cmV0dXJuIHJ0KHQsKHMsaSxyLGEpPT57Y29uc3Qgbj1lPy4ocyxpLHIsYSk7aWYobiE9bnVsbClyZXR1cm4gbjtpZih0eXBlb2YgdD09XCJvYmplY3RcIilzd2l0Y2goT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXtjYXNlIG5lOmNhc2UgaWU6Y2FzZSByZTp7Y29uc3QgYz1uZXcgdC5jb25zdHJ1Y3Rvcih0Py52YWx1ZU9mKCkpO3JldHVybiBtKGMsdCksY31jYXNlIGFlOntjb25zdCBjPXt9O3JldHVybiBtKGMsdCksYy5sZW5ndGg9dC5sZW5ndGgsY1tTeW1ib2wuaXRlcmF0b3JdPXRbU3ltYm9sLml0ZXJhdG9yXSxjfWRlZmF1bHQ6cmV0dXJufX0pfWZ1bmN0aW9uIGNlKHQpe3JldHVybiBjdCh0KX1mdW5jdGlvbiBvZSh0KXtyZXR1cm4gdCE9PW51bGwmJnR5cGVvZiB0PT1cIm9iamVjdFwiJiZzZSh0KT09PVwiW29iamVjdCBBcmd1bWVudHNdXCJ9ZnVuY3Rpb24gcGUodCl7cmV0dXJuIHR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0IT09bnVsbH1mdW5jdGlvbiBvdCgpe31mdW5jdGlvbiBwdCh0KXtyZXR1cm4gRih0KX1mdW5jdGlvbiBodCh0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8dD09bnVsbClyZXR1cm4hMTtpZihPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1udWxsKXJldHVybiEwO2lmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSE9PVwiW29iamVjdCBPYmplY3RdXCIpe2NvbnN0IHM9dFtTeW1ib2wudG9TdHJpbmdUYWddO3JldHVybiBzPT1udWxsfHwhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LFN5bWJvbC50b1N0cmluZ1RhZyk/LndyaXRhYmxlPyExOnQudG9TdHJpbmcoKT09PWBbb2JqZWN0ICR7c31dYH1sZXQgZT10O2Zvcig7T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpIT09bnVsbDspZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PWV9ZnVuY3Rpb24gbHQodCl7aWYoeCh0KSlyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpfHxGKHQpfHx0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjxcInVcIiYmdCBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKXJldHVybiB0LnNsaWNlKDApO2NvbnN0IGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpLHM9ZS5jb25zdHJ1Y3RvcjtpZih0IGluc3RhbmNlb2YgRGF0ZXx8dCBpbnN0YW5jZW9mIE1hcHx8dCBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IHModCk7aWYodCBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3QgaT1uZXcgcyh0KTtyZXR1cm4gaS5sYXN0SW5kZXg9dC5sYXN0SW5kZXgsaX1pZih0IGluc3RhbmNlb2YgRGF0YVZpZXcpcmV0dXJuIG5ldyBzKHQuYnVmZmVyLnNsaWNlKDApKTtpZih0IGluc3RhbmNlb2YgRXJyb3Ipe2NvbnN0IGk9bmV3IHModC5tZXNzYWdlKTtyZXR1cm4gaS5zdGFjaz10LnN0YWNrLGkubmFtZT10Lm5hbWUsaS5jYXVzZT10LmNhdXNlLGl9aWYodHlwZW9mIEZpbGU8XCJ1XCImJnQgaW5zdGFuY2VvZiBGaWxlKXJldHVybiBuZXcgcyhbdF0sdC5uYW1lLHt0eXBlOnQudHlwZSxsYXN0TW9kaWZpZWQ6dC5sYXN0TW9kaWZpZWR9KTtpZih0eXBlb2YgdD09XCJvYmplY3RcIil7Y29uc3QgaT1PYmplY3QuY3JlYXRlKGUpO3JldHVybiBPYmplY3QuYXNzaWduKGksdCl9cmV0dXJuIHR9ZnVuY3Rpb24gdXQodCwuLi5lKXtjb25zdCBzPWUuc2xpY2UoMCwtMSksaT1lW2UubGVuZ3RoLTFdO2xldCByPXQ7Zm9yKGxldCBhPTA7YTxzLmxlbmd0aDthKyspe2NvbnN0IG49c1thXTtyPUEocixuLGksbmV3IE1hcCl9cmV0dXJuIHJ9ZnVuY3Rpb24gQSh0LGUscyxpKXtpZih4KHQpJiYodD1PYmplY3QodCkpLGU9PW51bGx8fHR5cGVvZiBlIT1cIm9iamVjdFwiKXJldHVybiB0O2lmKGkuaGFzKGUpKXJldHVybiBsdChpLmdldChlKSk7aWYoaS5zZXQoZSx0KSxBcnJheS5pc0FycmF5KGUpKXtlPWUuc2xpY2UoKTtmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyllW2FdPWVbYV0/P3ZvaWQgMH1jb25zdCByPVsuLi5PYmplY3Qua2V5cyhlKSwuLi50ZShlKV07Zm9yKGxldCBhPTA7YTxyLmxlbmd0aDthKyspe2NvbnN0IG49clthXTtsZXQgYz1lW25dLG89dFtuXTtpZihvZShjKSYmKGM9ey4uLmN9KSxvZShvKSYmKG89ey4uLm99KSx0eXBlb2YgQnVmZmVyPFwidVwiJiZCdWZmZXIuaXNCdWZmZXIoYykmJihjPWNlKGMpKSxBcnJheS5pc0FycmF5KGMpKWlmKHR5cGVvZiBvPT1cIm9iamVjdFwiJiZvIT1udWxsKXtjb25zdCBsPVtdLHA9UmVmbGVjdC5vd25LZXlzKG8pO2ZvcihsZXQgZj0wO2Y8cC5sZW5ndGg7ZisrKXtjb25zdCB1PXBbZl07bFt1XT1vW3VdfW89bH1lbHNlIG89W107Y29uc3QgaD1zKG8sYyxuLHQsZSxpKTtoIT1udWxsP3Rbbl09aDpBcnJheS5pc0FycmF5KGMpfHxwZShvKSYmcGUoYyk/dFtuXT1BKG8sYyxzLGkpOm89PW51bGwmJmh0KGMpP3Rbbl09QSh7fSxjLHMsaSk6bz09bnVsbCYmcHQoYyk/dFtuXT1jZShjKToobz09PXZvaWQgMHx8YyE9PXZvaWQgMCkmJih0W25dPWMpfXJldHVybiB0fWZ1bmN0aW9uIGR0KHQsLi4uZSl7cmV0dXJuIHV0KHQsLi4uZSxvdCl9dmFyIGZ0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxtdD1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxndD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxoZT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHl0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdnQ9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxsZT0odCxlLHMpPT5lIGluIHQ/ZnQodCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpzfSk6dFtlXT1zLEU9KHQsZSk9Pntmb3IodmFyIHMgaW4gZXx8KGU9e30pKXl0LmNhbGwoZSxzKSYmbGUodCxzLGVbc10pO2lmKGhlKWZvcih2YXIgcyBvZiBoZShlKSl2dC5jYWxsKGUscykmJmxlKHQscyxlW3NdKTtyZXR1cm4gdH0sd3Q9KHQsZSk9Pm10KHQsZ3QoZSkpO2Z1bmN0aW9uIHVlKHQsZSxzKXt2YXIgaTtjb25zdCByPUkodCk7cmV0dXJuKChpPWUucnBjTWFwKT09bnVsbD92b2lkIDA6aVtyLnJlZmVyZW5jZV0pfHxgJHtUfT9jaGFpbklkPSR7ci5uYW1lc3BhY2V9OiR7ci5yZWZlcmVuY2V9JnByb2plY3RJZD0ke3N9YH1mdW5jdGlvbiBidCh0KXtyZXR1cm4gdC5pbmNsdWRlcyhcIjpcIik/dC5zcGxpdChcIjpcIilbMV06dH1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gdC5tYXAoZT0+YCR7ZS5zcGxpdChcIjpcIilbMF19OiR7ZS5zcGxpdChcIjpcIilbMV19YCl9ZnVuY3Rpb24gUHQodCxlKXtjb25zdCBzPU9iamVjdC5rZXlzKGUubmFtZXNwYWNlcykuZmlsdGVyKHI9PnIuaW5jbHVkZXModCkpO2lmKCFzLmxlbmd0aClyZXR1cm5bXTtjb25zdCBpPVtdO3JldHVybiBzLmZvckVhY2gocj0+e2NvbnN0IGE9ZS5uYW1lc3BhY2VzW3JdLmFjY291bnRzO2kucHVzaCguLi5hKX0pLGl9ZnVuY3Rpb24gZmUodCl7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0KS5maWx0ZXIoKFtlLHNdKT0+e3ZhciBpLHI7cmV0dXJuKChpPXM/LmNoYWlucyk9PW51bGw/dm9pZCAwOmkubGVuZ3RoKSYmKChyPXM/LmNoYWlucyk9PW51bGw/dm9pZCAwOnIubGVuZ3RoKT4wfSkpfWZ1bmN0aW9uIGoodD17fSxlPXt9KXtjb25zdCBzPWZlKG1lKHQpKSxpPWZlKG1lKGUpKTtyZXR1cm4gZHQocyxpKX1mdW5jdGlvbiBtZSh0KXt2YXIgZSxzLGkscixhO2NvbnN0IG49e307aWYoIVAodCkpcmV0dXJuIG47Zm9yKGNvbnN0W2Msb11vZiBPYmplY3QuZW50cmllcyh0KSl7Y29uc3QgaD1WKGMpP1tjXTpvLmNoYWlucyxsPW8ubWV0aG9kc3x8W10scD1vLmV2ZW50c3x8W10sZj1vLnJwY01hcHx8e30sdT1PKGMpO25bdV09d3QoRShFKHt9LG5bdV0pLG8pLHtjaGFpbnM6cShoLChlPW5bdV0pPT1udWxsP3ZvaWQgMDplLmNoYWlucyksbWV0aG9kczpxKGwsKHM9blt1XSk9PW51bGw/dm9pZCAwOnMubWV0aG9kcyksZXZlbnRzOnEocCwoaT1uW3VdKT09bnVsbD92b2lkIDA6aS5ldmVudHMpfSksKFAoZil8fFAoKChyPW5bdV0pPT1udWxsP3ZvaWQgMDpyLnJwY01hcCl8fHt9KSkmJihuW3VdLnJwY01hcD1FKEUoe30sZiksKGE9blt1XSk9PW51bGw/dm9pZCAwOmEucnBjTWFwKSl9cmV0dXJuIG59ZnVuY3Rpb24gZ2UodCl7cmV0dXJuIHQuaW5jbHVkZXMoXCI6XCIpP3Quc3BsaXQoXCI6XCIpWzJdOnR9ZnVuY3Rpb24geWUodCl7Y29uc3QgZT17fTtmb3IoY29uc3RbcyxpXW9mIE9iamVjdC5lbnRyaWVzKHQpKXtjb25zdCByPWkubWV0aG9kc3x8W10sYT1pLmV2ZW50c3x8W10sbj1pLmFjY291bnRzfHxbXSxjPVYocyk/W3NdOmkuY2hhaW5zP2kuY2hhaW5zOmRlKGkuYWNjb3VudHMpO2Vbc109e2NoYWluczpjLG1ldGhvZHM6cixldmVudHM6YSxhY2NvdW50czpufX1yZXR1cm4gZX1mdW5jdGlvbiBIKHQpe3JldHVybiB0eXBlb2YgdD09XCJudW1iZXJcIj90OnQuaW5jbHVkZXMoXCIweFwiKT9wYXJzZUludCh0LDE2KToodD10LmluY2x1ZGVzKFwiOlwiKT90LnNwbGl0KFwiOlwiKVsxXTp0LGlzTmFOKE51bWJlcih0KSk/dDpOdW1iZXIodCkpfWZ1bmN0aW9uIE90KHQpe3RyeXtjb25zdCBlPUpTT04ucGFyc2UodCk7cmV0dXJuIHR5cGVvZiBlPT1cIm9iamVjdFwiJiZlIT09bnVsbCYmIUFycmF5LmlzQXJyYXkoZSl9Y2F0Y2h7cmV0dXJuITF9fWNvbnN0IHZlPXt9LHc9dD0+dmVbdF0sVT0odCxlKT0+e3ZlW3RdPWV9O3ZhciBJdD1PYmplY3QuZGVmaW5lUHJvcGVydHksd2U9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxTdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LCR0PU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsYmU9KHQsZSxzKT0+ZSBpbiB0P0l0KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyxQZT0odCxlKT0+e2Zvcih2YXIgcyBpbiBlfHwoZT17fSkpU3QuY2FsbChlLHMpJiZiZSh0LHMsZVtzXSk7aWYod2UpZm9yKHZhciBzIG9mIHdlKGUpKSR0LmNhbGwoZSxzKSYmYmUodCxzLGVbc10pO3JldHVybiB0fTtjb25zdCBPZT1cImVpcDE1NVwiLEF0PVtcImF0b21pY1wiLFwiZmxvdy1jb250cm9sXCIsXCJwYXltYXN0ZXJTZXJ2aWNlXCIsXCJzZXNzaW9uS2V5c1wiLFwiYXV4aWxpYXJ5RnVuZHNcIl0sRXQ9dD0+dCYmdC5zdGFydHNXaXRoKFwiMHhcIik/QmlnSW50KHQpLnRvU3RyaW5nKDEwKTp0LEI9dD0+dCYmdC5zdGFydHNXaXRoKFwiMHhcIik/dDpgMHgke0JpZ0ludCh0KS50b1N0cmluZygxNil9YCxJZT10PT5PYmplY3Qua2V5cyh0KS5maWx0ZXIoZT0+QXQuaW5jbHVkZXMoZSkpLnJlZHVjZSgoZSxzKT0+KGVbc109anQodFtzXSksZSkse30pLGp0PXQ9PnR5cGVvZiB0PT1cInN0cmluZ1wiJiZPdCh0KT9KU09OLnBhcnNlKHQpOnQsQ3Q9KHQsZSxzKT0+e2NvbnN0e3Nlc3Npb25Qcm9wZXJ0aWVzOmk9e30sc2NvcGVkUHJvcGVydGllczpyPXt9fT10LGE9e307aWYoIVAocikmJiFQKGkpKXJldHVybjtjb25zdCBuPUllKGkpO2Zvcihjb25zdCBjIG9mIHMpe2NvbnN0IG89RXQoYyk7aWYoIW8pY29udGludWU7YVtCKG8pXT1uO2NvbnN0IGg9cj8uW2Ake09lfToke299YF07aWYoaCl7Y29uc3QgbD1oPy5bYCR7T2V9OiR7b306JHtlfWBdO2FbQihvKV09UGUoUGUoe30sYVtCKG8pXSksSWUobHx8aCkpfX1mb3IoY29uc3RbYyxvXW9mIE9iamVjdC5lbnRyaWVzKGEpKU9iamVjdC5rZXlzKG8pLmxlbmd0aD09PTAmJmRlbGV0ZSBhW2NdO3JldHVybiBPYmplY3Qua2V5cyhhKS5sZW5ndGg+MD9hOnZvaWQgMH07dmFyIE50PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxEdD0odCxlLHMpPT5lIGluIHQ/TnQodCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpzfSk6dFtlXT1zLHF0PSh0LGUscyk9PkR0KHQsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUscyk7bGV0IEw7Y2xhc3MgSntjb25zdHJ1Y3RvcihlKXtxdCh0aGlzLFwic3RvcmFnZVwiKSx0aGlzLnN0b3JhZ2U9ZX1hc3luYyBnZXRJdGVtKGUpe3JldHVybiBhd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShlKX1hc3luYyBzZXRJdGVtKGUscyl7cmV0dXJuIGF3YWl0IHRoaXMuc3RvcmFnZS5zZXRJdGVtKGUscyl9YXN5bmMgcmVtb3ZlSXRlbShlKXtyZXR1cm4gYXdhaXQgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oZSl9c3RhdGljIGdldFN0b3JhZ2UoZSl7cmV0dXJuIEx8fChMPW5ldyBKKGUpKSxMfX12YXIgUnQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LF90PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLHh0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLFNlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsRnQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxIdD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLCRlPSh0LGUscyk9PmUgaW4gdD9SdCh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnN9KTp0W2VdPXMsVXQ9KHQsZSk9Pntmb3IodmFyIHMgaW4gZXx8KGU9e30pKUZ0LmNhbGwoZSxzKSYmJGUodCxzLGVbc10pO2lmKFNlKWZvcih2YXIgcyBvZiBTZShlKSlIdC5jYWxsKGUscykmJiRlKHQscyxlW3NdKTtyZXR1cm4gdH0sQnQ9KHQsZSk9Pl90KHQseHQoZSkpO2FzeW5jIGZ1bmN0aW9uIEx0KHQsZSl7Y29uc3Qgcz1JKHQucmVzdWx0LmNhcGFiaWxpdGllcy5jYWlwMzQ1LmNhaXAyKSxpPXQucmVzdWx0LmNhcGFiaWxpdGllcy5jYWlwMzQ1LnRyYW5zYWN0aW9uSGFzaGVzLHI9YXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGkubWFwKHA9Pk10KHMucmVmZXJlbmNlLHAsZSkpKSxhPXIuZmlsdGVyKHA9PnAuc3RhdHVzPT09XCJmdWxmaWxsZWRcIikubWFwKHA9PnAudmFsdWUpLmZpbHRlcihwPT5wKTtyLmZpbHRlcihwPT5wLnN0YXR1cz09PVwicmVqZWN0ZWRcIikuZm9yRWFjaChwPT5jb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggdHJhbnNhY3Rpb24gcmVjZWlwdDpcIixwLnJlYXNvbikpO2NvbnN0IG49IWEubGVuZ3RofHxhLnNvbWUocD0+IXApLGM9YS5ldmVyeShwPT5wPy5zdGF0dXM9PT1cIjB4MVwiKSxvPWEuZXZlcnkocD0+cD8uc3RhdHVzPT09XCIweDBcIiksaD1hLnNvbWUocD0+cD8uc3RhdHVzPT09XCIweDBcIik7bGV0IGw7cmV0dXJuIG4/bD0xMDA6Yz9sPTIwMDpvP2w9NTAwOmgmJihsPTYwMCkse2lkOnQucmVzdWx0LmlkLHZlcnNpb246dC5yZXF1ZXN0LnZlcnNpb24sYXRvbWljOnQucmVxdWVzdC5hdG9taWNSZXF1aXJlZCxjaGFpbklkOnQucmVxdWVzdC5jaGFpbklkLGNhcGFiaWxpdGllczp0LnJlc3VsdC5jYXBhYmlsaXRpZXMscmVjZWlwdHM6YSxzdGF0dXM6bH19YXN5bmMgZnVuY3Rpb24gTXQodCxlLHMpe3JldHVybiBhd2FpdCBzKHBhcnNlSW50KHQpKS5yZXF1ZXN0KGsoXCJldGhfZ2V0VHJhbnNhY3Rpb25SZWNlaXB0XCIsW2VdKSl9YXN5bmMgZnVuY3Rpb24genQoe3NlbmRDYWxsczp0LHN0b3JhZ2U6ZX0pe2NvbnN0IHM9YXdhaXQgZS5nZXRJdGVtKHkpO2F3YWl0IGUuc2V0SXRlbSh5LEJ0KFV0KHt9LHMpLHtbdC5yZXN1bHQuaWRdOntyZXF1ZXN0OnQucmVxdWVzdCxyZXN1bHQ6dC5yZXN1bHQsZXhwaXJ5OkNlKExlKX19KSl9YXN5bmMgZnVuY3Rpb24gR3Qoe3Jlc3VsdElkOnQsc3RvcmFnZTplfSl7Y29uc3Qgcz1hd2FpdCBlLmdldEl0ZW0oeSk7aWYocyl7ZGVsZXRlIHNbdF0sYXdhaXQgZS5zZXRJdGVtKHkscyk7Zm9yKGNvbnN0IGkgaW4gcylZKHNbaV0uZXhwaXJ5KSYmZGVsZXRlIHNbaV07YXdhaXQgZS5zZXRJdGVtKHkscyl9fWFzeW5jIGZ1bmN0aW9uIFd0KHtyZXN1bHRJZDp0LHN0b3JhZ2U6ZX0pe2NvbnN0IHM9YXdhaXQgZS5nZXRJdGVtKHkpLGk9cz8uW3RdO2lmKGkmJiFZKGkuZXhwaXJ5KSlyZXR1cm4gaTthd2FpdCBHdCh7cmVzdWx0SWQ6dCxzdG9yYWdlOmV9KX12YXIgSnQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LEt0PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLFZ0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLEFlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsWXQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxYdD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLE09KHQsZSxzKT0+ZSBpbiB0P0p0KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyx6PSh0LGUpPT57Zm9yKHZhciBzIGluIGV8fChlPXt9KSlZdC5jYWxsKGUscykmJk0odCxzLGVbc10pO2lmKEFlKWZvcih2YXIgcyBvZiBBZShlKSlYdC5jYWxsKGUscykmJk0odCxzLGVbc10pO3JldHVybiB0fSxHPSh0LGUpPT5LdCh0LFZ0KGUpKSxnPSh0LGUscyk9Pk0odCx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSxzKTtjbGFzcyBrdHtjb25zdHJ1Y3RvcihlKXtnKHRoaXMsXCJuYW1lXCIsXCJlaXAxNTVcIiksZyh0aGlzLFwiY2xpZW50XCIpLGcodGhpcyxcImNoYWluSWRcIiksZyh0aGlzLFwibmFtZXNwYWNlXCIpLGcodGhpcyxcImh0dHBQcm92aWRlcnNcIiksZyh0aGlzLFwiZXZlbnRzXCIpLGcodGhpcyxcInN0b3JhZ2VcIiksdGhpcy5uYW1lc3BhY2U9ZS5uYW1lc3BhY2UsdGhpcy5ldmVudHM9dyhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD13KFwiY2xpZW50XCIpLHRoaXMuaHR0cFByb3ZpZGVycz10aGlzLmNyZWF0ZUh0dHBQcm92aWRlcnMoKSx0aGlzLmNoYWluSWQ9cGFyc2VJbnQodGhpcy5nZXREZWZhdWx0Q2hhaW4oKSksdGhpcy5zdG9yYWdlPUouZ2V0U3RvcmFnZSh0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UpfWFzeW5jIHJlcXVlc3QoZSl7c3dpdGNoKGUucmVxdWVzdC5tZXRob2Qpe2Nhc2VcImV0aF9yZXF1ZXN0QWNjb3VudHNcIjpyZXR1cm4gdGhpcy5nZXRBY2NvdW50cygpO2Nhc2VcImV0aF9hY2NvdW50c1wiOnJldHVybiB0aGlzLmdldEFjY291bnRzKCk7Y2FzZVwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIjpyZXR1cm4gYXdhaXQgdGhpcy5oYW5kbGVTd2l0Y2hDaGFpbihlKTtjYXNlXCJldGhfY2hhaW5JZFwiOnJldHVybiBwYXJzZUludCh0aGlzLmdldERlZmF1bHRDaGFpbigpKTtjYXNlXCJ3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzXCI6cmV0dXJuIGF3YWl0IHRoaXMuZ2V0Q2FwYWJpbGl0aWVzKGUpO2Nhc2VcIndhbGxldF9nZXRDYWxsc1N0YXR1c1wiOnJldHVybiBhd2FpdCB0aGlzLmdldENhbGxTdGF0dXMoZSk7Y2FzZVwid2FsbGV0X3NlbmRDYWxsc1wiOnJldHVybiBhd2FpdCB0aGlzLnNlbmRDYWxscyhlKX1yZXR1cm4gdGhpcy5uYW1lc3BhY2UubWV0aG9kcy5pbmNsdWRlcyhlLnJlcXVlc3QubWV0aG9kKT9hd2FpdCB0aGlzLmNsaWVudC5yZXF1ZXN0KGUpOnRoaXMuZ2V0SHR0cFByb3ZpZGVyKCkucmVxdWVzdChlLnJlcXVlc3QpfXVwZGF0ZU5hbWVzcGFjZShlKXt0aGlzLm5hbWVzcGFjZT1PYmplY3QuYXNzaWduKHRoaXMubmFtZXNwYWNlLGUpfXNldERlZmF1bHRDaGFpbihlLHMpe3RoaXMuaHR0cFByb3ZpZGVyc1tlXXx8dGhpcy5zZXRIdHRwUHJvdmlkZXIocGFyc2VJbnQoZSkscyk7Y29uc3QgaT10aGlzLmNoYWluSWQ7dGhpcy5jaGFpbklkPXBhcnNlSW50KGUpLHRoaXMuZXZlbnRzLmVtaXQoXy5ERUZBVUxUX0NIQUlOX0NIQU5HRUQse2N1cnJlbnRDYWlwQ2hhaW5JZDpgJHt0aGlzLm5hbWV9OiR7ZX1gLHByZXZpb3VzQ2FpcENoYWluSWQ6YCR7dGhpcy5uYW1lfToke2l9YH0pfXJlcXVlc3RBY2NvdW50cygpe3JldHVybiB0aGlzLmdldEFjY291bnRzKCl9Z2V0RGVmYXVsdENoYWluKCl7aWYodGhpcy5jaGFpbklkKXJldHVybiB0aGlzLmNoYWluSWQudG9TdHJpbmcoKTtpZih0aGlzLm5hbWVzcGFjZS5kZWZhdWx0Q2hhaW4pcmV0dXJuIHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbjtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmNoYWluc1swXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIG5vdCBmb3VuZFwiKTtyZXR1cm4gZS5zcGxpdChcIjpcIilbMV19Y3JlYXRlSHR0cFByb3ZpZGVyKGUscyl7Y29uc3QgaT1zfHx1ZShgJHt0aGlzLm5hbWV9OiR7ZX1gLHRoaXMubmFtZXNwYWNlLHRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYE5vIFJQQyB1cmwgcHJvdmlkZWQgZm9yIGNoYWluSWQ6ICR7ZX1gKTtyZXR1cm4gbmV3IFEobmV3IF9lKGksdyhcImRpc2FibGVQcm92aWRlclBpbmdcIikpKX1zZXRIdHRwUHJvdmlkZXIoZSxzKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUscyk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1tlXT1pKX1jcmVhdGVIdHRwUHJvdmlkZXJzKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5uYW1lc3BhY2UuY2hhaW5zLmZvckVhY2gocz0+e3ZhciBpO2NvbnN0IHI9cGFyc2VJbnQoYnQocykpO2Vbcl09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIociwoaT10aGlzLm5hbWVzcGFjZS5ycGNNYXApPT1udWxsP3ZvaWQgMDppW3NdKX0pLGV9Z2V0QWNjb3VudHMoKXtjb25zdCBlPXRoaXMubmFtZXNwYWNlLmFjY291bnRzO3JldHVybiBlP1suLi5uZXcgU2V0KGUuZmlsdGVyKHM9PnMuc3BsaXQoXCI6XCIpWzFdPT09dGhpcy5jaGFpbklkLnRvU3RyaW5nKCkpLm1hcChzPT5zLnNwbGl0KFwiOlwiKVsyXSkpXTpbXX1nZXRIdHRwUHJvdmlkZXIoZSl7Y29uc3Qgcz1lfHx0aGlzLmNoYWluSWQ7cmV0dXJuIHRoaXMuaHR0cFByb3ZpZGVyc1tzXXx8KHRoaXMuaHR0cFByb3ZpZGVycz1HKHooe30sdGhpcy5odHRwUHJvdmlkZXJzKSx7W3NdOnRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKHMpfSksdGhpcy5odHRwUHJvdmlkZXJzW3NdKX1hc3luYyBoYW5kbGVTd2l0Y2hDaGFpbihlKXt2YXIgcyxpO2xldCByPWUucmVxdWVzdC5wYXJhbXM/KHM9ZS5yZXF1ZXN0LnBhcmFtc1swXSk9PW51bGw/dm9pZCAwOnMuY2hhaW5JZDpcIjB4MFwiO3I9ci5zdGFydHNXaXRoKFwiMHhcIik/cjpgMHgke3J9YDtjb25zdCBhPXBhcnNlSW50KHIsMTYpO2lmKHRoaXMuaXNDaGFpbkFwcHJvdmVkKGEpKXRoaXMuc2V0RGVmYXVsdENoYWluKGAke2F9YCk7ZWxzZSBpZih0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKFwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIikpYXdhaXQgdGhpcy5jbGllbnQucmVxdWVzdCh7dG9waWM6ZS50b3BpYyxyZXF1ZXN0OnttZXRob2Q6ZS5yZXF1ZXN0Lm1ldGhvZCxwYXJhbXM6W3tjaGFpbklkOnJ9XX0sY2hhaW5JZDooaT10aGlzLm5hbWVzcGFjZS5jaGFpbnMpPT1udWxsP3ZvaWQgMDppWzBdfSksdGhpcy5zZXREZWZhdWx0Q2hhaW4oYCR7YX1gKTtlbHNlIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHN3aXRjaCB0byBjaGFpbiAnZWlwMTU1OiR7YX0nLiBUaGUgY2hhaW4gaXMgbm90IGFwcHJvdmVkIG9yIHRoZSB3YWxsZXQgZG9lcyBub3Qgc3VwcG9ydCAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nIG1ldGhvZC5gKTtyZXR1cm4gbnVsbH1pc0NoYWluQXBwcm92ZWQoZSl7cmV0dXJuIHRoaXMubmFtZXNwYWNlLmNoYWlucy5pbmNsdWRlcyhgJHt0aGlzLm5hbWV9OiR7ZX1gKX1hc3luYyBnZXRDYXBhYmlsaXRpZXMoZSl7dmFyIHMsaSxyLGEsbjtjb25zdCBjPShpPShzPWUucmVxdWVzdCk9PW51bGw/dm9pZCAwOnMucGFyYW1zKT09bnVsbD92b2lkIDA6aVswXSxvPSgoYT0ocj1lLnJlcXVlc3QpPT1udWxsP3ZvaWQgMDpyLnBhcmFtcyk9PW51bGw/dm9pZCAwOmFbMV0pfHxbXTtpZighYyl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGFkZHJlc3MgcGFyYW1ldGVyIGluIGB3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzYCByZXF1ZXN0XCIpO2NvbnN0IGg9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZS50b3BpYyksbD0oKG49aD8uc2Vzc2lvblByb3BlcnRpZXMpPT1udWxsP3ZvaWQgMDpuLmNhcGFiaWxpdGllcyl8fHt9LHA9YCR7Y30ke28uam9pbihcIixcIil9YCxmPWw/LltwXTtpZihmKXJldHVybiBmO2xldCB1O3RyeXt1PUN0KGgsYyxvKX1jYXRjaChEKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZXh0cmFjdCBjYXBhYmlsaXRpZXMgZnJvbSBzZXNzaW9uXCIsRCl9aWYodSlyZXR1cm4gdTtjb25zdCBLPWF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3QoZSk7dHJ5e2F3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGUudG9waWMse3Nlc3Npb25Qcm9wZXJ0aWVzOkcoeih7fSxoLnNlc3Npb25Qcm9wZXJ0aWVzfHx7fSkse2NhcGFiaWxpdGllczpHKHooe30sbHx8e30pLHtbcF06S30pfSl9KX1jYXRjaChEKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gdXBkYXRlIHNlc3Npb24gd2l0aCBjYXBhYmlsaXRpZXNcIixEKX1yZXR1cm4gS31hc3luYyBnZXRDYWxsU3RhdHVzKGUpe3ZhciBzLGkscjtjb25zdCBhPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGUudG9waWMpLG49KHM9YS5zZXNzaW9uUHJvcGVydGllcyk9PW51bGw/dm9pZCAwOnMuYnVuZGxlcl9uYW1lO2lmKG4pe2NvbnN0IGg9dGhpcy5nZXRCdW5kbGVyVXJsKGUuY2hhaW5JZCxuKTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQoaCxlKX1jYXRjaChsKXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggY2FsbCBzdGF0dXMgZnJvbSBidW5kbGVyXCIsbCxoKX19Y29uc3QgYz0oaT1hLnNlc3Npb25Qcm9wZXJ0aWVzKT09bnVsbD92b2lkIDA6aS5idW5kbGVyX3VybDtpZihjKXRyeXtyZXR1cm4gYXdhaXQgdGhpcy5nZXRVc2VyT3BlcmF0aW9uUmVjZWlwdChjLGUpfWNhdGNoKGgpe2NvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCBjYWxsIHN0YXR1cyBmcm9tIGN1c3RvbSBidW5kbGVyXCIsaCxjKX1jb25zdCBvPWF3YWl0IFd0KHtyZXN1bHRJZDoocj1lLnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6clswXSxzdG9yYWdlOnRoaXMuc3RvcmFnZX0pO2lmKG8pdHJ5e3JldHVybiBhd2FpdCBMdChvLHRoaXMuZ2V0SHR0cFByb3ZpZGVyLmJpbmQodGhpcykpfWNhdGNoKGgpe2NvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCBjYWxsIHN0YXR1cyBmcm9tIHN0b3JlZCBzZW5kIGNhbGxzXCIsaCxvKX1pZih0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpKXJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5yZXF1ZXN0KGUpO3Rocm93IG5ldyBFcnJvcihcIkZldGNoaW5nIGNhbGwgc3RhdHVzIG5vdCBhcHByb3ZlZCBieSB0aGUgd2FsbGV0LlwiKX1hc3luYyBnZXRVc2VyT3BlcmF0aW9uUmVjZWlwdChlLHMpe3ZhciBpO2NvbnN0IHI9bmV3IFVSTChlKSxhPWF3YWl0IGZldGNoKHIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KGsoXCJldGhfZ2V0VXNlck9wZXJhdGlvblJlY2VpcHRcIixbKGk9cy5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOmlbMF1dKSl9KTtpZighYS5vayl0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCB1c2VyIG9wZXJhdGlvbiByZWNlaXB0IC0gJHthLnN0YXR1c31gKTtyZXR1cm4gYXdhaXQgYS5qc29uKCl9Z2V0QnVuZGxlclVybChlLHMpe3JldHVybmAke0JlfT9wcm9qZWN0SWQ9JHt0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZH0mY2hhaW5JZD0ke2V9JmJ1bmRsZXI9JHtzfWB9YXN5bmMgc2VuZENhbGxzKGUpe3ZhciBzLGkscjtjb25zdCBhPWF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3QoZSksbj0ocz1lLnJlcXVlc3QucGFyYW1zKT09bnVsbD92b2lkIDA6c1swXSxjPWE/LmlkLG89YT8uY2FwYWJpbGl0aWVzfHx7fSxoPShpPW8/LmNhaXAzNDUpPT1udWxsP3ZvaWQgMDppLmNhaXAyLGw9KHI9bz8uY2FpcDM0NSk9PW51bGw/dm9pZCAwOnIudHJhbnNhY3Rpb25IYXNoZXM7cmV0dXJuIWN8fCFofHwhKGwhPW51bGwmJmwubGVuZ3RoKXx8YXdhaXQgenQoe3NlbmRDYWxsczp7cmVxdWVzdDpuLHJlc3VsdDphfSxzdG9yYWdlOnRoaXMuc3RvcmFnZX0pLGF9fXZhciBRdD1PYmplY3QuZGVmaW5lUHJvcGVydHksWnQ9KHQsZSxzKT0+ZSBpbiB0P1F0KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyxiPSh0LGUscyk9Plp0KHQsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUscyk7Y2xhc3MgVHR7Y29uc3RydWN0b3IoZSl7Yih0aGlzLFwibmFtZVwiLGVlKSxiKHRoaXMsXCJjbGllbnRcIiksYih0aGlzLFwiaHR0cFByb3ZpZGVyc1wiKSxiKHRoaXMsXCJldmVudHNcIiksYih0aGlzLFwibmFtZXNwYWNlXCIpLGIodGhpcyxcImNoYWluSWRcIiksdGhpcy5uYW1lc3BhY2U9ZS5uYW1lc3BhY2UsdGhpcy5ldmVudHM9dyhcImV2ZW50c1wiKSx0aGlzLmNsaWVudD13KFwiY2xpZW50XCIpLHRoaXMuY2hhaW5JZD10aGlzLmdldERlZmF1bHRDaGFpbigpLHRoaXMubmFtZT10aGlzLmdldE5hbWVzcGFjZU5hbWUoKSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9dXBkYXRlTmFtZXNwYWNlKGUpe3RoaXMubmFtZXNwYWNlLmNoYWlucz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuY2hhaW5zfHxbXSkuY29uY2F0KGUuY2hhaW5zfHxbXSkpXSx0aGlzLm5hbWVzcGFjZS5hY2NvdW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuYWNjb3VudHN8fFtdKS5jb25jYXQoZS5hY2NvdW50c3x8W10pKV0sdGhpcy5uYW1lc3BhY2UubWV0aG9kcz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UubWV0aG9kc3x8W10pLmNvbmNhdChlLm1ldGhvZHN8fFtdKSldLHRoaXMubmFtZXNwYWNlLmV2ZW50cz1bLi4ubmV3IFNldCgodGhpcy5uYW1lc3BhY2UuZXZlbnRzfHxbXSkuY29uY2F0KGUuZXZlbnRzfHxbXSkpXSx0aGlzLmh0dHBQcm92aWRlcnM9dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXJzKCl9cmVxdWVzdEFjY291bnRzKCl7cmV0dXJuIHRoaXMuZ2V0QWNjb3VudHMoKX1yZXF1ZXN0KGUpe3JldHVybiB0aGlzLm5hbWVzcGFjZS5tZXRob2RzLmluY2x1ZGVzKGUucmVxdWVzdC5tZXRob2QpP3RoaXMuY2xpZW50LnJlcXVlc3QoZSk6dGhpcy5nZXRIdHRwUHJvdmlkZXIoZS5jaGFpbklkKS5yZXF1ZXN0KGUucmVxdWVzdCl9c2V0RGVmYXVsdENoYWluKGUscyl7dGhpcy5odHRwUHJvdmlkZXJzW2VdfHx0aGlzLnNldEh0dHBQcm92aWRlcihlLHMpO2NvbnN0IGk9dGhpcy5jaGFpbklkO3RoaXMuY2hhaW5JZD1lLHRoaXMuZXZlbnRzLmVtaXQoXy5ERUZBVUxUX0NIQUlOX0NIQU5HRUQse2N1cnJlbnRDYWlwQ2hhaW5JZDpgJHt0aGlzLm5hbWV9OiR7ZX1gLHByZXZpb3VzQ2FpcENoYWluSWQ6YCR7dGhpcy5uYW1lfToke2l9YH0pfWdldERlZmF1bHRDaGFpbigpe2lmKHRoaXMuY2hhaW5JZClyZXR1cm4gdGhpcy5jaGFpbklkO2lmKHRoaXMubmFtZXNwYWNlLmRlZmF1bHRDaGFpbilyZXR1cm4gdGhpcy5uYW1lc3BhY2UuZGVmYXVsdENoYWluO2NvbnN0IGU9dGhpcy5uYW1lc3BhY2UuY2hhaW5zWzBdO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNoYWluSWQgbm90IGZvdW5kXCIpO3JldHVybiBlLnNwbGl0KFwiOlwiKVsxXX1nZXROYW1lc3BhY2VOYW1lKCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5jaGFpbnNbMF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2hhaW5JZCBub3QgZm91bmRcIik7cmV0dXJuIEkoZSkubmFtZXNwYWNlfWdldEFjY291bnRzKCl7Y29uc3QgZT10aGlzLm5hbWVzcGFjZS5hY2NvdW50cztyZXR1cm4gZT9bLi4ubmV3IFNldChlLmZpbHRlcihzPT5zLnNwbGl0KFwiOlwiKVsxXT09PXRoaXMuY2hhaW5JZC50b1N0cmluZygpKS5tYXAocz0+cy5zcGxpdChcIjpcIilbMl0pKV06W119Y3JlYXRlSHR0cFByb3ZpZGVycygpe3ZhciBlLHM7Y29uc3QgaT17fTtyZXR1cm4ocz0oZT10aGlzLm5hbWVzcGFjZSk9PW51bGw/dm9pZCAwOmUuYWNjb3VudHMpPT1udWxsfHxzLmZvckVhY2gocj0+e3ZhciBhLG47Y29uc3QgYz1JKHIpLG89KG49KGE9dGhpcy5uYW1lc3BhY2UpPT1udWxsP3ZvaWQgMDphLnJwY01hcCk9PW51bGw/dm9pZCAwOm5bYCR7Yy5uYW1lc3BhY2V9OiR7Yy5yZWZlcmVuY2V9YF07aVtjLnJlZmVyZW5jZV09dGhpcy5jcmVhdGVIdHRwUHJvdmlkZXIocixvKX0pLGl9Z2V0SHR0cFByb3ZpZGVyKGUpe2NvbnN0IHM9SShlKS5yZWZlcmVuY2UsaT10aGlzLmh0dHBQcm92aWRlcnNbc107aWYodHlwZW9mIGk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBwcm92aWRlciBmb3IgJHtlfSBub3QgZm91bmRgKTtyZXR1cm4gaX1zZXRIdHRwUHJvdmlkZXIoZSxzKXtjb25zdCBpPXRoaXMuY3JlYXRlSHR0cFByb3ZpZGVyKGUscyk7aSYmKHRoaXMuaHR0cFByb3ZpZGVyc1tlXT1pKX1jcmVhdGVIdHRwUHJvdmlkZXIoZSxzKXtjb25zdCBpPXN8fHVlKGUsdGhpcy5uYW1lc3BhY2UsdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihgTm8gUlBDIHVybCBwcm92aWRlZCBmb3IgY2hhaW5JZDogJHtlfWApO3JldHVybiBuZXcgUShuZXcgUmUoaSx3KFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiKSkpfX12YXIgZXM9T2JqZWN0LmRlZmluZVByb3BlcnR5LHRzPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLHNzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLEVlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsaXM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxucz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFc9KHQsZSxzKT0+ZSBpbiB0P2VzKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pOnRbZV09cyxTPSh0LGUpPT57Zm9yKHZhciBzIGluIGV8fChlPXt9KSlpcy5jYWxsKGUscykmJlcodCxzLGVbc10pO2lmKEVlKWZvcih2YXIgcyBvZiBFZShlKSlucy5jYWxsKGUscykmJlcodCxzLGVbc10pO3JldHVybiB0fSxDPSh0LGUpPT50cyh0LHNzKGUpKSxkPSh0LGUscyk9PlcodCx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSxzKTtjbGFzcyBOe2NvbnN0cnVjdG9yKGUpe2QodGhpcyxcImNsaWVudFwiKSxkKHRoaXMsXCJuYW1lc3BhY2VzXCIpLGQodGhpcyxcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKSxkKHRoaXMsXCJzZXNzaW9uUHJvcGVydGllc1wiKSxkKHRoaXMsXCJzY29wZWRQcm9wZXJ0aWVzXCIpLGQodGhpcyxcImV2ZW50c1wiLG5ldyB4ZSksZCh0aGlzLFwicnBjUHJvdmlkZXJzXCIse30pLGQodGhpcyxcInNlc3Npb25cIiksZCh0aGlzLFwicHJvdmlkZXJPcHRzXCIpLGQodGhpcyxcImxvZ2dlclwiKSxkKHRoaXMsXCJ1cmlcIiksZCh0aGlzLFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiLCExKSx0aGlzLnByb3ZpZGVyT3B0cz1lLHRoaXMubG9nZ2VyPXR5cGVvZiBlPy5sb2dnZXI8XCJ1XCImJnR5cGVvZiBlPy5sb2dnZXIhPVwic3RyaW5nXCI/ZS5sb2dnZXI6TmUoRGUoe2xldmVsOmU/LmxvZ2dlcnx8Wn0pKSx0aGlzLmRpc2FibGVQcm92aWRlclBpbmc9ZT8uZGlzYWJsZVByb3ZpZGVyUGluZ3x8ITF9c3RhdGljIGFzeW5jIGluaXQoZSl7Y29uc3Qgcz1uZXcgTihlKTtyZXR1cm4gYXdhaXQgcy5pbml0aWFsaXplKCksc31hc3luYyByZXF1ZXN0KGUscyxpKXtjb25zdFtyLGFdPXRoaXMudmFsaWRhdGVDaGFpbihzKTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBjYWxsIGNvbm5lY3QoKSBiZWZvcmUgcmVxdWVzdCgpXCIpO3JldHVybiBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKHIpLnJlcXVlc3Qoe3JlcXVlc3Q6Uyh7fSxlKSxjaGFpbklkOmAke3J9OiR7YX1gLHRvcGljOnRoaXMuc2Vzc2lvbi50b3BpYyxleHBpcnk6aX0pfXNlbmRBc3luYyhlLHMsaSxyKXtjb25zdCBhPW5ldyBEYXRlKCkuZ2V0VGltZSgpO3RoaXMucmVxdWVzdChlLGkscikudGhlbihuPT5zKG51bGwscWUoYSxuKSkpLmNhdGNoKG49PnMobix2b2lkIDApKX1hc3luYyBlbmFibGUoKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO3JldHVybiB0aGlzLnNlc3Npb258fGF3YWl0IHRoaXMuY29ubmVjdCh7bmFtZXNwYWNlczp0aGlzLm5hbWVzcGFjZXMsb3B0aW9uYWxOYW1lc3BhY2VzOnRoaXMub3B0aW9uYWxOYW1lc3BhY2VzLHNlc3Npb25Qcm9wZXJ0aWVzOnRoaXMuc2Vzc2lvblByb3BlcnRpZXMsc2NvcGVkUHJvcGVydGllczp0aGlzLnNjb3BlZFByb3BlcnRpZXN9KSxhd2FpdCB0aGlzLnJlcXVlc3RBY2NvdW50cygpfWFzeW5jIGRpc2Nvbm5lY3QoKXt2YXIgZTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBjYWxsIGNvbm5lY3QoKSBiZWZvcmUgZW5hYmxlKClcIik7YXdhaXQgdGhpcy5jbGllbnQuZGlzY29ubmVjdCh7dG9waWM6KGU9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6ZS50b3BpYyxyZWFzb246WChcIlVTRVJfRElTQ09OTkVDVEVEXCIpfSksYXdhaXQgdGhpcy5jbGVhbnVwKCl9YXN5bmMgY29ubmVjdChlKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO2lmKHRoaXMuc2V0TmFtZXNwYWNlcyhlKSx0aGlzLmNsZWFudXBQZW5kaW5nUGFpcmluZ3MoKSwhZS5za2lwUGFpcmluZylyZXR1cm4gYXdhaXQgdGhpcy5wYWlyKGUucGFpcmluZ1RvcGljKX1hc3luYyBhdXRoZW50aWNhdGUoZSxzKXtpZighdGhpcy5jbGllbnQpdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpO3RoaXMuc2V0TmFtZXNwYWNlcyhlKSxhd2FpdCB0aGlzLmNsZWFudXBQZW5kaW5nUGFpcmluZ3MoKTtjb25zdHt1cmk6aSxyZXNwb25zZTpyfT1hd2FpdCB0aGlzLmNsaWVudC5hdXRoZW50aWNhdGUoZSxzKTtpJiYodGhpcy51cmk9aSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzcGxheV91cmlcIixpKSk7Y29uc3QgYT1hd2FpdCByKCk7aWYodGhpcy5zZXNzaW9uPWEuc2Vzc2lvbix0aGlzLnNlc3Npb24pe2NvbnN0IG49eWUodGhpcy5zZXNzaW9uLm5hbWVzcGFjZXMpO3RoaXMubmFtZXNwYWNlcz1qKHRoaXMubmFtZXNwYWNlcyxuKSxhd2FpdCB0aGlzLnBlcnNpc3QoXCJuYW1lc3BhY2VzXCIsdGhpcy5uYW1lc3BhY2VzKSx0aGlzLm9uQ29ubmVjdCgpfXJldHVybiBhfW9uKGUscyl7dGhpcy5ldmVudHMub24oZSxzKX1vbmNlKGUscyl7dGhpcy5ldmVudHMub25jZShlLHMpfXJlbW92ZUxpc3RlbmVyKGUscyl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSxzKX1vZmYoZSxzKXt0aGlzLmV2ZW50cy5vZmYoZSxzKX1nZXQgaXNXYWxsZXRDb25uZWN0KCl7cmV0dXJuITB9YXN5bmMgcGFpcihlKXtjb25zdHt1cmk6cyxhcHByb3ZhbDppfT1hd2FpdCB0aGlzLmNsaWVudC5jb25uZWN0KHtwYWlyaW5nVG9waWM6ZSxyZXF1aXJlZE5hbWVzcGFjZXM6dGhpcy5uYW1lc3BhY2VzLG9wdGlvbmFsTmFtZXNwYWNlczp0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcyxzZXNzaW9uUHJvcGVydGllczp0aGlzLnNlc3Npb25Qcm9wZXJ0aWVzLHNjb3BlZFByb3BlcnRpZXM6dGhpcy5zY29wZWRQcm9wZXJ0aWVzfSk7cyYmKHRoaXMudXJpPXMsdGhpcy5ldmVudHMuZW1pdChcImRpc3BsYXlfdXJpXCIscykpO2NvbnN0IHI9YXdhaXQgaSgpO3RoaXMuc2Vzc2lvbj1yO2NvbnN0IGE9eWUoci5uYW1lc3BhY2VzKTtyZXR1cm4gdGhpcy5uYW1lc3BhY2VzPWoodGhpcy5uYW1lc3BhY2VzLGEpLGF3YWl0IHRoaXMucGVyc2lzdChcIm5hbWVzcGFjZXNcIix0aGlzLm5hbWVzcGFjZXMpLGF3YWl0IHRoaXMucGVyc2lzdChcIm9wdGlvbmFsTmFtZXNwYWNlc1wiLHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzKSx0aGlzLm9uQ29ubmVjdCgpLHRoaXMuc2Vzc2lvbn1zZXREZWZhdWx0Q2hhaW4oZSxzKXt0cnl7aWYoIXRoaXMuc2Vzc2lvbilyZXR1cm47Y29uc3RbaSxyXT10aGlzLnZhbGlkYXRlQ2hhaW4oZSk7dGhpcy5nZXRQcm92aWRlcihpKS5zZXREZWZhdWx0Q2hhaW4ocixzKX1jYXRjaChpKXtpZighL1BsZWFzZSBjYWxsIGNvbm5lY3QvLnRlc3QoaS5tZXNzYWdlKSl0aHJvdyBpfX1hc3luYyBjbGVhbnVwUGVuZGluZ1BhaXJpbmdzKGU9e30pe3RyeXt0aGlzLmxvZ2dlci5pbmZvKFwiQ2xlYW5pbmcgdXAgaW5hY3RpdmUgcGFpcmluZ3MuLi5cIik7Y29uc3Qgcz10aGlzLmNsaWVudC5wYWlyaW5nLmdldEFsbCgpO2lmKCFSKHMpKXJldHVybjtmb3IoY29uc3QgaSBvZiBzKWUuZGVsZXRlUGFpcmluZ3M/dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChpLnRvcGljLDApOmF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKGkudG9waWMpO3RoaXMubG9nZ2VyLmluZm8oYEluYWN0aXZlIHBhaXJpbmdzIGNsZWFyZWQ6ICR7cy5sZW5ndGh9YCl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihcIkZhaWxlZCB0byBjbGVhbnVwIHBlbmRpbmcgcGFpcmluZ3NcIixzKX19YWJvcnRQYWlyaW5nQXR0ZW1wdCgpe3RoaXMubG9nZ2VyLndhcm4oXCJhYm9ydFBhaXJpbmdBdHRlbXB0IGlzIGRlcHJlY2F0ZWQuIFRoaXMgaXMgbm93IGEgbm8tb3AuXCIpfWFzeW5jIGNoZWNrU3RvcmFnZSgpe3RoaXMubmFtZXNwYWNlcz1hd2FpdCB0aGlzLmdldEZyb21TdG9yZShcIm5hbWVzcGFjZXNcIil8fHt9LHRoaXMub3B0aW9uYWxOYW1lc3BhY2VzPWF3YWl0IHRoaXMuZ2V0RnJvbVN0b3JlKFwib3B0aW9uYWxOYW1lc3BhY2VzXCIpfHx7fSx0aGlzLnNlc3Npb24mJnRoaXMuY3JlYXRlUHJvdmlkZXJzKCl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5jcmVhdGVDbGllbnQoKSxhd2FpdCB0aGlzLmNoZWNrU3RvcmFnZSgpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpfWFzeW5jIGNyZWF0ZUNsaWVudCgpe3ZhciBlLHM7aWYodGhpcy5jbGllbnQ9dGhpcy5wcm92aWRlck9wdHMuY2xpZW50fHxhd2FpdCBqZS5pbml0KHtjb3JlOnRoaXMucHJvdmlkZXJPcHRzLmNvcmUsbG9nZ2VyOnRoaXMucHJvdmlkZXJPcHRzLmxvZ2dlcnx8WixyZWxheVVybDp0aGlzLnByb3ZpZGVyT3B0cy5yZWxheVVybHx8RmUscHJvamVjdElkOnRoaXMucHJvdmlkZXJPcHRzLnByb2plY3RJZCxtZXRhZGF0YTp0aGlzLnByb3ZpZGVyT3B0cy5tZXRhZGF0YSxzdG9yYWdlT3B0aW9uczp0aGlzLnByb3ZpZGVyT3B0cy5zdG9yYWdlT3B0aW9ucyxzdG9yYWdlOnRoaXMucHJvdmlkZXJPcHRzLnN0b3JhZ2UsbmFtZTp0aGlzLnByb3ZpZGVyT3B0cy5uYW1lLGN1c3RvbVN0b3JhZ2VQcmVmaXg6dGhpcy5wcm92aWRlck9wdHMuY3VzdG9tU3RvcmFnZVByZWZpeCx0ZWxlbWV0cnlFbmFibGVkOnRoaXMucHJvdmlkZXJPcHRzLnRlbGVtZXRyeUVuYWJsZWR9KSx0aGlzLnByb3ZpZGVyT3B0cy5zZXNzaW9uKXRyeXt0aGlzLnNlc3Npb249dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQodGhpcy5wcm92aWRlck9wdHMuc2Vzc2lvbi50b3BpYyl9Y2F0Y2goaSl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gZ2V0IHNlc3Npb25cIixpKSxuZXcgRXJyb3IoYFRoZSBwcm92aWRlZCBzZXNzaW9uOiAkeyhzPShlPXRoaXMucHJvdmlkZXJPcHRzKT09bnVsbD92b2lkIDA6ZS5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpY30gZG9lc24ndCBleGlzdCBpbiB0aGUgU2lnbiBjbGllbnRgKX1lbHNle2NvbnN0IGk9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKTt0aGlzLnNlc3Npb249aVswXX10aGlzLmxvZ2dlci50cmFjZShcIlNpZ25DbGllbnQgSW5pdGlhbGl6ZWRcIil9Y3JlYXRlUHJvdmlkZXJzKCl7aWYoIXRoaXMuY2xpZW50KXRocm93IG5ldyBFcnJvcihcIlNpZ24gQ2xpZW50IG5vdCBpbml0aWFsaXplZFwiKTtpZighdGhpcy5zZXNzaW9uKXRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gbm90IGluaXRpYWxpemVkLiBQbGVhc2UgY2FsbCBjb25uZWN0KCkgYmVmb3JlIGVuYWJsZSgpXCIpO2NvbnN0IGU9Wy4uLm5ldyBTZXQoT2JqZWN0LmtleXModGhpcy5zZXNzaW9uLm5hbWVzcGFjZXMpLm1hcChzPT5PKHMpKSldO1UoXCJjbGllbnRcIix0aGlzLmNsaWVudCksVShcImV2ZW50c1wiLHRoaXMuZXZlbnRzKSxVKFwiZGlzYWJsZVByb3ZpZGVyUGluZ1wiLHRoaXMuZGlzYWJsZVByb3ZpZGVyUGluZyksZS5mb3JFYWNoKHM9PntpZighdGhpcy5zZXNzaW9uKXJldHVybjtjb25zdCBpPVB0KHMsdGhpcy5zZXNzaW9uKTtpZihpPy5sZW5ndGg9PT0wKXJldHVybjtjb25zdCByPWRlKGkpLGE9aih0aGlzLm5hbWVzcGFjZXMsdGhpcy5vcHRpb25hbE5hbWVzcGFjZXMpLG49QyhTKHt9LGFbc10pLHthY2NvdW50czppLGNoYWluczpyfSk7c3dpdGNoKHMpe2Nhc2VcImVpcDE1NVwiOnRoaXMucnBjUHJvdmlkZXJzW3NdPW5ldyBrdCh7bmFtZXNwYWNlOm59KTticmVhaztkZWZhdWx0OnRoaXMucnBjUHJvdmlkZXJzW3NdPW5ldyBUdCh7bmFtZXNwYWNlOm59KX19KX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7aWYodHlwZW9mIHRoaXMuY2xpZW50PlwidVwiKXRocm93IG5ldyBFcnJvcihcIlNpZ24gQ2xpZW50IGlzIG5vdCBpbml0aWFsaXplZFwiKTt0aGlzLmNsaWVudC5vbihcInNlc3Npb25fcGluZ1wiLGU9Pnt2YXIgcztjb25zdHt0b3BpYzppfT1lO2k9PT0oKHM9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpYykmJnRoaXMuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3BpbmdcIixlKX0pLHRoaXMuY2xpZW50Lm9uKFwic2Vzc2lvbl9ldmVudFwiLGU9Pnt2YXIgcztjb25zdHtwYXJhbXM6aSx0b3BpYzpyfT1lO2lmKHIhPT0oKHM9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpYykpcmV0dXJuO2NvbnN0e2V2ZW50OmF9PWk7aWYoYS5uYW1lPT09XCJhY2NvdW50c0NoYW5nZWRcIil7Y29uc3Qgbj1hLmRhdGE7biYmUihuKSYmdGhpcy5ldmVudHMuZW1pdChcImFjY291bnRzQ2hhbmdlZFwiLG4ubWFwKGdlKSl9ZWxzZSBpZihhLm5hbWU9PT1cImNoYWluQ2hhbmdlZFwiKXtjb25zdCBuPWkuY2hhaW5JZCxjPWkuZXZlbnQuZGF0YSxvPU8obiksaD1IKG4pIT09SChjKT9gJHtvfToke0goYyl9YDpuO3RoaXMub25DaGFpbkNoYW5nZWQoe2N1cnJlbnRDYWlwQ2hhaW5JZDpofSl9ZWxzZSB0aGlzLmV2ZW50cy5lbWl0KGEubmFtZSxhLmRhdGEpO3RoaXMuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2V2ZW50XCIsZSl9KSx0aGlzLmNsaWVudC5vbihcInNlc3Npb25fdXBkYXRlXCIsKHt0b3BpYzplLHBhcmFtczpzfSk9Pnt2YXIgaSxyO2lmKGUhPT0oKGk9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6aS50b3BpYykpcmV0dXJuO2NvbnN0e25hbWVzcGFjZXM6YX09cyxuPShyPXRoaXMuY2xpZW50KT09bnVsbD92b2lkIDA6ci5zZXNzaW9uLmdldChlKTt0aGlzLnNlc3Npb249QyhTKHt9LG4pLHtuYW1lc3BhY2VzOmF9KSx0aGlzLm9uU2Vzc2lvblVwZGF0ZSgpLHRoaXMuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3VwZGF0ZVwiLHt0b3BpYzplLHBhcmFtczpzfSl9KSx0aGlzLmNsaWVudC5vbihcInNlc3Npb25fZGVsZXRlXCIsYXN5bmMgZT0+e3ZhciBzO2UudG9waWM9PT0oKHM9dGhpcy5zZXNzaW9uKT09bnVsbD92b2lkIDA6cy50b3BpYykmJihhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9kZWxldGVcIixlKSx0aGlzLmV2ZW50cy5lbWl0KFwiZGlzY29ubmVjdFwiLEMoUyh7fSxYKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHtkYXRhOmUudG9waWN9KSkpfSksdGhpcy5vbihfLkRFRkFVTFRfQ0hBSU5fQ0hBTkdFRCxlPT57dGhpcy5vbkNoYWluQ2hhbmdlZChDKFMoe30sZSkse2ludGVybmFsOiEwfSkpfSl9Z2V0UHJvdmlkZXIoZSl7cmV0dXJuIHRoaXMucnBjUHJvdmlkZXJzW2VdfHx0aGlzLnJwY1Byb3ZpZGVyc1tlZV19b25TZXNzaW9uVXBkYXRlKCl7T2JqZWN0LmtleXModGhpcy5ycGNQcm92aWRlcnMpLmZvckVhY2goZT0+e3ZhciBzO3RoaXMuZ2V0UHJvdmlkZXIoZSkudXBkYXRlTmFtZXNwYWNlKChzPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMubmFtZXNwYWNlc1tlXSl9KX1zZXROYW1lc3BhY2VzKGUpe2NvbnN0e25hbWVzcGFjZXM6cz17fSxvcHRpb25hbE5hbWVzcGFjZXM6aT17fSxzZXNzaW9uUHJvcGVydGllczpyLHNjb3BlZFByb3BlcnRpZXM6YX09ZTt0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcz1qKHMsaSksdGhpcy5zZXNzaW9uUHJvcGVydGllcz1yLHRoaXMuc2NvcGVkUHJvcGVydGllcz1hfXZhbGlkYXRlQ2hhaW4oZSl7Y29uc3RbcyxpXT1lPy5zcGxpdChcIjpcIil8fFtcIlwiLFwiXCJdO2lmKCF0aGlzLm5hbWVzcGFjZXN8fCFPYmplY3Qua2V5cyh0aGlzLm5hbWVzcGFjZXMpLmxlbmd0aClyZXR1cm5bcyxpXTtpZihzJiYhT2JqZWN0LmtleXModGhpcy5uYW1lc3BhY2VzfHx7fSkubWFwKG49Pk8obikpLmluY2x1ZGVzKHMpKXRocm93IG5ldyBFcnJvcihgTmFtZXNwYWNlICcke3N9JyBpcyBub3QgY29uZmlndXJlZC4gUGxlYXNlIGNhbGwgY29ubmVjdCgpIGZpcnN0IHdpdGggbmFtZXNwYWNlIGNvbmZpZy5gKTtpZihzJiZpKXJldHVybltzLGldO2NvbnN0IHI9TyhPYmplY3Qua2V5cyh0aGlzLm5hbWVzcGFjZXMpWzBdKSxhPXRoaXMucnBjUHJvdmlkZXJzW3JdLmdldERlZmF1bHRDaGFpbigpO3JldHVybltyLGFdfWFzeW5jIHJlcXVlc3RBY2NvdW50cygpe2NvbnN0W2VdPXRoaXMudmFsaWRhdGVDaGFpbigpO3JldHVybiBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKGUpLnJlcXVlc3RBY2NvdW50cygpfWFzeW5jIG9uQ2hhaW5DaGFuZ2VkKHtjdXJyZW50Q2FpcENoYWluSWQ6ZSxwcmV2aW91c0NhaXBDaGFpbklkOnMsaW50ZXJuYWw6aT0hMX0pe2lmKCF0aGlzLm5hbWVzcGFjZXMpcmV0dXJuO2NvbnN0W3IsYV09dGhpcy52YWxpZGF0ZUNoYWluKGUpO2EmJih0aGlzLnVwZGF0ZU5hbWVzcGFjZUNoYWluKHIsYSksaT8odGhpcy5ldmVudHMuZW1pdChcImNoYWluQ2hhbmdlZFwiLGEpLHRoaXMuZW1pdEFjY291bnRzQ2hhbmdlZE9uQ2hhaW5DaGFuZ2Uoe25hbWVzcGFjZTpyLGN1cnJlbnRDYWlwQ2hhaW5JZDplLHByZXZpb3VzQ2FpcENoYWluSWQ6c30pKTp0aGlzLmdldFByb3ZpZGVyKHIpLnNldERlZmF1bHRDaGFpbihhKSxhd2FpdCB0aGlzLnBlcnNpc3QoXCJuYW1lc3BhY2VzXCIsdGhpcy5uYW1lc3BhY2VzKSl9ZW1pdEFjY291bnRzQ2hhbmdlZE9uQ2hhaW5DaGFuZ2Uoe25hbWVzcGFjZTplLGN1cnJlbnRDYWlwQ2hhaW5JZDpzLHByZXZpb3VzQ2FpcENoYWluSWQ6aX0pe3ZhciByLGE7dHJ5e2lmKGk9PT1zKXJldHVybjtjb25zdCBuPShhPShyPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnIubmFtZXNwYWNlc1tlXSk9PW51bGw/dm9pZCAwOmEuYWNjb3VudHM7aWYoIW4pcmV0dXJuO2NvbnN0IGM9bi5maWx0ZXIobz0+by5pbmNsdWRlcyhgJHtzfTpgKSkubWFwKGdlKTtpZighUihjKSlyZXR1cm47dGhpcy5ldmVudHMuZW1pdChcImFjY291bnRzQ2hhbmdlZFwiLGMpfWNhdGNoKG4pe3RoaXMubG9nZ2VyLndhcm4oXCJGYWlsZWQgdG8gZW1pdCBhY2NvdW50c0NoYW5nZWQgb24gY2hhaW4gY2hhbmdlXCIsbil9fXVwZGF0ZU5hbWVzcGFjZUNoYWluKGUscyl7aWYoIXRoaXMubmFtZXNwYWNlcylyZXR1cm47Y29uc3QgaT10aGlzLm5hbWVzcGFjZXNbZV0/ZTpgJHtlfToke3N9YCxyPXtjaGFpbnM6W10sbWV0aG9kczpbXSxldmVudHM6W10sZGVmYXVsdENoYWluOnN9O3RoaXMubmFtZXNwYWNlc1tpXT90aGlzLm5hbWVzcGFjZXNbaV0mJih0aGlzLm5hbWVzcGFjZXNbaV0uZGVmYXVsdENoYWluPXMpOnRoaXMubmFtZXNwYWNlc1tpXT1yfW9uQ29ubmVjdCgpe3RoaXMuY3JlYXRlUHJvdmlkZXJzKCksdGhpcy5ldmVudHMuZW1pdChcImNvbm5lY3RcIix7c2Vzc2lvbjp0aGlzLnNlc3Npb259KX1hc3luYyBjbGVhbnVwKCl7dGhpcy5uYW1lc3BhY2VzPXZvaWQgMCx0aGlzLm9wdGlvbmFsTmFtZXNwYWNlcz12b2lkIDAsdGhpcy5zZXNzaW9uUHJvcGVydGllcz12b2lkIDAsYXdhaXQgdGhpcy5kZWxldGVGcm9tU3RvcmUoXCJuYW1lc3BhY2VzXCIpLGF3YWl0IHRoaXMuZGVsZXRlRnJvbVN0b3JlKFwib3B0aW9uYWxOYW1lc3BhY2VzXCIpLGF3YWl0IHRoaXMuZGVsZXRlRnJvbVN0b3JlKFwic2Vzc2lvblByb3BlcnRpZXNcIiksdGhpcy5zZXNzaW9uPXZvaWQgMCx0aGlzLmNsZWFudXBQZW5kaW5nUGFpcmluZ3Moe2RlbGV0ZVBhaXJpbmdzOiEwfSksYXdhaXQgdGhpcy5jbGVhbnVwU3RvcmFnZSgpfWFzeW5jIHBlcnNpc3QoZSxzKXt2YXIgaTtjb25zdCByPSgoaT10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDppLnRvcGljKXx8XCJcIjthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2Uuc2V0SXRlbShgJHskfS8ke2V9JHtyfWAscyl9YXN5bmMgZ2V0RnJvbVN0b3JlKGUpe3ZhciBzO2NvbnN0IGk9KChzPXRoaXMuc2Vzc2lvbik9PW51bGw/dm9pZCAwOnMudG9waWMpfHxcIlwiO3JldHVybiBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UuZ2V0SXRlbShgJHskfS8ke2V9JHtpfWApfWFzeW5jIGRlbGV0ZUZyb21TdG9yZShlKXt2YXIgcztjb25zdCBpPSgocz10aGlzLnNlc3Npb24pPT1udWxsP3ZvaWQgMDpzLnRvcGljKXx8XCJcIjthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UucmVtb3ZlSXRlbShgJHskfS8ke2V9JHtpfWApfWFzeW5jIGNsZWFudXBTdG9yYWdlKCl7dmFyIGU7dHJ5e2lmKCgoZT10aGlzLmNsaWVudCk9PW51bGw/dm9pZCAwOmUuc2Vzc2lvbi5sZW5ndGgpPjApcmV0dXJuO2NvbnN0IHM9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLmdldEtleXMoKTtmb3IoY29uc3QgaSBvZiBzKWkuc3RhcnRzV2l0aCgkKSYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLnJlbW92ZUl0ZW0oaSl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihcIkZhaWxlZCB0byBjbGVhbnVwIHN0b3JhZ2VcIixzKX19fWNvbnN0IHJzPU47ZXhwb3J0e3JzIGFzIFVuaXZlcnNhbFByb3ZpZGVyLE4gYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/_md.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/_md.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chi: () => (/* binding */ Chi),\n/* harmony export */   HashMD: () => (/* binding */ HashMD),\n/* harmony export */   Maj: () => (/* binding */ Maj),\n/* harmony export */   SHA224_IV: () => (/* binding */ SHA224_IV),\n/* harmony export */   SHA256_IV: () => (/* binding */ SHA256_IV),\n/* harmony export */   SHA384_IV: () => (/* binding */ SHA384_IV),\n/* harmony export */   SHA512_IV: () => (/* binding */ SHA512_IV),\n/* harmony export */   setBigUint64: () => (/* binding */ setBigUint64)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js\");\n/**\n * Internal Merkle-Damgard hash utils.\n * @module\n */\n\n/** Polyfill for Safari 14. https://caniuse.com/mdn-javascript_builtins_dataview_setbiguint64 */\nfunction setBigUint64(view, byteOffset, value, isLE) {\n    if (typeof view.setBigUint64 === 'function')\n        return view.setBigUint64(byteOffset, value, isLE);\n    const _32n = BigInt(32);\n    const _u32_max = BigInt(0xffffffff);\n    const wh = Number((value >> _32n) & _u32_max);\n    const wl = Number(value & _u32_max);\n    const h = isLE ? 4 : 0;\n    const l = isLE ? 0 : 4;\n    view.setUint32(byteOffset + h, wh, isLE);\n    view.setUint32(byteOffset + l, wl, isLE);\n}\n/** Choice: a ? b : c */\nfunction Chi(a, b, c) {\n    return (a & b) ^ (~a & c);\n}\n/** Majority function, true if any two inputs is true. */\nfunction Maj(a, b, c) {\n    return (a & b) ^ (a & c) ^ (b & c);\n}\n/**\n * Merkle-Damgard hash construction base class.\n * Could be used to create MD5, RIPEMD, SHA1, SHA2.\n */\nclass HashMD extends _utils_js__WEBPACK_IMPORTED_MODULE_0__.Hash {\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        super();\n        this.finished = false;\n        this.length = 0;\n        this.pos = 0;\n        this.destroyed = false;\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createView)(this.buffer);\n    }\n    update(data) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aexists)(this);\n        data = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toBytes)(data);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(data);\n        const { view, buffer, blockLen } = this;\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createView)(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aexists)(this);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aoutput)(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.clean)(this.buffer.subarray(pos));\n        // we have less than padOffset left in buffer, so we cannot put length in\n        // current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createView)(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen should be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to || (to = new this.constructor());\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.destroyed = destroyed;\n        to.finished = finished;\n        to.length = length;\n        to.pos = pos;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n    clone() {\n        return this._cloneInto();\n    }\n}\n/**\n * Initial SHA-2 state: fractional parts of square roots of first 16 primes 2..53.\n * Check out `test/misc/sha2-gen-iv.js` for recomputation guide.\n */\n/** Initial SHA256 state. Bits 0..32 of frac part of sqrt of primes 2..19 */\nconst SHA256_IV = /* @__PURE__ */ Uint32Array.from([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19,\n]);\n/** Initial SHA224 state. Bits 32..64 of frac part of sqrt of primes 23..53 */\nconst SHA224_IV = /* @__PURE__ */ Uint32Array.from([\n    0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939, 0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4,\n]);\n/** Initial SHA384 state. Bits 0..64 of frac part of sqrt of primes 23..53 */\nconst SHA384_IV = /* @__PURE__ */ Uint32Array.from([\n    0xcbbb9d5d, 0xc1059ed8, 0x629a292a, 0x367cd507, 0x9159015a, 0x3070dd17, 0x152fecd8, 0xf70e5939,\n    0x67332667, 0xffc00b31, 0x8eb44a87, 0x68581511, 0xdb0c2e0d, 0x64f98fa7, 0x47b5481d, 0xbefa4fa4,\n]);\n/** Initial SHA512 state. Bits 0..64 of frac part of sqrt of primes 2..19 */\nconst SHA512_IV = /* @__PURE__ */ Uint32Array.from([\n    0x6a09e667, 0xf3bcc908, 0xbb67ae85, 0x84caa73b, 0x3c6ef372, 0xfe94f82b, 0xa54ff53a, 0x5f1d36f1,\n    0x510e527f, 0xade682d1, 0x9b05688c, 0x2b3e6c1f, 0x1f83d9ab, 0xfb41bd6b, 0x5be0cd19, 0x137e2179,\n]);\n//# sourceMappingURL=_md.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvaGFzaGVzL2VzbS9fbWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDd0Y7QUFDeEY7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsMkNBQUk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxREFBVTtBQUM5QjtBQUNBO0FBQ0EsUUFBUSxrREFBTztBQUNmLGVBQWUsa0RBQU87QUFDdEIsUUFBUSxpREFBTTtBQUNkLGdCQUFnQix5QkFBeUI7QUFDekM7QUFDQSwwQkFBMEIsVUFBVTtBQUNwQztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscURBQVU7QUFDM0MsdUJBQXVCLHVCQUF1QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQU87QUFDZixRQUFRLGtEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0JBQStCO0FBQy9DLGNBQWMsTUFBTTtBQUNwQjtBQUNBO0FBQ0EsUUFBUSxnREFBSztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGNBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHFEQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0JBQW9CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQXFEO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvQG5vYmxlL2hhc2hlcy9lc20vX21kLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW50ZXJuYWwgTWVya2xlLURhbWdhcmQgaGFzaCB1dGlscy5cbiAqIEBtb2R1bGVcbiAqL1xuaW1wb3J0IHsgSGFzaCwgYWJ5dGVzLCBhZXhpc3RzLCBhb3V0cHV0LCBjbGVhbiwgY3JlYXRlVmlldywgdG9CeXRlcyB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG4vKiogUG9seWZpbGwgZm9yIFNhZmFyaSAxNC4gaHR0cHM6Ly9jYW5pdXNlLmNvbS9tZG4tamF2YXNjcmlwdF9idWlsdGluc19kYXRhdmlld19zZXRiaWd1aW50NjQgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRCaWdVaW50NjQodmlldywgYnl0ZU9mZnNldCwgdmFsdWUsIGlzTEUpIHtcbiAgICBpZiAodHlwZW9mIHZpZXcuc2V0QmlnVWludDY0ID09PSAnZnVuY3Rpb24nKVxuICAgICAgICByZXR1cm4gdmlldy5zZXRCaWdVaW50NjQoYnl0ZU9mZnNldCwgdmFsdWUsIGlzTEUpO1xuICAgIGNvbnN0IF8zMm4gPSBCaWdJbnQoMzIpO1xuICAgIGNvbnN0IF91MzJfbWF4ID0gQmlnSW50KDB4ZmZmZmZmZmYpO1xuICAgIGNvbnN0IHdoID0gTnVtYmVyKCh2YWx1ZSA+PiBfMzJuKSAmIF91MzJfbWF4KTtcbiAgICBjb25zdCB3bCA9IE51bWJlcih2YWx1ZSAmIF91MzJfbWF4KTtcbiAgICBjb25zdCBoID0gaXNMRSA/IDQgOiAwO1xuICAgIGNvbnN0IGwgPSBpc0xFID8gMCA6IDQ7XG4gICAgdmlldy5zZXRVaW50MzIoYnl0ZU9mZnNldCArIGgsIHdoLCBpc0xFKTtcbiAgICB2aWV3LnNldFVpbnQzMihieXRlT2Zmc2V0ICsgbCwgd2wsIGlzTEUpO1xufVxuLyoqIENob2ljZTogYSA/IGIgOiBjICovXG5leHBvcnQgZnVuY3Rpb24gQ2hpKGEsIGIsIGMpIHtcbiAgICByZXR1cm4gKGEgJiBiKSBeICh+YSAmIGMpO1xufVxuLyoqIE1ham9yaXR5IGZ1bmN0aW9uLCB0cnVlIGlmIGFueSB0d28gaW5wdXRzIGlzIHRydWUuICovXG5leHBvcnQgZnVuY3Rpb24gTWFqKGEsIGIsIGMpIHtcbiAgICByZXR1cm4gKGEgJiBiKSBeIChhICYgYykgXiAoYiAmIGMpO1xufVxuLyoqXG4gKiBNZXJrbGUtRGFtZ2FyZCBoYXNoIGNvbnN0cnVjdGlvbiBiYXNlIGNsYXNzLlxuICogQ291bGQgYmUgdXNlZCB0byBjcmVhdGUgTUQ1LCBSSVBFTUQsIFNIQTEsIFNIQTIuXG4gKi9cbmV4cG9ydCBjbGFzcyBIYXNoTUQgZXh0ZW5kcyBIYXNoIHtcbiAgICBjb25zdHJ1Y3RvcihibG9ja0xlbiwgb3V0cHV0TGVuLCBwYWRPZmZzZXQsIGlzTEUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ibG9ja0xlbiA9IGJsb2NrTGVuO1xuICAgICAgICB0aGlzLm91dHB1dExlbiA9IG91dHB1dExlbjtcbiAgICAgICAgdGhpcy5wYWRPZmZzZXQgPSBwYWRPZmZzZXQ7XG4gICAgICAgIHRoaXMuaXNMRSA9IGlzTEU7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYmxvY2tMZW4pO1xuICAgICAgICB0aGlzLnZpZXcgPSBjcmVhdGVWaWV3KHRoaXMuYnVmZmVyKTtcbiAgICB9XG4gICAgdXBkYXRlKGRhdGEpIHtcbiAgICAgICAgYWV4aXN0cyh0aGlzKTtcbiAgICAgICAgZGF0YSA9IHRvQnl0ZXMoZGF0YSk7XG4gICAgICAgIGFieXRlcyhkYXRhKTtcbiAgICAgICAgY29uc3QgeyB2aWV3LCBidWZmZXIsIGJsb2NrTGVuIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBsZW4gPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgbGVuOykge1xuICAgICAgICAgICAgY29uc3QgdGFrZSA9IE1hdGgubWluKGJsb2NrTGVuIC0gdGhpcy5wb3MsIGxlbiAtIHBvcyk7XG4gICAgICAgICAgICAvLyBGYXN0IHBhdGg6IHdlIGhhdmUgYXQgbGVhc3Qgb25lIGJsb2NrIGluIGlucHV0LCBjYXN0IGl0IHRvIHZpZXcgYW5kIHByb2Nlc3NcbiAgICAgICAgICAgIGlmICh0YWtlID09PSBibG9ja0xlbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFWaWV3ID0gY3JlYXRlVmlldyhkYXRhKTtcbiAgICAgICAgICAgICAgICBmb3IgKDsgYmxvY2tMZW4gPD0gbGVuIC0gcG9zOyBwb3MgKz0gYmxvY2tMZW4pXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkYXRhVmlldywgcG9zKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlci5zZXQoZGF0YS5zdWJhcnJheShwb3MsIHBvcyArIHRha2UpLCB0aGlzLnBvcyk7XG4gICAgICAgICAgICB0aGlzLnBvcyArPSB0YWtlO1xuICAgICAgICAgICAgcG9zICs9IHRha2U7XG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPT09IGJsb2NrTGVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKHZpZXcsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxlbmd0aCArPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgdGhpcy5yb3VuZENsZWFuKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkaWdlc3RJbnRvKG91dCkge1xuICAgICAgICBhZXhpc3RzKHRoaXMpO1xuICAgICAgICBhb3V0cHV0KG91dCwgdGhpcyk7XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAvLyBQYWRkaW5nXG4gICAgICAgIC8vIFdlIGNhbiBhdm9pZCBhbGxvY2F0aW9uIG9mIGJ1ZmZlciBmb3IgcGFkZGluZyBjb21wbGV0ZWx5IGlmIGl0XG4gICAgICAgIC8vIHdhcyBwcmV2aW91c2x5IG5vdCBhbGxvY2F0ZWQgaGVyZS4gQnV0IGl0IHdvbid0IGNoYW5nZSBwZXJmb3JtYW5jZS5cbiAgICAgICAgY29uc3QgeyBidWZmZXIsIHZpZXcsIGJsb2NrTGVuLCBpc0xFIH0gPSB0aGlzO1xuICAgICAgICBsZXQgeyBwb3MgfSA9IHRoaXM7XG4gICAgICAgIC8vIGFwcGVuZCB0aGUgYml0ICcxJyB0byB0aGUgbWVzc2FnZVxuICAgICAgICBidWZmZXJbcG9zKytdID0gMGIxMDAwMDAwMDtcbiAgICAgICAgY2xlYW4odGhpcy5idWZmZXIuc3ViYXJyYXkocG9zKSk7XG4gICAgICAgIC8vIHdlIGhhdmUgbGVzcyB0aGFuIHBhZE9mZnNldCBsZWZ0IGluIGJ1ZmZlciwgc28gd2UgY2Fubm90IHB1dCBsZW5ndGggaW5cbiAgICAgICAgLy8gY3VycmVudCBibG9jaywgbmVlZCBwcm9jZXNzIGl0IGFuZCBwYWQgYWdhaW5cbiAgICAgICAgaWYgKHRoaXMucGFkT2Zmc2V0ID4gYmxvY2tMZW4gLSBwb3MpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzcyh2aWV3LCAwKTtcbiAgICAgICAgICAgIHBvcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFkIHVudGlsIGZ1bGwgYmxvY2sgYnl0ZSB3aXRoIHplcm9zXG4gICAgICAgIGZvciAobGV0IGkgPSBwb3M7IGkgPCBibG9ja0xlbjsgaSsrKVxuICAgICAgICAgICAgYnVmZmVyW2ldID0gMDtcbiAgICAgICAgLy8gTm90ZTogc2hhNTEyIHJlcXVpcmVzIGxlbmd0aCB0byBiZSAxMjhiaXQgaW50ZWdlciwgYnV0IGxlbmd0aCBpbiBKUyB3aWxsIG92ZXJmbG93IGJlZm9yZSB0aGF0XG4gICAgICAgIC8vIFlvdSBuZWVkIHRvIHdyaXRlIGFyb3VuZCAyIGV4YWJ5dGVzICh1NjRfbWF4IC8gOCAvICgxMDI0Kio2KSkgZm9yIHRoaXMgdG8gaGFwcGVuLlxuICAgICAgICAvLyBTbyB3ZSBqdXN0IHdyaXRlIGxvd2VzdCA2NCBiaXRzIG9mIHRoYXQgdmFsdWUuXG4gICAgICAgIHNldEJpZ1VpbnQ2NCh2aWV3LCBibG9ja0xlbiAtIDgsIEJpZ0ludCh0aGlzLmxlbmd0aCAqIDgpLCBpc0xFKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzKHZpZXcsIDApO1xuICAgICAgICBjb25zdCBvdmlldyA9IGNyZWF0ZVZpZXcob3V0KTtcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5vdXRwdXRMZW47XG4gICAgICAgIC8vIE5PVEU6IHdlIGRvIGRpdmlzaW9uIGJ5IDQgbGF0ZXIsIHdoaWNoIHNob3VsZCBiZSBmdXNlZCBpbiBzaW5nbGUgb3Agd2l0aCBtb2R1bG8gYnkgSklUXG4gICAgICAgIGlmIChsZW4gJSA0KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdfc2hhMjogb3V0cHV0TGVuIHNob3VsZCBiZSBhbGlnbmVkIHRvIDMyYml0Jyk7XG4gICAgICAgIGNvbnN0IG91dExlbiA9IGxlbiAvIDQ7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5nZXQoKTtcbiAgICAgICAgaWYgKG91dExlbiA+IHN0YXRlLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignX3NoYTI6IG91dHB1dExlbiBiaWdnZXIgdGhhbiBzdGF0ZScpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dExlbjsgaSsrKVxuICAgICAgICAgICAgb3ZpZXcuc2V0VWludDMyKDQgKiBpLCBzdGF0ZVtpXSwgaXNMRSk7XG4gICAgfVxuICAgIGRpZ2VzdCgpIHtcbiAgICAgICAgY29uc3QgeyBidWZmZXIsIG91dHB1dExlbiB9ID0gdGhpcztcbiAgICAgICAgdGhpcy5kaWdlc3RJbnRvKGJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IHJlcyA9IGJ1ZmZlci5zbGljZSgwLCBvdXRwdXRMZW4pO1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgX2Nsb25lSW50byh0bykge1xuICAgICAgICB0byB8fCAodG8gPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpKTtcbiAgICAgICAgdG8uc2V0KC4uLnRoaXMuZ2V0KCkpO1xuICAgICAgICBjb25zdCB7IGJsb2NrTGVuLCBidWZmZXIsIGxlbmd0aCwgZmluaXNoZWQsIGRlc3Ryb3llZCwgcG9zIH0gPSB0aGlzO1xuICAgICAgICB0by5kZXN0cm95ZWQgPSBkZXN0cm95ZWQ7XG4gICAgICAgIHRvLmZpbmlzaGVkID0gZmluaXNoZWQ7XG4gICAgICAgIHRvLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdG8ucG9zID0gcG9zO1xuICAgICAgICBpZiAobGVuZ3RoICUgYmxvY2tMZW4pXG4gICAgICAgICAgICB0by5idWZmZXIuc2V0KGJ1ZmZlcik7XG4gICAgICAgIHJldHVybiB0bztcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9uZUludG8oKTtcbiAgICB9XG59XG4vKipcbiAqIEluaXRpYWwgU0hBLTIgc3RhdGU6IGZyYWN0aW9uYWwgcGFydHMgb2Ygc3F1YXJlIHJvb3RzIG9mIGZpcnN0IDE2IHByaW1lcyAyLi41My5cbiAqIENoZWNrIG91dCBgdGVzdC9taXNjL3NoYTItZ2VuLWl2LmpzYCBmb3IgcmVjb21wdXRhdGlvbiBndWlkZS5cbiAqL1xuLyoqIEluaXRpYWwgU0hBMjU2IHN0YXRlLiBCaXRzIDAuLjMyIG9mIGZyYWMgcGFydCBvZiBzcXJ0IG9mIHByaW1lcyAyLi4xOSAqL1xuZXhwb3J0IGNvbnN0IFNIQTI1Nl9JViA9IC8qIEBfX1BVUkVfXyAqLyBVaW50MzJBcnJheS5mcm9tKFtcbiAgICAweDZhMDllNjY3LCAweGJiNjdhZTg1LCAweDNjNmVmMzcyLCAweGE1NGZmNTNhLCAweDUxMGU1MjdmLCAweDliMDU2ODhjLCAweDFmODNkOWFiLCAweDViZTBjZDE5LFxuXSk7XG4vKiogSW5pdGlhbCBTSEEyMjQgc3RhdGUuIEJpdHMgMzIuLjY0IG9mIGZyYWMgcGFydCBvZiBzcXJ0IG9mIHByaW1lcyAyMy4uNTMgKi9cbmV4cG9ydCBjb25zdCBTSEEyMjRfSVYgPSAvKiBAX19QVVJFX18gKi8gVWludDMyQXJyYXkuZnJvbShbXG4gICAgMHhjMTA1OWVkOCwgMHgzNjdjZDUwNywgMHgzMDcwZGQxNywgMHhmNzBlNTkzOSwgMHhmZmMwMGIzMSwgMHg2ODU4MTUxMSwgMHg2NGY5OGZhNywgMHhiZWZhNGZhNCxcbl0pO1xuLyoqIEluaXRpYWwgU0hBMzg0IHN0YXRlLiBCaXRzIDAuLjY0IG9mIGZyYWMgcGFydCBvZiBzcXJ0IG9mIHByaW1lcyAyMy4uNTMgKi9cbmV4cG9ydCBjb25zdCBTSEEzODRfSVYgPSAvKiBAX19QVVJFX18gKi8gVWludDMyQXJyYXkuZnJvbShbXG4gICAgMHhjYmJiOWQ1ZCwgMHhjMTA1OWVkOCwgMHg2MjlhMjkyYSwgMHgzNjdjZDUwNywgMHg5MTU5MDE1YSwgMHgzMDcwZGQxNywgMHgxNTJmZWNkOCwgMHhmNzBlNTkzOSxcbiAgICAweDY3MzMyNjY3LCAweGZmYzAwYjMxLCAweDhlYjQ0YTg3LCAweDY4NTgxNTExLCAweGRiMGMyZTBkLCAweDY0Zjk4ZmE3LCAweDQ3YjU0ODFkLCAweGJlZmE0ZmE0LFxuXSk7XG4vKiogSW5pdGlhbCBTSEE1MTIgc3RhdGUuIEJpdHMgMC4uNjQgb2YgZnJhYyBwYXJ0IG9mIHNxcnQgb2YgcHJpbWVzIDIuLjE5ICovXG5leHBvcnQgY29uc3QgU0hBNTEyX0lWID0gLyogQF9fUFVSRV9fICovIFVpbnQzMkFycmF5LmZyb20oW1xuICAgIDB4NmEwOWU2NjcsIDB4ZjNiY2M5MDgsIDB4YmI2N2FlODUsIDB4ODRjYWE3M2IsIDB4M2M2ZWYzNzIsIDB4ZmU5NGY4MmIsIDB4YTU0ZmY1M2EsIDB4NWYxZDM2ZjEsXG4gICAgMHg1MTBlNTI3ZiwgMHhhZGU2ODJkMSwgMHg5YjA1Njg4YywgMHgyYjNlNmMxZiwgMHgxZjgzZDlhYiwgMHhmYjQxYmQ2YiwgMHg1YmUwY2QxOSwgMHgxMzdlMjE3OSxcbl0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9X21kLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/_md.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/_u64.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/_u64.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   add3H: () => (/* binding */ add3H),\n/* harmony export */   add3L: () => (/* binding */ add3L),\n/* harmony export */   add4H: () => (/* binding */ add4H),\n/* harmony export */   add4L: () => (/* binding */ add4L),\n/* harmony export */   add5H: () => (/* binding */ add5H),\n/* harmony export */   add5L: () => (/* binding */ add5L),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   fromBig: () => (/* binding */ fromBig),\n/* harmony export */   rotlBH: () => (/* binding */ rotlBH),\n/* harmony export */   rotlBL: () => (/* binding */ rotlBL),\n/* harmony export */   rotlSH: () => (/* binding */ rotlSH),\n/* harmony export */   rotlSL: () => (/* binding */ rotlSL),\n/* harmony export */   rotr32H: () => (/* binding */ rotr32H),\n/* harmony export */   rotr32L: () => (/* binding */ rotr32L),\n/* harmony export */   rotrBH: () => (/* binding */ rotrBH),\n/* harmony export */   rotrBL: () => (/* binding */ rotrBL),\n/* harmony export */   rotrSH: () => (/* binding */ rotrSH),\n/* harmony export */   rotrSL: () => (/* binding */ rotrSL),\n/* harmony export */   shrSH: () => (/* binding */ shrSH),\n/* harmony export */   shrSL: () => (/* binding */ shrSL),\n/* harmony export */   split: () => (/* binding */ split),\n/* harmony export */   toBig: () => (/* binding */ toBig)\n/* harmony export */ });\n/**\n * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.\n * @todo re-check https://issues.chromium.org/issues/42212588\n * @module\n */\nconst U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nfunction split(lst, le = false) {\n    const len = lst.length;\n    let Ah = new Uint32Array(len);\n    let Al = new Uint32Array(len);\n    for (let i = 0; i < len; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nconst rotr32L = (h, _l) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n// prettier-ignore\n\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (u64);\n//# sourceMappingURL=_u64.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvaGFzaGVzL2VzbS9fdTY0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0IsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNnTDtBQUNoTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxHQUFHLEVBQUM7QUFDbkIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvQG5vYmxlL2hhc2hlcy9lc20vX3U2NC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEludGVybmFsIGhlbHBlcnMgZm9yIHU2NC4gQmlnVWludDY0QXJyYXkgaXMgdG9vIHNsb3cgYXMgcGVyIDIwMjUsIHNvIHdlIGltcGxlbWVudCBpdCB1c2luZyBVaW50MzJBcnJheS5cbiAqIEB0b2RvIHJlLWNoZWNrIGh0dHBzOi8vaXNzdWVzLmNocm9taXVtLm9yZy9pc3N1ZXMvNDIyMTI1ODhcbiAqIEBtb2R1bGVcbiAqL1xuY29uc3QgVTMyX01BU0s2NCA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoMiAqKiAzMiAtIDEpO1xuY29uc3QgXzMybiA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoMzIpO1xuZnVuY3Rpb24gZnJvbUJpZyhuLCBsZSA9IGZhbHNlKSB7XG4gICAgaWYgKGxlKVxuICAgICAgICByZXR1cm4geyBoOiBOdW1iZXIobiAmIFUzMl9NQVNLNjQpLCBsOiBOdW1iZXIoKG4gPj4gXzMybikgJiBVMzJfTUFTSzY0KSB9O1xuICAgIHJldHVybiB7IGg6IE51bWJlcigobiA+PiBfMzJuKSAmIFUzMl9NQVNLNjQpIHwgMCwgbDogTnVtYmVyKG4gJiBVMzJfTUFTSzY0KSB8IDAgfTtcbn1cbmZ1bmN0aW9uIHNwbGl0KGxzdCwgbGUgPSBmYWxzZSkge1xuICAgIGNvbnN0IGxlbiA9IGxzdC5sZW5ndGg7XG4gICAgbGV0IEFoID0gbmV3IFVpbnQzMkFycmF5KGxlbik7XG4gICAgbGV0IEFsID0gbmV3IFVpbnQzMkFycmF5KGxlbik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCB7IGgsIGwgfSA9IGZyb21CaWcobHN0W2ldLCBsZSk7XG4gICAgICAgIFtBaFtpXSwgQWxbaV1dID0gW2gsIGxdO1xuICAgIH1cbiAgICByZXR1cm4gW0FoLCBBbF07XG59XG5jb25zdCB0b0JpZyA9IChoLCBsKSA9PiAoQmlnSW50KGggPj4+IDApIDw8IF8zMm4pIHwgQmlnSW50KGwgPj4+IDApO1xuLy8gZm9yIFNoaWZ0IGluIFswLCAzMilcbmNvbnN0IHNoclNIID0gKGgsIF9sLCBzKSA9PiBoID4+PiBzO1xuY29uc3Qgc2hyU0wgPSAoaCwgbCwgcykgPT4gKGggPDwgKDMyIC0gcykpIHwgKGwgPj4+IHMpO1xuLy8gUmlnaHQgcm90YXRlIGZvciBTaGlmdCBpbiBbMSwgMzIpXG5jb25zdCByb3RyU0ggPSAoaCwgbCwgcykgPT4gKGggPj4+IHMpIHwgKGwgPDwgKDMyIC0gcykpO1xuY29uc3Qgcm90clNMID0gKGgsIGwsIHMpID0+IChoIDw8ICgzMiAtIHMpKSB8IChsID4+PiBzKTtcbi8vIFJpZ2h0IHJvdGF0ZSBmb3IgU2hpZnQgaW4gKDMyLCA2NCksIE5PVEU6IDMyIGlzIHNwZWNpYWwgY2FzZS5cbmNvbnN0IHJvdHJCSCA9IChoLCBsLCBzKSA9PiAoaCA8PCAoNjQgLSBzKSkgfCAobCA+Pj4gKHMgLSAzMikpO1xuY29uc3Qgcm90ckJMID0gKGgsIGwsIHMpID0+IChoID4+PiAocyAtIDMyKSkgfCAobCA8PCAoNjQgLSBzKSk7XG4vLyBSaWdodCByb3RhdGUgZm9yIHNoaWZ0PT09MzIgKGp1c3Qgc3dhcHMgbCZoKVxuY29uc3Qgcm90cjMySCA9IChfaCwgbCkgPT4gbDtcbmNvbnN0IHJvdHIzMkwgPSAoaCwgX2wpID0+IGg7XG4vLyBMZWZ0IHJvdGF0ZSBmb3IgU2hpZnQgaW4gWzEsIDMyKVxuY29uc3Qgcm90bFNIID0gKGgsIGwsIHMpID0+IChoIDw8IHMpIHwgKGwgPj4+ICgzMiAtIHMpKTtcbmNvbnN0IHJvdGxTTCA9IChoLCBsLCBzKSA9PiAobCA8PCBzKSB8IChoID4+PiAoMzIgLSBzKSk7XG4vLyBMZWZ0IHJvdGF0ZSBmb3IgU2hpZnQgaW4gKDMyLCA2NCksIE5PVEU6IDMyIGlzIHNwZWNpYWwgY2FzZS5cbmNvbnN0IHJvdGxCSCA9IChoLCBsLCBzKSA9PiAobCA8PCAocyAtIDMyKSkgfCAoaCA+Pj4gKDY0IC0gcykpO1xuY29uc3Qgcm90bEJMID0gKGgsIGwsIHMpID0+IChoIDw8IChzIC0gMzIpKSB8IChsID4+PiAoNjQgLSBzKSk7XG4vLyBKUyB1c2VzIDMyLWJpdCBzaWduZWQgaW50ZWdlcnMgZm9yIGJpdHdpc2Ugb3BlcmF0aW9ucyB3aGljaCBtZWFucyB3ZSBjYW5ub3Rcbi8vIHNpbXBsZSB0YWtlIGNhcnJ5IG91dCBvZiBsb3cgYml0IHN1bSBieSBzaGlmdCwgd2UgbmVlZCB0byB1c2UgZGl2aXNpb24uXG5mdW5jdGlvbiBhZGQoQWgsIEFsLCBCaCwgQmwpIHtcbiAgICBjb25zdCBsID0gKEFsID4+PiAwKSArIChCbCA+Pj4gMCk7XG4gICAgcmV0dXJuIHsgaDogKEFoICsgQmggKyAoKGwgLyAyICoqIDMyKSB8IDApKSB8IDAsIGw6IGwgfCAwIH07XG59XG4vLyBBZGRpdGlvbiB3aXRoIG1vcmUgdGhhbiAyIGVsZW1lbnRzXG5jb25zdCBhZGQzTCA9IChBbCwgQmwsIENsKSA9PiAoQWwgPj4+IDApICsgKEJsID4+PiAwKSArIChDbCA+Pj4gMCk7XG5jb25zdCBhZGQzSCA9IChsb3csIEFoLCBCaCwgQ2gpID0+IChBaCArIEJoICsgQ2ggKyAoKGxvdyAvIDIgKiogMzIpIHwgMCkpIHwgMDtcbmNvbnN0IGFkZDRMID0gKEFsLCBCbCwgQ2wsIERsKSA9PiAoQWwgPj4+IDApICsgKEJsID4+PiAwKSArIChDbCA+Pj4gMCkgKyAoRGwgPj4+IDApO1xuY29uc3QgYWRkNEggPSAobG93LCBBaCwgQmgsIENoLCBEaCkgPT4gKEFoICsgQmggKyBDaCArIERoICsgKChsb3cgLyAyICoqIDMyKSB8IDApKSB8IDA7XG5jb25zdCBhZGQ1TCA9IChBbCwgQmwsIENsLCBEbCwgRWwpID0+IChBbCA+Pj4gMCkgKyAoQmwgPj4+IDApICsgKENsID4+PiAwKSArIChEbCA+Pj4gMCkgKyAoRWwgPj4+IDApO1xuY29uc3QgYWRkNUggPSAobG93LCBBaCwgQmgsIENoLCBEaCwgRWgpID0+IChBaCArIEJoICsgQ2ggKyBEaCArIEVoICsgKChsb3cgLyAyICoqIDMyKSB8IDApKSB8IDA7XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCB7IGFkZCwgYWRkM0gsIGFkZDNMLCBhZGQ0SCwgYWRkNEwsIGFkZDVILCBhZGQ1TCwgZnJvbUJpZywgcm90bEJILCByb3RsQkwsIHJvdGxTSCwgcm90bFNMLCByb3RyMzJILCByb3RyMzJMLCByb3RyQkgsIHJvdHJCTCwgcm90clNILCByb3RyU0wsIHNoclNILCBzaHJTTCwgc3BsaXQsIHRvQmlnIH07XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IHU2NCA9IHtcbiAgICBmcm9tQmlnLCBzcGxpdCwgdG9CaWcsXG4gICAgc2hyU0gsIHNoclNMLFxuICAgIHJvdHJTSCwgcm90clNMLCByb3RyQkgsIHJvdHJCTCxcbiAgICByb3RyMzJILCByb3RyMzJMLFxuICAgIHJvdGxTSCwgcm90bFNMLCByb3RsQkgsIHJvdGxCTCxcbiAgICBhZGQsIGFkZDNMLCBhZGQzSCwgYWRkNEwsIGFkZDRILCBhZGQ1SCwgYWRkNUwsXG59O1xuZXhwb3J0IGRlZmF1bHQgdTY0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9X3U2NC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/_u64.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/cryptoNode.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/cryptoNode.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("var node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   crypto: () => (/* binding */ crypto)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/**\n * Internal webcrypto alias.\n * We prefer WebCrypto aka globalThis.crypto, which exists in node.js 16+.\n * Falls back to Node.js built-in crypto for Node.js <=v14.\n * See utils.ts for details.\n * @module\n */\n// @ts-ignore\n\nconst crypto = /*#__PURE__*/ (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(node_crypto__WEBPACK_IMPORTED_MODULE_0__, 2))) && typeof /*#__PURE__*/ (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(node_crypto__WEBPACK_IMPORTED_MODULE_0__, 2))) === 'object' && \"webcrypto\" in /*#__PURE__*/ (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(node_crypto__WEBPACK_IMPORTED_MODULE_0__, 2)))\n    ? node_crypto__WEBPACK_IMPORTED_MODULE_0__.webcrypto\n    : /*#__PURE__*/ (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(node_crypto__WEBPACK_IMPORTED_MODULE_0__, 2))) && typeof /*#__PURE__*/ (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(node_crypto__WEBPACK_IMPORTED_MODULE_0__, 2))) === 'object' && \"randomBytes\" in /*#__PURE__*/ (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(node_crypto__WEBPACK_IMPORTED_MODULE_0__, 2)))\n        ? /*#__PURE__*/ (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (node_crypto__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(node_crypto__WEBPACK_IMPORTED_MODULE_0__, 2)))\n        : undefined;\n//# sourceMappingURL=cryptoNode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvaGFzaGVzL2VzbS9jcnlwdG9Ob2RlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0M7QUFDM0IsZUFBZSwyTUFBRSxXQUFXLDJNQUFFLGlCQUFpQiwwTkFBaUI7QUFDdkUsTUFBTSxrREFBWTtBQUNsQixNQUFNLDJNQUFFLFdBQVcsMk1BQUUsaUJBQWlCLDROQUFtQjtBQUN6RCxVQUFVLDJNQUFFO0FBQ1o7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvaGFzaGVzL2VzbS9jcnlwdG9Ob2RlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW50ZXJuYWwgd2ViY3J5cHRvIGFsaWFzLlxuICogV2UgcHJlZmVyIFdlYkNyeXB0byBha2EgZ2xvYmFsVGhpcy5jcnlwdG8sIHdoaWNoIGV4aXN0cyBpbiBub2RlLmpzIDE2Ky5cbiAqIEZhbGxzIGJhY2sgdG8gTm9kZS5qcyBidWlsdC1pbiBjcnlwdG8gZm9yIE5vZGUuanMgPD12MTQuXG4gKiBTZWUgdXRpbHMudHMgZm9yIGRldGFpbHMuXG4gKiBAbW9kdWxlXG4gKi9cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCAqIGFzIG5jIGZyb20gJ25vZGU6Y3J5cHRvJztcbmV4cG9ydCBjb25zdCBjcnlwdG8gPSBuYyAmJiB0eXBlb2YgbmMgPT09ICdvYmplY3QnICYmICd3ZWJjcnlwdG8nIGluIG5jXG4gICAgPyBuYy53ZWJjcnlwdG9cbiAgICA6IG5jICYmIHR5cGVvZiBuYyA9PT0gJ29iamVjdCcgJiYgJ3JhbmRvbUJ5dGVzJyBpbiBuY1xuICAgICAgICA/IG5jXG4gICAgICAgIDogdW5kZWZpbmVkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3J5cHRvTm9kZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/cryptoNode.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/hmac.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/hmac.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HMAC: () => (/* binding */ HMAC),\n/* harmony export */   hmac: () => (/* binding */ hmac)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js\");\n/**\n * HMAC: RFC2104 message authentication code.\n * @module\n */\n\nclass HMAC extends _utils_js__WEBPACK_IMPORTED_MODULE_0__.Hash {\n    constructor(hash, _key) {\n        super();\n        this.finished = false;\n        this.destroyed = false;\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ahash)(hash);\n        const key = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toBytes)(_key);\n        this.iHash = hash.create();\n        if (typeof this.iHash.update !== 'function')\n            throw new Error('Expected instance of class which extends utils.Hash');\n        this.blockLen = this.iHash.blockLen;\n        this.outputLen = this.iHash.outputLen;\n        const blockLen = this.blockLen;\n        const pad = new Uint8Array(blockLen);\n        // blockLen can be bigger than outputLen\n        pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36;\n        this.iHash.update(pad);\n        // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n        this.oHash = hash.create();\n        // Undo internal XOR && apply outer XOR\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36 ^ 0x5c;\n        this.oHash.update(pad);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.clean)(pad);\n    }\n    update(buf) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aexists)(this);\n        this.iHash.update(buf);\n        return this;\n    }\n    digestInto(out) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aexists)(this);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(out, this.outputLen);\n        this.finished = true;\n        this.iHash.digestInto(out);\n        this.oHash.update(out);\n        this.oHash.digestInto(out);\n        this.destroy();\n    }\n    digest() {\n        const out = new Uint8Array(this.oHash.outputLen);\n        this.digestInto(out);\n        return out;\n    }\n    _cloneInto(to) {\n        // Create new instance without calling constructor since key already in state and we don't know it.\n        to || (to = Object.create(Object.getPrototypeOf(this), {}));\n        const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n        to = to;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.blockLen = blockLen;\n        to.outputLen = outputLen;\n        to.oHash = oHash._cloneInto(to.oHash);\n        to.iHash = iHash._cloneInto(to.iHash);\n        return to;\n    }\n    clone() {\n        return this._cloneInto();\n    }\n    destroy() {\n        this.destroyed = true;\n        this.oHash.destroy();\n        this.iHash.destroy();\n    }\n}\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n * @example\n * import { hmac } from '@noble/hashes/hmac';\n * import { sha256 } from '@noble/hashes/sha2';\n * const mac1 = hmac(sha256, 'key', 'message');\n */\nconst hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\nhmac.create = (hash, key) => new HMAC(hash, key);\n//# sourceMappingURL=hmac.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvaGFzaGVzL2VzbS9obWFjLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzBFO0FBQ25FLG1CQUFtQiwyQ0FBSTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0RBQUs7QUFDYixvQkFBb0Isa0RBQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQjtBQUN4QztBQUNBO0FBQ0EsUUFBUSxnREFBSztBQUNiO0FBQ0E7QUFDQSxRQUFRLGtEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFPO0FBQ2YsUUFBUSxpREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFLGdCQUFnQix5REFBeUQ7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ087QUFDUDtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0Bub2JsZS9oYXNoZXMvZXNtL2htYWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBITUFDOiBSRkMyMTA0IG1lc3NhZ2UgYXV0aGVudGljYXRpb24gY29kZS5cbiAqIEBtb2R1bGVcbiAqL1xuaW1wb3J0IHsgYWJ5dGVzLCBhZXhpc3RzLCBhaGFzaCwgY2xlYW4sIEhhc2gsIHRvQnl0ZXMgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuZXhwb3J0IGNsYXNzIEhNQUMgZXh0ZW5kcyBIYXNoIHtcbiAgICBjb25zdHJ1Y3RvcihoYXNoLCBfa2V5KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgYWhhc2goaGFzaCk7XG4gICAgICAgIGNvbnN0IGtleSA9IHRvQnl0ZXMoX2tleSk7XG4gICAgICAgIHRoaXMuaUhhc2ggPSBoYXNoLmNyZWF0ZSgpO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuaUhhc2gudXBkYXRlICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBpbnN0YW5jZSBvZiBjbGFzcyB3aGljaCBleHRlbmRzIHV0aWxzLkhhc2gnKTtcbiAgICAgICAgdGhpcy5ibG9ja0xlbiA9IHRoaXMuaUhhc2guYmxvY2tMZW47XG4gICAgICAgIHRoaXMub3V0cHV0TGVuID0gdGhpcy5pSGFzaC5vdXRwdXRMZW47XG4gICAgICAgIGNvbnN0IGJsb2NrTGVuID0gdGhpcy5ibG9ja0xlbjtcbiAgICAgICAgY29uc3QgcGFkID0gbmV3IFVpbnQ4QXJyYXkoYmxvY2tMZW4pO1xuICAgICAgICAvLyBibG9ja0xlbiBjYW4gYmUgYmlnZ2VyIHRoYW4gb3V0cHV0TGVuXG4gICAgICAgIHBhZC5zZXQoa2V5Lmxlbmd0aCA+IGJsb2NrTGVuID8gaGFzaC5jcmVhdGUoKS51cGRhdGUoa2V5KS5kaWdlc3QoKSA6IGtleSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFkLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgcGFkW2ldIF49IDB4MzY7XG4gICAgICAgIHRoaXMuaUhhc2gudXBkYXRlKHBhZCk7XG4gICAgICAgIC8vIEJ5IGRvaW5nIHVwZGF0ZSAocHJvY2Vzc2luZyBvZiBmaXJzdCBibG9jaykgb2Ygb3V0ZXIgaGFzaCBoZXJlIHdlIGNhbiByZS11c2UgaXQgYmV0d2VlbiBtdWx0aXBsZSBjYWxscyB2aWEgY2xvbmVcbiAgICAgICAgdGhpcy5vSGFzaCA9IGhhc2guY3JlYXRlKCk7XG4gICAgICAgIC8vIFVuZG8gaW50ZXJuYWwgWE9SICYmIGFwcGx5IG91dGVyIFhPUlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHBhZFtpXSBePSAweDM2IF4gMHg1YztcbiAgICAgICAgdGhpcy5vSGFzaC51cGRhdGUocGFkKTtcbiAgICAgICAgY2xlYW4ocGFkKTtcbiAgICB9XG4gICAgdXBkYXRlKGJ1Zikge1xuICAgICAgICBhZXhpc3RzKHRoaXMpO1xuICAgICAgICB0aGlzLmlIYXNoLnVwZGF0ZShidWYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGlnZXN0SW50byhvdXQpIHtcbiAgICAgICAgYWV4aXN0cyh0aGlzKTtcbiAgICAgICAgYWJ5dGVzKG91dCwgdGhpcy5vdXRwdXRMZW4pO1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pSGFzaC5kaWdlc3RJbnRvKG91dCk7XG4gICAgICAgIHRoaXMub0hhc2gudXBkYXRlKG91dCk7XG4gICAgICAgIHRoaXMub0hhc2guZGlnZXN0SW50byhvdXQpO1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZGlnZXN0KCkge1xuICAgICAgICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheSh0aGlzLm9IYXNoLm91dHB1dExlbik7XG4gICAgICAgIHRoaXMuZGlnZXN0SW50byhvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBfY2xvbmVJbnRvKHRvKSB7XG4gICAgICAgIC8vIENyZWF0ZSBuZXcgaW5zdGFuY2Ugd2l0aG91dCBjYWxsaW5nIGNvbnN0cnVjdG9yIHNpbmNlIGtleSBhbHJlYWR5IGluIHN0YXRlIGFuZCB3ZSBkb24ndCBrbm93IGl0LlxuICAgICAgICB0byB8fCAodG8gPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSwge30pKTtcbiAgICAgICAgY29uc3QgeyBvSGFzaCwgaUhhc2gsIGZpbmlzaGVkLCBkZXN0cm95ZWQsIGJsb2NrTGVuLCBvdXRwdXRMZW4gfSA9IHRoaXM7XG4gICAgICAgIHRvID0gdG87XG4gICAgICAgIHRvLmZpbmlzaGVkID0gZmluaXNoZWQ7XG4gICAgICAgIHRvLmRlc3Ryb3llZCA9IGRlc3Ryb3llZDtcbiAgICAgICAgdG8uYmxvY2tMZW4gPSBibG9ja0xlbjtcbiAgICAgICAgdG8ub3V0cHV0TGVuID0gb3V0cHV0TGVuO1xuICAgICAgICB0by5vSGFzaCA9IG9IYXNoLl9jbG9uZUludG8odG8ub0hhc2gpO1xuICAgICAgICB0by5pSGFzaCA9IGlIYXNoLl9jbG9uZUludG8odG8uaUhhc2gpO1xuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vSGFzaC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaUhhc2guZGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogSE1BQzogUkZDMjEwNCBtZXNzYWdlIGF1dGhlbnRpY2F0aW9uIGNvZGUuXG4gKiBAcGFyYW0gaGFzaCAtIGZ1bmN0aW9uIHRoYXQgd291bGQgYmUgdXNlZCBlLmcuIHNoYTI1NlxuICogQHBhcmFtIGtleSAtIG1lc3NhZ2Uga2V5XG4gKiBAcGFyYW0gbWVzc2FnZSAtIG1lc3NhZ2UgZGF0YVxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhtYWMgfSBmcm9tICdAbm9ibGUvaGFzaGVzL2htYWMnO1xuICogaW1wb3J0IHsgc2hhMjU2IH0gZnJvbSAnQG5vYmxlL2hhc2hlcy9zaGEyJztcbiAqIGNvbnN0IG1hYzEgPSBobWFjKHNoYTI1NiwgJ2tleScsICdtZXNzYWdlJyk7XG4gKi9cbmV4cG9ydCBjb25zdCBobWFjID0gKGhhc2gsIGtleSwgbWVzc2FnZSkgPT4gbmV3IEhNQUMoaGFzaCwga2V5KS51cGRhdGUobWVzc2FnZSkuZGlnZXN0KCk7XG5obWFjLmNyZWF0ZSA9IChoYXNoLCBrZXkpID0+IG5ldyBITUFDKGhhc2gsIGtleSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1obWFjLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/hmac.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/sha2.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/sha2.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SHA224: () => (/* binding */ SHA224),\n/* harmony export */   SHA256: () => (/* binding */ SHA256),\n/* harmony export */   SHA384: () => (/* binding */ SHA384),\n/* harmony export */   SHA512: () => (/* binding */ SHA512),\n/* harmony export */   SHA512_224: () => (/* binding */ SHA512_224),\n/* harmony export */   SHA512_256: () => (/* binding */ SHA512_256),\n/* harmony export */   sha224: () => (/* binding */ sha224),\n/* harmony export */   sha256: () => (/* binding */ sha256),\n/* harmony export */   sha384: () => (/* binding */ sha384),\n/* harmony export */   sha512: () => (/* binding */ sha512),\n/* harmony export */   sha512_224: () => (/* binding */ sha512_224),\n/* harmony export */   sha512_256: () => (/* binding */ sha512_256)\n/* harmony export */ });\n/* harmony import */ var _md_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_md.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/_md.js\");\n/* harmony import */ var _u64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_u64.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/_u64.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js\");\n/**\n * SHA2 hash function. A.k.a. sha256, sha384, sha512, sha512_224, sha512_256.\n * SHA256 is the fastest hash implementable in JS, even faster than Blake3.\n * Check out [RFC 4634](https://datatracker.ietf.org/doc/html/rfc4634) and\n * [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n */\n\n\n\n/**\n * Round constants:\n * First 32 bits of fractional parts of the cube roots of the first 64 primes 2..311)\n */\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ Uint32Array.from([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n/** Reusable temporary buffer. \"W\" comes straight from spec. */\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nclass SHA256 extends _md_js__WEBPACK_IMPORTED_MODULE_0__.HashMD {\n    constructor(outputLen = 32) {\n        super(64, outputLen, 8, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        this.A = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA256_IV[0] | 0;\n        this.B = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA256_IV[1] | 0;\n        this.C = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA256_IV[2] | 0;\n        this.D = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA256_IV[3] | 0;\n        this.E = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA256_IV[4] | 0;\n        this.F = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA256_IV[5] | 0;\n        this.G = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA256_IV[6] | 0;\n        this.H = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA256_IV[7] | 0;\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.rotr)(W15, 7) ^ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.rotr)(W15, 18) ^ (W15 >>> 3);\n            const s1 = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.rotr)(W2, 17) ^ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.rotr)(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.rotr)(E, 6) ^ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.rotr)(E, 11) ^ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.rotr)(E, 25);\n            const T1 = (H + sigma1 + (0,_md_js__WEBPACK_IMPORTED_MODULE_0__.Chi)(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.rotr)(A, 2) ^ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.rotr)(A, 13) ^ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.rotr)(A, 22);\n            const T2 = (sigma0 + (0,_md_js__WEBPACK_IMPORTED_MODULE_0__.Maj)(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.clean)(SHA256_W);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.clean)(this.buffer);\n    }\n}\nclass SHA224 extends SHA256 {\n    constructor() {\n        super(28);\n        this.A = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA224_IV[0] | 0;\n        this.B = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA224_IV[1] | 0;\n        this.C = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA224_IV[2] | 0;\n        this.D = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA224_IV[3] | 0;\n        this.E = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA224_IV[4] | 0;\n        this.F = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA224_IV[5] | 0;\n        this.G = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA224_IV[6] | 0;\n        this.H = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA224_IV[7] | 0;\n    }\n}\n// SHA2-512 is slower than sha256 in js because u64 operations are slow.\n// Round contants\n// First 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409\n// prettier-ignore\nconst K512 = /* @__PURE__ */ (() => _u64_js__WEBPACK_IMPORTED_MODULE_2__.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\nconst SHA512_Kh = /* @__PURE__ */ (() => K512[0])();\nconst SHA512_Kl = /* @__PURE__ */ (() => K512[1])();\n// Reusable temporary buffers\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\nclass SHA512 extends _md_js__WEBPACK_IMPORTED_MODULE_0__.HashMD {\n    constructor(outputLen = 64) {\n        super(128, outputLen, 16, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[0] | 0;\n        this.Al = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[1] | 0;\n        this.Bh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[2] | 0;\n        this.Bl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[3] | 0;\n        this.Ch = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[4] | 0;\n        this.Cl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[5] | 0;\n        this.Dh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[6] | 0;\n        this.Dl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[7] | 0;\n        this.Eh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[8] | 0;\n        this.El = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[9] | 0;\n        this.Fh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[10] | 0;\n        this.Fl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[11] | 0;\n        this.Gh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[12] | 0;\n        this.Gl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[13] | 0;\n        this.Hh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[14] | 0;\n        this.Hl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA512_IV[15] | 0;\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSH(W15h, W15l, 1) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSH(W15h, W15l, 8) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.shrSH(W15h, W15l, 7);\n            const s0l = _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSL(W15h, W15l, 1) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSL(W15h, W15l, 8) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSH(W2h, W2l, 19) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrBH(W2h, W2l, 61) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.shrSH(W2h, W2l, 6);\n            const s1l = _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSL(W2h, W2l, 19) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrBL(W2h, W2l, 61) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSH(Eh, El, 14) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSH(Eh, El, 18) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrBH(Eh, El, 41);\n            const sigma1l = _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSL(Eh, El, 14) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSL(Eh, El, 18) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSH(Ah, Al, 28) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrBH(Ah, Al, 34) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrBH(Ah, Al, 39);\n            const sigma0l = _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrSL(Ah, Al, 28) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrBL(Ah, Al, 34) ^ _u64_js__WEBPACK_IMPORTED_MODULE_2__.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add3L(T1l, sigma0l, MAJl);\n            Ah = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = _u64_js__WEBPACK_IMPORTED_MODULE_2__.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.clean)(SHA512_W_H, SHA512_W_L);\n    }\n    destroy() {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.clean)(this.buffer);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\nclass SHA384 extends SHA512 {\n    constructor() {\n        super(48);\n        this.Ah = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[0] | 0;\n        this.Al = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[1] | 0;\n        this.Bh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[2] | 0;\n        this.Bl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[3] | 0;\n        this.Ch = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[4] | 0;\n        this.Cl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[5] | 0;\n        this.Dh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[6] | 0;\n        this.Dl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[7] | 0;\n        this.Eh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[8] | 0;\n        this.El = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[9] | 0;\n        this.Fh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[10] | 0;\n        this.Fl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[11] | 0;\n        this.Gh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[12] | 0;\n        this.Gl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[13] | 0;\n        this.Hh = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[14] | 0;\n        this.Hl = _md_js__WEBPACK_IMPORTED_MODULE_0__.SHA384_IV[15] | 0;\n    }\n}\n/**\n * Truncated SHA512/256 and SHA512/224.\n * SHA512_IV is XORed with 0xa5a5a5a5a5a5a5a5, then used as \"intermediary\" IV of SHA512/t.\n * Then t hashes string to produce result IV.\n * See `test/misc/sha2-gen-iv.js`.\n */\n/** SHA512/224 IV */\nconst T224_IV = /* @__PURE__ */ Uint32Array.from([\n    0x8c3d37c8, 0x19544da2, 0x73e19966, 0x89dcd4d6, 0x1dfab7ae, 0x32ff9c82, 0x679dd514, 0x582f9fcf,\n    0x0f6d2b69, 0x7bd44da8, 0x77e36f73, 0x04c48942, 0x3f9d85a8, 0x6a1d36c8, 0x1112e6ad, 0x91d692a1,\n]);\n/** SHA512/256 IV */\nconst T256_IV = /* @__PURE__ */ Uint32Array.from([\n    0x22312194, 0xfc2bf72c, 0x9f555fa3, 0xc84c64c2, 0x2393b86b, 0x6f53b151, 0x96387719, 0x5940eabd,\n    0x96283ee2, 0xa88effe3, 0xbe5e1e25, 0x53863992, 0x2b0199fc, 0x2c85b8aa, 0x0eb72ddc, 0x81c52ca2,\n]);\nclass SHA512_224 extends SHA512 {\n    constructor() {\n        super(28);\n        this.Ah = T224_IV[0] | 0;\n        this.Al = T224_IV[1] | 0;\n        this.Bh = T224_IV[2] | 0;\n        this.Bl = T224_IV[3] | 0;\n        this.Ch = T224_IV[4] | 0;\n        this.Cl = T224_IV[5] | 0;\n        this.Dh = T224_IV[6] | 0;\n        this.Dl = T224_IV[7] | 0;\n        this.Eh = T224_IV[8] | 0;\n        this.El = T224_IV[9] | 0;\n        this.Fh = T224_IV[10] | 0;\n        this.Fl = T224_IV[11] | 0;\n        this.Gh = T224_IV[12] | 0;\n        this.Gl = T224_IV[13] | 0;\n        this.Hh = T224_IV[14] | 0;\n        this.Hl = T224_IV[15] | 0;\n    }\n}\nclass SHA512_256 extends SHA512 {\n    constructor() {\n        super(32);\n        this.Ah = T256_IV[0] | 0;\n        this.Al = T256_IV[1] | 0;\n        this.Bh = T256_IV[2] | 0;\n        this.Bl = T256_IV[3] | 0;\n        this.Ch = T256_IV[4] | 0;\n        this.Cl = T256_IV[5] | 0;\n        this.Dh = T256_IV[6] | 0;\n        this.Dl = T256_IV[7] | 0;\n        this.Eh = T256_IV[8] | 0;\n        this.El = T256_IV[9] | 0;\n        this.Fh = T256_IV[10] | 0;\n        this.Fl = T256_IV[11] | 0;\n        this.Gh = T256_IV[12] | 0;\n        this.Gl = T256_IV[13] | 0;\n        this.Hh = T256_IV[14] | 0;\n        this.Hl = T256_IV[15] | 0;\n    }\n}\n/**\n * SHA2-256 hash function from RFC 4634.\n *\n * It is the fastest JS hash, even faster than Blake3.\n * To break sha256 using birthday attack, attackers need to try 2^128 hashes.\n * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n */\nconst sha256 = /* @__PURE__ */ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.createHasher)(() => new SHA256());\n/** SHA2-224 hash function from RFC 4634 */\nconst sha224 = /* @__PURE__ */ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.createHasher)(() => new SHA224());\n/** SHA2-512 hash function from RFC 4634. */\nconst sha512 = /* @__PURE__ */ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.createHasher)(() => new SHA512());\n/** SHA2-384 hash function from RFC 4634. */\nconst sha384 = /* @__PURE__ */ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.createHasher)(() => new SHA384());\n/**\n * SHA2-512/256 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nconst sha512_256 = /* @__PURE__ */ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.createHasher)(() => new SHA512_256());\n/**\n * SHA2-512/224 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nconst sha512_224 = /* @__PURE__ */ (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.createHasher)(() => new SHA512_224());\n//# sourceMappingURL=sha2.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvaGFzaGVzL2VzbS9zaGEyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3dGO0FBQ3ZEO0FBQ3NCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsMENBQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkNBQVM7QUFDMUIsaUJBQWlCLDZDQUFTO0FBQzFCLGlCQUFpQiw2Q0FBUztBQUMxQixpQkFBaUIsNkNBQVM7QUFDMUIsaUJBQWlCLDZDQUFTO0FBQzFCLGlCQUFpQiw2Q0FBUztBQUMxQixpQkFBaUIsNkNBQVM7QUFDMUIsaUJBQWlCLDZDQUFTO0FBQzFCO0FBQ0E7QUFDQSxnQkFBZ0IseUJBQXlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixRQUFRO0FBQ2hDO0FBQ0EseUJBQXlCLFFBQVE7QUFDakM7QUFDQTtBQUNBLHVCQUF1QiwrQ0FBSSxXQUFXLCtDQUFJO0FBQzFDLHVCQUF1QiwrQ0FBSSxXQUFXLCtDQUFJO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGNBQWMseUJBQXlCO0FBQ3ZDLHdCQUF3QixRQUFRO0FBQ2hDLDJCQUEyQiwrQ0FBSSxTQUFTLCtDQUFJLFVBQVUsK0NBQUk7QUFDMUQscUNBQXFDLDJDQUFHO0FBQ3hDLDJCQUEyQiwrQ0FBSSxTQUFTLCtDQUFJLFVBQVUsK0NBQUk7QUFDMUQsaUNBQWlDLDJDQUFHO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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REFBWTtBQUNsRDtBQUNPLCtCQUErQix1REFBWTtBQUNsRDtBQUNPLCtCQUErQix1REFBWTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1DQUFtQyx1REFBWTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1DQUFtQyx1REFBWTtBQUN0RCIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvaGFzaGVzL2VzbS9zaGEyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU0hBMiBoYXNoIGZ1bmN0aW9uLiBBLmsuYS4gc2hhMjU2LCBzaGEzODQsIHNoYTUxMiwgc2hhNTEyXzIyNCwgc2hhNTEyXzI1Ni5cbiAqIFNIQTI1NiBpcyB0aGUgZmFzdGVzdCBoYXNoIGltcGxlbWVudGFibGUgaW4gSlMsIGV2ZW4gZmFzdGVyIHRoYW4gQmxha2UzLlxuICogQ2hlY2sgb3V0IFtSRkMgNDYzNF0oaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmM0NjM0KSBhbmRcbiAqIFtGSVBTIDE4MC00XShodHRwczovL252bHB1YnMubmlzdC5nb3YvbmlzdHB1YnMvRklQUy9OSVNULkZJUFMuMTgwLTQucGRmKS5cbiAqIEBtb2R1bGVcbiAqL1xuaW1wb3J0IHsgQ2hpLCBIYXNoTUQsIE1haiwgU0hBMjI0X0lWLCBTSEEyNTZfSVYsIFNIQTM4NF9JViwgU0hBNTEyX0lWIH0gZnJvbSBcIi4vX21kLmpzXCI7XG5pbXBvcnQgKiBhcyB1NjQgZnJvbSBcIi4vX3U2NC5qc1wiO1xuaW1wb3J0IHsgY2xlYW4sIGNyZWF0ZUhhc2hlciwgcm90ciB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG4vKipcbiAqIFJvdW5kIGNvbnN0YW50czpcbiAqIEZpcnN0IDMyIGJpdHMgb2YgZnJhY3Rpb25hbCBwYXJ0cyBvZiB0aGUgY3ViZSByb290cyBvZiB0aGUgZmlyc3QgNjQgcHJpbWVzIDIuLjMxMSlcbiAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBTSEEyNTZfSyA9IC8qIEBfX1BVUkVfXyAqLyBVaW50MzJBcnJheS5mcm9tKFtcbiAgICAweDQyOGEyZjk4LCAweDcxMzc0NDkxLCAweGI1YzBmYmNmLCAweGU5YjVkYmE1LCAweDM5NTZjMjViLCAweDU5ZjExMWYxLCAweDkyM2Y4MmE0LCAweGFiMWM1ZWQ1LFxuICAgIDB4ZDgwN2FhOTgsIDB4MTI4MzViMDEsIDB4MjQzMTg1YmUsIDB4NTUwYzdkYzMsIDB4NzJiZTVkNzQsIDB4ODBkZWIxZmUsIDB4OWJkYzA2YTcsIDB4YzE5YmYxNzQsXG4gICAgMHhlNDliNjljMSwgMHhlZmJlNDc4NiwgMHgwZmMxOWRjNiwgMHgyNDBjYTFjYywgMHgyZGU5MmM2ZiwgMHg0YTc0ODRhYSwgMHg1Y2IwYTlkYywgMHg3NmY5ODhkYSxcbiAgICAweDk4M2U1MTUyLCAweGE4MzFjNjZkLCAweGIwMDMyN2M4LCAweGJmNTk3ZmM3LCAweGM2ZTAwYmYzLCAweGQ1YTc5MTQ3LCAweDA2Y2E2MzUxLCAweDE0MjkyOTY3LFxuICAgIDB4MjdiNzBhODUsIDB4MmUxYjIxMzgsIDB4NGQyYzZkZmMsIDB4NTMzODBkMTMsIDB4NjUwYTczNTQsIDB4NzY2YTBhYmIsIDB4ODFjMmM5MmUsIDB4OTI3MjJjODUsXG4gICAgMHhhMmJmZThhMSwgMHhhODFhNjY0YiwgMHhjMjRiOGI3MCwgMHhjNzZjNTFhMywgMHhkMTkyZTgxOSwgMHhkNjk5MDYyNCwgMHhmNDBlMzU4NSwgMHgxMDZhYTA3MCxcbiAgICAweDE5YTRjMTE2LCAweDFlMzc2YzA4LCAweDI3NDg3NzRjLCAweDM0YjBiY2I1LCAweDM5MWMwY2IzLCAweDRlZDhhYTRhLCAweDViOWNjYTRmLCAweDY4MmU2ZmYzLFxuICAgIDB4NzQ4ZjgyZWUsIDB4NzhhNTYzNmYsIDB4ODRjODc4MTQsIDB4OGNjNzAyMDgsIDB4OTBiZWZmZmEsIDB4YTQ1MDZjZWIsIDB4YmVmOWEzZjcsIDB4YzY3MTc4ZjJcbl0pO1xuLyoqIFJldXNhYmxlIHRlbXBvcmFyeSBidWZmZXIuIFwiV1wiIGNvbWVzIHN0cmFpZ2h0IGZyb20gc3BlYy4gKi9cbmNvbnN0IFNIQTI1Nl9XID0gLyogQF9fUFVSRV9fICovIG5ldyBVaW50MzJBcnJheSg2NCk7XG5leHBvcnQgY2xhc3MgU0hBMjU2IGV4dGVuZHMgSGFzaE1EIHtcbiAgICBjb25zdHJ1Y3RvcihvdXRwdXRMZW4gPSAzMikge1xuICAgICAgICBzdXBlcig2NCwgb3V0cHV0TGVuLCA4LCBmYWxzZSk7XG4gICAgICAgIC8vIFdlIGNhbm5vdCB1c2UgYXJyYXkgaGVyZSBzaW5jZSBhcnJheSBhbGxvd3MgaW5kZXhpbmcgYnkgdmFyaWFibGVcbiAgICAgICAgLy8gd2hpY2ggbWVhbnMgb3B0aW1pemVyL2NvbXBpbGVyIGNhbm5vdCB1c2UgcmVnaXN0ZXJzLlxuICAgICAgICB0aGlzLkEgPSBTSEEyNTZfSVZbMF0gfCAwO1xuICAgICAgICB0aGlzLkIgPSBTSEEyNTZfSVZbMV0gfCAwO1xuICAgICAgICB0aGlzLkMgPSBTSEEyNTZfSVZbMl0gfCAwO1xuICAgICAgICB0aGlzLkQgPSBTSEEyNTZfSVZbM10gfCAwO1xuICAgICAgICB0aGlzLkUgPSBTSEEyNTZfSVZbNF0gfCAwO1xuICAgICAgICB0aGlzLkYgPSBTSEEyNTZfSVZbNV0gfCAwO1xuICAgICAgICB0aGlzLkcgPSBTSEEyNTZfSVZbNl0gfCAwO1xuICAgICAgICB0aGlzLkggPSBTSEEyNTZfSVZbN10gfCAwO1xuICAgIH1cbiAgICBnZXQoKSB7XG4gICAgICAgIGNvbnN0IHsgQSwgQiwgQywgRCwgRSwgRiwgRywgSCB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIFtBLCBCLCBDLCBELCBFLCBGLCBHLCBIXTtcbiAgICB9XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgc2V0KEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgpIHtcbiAgICAgICAgdGhpcy5BID0gQSB8IDA7XG4gICAgICAgIHRoaXMuQiA9IEIgfCAwO1xuICAgICAgICB0aGlzLkMgPSBDIHwgMDtcbiAgICAgICAgdGhpcy5EID0gRCB8IDA7XG4gICAgICAgIHRoaXMuRSA9IEUgfCAwO1xuICAgICAgICB0aGlzLkYgPSBGIHwgMDtcbiAgICAgICAgdGhpcy5HID0gRyB8IDA7XG4gICAgICAgIHRoaXMuSCA9IEggfCAwO1xuICAgIH1cbiAgICBwcm9jZXNzKHZpZXcsIG9mZnNldCkge1xuICAgICAgICAvLyBFeHRlbmQgdGhlIGZpcnN0IDE2IHdvcmRzIGludG8gdGhlIHJlbWFpbmluZyA0OCB3b3JkcyB3WzE2Li42M10gb2YgdGhlIG1lc3NhZ2Ugc2NoZWR1bGUgYXJyYXlcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrLCBvZmZzZXQgKz0gNClcbiAgICAgICAgICAgIFNIQTI1Nl9XW2ldID0gdmlldy5nZXRVaW50MzIob2Zmc2V0LCBmYWxzZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxNjsgaSA8IDY0OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IFcxNSA9IFNIQTI1Nl9XW2kgLSAxNV07XG4gICAgICAgICAgICBjb25zdCBXMiA9IFNIQTI1Nl9XW2kgLSAyXTtcbiAgICAgICAgICAgIGNvbnN0IHMwID0gcm90cihXMTUsIDcpIF4gcm90cihXMTUsIDE4KSBeIChXMTUgPj4+IDMpO1xuICAgICAgICAgICAgY29uc3QgczEgPSByb3RyKFcyLCAxNykgXiByb3RyKFcyLCAxOSkgXiAoVzIgPj4+IDEwKTtcbiAgICAgICAgICAgIFNIQTI1Nl9XW2ldID0gKHMxICsgU0hBMjU2X1dbaSAtIDddICsgczAgKyBTSEEyNTZfV1tpIC0gMTZdKSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29tcHJlc3Npb24gZnVuY3Rpb24gbWFpbiBsb29wLCA2NCByb3VuZHNcbiAgICAgICAgbGV0IHsgQSwgQiwgQywgRCwgRSwgRiwgRywgSCB9ID0gdGhpcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzaWdtYTEgPSByb3RyKEUsIDYpIF4gcm90cihFLCAxMSkgXiByb3RyKEUsIDI1KTtcbiAgICAgICAgICAgIGNvbnN0IFQxID0gKEggKyBzaWdtYTEgKyBDaGkoRSwgRiwgRykgKyBTSEEyNTZfS1tpXSArIFNIQTI1Nl9XW2ldKSB8IDA7XG4gICAgICAgICAgICBjb25zdCBzaWdtYTAgPSByb3RyKEEsIDIpIF4gcm90cihBLCAxMykgXiByb3RyKEEsIDIyKTtcbiAgICAgICAgICAgIGNvbnN0IFQyID0gKHNpZ21hMCArIE1haihBLCBCLCBDKSkgfCAwO1xuICAgICAgICAgICAgSCA9IEc7XG4gICAgICAgICAgICBHID0gRjtcbiAgICAgICAgICAgIEYgPSBFO1xuICAgICAgICAgICAgRSA9IChEICsgVDEpIHwgMDtcbiAgICAgICAgICAgIEQgPSBDO1xuICAgICAgICAgICAgQyA9IEI7XG4gICAgICAgICAgICBCID0gQTtcbiAgICAgICAgICAgIEEgPSAoVDEgKyBUMikgfCAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0aGUgY29tcHJlc3NlZCBjaHVuayB0byB0aGUgY3VycmVudCBoYXNoIHZhbHVlXG4gICAgICAgIEEgPSAoQSArIHRoaXMuQSkgfCAwO1xuICAgICAgICBCID0gKEIgKyB0aGlzLkIpIHwgMDtcbiAgICAgICAgQyA9IChDICsgdGhpcy5DKSB8IDA7XG4gICAgICAgIEQgPSAoRCArIHRoaXMuRCkgfCAwO1xuICAgICAgICBFID0gKEUgKyB0aGlzLkUpIHwgMDtcbiAgICAgICAgRiA9IChGICsgdGhpcy5GKSB8IDA7XG4gICAgICAgIEcgPSAoRyArIHRoaXMuRykgfCAwO1xuICAgICAgICBIID0gKEggKyB0aGlzLkgpIHwgMDtcbiAgICAgICAgdGhpcy5zZXQoQSwgQiwgQywgRCwgRSwgRiwgRywgSCk7XG4gICAgfVxuICAgIHJvdW5kQ2xlYW4oKSB7XG4gICAgICAgIGNsZWFuKFNIQTI1Nl9XKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zZXQoMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCk7XG4gICAgICAgIGNsZWFuKHRoaXMuYnVmZmVyKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU0hBMjI0IGV4dGVuZHMgU0hBMjU2IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoMjgpO1xuICAgICAgICB0aGlzLkEgPSBTSEEyMjRfSVZbMF0gfCAwO1xuICAgICAgICB0aGlzLkIgPSBTSEEyMjRfSVZbMV0gfCAwO1xuICAgICAgICB0aGlzLkMgPSBTSEEyMjRfSVZbMl0gfCAwO1xuICAgICAgICB0aGlzLkQgPSBTSEEyMjRfSVZbM10gfCAwO1xuICAgICAgICB0aGlzLkUgPSBTSEEyMjRfSVZbNF0gfCAwO1xuICAgICAgICB0aGlzLkYgPSBTSEEyMjRfSVZbNV0gfCAwO1xuICAgICAgICB0aGlzLkcgPSBTSEEyMjRfSVZbNl0gfCAwO1xuICAgICAgICB0aGlzLkggPSBTSEEyMjRfSVZbN10gfCAwO1xuICAgIH1cbn1cbi8vIFNIQTItNTEyIGlzIHNsb3dlciB0aGFuIHNoYTI1NiBpbiBqcyBiZWNhdXNlIHU2NCBvcGVyYXRpb25zIGFyZSBzbG93LlxuLy8gUm91bmQgY29udGFudHNcbi8vIEZpcnN0IDMyIGJpdHMgb2YgdGhlIGZyYWN0aW9uYWwgcGFydHMgb2YgdGhlIGN1YmUgcm9vdHMgb2YgdGhlIGZpcnN0IDgwIHByaW1lcyAyLi40MDlcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgSzUxMiA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gdTY0LnNwbGl0KFtcbiAgICAnMHg0MjhhMmY5OGQ3MjhhZTIyJywgJzB4NzEzNzQ0OTEyM2VmNjVjZCcsICcweGI1YzBmYmNmZWM0ZDNiMmYnLCAnMHhlOWI1ZGJhNTgxODlkYmJjJyxcbiAgICAnMHgzOTU2YzI1YmYzNDhiNTM4JywgJzB4NTlmMTExZjFiNjA1ZDAxOScsICcweDkyM2Y4MmE0YWYxOTRmOWInLCAnMHhhYjFjNWVkNWRhNmQ4MTE4JyxcbiAgICAnMHhkODA3YWE5OGEzMDMwMjQyJywgJzB4MTI4MzViMDE0NTcwNmZiZScsICcweDI0MzE4NWJlNGVlNGIyOGMnLCAnMHg1NTBjN2RjM2Q1ZmZiNGUyJyxcbiAgICAnMHg3MmJlNWQ3NGYyN2I4OTZmJywgJzB4ODBkZWIxZmUzYjE2OTZiMScsICcweDliZGMwNmE3MjVjNzEyMzUnLCAnMHhjMTliZjE3NGNmNjkyNjk0JyxcbiAgICAnMHhlNDliNjljMTllZjE0YWQyJywgJzB4ZWZiZTQ3ODYzODRmMjVlMycsICcweDBmYzE5ZGM2OGI4Y2Q1YjUnLCAnMHgyNDBjYTFjYzc3YWM5YzY1JyxcbiAgICAnMHgyZGU5MmM2ZjU5MmIwMjc1JywgJzB4NGE3NDg0YWE2ZWE2ZTQ4MycsICcweDVjYjBhOWRjYmQ0MWZiZDQnLCAnMHg3NmY5ODhkYTgzMTE1M2I1JyxcbiAgICAnMHg5ODNlNTE1MmVlNjZkZmFiJywgJzB4YTgzMWM2NmQyZGI0MzIxMCcsICcweGIwMDMyN2M4OThmYjIxM2YnLCAnMHhiZjU5N2ZjN2JlZWYwZWU0JyxcbiAgICAnMHhjNmUwMGJmMzNkYTg4ZmMyJywgJzB4ZDVhNzkxNDc5MzBhYTcyNScsICcweDA2Y2E2MzUxZTAwMzgyNmYnLCAnMHgxNDI5Mjk2NzBhMGU2ZTcwJyxcbiAgICAnMHgyN2I3MGE4NTQ2ZDIyZmZjJywgJzB4MmUxYjIxMzg1YzI2YzkyNicsICcweDRkMmM2ZGZjNWFjNDJhZWQnLCAnMHg1MzM4MGQxMzlkOTViM2RmJyxcbiAgICAnMHg2NTBhNzM1NDhiYWY2M2RlJywgJzB4NzY2YTBhYmIzYzc3YjJhOCcsICcweDgxYzJjOTJlNDdlZGFlZTYnLCAnMHg5MjcyMmM4NTE0ODIzNTNiJyxcbiAgICAnMHhhMmJmZThhMTRjZjEwMzY0JywgJzB4YTgxYTY2NGJiYzQyMzAwMScsICcweGMyNGI4YjcwZDBmODk3OTEnLCAnMHhjNzZjNTFhMzA2NTRiZTMwJyxcbiAgICAnMHhkMTkyZTgxOWQ2ZWY1MjE4JywgJzB4ZDY5OTA2MjQ1NTY1YTkxMCcsICcweGY0MGUzNTg1NTc3MTIwMmEnLCAnMHgxMDZhYTA3MDMyYmJkMWI4JyxcbiAgICAnMHgxOWE0YzExNmI4ZDJkMGM4JywgJzB4MWUzNzZjMDg1MTQxYWI1MycsICcweDI3NDg3NzRjZGY4ZWViOTknLCAnMHgzNGIwYmNiNWUxOWI0OGE4JyxcbiAgICAnMHgzOTFjMGNiM2M1Yzk1YTYzJywgJzB4NGVkOGFhNGFlMzQxOGFjYicsICcweDViOWNjYTRmNzc2M2UzNzMnLCAnMHg2ODJlNmZmM2Q2YjJiOGEzJyxcbiAgICAnMHg3NDhmODJlZTVkZWZiMmZjJywgJzB4NzhhNTYzNmY0MzE3MmY2MCcsICcweDg0Yzg3ODE0YTFmMGFiNzInLCAnMHg4Y2M3MDIwODFhNjQzOWVjJyxcbiAgICAnMHg5MGJlZmZmYTIzNjMxZTI4JywgJzB4YTQ1MDZjZWJkZTgyYmRlOScsICcweGJlZjlhM2Y3YjJjNjc5MTUnLCAnMHhjNjcxNzhmMmUzNzI1MzJiJyxcbiAgICAnMHhjYTI3M2VjZWVhMjY2MTljJywgJzB4ZDE4NmI4YzcyMWMwYzIwNycsICcweGVhZGE3ZGQ2Y2RlMGViMWUnLCAnMHhmNTdkNGY3ZmVlNmVkMTc4JyxcbiAgICAnMHgwNmYwNjdhYTcyMTc2ZmJhJywgJzB4MGE2MzdkYzVhMmM4OThhNicsICcweDExM2Y5ODA0YmVmOTBkYWUnLCAnMHgxYjcxMGIzNTEzMWM0NzFiJyxcbiAgICAnMHgyOGRiNzdmNTIzMDQ3ZDg0JywgJzB4MzJjYWFiN2I0MGM3MjQ5MycsICcweDNjOWViZTBhMTVjOWJlYmMnLCAnMHg0MzFkNjdjNDljMTAwZDRjJyxcbiAgICAnMHg0Y2M1ZDRiZWNiM2U0MmI2JywgJzB4NTk3ZjI5OWNmYzY1N2UyYScsICcweDVmY2I2ZmFiM2FkNmZhZWMnLCAnMHg2YzQ0MTk4YzRhNDc1ODE3J1xuXS5tYXAobiA9PiBCaWdJbnQobikpKSkoKTtcbmNvbnN0IFNIQTUxMl9LaCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gSzUxMlswXSkoKTtcbmNvbnN0IFNIQTUxMl9LbCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gSzUxMlsxXSkoKTtcbi8vIFJldXNhYmxlIHRlbXBvcmFyeSBidWZmZXJzXG5jb25zdCBTSEE1MTJfV19IID0gLyogQF9fUFVSRV9fICovIG5ldyBVaW50MzJBcnJheSg4MCk7XG5jb25zdCBTSEE1MTJfV19MID0gLyogQF9fUFVSRV9fICovIG5ldyBVaW50MzJBcnJheSg4MCk7XG5leHBvcnQgY2xhc3MgU0hBNTEyIGV4dGVuZHMgSGFzaE1EIHtcbiAgICBjb25zdHJ1Y3RvcihvdXRwdXRMZW4gPSA2NCkge1xuICAgICAgICBzdXBlcigxMjgsIG91dHB1dExlbiwgMTYsIGZhbHNlKTtcbiAgICAgICAgLy8gV2UgY2Fubm90IHVzZSBhcnJheSBoZXJlIHNpbmNlIGFycmF5IGFsbG93cyBpbmRleGluZyBieSB2YXJpYWJsZVxuICAgICAgICAvLyB3aGljaCBtZWFucyBvcHRpbWl6ZXIvY29tcGlsZXIgY2Fubm90IHVzZSByZWdpc3RlcnMuXG4gICAgICAgIC8vIGggLS0gaGlnaCAzMiBiaXRzLCBsIC0tIGxvdyAzMiBiaXRzXG4gICAgICAgIHRoaXMuQWggPSBTSEE1MTJfSVZbMF0gfCAwO1xuICAgICAgICB0aGlzLkFsID0gU0hBNTEyX0lWWzFdIHwgMDtcbiAgICAgICAgdGhpcy5CaCA9IFNIQTUxMl9JVlsyXSB8IDA7XG4gICAgICAgIHRoaXMuQmwgPSBTSEE1MTJfSVZbM10gfCAwO1xuICAgICAgICB0aGlzLkNoID0gU0hBNTEyX0lWWzRdIHwgMDtcbiAgICAgICAgdGhpcy5DbCA9IFNIQTUxMl9JVls1XSB8IDA7XG4gICAgICAgIHRoaXMuRGggPSBTSEE1MTJfSVZbNl0gfCAwO1xuICAgICAgICB0aGlzLkRsID0gU0hBNTEyX0lWWzddIHwgMDtcbiAgICAgICAgdGhpcy5FaCA9IFNIQTUxMl9JVls4XSB8IDA7XG4gICAgICAgIHRoaXMuRWwgPSBTSEE1MTJfSVZbOV0gfCAwO1xuICAgICAgICB0aGlzLkZoID0gU0hBNTEyX0lWWzEwXSB8IDA7XG4gICAgICAgIHRoaXMuRmwgPSBTSEE1MTJfSVZbMTFdIHwgMDtcbiAgICAgICAgdGhpcy5HaCA9IFNIQTUxMl9JVlsxMl0gfCAwO1xuICAgICAgICB0aGlzLkdsID0gU0hBNTEyX0lWWzEzXSB8IDA7XG4gICAgICAgIHRoaXMuSGggPSBTSEE1MTJfSVZbMTRdIHwgMDtcbiAgICAgICAgdGhpcy5IbCA9IFNIQTUxMl9JVlsxNV0gfCAwO1xuICAgIH1cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBnZXQoKSB7XG4gICAgICAgIGNvbnN0IHsgQWgsIEFsLCBCaCwgQmwsIENoLCBDbCwgRGgsIERsLCBFaCwgRWwsIEZoLCBGbCwgR2gsIEdsLCBIaCwgSGwgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBbQWgsIEFsLCBCaCwgQmwsIENoLCBDbCwgRGgsIERsLCBFaCwgRWwsIEZoLCBGbCwgR2gsIEdsLCBIaCwgSGxdO1xuICAgIH1cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBzZXQoQWgsIEFsLCBCaCwgQmwsIENoLCBDbCwgRGgsIERsLCBFaCwgRWwsIEZoLCBGbCwgR2gsIEdsLCBIaCwgSGwpIHtcbiAgICAgICAgdGhpcy5BaCA9IEFoIHwgMDtcbiAgICAgICAgdGhpcy5BbCA9IEFsIHwgMDtcbiAgICAgICAgdGhpcy5CaCA9IEJoIHwgMDtcbiAgICAgICAgdGhpcy5CbCA9IEJsIHwgMDtcbiAgICAgICAgdGhpcy5DaCA9IENoIHwgMDtcbiAgICAgICAgdGhpcy5DbCA9IENsIHwgMDtcbiAgICAgICAgdGhpcy5EaCA9IERoIHwgMDtcbiAgICAgICAgdGhpcy5EbCA9IERsIHwgMDtcbiAgICAgICAgdGhpcy5FaCA9IEVoIHwgMDtcbiAgICAgICAgdGhpcy5FbCA9IEVsIHwgMDtcbiAgICAgICAgdGhpcy5GaCA9IEZoIHwgMDtcbiAgICAgICAgdGhpcy5GbCA9IEZsIHwgMDtcbiAgICAgICAgdGhpcy5HaCA9IEdoIHwgMDtcbiAgICAgICAgdGhpcy5HbCA9IEdsIHwgMDtcbiAgICAgICAgdGhpcy5IaCA9IEhoIHwgMDtcbiAgICAgICAgdGhpcy5IbCA9IEhsIHwgMDtcbiAgICB9XG4gICAgcHJvY2Vzcyh2aWV3LCBvZmZzZXQpIHtcbiAgICAgICAgLy8gRXh0ZW5kIHRoZSBmaXJzdCAxNiB3b3JkcyBpbnRvIHRoZSByZW1haW5pbmcgNjQgd29yZHMgd1sxNi4uNzldIG9mIHRoZSBtZXNzYWdlIHNjaGVkdWxlIGFycmF5XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKywgb2Zmc2V0ICs9IDQpIHtcbiAgICAgICAgICAgIFNIQTUxMl9XX0hbaV0gPSB2aWV3LmdldFVpbnQzMihvZmZzZXQpO1xuICAgICAgICAgICAgU0hBNTEyX1dfTFtpXSA9IHZpZXcuZ2V0VWludDMyKChvZmZzZXQgKz0gNCkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAxNjsgaSA8IDgwOyBpKyspIHtcbiAgICAgICAgICAgIC8vIHMwIDo9ICh3W2ktMTVdIHJpZ2h0cm90YXRlIDEpIHhvciAod1tpLTE1XSByaWdodHJvdGF0ZSA4KSB4b3IgKHdbaS0xNV0gcmlnaHRzaGlmdCA3KVxuICAgICAgICAgICAgY29uc3QgVzE1aCA9IFNIQTUxMl9XX0hbaSAtIDE1XSB8IDA7XG4gICAgICAgICAgICBjb25zdCBXMTVsID0gU0hBNTEyX1dfTFtpIC0gMTVdIHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHMwaCA9IHU2NC5yb3RyU0goVzE1aCwgVzE1bCwgMSkgXiB1NjQucm90clNIKFcxNWgsIFcxNWwsIDgpIF4gdTY0LnNoclNIKFcxNWgsIFcxNWwsIDcpO1xuICAgICAgICAgICAgY29uc3QgczBsID0gdTY0LnJvdHJTTChXMTVoLCBXMTVsLCAxKSBeIHU2NC5yb3RyU0woVzE1aCwgVzE1bCwgOCkgXiB1NjQuc2hyU0woVzE1aCwgVzE1bCwgNyk7XG4gICAgICAgICAgICAvLyBzMSA6PSAod1tpLTJdIHJpZ2h0cm90YXRlIDE5KSB4b3IgKHdbaS0yXSByaWdodHJvdGF0ZSA2MSkgeG9yICh3W2ktMl0gcmlnaHRzaGlmdCA2KVxuICAgICAgICAgICAgY29uc3QgVzJoID0gU0hBNTEyX1dfSFtpIC0gMl0gfCAwO1xuICAgICAgICAgICAgY29uc3QgVzJsID0gU0hBNTEyX1dfTFtpIC0gMl0gfCAwO1xuICAgICAgICAgICAgY29uc3QgczFoID0gdTY0LnJvdHJTSChXMmgsIFcybCwgMTkpIF4gdTY0LnJvdHJCSChXMmgsIFcybCwgNjEpIF4gdTY0LnNoclNIKFcyaCwgVzJsLCA2KTtcbiAgICAgICAgICAgIGNvbnN0IHMxbCA9IHU2NC5yb3RyU0woVzJoLCBXMmwsIDE5KSBeIHU2NC5yb3RyQkwoVzJoLCBXMmwsIDYxKSBeIHU2NC5zaHJTTChXMmgsIFcybCwgNik7XG4gICAgICAgICAgICAvLyBTSEEyNTZfV1tpXSA9IHMwICsgczEgKyBTSEEyNTZfV1tpIC0gN10gKyBTSEEyNTZfV1tpIC0gMTZdO1xuICAgICAgICAgICAgY29uc3QgU1VNbCA9IHU2NC5hZGQ0TChzMGwsIHMxbCwgU0hBNTEyX1dfTFtpIC0gN10sIFNIQTUxMl9XX0xbaSAtIDE2XSk7XG4gICAgICAgICAgICBjb25zdCBTVU1oID0gdTY0LmFkZDRIKFNVTWwsIHMwaCwgczFoLCBTSEE1MTJfV19IW2kgLSA3XSwgU0hBNTEyX1dfSFtpIC0gMTZdKTtcbiAgICAgICAgICAgIFNIQTUxMl9XX0hbaV0gPSBTVU1oIHwgMDtcbiAgICAgICAgICAgIFNIQTUxMl9XX0xbaV0gPSBTVU1sIHwgMDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeyBBaCwgQWwsIEJoLCBCbCwgQ2gsIENsLCBEaCwgRGwsIEVoLCBFbCwgRmgsIEZsLCBHaCwgR2wsIEhoLCBIbCB9ID0gdGhpcztcbiAgICAgICAgLy8gQ29tcHJlc3Npb24gZnVuY3Rpb24gbWFpbiBsb29wLCA4MCByb3VuZHNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4MDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBTMSA6PSAoZSByaWdodHJvdGF0ZSAxNCkgeG9yIChlIHJpZ2h0cm90YXRlIDE4KSB4b3IgKGUgcmlnaHRyb3RhdGUgNDEpXG4gICAgICAgICAgICBjb25zdCBzaWdtYTFoID0gdTY0LnJvdHJTSChFaCwgRWwsIDE0KSBeIHU2NC5yb3RyU0goRWgsIEVsLCAxOCkgXiB1NjQucm90ckJIKEVoLCBFbCwgNDEpO1xuICAgICAgICAgICAgY29uc3Qgc2lnbWExbCA9IHU2NC5yb3RyU0woRWgsIEVsLCAxNCkgXiB1NjQucm90clNMKEVoLCBFbCwgMTgpIF4gdTY0LnJvdHJCTChFaCwgRWwsIDQxKTtcbiAgICAgICAgICAgIC8vY29uc3QgVDEgPSAoSCArIHNpZ21hMSArIENoaShFLCBGLCBHKSArIFNIQTI1Nl9LW2ldICsgU0hBMjU2X1dbaV0pIHwgMDtcbiAgICAgICAgICAgIGNvbnN0IENISWggPSAoRWggJiBGaCkgXiAofkVoICYgR2gpO1xuICAgICAgICAgICAgY29uc3QgQ0hJbCA9IChFbCAmIEZsKSBeICh+RWwgJiBHbCk7XG4gICAgICAgICAgICAvLyBUMSA9IEggKyBzaWdtYTEgKyBDaGkoRSwgRiwgRykgKyBTSEE1MTJfS1tpXSArIFNIQTUxMl9XW2ldXG4gICAgICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IFQxbGwgPSB1NjQuYWRkNUwoSGwsIHNpZ21hMWwsIENISWwsIFNIQTUxMl9LbFtpXSwgU0hBNTEyX1dfTFtpXSk7XG4gICAgICAgICAgICBjb25zdCBUMWggPSB1NjQuYWRkNUgoVDFsbCwgSGgsIHNpZ21hMWgsIENISWgsIFNIQTUxMl9LaFtpXSwgU0hBNTEyX1dfSFtpXSk7XG4gICAgICAgICAgICBjb25zdCBUMWwgPSBUMWxsIHwgMDtcbiAgICAgICAgICAgIC8vIFMwIDo9IChhIHJpZ2h0cm90YXRlIDI4KSB4b3IgKGEgcmlnaHRyb3RhdGUgMzQpIHhvciAoYSByaWdodHJvdGF0ZSAzOSlcbiAgICAgICAgICAgIGNvbnN0IHNpZ21hMGggPSB1NjQucm90clNIKEFoLCBBbCwgMjgpIF4gdTY0LnJvdHJCSChBaCwgQWwsIDM0KSBeIHU2NC5yb3RyQkgoQWgsIEFsLCAzOSk7XG4gICAgICAgICAgICBjb25zdCBzaWdtYTBsID0gdTY0LnJvdHJTTChBaCwgQWwsIDI4KSBeIHU2NC5yb3RyQkwoQWgsIEFsLCAzNCkgXiB1NjQucm90ckJMKEFoLCBBbCwgMzkpO1xuICAgICAgICAgICAgY29uc3QgTUFKaCA9IChBaCAmIEJoKSBeIChBaCAmIENoKSBeIChCaCAmIENoKTtcbiAgICAgICAgICAgIGNvbnN0IE1BSmwgPSAoQWwgJiBCbCkgXiAoQWwgJiBDbCkgXiAoQmwgJiBDbCk7XG4gICAgICAgICAgICBIaCA9IEdoIHwgMDtcbiAgICAgICAgICAgIEhsID0gR2wgfCAwO1xuICAgICAgICAgICAgR2ggPSBGaCB8IDA7XG4gICAgICAgICAgICBHbCA9IEZsIHwgMDtcbiAgICAgICAgICAgIEZoID0gRWggfCAwO1xuICAgICAgICAgICAgRmwgPSBFbCB8IDA7XG4gICAgICAgICAgICAoeyBoOiBFaCwgbDogRWwgfSA9IHU2NC5hZGQoRGggfCAwLCBEbCB8IDAsIFQxaCB8IDAsIFQxbCB8IDApKTtcbiAgICAgICAgICAgIERoID0gQ2ggfCAwO1xuICAgICAgICAgICAgRGwgPSBDbCB8IDA7XG4gICAgICAgICAgICBDaCA9IEJoIHwgMDtcbiAgICAgICAgICAgIENsID0gQmwgfCAwO1xuICAgICAgICAgICAgQmggPSBBaCB8IDA7XG4gICAgICAgICAgICBCbCA9IEFsIHwgMDtcbiAgICAgICAgICAgIGNvbnN0IEFsbCA9IHU2NC5hZGQzTChUMWwsIHNpZ21hMGwsIE1BSmwpO1xuICAgICAgICAgICAgQWggPSB1NjQuYWRkM0goQWxsLCBUMWgsIHNpZ21hMGgsIE1BSmgpO1xuICAgICAgICAgICAgQWwgPSBBbGwgfCAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0aGUgY29tcHJlc3NlZCBjaHVuayB0byB0aGUgY3VycmVudCBoYXNoIHZhbHVlXG4gICAgICAgICh7IGg6IEFoLCBsOiBBbCB9ID0gdTY0LmFkZCh0aGlzLkFoIHwgMCwgdGhpcy5BbCB8IDAsIEFoIHwgMCwgQWwgfCAwKSk7XG4gICAgICAgICh7IGg6IEJoLCBsOiBCbCB9ID0gdTY0LmFkZCh0aGlzLkJoIHwgMCwgdGhpcy5CbCB8IDAsIEJoIHwgMCwgQmwgfCAwKSk7XG4gICAgICAgICh7IGg6IENoLCBsOiBDbCB9ID0gdTY0LmFkZCh0aGlzLkNoIHwgMCwgdGhpcy5DbCB8IDAsIENoIHwgMCwgQ2wgfCAwKSk7XG4gICAgICAgICh7IGg6IERoLCBsOiBEbCB9ID0gdTY0LmFkZCh0aGlzLkRoIHwgMCwgdGhpcy5EbCB8IDAsIERoIHwgMCwgRGwgfCAwKSk7XG4gICAgICAgICh7IGg6IEVoLCBsOiBFbCB9ID0gdTY0LmFkZCh0aGlzLkVoIHwgMCwgdGhpcy5FbCB8IDAsIEVoIHwgMCwgRWwgfCAwKSk7XG4gICAgICAgICh7IGg6IEZoLCBsOiBGbCB9ID0gdTY0LmFkZCh0aGlzLkZoIHwgMCwgdGhpcy5GbCB8IDAsIEZoIHwgMCwgRmwgfCAwKSk7XG4gICAgICAgICh7IGg6IEdoLCBsOiBHbCB9ID0gdTY0LmFkZCh0aGlzLkdoIHwgMCwgdGhpcy5HbCB8IDAsIEdoIHwgMCwgR2wgfCAwKSk7XG4gICAgICAgICh7IGg6IEhoLCBsOiBIbCB9ID0gdTY0LmFkZCh0aGlzLkhoIHwgMCwgdGhpcy5IbCB8IDAsIEhoIHwgMCwgSGwgfCAwKSk7XG4gICAgICAgIHRoaXMuc2V0KEFoLCBBbCwgQmgsIEJsLCBDaCwgQ2wsIERoLCBEbCwgRWgsIEVsLCBGaCwgRmwsIEdoLCBHbCwgSGgsIEhsKTtcbiAgICB9XG4gICAgcm91bmRDbGVhbigpIHtcbiAgICAgICAgY2xlYW4oU0hBNTEyX1dfSCwgU0hBNTEyX1dfTCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGNsZWFuKHRoaXMuYnVmZmVyKTtcbiAgICAgICAgdGhpcy5zZXQoMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNIQTM4NCBleHRlbmRzIFNIQTUxMiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKDQ4KTtcbiAgICAgICAgdGhpcy5BaCA9IFNIQTM4NF9JVlswXSB8IDA7XG4gICAgICAgIHRoaXMuQWwgPSBTSEEzODRfSVZbMV0gfCAwO1xuICAgICAgICB0aGlzLkJoID0gU0hBMzg0X0lWWzJdIHwgMDtcbiAgICAgICAgdGhpcy5CbCA9IFNIQTM4NF9JVlszXSB8IDA7XG4gICAgICAgIHRoaXMuQ2ggPSBTSEEzODRfSVZbNF0gfCAwO1xuICAgICAgICB0aGlzLkNsID0gU0hBMzg0X0lWWzVdIHwgMDtcbiAgICAgICAgdGhpcy5EaCA9IFNIQTM4NF9JVls2XSB8IDA7XG4gICAgICAgIHRoaXMuRGwgPSBTSEEzODRfSVZbN10gfCAwO1xuICAgICAgICB0aGlzLkVoID0gU0hBMzg0X0lWWzhdIHwgMDtcbiAgICAgICAgdGhpcy5FbCA9IFNIQTM4NF9JVls5XSB8IDA7XG4gICAgICAgIHRoaXMuRmggPSBTSEEzODRfSVZbMTBdIHwgMDtcbiAgICAgICAgdGhpcy5GbCA9IFNIQTM4NF9JVlsxMV0gfCAwO1xuICAgICAgICB0aGlzLkdoID0gU0hBMzg0X0lWWzEyXSB8IDA7XG4gICAgICAgIHRoaXMuR2wgPSBTSEEzODRfSVZbMTNdIHwgMDtcbiAgICAgICAgdGhpcy5IaCA9IFNIQTM4NF9JVlsxNF0gfCAwO1xuICAgICAgICB0aGlzLkhsID0gU0hBMzg0X0lWWzE1XSB8IDA7XG4gICAgfVxufVxuLyoqXG4gKiBUcnVuY2F0ZWQgU0hBNTEyLzI1NiBhbmQgU0hBNTEyLzIyNC5cbiAqIFNIQTUxMl9JViBpcyBYT1JlZCB3aXRoIDB4YTVhNWE1YTVhNWE1YTVhNSwgdGhlbiB1c2VkIGFzIFwiaW50ZXJtZWRpYXJ5XCIgSVYgb2YgU0hBNTEyL3QuXG4gKiBUaGVuIHQgaGFzaGVzIHN0cmluZyB0byBwcm9kdWNlIHJlc3VsdCBJVi5cbiAqIFNlZSBgdGVzdC9taXNjL3NoYTItZ2VuLWl2LmpzYC5cbiAqL1xuLyoqIFNIQTUxMi8yMjQgSVYgKi9cbmNvbnN0IFQyMjRfSVYgPSAvKiBAX19QVVJFX18gKi8gVWludDMyQXJyYXkuZnJvbShbXG4gICAgMHg4YzNkMzdjOCwgMHgxOTU0NGRhMiwgMHg3M2UxOTk2NiwgMHg4OWRjZDRkNiwgMHgxZGZhYjdhZSwgMHgzMmZmOWM4MiwgMHg2NzlkZDUxNCwgMHg1ODJmOWZjZixcbiAgICAweDBmNmQyYjY5LCAweDdiZDQ0ZGE4LCAweDc3ZTM2ZjczLCAweDA0YzQ4OTQyLCAweDNmOWQ4NWE4LCAweDZhMWQzNmM4LCAweDExMTJlNmFkLCAweDkxZDY5MmExLFxuXSk7XG4vKiogU0hBNTEyLzI1NiBJViAqL1xuY29uc3QgVDI1Nl9JViA9IC8qIEBfX1BVUkVfXyAqLyBVaW50MzJBcnJheS5mcm9tKFtcbiAgICAweDIyMzEyMTk0LCAweGZjMmJmNzJjLCAweDlmNTU1ZmEzLCAweGM4NGM2NGMyLCAweDIzOTNiODZiLCAweDZmNTNiMTUxLCAweDk2Mzg3NzE5LCAweDU5NDBlYWJkLFxuICAgIDB4OTYyODNlZTIsIDB4YTg4ZWZmZTMsIDB4YmU1ZTFlMjUsIDB4NTM4NjM5OTIsIDB4MmIwMTk5ZmMsIDB4MmM4NWI4YWEsIDB4MGViNzJkZGMsIDB4ODFjNTJjYTIsXG5dKTtcbmV4cG9ydCBjbGFzcyBTSEE1MTJfMjI0IGV4dGVuZHMgU0hBNTEyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoMjgpO1xuICAgICAgICB0aGlzLkFoID0gVDIyNF9JVlswXSB8IDA7XG4gICAgICAgIHRoaXMuQWwgPSBUMjI0X0lWWzFdIHwgMDtcbiAgICAgICAgdGhpcy5CaCA9IFQyMjRfSVZbMl0gfCAwO1xuICAgICAgICB0aGlzLkJsID0gVDIyNF9JVlszXSB8IDA7XG4gICAgICAgIHRoaXMuQ2ggPSBUMjI0X0lWWzRdIHwgMDtcbiAgICAgICAgdGhpcy5DbCA9IFQyMjRfSVZbNV0gfCAwO1xuICAgICAgICB0aGlzLkRoID0gVDIyNF9JVls2XSB8IDA7XG4gICAgICAgIHRoaXMuRGwgPSBUMjI0X0lWWzddIHwgMDtcbiAgICAgICAgdGhpcy5FaCA9IFQyMjRfSVZbOF0gfCAwO1xuICAgICAgICB0aGlzLkVsID0gVDIyNF9JVls5XSB8IDA7XG4gICAgICAgIHRoaXMuRmggPSBUMjI0X0lWWzEwXSB8IDA7XG4gICAgICAgIHRoaXMuRmwgPSBUMjI0X0lWWzExXSB8IDA7XG4gICAgICAgIHRoaXMuR2ggPSBUMjI0X0lWWzEyXSB8IDA7XG4gICAgICAgIHRoaXMuR2wgPSBUMjI0X0lWWzEzXSB8IDA7XG4gICAgICAgIHRoaXMuSGggPSBUMjI0X0lWWzE0XSB8IDA7XG4gICAgICAgIHRoaXMuSGwgPSBUMjI0X0lWWzE1XSB8IDA7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNIQTUxMl8yNTYgZXh0ZW5kcyBTSEE1MTIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigzMik7XG4gICAgICAgIHRoaXMuQWggPSBUMjU2X0lWWzBdIHwgMDtcbiAgICAgICAgdGhpcy5BbCA9IFQyNTZfSVZbMV0gfCAwO1xuICAgICAgICB0aGlzLkJoID0gVDI1Nl9JVlsyXSB8IDA7XG4gICAgICAgIHRoaXMuQmwgPSBUMjU2X0lWWzNdIHwgMDtcbiAgICAgICAgdGhpcy5DaCA9IFQyNTZfSVZbNF0gfCAwO1xuICAgICAgICB0aGlzLkNsID0gVDI1Nl9JVls1XSB8IDA7XG4gICAgICAgIHRoaXMuRGggPSBUMjU2X0lWWzZdIHwgMDtcbiAgICAgICAgdGhpcy5EbCA9IFQyNTZfSVZbN10gfCAwO1xuICAgICAgICB0aGlzLkVoID0gVDI1Nl9JVls4XSB8IDA7XG4gICAgICAgIHRoaXMuRWwgPSBUMjU2X0lWWzldIHwgMDtcbiAgICAgICAgdGhpcy5GaCA9IFQyNTZfSVZbMTBdIHwgMDtcbiAgICAgICAgdGhpcy5GbCA9IFQyNTZfSVZbMTFdIHwgMDtcbiAgICAgICAgdGhpcy5HaCA9IFQyNTZfSVZbMTJdIHwgMDtcbiAgICAgICAgdGhpcy5HbCA9IFQyNTZfSVZbMTNdIHwgMDtcbiAgICAgICAgdGhpcy5IaCA9IFQyNTZfSVZbMTRdIHwgMDtcbiAgICAgICAgdGhpcy5IbCA9IFQyNTZfSVZbMTVdIHwgMDtcbiAgICB9XG59XG4vKipcbiAqIFNIQTItMjU2IGhhc2ggZnVuY3Rpb24gZnJvbSBSRkMgNDYzNC5cbiAqXG4gKiBJdCBpcyB0aGUgZmFzdGVzdCBKUyBoYXNoLCBldmVuIGZhc3RlciB0aGFuIEJsYWtlMy5cbiAqIFRvIGJyZWFrIHNoYTI1NiB1c2luZyBiaXJ0aGRheSBhdHRhY2ssIGF0dGFja2VycyBuZWVkIHRvIHRyeSAyXjEyOCBoYXNoZXMuXG4gKiBCVEMgbmV0d29yayBpcyBkb2luZyAyXjcwIGhhc2hlcy9zZWMgKDJeOTUgaGFzaGVzL3llYXIpIGFzIHBlciAyMDI1LlxuICovXG5leHBvcnQgY29uc3Qgc2hhMjU2ID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZUhhc2hlcigoKSA9PiBuZXcgU0hBMjU2KCkpO1xuLyoqIFNIQTItMjI0IGhhc2ggZnVuY3Rpb24gZnJvbSBSRkMgNDYzNCAqL1xuZXhwb3J0IGNvbnN0IHNoYTIyNCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVIYXNoZXIoKCkgPT4gbmV3IFNIQTIyNCgpKTtcbi8qKiBTSEEyLTUxMiBoYXNoIGZ1bmN0aW9uIGZyb20gUkZDIDQ2MzQuICovXG5leHBvcnQgY29uc3Qgc2hhNTEyID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZUhhc2hlcigoKSA9PiBuZXcgU0hBNTEyKCkpO1xuLyoqIFNIQTItMzg0IGhhc2ggZnVuY3Rpb24gZnJvbSBSRkMgNDYzNC4gKi9cbmV4cG9ydCBjb25zdCBzaGEzODQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlSGFzaGVyKCgpID0+IG5ldyBTSEEzODQoKSk7XG4vKipcbiAqIFNIQTItNTEyLzI1NiBcInRydW5jYXRlZFwiIGhhc2ggZnVuY3Rpb24sIHdpdGggaW1wcm92ZWQgcmVzaXN0YW5jZSB0byBsZW5ndGggZXh0ZW5zaW9uIGF0dGFja3MuXG4gKiBTZWUgdGhlIHBhcGVyIG9uIFt0cnVuY2F0ZWQgU0hBNTEyXShodHRwczovL2VwcmludC5pYWNyLm9yZy8yMDEwLzU0OC5wZGYpLlxuICovXG5leHBvcnQgY29uc3Qgc2hhNTEyXzI1NiA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVIYXNoZXIoKCkgPT4gbmV3IFNIQTUxMl8yNTYoKSk7XG4vKipcbiAqIFNIQTItNTEyLzIyNCBcInRydW5jYXRlZFwiIGhhc2ggZnVuY3Rpb24sIHdpdGggaW1wcm92ZWQgcmVzaXN0YW5jZSB0byBsZW5ndGggZXh0ZW5zaW9uIGF0dGFja3MuXG4gKiBTZWUgdGhlIHBhcGVyIG9uIFt0cnVuY2F0ZWQgU0hBNTEyXShodHRwczovL2VwcmludC5pYWNyLm9yZy8yMDEwLzU0OC5wZGYpLlxuICovXG5leHBvcnQgY29uc3Qgc2hhNTEyXzIyNCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVIYXNoZXIoKCkgPT4gbmV3IFNIQTUxMl8yMjQoKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGEyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/sha2.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/sha3.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/sha3.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Keccak: () => (/* binding */ Keccak),\n/* harmony export */   keccakP: () => (/* binding */ keccakP),\n/* harmony export */   keccak_224: () => (/* binding */ keccak_224),\n/* harmony export */   keccak_256: () => (/* binding */ keccak_256),\n/* harmony export */   keccak_384: () => (/* binding */ keccak_384),\n/* harmony export */   keccak_512: () => (/* binding */ keccak_512),\n/* harmony export */   sha3_224: () => (/* binding */ sha3_224),\n/* harmony export */   sha3_256: () => (/* binding */ sha3_256),\n/* harmony export */   sha3_384: () => (/* binding */ sha3_384),\n/* harmony export */   sha3_512: () => (/* binding */ sha3_512),\n/* harmony export */   shake128: () => (/* binding */ shake128),\n/* harmony export */   shake256: () => (/* binding */ shake256)\n/* harmony export */ });\n/* harmony import */ var _u64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_u64.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/_u64.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js\");\n/**\n * SHA3 (keccak) hash function, based on a new \"Sponge function\" design.\n * Different from older hashes, the internal state is bigger than output size.\n *\n * Check out [FIPS-202](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf),\n * [Website](https://keccak.team/keccak.html),\n * [the differences between SHA-3 and Keccak](https://crypto.stackexchange.com/questions/15727/what-are-the-key-differences-between-the-draft-sha-3-standard-and-the-keccak-sub).\n *\n * Check out `sha3-addons` module for cSHAKE, k12, and others.\n * @module\n */\n\n// prettier-ignore\n\n// No __PURE__ annotations in sha3 header:\n// EVERYTHING is in fact used on every export.\n// Various per round constants calculations\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _7n = BigInt(7);\nconst _256n = BigInt(256);\nconst _0x71n = BigInt(0x71);\nconst SHA3_PI = [];\nconst SHA3_ROTL = [];\nconst _SHA3_IOTA = [];\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n    // Pi\n    [x, y] = [y, (2 * x + 3 * y) % 5];\n    SHA3_PI.push(2 * (5 * y + x));\n    // Rotational\n    SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n    // Iota\n    let t = _0n;\n    for (let j = 0; j < 7; j++) {\n        R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n        if (R & _2n)\n            t ^= _1n << ((_1n << /* @__PURE__ */ BigInt(j)) - _1n);\n    }\n    _SHA3_IOTA.push(t);\n}\nconst IOTAS = (0,_u64_js__WEBPACK_IMPORTED_MODULE_0__.split)(_SHA3_IOTA, true);\nconst SHA3_IOTA_H = IOTAS[0];\nconst SHA3_IOTA_L = IOTAS[1];\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h, l, s) => (s > 32 ? (0,_u64_js__WEBPACK_IMPORTED_MODULE_0__.rotlBH)(h, l, s) : (0,_u64_js__WEBPACK_IMPORTED_MODULE_0__.rotlSH)(h, l, s));\nconst rotlL = (h, l, s) => (s > 32 ? (0,_u64_js__WEBPACK_IMPORTED_MODULE_0__.rotlBL)(h, l, s) : (0,_u64_js__WEBPACK_IMPORTED_MODULE_0__.rotlSL)(h, l, s));\n/** `keccakf1600` internal function, additionally allows to adjust round count. */\nfunction keccakP(s, rounds = 24) {\n    const B = new Uint32Array(5 * 2);\n    // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n    for (let round = 24 - rounds; round < 24; round++) {\n        // Theta \n        for (let x = 0; x < 10; x++)\n            B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n        for (let x = 0; x < 10; x += 2) {\n            const idx1 = (x + 8) % 10;\n            const idx0 = (x + 2) % 10;\n            const B0 = B[idx0];\n            const B1 = B[idx0 + 1];\n            const Th = rotlH(B0, B1, 1) ^ B[idx1];\n            const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n            for (let y = 0; y < 50; y += 10) {\n                s[x + y] ^= Th;\n                s[x + y + 1] ^= Tl;\n            }\n        }\n        // Rho () and Pi ()\n        let curH = s[2];\n        let curL = s[3];\n        for (let t = 0; t < 24; t++) {\n            const shift = SHA3_ROTL[t];\n            const Th = rotlH(curH, curL, shift);\n            const Tl = rotlL(curH, curL, shift);\n            const PI = SHA3_PI[t];\n            curH = s[PI];\n            curL = s[PI + 1];\n            s[PI] = Th;\n            s[PI + 1] = Tl;\n        }\n        // Chi ()\n        for (let y = 0; y < 50; y += 10) {\n            for (let x = 0; x < 10; x++)\n                B[x] = s[y + x];\n            for (let x = 0; x < 10; x++)\n                s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n        }\n        // Iota ()\n        s[0] ^= SHA3_IOTA_H[round];\n        s[1] ^= SHA3_IOTA_L[round];\n    }\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.clean)(B);\n}\n/** Keccak sponge function. */\nclass Keccak extends _utils_js__WEBPACK_IMPORTED_MODULE_1__.Hash {\n    // NOTE: we accept arguments in bytes instead of bits here.\n    constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {\n        super();\n        this.pos = 0;\n        this.posOut = 0;\n        this.finished = false;\n        this.destroyed = false;\n        this.enableXOF = false;\n        this.blockLen = blockLen;\n        this.suffix = suffix;\n        this.outputLen = outputLen;\n        this.enableXOF = enableXOF;\n        this.rounds = rounds;\n        // Can be passed from user as dkLen\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.anumber)(outputLen);\n        // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n        // 0 < blockLen < 200\n        if (!(0 < blockLen && blockLen < 200))\n            throw new Error('only keccak-f1600 function is supported');\n        this.state = new Uint8Array(200);\n        this.state32 = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.u32)(this.state);\n    }\n    clone() {\n        return this._cloneInto();\n    }\n    keccak() {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.swap32IfBE)(this.state32);\n        keccakP(this.state32, this.rounds);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.swap32IfBE)(this.state32);\n        this.posOut = 0;\n        this.pos = 0;\n    }\n    update(data) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.aexists)(this);\n        data = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toBytes)(data);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.abytes)(data);\n        const { blockLen, state } = this;\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            for (let i = 0; i < take; i++)\n                state[this.pos++] ^= data[pos++];\n            if (this.pos === blockLen)\n                this.keccak();\n        }\n        return this;\n    }\n    finish() {\n        if (this.finished)\n            return;\n        this.finished = true;\n        const { state, suffix, pos, blockLen } = this;\n        // Do the padding\n        state[pos] ^= suffix;\n        if ((suffix & 0x80) !== 0 && pos === blockLen - 1)\n            this.keccak();\n        state[blockLen - 1] ^= 0x80;\n        this.keccak();\n    }\n    writeInto(out) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.aexists)(this, false);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.abytes)(out);\n        this.finish();\n        const bufferOut = this.state;\n        const { blockLen } = this;\n        for (let pos = 0, len = out.length; pos < len;) {\n            if (this.posOut >= blockLen)\n                this.keccak();\n            const take = Math.min(blockLen - this.posOut, len - pos);\n            out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n            this.posOut += take;\n            pos += take;\n        }\n        return out;\n    }\n    xofInto(out) {\n        // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n        if (!this.enableXOF)\n            throw new Error('XOF is not possible for this instance');\n        return this.writeInto(out);\n    }\n    xof(bytes) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.anumber)(bytes);\n        return this.xofInto(new Uint8Array(bytes));\n    }\n    digestInto(out) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.aoutput)(out, this);\n        if (this.finished)\n            throw new Error('digest() was already called');\n        this.writeInto(out);\n        this.destroy();\n        return out;\n    }\n    digest() {\n        return this.digestInto(new Uint8Array(this.outputLen));\n    }\n    destroy() {\n        this.destroyed = true;\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.clean)(this.state);\n    }\n    _cloneInto(to) {\n        const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n        to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));\n        to.state32.set(this.state32);\n        to.pos = this.pos;\n        to.posOut = this.posOut;\n        to.finished = this.finished;\n        to.rounds = rounds;\n        // Suffix can change in cSHAKE\n        to.suffix = suffix;\n        to.outputLen = outputLen;\n        to.enableXOF = enableXOF;\n        to.destroyed = this.destroyed;\n        return to;\n    }\n}\nconst gen = (suffix, blockLen, outputLen) => (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.createHasher)(() => new Keccak(blockLen, suffix, outputLen));\n/** SHA3-224 hash function. */\nconst sha3_224 = /* @__PURE__ */ (() => gen(0x06, 144, 224 / 8))();\n/** SHA3-256 hash function. Different from keccak-256. */\nconst sha3_256 = /* @__PURE__ */ (() => gen(0x06, 136, 256 / 8))();\n/** SHA3-384 hash function. */\nconst sha3_384 = /* @__PURE__ */ (() => gen(0x06, 104, 384 / 8))();\n/** SHA3-512 hash function. */\nconst sha3_512 = /* @__PURE__ */ (() => gen(0x06, 72, 512 / 8))();\n/** keccak-224 hash function. */\nconst keccak_224 = /* @__PURE__ */ (() => gen(0x01, 144, 224 / 8))();\n/** keccak-256 hash function. Different from SHA3-256. */\nconst keccak_256 = /* @__PURE__ */ (() => gen(0x01, 136, 256 / 8))();\n/** keccak-384 hash function. */\nconst keccak_384 = /* @__PURE__ */ (() => gen(0x01, 104, 384 / 8))();\n/** keccak-512 hash function. */\nconst keccak_512 = /* @__PURE__ */ (() => gen(0x01, 72, 512 / 8))();\nconst genShake = (suffix, blockLen, outputLen) => (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.createXOFer)((opts = {}) => new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true));\n/** SHAKE128 XOF with 128-bit security. */\nconst shake128 = /* @__PURE__ */ (() => genShake(0x1f, 168, 128 / 8))();\n/** SHAKE256 XOF with 256-bit security. */\nconst shake256 = /* @__PURE__ */ (() => genShake(0x1f, 136, 256 / 8))();\n//# sourceMappingURL=sha3.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvaGFzaGVzL2VzbS9zaGEzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNrRTtBQUNsRTtBQUNpSTtBQUNqSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsWUFBWTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsOENBQUs7QUFDbkI7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLCtDQUFNLFlBQVksK0NBQU07QUFDN0QscUNBQXFDLCtDQUFNLFlBQVksK0NBQU07QUFDN0Q7QUFDTztBQUNQO0FBQ0E7QUFDQSxrQ0FBa0MsWUFBWTtBQUM5QztBQUNBLHdCQUF3QixRQUFRO0FBQ2hDO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFFBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixRQUFRO0FBQ2hDLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0EsNEJBQTRCLFFBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnREFBSztBQUNUO0FBQ0E7QUFDTyxxQkFBcUIsMkNBQUk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhDQUFHO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFVO0FBQ2xCO0FBQ0EsUUFBUSxxREFBVTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQU87QUFDZixlQUFlLGtEQUFPO0FBQ3RCLFFBQVEsaURBQU07QUFDZCxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0EsMEJBQTBCLFVBQVU7QUFDcEM7QUFDQSw0QkFBNEIsVUFBVTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrQkFBK0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQU87QUFDZixRQUFRLGlEQUFNO0FBQ2Q7QUFDQTtBQUNBLGdCQUFnQixXQUFXO0FBQzNCLDRDQUE0QyxVQUFVO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnREFBSztBQUNiO0FBQ0E7QUFDQSxnQkFBZ0IsaURBQWlEO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsdURBQVk7QUFDekQ7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUCxrREFBa0Qsc0RBQVcsV0FBVztBQUN4RTtBQUNPO0FBQ1A7QUFDTztBQUNQIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0Bub2JsZS9oYXNoZXMvZXNtL3NoYTMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTSEEzIChrZWNjYWspIGhhc2ggZnVuY3Rpb24sIGJhc2VkIG9uIGEgbmV3IFwiU3BvbmdlIGZ1bmN0aW9uXCIgZGVzaWduLlxuICogRGlmZmVyZW50IGZyb20gb2xkZXIgaGFzaGVzLCB0aGUgaW50ZXJuYWwgc3RhdGUgaXMgYmlnZ2VyIHRoYW4gb3V0cHV0IHNpemUuXG4gKlxuICogQ2hlY2sgb3V0IFtGSVBTLTIwMl0oaHR0cHM6Ly9udmxwdWJzLm5pc3QuZ292L25pc3RwdWJzL0ZJUFMvTklTVC5GSVBTLjIwMi5wZGYpLFxuICogW1dlYnNpdGVdKGh0dHBzOi8va2VjY2FrLnRlYW0va2VjY2FrLmh0bWwpLFxuICogW3RoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIFNIQS0zIGFuZCBLZWNjYWtdKGh0dHBzOi8vY3J5cHRvLnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy8xNTcyNy93aGF0LWFyZS10aGUta2V5LWRpZmZlcmVuY2VzLWJldHdlZW4tdGhlLWRyYWZ0LXNoYS0zLXN0YW5kYXJkLWFuZC10aGUta2VjY2FrLXN1YikuXG4gKlxuICogQ2hlY2sgb3V0IGBzaGEzLWFkZG9uc2AgbW9kdWxlIGZvciBjU0hBS0UsIGsxMiwgYW5kIG90aGVycy5cbiAqIEBtb2R1bGVcbiAqL1xuaW1wb3J0IHsgcm90bEJILCByb3RsQkwsIHJvdGxTSCwgcm90bFNMLCBzcGxpdCB9IGZyb20gXCIuL191NjQuanNcIjtcbi8vIHByZXR0aWVyLWlnbm9yZVxuaW1wb3J0IHsgYWJ5dGVzLCBhZXhpc3RzLCBhbnVtYmVyLCBhb3V0cHV0LCBjbGVhbiwgY3JlYXRlSGFzaGVyLCBjcmVhdGVYT0ZlciwgSGFzaCwgc3dhcDMySWZCRSwgdG9CeXRlcywgdTMyIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbi8vIE5vIF9fUFVSRV9fIGFubm90YXRpb25zIGluIHNoYTMgaGVhZGVyOlxuLy8gRVZFUllUSElORyBpcyBpbiBmYWN0IHVzZWQgb24gZXZlcnkgZXhwb3J0LlxuLy8gVmFyaW91cyBwZXIgcm91bmQgY29uc3RhbnRzIGNhbGN1bGF0aW9uc1xuY29uc3QgXzBuID0gQmlnSW50KDApO1xuY29uc3QgXzFuID0gQmlnSW50KDEpO1xuY29uc3QgXzJuID0gQmlnSW50KDIpO1xuY29uc3QgXzduID0gQmlnSW50KDcpO1xuY29uc3QgXzI1Nm4gPSBCaWdJbnQoMjU2KTtcbmNvbnN0IF8weDcxbiA9IEJpZ0ludCgweDcxKTtcbmNvbnN0IFNIQTNfUEkgPSBbXTtcbmNvbnN0IFNIQTNfUk9UTCA9IFtdO1xuY29uc3QgX1NIQTNfSU9UQSA9IFtdO1xuZm9yIChsZXQgcm91bmQgPSAwLCBSID0gXzFuLCB4ID0gMSwgeSA9IDA7IHJvdW5kIDwgMjQ7IHJvdW5kKyspIHtcbiAgICAvLyBQaVxuICAgIFt4LCB5XSA9IFt5LCAoMiAqIHggKyAzICogeSkgJSA1XTtcbiAgICBTSEEzX1BJLnB1c2goMiAqICg1ICogeSArIHgpKTtcbiAgICAvLyBSb3RhdGlvbmFsXG4gICAgU0hBM19ST1RMLnB1c2goKCgocm91bmQgKyAxKSAqIChyb3VuZCArIDIpKSAvIDIpICUgNjQpO1xuICAgIC8vIElvdGFcbiAgICBsZXQgdCA9IF8wbjtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IDc7IGorKykge1xuICAgICAgICBSID0gKChSIDw8IF8xbikgXiAoKFIgPj4gXzduKSAqIF8weDcxbikpICUgXzI1Nm47XG4gICAgICAgIGlmIChSICYgXzJuKVxuICAgICAgICAgICAgdCBePSBfMW4gPDwgKChfMW4gPDwgLyogQF9fUFVSRV9fICovIEJpZ0ludChqKSkgLSBfMW4pO1xuICAgIH1cbiAgICBfU0hBM19JT1RBLnB1c2godCk7XG59XG5jb25zdCBJT1RBUyA9IHNwbGl0KF9TSEEzX0lPVEEsIHRydWUpO1xuY29uc3QgU0hBM19JT1RBX0ggPSBJT1RBU1swXTtcbmNvbnN0IFNIQTNfSU9UQV9MID0gSU9UQVNbMV07XG4vLyBMZWZ0IHJvdGF0aW9uICh3aXRob3V0IDAsIDMyLCA2NClcbmNvbnN0IHJvdGxIID0gKGgsIGwsIHMpID0+IChzID4gMzIgPyByb3RsQkgoaCwgbCwgcykgOiByb3RsU0goaCwgbCwgcykpO1xuY29uc3Qgcm90bEwgPSAoaCwgbCwgcykgPT4gKHMgPiAzMiA/IHJvdGxCTChoLCBsLCBzKSA6IHJvdGxTTChoLCBsLCBzKSk7XG4vKiogYGtlY2Nha2YxNjAwYCBpbnRlcm5hbCBmdW5jdGlvbiwgYWRkaXRpb25hbGx5IGFsbG93cyB0byBhZGp1c3Qgcm91bmQgY291bnQuICovXG5leHBvcnQgZnVuY3Rpb24ga2VjY2FrUChzLCByb3VuZHMgPSAyNCkge1xuICAgIGNvbnN0IEIgPSBuZXcgVWludDMyQXJyYXkoNSAqIDIpO1xuICAgIC8vIE5PVEU6IGFsbCBpbmRpY2VzIGFyZSB4MiBzaW5jZSB3ZSBzdG9yZSBzdGF0ZSBhcyB1MzIgaW5zdGVhZCBvZiB1NjQgKGJpZ2ludHMgdG8gc2xvdyBpbiBqcylcbiAgICBmb3IgKGxldCByb3VuZCA9IDI0IC0gcm91bmRzOyByb3VuZCA8IDI0OyByb3VuZCsrKSB7XG4gICAgICAgIC8vIFRoZXRhIM64XG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgMTA7IHgrKylcbiAgICAgICAgICAgIEJbeF0gPSBzW3hdIF4gc1t4ICsgMTBdIF4gc1t4ICsgMjBdIF4gc1t4ICsgMzBdIF4gc1t4ICsgNDBdO1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDEwOyB4ICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkeDEgPSAoeCArIDgpICUgMTA7XG4gICAgICAgICAgICBjb25zdCBpZHgwID0gKHggKyAyKSAlIDEwO1xuICAgICAgICAgICAgY29uc3QgQjAgPSBCW2lkeDBdO1xuICAgICAgICAgICAgY29uc3QgQjEgPSBCW2lkeDAgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IFRoID0gcm90bEgoQjAsIEIxLCAxKSBeIEJbaWR4MV07XG4gICAgICAgICAgICBjb25zdCBUbCA9IHJvdGxMKEIwLCBCMSwgMSkgXiBCW2lkeDEgKyAxXTtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgNTA7IHkgKz0gMTApIHtcbiAgICAgICAgICAgICAgICBzW3ggKyB5XSBePSBUaDtcbiAgICAgICAgICAgICAgICBzW3ggKyB5ICsgMV0gXj0gVGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmhvICjPgSkgYW5kIFBpICjPgClcbiAgICAgICAgbGV0IGN1ckggPSBzWzJdO1xuICAgICAgICBsZXQgY3VyTCA9IHNbM107XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgMjQ7IHQrKykge1xuICAgICAgICAgICAgY29uc3Qgc2hpZnQgPSBTSEEzX1JPVExbdF07XG4gICAgICAgICAgICBjb25zdCBUaCA9IHJvdGxIKGN1ckgsIGN1ckwsIHNoaWZ0KTtcbiAgICAgICAgICAgIGNvbnN0IFRsID0gcm90bEwoY3VySCwgY3VyTCwgc2hpZnQpO1xuICAgICAgICAgICAgY29uc3QgUEkgPSBTSEEzX1BJW3RdO1xuICAgICAgICAgICAgY3VySCA9IHNbUEldO1xuICAgICAgICAgICAgY3VyTCA9IHNbUEkgKyAxXTtcbiAgICAgICAgICAgIHNbUEldID0gVGg7XG4gICAgICAgICAgICBzW1BJICsgMV0gPSBUbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGkgKM+HKVxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IDUwOyB5ICs9IDEwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDEwOyB4KyspXG4gICAgICAgICAgICAgICAgQlt4XSA9IHNbeSArIHhdO1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCAxMDsgeCsrKVxuICAgICAgICAgICAgICAgIHNbeSArIHhdIF49IH5CWyh4ICsgMikgJSAxMF0gJiBCWyh4ICsgNCkgJSAxMF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW90YSAozrkpXG4gICAgICAgIHNbMF0gXj0gU0hBM19JT1RBX0hbcm91bmRdO1xuICAgICAgICBzWzFdIF49IFNIQTNfSU9UQV9MW3JvdW5kXTtcbiAgICB9XG4gICAgY2xlYW4oQik7XG59XG4vKiogS2VjY2FrIHNwb25nZSBmdW5jdGlvbi4gKi9cbmV4cG9ydCBjbGFzcyBLZWNjYWsgZXh0ZW5kcyBIYXNoIHtcbiAgICAvLyBOT1RFOiB3ZSBhY2NlcHQgYXJndW1lbnRzIGluIGJ5dGVzIGluc3RlYWQgb2YgYml0cyBoZXJlLlxuICAgIGNvbnN0cnVjdG9yKGJsb2NrTGVuLCBzdWZmaXgsIG91dHB1dExlbiwgZW5hYmxlWE9GID0gZmFsc2UsIHJvdW5kcyA9IDI0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy5wb3NPdXQgPSAwO1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW5hYmxlWE9GID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYmxvY2tMZW4gPSBibG9ja0xlbjtcbiAgICAgICAgdGhpcy5zdWZmaXggPSBzdWZmaXg7XG4gICAgICAgIHRoaXMub3V0cHV0TGVuID0gb3V0cHV0TGVuO1xuICAgICAgICB0aGlzLmVuYWJsZVhPRiA9IGVuYWJsZVhPRjtcbiAgICAgICAgdGhpcy5yb3VuZHMgPSByb3VuZHM7XG4gICAgICAgIC8vIENhbiBiZSBwYXNzZWQgZnJvbSB1c2VyIGFzIGRrTGVuXG4gICAgICAgIGFudW1iZXIob3V0cHV0TGVuKTtcbiAgICAgICAgLy8gMTYwMCA9IDV4NSBtYXRyaXggb2YgNjRiaXQuICAxNjAwIGJpdHMgPT09IDIwMCBieXRlc1xuICAgICAgICAvLyAwIDwgYmxvY2tMZW4gPCAyMDBcbiAgICAgICAgaWYgKCEoMCA8IGJsb2NrTGVuICYmIGJsb2NrTGVuIDwgMjAwKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb25seSBrZWNjYWstZjE2MDAgZnVuY3Rpb24gaXMgc3VwcG9ydGVkJyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgVWludDhBcnJheSgyMDApO1xuICAgICAgICB0aGlzLnN0YXRlMzIgPSB1MzIodGhpcy5zdGF0ZSk7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCk7XG4gICAgfVxuICAgIGtlY2NhaygpIHtcbiAgICAgICAgc3dhcDMySWZCRSh0aGlzLnN0YXRlMzIpO1xuICAgICAgICBrZWNjYWtQKHRoaXMuc3RhdGUzMiwgdGhpcy5yb3VuZHMpO1xuICAgICAgICBzd2FwMzJJZkJFKHRoaXMuc3RhdGUzMik7XG4gICAgICAgIHRoaXMucG9zT3V0ID0gMDtcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgIH1cbiAgICB1cGRhdGUoZGF0YSkge1xuICAgICAgICBhZXhpc3RzKHRoaXMpO1xuICAgICAgICBkYXRhID0gdG9CeXRlcyhkYXRhKTtcbiAgICAgICAgYWJ5dGVzKGRhdGEpO1xuICAgICAgICBjb25zdCB7IGJsb2NrTGVuLCBzdGF0ZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbGVuID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IGxlbjspIHtcbiAgICAgICAgICAgIGNvbnN0IHRha2UgPSBNYXRoLm1pbihibG9ja0xlbiAtIHRoaXMucG9zLCBsZW4gLSBwb3MpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWtlOyBpKyspXG4gICAgICAgICAgICAgICAgc3RhdGVbdGhpcy5wb3MrK10gXj0gZGF0YVtwb3MrK107XG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPT09IGJsb2NrTGVuKVxuICAgICAgICAgICAgICAgIHRoaXMua2VjY2FrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZmluaXNoZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IHN0YXRlLCBzdWZmaXgsIHBvcywgYmxvY2tMZW4gfSA9IHRoaXM7XG4gICAgICAgIC8vIERvIHRoZSBwYWRkaW5nXG4gICAgICAgIHN0YXRlW3Bvc10gXj0gc3VmZml4O1xuICAgICAgICBpZiAoKHN1ZmZpeCAmIDB4ODApICE9PSAwICYmIHBvcyA9PT0gYmxvY2tMZW4gLSAxKVxuICAgICAgICAgICAgdGhpcy5rZWNjYWsoKTtcbiAgICAgICAgc3RhdGVbYmxvY2tMZW4gLSAxXSBePSAweDgwO1xuICAgICAgICB0aGlzLmtlY2NhaygpO1xuICAgIH1cbiAgICB3cml0ZUludG8ob3V0KSB7XG4gICAgICAgIGFleGlzdHModGhpcywgZmFsc2UpO1xuICAgICAgICBhYnl0ZXMob3V0KTtcbiAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgY29uc3QgYnVmZmVyT3V0ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgY29uc3QgeyBibG9ja0xlbiB9ID0gdGhpcztcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMCwgbGVuID0gb3V0Lmxlbmd0aDsgcG9zIDwgbGVuOykge1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zT3V0ID49IGJsb2NrTGVuKVxuICAgICAgICAgICAgICAgIHRoaXMua2VjY2FrKCk7XG4gICAgICAgICAgICBjb25zdCB0YWtlID0gTWF0aC5taW4oYmxvY2tMZW4gLSB0aGlzLnBvc091dCwgbGVuIC0gcG9zKTtcbiAgICAgICAgICAgIG91dC5zZXQoYnVmZmVyT3V0LnN1YmFycmF5KHRoaXMucG9zT3V0LCB0aGlzLnBvc091dCArIHRha2UpLCBwb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3NPdXQgKz0gdGFrZTtcbiAgICAgICAgICAgIHBvcyArPSB0YWtlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIHhvZkludG8ob3V0KSB7XG4gICAgICAgIC8vIFNoYTMvS2VjY2FrIHVzYWdlIHdpdGggWE9GIGlzIHByb2JhYmx5IG1pc3Rha2UsIG9ubHkgU0hBS0UgaW5zdGFuY2VzIGNhbiBkbyBYT0ZcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZVhPRilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWE9GIGlzIG5vdCBwb3NzaWJsZSBmb3IgdGhpcyBpbnN0YW5jZScpO1xuICAgICAgICByZXR1cm4gdGhpcy53cml0ZUludG8ob3V0KTtcbiAgICB9XG4gICAgeG9mKGJ5dGVzKSB7XG4gICAgICAgIGFudW1iZXIoYnl0ZXMpO1xuICAgICAgICByZXR1cm4gdGhpcy54b2ZJbnRvKG5ldyBVaW50OEFycmF5KGJ5dGVzKSk7XG4gICAgfVxuICAgIGRpZ2VzdEludG8ob3V0KSB7XG4gICAgICAgIGFvdXRwdXQob3V0LCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuZmluaXNoZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RpZ2VzdCgpIHdhcyBhbHJlYWR5IGNhbGxlZCcpO1xuICAgICAgICB0aGlzLndyaXRlSW50byhvdXQpO1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgZGlnZXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaWdlc3RJbnRvKG5ldyBVaW50OEFycmF5KHRoaXMub3V0cHV0TGVuKSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgY2xlYW4odGhpcy5zdGF0ZSk7XG4gICAgfVxuICAgIF9jbG9uZUludG8odG8pIHtcbiAgICAgICAgY29uc3QgeyBibG9ja0xlbiwgc3VmZml4LCBvdXRwdXRMZW4sIHJvdW5kcywgZW5hYmxlWE9GIH0gPSB0aGlzO1xuICAgICAgICB0byB8fCAodG8gPSBuZXcgS2VjY2FrKGJsb2NrTGVuLCBzdWZmaXgsIG91dHB1dExlbiwgZW5hYmxlWE9GLCByb3VuZHMpKTtcbiAgICAgICAgdG8uc3RhdGUzMi5zZXQodGhpcy5zdGF0ZTMyKTtcbiAgICAgICAgdG8ucG9zID0gdGhpcy5wb3M7XG4gICAgICAgIHRvLnBvc091dCA9IHRoaXMucG9zT3V0O1xuICAgICAgICB0by5maW5pc2hlZCA9IHRoaXMuZmluaXNoZWQ7XG4gICAgICAgIHRvLnJvdW5kcyA9IHJvdW5kcztcbiAgICAgICAgLy8gU3VmZml4IGNhbiBjaGFuZ2UgaW4gY1NIQUtFXG4gICAgICAgIHRvLnN1ZmZpeCA9IHN1ZmZpeDtcbiAgICAgICAgdG8ub3V0cHV0TGVuID0gb3V0cHV0TGVuO1xuICAgICAgICB0by5lbmFibGVYT0YgPSBlbmFibGVYT0Y7XG4gICAgICAgIHRvLmRlc3Ryb3llZCA9IHRoaXMuZGVzdHJveWVkO1xuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxufVxuY29uc3QgZ2VuID0gKHN1ZmZpeCwgYmxvY2tMZW4sIG91dHB1dExlbikgPT4gY3JlYXRlSGFzaGVyKCgpID0+IG5ldyBLZWNjYWsoYmxvY2tMZW4sIHN1ZmZpeCwgb3V0cHV0TGVuKSk7XG4vKiogU0hBMy0yMjQgaGFzaCBmdW5jdGlvbi4gKi9cbmV4cG9ydCBjb25zdCBzaGEzXzIyNCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZ2VuKDB4MDYsIDE0NCwgMjI0IC8gOCkpKCk7XG4vKiogU0hBMy0yNTYgaGFzaCBmdW5jdGlvbi4gRGlmZmVyZW50IGZyb20ga2VjY2FrLTI1Ni4gKi9cbmV4cG9ydCBjb25zdCBzaGEzXzI1NiA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZ2VuKDB4MDYsIDEzNiwgMjU2IC8gOCkpKCk7XG4vKiogU0hBMy0zODQgaGFzaCBmdW5jdGlvbi4gKi9cbmV4cG9ydCBjb25zdCBzaGEzXzM4NCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZ2VuKDB4MDYsIDEwNCwgMzg0IC8gOCkpKCk7XG4vKiogU0hBMy01MTIgaGFzaCBmdW5jdGlvbi4gKi9cbmV4cG9ydCBjb25zdCBzaGEzXzUxMiA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZ2VuKDB4MDYsIDcyLCA1MTIgLyA4KSkoKTtcbi8qKiBrZWNjYWstMjI0IGhhc2ggZnVuY3Rpb24uICovXG5leHBvcnQgY29uc3Qga2VjY2FrXzIyNCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZ2VuKDB4MDEsIDE0NCwgMjI0IC8gOCkpKCk7XG4vKioga2VjY2FrLTI1NiBoYXNoIGZ1bmN0aW9uLiBEaWZmZXJlbnQgZnJvbSBTSEEzLTI1Ni4gKi9cbmV4cG9ydCBjb25zdCBrZWNjYWtfMjU2ID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBnZW4oMHgwMSwgMTM2LCAyNTYgLyA4KSkoKTtcbi8qKiBrZWNjYWstMzg0IGhhc2ggZnVuY3Rpb24uICovXG5leHBvcnQgY29uc3Qga2VjY2FrXzM4NCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZ2VuKDB4MDEsIDEwNCwgMzg0IC8gOCkpKCk7XG4vKioga2VjY2FrLTUxMiBoYXNoIGZ1bmN0aW9uLiAqL1xuZXhwb3J0IGNvbnN0IGtlY2Nha181MTIgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IGdlbigweDAxLCA3MiwgNTEyIC8gOCkpKCk7XG5jb25zdCBnZW5TaGFrZSA9IChzdWZmaXgsIGJsb2NrTGVuLCBvdXRwdXRMZW4pID0+IGNyZWF0ZVhPRmVyKChvcHRzID0ge30pID0+IG5ldyBLZWNjYWsoYmxvY2tMZW4sIHN1ZmZpeCwgb3B0cy5ka0xlbiA9PT0gdW5kZWZpbmVkID8gb3V0cHV0TGVuIDogb3B0cy5ka0xlbiwgdHJ1ZSkpO1xuLyoqIFNIQUtFMTI4IFhPRiB3aXRoIDEyOC1iaXQgc2VjdXJpdHkuICovXG5leHBvcnQgY29uc3Qgc2hha2UxMjggPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IGdlblNoYWtlKDB4MWYsIDE2OCwgMTI4IC8gOCkpKCk7XG4vKiogU0hBS0UyNTYgWE9GIHdpdGggMjU2LWJpdCBzZWN1cml0eS4gKi9cbmV4cG9ydCBjb25zdCBzaGFrZTI1NiA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZ2VuU2hha2UoMHgxZiwgMTM2LCAyNTYgLyA4KSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYTMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/sha3.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Hash: () => (/* binding */ Hash),\n/* harmony export */   abytes: () => (/* binding */ abytes),\n/* harmony export */   aexists: () => (/* binding */ aexists),\n/* harmony export */   ahash: () => (/* binding */ ahash),\n/* harmony export */   anumber: () => (/* binding */ anumber),\n/* harmony export */   aoutput: () => (/* binding */ aoutput),\n/* harmony export */   asyncLoop: () => (/* binding */ asyncLoop),\n/* harmony export */   byteSwap: () => (/* binding */ byteSwap),\n/* harmony export */   byteSwap32: () => (/* binding */ byteSwap32),\n/* harmony export */   byteSwapIfBE: () => (/* binding */ byteSwapIfBE),\n/* harmony export */   bytesToHex: () => (/* binding */ bytesToHex),\n/* harmony export */   bytesToUtf8: () => (/* binding */ bytesToUtf8),\n/* harmony export */   checkOpts: () => (/* binding */ checkOpts),\n/* harmony export */   clean: () => (/* binding */ clean),\n/* harmony export */   concatBytes: () => (/* binding */ concatBytes),\n/* harmony export */   createHasher: () => (/* binding */ createHasher),\n/* harmony export */   createOptHasher: () => (/* binding */ createOptHasher),\n/* harmony export */   createView: () => (/* binding */ createView),\n/* harmony export */   createXOFer: () => (/* binding */ createXOFer),\n/* harmony export */   hexToBytes: () => (/* binding */ hexToBytes),\n/* harmony export */   isBytes: () => (/* binding */ isBytes),\n/* harmony export */   isLE: () => (/* binding */ isLE),\n/* harmony export */   kdfInputToBytes: () => (/* binding */ kdfInputToBytes),\n/* harmony export */   nextTick: () => (/* binding */ nextTick),\n/* harmony export */   randomBytes: () => (/* binding */ randomBytes),\n/* harmony export */   rotl: () => (/* binding */ rotl),\n/* harmony export */   rotr: () => (/* binding */ rotr),\n/* harmony export */   swap32IfBE: () => (/* binding */ swap32IfBE),\n/* harmony export */   swap8IfBE: () => (/* binding */ swap8IfBE),\n/* harmony export */   toBytes: () => (/* binding */ toBytes),\n/* harmony export */   u32: () => (/* binding */ u32),\n/* harmony export */   u8: () => (/* binding */ u8),\n/* harmony export */   utf8ToBytes: () => (/* binding */ utf8ToBytes),\n/* harmony export */   wrapConstructor: () => (/* binding */ wrapConstructor),\n/* harmony export */   wrapConstructorWithOpts: () => (/* binding */ wrapConstructorWithOpts),\n/* harmony export */   wrapXOFConstructorWithOpts: () => (/* binding */ wrapXOFConstructorWithOpts)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/crypto */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/cryptoNode.js\");\n/**\n * Utilities for hex, bytes, CSPRNG.\n * @module\n */\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\n\n/** Checks if something is Uint8Array. Be careful: nodejs Buffer will return true. */\nfunction isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n/** Asserts something is positive integer. */\nfunction anumber(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error('positive integer expected, got ' + n);\n}\n/** Asserts something is Uint8Array. */\nfunction abytes(b, ...lengths) {\n    if (!isBytes(b))\n        throw new Error('Uint8Array expected');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);\n}\n/** Asserts something is hash */\nfunction ahash(h) {\n    if (typeof h !== 'function' || typeof h.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.createHasher');\n    anumber(h.outputLen);\n    anumber(h.blockLen);\n}\n/** Asserts a hash instance has not been destroyed / finished */\nfunction aexists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\n/** Asserts output is properly-sized byte array */\nfunction aoutput(out, instance) {\n    abytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error('digestInto() expects output buffer of length at least ' + min);\n    }\n}\n/** Cast u8 / u16 / u32 to u8. */\nfunction u8(arr) {\n    return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n/** Cast u8 / u16 / u32 to u32. */\nfunction u32(arr) {\n    return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n}\n/** Zeroize a byte array. Warning: JS provides no guarantees. */\nfunction clean(...arrays) {\n    for (let i = 0; i < arrays.length; i++) {\n        arrays[i].fill(0);\n    }\n}\n/** Create DataView of an array for easy byte-level manipulation. */\nfunction createView(arr) {\n    return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n/** The rotate right (circular right shift) operation for uint32 */\nfunction rotr(word, shift) {\n    return (word << (32 - shift)) | (word >>> shift);\n}\n/** The rotate left (circular left shift) operation for uint32 */\nfunction rotl(word, shift) {\n    return (word << shift) | ((word >>> (32 - shift)) >>> 0);\n}\n/** Is current platform little-endian? Most are. Big-Endian platform: IBM */\nconst isLE = /* @__PURE__ */ (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();\n/** The byte swap operation for uint32 */\nfunction byteSwap(word) {\n    return (((word << 24) & 0xff000000) |\n        ((word << 8) & 0xff0000) |\n        ((word >>> 8) & 0xff00) |\n        ((word >>> 24) & 0xff));\n}\n/** Conditionally byte swap if on a big-endian platform */\nconst swap8IfBE = isLE\n    ? (n) => n\n    : (n) => byteSwap(n);\n/** @deprecated */\nconst byteSwapIfBE = swap8IfBE;\n/** In place byte swap for Uint32Array */\nfunction byteSwap32(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        arr[i] = byteSwap(arr[i]);\n    }\n    return arr;\n}\nconst swap32IfBE = isLE\n    ? (u) => u\n    : byteSwap32;\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin = /* @__PURE__ */ (() => \n// @ts-ignore\ntypeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function')();\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nfunction bytesToHex(bytes) {\n    abytes(bytes);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return bytes.toHex();\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };\nfunction asciiToBase16(ch) {\n    if (ch >= asciis._0 && ch <= asciis._9)\n        return ch - asciis._0; // '2' => 50-48\n    if (ch >= asciis.A && ch <= asciis.F)\n        return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n    if (ch >= asciis.a && ch <= asciis.f)\n        return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n    return;\n}\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return Uint8Array.fromHex(hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n    }\n    return array;\n}\n/**\n * There is no setImmediate in browser and setTimeout is slow.\n * Call of async fn will return Promise, which will be fullfiled only on\n * next scheduler queue processing step and this is exactly what we need.\n */\nconst nextTick = async () => { };\n/** Returns control to thread each 'tick' ms to avoid blocking. */\nasync function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * Converts string to bytes using UTF8 encoding.\n * @example utf8ToBytes('abc') // Uint8Array.from([97, 98, 99])\n */\nfunction utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error('string expected');\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\nfunction bytesToUtf8(bytes) {\n    return new TextDecoder().decode(bytes);\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nfunction toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    abytes(data);\n    return data;\n}\n/**\n * Helper for KDFs: consumes uint8array or string.\n * When string is passed, does utf8 decoding, using TextDecoder.\n */\nfunction kdfInputToBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    abytes(data);\n    return data;\n}\n/** Copies several Uint8Arrays into one. */\nfunction concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\nfunction checkOpts(defaults, opts) {\n    if (opts !== undefined && {}.toString.call(opts) !== '[object Object]')\n        throw new Error('options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\n/** For runtime check if class implements interface */\nclass Hash {\n}\n/** Wraps hash function, creating an interface on top of it */\nfunction createHasher(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nfunction createOptHasher(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nfunction createXOFer(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nconst wrapConstructor = createHasher;\nconst wrapConstructorWithOpts = createOptHasher;\nconst wrapXOFConstructorWithOpts = createXOFer;\n/** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */\nfunction randomBytes(bytesLength = 32) {\n    if (_noble_hashes_crypto__WEBPACK_IMPORTED_MODULE_0__.crypto && typeof _noble_hashes_crypto__WEBPACK_IMPORTED_MODULE_0__.crypto.getRandomValues === 'function') {\n        return _noble_hashes_crypto__WEBPACK_IMPORTED_MODULE_0__.crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    // Legacy Node.js compatibility\n    if (_noble_hashes_crypto__WEBPACK_IMPORTED_MODULE_0__.crypto && typeof _noble_hashes_crypto__WEBPACK_IMPORTED_MODULE_0__.crypto.randomBytes === 'function') {\n        return Uint8Array.from(_noble_hashes_crypto__WEBPACK_IMPORTED_MODULE_0__.crypto.randomBytes(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Abm9ibGUvaGFzaGVzL2VzbS91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM4QztBQUM5QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUCxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDUCxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxhQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLHFDQUFxQztBQUNyQztBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFNBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ1A7QUFDTztBQUNQLFFBQVEsd0RBQU0sV0FBVyx3REFBTTtBQUMvQixlQUFlLHdEQUFNO0FBQ3JCO0FBQ0E7QUFDQSxRQUFRLHdEQUFNLFdBQVcsd0RBQU07QUFDL0IsK0JBQStCLHdEQUFNO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0Bub2JsZS9oYXNoZXMvZXNtL3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXRpbGl0aWVzIGZvciBoZXgsIGJ5dGVzLCBDU1BSTkcuXG4gKiBAbW9kdWxlXG4gKi9cbi8qISBub2JsZS1oYXNoZXMgLSBNSVQgTGljZW5zZSAoYykgMjAyMiBQYXVsIE1pbGxlciAocGF1bG1pbGxyLmNvbSkgKi9cbi8vIFdlIHVzZSBXZWJDcnlwdG8gYWthIGdsb2JhbFRoaXMuY3J5cHRvLCB3aGljaCBleGlzdHMgaW4gYnJvd3NlcnMgYW5kIG5vZGUuanMgMTYrLlxuLy8gbm9kZS5qcyB2ZXJzaW9ucyBlYXJsaWVyIHRoYW4gdjE5IGRvbid0IGRlY2xhcmUgaXQgaW4gZ2xvYmFsIHNjb3BlLlxuLy8gRm9yIG5vZGUuanMsIHBhY2thZ2UuanNvbiNleHBvcnRzIGZpZWxkIG1hcHBpbmcgcmV3cml0ZXMgaW1wb3J0XG4vLyBmcm9tIGBjcnlwdG9gIHRvIGBjcnlwdG9Ob2RlYCwgd2hpY2ggaW1wb3J0cyBuYXRpdmUgbW9kdWxlLlxuLy8gTWFrZXMgdGhlIHV0aWxzIHVuLWltcG9ydGFibGUgaW4gYnJvd3NlcnMgd2l0aG91dCBhIGJ1bmRsZXIuXG4vLyBPbmNlIG5vZGUuanMgMTggaXMgZGVwcmVjYXRlZCAoMjAyNS0wNC0zMCksIHdlIGNhbiBqdXN0IGRyb3AgdGhlIGltcG9ydC5cbmltcG9ydCB7IGNyeXB0byB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvY3J5cHRvJztcbi8qKiBDaGVja3MgaWYgc29tZXRoaW5nIGlzIFVpbnQ4QXJyYXkuIEJlIGNhcmVmdWw6IG5vZGVqcyBCdWZmZXIgd2lsbCByZXR1cm4gdHJ1ZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0J5dGVzKGEpIHtcbiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgKEFycmF5QnVmZmVyLmlzVmlldyhhKSAmJiBhLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdVaW50OEFycmF5Jyk7XG59XG4vKiogQXNzZXJ0cyBzb21ldGhpbmcgaXMgcG9zaXRpdmUgaW50ZWdlci4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbnVtYmVyKG4pIHtcbiAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKG4pIHx8IG4gPCAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bvc2l0aXZlIGludGVnZXIgZXhwZWN0ZWQsIGdvdCAnICsgbik7XG59XG4vKiogQXNzZXJ0cyBzb21ldGhpbmcgaXMgVWludDhBcnJheS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhYnl0ZXMoYiwgLi4ubGVuZ3Rocykge1xuICAgIGlmICghaXNCeXRlcyhiKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVaW50OEFycmF5IGV4cGVjdGVkJyk7XG4gICAgaWYgKGxlbmd0aHMubGVuZ3RoID4gMCAmJiAhbGVuZ3Rocy5pbmNsdWRlcyhiLmxlbmd0aCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggJyArIGxlbmd0aHMgKyAnLCBnb3QgbGVuZ3RoPScgKyBiLmxlbmd0aCk7XG59XG4vKiogQXNzZXJ0cyBzb21ldGhpbmcgaXMgaGFzaCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFoYXNoKGgpIHtcbiAgICBpZiAodHlwZW9mIGggIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGguY3JlYXRlICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hhc2ggc2hvdWxkIGJlIHdyYXBwZWQgYnkgdXRpbHMuY3JlYXRlSGFzaGVyJyk7XG4gICAgYW51bWJlcihoLm91dHB1dExlbik7XG4gICAgYW51bWJlcihoLmJsb2NrTGVuKTtcbn1cbi8qKiBBc3NlcnRzIGEgaGFzaCBpbnN0YW5jZSBoYXMgbm90IGJlZW4gZGVzdHJveWVkIC8gZmluaXNoZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBhZXhpc3RzKGluc3RhbmNlLCBjaGVja0ZpbmlzaGVkID0gdHJ1ZSkge1xuICAgIGlmIChpbnN0YW5jZS5kZXN0cm95ZWQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQnKTtcbiAgICBpZiAoY2hlY2tGaW5pc2hlZCAmJiBpbnN0YW5jZS5maW5pc2hlZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkJyk7XG59XG4vKiogQXNzZXJ0cyBvdXRwdXQgaXMgcHJvcGVybHktc2l6ZWQgYnl0ZSBhcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFvdXRwdXQob3V0LCBpbnN0YW5jZSkge1xuICAgIGFieXRlcyhvdXQpO1xuICAgIGNvbnN0IG1pbiA9IGluc3RhbmNlLm91dHB1dExlbjtcbiAgICBpZiAob3V0Lmxlbmd0aCA8IG1pbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0ICcgKyBtaW4pO1xuICAgIH1cbn1cbi8qKiBDYXN0IHU4IC8gdTE2IC8gdTMyIHRvIHU4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHU4KGFycikge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShhcnIuYnVmZmVyLCBhcnIuYnl0ZU9mZnNldCwgYXJyLmJ5dGVMZW5ndGgpO1xufVxuLyoqIENhc3QgdTggLyB1MTYgLyB1MzIgdG8gdTMyLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHUzMihhcnIpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KGFyci5idWZmZXIsIGFyci5ieXRlT2Zmc2V0LCBNYXRoLmZsb29yKGFyci5ieXRlTGVuZ3RoIC8gNCkpO1xufVxuLyoqIFplcm9pemUgYSBieXRlIGFycmF5LiBXYXJuaW5nOiBKUyBwcm92aWRlcyBubyBndWFyYW50ZWVzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuKC4uLmFycmF5cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5c1tpXS5maWxsKDApO1xuICAgIH1cbn1cbi8qKiBDcmVhdGUgRGF0YVZpZXcgb2YgYW4gYXJyYXkgZm9yIGVhc3kgYnl0ZS1sZXZlbCBtYW5pcHVsYXRpb24uICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVmlldyhhcnIpIHtcbiAgICByZXR1cm4gbmV3IERhdGFWaWV3KGFyci5idWZmZXIsIGFyci5ieXRlT2Zmc2V0LCBhcnIuYnl0ZUxlbmd0aCk7XG59XG4vKiogVGhlIHJvdGF0ZSByaWdodCAoY2lyY3VsYXIgcmlnaHQgc2hpZnQpIG9wZXJhdGlvbiBmb3IgdWludDMyICovXG5leHBvcnQgZnVuY3Rpb24gcm90cih3b3JkLCBzaGlmdCkge1xuICAgIHJldHVybiAod29yZCA8PCAoMzIgLSBzaGlmdCkpIHwgKHdvcmQgPj4+IHNoaWZ0KTtcbn1cbi8qKiBUaGUgcm90YXRlIGxlZnQgKGNpcmN1bGFyIGxlZnQgc2hpZnQpIG9wZXJhdGlvbiBmb3IgdWludDMyICovXG5leHBvcnQgZnVuY3Rpb24gcm90bCh3b3JkLCBzaGlmdCkge1xuICAgIHJldHVybiAod29yZCA8PCBzaGlmdCkgfCAoKHdvcmQgPj4+ICgzMiAtIHNoaWZ0KSkgPj4+IDApO1xufVxuLyoqIElzIGN1cnJlbnQgcGxhdGZvcm0gbGl0dGxlLWVuZGlhbj8gTW9zdCBhcmUuIEJpZy1FbmRpYW4gcGxhdGZvcm06IElCTSAqL1xuZXhwb3J0IGNvbnN0IGlzTEUgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IG5ldyBVaW50OEFycmF5KG5ldyBVaW50MzJBcnJheShbMHgxMTIyMzM0NF0pLmJ1ZmZlcilbMF0gPT09IDB4NDQpKCk7XG4vKiogVGhlIGJ5dGUgc3dhcCBvcGVyYXRpb24gZm9yIHVpbnQzMiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVTd2FwKHdvcmQpIHtcbiAgICByZXR1cm4gKCgod29yZCA8PCAyNCkgJiAweGZmMDAwMDAwKSB8XG4gICAgICAgICgod29yZCA8PCA4KSAmIDB4ZmYwMDAwKSB8XG4gICAgICAgICgod29yZCA+Pj4gOCkgJiAweGZmMDApIHxcbiAgICAgICAgKCh3b3JkID4+PiAyNCkgJiAweGZmKSk7XG59XG4vKiogQ29uZGl0aW9uYWxseSBieXRlIHN3YXAgaWYgb24gYSBiaWctZW5kaWFuIHBsYXRmb3JtICovXG5leHBvcnQgY29uc3Qgc3dhcDhJZkJFID0gaXNMRVxuICAgID8gKG4pID0+IG5cbiAgICA6IChuKSA9PiBieXRlU3dhcChuKTtcbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGNvbnN0IGJ5dGVTd2FwSWZCRSA9IHN3YXA4SWZCRTtcbi8qKiBJbiBwbGFjZSBieXRlIHN3YXAgZm9yIFVpbnQzMkFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gYnl0ZVN3YXAzMihhcnIpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBieXRlU3dhcChhcnJbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xufVxuZXhwb3J0IGNvbnN0IHN3YXAzMklmQkUgPSBpc0xFXG4gICAgPyAodSkgPT4gdVxuICAgIDogYnl0ZVN3YXAzMjtcbi8vIEJ1aWx0LWluIGhleCBjb252ZXJzaW9uIGh0dHBzOi8vY2FuaXVzZS5jb20vbWRuLWphdmFzY3JpcHRfYnVpbHRpbnNfdWludDhhcnJheV9mcm9taGV4XG5jb25zdCBoYXNIZXhCdWlsdGluID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBcbi8vIEB0cy1pZ25vcmVcbnR5cGVvZiBVaW50OEFycmF5LmZyb20oW10pLnRvSGV4ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBVaW50OEFycmF5LmZyb21IZXggPT09ICdmdW5jdGlvbicpKCk7XG4vLyBBcnJheSB3aGVyZSBpbmRleCAweGYwICgyNDApIGlzIG1hcHBlZCB0byBzdHJpbmcgJ2YwJ1xuY29uc3QgaGV4ZXMgPSAvKiBAX19QVVJFX18gKi8gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjU2IH0sIChfLCBpKSA9PiBpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKTtcbi8qKlxuICogQ29udmVydCBieXRlIGFycmF5IHRvIGhleCBzdHJpbmcuIFVzZXMgYnVpbHQtaW4gZnVuY3Rpb24sIHdoZW4gYXZhaWxhYmxlLlxuICogQGV4YW1wbGUgYnl0ZXNUb0hleChVaW50OEFycmF5LmZyb20oWzB4Y2EsIDB4ZmUsIDB4MDEsIDB4MjNdKSkgLy8gJ2NhZmUwMTIzJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNUb0hleChieXRlcykge1xuICAgIGFieXRlcyhieXRlcyk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChoYXNIZXhCdWlsdGluKVxuICAgICAgICByZXR1cm4gYnl0ZXMudG9IZXgoKTtcbiAgICAvLyBwcmUtY2FjaGluZyBpbXByb3ZlcyB0aGUgc3BlZWQgNnhcbiAgICBsZXQgaGV4ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBoZXggKz0gaGV4ZXNbYnl0ZXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gaGV4O1xufVxuLy8gV2UgdXNlIG9wdGltaXplZCB0ZWNobmlxdWUgdG8gY29udmVydCBoZXggc3RyaW5nIHRvIGJ5dGUgYXJyYXlcbmNvbnN0IGFzY2lpcyA9IHsgXzA6IDQ4LCBfOTogNTcsIEE6IDY1LCBGOiA3MCwgYTogOTcsIGY6IDEwMiB9O1xuZnVuY3Rpb24gYXNjaWlUb0Jhc2UxNihjaCkge1xuICAgIGlmIChjaCA+PSBhc2NpaXMuXzAgJiYgY2ggPD0gYXNjaWlzLl85KVxuICAgICAgICByZXR1cm4gY2ggLSBhc2NpaXMuXzA7IC8vICcyJyA9PiA1MC00OFxuICAgIGlmIChjaCA+PSBhc2NpaXMuQSAmJiBjaCA8PSBhc2NpaXMuRilcbiAgICAgICAgcmV0dXJuIGNoIC0gKGFzY2lpcy5BIC0gMTApOyAvLyAnQicgPT4gNjYtKDY1LTEwKVxuICAgIGlmIChjaCA+PSBhc2NpaXMuYSAmJiBjaCA8PSBhc2NpaXMuZilcbiAgICAgICAgcmV0dXJuIGNoIC0gKGFzY2lpcy5hIC0gMTApOyAvLyAnYicgPT4gOTgtKDk3LTEwKVxuICAgIHJldHVybjtcbn1cbi8qKlxuICogQ29udmVydCBoZXggc3RyaW5nIHRvIGJ5dGUgYXJyYXkuIFVzZXMgYnVpbHQtaW4gZnVuY3Rpb24sIHdoZW4gYXZhaWxhYmxlLlxuICogQGV4YW1wbGUgaGV4VG9CeXRlcygnY2FmZTAxMjMnKSAvLyBVaW50OEFycmF5LmZyb20oWzB4Y2EsIDB4ZmUsIDB4MDEsIDB4MjNdKVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9CeXRlcyhoZXgpIHtcbiAgICBpZiAodHlwZW9mIGhleCAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290ICcgKyB0eXBlb2YgaGV4KTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGhhc0hleEJ1aWx0aW4pXG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LmZyb21IZXgoaGV4KTtcbiAgICBjb25zdCBobCA9IGhleC5sZW5ndGg7XG4gICAgY29uc3QgYWwgPSBobCAvIDI7XG4gICAgaWYgKGhsICUgMilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgdW5wYWRkZWQgaGV4IG9mIGxlbmd0aCAnICsgaGwpO1xuICAgIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYWwpO1xuICAgIGZvciAobGV0IGFpID0gMCwgaGkgPSAwOyBhaSA8IGFsOyBhaSsrLCBoaSArPSAyKSB7XG4gICAgICAgIGNvbnN0IG4xID0gYXNjaWlUb0Jhc2UxNihoZXguY2hhckNvZGVBdChoaSkpO1xuICAgICAgICBjb25zdCBuMiA9IGFzY2lpVG9CYXNlMTYoaGV4LmNoYXJDb2RlQXQoaGkgKyAxKSk7XG4gICAgICAgIGlmIChuMSA9PT0gdW5kZWZpbmVkIHx8IG4yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBoZXhbaGldICsgaGV4W2hpICsgMV07XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBub24taGV4IGNoYXJhY3RlciBcIicgKyBjaGFyICsgJ1wiIGF0IGluZGV4ICcgKyBoaSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJyYXlbYWldID0gbjEgKiAxNiArIG4yOyAvLyBtdWx0aXBseSBmaXJzdCBvY3RldCwgZS5nLiAnYTMnID0+IDEwKjE2KzMgPT4gMTYwICsgMyA9PiAxNjNcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuLyoqXG4gKiBUaGVyZSBpcyBubyBzZXRJbW1lZGlhdGUgaW4gYnJvd3NlciBhbmQgc2V0VGltZW91dCBpcyBzbG93LlxuICogQ2FsbCBvZiBhc3luYyBmbiB3aWxsIHJldHVybiBQcm9taXNlLCB3aGljaCB3aWxsIGJlIGZ1bGxmaWxlZCBvbmx5IG9uXG4gKiBuZXh0IHNjaGVkdWxlciBxdWV1ZSBwcm9jZXNzaW5nIHN0ZXAgYW5kIHRoaXMgaXMgZXhhY3RseSB3aGF0IHdlIG5lZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBuZXh0VGljayA9IGFzeW5jICgpID0+IHsgfTtcbi8qKiBSZXR1cm5zIGNvbnRyb2wgdG8gdGhyZWFkIGVhY2ggJ3RpY2snIG1zIHRvIGF2b2lkIGJsb2NraW5nLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzeW5jTG9vcChpdGVycywgdGljaywgY2IpIHtcbiAgICBsZXQgdHMgPSBEYXRlLm5vdygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcnM7IGkrKykge1xuICAgICAgICBjYihpKTtcbiAgICAgICAgLy8gRGF0ZS5ub3coKSBpcyBub3QgbW9ub3RvbmljLCBzbyBpbiBjYXNlIGlmIGNsb2NrIGdvZXMgYmFja3dhcmRzIHdlIHJldHVybiByZXR1cm4gY29udHJvbCB0b29cbiAgICAgICAgY29uc3QgZGlmZiA9IERhdGUubm93KCkgLSB0cztcbiAgICAgICAgaWYgKGRpZmYgPj0gMCAmJiBkaWZmIDwgdGljaylcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBhd2FpdCBuZXh0VGljaygpO1xuICAgICAgICB0cyArPSBkaWZmO1xuICAgIH1cbn1cbi8qKlxuICogQ29udmVydHMgc3RyaW5nIHRvIGJ5dGVzIHVzaW5nIFVURjggZW5jb2RpbmcuXG4gKiBAZXhhbXBsZSB1dGY4VG9CeXRlcygnYWJjJykgLy8gVWludDhBcnJheS5mcm9tKFs5NywgOTgsIDk5XSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV0ZjhUb0J5dGVzKHN0cikge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHN0cikpOyAvLyBodHRwczovL2J1Z3ppbC5sYS8xNjgxODA5XG59XG4vKipcbiAqIENvbnZlcnRzIGJ5dGVzIHRvIHN0cmluZyB1c2luZyBVVEY4IGVuY29kaW5nLlxuICogQGV4YW1wbGUgYnl0ZXNUb1V0ZjgoVWludDhBcnJheS5mcm9tKFs5NywgOTgsIDk5XSkpIC8vICdhYmMnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvVXRmOChieXRlcykge1xuICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoYnl0ZXMpO1xufVxuLyoqXG4gKiBOb3JtYWxpemVzIChub24taGV4KSBzdHJpbmcgb3IgVWludDhBcnJheSB0byBVaW50OEFycmF5LlxuICogV2FybmluZzogd2hlbiBVaW50OEFycmF5IGlzIHBhc3NlZCwgaXQgd291bGQgTk9UIGdldCBjb3BpZWQuXG4gKiBLZWVwIGluIG1pbmQgZm9yIGZ1dHVyZSBtdXRhYmxlIG9wZXJhdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0J5dGVzKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKVxuICAgICAgICBkYXRhID0gdXRmOFRvQnl0ZXMoZGF0YSk7XG4gICAgYWJ5dGVzKGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xufVxuLyoqXG4gKiBIZWxwZXIgZm9yIEtERnM6IGNvbnN1bWVzIHVpbnQ4YXJyYXkgb3Igc3RyaW5nLlxuICogV2hlbiBzdHJpbmcgaXMgcGFzc2VkLCBkb2VzIHV0ZjggZGVjb2RpbmcsIHVzaW5nIFRleHREZWNvZGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24ga2RmSW5wdXRUb0J5dGVzKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKVxuICAgICAgICBkYXRhID0gdXRmOFRvQnl0ZXMoZGF0YSk7XG4gICAgYWJ5dGVzKGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xufVxuLyoqIENvcGllcyBzZXZlcmFsIFVpbnQ4QXJyYXlzIGludG8gb25lLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdEJ5dGVzKC4uLmFycmF5cykge1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGEgPSBhcnJheXNbaV07XG4gICAgICAgIGFieXRlcyhhKTtcbiAgICAgICAgc3VtICs9IGEubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBuZXcgVWludDhBcnJheShzdW0pO1xuICAgIGZvciAobGV0IGkgPSAwLCBwYWQgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGEgPSBhcnJheXNbaV07XG4gICAgICAgIHJlcy5zZXQoYSwgcGFkKTtcbiAgICAgICAgcGFkICs9IGEubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrT3B0cyhkZWZhdWx0cywgb3B0cykge1xuICAgIGlmIChvcHRzICE9PSB1bmRlZmluZWQgJiYge30udG9TdHJpbmcuY2FsbChvcHRzKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb3B0aW9ucyBzaG91bGQgYmUgb2JqZWN0IG9yIHVuZGVmaW5lZCcpO1xuICAgIGNvbnN0IG1lcmdlZCA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIG9wdHMpO1xuICAgIHJldHVybiBtZXJnZWQ7XG59XG4vKiogRm9yIHJ1bnRpbWUgY2hlY2sgaWYgY2xhc3MgaW1wbGVtZW50cyBpbnRlcmZhY2UgKi9cbmV4cG9ydCBjbGFzcyBIYXNoIHtcbn1cbi8qKiBXcmFwcyBoYXNoIGZ1bmN0aW9uLCBjcmVhdGluZyBhbiBpbnRlcmZhY2Ugb24gdG9wIG9mIGl0ICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFzaGVyKGhhc2hDb25zKSB7XG4gICAgY29uc3QgaGFzaEMgPSAobXNnKSA9PiBoYXNoQ29ucygpLnVwZGF0ZSh0b0J5dGVzKG1zZykpLmRpZ2VzdCgpO1xuICAgIGNvbnN0IHRtcCA9IGhhc2hDb25zKCk7XG4gICAgaGFzaEMub3V0cHV0TGVuID0gdG1wLm91dHB1dExlbjtcbiAgICBoYXNoQy5ibG9ja0xlbiA9IHRtcC5ibG9ja0xlbjtcbiAgICBoYXNoQy5jcmVhdGUgPSAoKSA9PiBoYXNoQ29ucygpO1xuICAgIHJldHVybiBoYXNoQztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPcHRIYXNoZXIoaGFzaENvbnMpIHtcbiAgICBjb25zdCBoYXNoQyA9IChtc2csIG9wdHMpID0+IGhhc2hDb25zKG9wdHMpLnVwZGF0ZSh0b0J5dGVzKG1zZykpLmRpZ2VzdCgpO1xuICAgIGNvbnN0IHRtcCA9IGhhc2hDb25zKHt9KTtcbiAgICBoYXNoQy5vdXRwdXRMZW4gPSB0bXAub3V0cHV0TGVuO1xuICAgIGhhc2hDLmJsb2NrTGVuID0gdG1wLmJsb2NrTGVuO1xuICAgIGhhc2hDLmNyZWF0ZSA9IChvcHRzKSA9PiBoYXNoQ29ucyhvcHRzKTtcbiAgICByZXR1cm4gaGFzaEM7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlWE9GZXIoaGFzaENvbnMpIHtcbiAgICBjb25zdCBoYXNoQyA9IChtc2csIG9wdHMpID0+IGhhc2hDb25zKG9wdHMpLnVwZGF0ZSh0b0J5dGVzKG1zZykpLmRpZ2VzdCgpO1xuICAgIGNvbnN0IHRtcCA9IGhhc2hDb25zKHt9KTtcbiAgICBoYXNoQy5vdXRwdXRMZW4gPSB0bXAub3V0cHV0TGVuO1xuICAgIGhhc2hDLmJsb2NrTGVuID0gdG1wLmJsb2NrTGVuO1xuICAgIGhhc2hDLmNyZWF0ZSA9IChvcHRzKSA9PiBoYXNoQ29ucyhvcHRzKTtcbiAgICByZXR1cm4gaGFzaEM7XG59XG5leHBvcnQgY29uc3Qgd3JhcENvbnN0cnVjdG9yID0gY3JlYXRlSGFzaGVyO1xuZXhwb3J0IGNvbnN0IHdyYXBDb25zdHJ1Y3RvcldpdGhPcHRzID0gY3JlYXRlT3B0SGFzaGVyO1xuZXhwb3J0IGNvbnN0IHdyYXBYT0ZDb25zdHJ1Y3RvcldpdGhPcHRzID0gY3JlYXRlWE9GZXI7XG4vKiogQ3J5cHRvZ3JhcGhpY2FsbHkgc2VjdXJlIFBSTkcuIFVzZXMgaW50ZXJuYWwgT1MtbGV2ZWwgYGNyeXB0by5nZXRSYW5kb21WYWx1ZXNgLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUJ5dGVzKGJ5dGVzTGVuZ3RoID0gMzIpIHtcbiAgICBpZiAoY3J5cHRvICYmIHR5cGVvZiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGJ5dGVzTGVuZ3RoKSk7XG4gICAgfVxuICAgIC8vIExlZ2FjeSBOb2RlLmpzIGNvbXBhdGliaWxpdHlcbiAgICBpZiAoY3J5cHRvICYmIHR5cGVvZiBjcnlwdG8ucmFuZG9tQnl0ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShjcnlwdG8ucmFuZG9tQnl0ZXMoYnl0ZXNMZW5ndGgpKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG11c3QgYmUgZGVmaW5lZCcpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/core/dist/index.es.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/core/dist/index.es.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CORE_CONTEXT: () => (/* binding */ pe),\n/* harmony export */   CORE_DEFAULT: () => (/* binding */ It),\n/* harmony export */   CORE_PROTOCOL: () => (/* binding */ Ue),\n/* harmony export */   CORE_STORAGE_OPTIONS: () => (/* binding */ Tt),\n/* harmony export */   CORE_STORAGE_PREFIX: () => (/* binding */ W),\n/* harmony export */   CORE_VERSION: () => (/* binding */ Fe),\n/* harmony export */   CRYPTO_CLIENT_SEED: () => (/* binding */ Me),\n/* harmony export */   CRYPTO_CONTEXT: () => (/* binding */ Ct),\n/* harmony export */   CRYPTO_JWT_TTL: () => (/* binding */ Pt),\n/* harmony export */   Core: () => (/* binding */ ta),\n/* harmony export */   Crypto: () => (/* binding */ Ei),\n/* harmony export */   ECHO_CONTEXT: () => (/* binding */ Qt),\n/* harmony export */   ECHO_URL: () => (/* binding */ ei),\n/* harmony export */   EVENTS_CLIENT_API_URL: () => (/* binding */ ri),\n/* harmony export */   EVENTS_STORAGE_CLEANUP_INTERVAL: () => (/* binding */ si),\n/* harmony export */   EVENTS_STORAGE_CONTEXT: () => (/* binding */ ii),\n/* harmony export */   EVENTS_STORAGE_VERSION: () => (/* binding */ ti),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_ERRORS: () => (/* binding */ ar),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_TRACES: () => (/* binding */ or),\n/* harmony export */   EVENT_CLIENT_CONTEXT: () => (/* binding */ sr),\n/* harmony export */   EVENT_CLIENT_PAIRING_ERRORS: () => (/* binding */ X),\n/* harmony export */   EVENT_CLIENT_PAIRING_TRACES: () => (/* binding */ Y),\n/* harmony export */   EVENT_CLIENT_SESSION_ERRORS: () => (/* binding */ nr),\n/* harmony export */   EVENT_CLIENT_SESSION_TRACES: () => (/* binding */ rr),\n/* harmony export */   EXPIRER_CONTEXT: () => (/* binding */ Wt),\n/* harmony export */   EXPIRER_DEFAULT_TTL: () => (/* binding */ tr),\n/* harmony export */   EXPIRER_EVENTS: () => (/* binding */ q),\n/* harmony export */   EXPIRER_STORAGE_VERSION: () => (/* binding */ Ht),\n/* harmony export */   EchoClient: () => (/* binding */ qi),\n/* harmony export */   EventClient: () => (/* binding */ Wi),\n/* harmony export */   Expirer: () => (/* binding */ Ki),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ qt),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ V),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Gt),\n/* harmony export */   JsonRpcHistory: () => (/* binding */ Mi),\n/* harmony export */   KEYCHAIN_CONTEXT: () => (/* binding */ St),\n/* harmony export */   KEYCHAIN_STORAGE_VERSION: () => (/* binding */ Ot),\n/* harmony export */   KeyChain: () => (/* binding */ _i),\n/* harmony export */   MESSAGES_CONTEXT: () => (/* binding */ Rt),\n/* harmony export */   MESSAGES_STORAGE_VERSION: () => (/* binding */ At),\n/* harmony export */   MESSAGE_DIRECTION: () => (/* binding */ ye),\n/* harmony export */   MessageTracker: () => (/* binding */ Ti),\n/* harmony export */   PAIRING_CONTEXT: () => (/* binding */ Bt),\n/* harmony export */   PAIRING_DEFAULT_TTL: () => (/* binding */ er),\n/* harmony export */   PAIRING_EVENTS: () => (/* binding */ ae),\n/* harmony export */   PAIRING_RPC_OPTS: () => (/* binding */ oe),\n/* harmony export */   PAIRING_STORAGE_VERSION: () => (/* binding */ Vt),\n/* harmony export */   PENDING_SUB_RESOLUTION_TIMEOUT: () => (/* binding */ Qs),\n/* harmony export */   PUBLISHER_CONTEXT: () => (/* binding */ Nt),\n/* harmony export */   PUBLISHER_DEFAULT_TTL: () => (/* binding */ xt),\n/* harmony export */   Pairing: () => (/* binding */ Fi),\n/* harmony export */   RELAYER_CONTEXT: () => (/* binding */ Lt),\n/* harmony export */   RELAYER_DEFAULT_LOGGER: () => (/* binding */ zt),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ $t),\n/* harmony export */   RELAYER_DEFAULT_RELAY_URL: () => (/* binding */ Ke),\n/* harmony export */   RELAYER_EVENTS: () => (/* binding */ C),\n/* harmony export */   RELAYER_PROVIDER_EVENTS: () => (/* binding */ M),\n/* harmony export */   RELAYER_RECONNECT_TIMEOUT: () => (/* binding */ jt),\n/* harmony export */   RELAYER_SDK_VERSION: () => (/* binding */ Pe),\n/* harmony export */   RELAYER_STORAGE_OPTIONS: () => (/* binding */ Js),\n/* harmony export */   RELAYER_SUBSCRIBER_SUFFIX: () => (/* binding */ kt),\n/* harmony export */   RELAYER_TRANSPORT_CUTOFF: () => (/* binding */ Xs),\n/* harmony export */   Relayer: () => (/* binding */ xi),\n/* harmony export */   STORE_STORAGE_VERSION: () => (/* binding */ Ut),\n/* harmony export */   SUBSCRIBER_CONTEXT: () => (/* binding */ Mt),\n/* harmony export */   SUBSCRIBER_DEFAULT_TTL: () => (/* binding */ Zs),\n/* harmony export */   SUBSCRIBER_EVENTS: () => (/* binding */ U),\n/* harmony export */   SUBSCRIBER_STORAGE_VERSION: () => (/* binding */ Kt),\n/* harmony export */   Store: () => (/* binding */ Ui),\n/* harmony export */   Subscriber: () => (/* binding */ Oi),\n/* harmony export */   TRANSPORT_TYPES: () => (/* binding */ ee),\n/* harmony export */   TRUSTED_VERIFY_URLS: () => (/* binding */ Zt),\n/* harmony export */   VERIFY_CONTEXT: () => (/* binding */ Yt),\n/* harmony export */   VERIFY_SERVER: () => (/* binding */ be),\n/* harmony export */   VERIFY_SERVER_V3: () => (/* binding */ Xt),\n/* harmony export */   Verify: () => (/* binding */ Bi),\n/* harmony export */   WALLETCONNECT_CLIENT_ID: () => (/* binding */ Ft),\n/* harmony export */   WALLETCONNECT_LINK_MODE_APPS: () => (/* binding */ Be),\n/* harmony export */   \"default\": () => (/* binding */ Oe)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/heartbeat */ \"(ssr)/./node_modules/@walletconnect/heartbeat/dist/index.es.js\");\n/* harmony import */ var _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/keyvaluestorage */ \"(ssr)/./node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @walletconnect/jsonrpc-ws-connection */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\nconst Ue=\"wc\",Fe=2,pe=\"core\",W=`${Ue}@2:${pe}:`,It={name:pe,logger:\"error\"},Tt={database:\":memory:\"},Ct=\"crypto\",Me=\"client_ed25519_seed\",Pt=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,St=\"keychain\",Ot=\"0.3\",Rt=\"messages\",At=\"0.3\",xt=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.SIX_HOURS,Nt=\"publisher\",$t=\"irn\",zt=\"error\",Ke=\"wss://relay.walletconnect.org\",Lt=\"relayer\",C={message:\"relayer_message\",message_ack:\"relayer_message_ack\",connect:\"relayer_connect\",disconnect:\"relayer_disconnect\",error:\"relayer_error\",connection_stalled:\"relayer_connection_stalled\",transport_closed:\"relayer_transport_closed\",publish:\"relayer_publish\"},kt=\"_subscription\",M={payload:\"payload\",connect:\"connect\",disconnect:\"disconnect\",error:\"error\"},jt=.1,Js={database:\":memory:\"},Pe=\"2.21.9\",Xs=1e4,ee={link_mode:\"link_mode\",relay:\"relay\"},ye={inbound:\"inbound\",outbound:\"outbound\"},Ut=\"0.3\",Ft=\"WALLETCONNECT_CLIENT_ID\",Be=\"WALLETCONNECT_LINK_MODE_APPS\",U={created:\"subscription_created\",deleted:\"subscription_deleted\",expired:\"subscription_expired\",disabled:\"subscription_disabled\",sync:\"subscription_sync\",resubscribed:\"subscription_resubscribed\"},Zs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,Mt=\"subscription\",Kt=\"0.3\",Qs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS*1e3,Bt=\"pairing\",Vt=\"0.3\",er=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,oe={wc_pairingDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0}}},ae={create:\"pairing_create\",expire:\"pairing_expire\",delete:\"pairing_delete\",ping:\"pairing_ping\"},V={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},qt=\"history\",Gt=\"0.3\",Wt=\"expirer\",q={created:\"expirer_created\",deleted:\"expirer_deleted\",expired:\"expirer_expired\",sync:\"expirer_sync\"},Ht=\"0.3\",tr=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Yt=\"verify-api\",ir=\"https://verify.walletconnect.com\",Jt=\"https://verify.walletconnect.org\",be=Jt,Xt=`${be}/v3`,Zt=[ir,Jt],Qt=\"echo\",ei=\"https://echo.walletconnect.com\",sr=\"event-client\",Y={pairing_started:\"pairing_started\",pairing_uri_validation_success:\"pairing_uri_validation_success\",pairing_uri_not_expired:\"pairing_uri_not_expired\",store_new_pairing:\"store_new_pairing\",subscribing_pairing_topic:\"subscribing_pairing_topic\",subscribe_pairing_topic_success:\"subscribe_pairing_topic_success\",existing_pairing:\"existing_pairing\",pairing_not_expired:\"pairing_not_expired\",emit_inactive_pairing:\"emit_inactive_pairing\",emit_session_proposal:\"emit_session_proposal\",subscribing_to_pairing_topic:\"subscribing_to_pairing_topic\"},X={no_wss_connection:\"no_wss_connection\",no_internet_connection:\"no_internet_connection\",malformed_pairing_uri:\"malformed_pairing_uri\",active_pairing_already_exists:\"active_pairing_already_exists\",subscribe_pairing_topic_failure:\"subscribe_pairing_topic_failure\",pairing_expired:\"pairing_expired\",proposal_expired:\"proposal_expired\",proposal_listener_not_found:\"proposal_listener_not_found\"},rr={session_approve_started:\"session_approve_started\",proposal_not_expired:\"proposal_not_expired\",session_namespaces_validation_success:\"session_namespaces_validation_success\",create_session_topic:\"create_session_topic\",subscribing_session_topic:\"subscribing_session_topic\",subscribe_session_topic_success:\"subscribe_session_topic_success\",publishing_session_approve:\"publishing_session_approve\",session_approve_publish_success:\"session_approve_publish_success\",store_session:\"store_session\",publishing_session_settle:\"publishing_session_settle\",session_settle_publish_success:\"session_settle_publish_success\"},nr={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",proposal_expired:\"proposal_expired\",subscribe_session_topic_failure:\"subscribe_session_topic_failure\",session_approve_publish_failure:\"session_approve_publish_failure\",session_settle_publish_failure:\"session_settle_publish_failure\",session_approve_namespace_validation_failure:\"session_approve_namespace_validation_failure\",proposal_not_found:\"proposal_not_found\"},or={authenticated_session_approve_started:\"authenticated_session_approve_started\",authenticated_session_not_expired:\"authenticated_session_not_expired\",chains_caip2_compliant:\"chains_caip2_compliant\",chains_evm_compliant:\"chains_evm_compliant\",create_authenticated_session_topic:\"create_authenticated_session_topic\",cacaos_verified:\"cacaos_verified\",store_authenticated_session:\"store_authenticated_session\",subscribing_authenticated_session_topic:\"subscribing_authenticated_session_topic\",subscribe_authenticated_session_topic_success:\"subscribe_authenticated_session_topic_success\",publishing_authenticated_session_approve:\"publishing_authenticated_session_approve\",authenticated_session_approve_publish_success:\"authenticated_session_approve_publish_success\"},ar={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",missing_session_authenticate_request:\"missing_session_authenticate_request\",session_authenticate_request_expired:\"session_authenticate_request_expired\",chains_caip2_compliant_failure:\"chains_caip2_compliant_failure\",chains_evm_compliant_failure:\"chains_evm_compliant_failure\",invalid_cacao:\"invalid_cacao\",subscribe_authenticated_session_topic_failure:\"subscribe_authenticated_session_topic_failure\",authenticated_session_approve_publish_failure:\"authenticated_session_approve_publish_failure\",authenticated_session_pending_request_not_found:\"authenticated_session_pending_request_not_found\"},ti=.1,ii=\"event-client\",si=86400,ri=\"https://pulse.walletconnect.org/batch\";function cr(r,e){if(r.length>=255)throw new TypeError(\"Alphabet too long\");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+\" is ambiguous\");t[o]=s}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function p(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(u.length===0)return\"\";for(var m=0,D=0,_=0,E=u.length;_!==E&&u[_]===0;)_++,m++;for(var L=(E-_)*l+1>>>0,I=new Uint8Array(L);_!==E;){for(var k=u[_],T=0,S=L-1;(k!==0||T<D)&&S!==-1;S--,T++)k+=256*I[S]>>>0,I[S]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error(\"Non-zero carry\");D=T,_++}for(var O=L-D;O!==L&&I[O]===0;)O++;for(var te=c.repeat(m);O<L;++O)te+=r.charAt(I[O]);return te}function y(u){if(typeof u!=\"string\")throw new TypeError(\"Expected String\");if(u.length===0)return new Uint8Array;var m=0;if(u[m]!==\" \"){for(var D=0,_=0;u[m]===c;)D++,m++;for(var E=(u.length-m)*h+1>>>0,L=new Uint8Array(E);u[m];){var I=t[u.charCodeAt(m)];if(I===255)return;for(var k=0,T=E-1;(I!==0||k<_)&&T!==-1;T--,k++)I+=a*L[T]>>>0,L[T]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error(\"Non-zero carry\");_=k,m++}if(u[m]!==\" \"){for(var S=E-_;S!==E&&L[S]===0;)S++;for(var O=new Uint8Array(D+(E-S)),te=D;S!==E;)O[te++]=L[S++];return O}}}function w(u){var m=y(u);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:y,decode:w}}var hr=cr,lr=hr;const ni=r=>{if(r instanceof Uint8Array&&r.constructor.name===\"Uint8Array\")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error(\"Unknown type, must be binary type\")},ur=r=>new TextEncoder().encode(r),dr=r=>new TextDecoder().decode(r);class gr{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class pr{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return oi(this,e)}}class yr{constructor(e){this.decoders=e}or(e){return oi(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const oi=(r,e)=>new yr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class br{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new gr(e,t,i),this.decoder=new pr(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Se=({name:r,prefix:e,encode:t,decode:i})=>new br(r,e,t,i),me=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=lr(t,e);return Se({prefix:r,name:e,encode:i,decode:n=>ni(s(n))})},mr=(r,e,t,i)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=r.length;for(;r[n-1]===\"=\";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let l=0;l<n;++l){const p=s[r[l]];if(p===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|p,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},fr=(r,e,t)=>{const i=e[e.length-1]===\"=\",s=(1<<t)-1;let n=\"\",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+=\"=\";return n},A=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Se({prefix:e,name:r,encode(s){return fr(s,i,t)},decode(s){return mr(s,i,t,r)}}),Dr=Se({prefix:\"\\0\",name:\"identity\",encode:r=>dr(r),decode:r=>ur(r)});var vr=Object.freeze({__proto__:null,identity:Dr});const wr=A({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var _r=Object.freeze({__proto__:null,base2:wr});const Er=A({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var Ir=Object.freeze({__proto__:null,base8:Er});const Tr=me({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var Cr=Object.freeze({__proto__:null,base10:Tr});const Pr=A({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Sr=A({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Or=Object.freeze({__proto__:null,base16:Pr,base16upper:Sr});const Rr=A({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Ar=A({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),xr=A({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),Nr=A({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),$r=A({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),zr=A({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),Lr=A({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),kr=A({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),jr=A({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var Ur=Object.freeze({__proto__:null,base32:Rr,base32upper:Ar,base32pad:xr,base32padupper:Nr,base32hex:$r,base32hexupper:zr,base32hexpad:Lr,base32hexpadupper:kr,base32z:jr});const Fr=me({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),Mr=me({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var Kr=Object.freeze({__proto__:null,base36:Fr,base36upper:Mr});const Br=me({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Vr=me({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var qr=Object.freeze({__proto__:null,base58btc:Br,base58flickr:Vr});const Gr=A({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),Wr=A({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),Hr=A({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),Yr=A({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var Jr=Object.freeze({__proto__:null,base64:Gr,base64pad:Wr,base64url:Hr,base64urlpad:Yr});const ai=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),Xr=ai.reduce((r,e,t)=>(r[t]=e,r),[]),Zr=ai.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Qr(r){return r.reduce((e,t)=>(e+=Xr[t],e),\"\")}function en(r){const e=[];for(const t of r){const i=Zr[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const tn=Se({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:Qr,decode:en});var sn=Object.freeze({__proto__:null,base256emoji:tn}),rn=hi,ci=128,nn=127,on=~nn,an=Math.pow(2,31);function hi(r,e,t){e=e||[],t=t||0;for(var i=t;r>=an;)e[t++]=r&255|ci,r/=128;for(;r&on;)e[t++]=r&255|ci,r>>>=7;return e[t]=r|0,hi.bytes=t-i+1,e}var cn=Ve,hn=128,li=127;function Ve(r,i){var t=0,i=i||0,s=0,n=i,o,a=r.length;do{if(n>=a)throw Ve.bytes=0,new RangeError(\"Could not decode varint\");o=r[n++],t+=s<28?(o&li)<<s:(o&li)*Math.pow(2,s),s+=7}while(o>=hn);return Ve.bytes=n-i,t}var ln=Math.pow(2,7),un=Math.pow(2,14),dn=Math.pow(2,21),gn=Math.pow(2,28),pn=Math.pow(2,35),yn=Math.pow(2,42),bn=Math.pow(2,49),mn=Math.pow(2,56),fn=Math.pow(2,63),Dn=function(r){return r<ln?1:r<un?2:r<dn?3:r<gn?4:r<pn?5:r<yn?6:r<bn?7:r<mn?8:r<fn?9:10},vn={encode:rn,decode:cn,encodingLength:Dn},ui=vn;const di=(r,e,t=0)=>(ui.encode(r,e,t),e),gi=r=>ui.encodingLength(r),qe=(r,e)=>{const t=e.byteLength,i=gi(r),s=i+gi(t),n=new Uint8Array(s+t);return di(r,n,0),di(t,n,i),n.set(e,s),new wn(r,t,e,n)};class wn{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s}}const pi=({name:r,code:e,encode:t})=>new _n(r,e,t);class _n{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?qe(this.code,t):t.then(i=>qe(this.code,i))}else throw Error(\"Unknown type, must be binary type\")}}const yi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),En=pi({name:\"sha2-256\",code:18,encode:yi(\"SHA-256\")}),In=pi({name:\"sha2-512\",code:19,encode:yi(\"SHA-512\")});var Tn=Object.freeze({__proto__:null,sha256:En,sha512:In});const bi=0,Cn=\"identity\",mi=ni,Pn=r=>qe(bi,mi(r)),Sn={code:bi,name:Cn,encode:mi,digest:Pn};var On=Object.freeze({__proto__:null,identity:Sn});new TextEncoder,new TextDecoder;const fi={...vr,..._r,...Ir,...Cr,...Or,...Ur,...Kr,...qr,...Jr,...sn};({...Tn,...On});function Di(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Rn(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Di(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function vi(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const wi=vi(\"utf8\",\"u\",r=>\"u\"+new TextDecoder(\"utf8\").decode(r),r=>new TextEncoder().encode(r.substring(1))),Ge=vi(\"ascii\",\"a\",r=>{let e=\"a\";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Rn(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),An={utf8:wi,\"utf-8\":wi,hex:fi.base16,latin1:Ge,ascii:Ge,binary:Ge,...fi};function xn(r,e=\"utf8\"){const t=An[e];if(!t)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Di(globalThis.Buffer.from(r,\"utf-8\")):t.decoder.decode(`${t.prefix}${r}`)}var Nn=Object.defineProperty,$n=(r,e,t)=>e in r?Nn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J=(r,e,t)=>$n(r,typeof e!=\"symbol\"?e+\"\":e,t);class _i{constructor(e,t){this.core=e,this.logger=t,J(this,\"keychain\",new Map),J(this,\"name\",St),J(this,\"version\",Ot),J(this,\"initialized\",!1),J(this,\"storagePrefix\",W),J(this,\"init\",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<\"u\"&&(this.keychain=i),this.initialized=!0}}),J(this,\"has\",i=>(this.isInitialized(),this.keychain.has(i))),J(this,\"set\",async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()}),J(this,\"get\",i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>\"u\"){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${i}`);throw new Error(n)}return s}),J(this,\"del\",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var zn=Object.defineProperty,Ln=(r,e,t)=>e in r?zn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,x=(r,e,t)=>Ln(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ei{constructor(e,t,i){this.core=e,this.logger=t,x(this,\"name\",Ct),x(this,\"keychain\"),x(this,\"randomSessionIdentifier\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)()),x(this,\"initialized\",!1),x(this,\"init\",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),x(this,\"hasKeys\",s=>(this.isInitialized(),this.keychain.has(s))),x(this,\"getClientId\",async()=>{this.isInitialized();const s=await this.getClientSeed(),n=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(s);return _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.encodeIss(n.publicKey)}),x(this,\"generateKeyPair\",()=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateKeyPair)();return this.setPrivateKey(s.publicKey,s.privateKey)}),x(this,\"signJWT\",async s=>{this.isInitialized();const n=await this.getClientSeed(),o=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(n),a=this.randomSessionIdentifier,c=Pt;return await _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.signJWT(a,s,c,o)}),x(this,\"generateSharedKey\",(s,n,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deriveSymKey)(a,n);return this.setSymKey(c,o)}),x(this,\"setSymKey\",async(s,n)=>{this.isInitialized();const o=n||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashKey)(s);return await this.keychain.set(o,s),o}),x(this,\"deleteKeyPair\",async s=>{this.isInitialized(),await this.keychain.del(s)}),x(this,\"deleteSymKey\",async s=>{this.isInitialized(),await this.keychain.del(s)}),x(this,\"encode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateEncoding)(o),c=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonStringify)(n);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a))return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encodeTypeTwoEnvelope)(c,o?.encoding);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const y=a.senderPublicKey,w=a.receiverPublicKey;s=await this.generateSharedKey(y,w)}const h=this.getSymKey(s),{type:l,senderPublicKey:p}=a;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encrypt)({type:l,symKey:h,message:c,senderPublicKey:p,encoding:o?.encoding})}),x(this,\"decode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateDecoding)(n,o);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a)){const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeTwoEnvelope)(n,o?.encoding);return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(c)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;s=await this.generateSharedKey(c,h)}try{const c=this.getSymKey(s),h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decrypt)({symKey:c,encoded:n,encoding:o?.encoding});return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),x(this,\"getPayloadType\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeByte)(o.type)}),x(this,\"getPayloadSenderPublicKey\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return o.senderPublicKey?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_7__.toString)(o.senderPublicKey,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE16):void 0}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.keychain=i||new _i(this.core,this.logger)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e=\"\";try{e=this.keychain.get(Me)}catch{e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),await this.keychain.set(Me,e)}return xn(e,\"base16\")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var kn=Object.defineProperty,jn=Object.defineProperties,Un=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,We=(r,e,t)=>e in r?kn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kn=(r,e)=>{for(var t in e||(e={}))Fn.call(e,t)&&We(r,t,e[t]);if(Ii)for(var t of Ii(e))Mn.call(e,t)&&We(r,t,e[t]);return r},Bn=(r,e)=>jn(r,Un(e)),K=(r,e,t)=>We(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ti extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,K(this,\"messages\",new Map),K(this,\"messagesWithoutClientAck\",new Map),K(this,\"name\",Rt),K(this,\"version\",At),K(this,\"initialized\",!1),K(this,\"storagePrefix\",W),K(this,\"init\",async()=>{if(!this.initialized){this.logger.trace(\"Initialized\");try{const i=await this.getRelayerMessages();typeof i<\"u\"&&(this.messages=i);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<\"u\"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),K(this,\"set\",async(i,s,n)=>{this.isInitialized();const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);let a=this.messages.get(i);if(typeof a>\"u\"&&(a={}),typeof a[o]<\"u\")return o;if(a[o]=s,this.messages.set(i,a),n===ye.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,Bn(Kn({},c),{[o]:s}))}return await this.persist(),o}),K(this,\"get\",i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>\"u\"&&(s={}),s}),K(this,\"getWithoutAck\",i=>{this.isInitialized();const s={};for(const n of i){const o=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(o)}return s}),K(this,\"has\",(i,s)=>{this.isInitialized();const n=this.get(i),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);return typeof n[o]<\"u\"}),K(this,\"ack\",async(i,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(i);if(typeof n>\"u\")return;const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);delete n[o],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,n),await this.persist()}),K(this,\"del\",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e,this.name),this.core=t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name+\"_withoutClientAck\"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Vn=Object.defineProperty,qn=Object.defineProperties,Gn=Object.getOwnPropertyDescriptors,Ci=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,He=(r,e,t)=>e in r?Vn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ce=(r,e)=>{for(var t in e||(e={}))Wn.call(e,t)&&He(r,t,e[t]);if(Ci)for(var t of Ci(e))Hn.call(e,t)&&He(r,t,e[t]);return r},Pi=(r,e)=>qn(r,Gn(e)),G=(r,e,t)=>He(r,typeof e!=\"symbol\"?e+\"\":e,t);class Yn extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,G(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),G(this,\"name\",Nt),G(this,\"queue\",new Map),G(this,\"publishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),G(this,\"initialPublishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),G(this,\"needsTransportRestart\",!1),G(this,\"publish\",async(i,s,n)=>{var o,a,c,h,l;this.logger.debug(\"Publishing Payload\"),this.logger.trace({type:\"method\",method:\"publish\",params:{topic:i,message:s,opts:n}});const p=n?.ttl||xt,y=n?.prompt||!1,w=n?.tag||0,u=n?.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),m=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol),D={id:u,method:n?.publishMethod||m.publish,params:ce({topic:i,message:s,ttl:p,prompt:y,tag:w,attestation:n?.attestation},n?.tvf)},_=`Failed to publish payload, please try again. id:${u} tag:${w}`;try{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((o=D.params)==null?void 0:o.prompt)&&((a=D.params)==null||delete a.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((c=D.params)==null?void 0:c.tag)&&((h=D.params)==null||delete h.tag);const E=new Promise(async L=>{const I=({id:T})=>{var S;((S=D.id)==null?void 0:S.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(C.publish,I),L())};this.relayer.events.on(C.publish,I);const k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((T,S)=>{this.rpcPublish(D,n).then(T).catch(O=>{this.logger.warn(O,O?.message),S(O)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${u} tag:${w}`);try{await k,this.events.removeListener(C.publish,I)}catch(T){this.queue.set(u,{request:D,opts:n,attempt:1}),this.logger.warn(T,T?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:u,topic:i,message:s,opts:n}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(E,this.publishTimeout,_)}catch(E){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(E),(l=n?.internal)!=null&&l.throwOnFailedPublish)throw E}finally{this.queue.delete(u)}}),G(this,\"publishCustom\",async i=>{var s,n,o,a,c;this.logger.debug(\"Publishing custom payload\"),this.logger.trace({type:\"method\",method:\"publishCustom\",params:i});const{payload:h,opts:l={}}=i,{attestation:p,tvf:y,publishMethod:w,prompt:u,tag:m,ttl:D=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES}=l,_=l.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),E=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol),L=w||E.publish,I={id:_,method:L,params:ce(Pi(ce({},h),{ttl:D,prompt:u,tag:m,attestation:p}),y)},k=`Failed to publish custom payload, please try again. id:${_} tag:${m}`;try{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((s=I.params)==null?void 0:s.prompt)&&((n=I.params)==null||delete n.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((o=I.params)==null?void 0:o.tag)&&((a=I.params)==null||delete a.tag);const T=new Promise(async S=>{const O=({id:Z})=>{var _e;((_e=I.id)==null?void 0:_e.toString())===Z.toString()&&(this.removeRequestFromQueue(Z),this.relayer.events.removeListener(C.publish,O),S())};this.relayer.events.on(C.publish,O);const te=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((Z,_e)=>{this.rpcPublish(I,l).then(Z).catch(Ee=>{this.logger.warn(Ee,Ee?.message),_e(Ee)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${L} id:${_} tag:${m}`);try{await te,this.events.removeListener(C.publish,O)}catch(Z){this.queue.set(_,{request:I,opts:l,attempt:1}),this.logger.warn(Z,Z?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:_,payload:h,opts:l}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(T,this.publishTimeout,k)}catch(T){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(T),(c=l?.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(_)}}),G(this,\"on\",(i,s)=>{this.events.on(i,s)}),G(this,\"once\",(i,s)=>{this.events.once(i,s)}),G(this,\"off\",(i,s)=>{this.events.off(i,s)}),G(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async rpcPublish(e,t){this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"message\",direction:\"outgoing\",request:e});const i=await this.relayer.request(e);return this.relayer.events.emit(C.publish,ce(ce({},e),t)),this.logger.debug(\"Successfully Published Payload\"),i}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var i;const s=e.attempt+1;this.queue.set(t,Pi(ce({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(i=e.request.params)==null?void 0:i.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C.connection_stalled);return}this.checkQueue()}),this.relayer.on(C.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Jn=Object.defineProperty,Xn=(r,e,t)=>e in r?Jn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,he=(r,e,t)=>Xn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Zn{constructor(){he(this,\"map\",new Map),he(this,\"set\",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])}),he(this,\"get\",e=>this.map.get(e)||[]),he(this,\"exists\",(e,t)=>this.get(e).includes(t)),he(this,\"delete\",(e,t)=>{if(typeof t>\"u\"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const s=i.filter(n=>n!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),he(this,\"clear\",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Qn=Object.defineProperty,eo=Object.defineProperties,to=Object.getOwnPropertyDescriptors,Si=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,Ye=(r,e,t)=>e in r?Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fe=(r,e)=>{for(var t in e||(e={}))io.call(e,t)&&Ye(r,t,e[t]);if(Si)for(var t of Si(e))so.call(e,t)&&Ye(r,t,e[t]);return r},Je=(r,e)=>eo(r,to(e)),f=(r,e,t)=>Ye(r,typeof e!=\"symbol\"?e+\"\":e,t);class Oi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,f(this,\"subscriptions\",new Map),f(this,\"topicMap\",new Zn),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),f(this,\"name\",Mt),f(this,\"version\",Kt),f(this,\"pending\",new Map),f(this,\"cached\",[]),f(this,\"initialized\",!1),f(this,\"storagePrefix\",W),f(this,\"subscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),f(this,\"initialSubscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),f(this,\"clientId\"),f(this,\"batchSubscribeTopicsLimit\",500),f(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f(this,\"subscribe\",async(i,s)=>{var n;this.isInitialized(),this.logger.debug(\"Subscribing Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}});try{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(s),a={topic:i,relay:o,transportType:s?.transportType};(n=s?.internal)!=null&&n.skipSubscribe||this.pending.set(i,a);const c=await this.rpcSubscribe(i,o,s);return typeof c==\"string\"&&(this.onSubscribe(c,a),this.logger.debug(\"Successfully Subscribed Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}})),c}catch(o){throw this.logger.debug(\"Failed to Subscribe Topic\"),this.logger.error(o),o}}),f(this,\"unsubscribe\",async(i,s)=>{this.isInitialized(),typeof s?.id<\"u\"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)}),f(this,\"isSubscribed\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i))})),f(this,\"isKnownTopic\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(n=>n.topic===i))})),f(this,\"on\",(i,s)=>{this.events.on(i,s)}),f(this,\"once\",(i,s)=>{this.events.once(i,s)}),f(this,\"off\",(i,s)=>{this.events.off(i,s)}),f(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),f(this,\"start\",async()=>{await this.onConnect()}),f(this,\"stop\",async()=>{await this.onDisconnect()}),f(this,\"restart\",async()=>{await this.restore(),await this.onRestart()}),f(this,\"checkPending\",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(s=>{i.push(s)}),await this.batchSubscribe(i)}),f(this,\"registerEventListeners\",()=>{this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on(U.created,async i=>{const s=U.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()}),this.events.on(U.deleted,async i=>{const s=U.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()})}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.clientId=\"\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+\"//\"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async s=>await this.unsubscribeById(e,s,t)))}async unsubscribeById(e,t,i){this.logger.debug(\"Unsubscribing Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}});try{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(i);await this.restartToComplete({topic:e,id:t,relay:s}),await this.rpcUnsubscribe(e,t,s);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug(\"Successfully Unsubscribed Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}})}catch(s){throw this.logger.debug(\"Failed to Unsubscribe Topic\"),this.logger.error(s),s}}async rpcSubscribe(e,t,i){var s,n;const o=await this.getSubscriptionId(e);if((s=i?.internal)!=null&&s.skipSubscribe)return o;(!i||i?.transportType===ee.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const a={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).subscribe,params:{topic:e}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:a});const c=(n=i?.internal)==null?void 0:n.throwOnFailedPublish;try{if(i?.transportType===ee.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(p=>this.logger.warn(p))},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),o;const h=new Promise(async p=>{const y=w=>{w.topic===e&&(this.events.removeListener(U.created,y),p(w.id))};this.events.on(U.created,y);try{const w=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((u,m)=>{this.relayer.request(a).catch(D=>{this.logger.warn(D,D?.message),m(D)}).then(u)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(U.created,y),p(w)}catch{}}),l=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(h,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return l?o:null}catch(h){if(this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"),this.relayer.events.emit(C.connection_stalled),c)throw h}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});try{await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise(s=>{this.relayer.request(i).catch(n=>this.logger.warn(n)).then(s)}),this.subscribeTimeout,\"rpcBatchSubscribe failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});let s;try{s=await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((n,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(n)}),this.subscribeTimeout,\"rpcBatchFetchMessages failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}return s}rpcUnsubscribe(e,t,i){const s={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,Je(fe({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,fe({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug(\"Setting subscription\"),this.logger.trace({type:\"method\",method:\"setSubscription\",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,fe({},t)),this.topicMap.set(t.topic,e),this.events.emit(U.created,t)}getSubscription(e){this.logger.debug(\"Getting subscription\"),this.logger.trace({type:\"method\",method:\"getSubscription\",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug(\"Deleting subscription\"),this.logger.trace({type:\"method\",method:\"deleteSubscription\",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(U.deleted,Je(fe({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(U.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(U.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>\"u\"||!e.length)return;if(this.subscriptions.size&&!e.every(t=>{var i;return t.topic===((i=this.subscriptions.get(t.id))==null?void 0:i.topic)})){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>Je(fe({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.sleep)((0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(e+await this.getClientId())}}var ro=Object.defineProperty,Ri=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,Xe=(r,e,t)=>e in r?ro(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ai=(r,e)=>{for(var t in e||(e={}))no.call(e,t)&&Xe(r,t,e[t]);if(Ri)for(var t of Ri(e))oo.call(e,t)&&Xe(r,t,e[t]);return r},g=(r,e,t)=>Xe(r,typeof e!=\"symbol\"?e+\"\":e,t);class xi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IRelayer{constructor(e){super(e),g(this,\"protocol\",\"wc\"),g(this,\"version\",2),g(this,\"core\"),g(this,\"logger\"),g(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),g(this,\"provider\"),g(this,\"messages\"),g(this,\"subscriber\"),g(this,\"publisher\"),g(this,\"name\",Lt),g(this,\"transportExplicitlyClosed\",!1),g(this,\"initialized\",!1),g(this,\"connectionAttemptInProgress\",!1),g(this,\"relayUrl\"),g(this,\"projectId\"),g(this,\"packageName\"),g(this,\"bundleId\"),g(this,\"hasExperiencedNetworkDisruption\",!1),g(this,\"pingTimeout\"),g(this,\"heartBeatTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS+_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS)),g(this,\"reconnectTimeout\"),g(this,\"connectPromise\"),g(this,\"reconnectInProgress\",!1),g(this,\"requestsInFlight\",[]),g(this,\"connectTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),g(this,\"request\",async t=>{var i,s;this.logger.debug(\"Publishing Request Payload\");const n=t.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:t.method,topic:(i=t.params)==null?void 0:i.topic},\"relayer.request - publishing...\");const o=`${n}:${((s=t.params)==null?void 0:s.tag)||\"\"}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${n}`),o}}),g(this,\"resetPingTimeout\",()=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,i,s,n;try{this.logger.debug({},\"pingTimeout: Connection stalled, terminating...\"),(n=(s=(i=(t=this.provider)==null?void 0:t.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||n.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),g(this,\"onPayloadHandler\",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),g(this,\"onConnectHandler\",()=>{this.logger.warn({},\"Relayer connected \\u{1F6DC}\"),this.startPingTimeout(),this.events.emit(C.connect)}),g(this,\"onDisconnectHandler\",()=>{this.logger.warn({},\"Relayer disconnected \\u{1F6D1}\"),this.requestsInFlight=[],this.onProviderDisconnect()}),g(this,\"onProviderErrorHandler\",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(C.error,t),this.logger.fatal(\"Fatal socket error received, closing transport\"),this.transportClose()}),g(this,\"registerProviderListeners\",()=>{this.provider.on(M.payload,this.onPayloadHandler),this.provider.on(M.connect,this.onConnectHandler),this.provider.on(M.disconnect,this.onDisconnectHandler),this.provider.on(M.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<\"u\"&&typeof e.logger!=\"string\"?(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e.logger,this.name):(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:e.logger||zt})),this.messages=new Ti(this.logger,e.core),this.subscriber=new Oi(this,this.logger),this.publisher=new Yn(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ke,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAndroid)()?this.packageName=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)():(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isIos)()&&(this.bundleId=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)()),this.provider={}}async init(){this.logger.trace(\"Initialized\"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:ee.relay},ye.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var i,s,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType===\"relay\")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>\"u\"?!0:(s=t?.internal)==null?void 0:s.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||\"\",c;const h=l=>{l.topic===e&&(this.subscriber.off(U.created,h),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(U.created,h)}),new Promise(async(l,p)=>{a=await this.subscriber.subscribe(e,Ai({internal:{throwOnFailedPublish:o}},t)).catch(y=>{o&&p(y)})||a,l()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(this.provider.disconnect(),2e3,\"provider.disconnect()\").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info(\"Starting WS connection skipped because the client has no topics to work with.\");return}if(this.connectPromise?(this.logger.debug({},\"Waiting for existing connection attempt to resolve...\"),await this.connectPromise,this.logger.debug({},\"Existing connection attempt resolved\")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},\"Restarting transport...\"),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)())throw new Error(\"No internet connection detected. Please restart your network and try again.\")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace(\"Batch message events is empty. Ignoring...\");return}const t=e.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(s){this.logger.warn(s,\"Error while processing batch message event: \"+s?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:\"irn\"},active:!1};await this.core.pairing.pairings.set(i,n)}this.events.emit(C.message,e),await this.recordMessageEvent(e,ye.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,s)=>{const n=()=>{s(new Error(\"Connection interrupted while trying to connect\"))};this.provider.once(M.disconnect,n),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(M.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(M.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(M.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const s=i;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t*1))),t++}}startPingTimeout(){var e,t,i,s,n;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.on(\"ping\",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__.JsonRpcProvider(new _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__[\"default\"]((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatRelayRpcUrl)({sdkVersion:Pe,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:i,message:s}=e;await this.messages.set(i,s,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const s=this.messages.has(t,i);return s&&this.logger.warn(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug(\"Incoming Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"incoming\",payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(e)){if(!e.method.endsWith(kt))return;const t=e.params,{topic:i,message:s,publishedAt:n,attestation:o}=t.data,a={topic:i,message:s,publishedAt:n,transportType:ee.relay,attestation:o};this.logger.debug(\"Emitting Relayer Payload\"),this.logger.trace(Ai({type:\"event\",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(e)&&this.events.emit(C.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,ye.inbound),this.events.emit(C.message,e))}async acknowledgePayload(e){const t=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(M.payload,this.onPayloadHandler),this.provider.off(M.connect,this.onConnectHandler),this.provider.off(M.disconnect,this.onDisconnectHandler),this.provider.off(M.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)();(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.subscribeToNetworkChange)(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAppVisible)())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(jt)))))}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function ao(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function Ni(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function $i(r){return r==null?r===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(r)}const co=\"[object RegExp]\",ho=\"[object String]\",lo=\"[object Number]\",uo=\"[object Boolean]\",zi=\"[object Arguments]\",go=\"[object Symbol]\",po=\"[object Date]\",yo=\"[object Map]\",bo=\"[object Set]\",mo=\"[object Array]\",fo=\"[object Function]\",Do=\"[object ArrayBuffer]\",Ze=\"[object Object]\",vo=\"[object Error]\",wo=\"[object DataView]\",_o=\"[object Uint8Array]\",Eo=\"[object Uint8ClampedArray]\",Io=\"[object Uint16Array]\",To=\"[object Uint32Array]\",Co=\"[object BigUint64Array]\",Po=\"[object Int8Array]\",So=\"[object Int16Array]\",Oo=\"[object Int32Array]\",Ro=\"[object BigInt64Array]\",Ao=\"[object Float32Array]\",xo=\"[object Float64Array]\";function No(){}function Li(r){if(!r||typeof r!=\"object\")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)===\"[object Object]\":!1}function $o(r,e,t){return De(r,e,void 0,void 0,void 0,void 0,t)}function De(r,e,t,i,s,n,o){const a=o(r,e,t,i,s,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case\"bigint\":case\"string\":case\"boolean\":case\"symbol\":case\"undefined\":return r===e;case\"number\":return r===e||Object.is(r,e);case\"function\":return r===e;case\"object\":return ve(r,e,n,o)}return ve(r,e,n,o)}function ve(r,e,t,i){if(Object.is(r,e))return!0;let s=$i(r),n=$i(e);if(s===zi&&(s=Ze),n===zi&&(n=Ze),s!==n)return!1;switch(s){case ho:return r.toString()===e.toString();case lo:{const c=r.valueOf(),h=e.valueOf();return ao(c,h)}case uo:case po:case go:return Object.is(r.valueOf(),e.valueOf());case co:return r.source===e.source&&r.flags===e.flags;case fo:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(s){case yo:{if(r.size!==e.size)return!1;for(const[c,h]of r.entries())if(!e.has(c)||!De(h,e.get(c),c,r,e,t,i))return!1;return!0}case bo:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),h=Array.from(e.values());for(let l=0;l<c.length;l++){const p=c[l],y=h.findIndex(w=>De(p,w,void 0,r,e,t,i));if(y===-1)return!1;h.splice(y,1)}return!0}case mo:case _o:case Eo:case Io:case To:case Co:case Po:case So:case Oo:case Ro:case Ao:case xo:{if(typeof Buffer<\"u\"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!De(r[c],e[c],c,r,e,t,i))return!1;return!0}case Do:return r.byteLength!==e.byteLength?!1:ve(new Uint8Array(r),new Uint8Array(e),t,i);case wo:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:ve(new Uint8Array(r),new Uint8Array(e),t,i);case vo:return r.name===e.name&&r.message===e.message;case Ze:{if(!(ve(r.constructor,e.constructor,t,i)||Li(r)&&Li(e)))return!1;const h=[...Object.keys(r),...Ni(r)],l=[...Object.keys(e),...Ni(e)];if(h.length!==l.length)return!1;for(let p=0;p<h.length;p++){const y=h[p],w=r[y];if(!Object.hasOwn(e,y))return!1;const u=e[y];if(!De(w,u,y,r,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function zo(r,e){return $o(r,e,No)}var Lo=Object.defineProperty,ki=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,Qe=(r,e,t)=>e in r?Lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ji=(r,e)=>{for(var t in e||(e={}))ko.call(e,t)&&Qe(r,t,e[t]);if(ki)for(var t of ki(e))jo.call(e,t)&&Qe(r,t,e[t]);return r},F=(r,e,t)=>Qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ui extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IStore{constructor(e,t,i,s=W,n=void 0){super(e,t,i,s),this.core=e,this.logger=t,this.name=i,F(this,\"map\",new Map),F(this,\"version\",Ut),F(this,\"cached\",[]),F(this,\"initialized\",!1),F(this,\"getKey\"),F(this,\"storagePrefix\",W),F(this,\"recentlyDeleted\",[]),F(this,\"recentlyDeletedLimit\",200),F(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)(o)?this.map.set(this.getKey(o),o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isProposalStruct)(o)?this.map.set(o.id,o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isSessionStruct)(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),F(this,\"set\",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug(\"Setting value\"),this.logger.trace({type:\"method\",method:\"set\",key:o,value:a}),this.map.set(o,a),await this.persist())}),F(this,\"get\",o=>(this.isInitialized(),this.logger.debug(\"Getting value\"),this.logger.trace({type:\"method\",method:\"get\",key:o}),this.getData(o))),F(this,\"getAll\",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>zo(a[c],o[c]))):this.values)),F(this,\"update\",async(o,a)=>{this.isInitialized(),this.logger.debug(\"Updating value\"),this.logger.trace({type:\"method\",method:\"update\",key:o,update:a});const c=ji(ji({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),F(this,\"delete\",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug(\"Deleting value\"),this.logger.trace({type:\"method\",method:\"delete\",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.storagePrefix=s,this.getKey=n}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>\"u\"||!e.length)return;if(this.map.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Uo=Object.defineProperty,Fo=(r,e,t)=>e in r?Uo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,d=(r,e,t)=>Fo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Fi{constructor(e,t){this.core=e,this.logger=t,d(this,\"name\",Bt),d(this,\"version\",Vt),d(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_0___default())),d(this,\"pairings\"),d(this,\"initialized\",!1),d(this,\"storagePrefix\",W),d(this,\"ignoredPayloadTypes\",[_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.TYPE_1]),d(this,\"registeredMethods\",[]),d(this,\"init\",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace(\"Initialized\"))}),d(this,\"register\",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),d(this,\"create\",async i=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),n=await this.core.crypto.setSymKey(s),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),a={protocol:$t},c={topic:n,expiry:o,relay:a,active:!1,methods:i?.methods},h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(ae.create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:i?.transportType,internal:i?.internal}),{topic:n,uri:h}}),d(this,\"pair\",async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[Y.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i.uri);s.props.properties.topic=n,s.addTrace(Y.pairing_uri_validation_success),s.addTrace(Y.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(n)){if(l=this.pairings.get(n),s.addTrace(Y.existing_pairing),l.active)throw s.setError(X.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(Y.pairing_not_expired)}const p=c||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),y={topic:n,relay:a,expiry:p,active:!1,methods:h};this.core.expirer.set(n,p),await this.pairings.set(n,y),s.addTrace(Y.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(ae.create,y),s.addTrace(Y.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),s.addTrace(Y.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(X.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(w){throw s.setError(X.subscribe_pairing_topic_failure),w}return s.addTrace(Y.subscribe_pairing_topic_success),y}),d(this,\"activate\",async({topic:i})=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES);this.core.expirer.set(i,s),await this.pairings.update(i,{active:!0,expiry:s})}),d(this,\"ping\",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn(\"ping() is deprecated and will be removed in the next major release.\");const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,\"wc_pairingPing\",{}),{done:o,resolve:a,reject:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),({error:h})=>{h?c(h):a()}),await o()}}),d(this,\"updateExpiry\",async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})}),d(this,\"updateMetadata\",async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})}),d(this,\"getPairings\",()=>(this.isInitialized(),this.pairings.values)),d(this,\"disconnect\",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,\"wc_pairingDelete\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),await this.deletePairing(s))}),d(this,\"formatUriFromPairing\",i=>{this.isInitialized();const{topic:s,relay:n,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(s);return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),d(this,\"sendRequest\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(s,n),a=await this.core.crypto.encode(i,o),c=oe[s].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),d(this,\"sendResult\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=oe[c].res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),d(this,\"sendError\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcError)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=oe[c]?oe[c].res:oe.unregistered_method.res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),d(this,\"deletePairing\",async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])}),d(this,\"cleanup\",async()=>{const i=this.pairings.getAll().filter(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)))}),d(this,\"onRelayEventRequest\",async i=>{const{topic:s,payload:n}=i;switch(n.method){case\"wc_pairingPing\":return await this.onPairingPingRequest(s,n);case\"wc_pairingDelete\":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),d(this,\"onRelayEventResponse\",async i=>{const{topic:s,payload:n}=i,o=(await this.core.history.get(s,n.id)).request.method;switch(o){case\"wc_pairingPing\":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(o)}}),d(this,\"onPairingPingRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(ae.ping,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),d(this,\"onPairingPingResponse\",(i,s)=>{const{id:n}=s;setTimeout(()=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{error:s.error})},500)}),d(this,\"onPairingDeleteRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(ae.delete,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),d(this,\"onUnknownRpcMethodRequest\",async(i,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",o);await this.sendError(n,i,a),this.logger.error(a)}catch(a){await this.sendError(n,i,a),this.logger.error(a)}}),d(this,\"onUnknownRpcMethodResponse\",i=>{this.registeredMethods.includes(i)||this.logger.error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",i))}),d(this,\"isValidPair\",(i,s)=>{var n;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() params: ${i}`);throw s.setError(X.malformed_pairing_uri),new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidUrl)(i.uri)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() uri: ${i.uri}`);throw s.setError(X.malformed_pairing_uri),new Error(a)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i?.uri);if(!((n=o?.relay)!=null&&n.protocol)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#relay-protocol\");throw s.setError(X.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#symKey\");throw s.setError(X.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o?.expiryTimestamp)<Date.now()){s.setError(X.pairing_expired);const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",\"pair() URI has expired. Please try again with a new connection URI.\");throw new Error(a)}}),d(this,\"isValidPing\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),d(this,\"isValidDisconnect\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),d(this,\"isValidPairingTopic\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidString)(i,!1)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",`pairing topic: ${i}`);throw new Error(s)}}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.pairings=new Ui(this.core,this.logger,this.name,this.storagePrefix)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(C.message,async e=>{const{topic:t,message:i,transportType:s}=e;if(this.pairings.keys.includes(t)&&s!==ee.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const n=await this.core.crypto.decode(t,i);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,i)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(q.expired,async e=>{const{topic:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseExpirerTarget)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(ae.expire,{topic:t}))})}}var Mo=Object.defineProperty,Ko=(r,e,t)=>e in r?Mo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,N=(r,e,t)=>Ko(r,typeof e!=\"symbol\"?e+\"\":e,t);class Mi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,N(this,\"records\",new Map),N(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),N(this,\"name\",qt),N(this,\"version\",Gt),N(this,\"cached\",[]),N(this,\"initialized\",!1),N(this,\"storagePrefix\",W),N(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),N(this,\"set\",(i,s,n)=>{if(this.isInitialized(),this.logger.debug(\"Setting JSON-RPC request history record\"),this.logger.trace({type:\"method\",method:\"set\",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(V.created,o)}),N(this,\"resolve\",async i=>{if(this.isInitialized(),this.logger.debug(\"Updating JSON-RPC response history record\"),this.logger.trace({type:\"method\",method:\"update\",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>\"u\"&&(s.response=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(V.updated,s))}),N(this,\"get\",async(i,s)=>(this.isInitialized(),this.logger.debug(\"Getting record\"),this.logger.trace({type:\"method\",method:\"get\",topic:i,id:s}),await this.getRecord(s))),N(this,\"delete\",(i,s)=>{this.isInitialized(),this.logger.debug(\"Deleting record\"),this.logger.trace({type:\"method\",method:\"delete\",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<\"u\"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(V.deleted,n)}}),this.persist()}),N(this,\"exists\",async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:!1)),N(this,\"on\",(i,s)=>{this.events.on(i,s)}),N(this,\"once\",(i,s)=>{this.events.once(i,s)}),N(this,\"off\",(i,s)=>{this.events.off(i,s)}),N(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<\"u\")return;const i={topic:t.topic,request:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(V.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>\"u\"||!e.length)return;if(this.records.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(V.created,e=>{const t=V.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(V.updated,e=>{const t=V.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(V.deleted,e=>{const t=V.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(V.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Bo=Object.defineProperty,Vo=(r,e,t)=>e in r?Bo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,z=(r,e,t)=>Vo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ki extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,z(this,\"expirations\",new Map),z(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),z(this,\"name\",Wt),z(this,\"version\",Ht),z(this,\"cached\",[]),z(this,\"initialized\",!1),z(this,\"storagePrefix\",W),z(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),z(this,\"has\",i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<\"u\"}catch{return!1}}),z(this,\"set\",(i,s)=>{this.isInitialized();const n=this.formatTarget(i),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(q.created,{target:n,expiration:o})}),z(this,\"get\",i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)}),z(this,\"del\",i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(q.deleted,{target:s,expiration:n})}}),z(this,\"on\",(i,s)=>{this.events.on(i,s)}),z(this,\"once\",(i,s)=>{this.events.once(i,s)}),z(this,\"off\",(i,s)=>{this.events.off(i,s)}),z(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e==\"string\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatTopicTarget)(e);if(typeof e==\"number\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatIdTarget)(e);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"UNKNOWN_TYPE\",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(q.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>\"u\"||!e.length)return;if(this.expirations.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(q.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(q.created,e=>{const t=q.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(q.expired,e=>{const t=q.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(q.deleted,e=>{const t=q.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var qo=Object.defineProperty,Go=(r,e,t)=>e in r?qo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P=(r,e,t)=>Go(r,typeof e!=\"symbol\"?e+\"\":e,t);class Bi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IVerify{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,P(this,\"name\",Yt),P(this,\"abortController\"),P(this,\"isDevEnv\"),P(this,\"verifyUrlV3\",Xt),P(this,\"storagePrefix\",W),P(this,\"version\",Fe),P(this,\"publicKey\"),P(this,\"fetchPromise\"),P(this,\"init\",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug(\"verify v2 public key expired\"),await this.removePublicKey()))}),P(this,\"register\",async s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isBrowser)()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const h=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__.getDocument)(),l=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),p=await new Promise((y,w)=>{const u=()=>{window.removeEventListener(\"message\",D),h.body.removeChild(m),w(\"attestation aborted\")};this.abortController.signal.addEventListener(\"abort\",u);const m=h.createElement(\"iframe\");m.src=c,m.style.display=\"none\",m.addEventListener(\"error\",u,{signal:this.abortController.signal});const D=_=>{if(_.data&&typeof _.data==\"string\")try{const E=JSON.parse(_.data);if(E.type===\"verify_attestation\"){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(E.attestation).payload.id!==o)return;clearInterval(l),h.body.removeChild(m),this.abortController.signal.removeEventListener(\"abort\",u),window.removeEventListener(\"message\",D),y(E.attestation===null?\"\":E.attestation)}}catch(E){this.logger.warn(E)}};h.body.appendChild(m),window.addEventListener(\"message\",D,{signal:this.abortController.signal})});return this.logger.debug(\"jwt attestation\",p),p}catch(h){this.logger.warn(h)}return\"\"}),P(this,\"resolve\",async s=>{if(this.isDevEnv)return\"\";const{attestationId:n,hash:o,encryptedId:a}=s;if(n===\"\"){this.logger.debug(\"resolve: attestationId is empty, skipping\");return}if(n){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(n).payload.id!==a)return;const h=await this.isValidJwtAttestation(n);if(h){if(!h.isVerified){this.logger.warn(\"resolve: jwt attestation: origin url not verified\");return}return h}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),P(this,\"fetchAttestation\",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const o=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),a=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),P(this,\"getVerifyUrl\",s=>{let n=s||be;return Zt.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${be}`),n=be),n}),P(this,\"fetchPublicKey\",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}}),P(this,\"persistPublicKey\",async s=>{this.logger.debug(\"persisting public key to local storage\",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),P(this,\"removePublicKey\",async()=>{this.logger.debug(\"removing verify v2 public key from storage\"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),P(this,\"isValidJwtAttestation\",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}}),P(this,\"getPublicKey\",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),P(this,\"fetchAndPersistPublicKey\",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),P(this,\"validateAttestation\",(s,n)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.verifyP256Jwt)(s,n.publicKey),a={hasExpired:(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn(\"resolve: jwt attestation expired\"),new Error(\"JWT attestation expired\");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//verify:public:key\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(e))}}var Wo=Object.defineProperty,Ho=(r,e,t)=>e in r?Wo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vi=(r,e,t)=>Ho(r,typeof e!=\"symbol\"?e+\"\":e,t);class qi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEchoClient{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Vi(this,\"context\",Qt),Vi(this,\"registerDeviceToken\",async i=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=!1}=i,c=`${ei}/${this.projectId}/clients`;await fetch(c,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})})}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context)}}var Yo=Object.defineProperty,Gi=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,et=(r,e,t)=>e in r?Yo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,we=(r,e)=>{for(var t in e||(e={}))Jo.call(e,t)&&et(r,t,e[t]);if(Gi)for(var t of Gi(e))Xo.call(e,t)&&et(r,t,e[t]);return r},R=(r,e,t)=>et(r,typeof e!=\"symbol\"?e+\"\":e,t);class Wi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEventClient{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,R(this,\"context\",ii),R(this,\"storagePrefix\",W),R(this,\"storageVersion\",ti),R(this,\"events\",new Map),R(this,\"shouldPersist\",!1),R(this,\"init\",async()=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)())try{const s={eventId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:\"INIT\",type:\"\",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUA)(this.core.relayer.protocol,this.core.relayer.version,Pe)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),R(this,\"createEvent\",s=>{const{event:n=\"ERROR\",type:o=\"\",properties:{topic:a,trace:c}}=s,h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),l=this.core.projectId||\"\",p=Date.now(),y=we({eventId:h,timestamp:p,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,y),this.shouldPersist=!0),y}),R(this,\"getEvent\",s=>{const{eventId:n,topic:o}=s;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return we(we({},a),this.setMethods(a.eventId))}),R(this,\"deleteEvent\",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0}),R(this,\"setEventListeners\",()=>{this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(Date.now())-(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(s.timestamp)>si&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),R(this,\"setMethods\",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),R(this,\"addTrace\",(s,n)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(n),this.events.set(s,o),this.shouldPersist=!0)}),R(this,\"setError\",(s,n)=>{const o=this.events.get(s);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),R(this,\"persist\",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),R(this,\"restore\",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,we(we({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}}),R(this,\"submit\",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),R(this,\"sendEvent\",async s=>{const n=this.getAppDomain()?\"\":\"&sp=desktop\";return await fetch(`${ri}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Pe}${n}`,{method:\"POST\",body:JSON.stringify(s)})}),R(this,\"getAppDomain\",()=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppMetadata)().url),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+\"//\"+this.context}}var Zo=Object.defineProperty,Hi=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable,tt=(r,e,t)=>e in r?Zo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Yi=(r,e)=>{for(var t in e||(e={}))Qo.call(e,t)&&tt(r,t,e[t]);if(Hi)for(var t of Hi(e))ea.call(e,t)&&tt(r,t,e[t]);return r},v=(r,e,t)=>tt(r,typeof e!=\"symbol\"?e+\"\":e,t);class Oe extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ICore{constructor(e){var t;super(e),v(this,\"protocol\",Ue),v(this,\"version\",Fe),v(this,\"name\",pe),v(this,\"relayUrl\"),v(this,\"projectId\"),v(this,\"customStoragePrefix\"),v(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),v(this,\"logger\"),v(this,\"heartbeat\"),v(this,\"relayer\"),v(this,\"crypto\"),v(this,\"storage\"),v(this,\"history\"),v(this,\"expirer\"),v(this,\"pairing\"),v(this,\"verify\"),v(this,\"echoClient\"),v(this,\"linkModeSupportedApps\"),v(this,\"eventClient\"),v(this,\"initialized\",!1),v(this,\"logChunkController\"),v(this,\"on\",(a,c)=>this.events.on(a,c)),v(this,\"once\",(a,c)=>this.events.once(a,c)),v(this,\"off\",(a,c)=>this.events.off(a,c)),v(this,\"removeListener\",(a,c)=>this.events.removeListener(a,c)),v(this,\"dispatchEnvelope\",({topic:a,message:c,sessionExists:h})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:ee.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:h})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn(\"Failed to copy global core\",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ke,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:\"\";const s=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:typeof e?.logger==\"string\"&&e.logger?e.logger:It.logger,name:pe}),{logger:n,chunkLoggerController:o}=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generatePlatformLogger)({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(n,this.name),this.heartbeat=new _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HeartBeat,this.crypto=new Ei(this,this.logger,e?.keychain),this.history=new Mi(this,this.logger),this.expirer=new Ki(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__[\"default\"](Yi(Yi({},Tt),e?.storageOptions)),this.relayer=new xi({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Fi(this,this.logger),this.verify=new Bi(this,this.logger,this.storage),this.echoClient=new qi(this.projectId||\"\",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Wi(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Oe(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(Ft,i),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Be,this.linkModeSupportedApps))}async initialize(){this.logger.trace(\"Initialized\");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Be)||[],this.initialized=!0,this.logger.info(\"Core Initialization Success\")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=\"\"){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn(\"Failed to get global WalletConnect core\",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||\"\"}`;globalThis[i]=e}catch(i){console.warn(\"Failed to set global WalletConnect core\",i)}}isGlobalCoreDisabled(){try{return typeof process<\"u\"&&process.env.DISABLE_GLOBAL_CORE===\"true\"}catch{return!0}}}const ta=Oe;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9jb3JlL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbzdFLGtDQUFrQyxHQUFHLEtBQUssR0FBRyxPQUFPLHVCQUF1QixLQUFLLG9CQUFvQix5Q0FBeUMsd0RBQUUsa0RBQWtELDBEQUFFLHVGQUF1RixrUUFBa1EsdUJBQXVCLDBFQUEwRSxXQUFXLG9CQUFvQix3QkFBd0Isb0NBQW9DLEtBQUssc0NBQXNDLDRFQUE0RSxnTUFBZ00sSUFBSSw0REFBRSwrQkFBK0IsNkRBQUUsOEJBQThCLDREQUFFLEtBQUssa0JBQWtCLEtBQUssSUFBSSx3REFBRSxtQkFBbUIsTUFBTSxJQUFJLHdEQUFFLHFCQUFxQixpQkFBaUIsS0FBSyxJQUFJLCtEQUFFLG9CQUFvQixNQUFNLElBQUksK0RBQUUscUJBQXFCLHNCQUFzQixLQUFLLElBQUksd0RBQUUsaUJBQWlCLE1BQU0sSUFBSSx3REFBRSxtQkFBbUIsS0FBSyw0RkFBNEYsSUFBSSxrR0FBa0csdUNBQXVDLGtHQUFrRyxhQUFhLHdEQUFFLHlHQUF5RyxHQUFHLG1GQUFtRix3aEJBQXdoQixJQUFJLG9ZQUFvWSxLQUFLLDhsQkFBOGxCLEtBQUssa2NBQWtjLEtBQUssc3ZCQUFzdkIsS0FBSyxzcUJBQXNxQiw2RUFBNkUsaUJBQWlCLDBEQUEwRCxrQ0FBa0MsV0FBVyxhQUFhLFlBQVksV0FBVyxLQUFLLG9DQUFvQyxxREFBcUQsT0FBTyxxRkFBcUYsY0FBYyx3TkFBd04seUJBQXlCLCtCQUErQixnQkFBZ0IsU0FBUyw0Q0FBNEMsTUFBTSxFQUFFLHlCQUF5QixxQkFBcUIsK0NBQStDLDJDQUEy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QU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxlQUFlLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxlQUFlLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLGVBQWUsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0scUJBQXFCLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcs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LHFDQUFxQyxFQUFFLDRCQUE0QixxRUFBRSxvQkFBb0IsMEVBQUMseUVBQXlFLDZDQUE2QyxpQkFBaUIsaUJBQWlCLCtGQUErRixvS0FBb0ssa0RBQWtELG9CQUFvQixxQkFBcUIsNkJBQTZCLG9EQUFvRCxTQUFTLDhDQUE4QyxpQkFBaUIsd0RBQUUsQ0FBQyxlQUFlLE1BQU0sK0pBQStKLGdEQUFFLDhmQUE4ZixrQ0FBa0MsSUFBSSxpQkFBaUIsU0FBUyxxRUFBcUUsbUNBQW1DLGdCQUFnQixFQUFFLEVBQUUsbURBQW1ELFNBQVMsZ2NBQWdjLFNBQVMsNkNBQTZDLHNIQUFzSCxzQkFBc0IsS0FBSyxRQUFRLDhFQUFFLEVBQUUsc0VBQXNFLEdBQUcsaUNBQWlDLENBQUMsNkVBQUUsRUFBRSx3RUFBd0UsRUFBRSxzSUFBc0ksUUFBUSxpSUFBaUkseUNBQXlDLEdBQUcsY0FBYywwRUFBQyxpQ0FBaUMsK0RBQUUsNEtBQTRLLHNFQUFFLFNBQVMsOENBQThDLDZFQUE2RSxzUUFBc1EscUJBQXFCLGtCQUFrQixxQkFBcUIscUNBQXFDLHVDQUF1QyxjQUFjLE9BQU8sdUVBQUMsY0FBYyxjQUFjLDBDQUEwQyxvQkFBb0IsTUFBTSw2REFBNkQseUNBQXlDLEVBQUUsaUNBQWlDLHVJQUF1SSxtQkFBbUIsaUNBQWlDLElBQUksK1JBQStSLFNBQVMsK0RBQStELFdBQVcscUNBQXFDLG9CQUFvQixJQUFJLHNDQUFzQyw4QkFBOEIsRUFBRSxPQUFPLEVBQUUsUUFBUSx3TUFBd00sZUFBZSx1QkFBdUIsU0FBUywwREFBMEQsUUFBUSxpQkFBaUIsTUFBTSxJQUFJLHNDQUFzQyw4QkFBOEIsb0RBQW9ELEVBQUUsZ0JBQWdCLFNBQVMsMkRBQTJELHVCQUF1QixJQUFJLG9FQUFvRSxNQUFNLFdBQVcsWUFBaTdEO0FBQ2g0NUYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKaSx7RXZlbnRFbWl0dGVyIGFzIGllfWZyb21cImV2ZW50c1wiO2ltcG9ydHtIRUFSVEJFQVRfRVZFTlRTIGFzIHNlLEhlYXJ0QmVhdCBhcyBYaX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9oZWFydGJlYXRcIjtpbXBvcnQgWmkgZnJvbVwiQHdhbGxldGNvbm5lY3Qva2V5dmFsdWVzdG9yYWdlXCI7aW1wb3J0e2dlbmVyYXRlQ2hpbGRMb2dnZXIgYXMgaixnZXRMb2dnZXJDb250ZXh0IGFzIEIscGlubyBhcyBRaSxnZXREZWZhdWx0TG9nZ2VyT3B0aW9ucyBhcyBpdCxnZW5lcmF0ZVBsYXRmb3JtTG9nZ2VyIGFzIGVzfWZyb21cIkB3YWxsZXRjb25uZWN0L2xvZ2dlclwiO2ltcG9ydHtJTWVzc2FnZVRyYWNrZXIgYXMgdHMsSVB1Ymxpc2hlciBhcyBpcyxJU3Vic2NyaWJlciBhcyBzcyxJUmVsYXllciBhcyBycyxJU3RvcmUgYXMgbnMsSUpzb25ScGNIaXN0b3J5IGFzIG9zLElFeHBpcmVyIGFzIGFzLElWZXJpZnkgYXMgY3MsSUVjaG9DbGllbnQgYXMgaHMsSUV2ZW50Q2xpZW50IGFzIGxzLElDb3JlIGFzIHVzfWZyb21cIkB3YWxsZXRjb25uZWN0L3R5cGVzXCI7aW1wb3J0e09ORV9EQVkgYXMgcmUsU0lYX0hPVVJTIGFzIGRzLFRISVJUWV9EQVlTIGFzIFJlLEZJVkVfU0VDT05EUyBhcyBBZSxUSElSVFlfU0VDT05EUyBhcyB4ZSx0b01pbGlzZWNvbmRzIGFzICQsT05FX01JTlVURSBhcyBzdCxPTkVfU0VDT05EIGFzIFEsRklWRV9NSU5VVEVTIGFzIGxlLGZyb21NaWxpc2Vjb25kcyBhcyBydH1mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e3NhZmVKc29uU3RyaW5naWZ5IGFzIGdzLHNhZmVKc29uUGFyc2UgYXMgbnR9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvc2FmZS1qc29uXCI7aW1wb3J0KmFzIEllIGZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7ZGVjb2RlSldUIGFzIG90fWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7bWFwVG9PYmogYXMgTmUsb2JqVG9NYXAgYXMgJGUsZ2V0SW50ZXJuYWxFcnJvciBhcyBiLGdlbmVyYXRlUmFuZG9tQnl0ZXMzMiBhcyB6ZSxnZW5lcmF0ZUtleVBhaXIgYXMgcHMsZGVyaXZlU3ltS2V5IGFzIHlzLGhhc2hLZXkgYXMgYnMsdmFsaWRhdGVFbmNvZGluZyBhcyBtcyxpc1R5cGVUd29FbnZlbG9wZSBhcyBhdCxlbmNvZGVUeXBlVHdvRW52ZWxvcGUgYXMgZnMsaXNUeXBlT25lRW52ZWxvcGUgYXMgY3QsZW5jcnlwdCBhcyBEcyx2YWxpZGF0ZURlY29kaW5nIGFzIHZzLGRlY29kZVR5cGVUd29FbnZlbG9wZSBhcyB3cyxkZWNyeXB0IGFzIF9zLGRlc2VyaWFsaXplIGFzIGh0LGRlY29kZVR5cGVCeXRlIGFzIEVzLEJBU0U2NCBhcyBsdCxCQVNFMTYgYXMgSXMsaGFzaE1lc3NhZ2UgYXMgVGUsZ2V0UmVsYXlQcm90b2NvbEFwaSBhcyBuZSxnZXRSZWxheVByb3RvY29sTmFtZSBhcyBDZSxpc1VuZGVmaW5lZCBhcyB1ZSxjcmVhdGVFeHBpcmluZ1Byb21pc2UgYXMgSCxnZXRTZGtFcnJvciBhcyBkZSxzbGVlcCBhcyBUcyxpc0FuZHJvaWQgYXMgQ3MsZ2V0QXBwSWQgYXMgdXQsaXNJb3MgYXMgUHMsaXNPbmxpbmUgYXMgZHQsY2FsY0V4cGlyeSBhcyBnZSxpc05vZGUgYXMgZ3QsZm9ybWF0UmVsYXlScGNVcmwgYXMgU3Msc3Vic2NyaWJlVG9OZXR3b3JrQ2hhbmdlIGFzIE9zLGlzQXBwVmlzaWJsZSBhcyBScyxpc1Byb3Bvc2FsU3RydWN0IGFzIEFzLGlzU2Vzc2lvblN0cnVjdCBhcyB4cyxwYXJzZUV4cGlyZXJUYXJnZXQgYXMgTnMsVFlQRV8xIGFzICRzLGZvcm1hdFVyaSBhcyBwdCxwYXJzZVVyaSBhcyB5dCxjcmVhdGVEZWxheWVkUHJvbWlzZSBhcyB6cyxlbmdpbmVFdmVudCBhcyBMZSxpc0V4cGlyZWQgYXMgYnQsaXNWYWxpZFBhcmFtcyBhcyBrZSxpc1ZhbGlkVXJsIGFzIExzLGlzVmFsaWRTdHJpbmcgYXMga3MsZm9ybWF0VG9waWNUYXJnZXQgYXMganMsZm9ybWF0SWRUYXJnZXQgYXMgVXMsaXNUZXN0UnVuIGFzIG10LGlzQnJvd3NlciBhcyBGcyx2ZXJpZnlQMjU2Snd0IGFzIE1zLHV1aWR2NCBhcyBmdCxmb3JtYXRVQSBhcyBLcyxnZXRBcHBNZXRhZGF0YSBhcyBCc31mcm9tXCJAd2FsbGV0Y29ubmVjdC91dGlsc1wiO2ltcG9ydHt0b1N0cmluZyBhcyBWc31mcm9tXCJ1aW50OGFycmF5c1wiO2ltcG9ydHtKc29uUnBjUHJvdmlkZXIgYXMgcXN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy1wcm92aWRlclwiO2ltcG9ydHtnZXRCaWdJbnRScGNJZCBhcyBqZSxpc0pzb25ScGNSZXF1ZXN0IGFzIER0LGlzSnNvblJwY1Jlc3BvbnNlIGFzIHZ0LGZvcm1hdEpzb25ScGNSZXN1bHQgYXMgd3QsZm9ybWF0SnNvblJwY1JlcXVlc3QgYXMgX3QsZm9ybWF0SnNvblJwY0Vycm9yIGFzIEdzLGlzSnNvblJwY1Jlc3VsdCBhcyBXcyxpc0pzb25ScGNFcnJvciBhcyBFdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7aW1wb3J0IEhzIGZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtd3MtY29ubmVjdGlvblwiO2ltcG9ydHtnZXREb2N1bWVudCBhcyBZc31mcm9tXCJAd2FsbGV0Y29ubmVjdC93aW5kb3ctZ2V0dGVyc1wiO2NvbnN0IFVlPVwid2NcIixGZT0yLHBlPVwiY29yZVwiLFc9YCR7VWV9QDI6JHtwZX06YCxJdD17bmFtZTpwZSxsb2dnZXI6XCJlcnJvclwifSxUdD17ZGF0YWJhc2U6XCI6bWVtb3J5OlwifSxDdD1cImNyeXB0b1wiLE1lPVwiY2xpZW50X2VkMjU1MTlfc2VlZFwiLFB0PXJlLFN0PVwia2V5Y2hhaW5cIixPdD1cIjAuM1wiLFJ0PVwibWVzc2FnZXNcIixBdD1cIjAuM1wiLHh0PWRzLE50PVwicHVibGlzaGVyXCIsJHQ9XCJpcm5cIix6dD1cImVycm9yXCIsS2U9XCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0Lm9yZ1wiLEx0PVwicmVsYXllclwiLEM9e21lc3NhZ2U6XCJyZWxheWVyX21lc3NhZ2VcIixtZXNzYWdlX2FjazpcInJlbGF5ZXJfbWVzc2FnZV9hY2tcIixjb25uZWN0OlwicmVsYXllcl9jb25uZWN0XCIsZGlzY29ubmVjdDpcInJlbGF5ZXJfZGlzY29ubmVjdFwiLGVycm9yOlwicmVsYXllcl9lcnJvclwiLGNvbm5lY3Rpb25fc3RhbGxlZDpcInJlbGF5ZXJfY29ubmVjdGlvbl9zdGFsbGVkXCIsdHJhbnNwb3J0X2Nsb3NlZDpcInJlbGF5ZXJfdHJhbnNwb3J0X2Nsb3NlZFwiLHB1Ymxpc2g6XCJyZWxheWVyX3B1Ymxpc2hcIn0sa3Q9XCJfc3Vic2NyaXB0aW9uXCIsTT17cGF5bG9hZDpcInBheWxvYWRcIixjb25uZWN0OlwiY29ubmVjdFwiLGRpc2Nvbm5lY3Q6XCJkaXNjb25uZWN0XCIsZXJyb3I6XCJlcnJvclwifSxqdD0uMSxKcz17ZGF0YWJhc2U6XCI6bWVtb3J5OlwifSxQZT1cIjIuMjEuOVwiLFhzPTFlNCxlZT17bGlua19tb2RlOlwibGlua19tb2RlXCIscmVsYXk6XCJyZWxheVwifSx5ZT17aW5ib3VuZDpcImluYm91bmRcIixvdXRib3VuZDpcIm91dGJvdW5kXCJ9LFV0PVwiMC4zXCIsRnQ9XCJXQUxMRVRDT05ORUNUX0NMSUVOVF9JRFwiLEJlPVwiV0FMTEVUQ09OTkVDVF9MSU5LX01PREVfQVBQU1wiLFU9e2NyZWF0ZWQ6XCJzdWJzY3JpcHRpb25fY3JlYXRlZFwiLGRlbGV0ZWQ6XCJzdWJzY3JpcHRpb25fZGVsZXRlZFwiLGV4cGlyZWQ6XCJzdWJzY3JpcHRpb25fZXhwaXJlZFwiLGRpc2FibGVkOlwic3Vic2NyaXB0aW9uX2Rpc2FibGVkXCIsc3luYzpcInN1YnNjcmlwdGlvbl9zeW5jXCIscmVzdWJzY3JpYmVkOlwic3Vic2NyaXB0aW9uX3Jlc3Vic2NyaWJlZFwifSxacz1SZSxNdD1cInN1YnNjcmlwdGlvblwiLEt0PVwiMC4zXCIsUXM9QWUqMWUzLEJ0PVwicGFpcmluZ1wiLFZ0PVwiMC4zXCIsZXI9UmUsb2U9e3djX3BhaXJpbmdEZWxldGU6e3JlcTp7dHRsOnJlLHByb21wdDohMSx0YWc6MWUzfSxyZXM6e3R0bDpyZSxwcm9tcHQ6ITEsdGFnOjEwMDF9fSx3Y19wYWlyaW5nUGluZzp7cmVxOnt0dGw6eGUscHJvbXB0OiExLHRhZzoxMDAyfSxyZXM6e3R0bDp4ZSxwcm9tcHQ6ITEsdGFnOjEwMDN9fSx1bnJlZ2lzdGVyZWRfbWV0aG9kOntyZXE6e3R0bDpyZSxwcm9tcHQ6ITEsdGFnOjB9LHJlczp7dHRsOnJlLHByb21wdDohMSx0YWc6MH19fSxhZT17Y3JlYXRlOlwicGFpcmluZ19jcmVhdGVcIixleHBpcmU6XCJwYWlyaW5nX2V4cGlyZVwiLGRlbGV0ZTpcInBhaXJpbmdfZGVsZXRlXCIscGluZzpcInBhaXJpbmdfcGluZ1wifSxWPXtjcmVhdGVkOlwiaGlzdG9yeV9jcmVhdGVkXCIsdXBkYXRlZDpcImhpc3RvcnlfdXBkYXRlZFwiLGRlbGV0ZWQ6XCJoaXN0b3J5X2RlbGV0ZWRcIixzeW5jOlwiaGlzdG9yeV9zeW5jXCJ9LHF0PVwiaGlzdG9yeVwiLEd0PVwiMC4zXCIsV3Q9XCJleHBpcmVyXCIscT17Y3JlYXRlZDpcImV4cGlyZXJfY3JlYXRlZFwiLGRlbGV0ZWQ6XCJleHBpcmVyX2RlbGV0ZWRcIixleHBpcmVkOlwiZXhwaXJlcl9leHBpcmVkXCIsc3luYzpcImV4cGlyZXJfc3luY1wifSxIdD1cIjAuM1wiLHRyPXJlLFl0PVwidmVyaWZ5LWFwaVwiLGlyPVwiaHR0cHM6Ly92ZXJpZnkud2FsbGV0Y29ubmVjdC5jb21cIixKdD1cImh0dHBzOi8vdmVyaWZ5LndhbGxldGNvbm5lY3Qub3JnXCIsYmU9SnQsWHQ9YCR7YmV9L3YzYCxadD1baXIsSnRdLFF0PVwiZWNob1wiLGVpPVwiaHR0cHM6Ly9lY2hvLndhbGxldGNvbm5lY3QuY29tXCIsc3I9XCJldmVudC1jbGllbnRcIixZPXtwYWlyaW5nX3N0YXJ0ZWQ6XCJwYWlyaW5nX3N0YXJ0ZWRcIixwYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3M6XCJwYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3NcIixwYWlyaW5nX3VyaV9ub3RfZXhwaXJlZDpcInBhaXJpbmdfdXJpX25vdF9leHBpcmVkXCIsc3RvcmVfbmV3X3BhaXJpbmc6XCJzdG9yZV9uZXdfcGFpcmluZ1wiLHN1YnNjcmliaW5nX3BhaXJpbmdfdG9waWM6XCJzdWJzY3JpYmluZ19wYWlyaW5nX3RvcGljXCIsc3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfc3VjY2VzczpcInN1YnNjcmliZV9wYWlyaW5nX3RvcGljX3N1Y2Nlc3NcIixleGlzdGluZ19wYWlyaW5nOlwiZXhpc3RpbmdfcGFpcmluZ1wiLHBhaXJpbmdfbm90X2V4cGlyZWQ6XCJwYWlyaW5nX25vdF9leHBpcmVkXCIsZW1pdF9pbmFjdGl2ZV9wYWlyaW5nOlwiZW1pdF9pbmFjdGl2ZV9wYWlyaW5nXCIsZW1pdF9zZXNzaW9uX3Byb3Bvc2FsOlwiZW1pdF9zZXNzaW9uX3Byb3Bvc2FsXCIsc3Vic2NyaWJpbmdfdG9fcGFpcmluZ190b3BpYzpcInN1YnNjcmliaW5nX3RvX3BhaXJpbmdfdG9waWNcIn0sWD17bm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLG5vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbWFsZm9ybWVkX3BhaXJpbmdfdXJpOlwibWFsZm9ybWVkX3BhaXJpbmdfdXJpXCIsYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHM6XCJhY3RpdmVfcGFpcmluZ19hbHJlYWR5X2V4aXN0c1wiLHN1YnNjcmliZV9wYWlyaW5nX3RvcGljX2ZhaWx1cmU6XCJzdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlXCIscGFpcmluZ19leHBpcmVkOlwicGFpcmluZ19leHBpcmVkXCIscHJvcG9zYWxfZXhwaXJlZDpcInByb3Bvc2FsX2V4cGlyZWRcIixwcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmQ6XCJwcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmRcIn0scnI9e3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkOlwic2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWRcIixwcm9wb3NhbF9ub3RfZXhwaXJlZDpcInByb3Bvc2FsX25vdF9leHBpcmVkXCIsc2Vzc2lvbl9uYW1lc3BhY2VzX3ZhbGlkYXRpb25fc3VjY2VzczpcInNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3NcIixjcmVhdGVfc2Vzc2lvbl90b3BpYzpcImNyZWF0ZV9zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJpbmdfc2Vzc2lvbl90b3BpYzpcInN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWNcIixzdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19zdWNjZXNzOlwic3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2Vzc1wiLHB1Ymxpc2hpbmdfc2Vzc2lvbl9hcHByb3ZlOlwicHVibGlzaGluZ19zZXNzaW9uX2FwcHJvdmVcIixzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzOlwic2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2Vzc1wiLHN0b3JlX3Nlc3Npb246XCJzdG9yZV9zZXNzaW9uXCIscHVibGlzaGluZ19zZXNzaW9uX3NldHRsZTpcInB1Ymxpc2hpbmdfc2Vzc2lvbl9zZXR0bGVcIixzZXNzaW9uX3NldHRsZV9wdWJsaXNoX3N1Y2Nlc3M6XCJzZXNzaW9uX3NldHRsZV9wdWJsaXNoX3N1Y2Nlc3NcIn0sbnI9e25vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLHByb3Bvc2FsX2V4cGlyZWQ6XCJwcm9wb3NhbF9leHBpcmVkXCIsc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZTpcInN1YnNjcmliZV9zZXNzaW9uX3RvcGljX2ZhaWx1cmVcIixzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlOlwic2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZVwiLHNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZTpcInNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZVwiLHNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlOlwic2Vzc2lvbl9hcHByb3ZlX25hbWVzcGFjZV92YWxpZGF0aW9uX2ZhaWx1cmVcIixwcm9wb3NhbF9ub3RfZm91bmQ6XCJwcm9wb3NhbF9ub3RfZm91bmRcIn0sb3I9e2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWQ6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkXCIsYXV0aGVudGljYXRlZF9zZXNzaW9uX25vdF9leHBpcmVkOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX25vdF9leHBpcmVkXCIsY2hhaW5zX2NhaXAyX2NvbXBsaWFudDpcImNoYWluc19jYWlwMl9jb21wbGlhbnRcIixjaGFpbnNfZXZtX2NvbXBsaWFudDpcImNoYWluc19ldm1fY29tcGxpYW50XCIsY3JlYXRlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpYzpcImNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNcIixjYWNhb3NfdmVyaWZpZWQ6XCJjYWNhb3NfdmVyaWZpZWRcIixzdG9yZV9hdXRoZW50aWNhdGVkX3Nlc3Npb246XCJzdG9yZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25cIixzdWJzY3JpYmluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWM6XCJzdWJzY3JpYmluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNcIixzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3M6XCJzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3NcIixwdWJsaXNoaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlOlwicHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZVwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2VzczpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2Vzc1wifSxhcj17bm9faW50ZXJuZXRfY29ubmVjdGlvbjpcIm5vX2ludGVybmV0X2Nvbm5lY3Rpb25cIixub193c3NfY29ubmVjdGlvbjpcIm5vX3dzc19jb25uZWN0aW9uXCIsbWlzc2luZ19zZXNzaW9uX2F1dGhlbnRpY2F0ZV9yZXF1ZXN0OlwibWlzc2luZ19zZXNzaW9uX2F1dGhlbnRpY2F0ZV9yZXF1ZXN0XCIsc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdF9leHBpcmVkOlwic2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdF9leHBpcmVkXCIsY2hhaW5zX2NhaXAyX2NvbXBsaWFudF9mYWlsdXJlOlwiY2hhaW5zX2NhaXAyX2NvbXBsaWFudF9mYWlsdXJlXCIsY2hhaW5zX2V2bV9jb21wbGlhbnRfZmFpbHVyZTpcImNoYWluc19ldm1fY29tcGxpYW50X2ZhaWx1cmVcIixpbnZhbGlkX2NhY2FvOlwiaW52YWxpZF9jYWNhb1wiLHN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfZmFpbHVyZTpcInN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfZmFpbHVyZVwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZTpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZVwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX3BlbmRpbmdfcmVxdWVzdF9ub3RfZm91bmRcIn0sdGk9LjEsaWk9XCJldmVudC1jbGllbnRcIixzaT04NjQwMCxyaT1cImh0dHBzOi8vcHVsc2Uud2FsbGV0Y29ubmVjdC5vcmcvYmF0Y2hcIjtmdW5jdGlvbiBjcihyLGUpe2lmKHIubGVuZ3RoPj0yNTUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFscGhhYmV0IHRvbyBsb25nXCIpO2Zvcih2YXIgdD1uZXcgVWludDhBcnJheSgyNTYpLGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldPTI1NTtmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG49ci5jaGFyQXQocyksbz1uLmNoYXJDb2RlQXQoMCk7aWYodFtvXSE9PTI1NSl0aHJvdyBuZXcgVHlwZUVycm9yKG4rXCIgaXMgYW1iaWd1b3VzXCIpO3Rbb109c312YXIgYT1yLmxlbmd0aCxjPXIuY2hhckF0KDApLGg9TWF0aC5sb2coYSkvTWF0aC5sb2coMjU2KSxsPU1hdGgubG9nKDI1NikvTWF0aC5sb2coYSk7ZnVuY3Rpb24gcCh1KXtpZih1IGluc3RhbmNlb2YgVWludDhBcnJheXx8KEFycmF5QnVmZmVyLmlzVmlldyh1KT91PW5ldyBVaW50OEFycmF5KHUuYnVmZmVyLHUuYnl0ZU9mZnNldCx1LmJ5dGVMZW5ndGgpOkFycmF5LmlzQXJyYXkodSkmJih1PVVpbnQ4QXJyYXkuZnJvbSh1KSkpLCEodSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBVaW50OEFycmF5XCIpO2lmKHUubGVuZ3RoPT09MClyZXR1cm5cIlwiO2Zvcih2YXIgbT0wLEQ9MCxfPTAsRT11Lmxlbmd0aDtfIT09RSYmdVtfXT09PTA7KV8rKyxtKys7Zm9yKHZhciBMPShFLV8pKmwrMT4+PjAsST1uZXcgVWludDhBcnJheShMKTtfIT09RTspe2Zvcih2YXIgaz11W19dLFQ9MCxTPUwtMTsoayE9PTB8fFQ8RCkmJlMhPT0tMTtTLS0sVCsrKWsrPTI1NipJW1NdPj4+MCxJW1NdPWslYT4+PjAsaz1rL2E+Pj4wO2lmKGshPT0wKXRocm93IG5ldyBFcnJvcihcIk5vbi16ZXJvIGNhcnJ5XCIpO0Q9VCxfKyt9Zm9yKHZhciBPPUwtRDtPIT09TCYmSVtPXT09PTA7KU8rKztmb3IodmFyIHRlPWMucmVwZWF0KG0pO088TDsrK08pdGUrPXIuY2hhckF0KElbT10pO3JldHVybiB0ZX1mdW5jdGlvbiB5KHUpe2lmKHR5cGVvZiB1IT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBTdHJpbmdcIik7aWYodS5sZW5ndGg9PT0wKXJldHVybiBuZXcgVWludDhBcnJheTt2YXIgbT0wO2lmKHVbbV0hPT1cIiBcIil7Zm9yKHZhciBEPTAsXz0wO3VbbV09PT1jOylEKyssbSsrO2Zvcih2YXIgRT0odS5sZW5ndGgtbSkqaCsxPj4+MCxMPW5ldyBVaW50OEFycmF5KEUpO3VbbV07KXt2YXIgST10W3UuY2hhckNvZGVBdChtKV07aWYoST09PTI1NSlyZXR1cm47Zm9yKHZhciBrPTAsVD1FLTE7KEkhPT0wfHxrPF8pJiZUIT09LTE7VC0tLGsrKylJKz1hKkxbVF0+Pj4wLExbVF09SSUyNTY+Pj4wLEk9SS8yNTY+Pj4wO2lmKEkhPT0wKXRocm93IG5ldyBFcnJvcihcIk5vbi16ZXJvIGNhcnJ5XCIpO189ayxtKyt9aWYodVttXSE9PVwiIFwiKXtmb3IodmFyIFM9RS1fO1MhPT1FJiZMW1NdPT09MDspUysrO2Zvcih2YXIgTz1uZXcgVWludDhBcnJheShEKyhFLVMpKSx0ZT1EO1MhPT1FOylPW3RlKytdPUxbUysrXTtyZXR1cm4gT319fWZ1bmN0aW9uIHcodSl7dmFyIG09eSh1KTtpZihtKXJldHVybiBtO3Rocm93IG5ldyBFcnJvcihgTm9uLSR7ZX0gY2hhcmFjdGVyYCl9cmV0dXJue2VuY29kZTpwLGRlY29kZVVuc2FmZTp5LGRlY29kZTp3fX12YXIgaHI9Y3IsbHI9aHI7Y29uc3Qgbmk9cj0+e2lmKHIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiZyLmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIilyZXR1cm4gcjtpZihyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIG5ldyBVaW50OEFycmF5KHIpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhyKSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoci5idWZmZXIsci5ieXRlT2Zmc2V0LHIuYnl0ZUxlbmd0aCk7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpfSx1cj1yPT5uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUociksZHI9cj0+bmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHIpO2NsYXNzIGdye2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLm5hbWU9ZSx0aGlzLnByZWZpeD10LHRoaXMuYmFzZUVuY29kZT1pfWVuY29kZShlKXtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm5gJHt0aGlzLnByZWZpeH0ke3RoaXMuYmFzZUVuY29kZShlKX1gO3Rocm93IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpfX1jbGFzcyBwcntjb25zdHJ1Y3RvcihlLHQsaSl7aWYodGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9dCx0LmNvZGVQb2ludEF0KDApPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJlZml4IGNoYXJhY3RlclwiKTt0aGlzLnByZWZpeENvZGVQb2ludD10LmNvZGVQb2ludEF0KDApLHRoaXMuYmFzZURlY29kZT1pfWRlY29kZShlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIil7aWYoZS5jb2RlUG9pbnRBdCgwKSE9PXRoaXMucHJlZml4Q29kZVBvaW50KXRocm93IEVycm9yKGBVbmFibGUgdG8gZGVjb2RlIG11bHRpYmFzZSBzdHJpbmcgJHtKU09OLnN0cmluZ2lmeShlKX0sICR7dGhpcy5uYW1lfSBkZWNvZGVyIG9ubHkgc3VwcG9ydHMgaW5wdXRzIHByZWZpeGVkIHdpdGggJHt0aGlzLnByZWZpeH1gKTtyZXR1cm4gdGhpcy5iYXNlRGVjb2RlKGUuc2xpY2UodGhpcy5wcmVmaXgubGVuZ3RoKSl9ZWxzZSB0aHJvdyBFcnJvcihcIkNhbiBvbmx5IG11bHRpYmFzZSBkZWNvZGUgc3RyaW5nc1wiKX1vcihlKXtyZXR1cm4gb2kodGhpcyxlKX19Y2xhc3MgeXJ7Y29uc3RydWN0b3IoZSl7dGhpcy5kZWNvZGVycz1lfW9yKGUpe3JldHVybiBvaSh0aGlzLGUpfWRlY29kZShlKXtjb25zdCB0PWVbMF0saT10aGlzLmRlY29kZXJzW3RdO2lmKGkpcmV0dXJuIGkuZGVjb2RlKGUpO3Rocm93IFJhbmdlRXJyb3IoYFVuYWJsZSB0byBkZWNvZGUgbXVsdGliYXNlIHN0cmluZyAke0pTT04uc3RyaW5naWZ5KGUpfSwgb25seSBpbnB1dHMgcHJlZml4ZWQgd2l0aCAke09iamVjdC5rZXlzKHRoaXMuZGVjb2RlcnMpfSBhcmUgc3VwcG9ydGVkYCl9fWNvbnN0IG9pPShyLGUpPT5uZXcgeXIoey4uLnIuZGVjb2RlcnN8fHtbci5wcmVmaXhdOnJ9LC4uLmUuZGVjb2RlcnN8fHtbZS5wcmVmaXhdOmV9fSk7Y2xhc3MgYnJ7Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9dCx0aGlzLmJhc2VFbmNvZGU9aSx0aGlzLmJhc2VEZWNvZGU9cyx0aGlzLmVuY29kZXI9bmV3IGdyKGUsdCxpKSx0aGlzLmRlY29kZXI9bmV3IHByKGUsdCxzKX1lbmNvZGUoZSl7cmV0dXJuIHRoaXMuZW5jb2Rlci5lbmNvZGUoZSl9ZGVjb2RlKGUpe3JldHVybiB0aGlzLmRlY29kZXIuZGVjb2RlKGUpfX1jb25zdCBTZT0oe25hbWU6cixwcmVmaXg6ZSxlbmNvZGU6dCxkZWNvZGU6aX0pPT5uZXcgYnIocixlLHQsaSksbWU9KHtwcmVmaXg6cixuYW1lOmUsYWxwaGFiZXQ6dH0pPT57Y29uc3R7ZW5jb2RlOmksZGVjb2RlOnN9PWxyKHQsZSk7cmV0dXJuIFNlKHtwcmVmaXg6cixuYW1lOmUsZW5jb2RlOmksZGVjb2RlOm49Pm5pKHMobikpfSl9LG1yPShyLGUsdCxpKT0+e2NvbnN0IHM9e307Zm9yKGxldCBsPTA7bDxlLmxlbmd0aDsrK2wpc1tlW2xdXT1sO2xldCBuPXIubGVuZ3RoO2Zvcig7cltuLTFdPT09XCI9XCI7KS0tbjtjb25zdCBvPW5ldyBVaW50OEFycmF5KG4qdC84fDApO2xldCBhPTAsYz0wLGg9MDtmb3IobGV0IGw9MDtsPG47KytsKXtjb25zdCBwPXNbcltsXV07aWYocD09PXZvaWQgMCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoYE5vbi0ke2l9IGNoYXJhY3RlcmApO2M9Yzw8dHxwLGErPXQsYT49OCYmKGEtPTgsb1toKytdPTI1NSZjPj5hKX1pZihhPj10fHwyNTUmYzw8OC1hKXRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgZW5kIG9mIGRhdGFcIik7cmV0dXJuIG99LGZyPShyLGUsdCk9Pntjb25zdCBpPWVbZS5sZW5ndGgtMV09PT1cIj1cIixzPSgxPDx0KS0xO2xldCBuPVwiXCIsbz0wLGE9MDtmb3IobGV0IGM9MDtjPHIubGVuZ3RoOysrYylmb3IoYT1hPDw4fHJbY10sbys9ODtvPnQ7KW8tPXQsbis9ZVtzJmE+Pm9dO2lmKG8mJihuKz1lW3MmYTw8dC1vXSksaSlmb3IoO24ubGVuZ3RoKnQmNzspbis9XCI9XCI7cmV0dXJuIG59LEE9KHtuYW1lOnIscHJlZml4OmUsYml0c1BlckNoYXI6dCxhbHBoYWJldDppfSk9PlNlKHtwcmVmaXg6ZSxuYW1lOnIsZW5jb2RlKHMpe3JldHVybiBmcihzLGksdCl9LGRlY29kZShzKXtyZXR1cm4gbXIocyxpLHQscil9fSksRHI9U2Uoe3ByZWZpeDpcIlxcMFwiLG5hbWU6XCJpZGVudGl0eVwiLGVuY29kZTpyPT5kcihyKSxkZWNvZGU6cj0+dXIocil9KTt2YXIgdnI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaWRlbnRpdHk6RHJ9KTtjb25zdCB3cj1BKHtwcmVmaXg6XCIwXCIsbmFtZTpcImJhc2UyXCIsYWxwaGFiZXQ6XCIwMVwiLGJpdHNQZXJDaGFyOjF9KTt2YXIgX3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTI6d3J9KTtjb25zdCBFcj1BKHtwcmVmaXg6XCI3XCIsbmFtZTpcImJhc2U4XCIsYWxwaGFiZXQ6XCIwMTIzNDU2N1wiLGJpdHNQZXJDaGFyOjN9KTt2YXIgSXI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTg6RXJ9KTtjb25zdCBUcj1tZSh7cHJlZml4OlwiOVwiLG5hbWU6XCJiYXNlMTBcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlcIn0pO3ZhciBDcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMTA6VHJ9KTtjb25zdCBQcj1BKHtwcmVmaXg6XCJmXCIsbmFtZTpcImJhc2UxNlwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZlwiLGJpdHNQZXJDaGFyOjR9KSxTcj1BKHtwcmVmaXg6XCJGXCIsbmFtZTpcImJhc2UxNnVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGXCIsYml0c1BlckNoYXI6NH0pO3ZhciBPcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMTY6UHIsYmFzZTE2dXBwZXI6U3J9KTtjb25zdCBScj1BKHtwcmVmaXg6XCJiXCIsbmFtZTpcImJhc2UzMlwiLGFscGhhYmV0OlwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoyMzQ1NjdcIixiaXRzUGVyQ2hhcjo1fSksQXI9QSh7cHJlZml4OlwiQlwiLG5hbWU6XCJiYXNlMzJ1cHBlclwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1NjdcIixiaXRzUGVyQ2hhcjo1fSkseHI9QSh7cHJlZml4OlwiY1wiLG5hbWU6XCJiYXNlMzJwYWRcIixhbHBoYWJldDpcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MjM0NTY3PVwiLGJpdHNQZXJDaGFyOjV9KSxOcj1BKHtwcmVmaXg6XCJDXCIsbmFtZTpcImJhc2UzMnBhZHVwcGVyXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjIzNDU2Nz1cIixiaXRzUGVyQ2hhcjo1fSksJHI9QSh7cHJlZml4OlwidlwiLG5hbWU6XCJiYXNlMzJoZXhcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2XCIsYml0c1BlckNoYXI6NX0pLHpyPUEoe3ByZWZpeDpcIlZcIixuYW1lOlwiYmFzZTMyaGV4dXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWXCIsYml0c1BlckNoYXI6NX0pLExyPUEoe3ByZWZpeDpcInRcIixuYW1lOlwiYmFzZTMyaGV4cGFkXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dj1cIixiaXRzUGVyQ2hhcjo1fSksa3I9QSh7cHJlZml4OlwiVFwiLG5hbWU6XCJiYXNlMzJoZXhwYWR1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVY9XCIsYml0c1BlckNoYXI6NX0pLGpyPUEoe3ByZWZpeDpcImhcIixuYW1lOlwiYmFzZTMyelwiLGFscGhhYmV0OlwieWJuZHJmZzhlamttY3BxeG90MXV3aXN6YTM0NWg3NjlcIixiaXRzUGVyQ2hhcjo1fSk7dmFyIFVyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UzMjpScixiYXNlMzJ1cHBlcjpBcixiYXNlMzJwYWQ6eHIsYmFzZTMycGFkdXBwZXI6TnIsYmFzZTMyaGV4OiRyLGJhc2UzMmhleHVwcGVyOnpyLGJhc2UzMmhleHBhZDpMcixiYXNlMzJoZXhwYWR1cHBlcjprcixiYXNlMzJ6OmpyfSk7Y29uc3QgRnI9bWUoe3ByZWZpeDpcImtcIixuYW1lOlwiYmFzZTM2XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIn0pLE1yPW1lKHtwcmVmaXg6XCJLXCIsbmFtZTpcImJhc2UzNnVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIn0pO3ZhciBLcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMzY6RnIsYmFzZTM2dXBwZXI6TXJ9KTtjb25zdCBCcj1tZSh7bmFtZTpcImJhc2U1OGJ0Y1wiLHByZWZpeDpcInpcIixhbHBoYWJldDpcIjEyMzQ1Njc4OUFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWmFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXpcIn0pLFZyPW1lKHtuYW1lOlwiYmFzZTU4ZmxpY2tyXCIscHJlZml4OlwiWlwiLGFscGhhYmV0OlwiMTIzNDU2Nzg5YWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5ekFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWlwifSk7dmFyIHFyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U1OGJ0YzpCcixiYXNlNThmbGlja3I6VnJ9KTtjb25zdCBHcj1BKHtwcmVmaXg6XCJtXCIsbmFtZTpcImJhc2U2NFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGJpdHNQZXJDaGFyOjZ9KSxXcj1BKHtwcmVmaXg6XCJNXCIsbmFtZTpcImJhc2U2NHBhZFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixiaXRzUGVyQ2hhcjo2fSksSHI9QSh7cHJlZml4OlwidVwiLG5hbWU6XCJiYXNlNjR1cmxcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV9cIixiaXRzUGVyQ2hhcjo2fSksWXI9QSh7cHJlZml4OlwiVVwiLG5hbWU6XCJiYXNlNjR1cmxwYWRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV89XCIsYml0c1BlckNoYXI6Nn0pO3ZhciBKcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlNjQ6R3IsYmFzZTY0cGFkOldyLGJhc2U2NHVybDpIcixiYXNlNjR1cmxwYWQ6WXJ9KTtjb25zdCBhaT1BcnJheS5mcm9tKFwiXFx1ezFGNjgwfVxcdXsxRkE5MH1cXHUyNjA0XFx1ezFGNkYwfVxcdXsxRjMwQ31cXHV7MUYzMTF9XFx1ezFGMzEyfVxcdXsxRjMxM31cXHV7MUYzMTR9XFx1ezFGMzE1fVxcdXsxRjMxNn1cXHV7MUYzMTd9XFx1ezFGMzE4fVxcdXsxRjMwRH1cXHV7MUYzMEZ9XFx1ezFGMzBFfVxcdXsxRjQwOX1cXHUyNjAwXFx1ezFGNEJCfVxcdXsxRjVBNX1cXHV7MUY0QkV9XFx1ezFGNEJGfVxcdXsxRjYwMn1cXHUyNzY0XFx1ezFGNjBEfVxcdXsxRjkyM31cXHV7MUY2MEF9XFx1ezFGNjRGfVxcdXsxRjQ5NX1cXHV7MUY2MkR9XFx1ezFGNjE4fVxcdXsxRjQ0RH1cXHV7MUY2MDV9XFx1ezFGNDRGfVxcdXsxRjYwMX1cXHV7MUY1MjV9XFx1ezFGOTcwfVxcdXsxRjQ5NH1cXHV7MUY0OTZ9XFx1ezFGNDk5fVxcdXsxRjYyMn1cXHV7MUY5MTR9XFx1ezFGNjA2fVxcdXsxRjY0NH1cXHV7MUY0QUF9XFx1ezFGNjA5fVxcdTI2M0FcXHV7MUY0NEN9XFx1ezFGOTE3fVxcdXsxRjQ5Q31cXHV7MUY2MTR9XFx1ezFGNjBFfVxcdXsxRjYwN31cXHV7MUYzMzl9XFx1ezFGOTI2fVxcdXsxRjM4OX1cXHV7MUY0OUV9XFx1MjcwQ1xcdTI3MjhcXHV7MUY5Mzd9XFx1ezFGNjMxfVxcdXsxRjYwQ31cXHV7MUYzMzh9XFx1ezFGNjRDfVxcdXsxRjYwQn1cXHV7MUY0OTd9XFx1ezFGNDlBfVxcdXsxRjYwRn1cXHV7MUY0OUJ9XFx1ezFGNjQyfVxcdXsxRjQ5M31cXHV7MUY5Mjl9XFx1ezFGNjA0fVxcdXsxRjYwMH1cXHV7MUY1QTR9XFx1ezFGNjAzfVxcdXsxRjRBRn1cXHV7MUY2NDh9XFx1ezFGNDQ3fVxcdXsxRjNCNn1cXHV7MUY2MTJ9XFx1ezFGOTJEfVxcdTI3NjNcXHV7MUY2MUN9XFx1ezFGNDhCfVxcdXsxRjQ0MH1cXHV7MUY2MkF9XFx1ezFGNjExfVxcdXsxRjRBNX1cXHV7MUY2NEJ9XFx1ezFGNjFFfVxcdXsxRjYyOX1cXHV7MUY2MjF9XFx1ezFGOTJBfVxcdXsxRjQ0QX1cXHV7MUY5NzN9XFx1ezFGNjI1fVxcdXsxRjkyNH1cXHV7MUY0NDl9XFx1ezFGNDgzfVxcdXsxRjYzM31cXHUyNzBCXFx1ezFGNjFBfVxcdXsxRjYxRH1cXHV7MUY2MzR9XFx1ezFGMzFGfVxcdXsxRjYyQ31cXHV7MUY2NDN9XFx1ezFGMzQwfVxcdXsxRjMzN31cXHV7MUY2M0J9XFx1ezFGNjEzfVxcdTJCNTBcXHUyNzA1XFx1ezFGOTdBfVxcdXsxRjMwOH1cXHV7MUY2MDh9XFx1ezFGOTE4fVxcdXsxRjRBNn1cXHUyNzE0XFx1ezFGNjIzfVxcdXsxRjNDM31cXHV7MUY0OTB9XFx1MjYzOVxcdXsxRjM4QX1cXHV7MUY0OTh9XFx1ezFGNjIwfVxcdTI2MURcXHV7MUY2MTV9XFx1ezFGMzNBfVxcdXsxRjM4Mn1cXHV7MUYzM0J9XFx1ezFGNjEwfVxcdXsxRjU5NX1cXHV7MUY0OUR9XFx1ezFGNjRBfVxcdXsxRjYzOX1cXHV7MUY1RTN9XFx1ezFGNEFCfVxcdXsxRjQ4MH1cXHV7MUY0NTF9XFx1ezFGM0I1fVxcdXsxRjkxRX1cXHV7MUY2MUJ9XFx1ezFGNTM0fVxcdXsxRjYyNH1cXHV7MUYzM0N9XFx1ezFGNjJCfVxcdTI2QkRcXHV7MUY5MTl9XFx1MjYxNVxcdXsxRjNDNn1cXHV7MUY5MkJ9XFx1ezFGNDQ4fVxcdXsxRjYyRX1cXHV7MUY2NDZ9XFx1ezFGMzdCfVxcdXsxRjM0M31cXHV7MUY0MzZ9XFx1ezFGNDgxfVxcdXsxRjYzMn1cXHV7MUYzM0Z9XFx1ezFGOUUxfVxcdXsxRjM4MX1cXHUyNkExXFx1ezFGMzFFfVxcdXsxRjM4OH1cXHUyNzRDXFx1MjcwQVxcdXsxRjQ0Qn1cXHV7MUY2MzB9XFx1ezFGOTI4fVxcdXsxRjYzNn1cXHV7MUY5MUR9XFx1ezFGNkI2fVxcdXsxRjRCMH1cXHV7MUYzNTN9XFx1ezFGNEEyfVxcdXsxRjkxRn1cXHV7MUY2NDF9XFx1ezFGNkE4fVxcdXsxRjRBOH1cXHV7MUY5MkN9XFx1MjcwOFxcdXsxRjM4MH1cXHV7MUYzN0F9XFx1ezFGOTEzfVxcdXsxRjYxOX1cXHV7MUY0OUZ9XFx1ezFGMzMxfVxcdXsxRjYxNn1cXHV7MUY0NzZ9XFx1ezFGOTc0fVxcdTI1QjZcXHUyN0ExXFx1Mjc1M1xcdXsxRjQ4RX1cXHV7MUY0Qjh9XFx1MkIwN1xcdXsxRjYyOH1cXHV7MUYzMUF9XFx1ezFGOThCfVxcdXsxRjYzN31cXHV7MUY1N0F9XFx1MjZBMFxcdXsxRjY0NX1cXHV7MUY2MUZ9XFx1ezFGNjM1fVxcdXsxRjQ0RX1cXHV7MUY5MzJ9XFx1ezFGOTIwfVxcdXsxRjkyN31cXHV7MUY0Q0N9XFx1ezFGNTM1fVxcdXsxRjQ4NX1cXHV7MUY5RDB9XFx1ezFGNDNFfVxcdXsxRjM1Mn1cXHV7MUY2MTd9XFx1ezFGOTExfVxcdXsxRjMwQX1cXHV7MUY5MkZ9XFx1ezFGNDM3fVxcdTI2MEVcXHV7MUY0QTd9XFx1ezFGNjJGfVxcdXsxRjQ4Nn1cXHV7MUY0NDZ9XFx1ezFGM0E0fVxcdXsxRjY0N31cXHV7MUYzNTF9XFx1Mjc0NFxcdXsxRjMzNH1cXHV7MUY0QTN9XFx1ezFGNDM4fVxcdXsxRjQ4Q31cXHV7MUY0Q0R9XFx1ezFGOTQwfVxcdXsxRjkyMn1cXHV7MUY0NDV9XFx1ezFGNEExfVxcdXsxRjRBOX1cXHV7MUY0NTB9XFx1ezFGNEY4fVxcdXsxRjQ3Qn1cXHV7MUY5MTB9XFx1ezFGOTJFfVxcdXsxRjNCQ31cXHV7MUY5NzV9XFx1ezFGNkE5fVxcdXsxRjM0RX1cXHV7MUYzNEF9XFx1ezFGNDdDfVxcdXsxRjQ4RH1cXHV7MUY0RTN9XFx1ezFGOTQyfVwiKSxYcj1haS5yZWR1Y2UoKHIsZSx0KT0+KHJbdF09ZSxyKSxbXSksWnI9YWkucmVkdWNlKChyLGUsdCk9PihyW2UuY29kZVBvaW50QXQoMCldPXQsciksW10pO2Z1bmN0aW9uIFFyKHIpe3JldHVybiByLnJlZHVjZSgoZSx0KT0+KGUrPVhyW3RdLGUpLFwiXCIpfWZ1bmN0aW9uIGVuKHIpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2Ygcil7Y29uc3QgaT1aclt0LmNvZGVQb2ludEF0KDApXTtpZihpPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgTm9uLWJhc2UyNTZlbW9qaSBjaGFyYWN0ZXI6ICR7dH1gKTtlLnB1c2goaSl9cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpfWNvbnN0IHRuPVNlKHtwcmVmaXg6XCJcXHV7MUY2ODB9XCIsbmFtZTpcImJhc2UyNTZlbW9qaVwiLGVuY29kZTpRcixkZWNvZGU6ZW59KTt2YXIgc249T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTI1NmVtb2ppOnRufSkscm49aGksY2k9MTI4LG5uPTEyNyxvbj1+bm4sYW49TWF0aC5wb3coMiwzMSk7ZnVuY3Rpb24gaGkocixlLHQpe2U9ZXx8W10sdD10fHwwO2Zvcih2YXIgaT10O3I+PWFuOyllW3QrK109ciYyNTV8Y2ksci89MTI4O2Zvcig7ciZvbjspZVt0KytdPXImMjU1fGNpLHI+Pj49NztyZXR1cm4gZVt0XT1yfDAsaGkuYnl0ZXM9dC1pKzEsZX12YXIgY249VmUsaG49MTI4LGxpPTEyNztmdW5jdGlvbiBWZShyLGkpe3ZhciB0PTAsaT1pfHwwLHM9MCxuPWksbyxhPXIubGVuZ3RoO2Rve2lmKG4+PWEpdGhyb3cgVmUuYnl0ZXM9MCxuZXcgUmFuZ2VFcnJvcihcIkNvdWxkIG5vdCBkZWNvZGUgdmFyaW50XCIpO289cltuKytdLHQrPXM8Mjg/KG8mbGkpPDxzOihvJmxpKSpNYXRoLnBvdygyLHMpLHMrPTd9d2hpbGUobz49aG4pO3JldHVybiBWZS5ieXRlcz1uLWksdH12YXIgbG49TWF0aC5wb3coMiw3KSx1bj1NYXRoLnBvdygyLDE0KSxkbj1NYXRoLnBvdygyLDIxKSxnbj1NYXRoLnBvdygyLDI4KSxwbj1NYXRoLnBvdygyLDM1KSx5bj1NYXRoLnBvdygyLDQyKSxibj1NYXRoLnBvdygyLDQ5KSxtbj1NYXRoLnBvdygyLDU2KSxmbj1NYXRoLnBvdygyLDYzKSxEbj1mdW5jdGlvbihyKXtyZXR1cm4gcjxsbj8xOnI8dW4/MjpyPGRuPzM6cjxnbj80OnI8cG4/NTpyPHluPzY6cjxibj83OnI8bW4/ODpyPGZuPzk6MTB9LHZuPXtlbmNvZGU6cm4sZGVjb2RlOmNuLGVuY29kaW5nTGVuZ3RoOkRufSx1aT12bjtjb25zdCBkaT0ocixlLHQ9MCk9Pih1aS5lbmNvZGUocixlLHQpLGUpLGdpPXI9PnVpLmVuY29kaW5nTGVuZ3RoKHIpLHFlPShyLGUpPT57Y29uc3QgdD1lLmJ5dGVMZW5ndGgsaT1naShyKSxzPWkrZ2kodCksbj1uZXcgVWludDhBcnJheShzK3QpO3JldHVybiBkaShyLG4sMCksZGkodCxuLGkpLG4uc2V0KGUscyksbmV3IHduKHIsdCxlLG4pfTtjbGFzcyB3bntjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLmNvZGU9ZSx0aGlzLnNpemU9dCx0aGlzLmRpZ2VzdD1pLHRoaXMuYnl0ZXM9c319Y29uc3QgcGk9KHtuYW1lOnIsY29kZTplLGVuY29kZTp0fSk9Pm5ldyBfbihyLGUsdCk7Y2xhc3MgX257Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMubmFtZT1lLHRoaXMuY29kZT10LHRoaXMuZW5jb2RlPWl9ZGlnZXN0KGUpe2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXtjb25zdCB0PXRoaXMuZW5jb2RlKGUpO3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheT9xZSh0aGlzLmNvZGUsdCk6dC50aGVuKGk9PnFlKHRoaXMuY29kZSxpKSl9ZWxzZSB0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX19Y29uc3QgeWk9cj0+YXN5bmMgZT0+bmV3IFVpbnQ4QXJyYXkoYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QocixlKSksRW49cGkoe25hbWU6XCJzaGEyLTI1NlwiLGNvZGU6MTgsZW5jb2RlOnlpKFwiU0hBLTI1NlwiKX0pLEluPXBpKHtuYW1lOlwic2hhMi01MTJcIixjb2RlOjE5LGVuY29kZTp5aShcIlNIQS01MTJcIil9KTt2YXIgVG49T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2hhMjU2OkVuLHNoYTUxMjpJbn0pO2NvbnN0IGJpPTAsQ249XCJpZGVudGl0eVwiLG1pPW5pLFBuPXI9PnFlKGJpLG1pKHIpKSxTbj17Y29kZTpiaSxuYW1lOkNuLGVuY29kZTptaSxkaWdlc3Q6UG59O3ZhciBPbj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpZGVudGl0eTpTbn0pO25ldyBUZXh0RW5jb2RlcixuZXcgVGV4dERlY29kZXI7Y29uc3QgZmk9ey4uLnZyLC4uLl9yLC4uLklyLC4uLkNyLC4uLk9yLC4uLlVyLC4uLktyLC4uLnFyLC4uLkpyLC4uLnNufTsoey4uLlRuLC4uLk9ufSk7ZnVuY3Rpb24gRGkocil7cmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyIT1udWxsP25ldyBVaW50OEFycmF5KHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxyLmJ5dGVMZW5ndGgpOnJ9ZnVuY3Rpb24gUm4ocj0wKXtyZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIhPW51bGwmJmdsb2JhbFRoaXMuQnVmZmVyLmFsbG9jVW5zYWZlIT1udWxsP0RpKGdsb2JhbFRoaXMuQnVmZmVyLmFsbG9jVW5zYWZlKHIpKTpuZXcgVWludDhBcnJheShyKX1mdW5jdGlvbiB2aShyLGUsdCxpKXtyZXR1cm57bmFtZTpyLHByZWZpeDplLGVuY29kZXI6e25hbWU6cixwcmVmaXg6ZSxlbmNvZGU6dH0sZGVjb2Rlcjp7ZGVjb2RlOml9fX1jb25zdCB3aT12aShcInV0ZjhcIixcInVcIixyPT5cInVcIituZXcgVGV4dERlY29kZXIoXCJ1dGY4XCIpLmRlY29kZShyKSxyPT5uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoci5zdWJzdHJpbmcoMSkpKSxHZT12aShcImFzY2lpXCIsXCJhXCIscj0+e2xldCBlPVwiYVwiO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoclt0XSk7cmV0dXJuIGV9LHI9PntyPXIuc3Vic3RyaW5nKDEpO2NvbnN0IGU9Um4oci5sZW5ndGgpO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKWVbdF09ci5jaGFyQ29kZUF0KHQpO3JldHVybiBlfSksQW49e3V0Zjg6d2ksXCJ1dGYtOFwiOndpLGhleDpmaS5iYXNlMTYsbGF0aW4xOkdlLGFzY2lpOkdlLGJpbmFyeTpHZSwuLi5maX07ZnVuY3Rpb24geG4ocixlPVwidXRmOFwiKXtjb25zdCB0PUFuW2VdO2lmKCF0KXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIke2V9XCJgKTtyZXR1cm4oZT09PVwidXRmOFwifHxlPT09XCJ1dGYtOFwiKSYmZ2xvYmFsVGhpcy5CdWZmZXIhPW51bGwmJmdsb2JhbFRoaXMuQnVmZmVyLmZyb20hPW51bGw/RGkoZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShyLFwidXRmLThcIikpOnQuZGVjb2Rlci5kZWNvZGUoYCR7dC5wcmVmaXh9JHtyfWApfXZhciBObj1PYmplY3QuZGVmaW5lUHJvcGVydHksJG49KHIsZSx0KT0+ZSBpbiByP05uKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxKPShyLGUsdCk9PiRuKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgX2l7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LEoodGhpcyxcImtleWNoYWluXCIsbmV3IE1hcCksSih0aGlzLFwibmFtZVwiLFN0KSxKKHRoaXMsXCJ2ZXJzaW9uXCIsT3QpLEoodGhpcyxcImluaXRpYWxpemVkXCIsITEpLEoodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixXKSxKKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdCBpPWF3YWl0IHRoaXMuZ2V0S2V5Q2hhaW4oKTt0eXBlb2YgaTxcInVcIiYmKHRoaXMua2V5Y2hhaW49aSksdGhpcy5pbml0aWFsaXplZD0hMH19KSxKKHRoaXMsXCJoYXNcIixpPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5oYXMoaSkpKSxKKHRoaXMsXCJzZXRcIixhc3luYyhpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5zZXQoaSxzKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLEoodGhpcyxcImdldFwiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXRoaXMua2V5Y2hhaW4uZ2V0KGkpO2lmKHR5cGVvZiBzPlwidVwiKXtjb25zdHttZXNzYWdlOm59PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKG4pfXJldHVybiBzfSksSih0aGlzLFwiZGVsXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uZGVsZXRlKGkpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9aih0LHRoaXMubmFtZSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWFzeW5jIHNldEtleUNoYWluKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LE5lKGUpKX1hc3luYyBnZXRLZXlDaGFpbigpe2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpO3JldHVybiB0eXBlb2YgZTxcInVcIj8kZShlKTp2b2lkIDB9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0S2V5Q2hhaW4odGhpcy5rZXljaGFpbil9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciB6bj1PYmplY3QuZGVmaW5lUHJvcGVydHksTG49KHIsZSx0KT0+ZSBpbiByP3puKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCx4PShyLGUsdCk9PkxuKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgRWl7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQseCh0aGlzLFwibmFtZVwiLEN0KSx4KHRoaXMsXCJrZXljaGFpblwiKSx4KHRoaXMsXCJyYW5kb21TZXNzaW9uSWRlbnRpZmllclwiLHplKCkpLHgodGhpcyxcImluaXRpYWxpemVkXCIsITEpLHgodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMua2V5Y2hhaW4uaW5pdCgpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSkseCh0aGlzLFwiaGFzS2V5c1wiLHM9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmtleWNoYWluLmhhcyhzKSkpLHgodGhpcyxcImdldENsaWVudElkXCIsYXN5bmMoKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRDbGllbnRTZWVkKCksbj1JZS5nZW5lcmF0ZUtleVBhaXIocyk7cmV0dXJuIEllLmVuY29kZUlzcyhuLnB1YmxpY0tleSl9KSx4KHRoaXMsXCJnZW5lcmF0ZUtleVBhaXJcIiwoKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9cHMoKTtyZXR1cm4gdGhpcy5zZXRQcml2YXRlS2V5KHMucHVibGljS2V5LHMucHJpdmF0ZUtleSl9KSx4KHRoaXMsXCJzaWduSldUXCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49YXdhaXQgdGhpcy5nZXRDbGllbnRTZWVkKCksbz1JZS5nZW5lcmF0ZUtleVBhaXIobiksYT10aGlzLnJhbmRvbVNlc3Npb25JZGVudGlmaWVyLGM9UHQ7cmV0dXJuIGF3YWl0IEllLnNpZ25KV1QoYSxzLGMsbyl9KSx4KHRoaXMsXCJnZW5lcmF0ZVNoYXJlZEtleVwiLChzLG4sbyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBhPXRoaXMuZ2V0UHJpdmF0ZUtleShzKSxjPXlzKGEsbik7cmV0dXJuIHRoaXMuc2V0U3ltS2V5KGMsbyl9KSx4KHRoaXMsXCJzZXRTeW1LZXlcIixhc3luYyhzLG4pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbz1ufHxicyhzKTtyZXR1cm4gYXdhaXQgdGhpcy5rZXljaGFpbi5zZXQobyxzKSxvfSkseCh0aGlzLFwiZGVsZXRlS2V5UGFpclwiLGFzeW5jIHM9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmtleWNoYWluLmRlbChzKX0pLHgodGhpcyxcImRlbGV0ZVN5bUtleVwiLGFzeW5jIHM9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmtleWNoYWluLmRlbChzKX0pLHgodGhpcyxcImVuY29kZVwiLGFzeW5jKHMsbixvKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGE9bXMobyksYz1ncyhuKTtpZihhdChhKSlyZXR1cm4gZnMoYyxvPy5lbmNvZGluZyk7aWYoY3QoYSkpe2NvbnN0IHk9YS5zZW5kZXJQdWJsaWNLZXksdz1hLnJlY2VpdmVyUHVibGljS2V5O3M9YXdhaXQgdGhpcy5nZW5lcmF0ZVNoYXJlZEtleSh5LHcpfWNvbnN0IGg9dGhpcy5nZXRTeW1LZXkocykse3R5cGU6bCxzZW5kZXJQdWJsaWNLZXk6cH09YTtyZXR1cm4gRHMoe3R5cGU6bCxzeW1LZXk6aCxtZXNzYWdlOmMsc2VuZGVyUHVibGljS2V5OnAsZW5jb2Rpbmc6bz8uZW5jb2Rpbmd9KX0pLHgodGhpcyxcImRlY29kZVwiLGFzeW5jKHMsbixvKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGE9dnMobixvKTtpZihhdChhKSl7Y29uc3QgYz13cyhuLG8/LmVuY29kaW5nKTtyZXR1cm4gbnQoYyl9aWYoY3QoYSkpe2NvbnN0IGM9YS5yZWNlaXZlclB1YmxpY0tleSxoPWEuc2VuZGVyUHVibGljS2V5O3M9YXdhaXQgdGhpcy5nZW5lcmF0ZVNoYXJlZEtleShjLGgpfXRyeXtjb25zdCBjPXRoaXMuZ2V0U3ltS2V5KHMpLGg9X3Moe3N5bUtleTpjLGVuY29kZWQ6bixlbmNvZGluZzpvPy5lbmNvZGluZ30pO3JldHVybiBudChoKX1jYXRjaChjKXt0aGlzLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGRlY29kZSBtZXNzYWdlIGZyb20gdG9waWM6ICcke3N9JywgY2xpZW50SWQ6ICcke2F3YWl0IHRoaXMuZ2V0Q2xpZW50SWQoKX0nYCksdGhpcy5sb2dnZXIuZXJyb3IoYyl9fSkseCh0aGlzLFwiZ2V0UGF5bG9hZFR5cGVcIiwocyxuPWx0KT0+e2NvbnN0IG89aHQoe2VuY29kZWQ6cyxlbmNvZGluZzpufSk7cmV0dXJuIEVzKG8udHlwZSl9KSx4KHRoaXMsXCJnZXRQYXlsb2FkU2VuZGVyUHVibGljS2V5XCIsKHMsbj1sdCk9Pntjb25zdCBvPWh0KHtlbmNvZGVkOnMsZW5jb2Rpbmc6bn0pO3JldHVybiBvLnNlbmRlclB1YmxpY0tleT9WcyhvLnNlbmRlclB1YmxpY0tleSxJcyk6dm9pZCAwfSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9aih0LHRoaXMubmFtZSksdGhpcy5rZXljaGFpbj1pfHxuZXcgX2kodGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1hc3luYyBzZXRQcml2YXRlS2V5KGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMua2V5Y2hhaW4uc2V0KGUsdCksZX1nZXRQcml2YXRlS2V5KGUpe3JldHVybiB0aGlzLmtleWNoYWluLmdldChlKX1hc3luYyBnZXRDbGllbnRTZWVkKCl7bGV0IGU9XCJcIjt0cnl7ZT10aGlzLmtleWNoYWluLmdldChNZSl9Y2F0Y2h7ZT16ZSgpLGF3YWl0IHRoaXMua2V5Y2hhaW4uc2V0KE1lLGUpfXJldHVybiB4bihlLFwiYmFzZTE2XCIpfWdldFN5bUtleShlKXtyZXR1cm4gdGhpcy5rZXljaGFpbi5nZXQoZSl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBrbj1PYmplY3QuZGVmaW5lUHJvcGVydHksam49T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsVW49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsSWk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxGbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LE1uPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsV2U9KHIsZSx0KT0+ZSBpbiByP2tuKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxLbj0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpRm4uY2FsbChlLHQpJiZXZShyLHQsZVt0XSk7aWYoSWkpZm9yKHZhciB0IG9mIElpKGUpKU1uLmNhbGwoZSx0KSYmV2Uocix0LGVbdF0pO3JldHVybiByfSxCbj0ocixlKT0+am4ocixVbihlKSksSz0ocixlLHQpPT5XZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFRpIGV4dGVuZHMgdHN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMubG9nZ2VyPWUsdGhpcy5jb3JlPXQsSyh0aGlzLFwibWVzc2FnZXNcIixuZXcgTWFwKSxLKHRoaXMsXCJtZXNzYWdlc1dpdGhvdXRDbGllbnRBY2tcIixuZXcgTWFwKSxLKHRoaXMsXCJuYW1lXCIsUnQpLEsodGhpcyxcInZlcnNpb25cIixBdCksSyh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksSyh0aGlzLFwic3RvcmFnZVByZWZpeFwiLFcpLEsodGhpcyxcImluaXRcIixhc3luYygpPT57aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2NvbnN0IGk9YXdhaXQgdGhpcy5nZXRSZWxheWVyTWVzc2FnZXMoKTt0eXBlb2YgaTxcInVcIiYmKHRoaXMubWVzc2FnZXM9aSk7Y29uc3Qgcz1hd2FpdCB0aGlzLmdldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2soKTt0eXBlb2YgczxcInVcIiYmKHRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrPXMpLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJyZXN0b3JlXCIsc2l6ZTp0aGlzLm1lc3NhZ2VzLnNpemV9KX1jYXRjaChpKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoaSl9ZmluYWxseXt0aGlzLmluaXRpYWxpemVkPSEwfX19KSxLKHRoaXMsXCJzZXRcIixhc3luYyhpLHMsbik9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBvPVRlKHMpO2xldCBhPXRoaXMubWVzc2FnZXMuZ2V0KGkpO2lmKHR5cGVvZiBhPlwidVwiJiYoYT17fSksdHlwZW9mIGFbb108XCJ1XCIpcmV0dXJuIG87aWYoYVtvXT1zLHRoaXMubWVzc2FnZXMuc2V0KGksYSksbj09PXllLmluYm91bmQpe2NvbnN0IGM9dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZ2V0KGkpfHx7fTt0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5zZXQoaSxCbihLbih7fSxjKSx7W29dOnN9KSl9cmV0dXJuIGF3YWl0IHRoaXMucGVyc2lzdCgpLG99KSxLKHRoaXMsXCJnZXRcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7bGV0IHM9dGhpcy5tZXNzYWdlcy5nZXQoaSk7cmV0dXJuIHR5cGVvZiBzPlwidVwiJiYocz17fSksc30pLEsodGhpcyxcImdldFdpdGhvdXRBY2tcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz17fTtmb3IoY29uc3QgbiBvZiBpKXtjb25zdCBvPXRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmdldChuKXx8e307c1tuXT1PYmplY3QudmFsdWVzKG8pfXJldHVybiBzfSksSyh0aGlzLFwiaGFzXCIsKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBuPXRoaXMuZ2V0KGkpLG89VGUocyk7cmV0dXJuIHR5cGVvZiBuW29dPFwidVwifSksSyh0aGlzLFwiYWNrXCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZ2V0KGkpO2lmKHR5cGVvZiBuPlwidVwiKXJldHVybjtjb25zdCBvPVRlKHMpO2RlbGV0ZSBuW29dLE9iamVjdC5rZXlzKG4pLmxlbmd0aD09PTA/dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZGVsZXRlKGkpOnRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLnNldChpLG4pLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksSyh0aGlzLFwiZGVsXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubWVzc2FnZXMuZGVsZXRlKGkpLHRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmRlbGV0ZShpKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLHRoaXMubG9nZ2VyPWooZSx0aGlzLm5hbWUpLHRoaXMuY29yZT10fWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgc3RvcmFnZUtleVdpdGhvdXRDbGllbnRBY2soKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lK1wiX3dpdGhvdXRDbGllbnRBY2tcIn1hc3luYyBzZXRSZWxheWVyTWVzc2FnZXMoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksTmUoZSkpfWFzeW5jIHNldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2soZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXlXaXRob3V0Q2xpZW50QWNrLE5lKGUpKX1hc3luYyBnZXRSZWxheWVyTWVzc2FnZXMoKXtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KTtyZXR1cm4gdHlwZW9mIGU8XCJ1XCI/JGUoZSk6dm9pZCAwfWFzeW5jIGdldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2soKXtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5V2l0aG91dENsaWVudEFjayk7cmV0dXJuIHR5cGVvZiBlPFwidVwiPyRlKGUpOnZvaWQgMH1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRSZWxheWVyTWVzc2FnZXModGhpcy5tZXNzYWdlcyksYXdhaXQgdGhpcy5zZXRSZWxheWVyTWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKHRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09YihcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIFZuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxxbj1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxHbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxDaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFduPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksSG49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxIZT0ocixlLHQpPT5lIGluIHI/Vm4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LGNlPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlXbi5jYWxsKGUsdCkmJkhlKHIsdCxlW3RdKTtpZihDaSlmb3IodmFyIHQgb2YgQ2koZSkpSG4uY2FsbChlLHQpJiZIZShyLHQsZVt0XSk7cmV0dXJuIHJ9LFBpPShyLGUpPT5xbihyLEduKGUpKSxHPShyLGUsdCk9PkhlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgWW4gZXh0ZW5kcyBpc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9dCxHKHRoaXMsXCJldmVudHNcIixuZXcgaWUpLEcodGhpcyxcIm5hbWVcIixOdCksRyh0aGlzLFwicXVldWVcIixuZXcgTWFwKSxHKHRoaXMsXCJwdWJsaXNoVGltZW91dFwiLCQoc3QpKSxHKHRoaXMsXCJpbml0aWFsUHVibGlzaFRpbWVvdXRcIiwkKFEqMTUpKSxHKHRoaXMsXCJuZWVkc1RyYW5zcG9ydFJlc3RhcnRcIiwhMSksRyh0aGlzLFwicHVibGlzaFwiLGFzeW5jKGkscyxuKT0+e3ZhciBvLGEsYyxoLGw7dGhpcy5sb2dnZXIuZGVidWcoXCJQdWJsaXNoaW5nIFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJwdWJsaXNoXCIscGFyYW1zOnt0b3BpYzppLG1lc3NhZ2U6cyxvcHRzOm59fSk7Y29uc3QgcD1uPy50dGx8fHh0LHk9bj8ucHJvbXB0fHwhMSx3PW4/LnRhZ3x8MCx1PW4/LmlkfHxqZSgpLnRvU3RyaW5nKCksbT1uZShDZSgpLnByb3RvY29sKSxEPXtpZDp1LG1ldGhvZDpuPy5wdWJsaXNoTWV0aG9kfHxtLnB1Ymxpc2gscGFyYW1zOmNlKHt0b3BpYzppLG1lc3NhZ2U6cyx0dGw6cCxwcm9tcHQ6eSx0YWc6dyxhdHRlc3RhdGlvbjpuPy5hdHRlc3RhdGlvbn0sbj8udHZmKX0sXz1gRmFpbGVkIHRvIHB1Ymxpc2ggcGF5bG9hZCwgcGxlYXNlIHRyeSBhZ2Fpbi4gaWQ6JHt1fSB0YWc6JHt3fWA7dHJ5e3VlKChvPUQucGFyYW1zKT09bnVsbD92b2lkIDA6by5wcm9tcHQpJiYoKGE9RC5wYXJhbXMpPT1udWxsfHxkZWxldGUgYS5wcm9tcHQpLHVlKChjPUQucGFyYW1zKT09bnVsbD92b2lkIDA6Yy50YWcpJiYoKGg9RC5wYXJhbXMpPT1udWxsfHxkZWxldGUgaC50YWcpO2NvbnN0IEU9bmV3IFByb21pc2UoYXN5bmMgTD0+e2NvbnN0IEk9KHtpZDpUfSk9Pnt2YXIgUzsoKFM9RC5pZCk9PW51bGw/dm9pZCAwOlMudG9TdHJpbmcoKSk9PT1ULnRvU3RyaW5nKCkmJih0aGlzLnJlbW92ZVJlcXVlc3RGcm9tUXVldWUoVCksdGhpcy5yZWxheWVyLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihDLnB1Ymxpc2gsSSksTCgpKX07dGhpcy5yZWxheWVyLmV2ZW50cy5vbihDLnB1Ymxpc2gsSSk7Y29uc3Qgaz1IKG5ldyBQcm9taXNlKChULFMpPT57dGhpcy5ycGNQdWJsaXNoKEQsbikudGhlbihUKS5jYXRjaChPPT57dGhpcy5sb2dnZXIud2FybihPLE8/Lm1lc3NhZ2UpLFMoTyl9KX0pLHRoaXMuaW5pdGlhbFB1Ymxpc2hUaW1lb3V0LGBGYWlsZWQgaW5pdGlhbCBwdWJsaXNoLCByZXRyeWluZy4uLi4gaWQ6JHt1fSB0YWc6JHt3fWApO3RyeXthd2FpdCBrLHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCxJKX1jYXRjaChUKXt0aGlzLnF1ZXVlLnNldCh1LHtyZXF1ZXN0OkQsb3B0czpuLGF0dGVtcHQ6MX0pLHRoaXMubG9nZ2VyLndhcm4oVCxUPy5tZXNzYWdlKX19KTt0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInB1Ymxpc2hcIixwYXJhbXM6e2lkOnUsdG9waWM6aSxtZXNzYWdlOnMsb3B0czpufX0pLGF3YWl0IEgoRSx0aGlzLnB1Ymxpc2hUaW1lb3V0LF8pfWNhdGNoKEUpe2lmKHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFB1Ymxpc2ggUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci5lcnJvcihFKSwobD1uPy5pbnRlcm5hbCkhPW51bGwmJmwudGhyb3dPbkZhaWxlZFB1Ymxpc2gpdGhyb3cgRX1maW5hbGx5e3RoaXMucXVldWUuZGVsZXRlKHUpfX0pLEcodGhpcyxcInB1Ymxpc2hDdXN0b21cIixhc3luYyBpPT57dmFyIHMsbixvLGEsYzt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlB1Ymxpc2hpbmcgY3VzdG9tIHBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJwdWJsaXNoQ3VzdG9tXCIscGFyYW1zOml9KTtjb25zdHtwYXlsb2FkOmgsb3B0czpsPXt9fT1pLHthdHRlc3RhdGlvbjpwLHR2Zjp5LHB1Ymxpc2hNZXRob2Q6dyxwcm9tcHQ6dSx0YWc6bSx0dGw6RD1sZX09bCxfPWwuaWR8fGplKCkudG9TdHJpbmcoKSxFPW5lKENlKCkucHJvdG9jb2wpLEw9d3x8RS5wdWJsaXNoLEk9e2lkOl8sbWV0aG9kOkwscGFyYW1zOmNlKFBpKGNlKHt9LGgpLHt0dGw6RCxwcm9tcHQ6dSx0YWc6bSxhdHRlc3RhdGlvbjpwfSkseSl9LGs9YEZhaWxlZCB0byBwdWJsaXNoIGN1c3RvbSBwYXlsb2FkLCBwbGVhc2UgdHJ5IGFnYWluLiBpZDoke199IHRhZzoke219YDt0cnl7dWUoKHM9SS5wYXJhbXMpPT1udWxsP3ZvaWQgMDpzLnByb21wdCkmJigobj1JLnBhcmFtcyk9PW51bGx8fGRlbGV0ZSBuLnByb21wdCksdWUoKG89SS5wYXJhbXMpPT1udWxsP3ZvaWQgMDpvLnRhZykmJigoYT1JLnBhcmFtcyk9PW51bGx8fGRlbGV0ZSBhLnRhZyk7Y29uc3QgVD1uZXcgUHJvbWlzZShhc3luYyBTPT57Y29uc3QgTz0oe2lkOlp9KT0+e3ZhciBfZTsoKF9lPUkuaWQpPT1udWxsP3ZvaWQgMDpfZS50b1N0cmluZygpKT09PVoudG9TdHJpbmcoKSYmKHRoaXMucmVtb3ZlUmVxdWVzdEZyb21RdWV1ZShaKSx0aGlzLnJlbGF5ZXIuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCxPKSxTKCkpfTt0aGlzLnJlbGF5ZXIuZXZlbnRzLm9uKEMucHVibGlzaCxPKTtjb25zdCB0ZT1IKG5ldyBQcm9taXNlKChaLF9lKT0+e3RoaXMucnBjUHVibGlzaChJLGwpLnRoZW4oWikuY2F0Y2goRWU9Pnt0aGlzLmxvZ2dlci53YXJuKEVlLEVlPy5tZXNzYWdlKSxfZShFZSl9KX0pLHRoaXMuaW5pdGlhbFB1Ymxpc2hUaW1lb3V0LGBGYWlsZWQgaW5pdGlhbCBjdXN0b20gcGF5bG9hZCBwdWJsaXNoLCByZXRyeWluZy4uLi4gbWV0aG9kOiR7TH0gaWQ6JHtffSB0YWc6JHttfWApO3RyeXthd2FpdCB0ZSx0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihDLnB1Ymxpc2gsTyl9Y2F0Y2goWil7dGhpcy5xdWV1ZS5zZXQoXyx7cmVxdWVzdDpJLG9wdHM6bCxhdHRlbXB0OjF9KSx0aGlzLmxvZ2dlci53YXJuKFosWj8ubWVzc2FnZSl9fSk7dGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJwdWJsaXNoXCIscGFyYW1zOntpZDpfLHBheWxvYWQ6aCxvcHRzOmx9fSksYXdhaXQgSChULHRoaXMucHVibGlzaFRpbWVvdXQsayl9Y2F0Y2goVCl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJGYWlsZWQgdG8gUHVibGlzaCBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLmVycm9yKFQpLChjPWw/LmludGVybmFsKSE9bnVsbCYmYy50aHJvd09uRmFpbGVkUHVibGlzaCl0aHJvdyBUfWZpbmFsbHl7dGhpcy5xdWV1ZS5kZWxldGUoXyl9fSksRyh0aGlzLFwib25cIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uKGkscyl9KSxHKHRoaXMsXCJvbmNlXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbmNlKGkscyl9KSxHKHRoaXMsXCJvZmZcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9mZihpLHMpfSksRyh0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGkscyl9KSx0aGlzLnJlbGF5ZXI9ZSx0aGlzLmxvZ2dlcj1qKHQsdGhpcy5uYW1lKSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKX1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1hc3luYyBycGNQdWJsaXNoKGUsdCl7dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWVzc2FnZVwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDplfSk7Y29uc3QgaT1hd2FpdCB0aGlzLnJlbGF5ZXIucmVxdWVzdChlKTtyZXR1cm4gdGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEMucHVibGlzaCxjZShjZSh7fSxlKSx0KSksdGhpcy5sb2dnZXIuZGVidWcoXCJTdWNjZXNzZnVsbHkgUHVibGlzaGVkIFBheWxvYWRcIiksaX1yZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKGUpe3RoaXMucXVldWUuZGVsZXRlKGUpfWNoZWNrUXVldWUoKXt0aGlzLnF1ZXVlLmZvckVhY2goYXN5bmMoZSx0KT0+e3ZhciBpO2NvbnN0IHM9ZS5hdHRlbXB0KzE7dGhpcy5xdWV1ZS5zZXQodCxQaShjZSh7fSxlKSx7YXR0ZW1wdDpzfSkpLHRoaXMubG9nZ2VyLndhcm4oe30sYFB1Ymxpc2hlcjogcXVldWUtPnB1Ymxpc2hpbmc6ICR7ZS5yZXF1ZXN0LmlkfSwgdGFnOiAkeyhpPWUucmVxdWVzdC5wYXJhbXMpPT1udWxsP3ZvaWQgMDppLnRhZ30sIGF0dGVtcHQ6ICR7c31gKSxhd2FpdCB0aGlzLnJwY1B1Ymxpc2goZS5yZXF1ZXN0LGUub3B0cyksdGhpcy5sb2dnZXIud2Fybih7fSxgUHVibGlzaGVyOiBxdWV1ZS0+cHVibGlzaGVkOiAke2UucmVxdWVzdC5pZH1gKX0pfXJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLnJlbGF5ZXIuY29yZS5oZWFydGJlYXQub24oc2UucHVsc2UsKCk9PntpZih0aGlzLm5lZWRzVHJhbnNwb3J0UmVzdGFydCl7dGhpcy5uZWVkc1RyYW5zcG9ydFJlc3RhcnQ9ITEsdGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEMuY29ubmVjdGlvbl9zdGFsbGVkKTtyZXR1cm59dGhpcy5jaGVja1F1ZXVlKCl9KSx0aGlzLnJlbGF5ZXIub24oQy5tZXNzYWdlX2FjayxlPT57dGhpcy5yZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKGUuaWQudG9TdHJpbmcoKSl9KX19dmFyIEpuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxYbj0ocixlLHQpPT5lIGluIHI/Sm4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LGhlPShyLGUsdCk9PlhuKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgWm57Y29uc3RydWN0b3IoKXtoZSh0aGlzLFwibWFwXCIsbmV3IE1hcCksaGUodGhpcyxcInNldFwiLChlLHQpPT57Y29uc3QgaT10aGlzLmdldChlKTt0aGlzLmV4aXN0cyhlLHQpfHx0aGlzLm1hcC5zZXQoZSxbLi4uaSx0XSl9KSxoZSh0aGlzLFwiZ2V0XCIsZT0+dGhpcy5tYXAuZ2V0KGUpfHxbXSksaGUodGhpcyxcImV4aXN0c1wiLChlLHQpPT50aGlzLmdldChlKS5pbmNsdWRlcyh0KSksaGUodGhpcyxcImRlbGV0ZVwiLChlLHQpPT57aWYodHlwZW9mIHQ+XCJ1XCIpe3RoaXMubWFwLmRlbGV0ZShlKTtyZXR1cm59aWYoIXRoaXMubWFwLmhhcyhlKSlyZXR1cm47Y29uc3QgaT10aGlzLmdldChlKTtpZighdGhpcy5leGlzdHMoZSx0KSlyZXR1cm47Y29uc3Qgcz1pLmZpbHRlcihuPT5uIT09dCk7aWYoIXMubGVuZ3RoKXt0aGlzLm1hcC5kZWxldGUoZSk7cmV0dXJufXRoaXMubWFwLnNldChlLHMpfSksaGUodGhpcyxcImNsZWFyXCIsKCk9Pnt0aGlzLm1hcC5jbGVhcigpfSl9Z2V0IHRvcGljcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSl9fXZhciBRbj1PYmplY3QuZGVmaW5lUHJvcGVydHksZW89T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsdG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsU2k9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxpbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHNvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsWWU9KHIsZSx0KT0+ZSBpbiByP1FuKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxmZT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpaW8uY2FsbChlLHQpJiZZZShyLHQsZVt0XSk7aWYoU2kpZm9yKHZhciB0IG9mIFNpKGUpKXNvLmNhbGwoZSx0KSYmWWUocix0LGVbdF0pO3JldHVybiByfSxKZT0ocixlKT0+ZW8ocix0byhlKSksZj0ocixlLHQpPT5ZZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIE9pIGV4dGVuZHMgc3N7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPXQsZih0aGlzLFwic3Vic2NyaXB0aW9uc1wiLG5ldyBNYXApLGYodGhpcyxcInRvcGljTWFwXCIsbmV3IFpuKSxmKHRoaXMsXCJldmVudHNcIixuZXcgaWUpLGYodGhpcyxcIm5hbWVcIixNdCksZih0aGlzLFwidmVyc2lvblwiLEt0KSxmKHRoaXMsXCJwZW5kaW5nXCIsbmV3IE1hcCksZih0aGlzLFwiY2FjaGVkXCIsW10pLGYodGhpcyxcImluaXRpYWxpemVkXCIsITEpLGYodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixXKSxmKHRoaXMsXCJzdWJzY3JpYmVUaW1lb3V0XCIsJChzdCkpLGYodGhpcyxcImluaXRpYWxTdWJzY3JpYmVUaW1lb3V0XCIsJChRKjE1KSksZih0aGlzLFwiY2xpZW50SWRcIiksZih0aGlzLFwiYmF0Y2hTdWJzY3JpYmVUb3BpY3NMaW1pdFwiLDUwMCksZih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSxhd2FpdCB0aGlzLnJlc3RvcmUoKSksdGhpcy5pbml0aWFsaXplZD0hMH0pLGYodGhpcyxcInN1YnNjcmliZVwiLGFzeW5jKGkscyk9Pnt2YXIgbjt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1YnNjcmliaW5nIFRvcGljXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic3Vic2NyaWJlXCIscGFyYW1zOnt0b3BpYzppLG9wdHM6c319KTt0cnl7Y29uc3Qgbz1DZShzKSxhPXt0b3BpYzppLHJlbGF5Om8sdHJhbnNwb3J0VHlwZTpzPy50cmFuc3BvcnRUeXBlfTsobj1zPy5pbnRlcm5hbCkhPW51bGwmJm4uc2tpcFN1YnNjcmliZXx8dGhpcy5wZW5kaW5nLnNldChpLGEpO2NvbnN0IGM9YXdhaXQgdGhpcy5ycGNTdWJzY3JpYmUoaSxvLHMpO3JldHVybiB0eXBlb2YgYz09XCJzdHJpbmdcIiYmKHRoaXMub25TdWJzY3JpYmUoYyxhKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBTdWJzY3JpYmVkIFRvcGljXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic3Vic2NyaWJlXCIscGFyYW1zOnt0b3BpYzppLG9wdHM6c319KSksY31jYXRjaChvKXt0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBTdWJzY3JpYmUgVG9waWNcIiksdGhpcy5sb2dnZXIuZXJyb3Iobyksb319KSxmKHRoaXMsXCJ1bnN1YnNjcmliZVwiLGFzeW5jKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0eXBlb2Ygcz8uaWQ8XCJ1XCI/YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5SWQoaSxzLmlkLHMpOmF3YWl0IHRoaXMudW5zdWJzY3JpYmVCeVRvcGljKGkscyl9KSxmKHRoaXMsXCJpc1N1YnNjcmliZWRcIixpPT5uZXcgUHJvbWlzZShzPT57cyh0aGlzLnRvcGljTWFwLnRvcGljcy5pbmNsdWRlcyhpKSl9KSksZih0aGlzLFwiaXNLbm93blRvcGljXCIsaT0+bmV3IFByb21pc2Uocz0+e3ModGhpcy50b3BpY01hcC50b3BpY3MuaW5jbHVkZXMoaSl8fHRoaXMucGVuZGluZy5oYXMoaSl8fHRoaXMuY2FjaGVkLnNvbWUobj0+bi50b3BpYz09PWkpKX0pKSxmKHRoaXMsXCJvblwiLChpLHMpPT57dGhpcy5ldmVudHMub24oaSxzKX0pLGYodGhpcyxcIm9uY2VcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uY2UoaSxzKX0pLGYodGhpcyxcIm9mZlwiLChpLHMpPT57dGhpcy5ldmVudHMub2ZmKGkscyl9KSxmKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChpLHMpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSxzKX0pLGYodGhpcyxcInN0YXJ0XCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMub25Db25uZWN0KCl9KSxmKHRoaXMsXCJzdG9wXCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMub25EaXNjb25uZWN0KCl9KSxmKHRoaXMsXCJyZXN0YXJ0XCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMucmVzdG9yZSgpLGF3YWl0IHRoaXMub25SZXN0YXJ0KCl9KSxmKHRoaXMsXCJjaGVja1BlbmRpbmdcIixhc3luYygpPT57aWYodGhpcy5wZW5kaW5nLnNpemU9PT0wJiYoIXRoaXMuaW5pdGlhbGl6ZWR8fCF0aGlzLnJlbGF5ZXIuY29ubmVjdGVkKSlyZXR1cm47Y29uc3QgaT1bXTt0aGlzLnBlbmRpbmcuZm9yRWFjaChzPT57aS5wdXNoKHMpfSksYXdhaXQgdGhpcy5iYXRjaFN1YnNjcmliZShpKX0pLGYodGhpcyxcInJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnNcIiwoKT0+e3RoaXMucmVsYXllci5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSxhc3luYygpPT57YXdhaXQgdGhpcy5jaGVja1BlbmRpbmcoKX0pLHRoaXMuZXZlbnRzLm9uKFUuY3JlYXRlZCxhc3luYyBpPT57Y29uc3Qgcz1VLmNyZWF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHtzfWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDpzLGRhdGE6aX0pLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksdGhpcy5ldmVudHMub24oVS5kZWxldGVkLGFzeW5jIGk9Pntjb25zdCBzPVUuZGVsZXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3N9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnMsZGF0YTppfSksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KX0pLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPWoodCx0aGlzLm5hbWUpLHRoaXMuY2xpZW50SWQ9XCJcIn1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMucmVsYXllci5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5zaXplfWdldCBpZHMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN1YnNjcmlwdGlvbnMua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5zdWJzY3JpcHRpb25zLnZhbHVlcygpKX1nZXQgdG9waWNzKCl7cmV0dXJuIHRoaXMudG9waWNNYXAudG9waWNzfWdldCBoYXNBbnlUb3BpY3MoKXtyZXR1cm4gdGhpcy50b3BpY01hcC50b3BpY3MubGVuZ3RoPjB8fHRoaXMucGVuZGluZy5zaXplPjB8fHRoaXMuY2FjaGVkLmxlbmd0aD4wfHx0aGlzLnN1YnNjcmlwdGlvbnMuc2l6ZT4wfWhhc1N1YnNjcmlwdGlvbihlLHQpe2xldCBpPSExO3RyeXtpPXRoaXMuZ2V0U3Vic2NyaXB0aW9uKGUpLnRvcGljPT09dH1jYXRjaHt9cmV0dXJuIGl9cmVzZXQoKXt0aGlzLmNhY2hlZD1bXSx0aGlzLmluaXRpYWxpemVkPSEwfW9uRGlzYWJsZSgpe3RoaXMudmFsdWVzLmxlbmd0aD4wJiYodGhpcy5jYWNoZWQ9dGhpcy52YWx1ZXMpLHRoaXMuc3Vic2NyaXB0aW9ucy5jbGVhcigpLHRoaXMudG9waWNNYXAuY2xlYXIoKX1hc3luYyB1bnN1YnNjcmliZUJ5VG9waWMoZSx0KXtjb25zdCBpPXRoaXMudG9waWNNYXAuZ2V0KGUpO2F3YWl0IFByb21pc2UuYWxsKGkubWFwKGFzeW5jIHM9PmF3YWl0IHRoaXMudW5zdWJzY3JpYmVCeUlkKGUscyx0KSkpfWFzeW5jIHVuc3Vic2NyaWJlQnlJZChlLHQsaSl7dGhpcy5sb2dnZXIuZGVidWcoXCJVbnN1YnNjcmliaW5nIFRvcGljXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwidW5zdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmUsaWQ6dCxvcHRzOml9fSk7dHJ5e2NvbnN0IHM9Q2UoaSk7YXdhaXQgdGhpcy5yZXN0YXJ0VG9Db21wbGV0ZSh7dG9waWM6ZSxpZDp0LHJlbGF5OnN9KSxhd2FpdCB0aGlzLnJwY1Vuc3Vic2NyaWJlKGUsdCxzKTtjb25zdCBuPWRlKFwiVVNFUl9ESVNDT05ORUNURURcIixgJHt0aGlzLm5hbWV9LCAke2V9YCk7YXdhaXQgdGhpcy5vblVuc3Vic2NyaWJlKGUsdCxuKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBVbnN1YnNjcmliZWQgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1bnN1YnNjcmliZVwiLHBhcmFtczp7dG9waWM6ZSxpZDp0LG9wdHM6aX19KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBVbnN1YnNjcmliZSBUb3BpY1wiKSx0aGlzLmxvZ2dlci5lcnJvcihzKSxzfX1hc3luYyBycGNTdWJzY3JpYmUoZSx0LGkpe3ZhciBzLG47Y29uc3Qgbz1hd2FpdCB0aGlzLmdldFN1YnNjcmlwdGlvbklkKGUpO2lmKChzPWk/LmludGVybmFsKSE9bnVsbCYmcy5za2lwU3Vic2NyaWJlKXJldHVybiBvOyghaXx8aT8udHJhbnNwb3J0VHlwZT09PWVlLnJlbGF5KSYmYXdhaXQgdGhpcy5yZXN0YXJ0VG9Db21wbGV0ZSh7dG9waWM6ZSxpZDplLHJlbGF5OnR9KTtjb25zdCBhPXttZXRob2Q6bmUodC5wcm90b2NvbCkuc3Vic2NyaWJlLHBhcmFtczp7dG9waWM6ZX19O3RoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6YX0pO2NvbnN0IGM9KG49aT8uaW50ZXJuYWwpPT1udWxsP3ZvaWQgMDpuLnRocm93T25GYWlsZWRQdWJsaXNoO3RyeXtpZihpPy50cmFuc3BvcnRUeXBlPT09ZWUubGlua19tb2RlKXJldHVybiBzZXRUaW1lb3V0KCgpPT57KHRoaXMucmVsYXllci5jb25uZWN0ZWR8fHRoaXMucmVsYXllci5jb25uZWN0aW5nKSYmdGhpcy5yZWxheWVyLnJlcXVlc3QoYSkuY2F0Y2gocD0+dGhpcy5sb2dnZXIud2FybihwKSl9LCQoUSkpLG87Y29uc3QgaD1uZXcgUHJvbWlzZShhc3luYyBwPT57Y29uc3QgeT13PT57dy50b3BpYz09PWUmJih0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihVLmNyZWF0ZWQseSkscCh3LmlkKSl9O3RoaXMuZXZlbnRzLm9uKFUuY3JlYXRlZCx5KTt0cnl7Y29uc3Qgdz1hd2FpdCBIKG5ldyBQcm9taXNlKCh1LG0pPT57dGhpcy5yZWxheWVyLnJlcXVlc3QoYSkuY2F0Y2goRD0+e3RoaXMubG9nZ2VyLndhcm4oRCxEPy5tZXNzYWdlKSxtKEQpfSkudGhlbih1KX0pLHRoaXMuaW5pdGlhbFN1YnNjcmliZVRpbWVvdXQsYFN1YnNjcmliaW5nIHRvICR7ZX0gZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluYCk7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoVS5jcmVhdGVkLHkpLHAodyl9Y2F0Y2h7fX0pLGw9YXdhaXQgSChoLHRoaXMuc3Vic2NyaWJlVGltZW91dCxgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTtpZighbCYmYyl0aHJvdyBuZXcgRXJyb3IoYFN1YnNjcmliaW5nIHRvICR7ZX0gZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluYCk7cmV0dXJuIGw/bzpudWxsfWNhdGNoKGgpe2lmKHRoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgU3Vic2NyaWJlIFBheWxvYWQgc3RhbGxlZFwiKSx0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpLGMpdGhyb3cgaH1yZXR1cm4gbnVsbH1hc3luYyBycGNCYXRjaFN1YnNjcmliZShlKXtpZighZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9ZVswXS5yZWxheSxpPXttZXRob2Q6bmUodC5wcm90b2NvbCkuYmF0Y2hTdWJzY3JpYmUscGFyYW1zOnt0b3BpY3M6ZS5tYXAocz0+cy50b3BpYyl9fTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJwYXlsb2FkXCIsZGlyZWN0aW9uOlwib3V0Z29pbmdcIixyZXF1ZXN0Oml9KTt0cnl7YXdhaXQgYXdhaXQgSChuZXcgUHJvbWlzZShzPT57dGhpcy5yZWxheWVyLnJlcXVlc3QoaSkuY2F0Y2gobj0+dGhpcy5sb2dnZXIud2FybihuKSkudGhlbihzKX0pLHRoaXMuc3Vic2NyaWJlVGltZW91dCxcInJwY0JhdGNoU3Vic2NyaWJlIGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpblwiKX1jYXRjaHt0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpfX1hc3luYyBycGNCYXRjaEZldGNoTWVzc2FnZXMoZSl7aWYoIWUubGVuZ3RoKXJldHVybjtjb25zdCB0PWVbMF0ucmVsYXksaT17bWV0aG9kOm5lKHQucHJvdG9jb2wpLmJhdGNoRmV0Y2hNZXNzYWdlcyxwYXJhbXM6e3RvcGljczplLm1hcChuPT5uLnRvcGljKX19O3RoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6aX0pO2xldCBzO3RyeXtzPWF3YWl0IGF3YWl0IEgobmV3IFByb21pc2UoKG4sbyk9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChpKS5jYXRjaChhPT57dGhpcy5sb2dnZXIud2FybihhKSxvKGEpfSkudGhlbihuKX0pLHRoaXMuc3Vic2NyaWJlVGltZW91dCxcInJwY0JhdGNoRmV0Y2hNZXNzYWdlcyBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5cIil9Y2F0Y2h7dGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEMuY29ubmVjdGlvbl9zdGFsbGVkKX1yZXR1cm4gc31ycGNVbnN1YnNjcmliZShlLHQsaSl7Y29uc3Qgcz17bWV0aG9kOm5lKGkucHJvdG9jb2wpLnVuc3Vic2NyaWJlLHBhcmFtczp7dG9waWM6ZSxpZDp0fX07cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6c30pLHRoaXMucmVsYXllci5yZXF1ZXN0KHMpfW9uU3Vic2NyaWJlKGUsdCl7dGhpcy5zZXRTdWJzY3JpcHRpb24oZSxKZShmZSh7fSx0KSx7aWQ6ZX0pKSx0aGlzLnBlbmRpbmcuZGVsZXRlKHQudG9waWMpfW9uQmF0Y2hTdWJzY3JpYmUoZSl7ZS5sZW5ndGgmJmUuZm9yRWFjaCh0PT57dGhpcy5zZXRTdWJzY3JpcHRpb24odC5pZCxmZSh7fSx0KSksdGhpcy5wZW5kaW5nLmRlbGV0ZSh0LnRvcGljKX0pfWFzeW5jIG9uVW5zdWJzY3JpYmUoZSx0LGkpe3RoaXMuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycyh0KSx0aGlzLmhhc1N1YnNjcmlwdGlvbih0LGUpJiZ0aGlzLmRlbGV0ZVN1YnNjcmlwdGlvbih0LGkpLGF3YWl0IHRoaXMucmVsYXllci5tZXNzYWdlcy5kZWwoZSl9YXN5bmMgc2V0UmVsYXllclN1YnNjcmlwdGlvbnMoZSl7YXdhaXQgdGhpcy5yZWxheWVyLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXRSZWxheWVyU3Vic2NyaXB0aW9ucygpe3JldHVybiBhd2FpdCB0aGlzLnJlbGF5ZXIuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1zZXRTdWJzY3JpcHRpb24oZSx0KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgc3Vic2NyaXB0aW9uXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic2V0U3Vic2NyaXB0aW9uXCIsaWQ6ZSxzdWJzY3JpcHRpb246dH0pLHRoaXMuYWRkU3Vic2NyaXB0aW9uKGUsdCl9YWRkU3Vic2NyaXB0aW9uKGUsdCl7dGhpcy5zdWJzY3JpcHRpb25zLnNldChlLGZlKHt9LHQpKSx0aGlzLnRvcGljTWFwLnNldCh0LnRvcGljLGUpLHRoaXMuZXZlbnRzLmVtaXQoVS5jcmVhdGVkLHQpfWdldFN1YnNjcmlwdGlvbihlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkdldHRpbmcgc3Vic2NyaXB0aW9uXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZ2V0U3Vic2NyaXB0aW9uXCIsaWQ6ZX0pO2NvbnN0IHQ9dGhpcy5zdWJzY3JpcHRpb25zLmdldChlKTtpZighdCl7Y29uc3R7bWVzc2FnZTppfT1iKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IG5ldyBFcnJvcihpKX1yZXR1cm4gdH1kZWxldGVTdWJzY3JpcHRpb24oZSx0KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRlbGV0aW5nIHN1YnNjcmlwdGlvblwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImRlbGV0ZVN1YnNjcmlwdGlvblwiLGlkOmUscmVhc29uOnR9KTtjb25zdCBpPXRoaXMuZ2V0U3Vic2NyaXB0aW9uKGUpO3RoaXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoZSksdGhpcy50b3BpY01hcC5kZWxldGUoaS50b3BpYyxlKSx0aGlzLmV2ZW50cy5lbWl0KFUuZGVsZXRlZCxKZShmZSh7fSxpKSx7cmVhc29uOnR9KSl9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0UmVsYXllclN1YnNjcmlwdGlvbnModGhpcy52YWx1ZXMpLHRoaXMuZXZlbnRzLmVtaXQoVS5zeW5jKX1hc3luYyBvblJlc3RhcnQoKXtpZih0aGlzLmNhY2hlZC5sZW5ndGgpe2NvbnN0IGU9Wy4uLnRoaXMuY2FjaGVkXSx0PU1hdGguY2VpbCh0aGlzLmNhY2hlZC5sZW5ndGgvdGhpcy5iYXRjaFN1YnNjcmliZVRvcGljc0xpbWl0KTtmb3IobGV0IGk9MDtpPHQ7aSsrKXtjb25zdCBzPWUuc3BsaWNlKDAsdGhpcy5iYXRjaFN1YnNjcmliZVRvcGljc0xpbWl0KTthd2FpdCB0aGlzLmJhdGNoU3Vic2NyaWJlKHMpfX10aGlzLmV2ZW50cy5lbWl0KFUucmVzdWJzY3JpYmVkKX1hc3luYyByZXN0b3JlKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5nZXRSZWxheWVyU3Vic2NyaXB0aW9ucygpO2lmKHR5cGVvZiBlPlwidVwifHwhZS5sZW5ndGgpcmV0dXJuO2lmKHRoaXMuc3Vic2NyaXB0aW9ucy5zaXplJiYhZS5ldmVyeSh0PT57dmFyIGk7cmV0dXJuIHQudG9waWM9PT0oKGk9dGhpcy5zdWJzY3JpcHRpb25zLmdldCh0LmlkKSk9PW51bGw/dm9pZCAwOmkudG9waWMpfSkpe2NvbnN0e21lc3NhZ2U6dH09YihcIlJFU1RPUkVfV0lMTF9PVkVSUklERVwiLHRoaXMubmFtZSk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksdGhpcy5sb2dnZXIuZXJyb3IoYCR7dGhpcy5uYW1lfTogJHtKU09OLnN0cmluZ2lmeSh0aGlzLnZhbHVlcyl9YCksbmV3IEVycm9yKHQpfXRoaXMuY2FjaGVkPWUsdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCBzdWJzY3JpcHRpb25zIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixzdWJzY3JpcHRpb25zOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHN1YnNjcmlwdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGUpfX1hc3luYyBiYXRjaFN1YnNjcmliZShlKXtlLmxlbmd0aCYmKGF3YWl0IHRoaXMucnBjQmF0Y2hTdWJzY3JpYmUoZSksdGhpcy5vbkJhdGNoU3Vic2NyaWJlKGF3YWl0IFByb21pc2UuYWxsKGUubWFwKGFzeW5jIHQ9PkplKGZlKHt9LHQpLHtpZDphd2FpdCB0aGlzLmdldFN1YnNjcmlwdGlvbklkKHQudG9waWMpfSkpKSkpfWFzeW5jIGJhdGNoRmV0Y2hNZXNzYWdlcyhlKXtpZighZS5sZW5ndGgpcmV0dXJuO3RoaXMubG9nZ2VyLnRyYWNlKGBGZXRjaGluZyBiYXRjaCBtZXNzYWdlcyBmb3IgJHtlLmxlbmd0aH0gc3Vic2NyaXB0aW9uc2ApO2NvbnN0IHQ9YXdhaXQgdGhpcy5ycGNCYXRjaEZldGNoTWVzc2FnZXMoZSk7dCYmdC5tZXNzYWdlcyYmKGF3YWl0IFRzKCQoUSkpLGF3YWl0IHRoaXMucmVsYXllci5oYW5kbGVCYXRjaE1lc3NhZ2VFdmVudHModC5tZXNzYWdlcykpfWFzeW5jIG9uQ29ubmVjdCgpe2F3YWl0IHRoaXMucmVzdGFydCgpLHRoaXMucmVzZXQoKX1vbkRpc2Nvbm5lY3QoKXt0aGlzLm9uRGlzYWJsZSgpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fWFzeW5jIHJlc3RhcnRUb0NvbXBsZXRlKGUpeyF0aGlzLnJlbGF5ZXIuY29ubmVjdGVkJiYhdGhpcy5yZWxheWVyLmNvbm5lY3RpbmcmJih0aGlzLmNhY2hlZC5wdXNoKGUpLGF3YWl0IHRoaXMucmVsYXllci50cmFuc3BvcnRPcGVuKCkpfWFzeW5jIGdldENsaWVudElkKCl7cmV0dXJuIHRoaXMuY2xpZW50SWR8fCh0aGlzLmNsaWVudElkPWF3YWl0IHRoaXMucmVsYXllci5jb3JlLmNyeXB0by5nZXRDbGllbnRJZCgpKSx0aGlzLmNsaWVudElkfWFzeW5jIGdldFN1YnNjcmlwdGlvbklkKGUpe3JldHVybiBUZShlK2F3YWl0IHRoaXMuZ2V0Q2xpZW50SWQoKSl9fXZhciBybz1PYmplY3QuZGVmaW5lUHJvcGVydHksUmk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxubz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG9vPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsWGU9KHIsZSx0KT0+ZSBpbiByP3JvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxBaT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpbm8uY2FsbChlLHQpJiZYZShyLHQsZVt0XSk7aWYoUmkpZm9yKHZhciB0IG9mIFJpKGUpKW9vLmNhbGwoZSx0KSYmWGUocix0LGVbdF0pO3JldHVybiByfSxnPShyLGUsdCk9PlhlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgeGkgZXh0ZW5kcyByc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSxnKHRoaXMsXCJwcm90b2NvbFwiLFwid2NcIiksZyh0aGlzLFwidmVyc2lvblwiLDIpLGcodGhpcyxcImNvcmVcIiksZyh0aGlzLFwibG9nZ2VyXCIpLGcodGhpcyxcImV2ZW50c1wiLG5ldyBpZSksZyh0aGlzLFwicHJvdmlkZXJcIiksZyh0aGlzLFwibWVzc2FnZXNcIiksZyh0aGlzLFwic3Vic2NyaWJlclwiKSxnKHRoaXMsXCJwdWJsaXNoZXJcIiksZyh0aGlzLFwibmFtZVwiLEx0KSxnKHRoaXMsXCJ0cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkXCIsITEpLGcodGhpcyxcImluaXRpYWxpemVkXCIsITEpLGcodGhpcyxcImNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzc1wiLCExKSxnKHRoaXMsXCJyZWxheVVybFwiKSxnKHRoaXMsXCJwcm9qZWN0SWRcIiksZyh0aGlzLFwicGFja2FnZU5hbWVcIiksZyh0aGlzLFwiYnVuZGxlSWRcIiksZyh0aGlzLFwiaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvblwiLCExKSxnKHRoaXMsXCJwaW5nVGltZW91dFwiKSxnKHRoaXMsXCJoZWFydEJlYXRUaW1lb3V0XCIsJCh4ZStBZSkpLGcodGhpcyxcInJlY29ubmVjdFRpbWVvdXRcIiksZyh0aGlzLFwiY29ubmVjdFByb21pc2VcIiksZyh0aGlzLFwicmVjb25uZWN0SW5Qcm9ncmVzc1wiLCExKSxnKHRoaXMsXCJyZXF1ZXN0c0luRmxpZ2h0XCIsW10pLGcodGhpcyxcImNvbm5lY3RUaW1lb3V0XCIsJChRKjE1KSksZyh0aGlzLFwicmVxdWVzdFwiLGFzeW5jIHQ9Pnt2YXIgaSxzO3RoaXMubG9nZ2VyLmRlYnVnKFwiUHVibGlzaGluZyBSZXF1ZXN0IFBheWxvYWRcIik7Y29uc3Qgbj10LmlkfHxqZSgpLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy50b0VzdGFibGlzaENvbm5lY3Rpb24oKTt0cnl7dGhpcy5sb2dnZXIudHJhY2Uoe2lkOm4sbWV0aG9kOnQubWV0aG9kLHRvcGljOihpPXQucGFyYW1zKT09bnVsbD92b2lkIDA6aS50b3BpY30sXCJyZWxheWVyLnJlcXVlc3QgLSBwdWJsaXNoaW5nLi4uXCIpO2NvbnN0IG89YCR7bn06JHsoKHM9dC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpzLnRhZyl8fFwiXCJ9YDt0aGlzLnJlcXVlc3RzSW5GbGlnaHQucHVzaChvKTtjb25zdCBhPWF3YWl0IHRoaXMucHJvdmlkZXIucmVxdWVzdCh0KTtyZXR1cm4gdGhpcy5yZXF1ZXN0c0luRmxpZ2h0PXRoaXMucmVxdWVzdHNJbkZsaWdodC5maWx0ZXIoYz0+YyE9PW8pLGF9Y2F0Y2gobyl7dGhyb3cgdGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBQdWJsaXNoIFJlcXVlc3Q6ICR7bn1gKSxvfX0pLGcodGhpcyxcInJlc2V0UGluZ1RpbWVvdXRcIiwoKT0+e2d0KCkmJihjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCksdGhpcy5waW5nVGltZW91dD1zZXRUaW1lb3V0KCgpPT57dmFyIHQsaSxzLG47dHJ5e3RoaXMubG9nZ2VyLmRlYnVnKHt9LFwicGluZ1RpbWVvdXQ6IENvbm5lY3Rpb24gc3RhbGxlZCwgdGVybWluYXRpbmcuLi5cIiksKG49KHM9KGk9KHQ9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOnQuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmkuc29ja2V0KT09bnVsbD92b2lkIDA6cy50ZXJtaW5hdGUpPT1udWxsfHxuLmNhbGwocyl9Y2F0Y2gobyl7dGhpcy5sb2dnZXIud2FybihvLG8/Lm1lc3NhZ2UpfX0sdGhpcy5oZWFydEJlYXRUaW1lb3V0KSl9KSxnKHRoaXMsXCJvblBheWxvYWRIYW5kbGVyXCIsdD0+e3RoaXMub25Qcm92aWRlclBheWxvYWQodCksdGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9KSxnKHRoaXMsXCJvbkNvbm5lY3RIYW5kbGVyXCIsKCk9Pnt0aGlzLmxvZ2dlci53YXJuKHt9LFwiUmVsYXllciBjb25uZWN0ZWQgXFx1ezFGNkRDfVwiKSx0aGlzLnN0YXJ0UGluZ1RpbWVvdXQoKSx0aGlzLmV2ZW50cy5lbWl0KEMuY29ubmVjdCl9KSxnKHRoaXMsXCJvbkRpc2Nvbm5lY3RIYW5kbGVyXCIsKCk9Pnt0aGlzLmxvZ2dlci53YXJuKHt9LFwiUmVsYXllciBkaXNjb25uZWN0ZWQgXFx1ezFGNkQxfVwiKSx0aGlzLnJlcXVlc3RzSW5GbGlnaHQ9W10sdGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpfSksZyh0aGlzLFwib25Qcm92aWRlckVycm9ySGFuZGxlclwiLHQ9Pnt0aGlzLmxvZ2dlci5mYXRhbChgRmF0YWwgc29ja2V0IGVycm9yOiAke3QubWVzc2FnZX1gKSx0aGlzLmV2ZW50cy5lbWl0KEMuZXJyb3IsdCksdGhpcy5sb2dnZXIuZmF0YWwoXCJGYXRhbCBzb2NrZXQgZXJyb3IgcmVjZWl2ZWQsIGNsb3NpbmcgdHJhbnNwb3J0XCIpLHRoaXMudHJhbnNwb3J0Q2xvc2UoKX0pLGcodGhpcyxcInJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnNcIiwoKT0+e3RoaXMucHJvdmlkZXIub24oTS5wYXlsb2FkLHRoaXMub25QYXlsb2FkSGFuZGxlciksdGhpcy5wcm92aWRlci5vbihNLmNvbm5lY3QsdGhpcy5vbkNvbm5lY3RIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9uKE0uZGlzY29ubmVjdCx0aGlzLm9uRGlzY29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub24oTS5lcnJvcix0aGlzLm9uUHJvdmlkZXJFcnJvckhhbmRsZXIpfSksdGhpcy5jb3JlPWUuY29yZSx0aGlzLmxvZ2dlcj10eXBlb2YgZS5sb2dnZXI8XCJ1XCImJnR5cGVvZiBlLmxvZ2dlciE9XCJzdHJpbmdcIj9qKGUubG9nZ2VyLHRoaXMubmFtZSk6UWkoaXQoe2xldmVsOmUubG9nZ2VyfHx6dH0pKSx0aGlzLm1lc3NhZ2VzPW5ldyBUaSh0aGlzLmxvZ2dlcixlLmNvcmUpLHRoaXMuc3Vic2NyaWJlcj1uZXcgT2kodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5wdWJsaXNoZXI9bmV3IFluKHRoaXMsdGhpcy5sb2dnZXIpLHRoaXMucHJvamVjdElkPWU/LnByb2plY3RJZCx0aGlzLnJlbGF5VXJsPWU/LnJlbGF5VXJsfHxLZSxDcygpP3RoaXMucGFja2FnZU5hbWU9dXQoKTpQcygpJiYodGhpcy5idW5kbGVJZD11dCgpKSx0aGlzLnByb3ZpZGVyPXt9fWFzeW5jIGluaXQoKXt0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLm1lc3NhZ2VzLmluaXQoKSx0aGlzLnN1YnNjcmliZXIuaW5pdCgpXSksdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLnRyYW5zcG9ydE9wZW4oKS5jYXRjaChlPT50aGlzLmxvZ2dlci53YXJuKGUsZT8ubWVzc2FnZSkpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWdldCBjb25uZWN0ZWQoKXt2YXIgZSx0LGk7cmV0dXJuKChpPSh0PShlPXRoaXMucHJvdmlkZXIpPT1udWxsP3ZvaWQgMDplLmNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDp0LnNvY2tldCk9PW51bGw/dm9pZCAwOmkucmVhZHlTdGF0ZSk9PT0xfHwhMX1nZXQgY29ubmVjdGluZygpe3ZhciBlLHQsaTtyZXR1cm4oKGk9KHQ9KGU9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOmUuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnQuc29ja2V0KT09bnVsbD92b2lkIDA6aS5yZWFkeVN0YXRlKT09PTB8fHRoaXMuY29ubmVjdFByb21pc2UhPT12b2lkIDB8fCExfWFzeW5jIHB1Ymxpc2goZSx0LGkpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2goZSx0LGkpLGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KHt0b3BpYzplLG1lc3NhZ2U6dCxwdWJsaXNoZWRBdDpEYXRlLm5vdygpLHRyYW5zcG9ydFR5cGU6ZWUucmVsYXl9LHllLm91dGJvdW5kKX1hc3luYyBwdWJsaXNoQ3VzdG9tKGUpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2hDdXN0b20oZSl9YXN5bmMgc3Vic2NyaWJlKGUsdCl7dmFyIGkscyxuO3RoaXMuaXNJbml0aWFsaXplZCgpLCghKHQhPW51bGwmJnQudHJhbnNwb3J0VHlwZSl8fHQ/LnRyYW5zcG9ydFR5cGU9PT1cInJlbGF5XCIpJiZhd2FpdCB0aGlzLnRvRXN0YWJsaXNoQ29ubmVjdGlvbigpO2NvbnN0IG89dHlwZW9mKChpPXQ/LmludGVybmFsKT09bnVsbD92b2lkIDA6aS50aHJvd09uRmFpbGVkUHVibGlzaCk+XCJ1XCI/ITA6KHM9dD8uaW50ZXJuYWwpPT1udWxsP3ZvaWQgMDpzLnRocm93T25GYWlsZWRQdWJsaXNoO2xldCBhPSgobj10aGlzLnN1YnNjcmliZXIudG9waWNNYXAuZ2V0KGUpKT09bnVsbD92b2lkIDA6blswXSl8fFwiXCIsYztjb25zdCBoPWw9PntsLnRvcGljPT09ZSYmKHRoaXMuc3Vic2NyaWJlci5vZmYoVS5jcmVhdGVkLGgpLGMoKSl9O3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UobD0+e2M9bCx0aGlzLnN1YnNjcmliZXIub24oVS5jcmVhdGVkLGgpfSksbmV3IFByb21pc2UoYXN5bmMobCxwKT0+e2E9YXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN1YnNjcmliZShlLEFpKHtpbnRlcm5hbDp7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6b319LHQpKS5jYXRjaCh5PT57byYmcCh5KX0pfHxhLGwoKX0pXSksYX1hc3luYyB1bnN1YnNjcmliZShlLHQpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuc3Vic2NyaWJlci51bnN1YnNjcmliZShlLHQpfW9uKGUsdCl7dGhpcy5ldmVudHMub24oZSx0KX1vbmNlKGUsdCl7dGhpcy5ldmVudHMub25jZShlLHQpfW9mZihlLHQpe3RoaXMuZXZlbnRzLm9mZihlLHQpfXJlbW92ZUxpc3RlbmVyKGUsdCl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSx0KX1hc3luYyB0cmFuc3BvcnREaXNjb25uZWN0KCl7dGhpcy5wcm92aWRlci5kaXNjb25uZWN0JiYodGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9ufHx0aGlzLmNvbm5lY3RlZCk/YXdhaXQgSCh0aGlzLnByb3ZpZGVyLmRpc2Nvbm5lY3QoKSwyZTMsXCJwcm92aWRlci5kaXNjb25uZWN0KClcIikuY2F0Y2goKCk9PnRoaXMub25Qcm92aWRlckRpc2Nvbm5lY3QoKSk6dGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpfWFzeW5jIHRyYW5zcG9ydENsb3NlKCl7dGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSEwLGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpfWFzeW5jIHRyYW5zcG9ydE9wZW4oZSl7aWYoIXRoaXMuc3Vic2NyaWJlci5oYXNBbnlUb3BpY3Mpe3RoaXMubG9nZ2VyLmluZm8oXCJTdGFydGluZyBXUyBjb25uZWN0aW9uIHNraXBwZWQgYmVjYXVzZSB0aGUgY2xpZW50IGhhcyBubyB0b3BpY3MgdG8gd29yayB3aXRoLlwiKTtyZXR1cm59aWYodGhpcy5jb25uZWN0UHJvbWlzZT8odGhpcy5sb2dnZXIuZGVidWcoe30sXCJXYWl0aW5nIGZvciBleGlzdGluZyBjb25uZWN0aW9uIGF0dGVtcHQgdG8gcmVzb2x2ZS4uLlwiKSxhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlLHRoaXMubG9nZ2VyLmRlYnVnKHt9LFwiRXhpc3RpbmcgY29ubmVjdGlvbiBhdHRlbXB0IHJlc29sdmVkXCIpKToodGhpcy5jb25uZWN0UHJvbWlzZT1uZXcgUHJvbWlzZShhc3luYyh0LGkpPT57YXdhaXQgdGhpcy5jb25uZWN0KGUpLnRoZW4odCkuY2F0Y2goaSkuZmluYWxseSgoKT0+e3RoaXMuY29ubmVjdFByb21pc2U9dm9pZCAwfSl9KSxhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlKSwhdGhpcy5jb25uZWN0ZWQpdGhyb3cgbmV3IEVycm9yKGBDb3VsZG4ndCBlc3RhYmxpc2ggc29ja2V0IGNvbm5lY3Rpb24gdG8gdGhlIHJlbGF5IHNlcnZlcjogJHt0aGlzLnJlbGF5VXJsfWApfWFzeW5jIHJlc3RhcnRUcmFuc3BvcnQoZSl7dGhpcy5sb2dnZXIuZGVidWcoe30sXCJSZXN0YXJ0aW5nIHRyYW5zcG9ydC4uLlwiKSwhdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3MmJih0aGlzLnJlbGF5VXJsPWV8fHRoaXMucmVsYXlVcmwsYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy50cmFuc3BvcnRDbG9zZSgpLGF3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpKX1hc3luYyBjb25maXJtT25saW5lU3RhdGVPclRocm93KCl7aWYoIWF3YWl0IGR0KCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gaW50ZXJuZXQgY29ubmVjdGlvbiBkZXRlY3RlZC4gUGxlYXNlIHJlc3RhcnQgeW91ciBuZXR3b3JrIGFuZCB0cnkgYWdhaW4uXCIpfWFzeW5jIGhhbmRsZUJhdGNoTWVzc2FnZUV2ZW50cyhlKXtpZihlPy5sZW5ndGg9PT0wKXt0aGlzLmxvZ2dlci50cmFjZShcIkJhdGNoIG1lc3NhZ2UgZXZlbnRzIGlzIGVtcHR5LiBJZ25vcmluZy4uLlwiKTtyZXR1cm59Y29uc3QgdD1lLnNvcnQoKGkscyk9PmkucHVibGlzaGVkQXQtcy5wdWJsaXNoZWRBdCk7dGhpcy5sb2dnZXIuZGVidWcoYEJhdGNoIG9mICR7dC5sZW5ndGh9IG1lc3NhZ2UgZXZlbnRzIHNvcnRlZGApO2Zvcihjb25zdCBpIG9mIHQpdHJ5e2F3YWl0IHRoaXMub25NZXNzYWdlRXZlbnQoaSl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzLFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBiYXRjaCBtZXNzYWdlIGV2ZW50OiBcIitzPy5tZXNzYWdlKX10aGlzLmxvZ2dlci50cmFjZShgQmF0Y2ggb2YgJHt0Lmxlbmd0aH0gbWVzc2FnZSBldmVudHMgcHJvY2Vzc2VkYCl9YXN5bmMgb25MaW5rTWVzc2FnZUV2ZW50KGUsdCl7Y29uc3R7dG9waWM6aX09ZTtpZighdC5zZXNzaW9uRXhpc3RzKXtjb25zdCBzPWdlKGxlKSxuPXt0b3BpYzppLGV4cGlyeTpzLHJlbGF5Ontwcm90b2NvbDpcImlyblwifSxhY3RpdmU6ITF9O2F3YWl0IHRoaXMuY29yZS5wYWlyaW5nLnBhaXJpbmdzLnNldChpLG4pfXRoaXMuZXZlbnRzLmVtaXQoQy5tZXNzYWdlLGUpLGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KGUseWUuaW5ib3VuZCl9YXN5bmMgY29ubmVjdChlKXthd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxlJiZlIT09dGhpcy5yZWxheVVybCYmKHRoaXMucmVsYXlVcmw9ZSxhd2FpdCB0aGlzLnRyYW5zcG9ydERpc2Nvbm5lY3QoKSksdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3M9ITAsdGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSExO2xldCB0PTE7Zm9yKDt0PDY7KXt0cnl7aWYodGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkKWJyZWFrO3RoaXMubG9nZ2VyLmRlYnVnKHt9LGBDb25uZWN0aW5nIHRvICR7dGhpcy5yZWxheVVybH0sIGF0dGVtcHQ6ICR7dH0uLi5gKSxhd2FpdCB0aGlzLmNyZWF0ZVByb3ZpZGVyKCksYXdhaXQgbmV3IFByb21pc2UoYXN5bmMoaSxzKT0+e2NvbnN0IG49KCk9PntzKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgd2hpbGUgdHJ5aW5nIHRvIGNvbm5lY3RcIikpfTt0aGlzLnByb3ZpZGVyLm9uY2UoTS5kaXNjb25uZWN0LG4pLGF3YWl0IEgobmV3IFByb21pc2UoKG8sYSk9Pnt0aGlzLnByb3ZpZGVyLmNvbm5lY3QoKS50aGVuKG8pLmNhdGNoKGEpfSksdGhpcy5jb25uZWN0VGltZW91dCxgU29ja2V0IHN0YWxsZWQgd2hlbiB0cnlpbmcgdG8gY29ubmVjdCB0byAke3RoaXMucmVsYXlVcmx9YCkuY2F0Y2gobz0+e3Mobyl9KS5maW5hbGx5KCgpPT57dGhpcy5wcm92aWRlci5vZmYoTS5kaXNjb25uZWN0LG4pLGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVvdXQpfSksYXdhaXQgbmV3IFByb21pc2UoYXN5bmMobyxhKT0+e2NvbnN0IGM9KCk9PntzKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgd2hpbGUgdHJ5aW5nIHRvIHN1YnNjcmliZVwiKSl9O3RoaXMucHJvdmlkZXIub25jZShNLmRpc2Nvbm5lY3QsYyksYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0YXJ0KCkudGhlbihvKS5jYXRjaChhKS5maW5hbGx5KCgpPT57dGhpcy5wcm92aWRlci5vZmYoTS5kaXNjb25uZWN0LGMpfSl9KSx0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb249ITEsaSgpfSl9Y2F0Y2goaSl7YXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0b3AoKTtjb25zdCBzPWk7dGhpcy5sb2dnZXIud2Fybih7fSxzLm1lc3NhZ2UpLHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMH1maW5hbGx5e3RoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzPSExfWlmKHRoaXMuY29ubmVjdGVkKXt0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxgQ29ubmVjdGVkIHRvICR7dGhpcy5yZWxheVVybH0gc3VjY2Vzc2Z1bGx5IG9uIGF0dGVtcHQ6ICR7dH1gKTticmVha31hd2FpdCBuZXcgUHJvbWlzZShpPT5zZXRUaW1lb3V0KGksJCh0KjEpKSksdCsrfX1zdGFydFBpbmdUaW1lb3V0KCl7dmFyIGUsdCxpLHMsbjtpZihndCgpKXRyeXsodD0oZT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6ZS5jb25uZWN0aW9uKSE9bnVsbCYmdC5zb2NrZXQmJigobj0ocz0oaT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6aS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6cy5zb2NrZXQpPT1udWxsfHxuLm9uKFwicGluZ1wiLCgpPT57dGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9KSksdGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9Y2F0Y2gobyl7dGhpcy5sb2dnZXIud2FybihvLG8/Lm1lc3NhZ2UpfX1hc3luYyBjcmVhdGVQcm92aWRlcigpe3RoaXMucHJvdmlkZXIuY29ubmVjdGlvbiYmdGhpcy51bnJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnMoKTtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2lnbkpXVCh0aGlzLnJlbGF5VXJsKTt0aGlzLnByb3ZpZGVyPW5ldyBxcyhuZXcgSHMoU3Moe3Nka1ZlcnNpb246UGUscHJvdG9jb2w6dGhpcy5wcm90b2NvbCx2ZXJzaW9uOnRoaXMudmVyc2lvbixyZWxheVVybDp0aGlzLnJlbGF5VXJsLHByb2plY3RJZDp0aGlzLnByb2plY3RJZCxhdXRoOmUsdXNlT25DbG9zZUV2ZW50OiEwLGJ1bmRsZUlkOnRoaXMuYnVuZGxlSWQscGFja2FnZU5hbWU6dGhpcy5wYWNrYWdlTmFtZX0pKSksdGhpcy5yZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzKCl9YXN5bmMgcmVjb3JkTWVzc2FnZUV2ZW50KGUsdCl7Y29uc3R7dG9waWM6aSxtZXNzYWdlOnN9PWU7YXdhaXQgdGhpcy5tZXNzYWdlcy5zZXQoaSxzLHQpfWFzeW5jIHNob3VsZElnbm9yZU1lc3NhZ2VFdmVudChlKXtjb25zdHt0b3BpYzp0LG1lc3NhZ2U6aX09ZTtpZighaXx8aS5sZW5ndGg9PT0wKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBpbnZhbGlkL2VtcHR5IG1lc3NhZ2U6ICR7aX1gKSwhMDtpZighYXdhaXQgdGhpcy5zdWJzY3JpYmVyLmlzS25vd25Ub3BpYyh0KSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybihgSWdub3JpbmcgbWVzc2FnZSBmb3IgdW5rbm93biB0b3BpYyAke3R9YCksITA7Y29uc3Qgcz10aGlzLm1lc3NhZ2VzLmhhcyh0LGkpO3JldHVybiBzJiZ0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBkdXBsaWNhdGUgbWVzc2FnZTogJHtpfWApLHN9YXN5bmMgb25Qcm92aWRlclBheWxvYWQoZSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJJbmNvbWluZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcImluY29taW5nXCIscGF5bG9hZDplfSksRHQoZSkpe2lmKCFlLm1ldGhvZC5lbmRzV2l0aChrdCkpcmV0dXJuO2NvbnN0IHQ9ZS5wYXJhbXMse3RvcGljOmksbWVzc2FnZTpzLHB1Ymxpc2hlZEF0Om4sYXR0ZXN0YXRpb246b309dC5kYXRhLGE9e3RvcGljOmksbWVzc2FnZTpzLHB1Ymxpc2hlZEF0Om4sdHJhbnNwb3J0VHlwZTplZS5yZWxheSxhdHRlc3RhdGlvbjpvfTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkVtaXR0aW5nIFJlbGF5ZXIgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZShBaSh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dC5pZH0sYSkpLHRoaXMuZXZlbnRzLmVtaXQodC5pZCxhKSxhd2FpdCB0aGlzLmFja25vd2xlZGdlUGF5bG9hZChlKSxhd2FpdCB0aGlzLm9uTWVzc2FnZUV2ZW50KGEpfWVsc2UgdnQoZSkmJnRoaXMuZXZlbnRzLmVtaXQoQy5tZXNzYWdlX2FjayxlKX1hc3luYyBvbk1lc3NhZ2VFdmVudChlKXthd2FpdCB0aGlzLnNob3VsZElnbm9yZU1lc3NhZ2VFdmVudChlKXx8KGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KGUseWUuaW5ib3VuZCksdGhpcy5ldmVudHMuZW1pdChDLm1lc3NhZ2UsZSkpfWFzeW5jIGFja25vd2xlZGdlUGF5bG9hZChlKXtjb25zdCB0PXd0KGUuaWQsITApO2F3YWl0IHRoaXMucHJvdmlkZXIuY29ubmVjdGlvbi5zZW5kKHQpfXVucmVnaXN0ZXJQcm92aWRlckxpc3RlbmVycygpe3RoaXMucHJvdmlkZXIub2ZmKE0ucGF5bG9hZCx0aGlzLm9uUGF5bG9hZEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKE0uY29ubmVjdCx0aGlzLm9uQ29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKE0uZGlzY29ubmVjdCx0aGlzLm9uRGlzY29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub2ZmKE0uZXJyb3IsdGhpcy5vblByb3ZpZGVyRXJyb3JIYW5kbGVyKSxjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCl9YXN5bmMgcmVnaXN0ZXJFdmVudExpc3RlbmVycygpe2xldCBlPWF3YWl0IGR0KCk7T3MoYXN5bmMgdD0+e2UhPT10JiYoZT10LHQ/YXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCkuY2F0Y2goaT0+dGhpcy5sb2dnZXIuZXJyb3IoaSxpPy5tZXNzYWdlKSk6KHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMCxhd2FpdCB0aGlzLnRyYW5zcG9ydERpc2Nvbm5lY3QoKSx0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQ9ITEpKX0pLHRoaXMuY29yZS5oZWFydGJlYXQub24oc2UucHVsc2UsYXN5bmMoKT0+e2lmKCF0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQmJiF0aGlzLmNvbm5lY3RlZCYmUnMoKSl0cnl7YXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCl9Y2F0Y2godCl7dGhpcy5sb2dnZXIud2Fybih0LHQ/Lm1lc3NhZ2UpfX0pfWFzeW5jIG9uUHJvdmlkZXJEaXNjb25uZWN0KCl7Y2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpLHRoaXMuZXZlbnRzLmVtaXQoQy5kaXNjb25uZWN0KSx0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcz0hMSwhdGhpcy5yZWNvbm5lY3RJblByb2dyZXNzJiYodGhpcy5yZWNvbm5lY3RJblByb2dyZXNzPSEwLGF3YWl0IHRoaXMuc3Vic2NyaWJlci5zdG9wKCksdGhpcy5zdWJzY3JpYmVyLmhhc0FueVRvcGljcyYmKHRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZHx8KHRoaXMucmVjb25uZWN0VGltZW91dD1zZXRUaW1lb3V0KGFzeW5jKCk9Pnthd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKS5jYXRjaChlPT50aGlzLmxvZ2dlci5lcnJvcihlLGU/Lm1lc3NhZ2UpKSx0aGlzLnJlY29ubmVjdFRpbWVvdXQ9dm9pZCAwLHRoaXMucmVjb25uZWN0SW5Qcm9ncmVzcz0hMX0sJChqdCkpKSkpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fWFzeW5jIHRvRXN0YWJsaXNoQ29ubmVjdGlvbigpe2lmKGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLCF0aGlzLmNvbm5lY3RlZCl7aWYodGhpcy5jb25uZWN0UHJvbWlzZSl7YXdhaXQgdGhpcy5jb25uZWN0UHJvbWlzZTtyZXR1cm59YXdhaXQgdGhpcy5jb25uZWN0KCl9fX1mdW5jdGlvbiBhbyhyLGUpe3JldHVybiByPT09ZXx8TnVtYmVyLmlzTmFOKHIpJiZOdW1iZXIuaXNOYU4oZSl9ZnVuY3Rpb24gTmkocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocikuZmlsdGVyKGU9Pk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChyLGUpKX1mdW5jdGlvbiAkaShyKXtyZXR1cm4gcj09bnVsbD9yPT09dm9pZCAwP1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpfWNvbnN0IGNvPVwiW29iamVjdCBSZWdFeHBdXCIsaG89XCJbb2JqZWN0IFN0cmluZ11cIixsbz1cIltvYmplY3QgTnVtYmVyXVwiLHVvPVwiW29iamVjdCBCb29sZWFuXVwiLHppPVwiW29iamVjdCBBcmd1bWVudHNdXCIsZ289XCJbb2JqZWN0IFN5bWJvbF1cIixwbz1cIltvYmplY3QgRGF0ZV1cIix5bz1cIltvYmplY3QgTWFwXVwiLGJvPVwiW29iamVjdCBTZXRdXCIsbW89XCJbb2JqZWN0IEFycmF5XVwiLGZvPVwiW29iamVjdCBGdW5jdGlvbl1cIixEbz1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsWmU9XCJbb2JqZWN0IE9iamVjdF1cIix2bz1cIltvYmplY3QgRXJyb3JdXCIsd289XCJbb2JqZWN0IERhdGFWaWV3XVwiLF9vPVwiW29iamVjdCBVaW50OEFycmF5XVwiLEVvPVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIixJbz1cIltvYmplY3QgVWludDE2QXJyYXldXCIsVG89XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLENvPVwiW29iamVjdCBCaWdVaW50NjRBcnJheV1cIixQbz1cIltvYmplY3QgSW50OEFycmF5XVwiLFNvPVwiW29iamVjdCBJbnQxNkFycmF5XVwiLE9vPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLFJvPVwiW29iamVjdCBCaWdJbnQ2NEFycmF5XVwiLEFvPVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIseG89XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjtmdW5jdGlvbiBObygpe31mdW5jdGlvbiBMaShyKXtpZighcnx8dHlwZW9mIHIhPVwib2JqZWN0XCIpcmV0dXJuITE7Y29uc3QgZT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocik7cmV0dXJuIGU9PT1udWxsfHxlPT09T2JqZWN0LnByb3RvdHlwZXx8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09bnVsbD9PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocik9PT1cIltvYmplY3QgT2JqZWN0XVwiOiExfWZ1bmN0aW9uICRvKHIsZSx0KXtyZXR1cm4gRGUocixlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0KX1mdW5jdGlvbiBEZShyLGUsdCxpLHMsbixvKXtjb25zdCBhPW8ocixlLHQsaSxzLG4pO2lmKGEhPT12b2lkIDApcmV0dXJuIGE7aWYodHlwZW9mIHI9PXR5cGVvZiBlKXN3aXRjaCh0eXBlb2Ygcil7Y2FzZVwiYmlnaW50XCI6Y2FzZVwic3RyaW5nXCI6Y2FzZVwiYm9vbGVhblwiOmNhc2VcInN5bWJvbFwiOmNhc2VcInVuZGVmaW5lZFwiOnJldHVybiByPT09ZTtjYXNlXCJudW1iZXJcIjpyZXR1cm4gcj09PWV8fE9iamVjdC5pcyhyLGUpO2Nhc2VcImZ1bmN0aW9uXCI6cmV0dXJuIHI9PT1lO2Nhc2VcIm9iamVjdFwiOnJldHVybiB2ZShyLGUsbixvKX1yZXR1cm4gdmUocixlLG4sbyl9ZnVuY3Rpb24gdmUocixlLHQsaSl7aWYoT2JqZWN0LmlzKHIsZSkpcmV0dXJuITA7bGV0IHM9JGkociksbj0kaShlKTtpZihzPT09emkmJihzPVplKSxuPT09emkmJihuPVplKSxzIT09bilyZXR1cm4hMTtzd2l0Y2gocyl7Y2FzZSBobzpyZXR1cm4gci50b1N0cmluZygpPT09ZS50b1N0cmluZygpO2Nhc2UgbG86e2NvbnN0IGM9ci52YWx1ZU9mKCksaD1lLnZhbHVlT2YoKTtyZXR1cm4gYW8oYyxoKX1jYXNlIHVvOmNhc2UgcG86Y2FzZSBnbzpyZXR1cm4gT2JqZWN0LmlzKHIudmFsdWVPZigpLGUudmFsdWVPZigpKTtjYXNlIGNvOnJldHVybiByLnNvdXJjZT09PWUuc291cmNlJiZyLmZsYWdzPT09ZS5mbGFncztjYXNlIGZvOnJldHVybiByPT09ZX10PXQ/P25ldyBNYXA7Y29uc3Qgbz10LmdldChyKSxhPXQuZ2V0KGUpO2lmKG8hPW51bGwmJmEhPW51bGwpcmV0dXJuIG89PT1lO3Quc2V0KHIsZSksdC5zZXQoZSxyKTt0cnl7c3dpdGNoKHMpe2Nhc2UgeW86e2lmKHIuc2l6ZSE9PWUuc2l6ZSlyZXR1cm4hMTtmb3IoY29uc3RbYyxoXW9mIHIuZW50cmllcygpKWlmKCFlLmhhcyhjKXx8IURlKGgsZS5nZXQoYyksYyxyLGUsdCxpKSlyZXR1cm4hMTtyZXR1cm4hMH1jYXNlIGJvOntpZihyLnNpemUhPT1lLnNpemUpcmV0dXJuITE7Y29uc3QgYz1BcnJheS5mcm9tKHIudmFsdWVzKCkpLGg9QXJyYXkuZnJvbShlLnZhbHVlcygpKTtmb3IobGV0IGw9MDtsPGMubGVuZ3RoO2wrKyl7Y29uc3QgcD1jW2xdLHk9aC5maW5kSW5kZXgodz0+RGUocCx3LHZvaWQgMCxyLGUsdCxpKSk7aWYoeT09PS0xKXJldHVybiExO2guc3BsaWNlKHksMSl9cmV0dXJuITB9Y2FzZSBtbzpjYXNlIF9vOmNhc2UgRW86Y2FzZSBJbzpjYXNlIFRvOmNhc2UgQ286Y2FzZSBQbzpjYXNlIFNvOmNhc2UgT286Y2FzZSBSbzpjYXNlIEFvOmNhc2UgeG86e2lmKHR5cGVvZiBCdWZmZXI8XCJ1XCImJkJ1ZmZlci5pc0J1ZmZlcihyKSE9PUJ1ZmZlci5pc0J1ZmZlcihlKXx8ci5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGM9MDtjPHIubGVuZ3RoO2MrKylpZighRGUocltjXSxlW2NdLGMscixlLHQsaSkpcmV0dXJuITE7cmV0dXJuITB9Y2FzZSBEbzpyZXR1cm4gci5ieXRlTGVuZ3RoIT09ZS5ieXRlTGVuZ3RoPyExOnZlKG5ldyBVaW50OEFycmF5KHIpLG5ldyBVaW50OEFycmF5KGUpLHQsaSk7Y2FzZSB3bzpyZXR1cm4gci5ieXRlTGVuZ3RoIT09ZS5ieXRlTGVuZ3RofHxyLmJ5dGVPZmZzZXQhPT1lLmJ5dGVPZmZzZXQ/ITE6dmUobmV3IFVpbnQ4QXJyYXkociksbmV3IFVpbnQ4QXJyYXkoZSksdCxpKTtjYXNlIHZvOnJldHVybiByLm5hbWU9PT1lLm5hbWUmJnIubWVzc2FnZT09PWUubWVzc2FnZTtjYXNlIFplOntpZighKHZlKHIuY29uc3RydWN0b3IsZS5jb25zdHJ1Y3Rvcix0LGkpfHxMaShyKSYmTGkoZSkpKXJldHVybiExO2NvbnN0IGg9Wy4uLk9iamVjdC5rZXlzKHIpLC4uLk5pKHIpXSxsPVsuLi5PYmplY3Qua2V5cyhlKSwuLi5OaShlKV07aWYoaC5sZW5ndGghPT1sLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IHA9MDtwPGgubGVuZ3RoO3ArKyl7Y29uc3QgeT1oW3BdLHc9clt5XTtpZighT2JqZWN0Lmhhc093bihlLHkpKXJldHVybiExO2NvbnN0IHU9ZVt5XTtpZighRGUodyx1LHkscixlLHQsaSkpcmV0dXJuITF9cmV0dXJuITB9ZGVmYXVsdDpyZXR1cm4hMX19ZmluYWxseXt0LmRlbGV0ZShyKSx0LmRlbGV0ZShlKX19ZnVuY3Rpb24gem8ocixlKXtyZXR1cm4gJG8ocixlLE5vKX12YXIgTG89T2JqZWN0LmRlZmluZVByb3BlcnR5LGtpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsa289T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxqbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFFlPShyLGUsdCk9PmUgaW4gcj9MbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsamk9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKWtvLmNhbGwoZSx0KSYmUWUocix0LGVbdF0pO2lmKGtpKWZvcih2YXIgdCBvZiBraShlKSlqby5jYWxsKGUsdCkmJlFlKHIsdCxlW3RdKTtyZXR1cm4gcn0sRj0ocixlLHQpPT5RZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFVpIGV4dGVuZHMgbnN7Y29uc3RydWN0b3IoZSx0LGkscz1XLG49dm9pZCAwKXtzdXBlcihlLHQsaSxzKSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHRoaXMubmFtZT1pLEYodGhpcyxcIm1hcFwiLG5ldyBNYXApLEYodGhpcyxcInZlcnNpb25cIixVdCksRih0aGlzLFwiY2FjaGVkXCIsW10pLEYodGhpcyxcImluaXRpYWxpemVkXCIsITEpLEYodGhpcyxcImdldEtleVwiKSxGKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksRih0aGlzLFwicmVjZW50bHlEZWxldGVkXCIsW10pLEYodGhpcyxcInJlY2VudGx5RGVsZXRlZExpbWl0XCIsMjAwKSxGKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLGF3YWl0IHRoaXMucmVzdG9yZSgpLHRoaXMuY2FjaGVkLmZvckVhY2gobz0+e3RoaXMuZ2V0S2V5JiZvIT09bnVsbCYmIXVlKG8pP3RoaXMubWFwLnNldCh0aGlzLmdldEtleShvKSxvKTpBcyhvKT90aGlzLm1hcC5zZXQoby5pZCxvKTp4cyhvKSYmdGhpcy5tYXAuc2V0KG8udG9waWMsbyl9KSx0aGlzLmNhY2hlZD1bXSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLEYodGhpcyxcInNldFwiLGFzeW5jKG8sYSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLm1hcC5oYXMobyk/YXdhaXQgdGhpcy51cGRhdGUobyxhKToodGhpcy5sb2dnZXIuZGVidWcoXCJTZXR0aW5nIHZhbHVlXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic2V0XCIsa2V5Om8sdmFsdWU6YX0pLHRoaXMubWFwLnNldChvLGEpLGF3YWl0IHRoaXMucGVyc2lzdCgpKX0pLEYodGhpcyxcImdldFwiLG89Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIkdldHRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRcIixrZXk6b30pLHRoaXMuZ2V0RGF0YShvKSkpLEYodGhpcyxcImdldEFsbFwiLG89Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSxvP3RoaXMudmFsdWVzLmZpbHRlcihhPT5PYmplY3Qua2V5cyhvKS5ldmVyeShjPT56byhhW2NdLG9bY10pKSk6dGhpcy52YWx1ZXMpKSxGKHRoaXMsXCJ1cGRhdGVcIixhc3luYyhvLGEpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJVcGRhdGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInVwZGF0ZVwiLGtleTpvLHVwZGF0ZTphfSk7Y29uc3QgYz1qaShqaSh7fSx0aGlzLmdldERhdGEobykpLGEpO3RoaXMubWFwLnNldChvLGMpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksRih0aGlzLFwiZGVsZXRlXCIsYXN5bmMobyxhKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubWFwLmhhcyhvKSYmKHRoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJkZWxldGVcIixrZXk6byxyZWFzb246YX0pLHRoaXMubWFwLmRlbGV0ZShvKSx0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKG8pLGF3YWl0IHRoaXMucGVyc2lzdCgpKX0pLHRoaXMubG9nZ2VyPWoodCx0aGlzLm5hbWUpLHRoaXMuc3RvcmFnZVByZWZpeD1zLHRoaXMuZ2V0S2V5PW59Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5tYXAuc2l6ZX1nZXQga2V5cygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSl9Z2V0IHZhbHVlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLnZhbHVlcygpKX1hZGRUb1JlY2VudGx5RGVsZXRlZChlKXt0aGlzLnJlY2VudGx5RGVsZXRlZC5wdXNoKGUpLHRoaXMucmVjZW50bHlEZWxldGVkLmxlbmd0aD49dGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdCYmdGhpcy5yZWNlbnRseURlbGV0ZWQuc3BsaWNlKDAsdGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdC8yKX1hc3luYyBzZXREYXRhU3RvcmUoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksZSl9YXN5bmMgZ2V0RGF0YVN0b3JlKCl7cmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1nZXREYXRhKGUpe2NvbnN0IHQ9dGhpcy5tYXAuZ2V0KGUpO2lmKCF0KXtpZih0aGlzLnJlY2VudGx5RGVsZXRlZC5pbmNsdWRlcyhlKSl7Y29uc3R7bWVzc2FnZTpzfT1iKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYFJlY29yZCB3YXMgcmVjZW50bHkgZGVsZXRlZCAtICR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMpLG5ldyBFcnJvcihzKX1jb25zdHttZXNzYWdlOml9PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoaSksbmV3IEVycm9yKGkpfXJldHVybiB0fWFzeW5jIHBlcnNpc3QoKXthd2FpdCB0aGlzLnNldERhdGFTdG9yZSh0aGlzLnZhbHVlcyl9YXN5bmMgcmVzdG9yZSgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuZ2V0RGF0YVN0b3JlKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5tYXAuc2l6ZSl7Y29uc3R7bWVzc2FnZTp0fT1iKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHZhbHVlIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIix2YWx1ZTp0aGlzLnZhbHVlc30pfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSB2YWx1ZSBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgVW89T2JqZWN0LmRlZmluZVByb3BlcnR5LEZvPShyLGUsdCk9PmUgaW4gcj9VbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsZD0ocixlLHQpPT5GbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIEZpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxkKHRoaXMsXCJuYW1lXCIsQnQpLGQodGhpcyxcInZlcnNpb25cIixWdCksZCh0aGlzLFwiZXZlbnRzXCIsbmV3IEppKSxkKHRoaXMsXCJwYWlyaW5nc1wiKSxkKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxkKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksZCh0aGlzLFwiaWdub3JlZFBheWxvYWRUeXBlc1wiLFskc10pLGQodGhpcyxcInJlZ2lzdGVyZWRNZXRob2RzXCIsW10pLGQodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMucGFpcmluZ3MuaW5pdCgpLGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMucmVnaXN0ZXJSZWxheWVyRXZlbnRzKCksdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSx0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIikpfSksZCh0aGlzLFwicmVnaXN0ZXJcIiwoe21ldGhvZHM6aX0pPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5yZWdpc3RlcmVkTWV0aG9kcz1bLi4ubmV3IFNldChbLi4udGhpcy5yZWdpc3RlcmVkTWV0aG9kcywuLi5pXSldfSksZCh0aGlzLFwiY3JlYXRlXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9emUoKSxuPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2V0U3ltS2V5KHMpLG89Z2UobGUpLGE9e3Byb3RvY29sOiR0fSxjPXt0b3BpYzpuLGV4cGlyeTpvLHJlbGF5OmEsYWN0aXZlOiExLG1ldGhvZHM6aT8ubWV0aG9kc30saD1wdCh7cHJvdG9jb2w6dGhpcy5jb3JlLnByb3RvY29sLHZlcnNpb246dGhpcy5jb3JlLnZlcnNpb24sdG9waWM6bixzeW1LZXk6cyxyZWxheTphLGV4cGlyeVRpbWVzdGFtcDpvLG1ldGhvZHM6aT8ubWV0aG9kc30pO3JldHVybiB0aGlzLmV2ZW50cy5lbWl0KGFlLmNyZWF0ZSxjKSx0aGlzLmNvcmUuZXhwaXJlci5zZXQobixvKSxhd2FpdCB0aGlzLnBhaXJpbmdzLnNldChuLGMpLGF3YWl0IHRoaXMuY29yZS5yZWxheWVyLnN1YnNjcmliZShuLHt0cmFuc3BvcnRUeXBlOmk/LnRyYW5zcG9ydFR5cGUsaW50ZXJuYWw6aT8uaW50ZXJuYWx9KSx7dG9waWM6bix1cmk6aH19KSxkKHRoaXMsXCJwYWlyXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9dGhpcy5jb3JlLmV2ZW50Q2xpZW50LmNyZWF0ZUV2ZW50KHtwcm9wZXJ0aWVzOnt0b3BpYzppPy51cmksdHJhY2U6W1kucGFpcmluZ19zdGFydGVkXX19KTt0aGlzLmlzVmFsaWRQYWlyKGkscyk7Y29uc3R7dG9waWM6bixzeW1LZXk6byxyZWxheTphLGV4cGlyeVRpbWVzdGFtcDpjLG1ldGhvZHM6aH09eXQoaS51cmkpO3MucHJvcHMucHJvcGVydGllcy50b3BpYz1uLHMuYWRkVHJhY2UoWS5wYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3MpLHMuYWRkVHJhY2UoWS5wYWlyaW5nX3VyaV9ub3RfZXhwaXJlZCk7bGV0IGw7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKG4pKXtpZihsPXRoaXMucGFpcmluZ3MuZ2V0KG4pLHMuYWRkVHJhY2UoWS5leGlzdGluZ19wYWlyaW5nKSxsLmFjdGl2ZSl0aHJvdyBzLnNldEVycm9yKFguYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHMpLG5ldyBFcnJvcihgUGFpcmluZyBhbHJlYWR5IGV4aXN0czogJHtufS4gUGxlYXNlIHRyeSBhZ2FpbiB3aXRoIGEgbmV3IGNvbm5lY3Rpb24gVVJJLmApO3MuYWRkVHJhY2UoWS5wYWlyaW5nX25vdF9leHBpcmVkKX1jb25zdCBwPWN8fGdlKGxlKSx5PXt0b3BpYzpuLHJlbGF5OmEsZXhwaXJ5OnAsYWN0aXZlOiExLG1ldGhvZHM6aH07dGhpcy5jb3JlLmV4cGlyZXIuc2V0KG4scCksYXdhaXQgdGhpcy5wYWlyaW5ncy5zZXQobix5KSxzLmFkZFRyYWNlKFkuc3RvcmVfbmV3X3BhaXJpbmcpLGkuYWN0aXZhdGVQYWlyaW5nJiZhd2FpdCB0aGlzLmFjdGl2YXRlKHt0b3BpYzpufSksdGhpcy5ldmVudHMuZW1pdChhZS5jcmVhdGUseSkscy5hZGRUcmFjZShZLmVtaXRfaW5hY3RpdmVfcGFpcmluZyksdGhpcy5jb3JlLmNyeXB0by5rZXljaGFpbi5oYXMobil8fGF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2V0U3ltS2V5KG8sbikscy5hZGRUcmFjZShZLnN1YnNjcmliaW5nX3BhaXJpbmdfdG9waWMpO3RyeXthd2FpdCB0aGlzLmNvcmUucmVsYXllci5jb25maXJtT25saW5lU3RhdGVPclRocm93KCl9Y2F0Y2h7cy5zZXRFcnJvcihYLm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pfXRyeXthd2FpdCB0aGlzLmNvcmUucmVsYXllci5zdWJzY3JpYmUobix7cmVsYXk6YX0pfWNhdGNoKHcpe3Rocm93IHMuc2V0RXJyb3IoWC5zdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlKSx3fXJldHVybiBzLmFkZFRyYWNlKFkuc3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfc3VjY2VzcykseX0pLGQodGhpcyxcImFjdGl2YXRlXCIsYXN5bmMoe3RvcGljOml9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9Z2UobGUpO3RoaXMuY29yZS5leHBpcmVyLnNldChpLHMpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKGkse2FjdGl2ZTohMCxleHBpcnk6c30pfSksZCh0aGlzLFwicGluZ1wiLGFzeW5jIGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmlzVmFsaWRQaW5nKGkpLHRoaXMubG9nZ2VyLndhcm4oXCJwaW5nKCkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXCIpO2NvbnN0e3RvcGljOnN9PWk7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHMpKXtjb25zdCBuPWF3YWl0IHRoaXMuc2VuZFJlcXVlc3QocyxcIndjX3BhaXJpbmdQaW5nXCIse30pLHtkb25lOm8scmVzb2x2ZTphLHJlamVjdDpjfT16cygpO3RoaXMuZXZlbnRzLm9uY2UoTGUoXCJwYWlyaW5nX3BpbmdcIixuKSwoe2Vycm9yOmh9KT0+e2g/YyhoKTphKCl9KSxhd2FpdCBvKCl9fSksZCh0aGlzLFwidXBkYXRlRXhwaXJ5XCIsYXN5bmMoe3RvcGljOmksZXhwaXJ5OnN9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKGkse2V4cGlyeTpzfSl9KSxkKHRoaXMsXCJ1cGRhdGVNZXRhZGF0YVwiLGFzeW5jKHt0b3BpYzppLG1ldGFkYXRhOnN9KT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKGkse3BlZXJNZXRhZGF0YTpzfSl9KSxkKHRoaXMsXCJnZXRQYWlyaW5nc1wiLCgpPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5wYWlyaW5ncy52YWx1ZXMpKSxkKHRoaXMsXCJkaXNjb25uZWN0XCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZERpc2Nvbm5lY3QoaSk7Y29uc3R7dG9waWM6c309aTt0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMocykmJihhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHMsXCJ3Y19wYWlyaW5nRGVsZXRlXCIsZGUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKHMpKX0pLGQodGhpcyxcImZvcm1hdFVyaUZyb21QYWlyaW5nXCIsaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0e3RvcGljOnMscmVsYXk6bixleHBpcnk6byxtZXRob2RzOmF9PWksYz10aGlzLmNvcmUuY3J5cHRvLmtleWNoYWluLmdldChzKTtyZXR1cm4gcHQoe3Byb3RvY29sOnRoaXMuY29yZS5wcm90b2NvbCx2ZXJzaW9uOnRoaXMuY29yZS52ZXJzaW9uLHRvcGljOnMsc3ltS2V5OmMscmVsYXk6bixleHBpcnlUaW1lc3RhbXA6byxtZXRob2RzOmF9KX0pLGQodGhpcyxcInNlbmRSZXF1ZXN0XCIsYXN5bmMoaSxzLG4pPT57Y29uc3Qgbz1fdChzLG4pLGE9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5lbmNvZGUoaSxvKSxjPW9lW3NdLnJlcTtyZXR1cm4gdGhpcy5jb3JlLmhpc3Rvcnkuc2V0KGksbyksdGhpcy5jb3JlLnJlbGF5ZXIucHVibGlzaChpLGEsYyksby5pZH0pLGQodGhpcyxcInNlbmRSZXN1bHRcIixhc3luYyhpLHMsbik9Pntjb25zdCBvPXd0KGksbiksYT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShzLG8pLGM9KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChzLGkpKS5yZXF1ZXN0Lm1ldGhvZCxoPW9lW2NdLnJlczthd2FpdCB0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKHMsYSxoKSxhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKG8pfSksZCh0aGlzLFwic2VuZEVycm9yXCIsYXN5bmMoaSxzLG4pPT57Y29uc3Qgbz1HcyhpLG4pLGE9YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5lbmNvZGUocyxvKSxjPShhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5nZXQocyxpKSkucmVxdWVzdC5tZXRob2QsaD1vZVtjXT9vZVtjXS5yZXM6b2UudW5yZWdpc3RlcmVkX21ldGhvZC5yZXM7YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIucHVibGlzaChzLGEsaCksYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkucmVzb2x2ZShvKX0pLGQodGhpcyxcImRlbGV0ZVBhaXJpbmdcIixhc3luYyhpLHMpPT57YXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUoaSksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMucGFpcmluZ3MuZGVsZXRlKGksZGUoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksdGhpcy5jb3JlLmNyeXB0by5kZWxldGVTeW1LZXkoaSkscz9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNvcmUuZXhwaXJlci5kZWwoaSldKX0pLGQodGhpcyxcImNsZWFudXBcIixhc3luYygpPT57Y29uc3QgaT10aGlzLnBhaXJpbmdzLmdldEFsbCgpLmZpbHRlcihzPT5idChzLmV4cGlyeSkpO2F3YWl0IFByb21pc2UuYWxsKGkubWFwKHM9PnRoaXMuZGVsZXRlUGFpcmluZyhzLnRvcGljKSkpfSksZCh0aGlzLFwib25SZWxheUV2ZW50UmVxdWVzdFwiLGFzeW5jIGk9Pntjb25zdHt0b3BpYzpzLHBheWxvYWQ6bn09aTtzd2l0Y2gobi5tZXRob2Qpe2Nhc2VcIndjX3BhaXJpbmdQaW5nXCI6cmV0dXJuIGF3YWl0IHRoaXMub25QYWlyaW5nUGluZ1JlcXVlc3QocyxuKTtjYXNlXCJ3Y19wYWlyaW5nRGVsZXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25QYWlyaW5nRGVsZXRlUmVxdWVzdChzLG4pO2RlZmF1bHQ6cmV0dXJuIGF3YWl0IHRoaXMub25Vbmtub3duUnBjTWV0aG9kUmVxdWVzdChzLG4pfX0pLGQodGhpcyxcIm9uUmVsYXlFdmVudFJlc3BvbnNlXCIsYXN5bmMgaT0+e2NvbnN0e3RvcGljOnMscGF5bG9hZDpufT1pLG89KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChzLG4uaWQpKS5yZXF1ZXN0Lm1ldGhvZDtzd2l0Y2gobyl7Y2FzZVwid2NfcGFpcmluZ1BpbmdcIjpyZXR1cm4gdGhpcy5vblBhaXJpbmdQaW5nUmVzcG9uc2UocyxuKTtkZWZhdWx0OnJldHVybiB0aGlzLm9uVW5rbm93blJwY01ldGhvZFJlc3BvbnNlKG8pfX0pLGQodGhpcyxcIm9uUGFpcmluZ1BpbmdSZXF1ZXN0XCIsYXN5bmMoaSxzKT0+e2NvbnN0e2lkOm59PXM7dHJ5e3RoaXMuaXNWYWxpZFBpbmcoe3RvcGljOml9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQobixpLCEwKSx0aGlzLmV2ZW50cy5lbWl0KGFlLnBpbmcse2lkOm4sdG9waWM6aX0pfWNhdGNoKG8pe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4saSxvKSx0aGlzLmxvZ2dlci5lcnJvcihvKX19KSxkKHRoaXMsXCJvblBhaXJpbmdQaW5nUmVzcG9uc2VcIiwoaSxzKT0+e2NvbnN0e2lkOm59PXM7c2V0VGltZW91dCgoKT0+e1dzKHMpP3RoaXMuZXZlbnRzLmVtaXQoTGUoXCJwYWlyaW5nX3BpbmdcIixuKSx7fSk6RXQocykmJnRoaXMuZXZlbnRzLmVtaXQoTGUoXCJwYWlyaW5nX3BpbmdcIixuKSx7ZXJyb3I6cy5lcnJvcn0pfSw1MDApfSksZCh0aGlzLFwib25QYWlyaW5nRGVsZXRlUmVxdWVzdFwiLGFzeW5jKGkscyk9Pntjb25zdHtpZDpufT1zO3RyeXt0aGlzLmlzVmFsaWREaXNjb25uZWN0KHt0b3BpYzppfSksYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKGkpLHRoaXMuZXZlbnRzLmVtaXQoYWUuZGVsZXRlLHtpZDpuLHRvcGljOml9KX1jYXRjaChvKXthd2FpdCB0aGlzLnNlbmRFcnJvcihuLGksbyksdGhpcy5sb2dnZXIuZXJyb3Iobyl9fSksZCh0aGlzLFwib25Vbmtub3duUnBjTWV0aG9kUmVxdWVzdFwiLGFzeW5jKGkscyk9Pntjb25zdHtpZDpuLG1ldGhvZDpvfT1zO3RyeXtpZih0aGlzLnJlZ2lzdGVyZWRNZXRob2RzLmluY2x1ZGVzKG8pKXJldHVybjtjb25zdCBhPWRlKFwiV0NfTUVUSE9EX1VOU1VQUE9SVEVEXCIsbyk7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixpLGEpLHRoaXMubG9nZ2VyLmVycm9yKGEpfWNhdGNoKGEpe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4saSxhKSx0aGlzLmxvZ2dlci5lcnJvcihhKX19KSxkKHRoaXMsXCJvblVua25vd25ScGNNZXRob2RSZXNwb25zZVwiLGk9Pnt0aGlzLnJlZ2lzdGVyZWRNZXRob2RzLmluY2x1ZGVzKGkpfHx0aGlzLmxvZ2dlci5lcnJvcihkZShcIldDX01FVEhPRF9VTlNVUFBPUlRFRFwiLGkpKX0pLGQodGhpcyxcImlzVmFsaWRQYWlyXCIsKGkscyk9Pnt2YXIgbjtpZigha2UoaSkpe2NvbnN0e21lc3NhZ2U6YX09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyKCkgcGFyYW1zOiAke2l9YCk7dGhyb3cgcy5zZXRFcnJvcihYLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKCFMcyhpLnVyaSkpe2NvbnN0e21lc3NhZ2U6YX09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyKCkgdXJpOiAke2kudXJpfWApO3Rocm93IHMuc2V0RXJyb3IoWC5tYWxmb3JtZWRfcGFpcmluZ191cmkpLG5ldyBFcnJvcihhKX1jb25zdCBvPXl0KGk/LnVyaSk7aWYoISgobj1vPy5yZWxheSkhPW51bGwmJm4ucHJvdG9jb2wpKXtjb25zdHttZXNzYWdlOmF9PWIoXCJNSVNTSU5HX09SX0lOVkFMSURcIixcInBhaXIoKSB1cmkjcmVsYXktcHJvdG9jb2xcIik7dGhyb3cgcy5zZXRFcnJvcihYLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKCEobyE9bnVsbCYmby5zeW1LZXkpKXtjb25zdHttZXNzYWdlOmF9PWIoXCJNSVNTSU5HX09SX0lOVkFMSURcIixcInBhaXIoKSB1cmkjc3ltS2V5XCIpO3Rocm93IHMuc2V0RXJyb3IoWC5tYWxmb3JtZWRfcGFpcmluZ191cmkpLG5ldyBFcnJvcihhKX1pZihvIT1udWxsJiZvLmV4cGlyeVRpbWVzdGFtcCYmJChvPy5leHBpcnlUaW1lc3RhbXApPERhdGUubm93KCkpe3Muc2V0RXJyb3IoWC5wYWlyaW5nX2V4cGlyZWQpO2NvbnN0e21lc3NhZ2U6YX09YihcIkVYUElSRURcIixcInBhaXIoKSBVUkkgaGFzIGV4cGlyZWQuIFBsZWFzZSB0cnkgYWdhaW4gd2l0aCBhIG5ldyBjb25uZWN0aW9uIFVSSS5cIik7dGhyb3cgbmV3IEVycm9yKGEpfX0pLGQodGhpcyxcImlzVmFsaWRQaW5nXCIsYXN5bmMgaT0+e2lmKCFrZShpKSl7Y29uc3R7bWVzc2FnZTpufT1iKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBpbmcoKSBwYXJhbXM6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3R7dG9waWM6c309aTthd2FpdCB0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMocyl9KSxkKHRoaXMsXCJpc1ZhbGlkRGlzY29ubmVjdFwiLGFzeW5jIGk9PntpZigha2UoaSkpe2NvbnN0e21lc3NhZ2U6bn09YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBkaXNjb25uZWN0KCkgcGFyYW1zOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKG4pfWNvbnN0e3RvcGljOnN9PWk7YXdhaXQgdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKHMpfSksZCh0aGlzLFwiaXNWYWxpZFBhaXJpbmdUb3BpY1wiLGFzeW5jIGk9PntpZigha3MoaSwhMSkpe2NvbnN0e21lc3NhZ2U6c309YihcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBwYWlyaW5nIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtpfWApO3Rocm93IG5ldyBFcnJvcihzKX1pZighdGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKGkpKXtjb25zdHttZXNzYWdlOnN9PWIoXCJOT19NQVRDSElOR19LRVlcIixgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWlmKGJ0KHRoaXMucGFpcmluZ3MuZ2V0KGkpLmV4cGlyeSkpe2F3YWl0IHRoaXMuZGVsZXRlUGFpcmluZyhpKTtjb25zdHttZXNzYWdlOnN9PWIoXCJFWFBJUkVEXCIsYHBhaXJpbmcgdG9waWM6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9fSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9aih0LHRoaXMubmFtZSksdGhpcy5wYWlyaW5ncz1uZXcgVWkodGhpcy5jb3JlLHRoaXMubG9nZ2VyLHRoaXMubmFtZSx0aGlzLnN0b3JhZ2VQcmVmaXgpfWdldCBjb250ZXh0KCl7cmV0dXJuIEIodGhpcy5sb2dnZXIpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fXJlZ2lzdGVyUmVsYXllckV2ZW50cygpe3RoaXMuY29yZS5yZWxheWVyLm9uKEMubWVzc2FnZSxhc3luYyBlPT57Y29uc3R7dG9waWM6dCxtZXNzYWdlOmksdHJhbnNwb3J0VHlwZTpzfT1lO2lmKHRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyh0KSYmcyE9PWVlLmxpbmtfbW9kZSYmIXRoaXMuaWdub3JlZFBheWxvYWRUeXBlcy5pbmNsdWRlcyh0aGlzLmNvcmUuY3J5cHRvLmdldFBheWxvYWRUeXBlKGkpKSl0cnl7Y29uc3Qgbj1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmRlY29kZSh0LGkpO0R0KG4pPyh0aGlzLmNvcmUuaGlzdG9yeS5zZXQodCxuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlcXVlc3Qoe3RvcGljOnQscGF5bG9hZDpufSkpOnZ0KG4pJiYoYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkucmVzb2x2ZShuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlc3BvbnNlKHt0b3BpYzp0LHBheWxvYWQ6bn0pLHRoaXMuY29yZS5oaXN0b3J5LmRlbGV0ZSh0LG4uaWQpKSxhd2FpdCB0aGlzLmNvcmUucmVsYXllci5tZXNzYWdlcy5hY2sodCxpKX1jYXRjaChuKXt0aGlzLmxvZ2dlci5lcnJvcihuKX19KX1yZWdpc3RlckV4cGlyZXJFdmVudHMoKXt0aGlzLmNvcmUuZXhwaXJlci5vbihxLmV4cGlyZWQsYXN5bmMgZT0+e2NvbnN0e3RvcGljOnR9PU5zKGUudGFyZ2V0KTt0JiZ0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXModCkmJihhd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcodCwhMCksdGhpcy5ldmVudHMuZW1pdChhZS5leHBpcmUse3RvcGljOnR9KSl9KX19dmFyIE1vPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxLbz0ocixlLHQpPT5lIGluIHI/TW8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LE49KHIsZSx0KT0+S28ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBNaSBleHRlbmRzIG9ze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LE4odGhpcyxcInJlY29yZHNcIixuZXcgTWFwKSxOKHRoaXMsXCJldmVudHNcIixuZXcgaWUpLE4odGhpcyxcIm5hbWVcIixxdCksTih0aGlzLFwidmVyc2lvblwiLEd0KSxOKHRoaXMsXCJjYWNoZWRcIixbXSksTih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksTih0aGlzLFwic3RvcmFnZVByZWZpeFwiLFcpLE4odGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5yZXN0b3JlKCksdGhpcy5jYWNoZWQuZm9yRWFjaChpPT50aGlzLnJlY29yZHMuc2V0KGkuaWQsaSkpLHRoaXMuY2FjaGVkPVtdLHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSksTih0aGlzLFwic2V0XCIsKGkscyxuKT0+e2lmKHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBKU09OLVJQQyByZXF1ZXN0IGhpc3RvcnkgcmVjb3JkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic2V0XCIsdG9waWM6aSxyZXF1ZXN0OnMsY2hhaW5JZDpufSksdGhpcy5yZWNvcmRzLmhhcyhzLmlkKSlyZXR1cm47Y29uc3Qgbz17aWQ6cy5pZCx0b3BpYzppLHJlcXVlc3Q6e21ldGhvZDpzLm1ldGhvZCxwYXJhbXM6cy5wYXJhbXN8fG51bGx9LGNoYWluSWQ6bixleHBpcnk6Z2UoUmUpfTt0aGlzLnJlY29yZHMuc2V0KG8uaWQsbyksdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZW1pdChWLmNyZWF0ZWQsbyl9KSxOKHRoaXMsXCJyZXNvbHZlXCIsYXN5bmMgaT0+e2lmKHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiVXBkYXRpbmcgSlNPTi1SUEMgcmVzcG9uc2UgaGlzdG9yeSByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1cGRhdGVcIixyZXNwb25zZTppfSksIXRoaXMucmVjb3Jkcy5oYXMoaS5pZCkpcmV0dXJuO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRSZWNvcmQoaS5pZCk7dHlwZW9mIHMucmVzcG9uc2U+XCJ1XCImJihzLnJlc3BvbnNlPUV0KGkpP3tlcnJvcjppLmVycm9yfTp7cmVzdWx0OmkucmVzdWx0fSx0aGlzLnJlY29yZHMuc2V0KHMuaWQscyksdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZW1pdChWLnVwZGF0ZWQscykpfSksTih0aGlzLFwiZ2V0XCIsYXN5bmMoaSxzKT0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRcIix0b3BpYzppLGlkOnN9KSxhd2FpdCB0aGlzLmdldFJlY29yZChzKSkpLE4odGhpcyxcImRlbGV0ZVwiLChpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJEZWxldGluZyByZWNvcmRcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJkZWxldGVcIixpZDpzfSksdGhpcy52YWx1ZXMuZm9yRWFjaChuPT57aWYobi50b3BpYz09PWkpe2lmKHR5cGVvZiBzPFwidVwiJiZuLmlkIT09cylyZXR1cm47dGhpcy5yZWNvcmRzLmRlbGV0ZShuLmlkKSx0aGlzLmV2ZW50cy5lbWl0KFYuZGVsZXRlZCxuKX19KSx0aGlzLnBlcnNpc3QoKX0pLE4odGhpcyxcImV4aXN0c1wiLGFzeW5jKGkscyk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLnJlY29yZHMuaGFzKHMpPyhhd2FpdCB0aGlzLmdldFJlY29yZChzKSkudG9waWM9PT1pOiExKSksTih0aGlzLFwib25cIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uKGkscyl9KSxOKHRoaXMsXCJvbmNlXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbmNlKGkscyl9KSxOKHRoaXMsXCJvZmZcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9mZihpLHMpfSksTih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGkscyl9KSx0aGlzLmxvZ2dlcj1qKHQsdGhpcy5uYW1lKX1nZXQgY29udGV4dCgpe3JldHVybiBCKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5yZWNvcmRzLnNpemV9Z2V0IGtleXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlY29yZHMua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yZWNvcmRzLnZhbHVlcygpKX1nZXQgcGVuZGluZygpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMudmFsdWVzLmZvckVhY2godD0+e2lmKHR5cGVvZiB0LnJlc3BvbnNlPFwidVwiKXJldHVybjtjb25zdCBpPXt0b3BpYzp0LnRvcGljLHJlcXVlc3Q6X3QodC5yZXF1ZXN0Lm1ldGhvZCx0LnJlcXVlc3QucGFyYW1zLHQuaWQpLGNoYWluSWQ6dC5jaGFpbklkfTtyZXR1cm4gZS5wdXNoKGkpfSksZX1hc3luYyBzZXRKc29uUnBjUmVjb3JkcyhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXRKc29uUnBjUmVjb3Jkcygpe3JldHVybiBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl9Z2V0UmVjb3JkKGUpe3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHQ9dGhpcy5yZWNvcmRzLmdldChlKTtpZighdCl7Y29uc3R7bWVzc2FnZTppfT1iKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IG5ldyBFcnJvcihpKX1yZXR1cm4gdH1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRKc29uUnBjUmVjb3Jkcyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChWLnN5bmMpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldEpzb25ScGNSZWNvcmRzKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5yZWNvcmRzLnNpemUpe2NvbnN0e21lc3NhZ2U6dH09YihcIlJFU1RPUkVfV0lMTF9PVkVSUklERVwiLHRoaXMubmFtZSk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksbmV3IEVycm9yKHQpfXRoaXMuY2FjaGVkPWUsdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixyZWNvcmRzOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGUpfX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5ldmVudHMub24oVi5jcmVhdGVkLGU9Pntjb25zdCB0PVYuY3JlYXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQscmVjb3JkOmV9KX0pLHRoaXMuZXZlbnRzLm9uKFYudXBkYXRlZCxlPT57Y29uc3QgdD1WLnVwZGF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LHJlY29yZDplfSl9KSx0aGlzLmV2ZW50cy5vbihWLmRlbGV0ZWQsZT0+e2NvbnN0IHQ9Vi5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxyZWNvcmQ6ZX0pfSksdGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSwoKT0+e3RoaXMuY2xlYW51cCgpfSl9Y2xlYW51cCgpe3RyeXt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtsZXQgZT0hMTt0aGlzLnJlY29yZHMuZm9yRWFjaCh0PT57JCh0LmV4cGlyeXx8MCktRGF0ZS5ub3coKTw9MCYmKHRoaXMubG9nZ2VyLmluZm8oYERlbGV0aW5nIGV4cGlyZWQgaGlzdG9yeSBsb2c6ICR7dC5pZH1gKSx0aGlzLnJlY29yZHMuZGVsZXRlKHQuaWQpLHRoaXMuZXZlbnRzLmVtaXQoVi5kZWxldGVkLHQsITEpLGU9ITApfSksZSYmdGhpcy5wZXJzaXN0KCl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2FybihlKX19aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PWIoXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBCbz1PYmplY3QuZGVmaW5lUHJvcGVydHksVm89KHIsZSx0KT0+ZSBpbiByP0JvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCx6PShyLGUsdCk9PlZvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgS2kgZXh0ZW5kcyBhc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCx6KHRoaXMsXCJleHBpcmF0aW9uc1wiLG5ldyBNYXApLHoodGhpcyxcImV2ZW50c1wiLG5ldyBpZSkseih0aGlzLFwibmFtZVwiLFd0KSx6KHRoaXMsXCJ2ZXJzaW9uXCIsSHQpLHoodGhpcyxcImNhY2hlZFwiLFtdKSx6KHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSx6KHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVykseih0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSxhd2FpdCB0aGlzLnJlc3RvcmUoKSx0aGlzLmNhY2hlZC5mb3JFYWNoKGk9PnRoaXMuZXhwaXJhdGlvbnMuc2V0KGkudGFyZ2V0LGkpKSx0aGlzLmNhY2hlZD1bXSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLHoodGhpcyxcImhhc1wiLGk9Pnt0cnl7Y29uc3Qgcz10aGlzLmZvcm1hdFRhcmdldChpKTtyZXR1cm4gdHlwZW9mIHRoaXMuZ2V0RXhwaXJhdGlvbihzKTxcInVcIn1jYXRjaHtyZXR1cm4hMX19KSx6KHRoaXMsXCJzZXRcIiwoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49dGhpcy5mb3JtYXRUYXJnZXQoaSksbz17dGFyZ2V0Om4sZXhwaXJ5OnN9O3RoaXMuZXhwaXJhdGlvbnMuc2V0KG4sbyksdGhpcy5jaGVja0V4cGlyeShuLG8pLHRoaXMuZXZlbnRzLmVtaXQocS5jcmVhdGVkLHt0YXJnZXQ6bixleHBpcmF0aW9uOm99KX0pLHoodGhpcyxcImdldFwiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXRoaXMuZm9ybWF0VGFyZ2V0KGkpO3JldHVybiB0aGlzLmdldEV4cGlyYXRpb24ocyl9KSx6KHRoaXMsXCJkZWxcIixpPT57aWYodGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5oYXMoaSkpe2NvbnN0IHM9dGhpcy5mb3JtYXRUYXJnZXQoaSksbj10aGlzLmdldEV4cGlyYXRpb24ocyk7dGhpcy5leHBpcmF0aW9ucy5kZWxldGUocyksdGhpcy5ldmVudHMuZW1pdChxLmRlbGV0ZWQse3RhcmdldDpzLGV4cGlyYXRpb246bn0pfX0pLHoodGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSkseih0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSkseih0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLHoodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksdGhpcy5sb2dnZXI9aih0LHRoaXMubmFtZSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5leHBpcmF0aW9ucy5zaXplfWdldCBrZXlzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5leHBpcmF0aW9ucy5rZXlzKCkpfWdldCB2YWx1ZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmV4cGlyYXRpb25zLnZhbHVlcygpKX1mb3JtYXRUYXJnZXQoZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpcmV0dXJuIGpzKGUpO2lmKHR5cGVvZiBlPT1cIm51bWJlclwiKXJldHVybiBVcyhlKTtjb25zdHttZXNzYWdlOnR9PWIoXCJVTktOT1dOX1RZUEVcIixgVGFyZ2V0IHR5cGU6ICR7dHlwZW9mIGV9YCk7dGhyb3cgbmV3IEVycm9yKHQpfWFzeW5jIHNldEV4cGlyYXRpb25zKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldEV4cGlyYXRpb25zKCl7cmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KX1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRFeHBpcmF0aW9ucyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdChxLnN5bmMpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldEV4cGlyYXRpb25zKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5leHBpcmF0aW9ucy5zaXplKXtjb25zdHttZXNzYWdlOnR9PWIoXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIix0aGlzLm5hbWUpO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLG5ldyBFcnJvcih0KX10aGlzLmNhY2hlZD1lLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgZXhwaXJhdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLGV4cGlyYXRpb25zOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIGV4cGlyYXRpb25zIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihlKX19Z2V0RXhwaXJhdGlvbihlKXtjb25zdCB0PXRoaXMuZXhwaXJhdGlvbnMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOml9PWIoXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIud2FybihpKSxuZXcgRXJyb3IoaSl9cmV0dXJuIHR9Y2hlY2tFeHBpcnkoZSx0KXtjb25zdHtleHBpcnk6aX09dDskKGkpLURhdGUubm93KCk8PTAmJnRoaXMuZXhwaXJlKGUsdCl9ZXhwaXJlKGUsdCl7dGhpcy5leHBpcmF0aW9ucy5kZWxldGUoZSksdGhpcy5ldmVudHMuZW1pdChxLmV4cGlyZWQse3RhcmdldDplLGV4cGlyYXRpb246dH0pfWNoZWNrRXhwaXJhdGlvbnMoKXt0aGlzLmNvcmUucmVsYXllci5jb25uZWN0ZWQmJnRoaXMuZXhwaXJhdGlvbnMuZm9yRWFjaCgoZSx0KT0+dGhpcy5jaGVja0V4cGlyeSh0LGUpKX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihzZS5wdWxzZSwoKT0+dGhpcy5jaGVja0V4cGlyYXRpb25zKCkpLHRoaXMuZXZlbnRzLm9uKHEuY3JlYXRlZCxlPT57Y29uc3QgdD1xLmNyZWF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LGRhdGE6ZX0pLHRoaXMucGVyc2lzdCgpfSksdGhpcy5ldmVudHMub24ocS5leHBpcmVkLGU9Pntjb25zdCB0PXEuZXhwaXJlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQsZGF0YTplfSksdGhpcy5wZXJzaXN0KCl9KSx0aGlzLmV2ZW50cy5vbihxLmRlbGV0ZWQsZT0+e2NvbnN0IHQ9cS5kZWxldGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxkYXRhOmV9KSx0aGlzLnBlcnNpc3QoKX0pfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1iKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgcW89T2JqZWN0LmRlZmluZVByb3BlcnR5LEdvPShyLGUsdCk9PmUgaW4gcj9xbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsUD0ocixlLHQpPT5HbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIEJpIGV4dGVuZHMgY3N7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsdCxpKSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHRoaXMuc3RvcmU9aSxQKHRoaXMsXCJuYW1lXCIsWXQpLFAodGhpcyxcImFib3J0Q29udHJvbGxlclwiKSxQKHRoaXMsXCJpc0RldkVudlwiKSxQKHRoaXMsXCJ2ZXJpZnlVcmxWM1wiLFh0KSxQKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksUCh0aGlzLFwidmVyc2lvblwiLEZlKSxQKHRoaXMsXCJwdWJsaWNLZXlcIiksUCh0aGlzLFwiZmV0Y2hQcm9taXNlXCIpLFAodGhpcyxcImluaXRcIixhc3luYygpPT57dmFyIHM7dGhpcy5pc0RldkVudnx8KHRoaXMucHVibGljS2V5PWF3YWl0IHRoaXMuc3RvcmUuZ2V0SXRlbSh0aGlzLnN0b3JlS2V5KSx0aGlzLnB1YmxpY0tleSYmJCgocz10aGlzLnB1YmxpY0tleSk9PW51bGw/dm9pZCAwOnMuZXhwaXJlc0F0KTxEYXRlLm5vdygpJiYodGhpcy5sb2dnZXIuZGVidWcoXCJ2ZXJpZnkgdjIgcHVibGljIGtleSBleHBpcmVkXCIpLGF3YWl0IHRoaXMucmVtb3ZlUHVibGljS2V5KCkpKX0pLFAodGhpcyxcInJlZ2lzdGVyXCIsYXN5bmMgcz0+e2lmKCFGcygpfHx0aGlzLmlzRGV2RW52KXJldHVybjtjb25zdCBuPXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4se2lkOm8sZGVjcnlwdGVkSWQ6YX09cyxjPWAke3RoaXMudmVyaWZ5VXJsVjN9L2F0dGVzdGF0aW9uP3Byb2plY3RJZD0ke3RoaXMuY29yZS5wcm9qZWN0SWR9Jm9yaWdpbj0ke259JmlkPSR7b30mZGVjcnlwdGVkSWQ9JHthfWA7dHJ5e2NvbnN0IGg9WXMoKSxsPXRoaXMuc3RhcnRBYm9ydFRpbWVyKFEqNSkscD1hd2FpdCBuZXcgUHJvbWlzZSgoeSx3KT0+e2NvbnN0IHU9KCk9Pnt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixEKSxoLmJvZHkucmVtb3ZlQ2hpbGQobSksdyhcImF0dGVzdGF0aW9uIGFib3J0ZWRcIil9O3RoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIix1KTtjb25zdCBtPWguY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTttLnNyYz1jLG0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIixtLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHUse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KTtjb25zdCBEPV89PntpZihfLmRhdGEmJnR5cGVvZiBfLmRhdGE9PVwic3RyaW5nXCIpdHJ5e2NvbnN0IEU9SlNPTi5wYXJzZShfLmRhdGEpO2lmKEUudHlwZT09PVwidmVyaWZ5X2F0dGVzdGF0aW9uXCIpe2lmKG90KEUuYXR0ZXN0YXRpb24pLnBheWxvYWQuaWQhPT1vKXJldHVybjtjbGVhckludGVydmFsKGwpLGguYm9keS5yZW1vdmVDaGlsZChtKSx0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsRCkseShFLmF0dGVzdGF0aW9uPT09bnVsbD9cIlwiOkUuYXR0ZXN0YXRpb24pfX1jYXRjaChFKXt0aGlzLmxvZ2dlci53YXJuKEUpfX07aC5ib2R5LmFwcGVuZENoaWxkKG0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLEQse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KX0pO3JldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhcImp3dCBhdHRlc3RhdGlvblwiLHApLHB9Y2F0Y2goaCl7dGhpcy5sb2dnZXIud2FybihoKX1yZXR1cm5cIlwifSksUCh0aGlzLFwicmVzb2x2ZVwiLGFzeW5jIHM9PntpZih0aGlzLmlzRGV2RW52KXJldHVyblwiXCI7Y29uc3R7YXR0ZXN0YXRpb25JZDpuLGhhc2g6byxlbmNyeXB0ZWRJZDphfT1zO2lmKG49PT1cIlwiKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlc29sdmU6IGF0dGVzdGF0aW9uSWQgaXMgZW1wdHksIHNraXBwaW5nXCIpO3JldHVybn1pZihuKXtpZihvdChuKS5wYXlsb2FkLmlkIT09YSlyZXR1cm47Y29uc3QgaD1hd2FpdCB0aGlzLmlzVmFsaWRKd3RBdHRlc3RhdGlvbihuKTtpZihoKXtpZighaC5pc1ZlcmlmaWVkKXt0aGlzLmxvZ2dlci53YXJuKFwicmVzb2x2ZTogand0IGF0dGVzdGF0aW9uOiBvcmlnaW4gdXJsIG5vdCB2ZXJpZmllZFwiKTtyZXR1cm59cmV0dXJuIGh9fWlmKCFvKXJldHVybjtjb25zdCBjPXRoaXMuZ2V0VmVyaWZ5VXJsKHM/LnZlcmlmeVVybCk7cmV0dXJuIHRoaXMuZmV0Y2hBdHRlc3RhdGlvbihvLGMpfSksUCh0aGlzLFwiZmV0Y2hBdHRlc3RhdGlvblwiLGFzeW5jKHMsbik9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhgcmVzb2x2aW5nIGF0dGVzdGF0aW9uOiAke3N9IGZyb20gdXJsOiAke259YCk7Y29uc3Qgbz10aGlzLnN0YXJ0QWJvcnRUaW1lcihRKjUpLGE9YXdhaXQgZmV0Y2goYCR7bn0vYXR0ZXN0YXRpb24vJHtzfT92MlN1cHBvcnRlZD10cnVlYCx7c2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pO3JldHVybiBjbGVhclRpbWVvdXQobyksYS5zdGF0dXM9PT0yMDA/YXdhaXQgYS5qc29uKCk6dm9pZCAwfSksUCh0aGlzLFwiZ2V0VmVyaWZ5VXJsXCIscz0+e2xldCBuPXN8fGJlO3JldHVybiBadC5pbmNsdWRlcyhuKXx8KHRoaXMubG9nZ2VyLmluZm8oYHZlcmlmeSB1cmw6ICR7bn0sIG5vdCBpbmNsdWRlZCBpbiB0cnVzdGVkIGxpc3QsIGFzc2lnbmluZyBkZWZhdWx0OiAke2JlfWApLG49YmUpLG59KSxQKHRoaXMsXCJmZXRjaFB1YmxpY0tleVwiLGFzeW5jKCk9Pnt0cnl7dGhpcy5sb2dnZXIuZGVidWcoYGZldGNoaW5nIHB1YmxpYyBrZXkgZnJvbTogJHt0aGlzLnZlcmlmeVVybFYzfWApO2NvbnN0IHM9dGhpcy5zdGFydEFib3J0VGltZXIoQWUpLG49YXdhaXQgZmV0Y2goYCR7dGhpcy52ZXJpZnlVcmxWM30vcHVibGljLWtleWAse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KTtyZXR1cm4gY2xlYXJUaW1lb3V0KHMpLGF3YWl0IG4uanNvbigpfWNhdGNoKHMpe3RoaXMubG9nZ2VyLndhcm4ocyl9fSksUCh0aGlzLFwicGVyc2lzdFB1YmxpY0tleVwiLGFzeW5jIHM9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhcInBlcnNpc3RpbmcgcHVibGljIGtleSB0byBsb2NhbCBzdG9yYWdlXCIscyksYXdhaXQgdGhpcy5zdG9yZS5zZXRJdGVtKHRoaXMuc3RvcmVLZXkscyksdGhpcy5wdWJsaWNLZXk9c30pLFAodGhpcyxcInJlbW92ZVB1YmxpY0tleVwiLGFzeW5jKCk9Pnt0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlbW92aW5nIHZlcmlmeSB2MiBwdWJsaWMga2V5IGZyb20gc3RvcmFnZVwiKSxhd2FpdCB0aGlzLnN0b3JlLnJlbW92ZUl0ZW0odGhpcy5zdG9yZUtleSksdGhpcy5wdWJsaWNLZXk9dm9pZCAwfSksUCh0aGlzLFwiaXNWYWxpZEp3dEF0dGVzdGF0aW9uXCIsYXN5bmMgcz0+e2NvbnN0IG49YXdhaXQgdGhpcy5nZXRQdWJsaWNLZXkoKTt0cnl7aWYobilyZXR1cm4gdGhpcy52YWxpZGF0ZUF0dGVzdGF0aW9uKHMsbil9Y2F0Y2goYSl7dGhpcy5sb2dnZXIuZXJyb3IoYSksdGhpcy5sb2dnZXIud2FybihcImVycm9yIHZhbGlkYXRpbmcgYXR0ZXN0YXRpb25cIil9Y29uc3Qgbz1hd2FpdCB0aGlzLmZldGNoQW5kUGVyc2lzdFB1YmxpY0tleSgpO3RyeXtpZihvKXJldHVybiB0aGlzLnZhbGlkYXRlQXR0ZXN0YXRpb24ocyxvKX1jYXRjaChhKXt0aGlzLmxvZ2dlci5lcnJvcihhKSx0aGlzLmxvZ2dlci53YXJuKFwiZXJyb3IgdmFsaWRhdGluZyBhdHRlc3RhdGlvblwiKX19KSxQKHRoaXMsXCJnZXRQdWJsaWNLZXlcIixhc3luYygpPT50aGlzLnB1YmxpY0tleT90aGlzLnB1YmxpY0tleTphd2FpdCB0aGlzLmZldGNoQW5kUGVyc2lzdFB1YmxpY0tleSgpKSxQKHRoaXMsXCJmZXRjaEFuZFBlcnNpc3RQdWJsaWNLZXlcIixhc3luYygpPT57aWYodGhpcy5mZXRjaFByb21pc2UpcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hQcm9taXNlLHRoaXMucHVibGljS2V5O3RoaXMuZmV0Y2hQcm9taXNlPW5ldyBQcm9taXNlKGFzeW5jIG49Pntjb25zdCBvPWF3YWl0IHRoaXMuZmV0Y2hQdWJsaWNLZXkoKTtvJiYoYXdhaXQgdGhpcy5wZXJzaXN0UHVibGljS2V5KG8pLG4obykpfSk7Y29uc3Qgcz1hd2FpdCB0aGlzLmZldGNoUHJvbWlzZTtyZXR1cm4gdGhpcy5mZXRjaFByb21pc2U9dm9pZCAwLHN9KSxQKHRoaXMsXCJ2YWxpZGF0ZUF0dGVzdGF0aW9uXCIsKHMsbik9Pntjb25zdCBvPU1zKHMsbi5wdWJsaWNLZXkpLGE9e2hhc0V4cGlyZWQ6JChvLmV4cCk8RGF0ZS5ub3coKSxwYXlsb2FkOm99O2lmKGEuaGFzRXhwaXJlZCl0aHJvdyB0aGlzLmxvZ2dlci53YXJuKFwicmVzb2x2ZTogand0IGF0dGVzdGF0aW9uIGV4cGlyZWRcIiksbmV3IEVycm9yKFwiSldUIGF0dGVzdGF0aW9uIGV4cGlyZWRcIik7cmV0dXJue29yaWdpbjphLnBheWxvYWQub3JpZ2luLGlzU2NhbTphLnBheWxvYWQuaXNTY2FtLGlzVmVyaWZpZWQ6YS5wYXlsb2FkLmlzVmVyaWZpZWR9fSksdGhpcy5sb2dnZXI9aih0LHRoaXMubmFtZSksdGhpcy5hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcix0aGlzLmlzRGV2RW52PW10KCksdGhpcy5pbml0KCl9Z2V0IHN0b3JlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL3ZlcmlmeTpwdWJsaWM6a2V5XCJ9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9c3RhcnRBYm9ydFRpbWVyKGUpe3JldHVybiB0aGlzLmFib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHNldFRpbWVvdXQoKCk9PnRoaXMuYWJvcnRDb250cm9sbGVyLmFib3J0KCksJChlKSl9fXZhciBXbz1PYmplY3QuZGVmaW5lUHJvcGVydHksSG89KHIsZSx0KT0+ZSBpbiByP1dvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxWaT0ocixlLHQpPT5IbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIHFpIGV4dGVuZHMgaHN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMucHJvamVjdElkPWUsdGhpcy5sb2dnZXI9dCxWaSh0aGlzLFwiY29udGV4dFwiLFF0KSxWaSh0aGlzLFwicmVnaXN0ZXJEZXZpY2VUb2tlblwiLGFzeW5jIGk9Pntjb25zdHtjbGllbnRJZDpzLHRva2VuOm4sbm90aWZpY2F0aW9uVHlwZTpvLGVuYWJsZUVuY3J5cHRlZDphPSExfT1pLGM9YCR7ZWl9LyR7dGhpcy5wcm9qZWN0SWR9L2NsaWVudHNgO2F3YWl0IGZldGNoKGMse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtjbGllbnRfaWQ6cyx0eXBlOm8sdG9rZW46bixhbHdheXNfcmF3OmF9KX0pfSksdGhpcy5sb2dnZXI9aih0LHRoaXMuY29udGV4dCl9fXZhciBZbz1PYmplY3QuZGVmaW5lUHJvcGVydHksR2k9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxKbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFhvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZXQ9KHIsZSx0KT0+ZSBpbiByP1lvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCx3ZT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpSm8uY2FsbChlLHQpJiZldChyLHQsZVt0XSk7aWYoR2kpZm9yKHZhciB0IG9mIEdpKGUpKVhvLmNhbGwoZSx0KSYmZXQocix0LGVbdF0pO3JldHVybiByfSxSPShyLGUsdCk9PmV0KHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgV2kgZXh0ZW5kcyBsc3tjb25zdHJ1Y3RvcihlLHQsaT0hMCl7c3VwZXIoZSx0LGkpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsUih0aGlzLFwiY29udGV4dFwiLGlpKSxSKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsVyksUih0aGlzLFwic3RvcmFnZVZlcnNpb25cIix0aSksUih0aGlzLFwiZXZlbnRzXCIsbmV3IE1hcCksUih0aGlzLFwic2hvdWxkUGVyc2lzdFwiLCExKSxSKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e2lmKCFtdCgpKXRyeXtjb25zdCBzPXtldmVudElkOmZ0KCksdGltZXN0YW1wOkRhdGUubm93KCksZG9tYWluOnRoaXMuZ2V0QXBwRG9tYWluKCkscHJvcHM6e2V2ZW50OlwiSU5JVFwiLHR5cGU6XCJcIixwcm9wZXJ0aWVzOntjbGllbnRfaWQ6YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5nZXRDbGllbnRJZCgpLHVzZXJfYWdlbnQ6S3ModGhpcy5jb3JlLnJlbGF5ZXIucHJvdG9jb2wsdGhpcy5jb3JlLnJlbGF5ZXIudmVyc2lvbixQZSl9fX07YXdhaXQgdGhpcy5zZW5kRXZlbnQoW3NdKX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMpfX0pLFIodGhpcyxcImNyZWF0ZUV2ZW50XCIscz0+e2NvbnN0e2V2ZW50Om49XCJFUlJPUlwiLHR5cGU6bz1cIlwiLHByb3BlcnRpZXM6e3RvcGljOmEsdHJhY2U6Y319PXMsaD1mdCgpLGw9dGhpcy5jb3JlLnByb2plY3RJZHx8XCJcIixwPURhdGUubm93KCkseT13ZSh7ZXZlbnRJZDpoLHRpbWVzdGFtcDpwLHByb3BzOntldmVudDpuLHR5cGU6byxwcm9wZXJ0aWVzOnt0b3BpYzphLHRyYWNlOmN9fSxidW5kbGVJZDpsLGRvbWFpbjp0aGlzLmdldEFwcERvbWFpbigpfSx0aGlzLnNldE1ldGhvZHMoaCkpO3JldHVybiB0aGlzLnRlbGVtZXRyeUVuYWJsZWQmJih0aGlzLmV2ZW50cy5zZXQoaCx5KSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApLHl9KSxSKHRoaXMsXCJnZXRFdmVudFwiLHM9Pntjb25zdHtldmVudElkOm4sdG9waWM6b309cztpZihuKXJldHVybiB0aGlzLmV2ZW50cy5nZXQobik7Y29uc3QgYT1BcnJheS5mcm9tKHRoaXMuZXZlbnRzLnZhbHVlcygpKS5maW5kKGM9PmMucHJvcHMucHJvcGVydGllcy50b3BpYz09PW8pO2lmKGEpcmV0dXJuIHdlKHdlKHt9LGEpLHRoaXMuc2V0TWV0aG9kcyhhLmV2ZW50SWQpKX0pLFIodGhpcyxcImRlbGV0ZUV2ZW50XCIscz0+e2NvbnN0e2V2ZW50SWQ6bn09czt0aGlzLmV2ZW50cy5kZWxldGUobiksdGhpcy5zaG91bGRQZXJzaXN0PSEwfSksUih0aGlzLFwic2V0RXZlbnRMaXN0ZW5lcnNcIiwoKT0+e3RoaXMuY29yZS5oZWFydGJlYXQub24oc2UucHVsc2UsYXN5bmMoKT0+e3RoaXMuc2hvdWxkUGVyc2lzdCYmYXdhaXQgdGhpcy5wZXJzaXN0KCksdGhpcy5ldmVudHMuZm9yRWFjaChzPT57cnQoRGF0ZS5ub3coKSktcnQocy50aW1lc3RhbXApPnNpJiYodGhpcy5ldmVudHMuZGVsZXRlKHMuZXZlbnRJZCksdGhpcy5zaG91bGRQZXJzaXN0PSEwKX0pfSl9KSxSKHRoaXMsXCJzZXRNZXRob2RzXCIscz0+KHthZGRUcmFjZTpuPT50aGlzLmFkZFRyYWNlKHMsbiksc2V0RXJyb3I6bj0+dGhpcy5zZXRFcnJvcihzLG4pfSkpLFIodGhpcyxcImFkZFRyYWNlXCIsKHMsbik9Pntjb25zdCBvPXRoaXMuZXZlbnRzLmdldChzKTtvJiYoby5wcm9wcy5wcm9wZXJ0aWVzLnRyYWNlLnB1c2gobiksdGhpcy5ldmVudHMuc2V0KHMsbyksdGhpcy5zaG91bGRQZXJzaXN0PSEwKX0pLFIodGhpcyxcInNldEVycm9yXCIsKHMsbik9Pntjb25zdCBvPXRoaXMuZXZlbnRzLmdldChzKTtvJiYoby5wcm9wcy50eXBlPW4sby50aW1lc3RhbXA9RGF0ZS5ub3coKSx0aGlzLmV2ZW50cy5zZXQocyxvKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITApfSksUih0aGlzLFwicGVyc2lzdFwiLGFzeW5jKCk9Pnthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxBcnJheS5mcm9tKHRoaXMuZXZlbnRzLnZhbHVlcygpKSksdGhpcy5zaG91bGRQZXJzaXN0PSExfSksUih0aGlzLFwicmVzdG9yZVwiLGFzeW5jKCk9Pnt0cnl7Y29uc3Qgcz1hd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl8fFtdO2lmKCFzLmxlbmd0aClyZXR1cm47cy5mb3JFYWNoKG49Pnt0aGlzLmV2ZW50cy5zZXQobi5ldmVudElkLHdlKHdlKHt9LG4pLHRoaXMuc2V0TWV0aG9kcyhuLmV2ZW50SWQpKSl9KX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMpfX0pLFIodGhpcyxcInN1Ym1pdFwiLGFzeW5jKCk9PntpZighdGhpcy50ZWxlbWV0cnlFbmFibGVkfHx0aGlzLmV2ZW50cy5zaXplPT09MClyZXR1cm47Y29uc3Qgcz1bXTtmb3IoY29uc3RbbixvXW9mIHRoaXMuZXZlbnRzKW8ucHJvcHMudHlwZSYmcy5wdXNoKG8pO2lmKHMubGVuZ3RoIT09MCl0cnl7aWYoKGF3YWl0IHRoaXMuc2VuZEV2ZW50KHMpKS5vaylmb3IoY29uc3QgbiBvZiBzKXRoaXMuZXZlbnRzLmRlbGV0ZShuLmV2ZW50SWQpLHRoaXMuc2hvdWxkUGVyc2lzdD0hMH1jYXRjaChuKXt0aGlzLmxvZ2dlci53YXJuKG4pfX0pLFIodGhpcyxcInNlbmRFdmVudFwiLGFzeW5jIHM9Pntjb25zdCBuPXRoaXMuZ2V0QXBwRG9tYWluKCk/XCJcIjpcIiZzcD1kZXNrdG9wXCI7cmV0dXJuIGF3YWl0IGZldGNoKGAke3JpfT9wcm9qZWN0SWQ9JHt0aGlzLmNvcmUucHJvamVjdElkfSZzdD1ldmVudHNfc2RrJnN2PWpzLSR7UGV9JHtufWAse21ldGhvZDpcIlBPU1RcIixib2R5OkpTT04uc3RyaW5naWZ5KHMpfSl9KSxSKHRoaXMsXCJnZXRBcHBEb21haW5cIiwoKT0+QnMoKS51cmwpLHRoaXMubG9nZ2VyPWoodCx0aGlzLmNvbnRleHQpLHRoaXMudGVsZW1ldHJ5RW5hYmxlZD1pLGk/dGhpcy5yZXN0b3JlKCkudGhlbihhc3luYygpPT57YXdhaXQgdGhpcy5zdWJtaXQoKSx0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCl9KTp0aGlzLnBlcnNpc3QoKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy5zdG9yYWdlVmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5jb250ZXh0fX12YXIgWm89T2JqZWN0LmRlZmluZVByb3BlcnR5LEhpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsUW89T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxlYT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLHR0PShyLGUsdCk9PmUgaW4gcj9abyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsWWk9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKVFvLmNhbGwoZSx0KSYmdHQocix0LGVbdF0pO2lmKEhpKWZvcih2YXIgdCBvZiBIaShlKSllYS5jYWxsKGUsdCkmJnR0KHIsdCxlW3RdKTtyZXR1cm4gcn0sdj0ocixlLHQpPT50dChyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIE9lIGV4dGVuZHMgdXN7Y29uc3RydWN0b3IoZSl7dmFyIHQ7c3VwZXIoZSksdih0aGlzLFwicHJvdG9jb2xcIixVZSksdih0aGlzLFwidmVyc2lvblwiLEZlKSx2KHRoaXMsXCJuYW1lXCIscGUpLHYodGhpcyxcInJlbGF5VXJsXCIpLHYodGhpcyxcInByb2plY3RJZFwiKSx2KHRoaXMsXCJjdXN0b21TdG9yYWdlUHJlZml4XCIpLHYodGhpcyxcImV2ZW50c1wiLG5ldyBpZSksdih0aGlzLFwibG9nZ2VyXCIpLHYodGhpcyxcImhlYXJ0YmVhdFwiKSx2KHRoaXMsXCJyZWxheWVyXCIpLHYodGhpcyxcImNyeXB0b1wiKSx2KHRoaXMsXCJzdG9yYWdlXCIpLHYodGhpcyxcImhpc3RvcnlcIiksdih0aGlzLFwiZXhwaXJlclwiKSx2KHRoaXMsXCJwYWlyaW5nXCIpLHYodGhpcyxcInZlcmlmeVwiKSx2KHRoaXMsXCJlY2hvQ2xpZW50XCIpLHYodGhpcyxcImxpbmtNb2RlU3VwcG9ydGVkQXBwc1wiKSx2KHRoaXMsXCJldmVudENsaWVudFwiKSx2KHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSx2KHRoaXMsXCJsb2dDaHVua0NvbnRyb2xsZXJcIiksdih0aGlzLFwib25cIiwoYSxjKT0+dGhpcy5ldmVudHMub24oYSxjKSksdih0aGlzLFwib25jZVwiLChhLGMpPT50aGlzLmV2ZW50cy5vbmNlKGEsYykpLHYodGhpcyxcIm9mZlwiLChhLGMpPT50aGlzLmV2ZW50cy5vZmYoYSxjKSksdih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoYSxjKT0+dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoYSxjKSksdih0aGlzLFwiZGlzcGF0Y2hFbnZlbG9wZVwiLCh7dG9waWM6YSxtZXNzYWdlOmMsc2Vzc2lvbkV4aXN0czpofSk9PntpZighYXx8IWMpcmV0dXJuO2NvbnN0IGw9e3RvcGljOmEsbWVzc2FnZTpjLHB1Ymxpc2hlZEF0OkRhdGUubm93KCksdHJhbnNwb3J0VHlwZTplZS5saW5rX21vZGV9O3RoaXMucmVsYXllci5vbkxpbmtNZXNzYWdlRXZlbnQobCx7c2Vzc2lvbkV4aXN0czpofSl9KTtjb25zdCBpPXRoaXMuZ2V0R2xvYmFsQ29yZShlPy5jdXN0b21TdG9yYWdlUHJlZml4KTtpZihpKXRyeXtyZXR1cm4gdGhpcy5jdXN0b21TdG9yYWdlUHJlZml4PWkuY3VzdG9tU3RvcmFnZVByZWZpeCx0aGlzLmxvZ2dlcj1pLmxvZ2dlcix0aGlzLmhlYXJ0YmVhdD1pLmhlYXJ0YmVhdCx0aGlzLmNyeXB0bz1pLmNyeXB0byx0aGlzLmhpc3Rvcnk9aS5oaXN0b3J5LHRoaXMuZXhwaXJlcj1pLmV4cGlyZXIsdGhpcy5zdG9yYWdlPWkuc3RvcmFnZSx0aGlzLnJlbGF5ZXI9aS5yZWxheWVyLHRoaXMucGFpcmluZz1pLnBhaXJpbmcsdGhpcy52ZXJpZnk9aS52ZXJpZnksdGhpcy5lY2hvQ2xpZW50PWkuZWNob0NsaWVudCx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1pLmxpbmtNb2RlU3VwcG9ydGVkQXBwcyx0aGlzLmV2ZW50Q2xpZW50PWkuZXZlbnRDbGllbnQsdGhpcy5pbml0aWFsaXplZD1pLmluaXRpYWxpemVkLHRoaXMubG9nQ2h1bmtDb250cm9sbGVyPWkubG9nQ2h1bmtDb250cm9sbGVyLGl9Y2F0Y2goYSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNvcHkgZ2xvYmFsIGNvcmVcIixhKX10aGlzLnByb2plY3RJZD1lPy5wcm9qZWN0SWQsdGhpcy5yZWxheVVybD1lPy5yZWxheVVybHx8S2UsdGhpcy5jdXN0b21TdG9yYWdlUHJlZml4PWUhPW51bGwmJmUuY3VzdG9tU3RvcmFnZVByZWZpeD9gOiR7ZS5jdXN0b21TdG9yYWdlUHJlZml4fWA6XCJcIjtjb25zdCBzPWl0KHtsZXZlbDp0eXBlb2YgZT8ubG9nZ2VyPT1cInN0cmluZ1wiJiZlLmxvZ2dlcj9lLmxvZ2dlcjpJdC5sb2dnZXIsbmFtZTpwZX0pLHtsb2dnZXI6bixjaHVua0xvZ2dlckNvbnRyb2xsZXI6b309ZXMoe29wdHM6cyxtYXhTaXplSW5CeXRlczplPy5tYXhMb2dCbG9iU2l6ZUluQnl0ZXMsbG9nZ2VyT3ZlcnJpZGU6ZT8ubG9nZ2VyfSk7dGhpcy5sb2dDaHVua0NvbnRyb2xsZXI9bywodD10aGlzLmxvZ0NodW5rQ29udHJvbGxlcikhPW51bGwmJnQuZG93bmxvYWRMb2dzQmxvYkluQnJvd3NlciYmKHdpbmRvdy5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyPWFzeW5jKCk9Pnt2YXIgYSxjOyhhPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKSE9bnVsbCYmYS5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyJiYoKGM9dGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpPT1udWxsfHxjLmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXIoe2NsaWVudElkOmF3YWl0IHRoaXMuY3J5cHRvLmdldENsaWVudElkKCl9KSl9KSx0aGlzLmxvZ2dlcj1qKG4sdGhpcy5uYW1lKSx0aGlzLmhlYXJ0YmVhdD1uZXcgWGksdGhpcy5jcnlwdG89bmV3IEVpKHRoaXMsdGhpcy5sb2dnZXIsZT8ua2V5Y2hhaW4pLHRoaXMuaGlzdG9yeT1uZXcgTWkodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5leHBpcmVyPW5ldyBLaSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLnN0b3JhZ2U9ZSE9bnVsbCYmZS5zdG9yYWdlP2Uuc3RvcmFnZTpuZXcgWmkoWWkoWWkoe30sVHQpLGU/LnN0b3JhZ2VPcHRpb25zKSksdGhpcy5yZWxheWVyPW5ldyB4aSh7Y29yZTp0aGlzLGxvZ2dlcjp0aGlzLmxvZ2dlcixyZWxheVVybDp0aGlzLnJlbGF5VXJsLHByb2plY3RJZDp0aGlzLnByb2plY3RJZH0pLHRoaXMucGFpcmluZz1uZXcgRmkodGhpcyx0aGlzLmxvZ2dlciksdGhpcy52ZXJpZnk9bmV3IEJpKHRoaXMsdGhpcy5sb2dnZXIsdGhpcy5zdG9yYWdlKSx0aGlzLmVjaG9DbGllbnQ9bmV3IHFpKHRoaXMucHJvamVjdElkfHxcIlwiLHRoaXMubG9nZ2VyKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1bXSx0aGlzLmV2ZW50Q2xpZW50PW5ldyBXaSh0aGlzLHRoaXMubG9nZ2VyLGU/LnRlbGVtZXRyeUVuYWJsZWQpLHRoaXMuc2V0R2xvYmFsQ29yZSh0aGlzKX1zdGF0aWMgYXN5bmMgaW5pdChlKXtjb25zdCB0PW5ldyBPZShlKTthd2FpdCB0LmluaXRpYWxpemUoKTtjb25zdCBpPWF3YWl0IHQuY3J5cHRvLmdldENsaWVudElkKCk7cmV0dXJuIGF3YWl0IHQuc3RvcmFnZS5zZXRJdGVtKEZ0LGkpLHR9Z2V0IGNvbnRleHQoKXtyZXR1cm4gQih0aGlzLmxvZ2dlcil9YXN5bmMgc3RhcnQoKXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXRpYWxpemUoKX1hc3luYyBnZXRMb2dzQmxvYigpe3ZhciBlO3JldHVybihlPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKT09bnVsbD92b2lkIDA6ZS5sb2dzVG9CbG9iKHtjbGllbnRJZDphd2FpdCB0aGlzLmNyeXB0by5nZXRDbGllbnRJZCgpfSl9YXN5bmMgYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoZSl7dGhpcy5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXMoZSl8fCh0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5wdXNoKGUpLGF3YWl0IHRoaXMuc3RvcmFnZS5zZXRJdGVtKEJlLHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzKSl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY3J5cHRvLmluaXQoKSxhd2FpdCB0aGlzLmhpc3RvcnkuaW5pdCgpLGF3YWl0IHRoaXMuZXhwaXJlci5pbml0KCksYXdhaXQgdGhpcy5yZWxheWVyLmluaXQoKSxhd2FpdCB0aGlzLmhlYXJ0YmVhdC5pbml0KCksYXdhaXQgdGhpcy5wYWlyaW5nLmluaXQoKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1hd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShCZSl8fFtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5sb2dnZXIuaW5mbyhcIkNvcmUgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKX1jYXRjaChlKXt0aHJvdyB0aGlzLmxvZ2dlci53YXJuKGBDb3JlIEluaXRpYWxpemF0aW9uIEZhaWx1cmUgYXQgZXBvY2ggJHtEYXRlLm5vdygpfWAsZSksdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKSxlfX1nZXRHbG9iYWxDb3JlKGU9XCJcIil7dHJ5e2lmKHRoaXMuaXNHbG9iYWxDb3JlRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgdD1gX3dhbGxldENvbm5lY3RDb3JlXyR7ZX1gLGk9YCR7dH1fY291bnRgO3JldHVybiBnbG9iYWxUaGlzW2ldPShnbG9iYWxUaGlzW2ldfHwwKSsxLGdsb2JhbFRoaXNbaV0+MSYmY29uc29sZS53YXJuKGBXYWxsZXRDb25uZWN0IENvcmUgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4gVGhpcyBpcyBwcm9iYWJseSBhIG1pc3Rha2UgYW5kIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuIEluaXQoKSB3YXMgY2FsbGVkICR7Z2xvYmFsVGhpc1tpXX0gdGltZXMuYCksZ2xvYmFsVGhpc1t0XX1jYXRjaCh0KXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZ2V0IGdsb2JhbCBXYWxsZXRDb25uZWN0IGNvcmVcIix0KTtyZXR1cm59fXNldEdsb2JhbENvcmUoZSl7dmFyIHQ7dHJ5e2lmKHRoaXMuaXNHbG9iYWxDb3JlRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgaT1gX3dhbGxldENvbm5lY3RDb3JlXyR7KCh0PWUub3B0cyk9PW51bGw/dm9pZCAwOnQuY3VzdG9tU3RvcmFnZVByZWZpeCl8fFwiXCJ9YDtnbG9iYWxUaGlzW2ldPWV9Y2F0Y2goaSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHNldCBnbG9iYWwgV2FsbGV0Q29ubmVjdCBjb3JlXCIsaSl9fWlzR2xvYmFsQ29yZURpc2FibGVkKCl7dHJ5e3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmcHJvY2Vzcy5lbnYuRElTQUJMRV9HTE9CQUxfQ09SRT09PVwidHJ1ZVwifWNhdGNoe3JldHVybiEwfX19Y29uc3QgdGE9T2U7ZXhwb3J0e3BlIGFzIENPUkVfQ09OVEVYVCxJdCBhcyBDT1JFX0RFRkFVTFQsVWUgYXMgQ09SRV9QUk9UT0NPTCxUdCBhcyBDT1JFX1NUT1JBR0VfT1BUSU9OUyxXIGFzIENPUkVfU1RPUkFHRV9QUkVGSVgsRmUgYXMgQ09SRV9WRVJTSU9OLE1lIGFzIENSWVBUT19DTElFTlRfU0VFRCxDdCBhcyBDUllQVE9fQ09OVEVYVCxQdCBhcyBDUllQVE9fSldUX1RUTCx0YSBhcyBDb3JlLEVpIGFzIENyeXB0byxRdCBhcyBFQ0hPX0NPTlRFWFQsZWkgYXMgRUNIT19VUkwscmkgYXMgRVZFTlRTX0NMSUVOVF9BUElfVVJMLHNpIGFzIEVWRU5UU19TVE9SQUdFX0NMRUFOVVBfSU5URVJWQUwsaWkgYXMgRVZFTlRTX1NUT1JBR0VfQ09OVEVYVCx0aSBhcyBFVkVOVFNfU1RPUkFHRV9WRVJTSU9OLGFyIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfRVJST1JTLG9yIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfVFJBQ0VTLHNyIGFzIEVWRU5UX0NMSUVOVF9DT05URVhULFggYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfRVJST1JTLFkgYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfVFJBQ0VTLG5yIGFzIEVWRU5UX0NMSUVOVF9TRVNTSU9OX0VSUk9SUyxyciBhcyBFVkVOVF9DTElFTlRfU0VTU0lPTl9UUkFDRVMsV3QgYXMgRVhQSVJFUl9DT05URVhULHRyIGFzIEVYUElSRVJfREVGQVVMVF9UVEwscSBhcyBFWFBJUkVSX0VWRU5UUyxIdCBhcyBFWFBJUkVSX1NUT1JBR0VfVkVSU0lPTixxaSBhcyBFY2hvQ2xpZW50LFdpIGFzIEV2ZW50Q2xpZW50LEtpIGFzIEV4cGlyZXIscXQgYXMgSElTVE9SWV9DT05URVhULFYgYXMgSElTVE9SWV9FVkVOVFMsR3QgYXMgSElTVE9SWV9TVE9SQUdFX1ZFUlNJT04sTWkgYXMgSnNvblJwY0hpc3RvcnksU3QgYXMgS0VZQ0hBSU5fQ09OVEVYVCxPdCBhcyBLRVlDSEFJTl9TVE9SQUdFX1ZFUlNJT04sX2kgYXMgS2V5Q2hhaW4sUnQgYXMgTUVTU0FHRVNfQ09OVEVYVCxBdCBhcyBNRVNTQUdFU19TVE9SQUdFX1ZFUlNJT04seWUgYXMgTUVTU0FHRV9ESVJFQ1RJT04sVGkgYXMgTWVzc2FnZVRyYWNrZXIsQnQgYXMgUEFJUklOR19DT05URVhULGVyIGFzIFBBSVJJTkdfREVGQVVMVF9UVEwsYWUgYXMgUEFJUklOR19FVkVOVFMsb2UgYXMgUEFJUklOR19SUENfT1BUUyxWdCBhcyBQQUlSSU5HX1NUT1JBR0VfVkVSU0lPTixRcyBhcyBQRU5ESU5HX1NVQl9SRVNPTFVUSU9OX1RJTUVPVVQsTnQgYXMgUFVCTElTSEVSX0NPTlRFWFQseHQgYXMgUFVCTElTSEVSX0RFRkFVTFRfVFRMLEZpIGFzIFBhaXJpbmcsTHQgYXMgUkVMQVlFUl9DT05URVhULHp0IGFzIFJFTEFZRVJfREVGQVVMVF9MT0dHRVIsJHQgYXMgUkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MLEtlIGFzIFJFTEFZRVJfREVGQVVMVF9SRUxBWV9VUkwsQyBhcyBSRUxBWUVSX0VWRU5UUyxNIGFzIFJFTEFZRVJfUFJPVklERVJfRVZFTlRTLGp0IGFzIFJFTEFZRVJfUkVDT05ORUNUX1RJTUVPVVQsUGUgYXMgUkVMQVlFUl9TREtfVkVSU0lPTixKcyBhcyBSRUxBWUVSX1NUT1JBR0VfT1BUSU9OUyxrdCBhcyBSRUxBWUVSX1NVQlNDUklCRVJfU1VGRklYLFhzIGFzIFJFTEFZRVJfVFJBTlNQT1JUX0NVVE9GRix4aSBhcyBSZWxheWVyLFV0IGFzIFNUT1JFX1NUT1JBR0VfVkVSU0lPTixNdCBhcyBTVUJTQ1JJQkVSX0NPTlRFWFQsWnMgYXMgU1VCU0NSSUJFUl9ERUZBVUxUX1RUTCxVIGFzIFNVQlNDUklCRVJfRVZFTlRTLEt0IGFzIFNVQlNDUklCRVJfU1RPUkFHRV9WRVJTSU9OLFVpIGFzIFN0b3JlLE9pIGFzIFN1YnNjcmliZXIsZWUgYXMgVFJBTlNQT1JUX1RZUEVTLFp0IGFzIFRSVVNURURfVkVSSUZZX1VSTFMsWXQgYXMgVkVSSUZZX0NPTlRFWFQsYmUgYXMgVkVSSUZZX1NFUlZFUixYdCBhcyBWRVJJRllfU0VSVkVSX1YzLEJpIGFzIFZlcmlmeSxGdCBhcyBXQUxMRVRDT05ORUNUX0NMSUVOVF9JRCxCZSBhcyBXQUxMRVRDT05ORUNUX0xJTktfTU9ERV9BUFBTLE9lIGFzIGRlZmF1bHR9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/core/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/sign-client/dist/index.es.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/sign-client/dist/index.es.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_CONTEXT: () => (/* binding */ ft),\n/* harmony export */   AUTH_KEYS_CONTEXT: () => (/* binding */ St),\n/* harmony export */   AUTH_PAIRING_TOPIC_CONTEXT: () => (/* binding */ Et),\n/* harmony export */   AUTH_PROTOCOL: () => (/* binding */ _t),\n/* harmony export */   AUTH_PUBLIC_KEY_NAME: () => (/* binding */ pe),\n/* harmony export */   AUTH_REQUEST_CONTEXT: () => (/* binding */ Rt),\n/* harmony export */   AUTH_STORAGE_PREFIX: () => (/* binding */ le),\n/* harmony export */   AUTH_VERSION: () => (/* binding */ Os),\n/* harmony export */   ENGINE_CONTEXT: () => (/* binding */ gt),\n/* harmony export */   ENGINE_QUEUE_STATES: () => (/* binding */ M),\n/* harmony export */   ENGINE_RPC_OPTS: () => (/* binding */ P),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ qs),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ Ts),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Ps),\n/* harmony export */   METHODS_TO_VERIFY: () => (/* binding */ mt),\n/* harmony export */   PROPOSAL_CONTEXT: () => (/* binding */ dt),\n/* harmony export */   PROPOSAL_EXPIRY: () => (/* binding */ Ns),\n/* harmony export */   PROPOSAL_EXPIRY_MESSAGE: () => (/* binding */ Me),\n/* harmony export */   REQUEST_CONTEXT: () => (/* binding */ wt),\n/* harmony export */   SESSION_CONTEXT: () => (/* binding */ ut),\n/* harmony export */   SESSION_EXPIRY: () => (/* binding */ B),\n/* harmony export */   SESSION_REQUEST_EXPIRY_BOUNDARIES: () => (/* binding */ _e),\n/* harmony export */   SIGN_CLIENT_CONTEXT: () => (/* binding */ De),\n/* harmony export */   SIGN_CLIENT_DEFAULT: () => (/* binding */ me),\n/* harmony export */   SIGN_CLIENT_EVENTS: () => (/* binding */ vs),\n/* harmony export */   SIGN_CLIENT_PROTOCOL: () => (/* binding */ Ve),\n/* harmony export */   SIGN_CLIENT_STORAGE_OPTIONS: () => (/* binding */ Is),\n/* harmony export */   SIGN_CLIENT_STORAGE_PREFIX: () => (/* binding */ we),\n/* harmony export */   SIGN_CLIENT_VERSION: () => (/* binding */ ke),\n/* harmony export */   SessionStore: () => (/* binding */ Hs),\n/* harmony export */   SignClient: () => (/* binding */ zs),\n/* harmony export */   TVF_METHODS: () => (/* binding */ yt),\n/* harmony export */   WALLETCONNECT_DEEPLINK_CHOICE: () => (/* binding */ Le),\n/* harmony export */   \"default\": () => (/* binding */ fe)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/core */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/core/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\nconst Ve=\"wc\",ke=2,De=\"client\",we=`${Ve}@${ke}:${De}:`,me={name:De,logger:\"error\",controller:!1,relayUrl:\"wss://relay.walletconnect.org\"},vs={session_proposal:\"session_proposal\",session_update:\"session_update\",session_extend:\"session_extend\",session_ping:\"session_ping\",session_delete:\"session_delete\",session_expire:\"session_expire\",session_request:\"session_request\",session_request_sent:\"session_request_sent\",session_event:\"session_event\",proposal_expire:\"proposal_expire\",session_authenticate:\"session_authenticate\",session_request_expire:\"session_request_expire\",session_connect:\"session_connect\"},Is={database:\":memory:\"},Le=\"WALLETCONNECT_DEEPLINK_CHOICE\",Ts={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},qs=\"history\",Ps=\"0.3\",dt=\"proposal\",Ns=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.THIRTY_DAYS,Me=\"Proposal expired\",ut=\"session\",B=_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.SEVEN_DAYS,gt=\"engine\",P={wc_sessionPropose:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,prompt:!1,tag:1119}}},_e={min:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,max:_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.SEVEN_DAYS},M={idle:\"IDLE\",active:\"ACTIVE\"},yt={eth_sendTransaction:{key:\"\"},eth_sendRawTransaction:{key:\"\"},wallet_sendCalls:{key:\"\"},solana_signTransaction:{key:\"signature\"},solana_signAllTransactions:{key:\"transactions\"},solana_signAndSendTransaction:{key:\"signature\"},sui_signAndExecuteTransaction:{key:\"digest\"},sui_signTransaction:{key:\"\"},hedera_signAndExecuteTransaction:{key:\"transactionId\"},hedera_executeTransaction:{key:\"transactionId\"},near_signTransaction:{key:\"\"},near_signTransactions:{key:\"\"},tron_signTransaction:{key:\"txID\"},xrpl_signTransaction:{key:\"\"},xrpl_signTransactionFor:{key:\"\"},algo_signTxn:{key:\"\"},sendTransfer:{key:\"txid\"},stacks_stxTransfer:{key:\"txId\"},polkadot_signTransaction:{key:\"\"},cosmos_signDirect:{key:\"\"}},wt=\"request\",mt=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\",\"wc_sessionAuthenticate\"],_t=\"wc\",Os=1.5,ft=\"auth\",St=\"authKeys\",Et=\"pairingTopics\",Rt=\"requests\",le=`${_t}@${1.5}:${ft}:`,pe=`${le}:PUB_KEY`;var bs=Object.defineProperty,As=Object.defineProperties,xs=Object.getOwnPropertyDescriptors,vt=Object.getOwnPropertySymbols,Cs=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable,$e=(S,o,t)=>o in S?bs(S,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):S[o]=t,R=(S,o)=>{for(var t in o||(o={}))Cs.call(o,t)&&$e(S,t,o[t]);if(vt)for(var t of vt(o))Vs.call(o,t)&&$e(S,t,o[t]);return S},O=(S,o)=>As(S,xs(o)),c=(S,o,t)=>$e(S,typeof o!=\"symbol\"?o+\"\":o,t);class ks extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.IEngine{constructor(o){super(o),c(this,\"name\",gt),c(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_1___default())),c(this,\"initialized\",!1),c(this,\"requestQueue\",{state:M.idle,queue:[]}),c(this,\"sessionRequestQueue\",{state:M.idle,queue:[]}),c(this,\"emittedSessionRequests\",new _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.LimitedSet({limit:500})),c(this,\"requestQueueDelay\",_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.ONE_SECOND),c(this,\"expectedPairingMethodMap\",new Map),c(this,\"recentlyDeletedMap\",new Map),c(this,\"recentlyDeletedLimit\",200),c(this,\"relayMessageCache\",[]),c(this,\"pendingSessions\",new Map),c(this,\"init\",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(P)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.toMiliseconds)(this.requestQueueDelay)))}),c(this,\"connect\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const e=O(R({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(e),e.optionalNamespaces=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeRequiredAndOptionalNamespaces)(e.requiredNamespaces,e.optionalNamespaces),e.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:r,sessionProperties:n,scopedProperties:a,relays:l}=e;let p=s,h,u=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn(\"connect() with existing pairing topic is deprecated and will be removed in the next major release.\"),u=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!u){const{topic:T,uri:$}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});p=T,h=$}if(!p){const{message:T}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`connect() pairing topic: ${p}`);throw new Error(T)}const d=await this.client.core.crypto.generateKeyPair(),y=P.wc_sessionPropose.req.ttl||_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.FIVE_MINUTES,w=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(y),m=O(R(R({requiredNamespaces:i,optionalNamespaces:r,relays:l??[{protocol:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:p},n&&{sessionProperties:n}),a&&{scopedProperties:a}),{id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()}),E=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",m.id),{reject:_,resolve:b,done:V}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(y,Me),I=({id:T})=>{T===m.id&&(this.client.events.off(\"proposal_expire\",I),this.pendingSessions.delete(m.id),this.events.emit(E,{error:{message:Me,code:0}}))};return this.client.events.on(\"proposal_expire\",I),this.events.once(E,({error:T,session:$})=>{this.client.events.off(\"proposal_expire\",I),T?_(T):$&&b($)}),await this.sendProposeSession({proposal:m,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:m.id}}}),await this.setProposal(m.id,m),{uri:h,approval:V}}),c(this,\"pair\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(e){throw this.client.logger.error(\"pair() failed\"),e}}),c(this,\"approve\",async t=>{var e,s,i;const r=this.client.core.eventClient.createEvent({properties:{topic:(e=t?.id)==null?void 0:e.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.no_internet_connection),N}try{await this.isValidProposalId(t?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${t?.id}) failed`),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_not_found),N}try{await this.isValidApprove(t)}catch(N){throw this.client.logger.error(\"approve() -> isValidApprove() failed\"),r.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.session_approve_namespace_validation_failure),N}const{id:n,relayProtocol:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=t,d=this.client.proposal.get(n);this.client.core.eventClient.deleteEvent({eventId:r.eventId});const{pairingTopic:y,proposer:w,requiredNamespaces:m,optionalNamespaces:E}=d;let _=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:y});_||(_=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,properties:{topic:y,trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_started,_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),V=w.publicKey,I=await this.client.core.crypto.generateSharedKey(b,V),T=R(R(R({relay:{protocol:a??\"irn\"},namespaces:l,controller:{publicKey:b,metadata:this.client.metadata},expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B)},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),$=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:$,internal:{skipSubscribe:!0}})}catch(N){throw _.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.subscribe_session_topic_failure),N}_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.subscribe_session_topic_success);const Se=O(R({},T),{topic:I,requiredNamespaces:m,optionalNamespaces:E,pairingTopic:y,acknowledged:!1,self:T.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:b,transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(I,Se),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.store_session);try{await this.sendApproveSession({sessionTopic:I,proposal:d,pairingProposalResponse:{relay:{protocol:a??\"irn\"},responderPublicKey:b},sessionSettleRequest:T,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:n}}}),_.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_TRACES.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(I),N}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:y,metadata:w.metadata}),await this.deleteProposal(n),await this.client.core.pairing.activate({topic:y}),await this.setExpiry(I,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),c(this,\"reject\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(r){throw this.client.logger.error(\"reject() -> isValidReject() failed\"),r}const{id:e,reason:s}=t;let i;try{i=this.client.proposal.get(e).pairingTopic}catch(r){throw this.client.logger.error(`reject() -> proposal.get(${e}) failed`),r}i&&await this.sendError({id:e,topic:i,error:s,rpcOpts:P.wc_sessionPropose.reject}),await this.deleteProposal(e)}),c(this,\"update\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(h){throw this.client.logger.error(\"update() -> isValidUpdate() failed\"),h}const{topic:e,namespaces:s}=t,{done:i,resolve:r,reject:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(),a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),p=this.client.session.get(e).namespaces;return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",a),({error:h})=>{h?n(h):r()}),await this.client.session.update(e,{namespaces:s}),await this.sendRequest({topic:e,method:\"wc_sessionUpdate\",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(e,{namespaces:p}),n(h)}),{acknowledged:i}}),c(this,\"extend\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(a){throw this.client.logger.error(\"extend() -> isValidExtend() failed\"),a}const{topic:e}=t,s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),{done:i,resolve:r,reject:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();return this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),({error:a})=>{a?n(a):r()}),await this.setExpiry(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B)),this.sendRequest({topic:e,method:\"wc_sessionExtend\",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(a=>{n(a)}),{acknowledged:i}}),c(this,\"request\",async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(m){throw this.client.logger.error(\"request() -> isValidRequest() failed\"),m}const{chainId:e,request:s,topic:i,expiry:r=P.wc_sessionRequest.req.ttl}=t,n=this.client.session.get(i);n?.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:p,resolve:h,reject:u}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(r,\"Request expired. Please try again.\");this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",a),({error:m,result:E})=>{m?u(m):h(E)});const d=\"wc_sessionRequest\",y=this.getAppLinkIfEnabled(n.peer.metadata,n.transportType);if(y)return await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:{request:O(R({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:e},expiry:r,throwOnFailedPublish:!0,appLink:y}).catch(m=>u(m)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:e,id:a}),await p();const w={request:O(R({},s),{expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(r)}),chainId:e};return await Promise.all([new Promise(async m=>{await this.sendRequest({clientRpcId:a,relayRpcId:l,topic:i,method:d,params:w,expiry:r,throwOnFailedPublish:!0,tvf:this.getTVFParams(a,w)}).catch(E=>u(E)),this.client.events.emit(\"session_request_sent\",{topic:i,request:s,chainId:e,id:a}),m()}),new Promise(async m=>{var E;if(!((E=n.sessionConfig)!=null&&E.disableDeepLink)){const _=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDeepLink)(this.client.core.storage,Le);await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.handleDeeplinkRedirect)({id:a,topic:i,wcDeepLink:_})}m()}),p()]).then(m=>m[2])}),c(this,\"respond\",async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:e,response:s}=t,{id:i}=s,r=this.client.session.get(e);r.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const n=this.getAppLinkIfEnabled(r.peer.metadata,r.transportType);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(s)?await this.sendResult({id:i,topic:e,result:s.result,throwOnFailedPublish:!0,appLink:n}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(s)&&await this.sendError({id:i,topic:e,error:s.error,appLink:n}),this.cleanupAfterResponse(t)}),c(this,\"ping\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(s){throw this.client.logger.error(\"ping() -> isValidPing() failed\"),s}const{topic:e}=t;if(this.client.session.keys.includes(e)){const s=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),{done:r,resolve:n,reject:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),({error:l})=>{l?a(l):n()}),await Promise.all([this.sendRequest({topic:e,method:\"wc_sessionPing\",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),r()])}else this.client.core.pairing.pairings.keys.includes(e)&&(this.client.logger.warn(\"ping() on pairing topic is deprecated and will be removed in the next major release.\"),await this.client.core.pairing.ping({topic:e}))}),c(this,\"emit\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:e,event:s,chainId:i}=t,r=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.getBigIntRpcId)().toString(),n=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)();await this.sendRequest({topic:e,method:\"wc_sessionEvent\",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:r,clientRpcId:n})}),c(this,\"disconnect\",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:e}=t;if(this.client.session.keys.includes(e))await this.sendRequest({topic:e,method:\"wc_sessionDelete\",params:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:e,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(e))await this.client.core.pairing.disconnect({topic:e});else{const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${e}`);throw new Error(s)}}),c(this,\"find\",t=>(this.isInitialized(),this.client.session.getAll().filter(e=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isSessionCompatible)(e,t)))),c(this,\"getPendingSessionRequests\",()=>this.client.pendingRequest.getAll()),c(this,\"authenticate\",async(t,e)=>{var s;this.isInitialized(),this.isValidAuthenticate(t);const i=e&&this.client.core.linkModeSupportedApps.includes(e)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),r=i?_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;r===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const{chains:n,statement:a=\"\",uri:l,domain:p,nonce:h,type:u,exp:d,nbf:y,methods:w=[],expiry:m}=t,E=[...t.resources||[]],{topic:_,uri:b}=await this.client.core.pairing.create({methods:[\"wc_sessionAuthenticate\"],transportType:r});this.client.logger.info({message:\"Generated new pairing\",pairing:{topic:_,uri:b}});const V=await this.client.core.crypto.generateKeyPair(),I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(V);if(await Promise.all([this.client.auth.authKeys.set(pe,{responseTopic:I,publicKey:V}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:_})]),await this.client.core.relayer.subscribe(I,{transportType:r}),this.client.logger.info(`sending request to new pairing topic: ${_}`),w.length>0){const{namespace:A}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(n[0]);let k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createEncodedRecap)(A,\"request\",w);(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(E)&&(k=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.mergeEncodedRecaps)(k,E.pop())),E.push(k)}const T=m&&m>P.wc_sessionAuthenticate.req.ttl?m:P.wc_sessionAuthenticate.req.ttl,$={authPayload:{type:u??\"caip122\",chains:n,statement:a,aud:l,domain:p,version:\"1\",nonce:h,iat:new Date().toISOString(),exp:d,nbf:y,resources:E},requester:{publicKey:V,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(T)},Se={eip155:{chains:n,methods:[...new Set([\"personal_sign\",...w])],events:[\"chainChanged\",\"accountsChanged\"]}},N={requiredNamespaces:{},optionalNamespaces:Se,relays:[{protocol:\"irn\"}],pairingTopic:_,proposer:{publicKey:V,metadata:this.client.metadata},expiryTimestamp:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl),id:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)()},{done:Tt,resolve:Ue,reject:Ee}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.createDelayedPromise)(T,\"Request expired\"),se=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.payloadId)(),he=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",N.id),Re=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",se),de=async({error:A,session:k})=>{this.events.off(Re,ve),A?Ee(A):k&&Ue({session:k})},ve=async A=>{var k,Ge,je;if(await this.deletePendingAuthRequest(se,{message:\"fulfilled\",code:0}),A.error){const re=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",\"wc_sessionAuthenticate\");return A.error.code===re.code?void 0:(this.events.off(he,de),Ee(A.error.message))}await this.deleteProposal(N.id),this.events.off(he,de);const{cacaos:Fe,responder:H}=A.result,Te=[],Qe=[];for(const re of Fe){await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:re,projectId:this.client.core.projectId})||(this.client.logger.error(re,\"Signature verification failed\"),Ee((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\")));const{p:qe}=re,Pe=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(qe.resources),He=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(qe.iss)],qt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(qe.iss);if(Pe){const Ne=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(Pe),Pt=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(Pe);Te.push(...Ne),He.push(...Pt)}for(const Ne of He)Qe.push(`${Ne}:${qt}`)}const ie=await this.client.core.crypto.generateSharedKey(V,H.publicKey);let ue;Te.length>0&&(ue={topic:ie,acknowledged:!0,self:{publicKey:V,metadata:this.client.metadata},peer:H,controller:H.publicKey,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:_,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(Te)],[...new Set(Qe)]),transportType:r},await this.client.core.relayer.subscribe(ie,{transportType:r}),await this.client.session.set(ie,ue),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:H.metadata}),ue=this.client.session.get(ie)),(k=this.client.metadata.redirect)!=null&&k.linkMode&&(Ge=H.metadata.redirect)!=null&&Ge.linkMode&&(je=H.metadata.redirect)!=null&&je.universal&&e&&(this.client.core.addLinkModeSupportedApp(H.metadata.redirect.universal),this.client.session.update(ie,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode})),Ue({auths:Fe,session:ue})};this.events.once(he,de),this.events.once(Re,ve);let Ie;try{if(i){const A=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionAuthenticate\",$,se);this.client.core.history.set(_,A);const k=await this.client.core.crypto.encode(\"\",A,{type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_2,encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL});Ie=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(e,_,k)}else await Promise.all([this.sendRequest({topic:_,method:\"wc_sessionAuthenticate\",params:$,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:se}),this.sendRequest({topic:_,method:\"wc_sessionPropose\",params:N,expiry:P.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(A){throw this.events.off(he,de),this.events.off(Re,ve),A}return await this.setProposal(N.id,N),await this.setAuthRequest(se,{request:O(R({},$),{verifyContext:{}}),pairingTopic:_,transportType:r}),{uri:Ie??b,response:Tt}}),c(this,\"approveSessionAuthenticate\",async t=>{const{id:e,auths:s}=t,i=this.client.core.eventClient.createEvent({properties:{topic:e.toString(),trace:[_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.no_internet_connection),m}const r=this.getPendingAuthRequest(e);if(!r)throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${e}`);const n=r.transportType||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay;n===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const a=r.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(a),h={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:a,senderPublicKey:l},u=[],d=[];for(const m of s){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.validateSignedCacao)({cacao:m,projectId:this.client.core.projectId})){i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.invalid_cacao);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\");throw await this.sendError({id:e,topic:p,error:I,encodeOpts:h}),new Error(I.message)}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.cacaos_verified);const{p:E}=m,_=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getRecapFromResources)(E.resources),b=[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNamespacedDidChainId)(E.iss)],V=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getDidAddress)(E.iss);if(_){const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getMethodsFromRecap)(_),T=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getChainsFromRecap)(_);u.push(...I),b.push(...T)}for(const I of b)d.push(`${I}:${V}`)}const y=await this.client.core.crypto.generateSharedKey(l,a);i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.create_authenticated_session_topic);let w;if(u?.length>0){w={topic:y,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:a,metadata:r.requester.metadata},controller:a,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:r.pairingTopic,namespaces:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildNamespacesFromAuth)([...new Set(u)],[...new Set(d)]),transportType:n},i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(y,{transportType:n})}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.subscribe_authenticated_session_topic_failure),m}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribe_authenticated_session_topic_success),await this.client.session.set(y,w),i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:r.pairingTopic,metadata:r.requester.metadata})}i.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_TRACES.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:e,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(r.requester.metadata,n)})}catch(m){throw i.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(e,{message:\"fulfilled\",code:0}),await this.client.core.pairing.activate({topic:r.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:w}}),c(this,\"rejectSessionAuthenticate\",async t=>{this.isInitialized();const{id:e,reason:s}=t,i=this.getPendingAuthRequest(e);if(!i)throw new Error(`Could not find pending auth request with id ${e}`);i.transportType===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();const r=i.requester.publicKey,n=await this.client.core.crypto.generateKeyPair(),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashKey)(r),l={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:r,senderPublicKey:n};await this.sendError({id:e,topic:a,error:s,encodeOpts:l,rpcOpts:P.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(e,{message:\"rejected\",code:0}),await this.deleteProposal(e)}),c(this,\"formatAuthMessage\",t=>{this.isInitialized();const{request:e,iss:s}=t;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.formatMessage)(e,s)}),c(this,\"processRelayMessageCache\",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)}),c(this,\"cleanupDuplicatePairings\",async t=>{if(t.pairingTopic)try{const e=this.client.core.pairing.pairings.get(t.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var r,n;return((r=i.peerMetadata)==null?void 0:r.url)&&((n=i.peerMetadata)==null?void 0:n.url)===t.peer.metadata.url&&i.topic&&i.topic!==e.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(e){this.client.logger.error(e)}}),c(this,\"deleteSession\",async t=>{var e;const{topic:s,expirerHasDeleted:i=!1,emitEvent:r=!0,id:n=0}=t,{self:a}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.addToRecentlyDeleted(s,\"session\"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Le).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\"))}),s===((e=this.sessionRequestQueue.queue[0])==null?void 0:e.topic)&&(this.sessionRequestQueue.state=M.idle),r&&this.client.events.emit(\"session_delete\",{id:n,topic:s})}),c(this,\"deleteProposal\",async(t,e)=>{if(e)try{const s=this.client.proposal.get(t),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_SESSION_ERRORS.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),e?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,\"proposal\")}),c(this,\"deletePendingSessionRequest\",async(t,e,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,e),s?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,\"request\"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==t),s&&(this.sessionRequestQueue.state=M.idle,this.client.events.emit(\"session_request_expire\",{id:t}))}),c(this,\"deletePendingAuthRequest\",async(t,e,s=!1)=>{await Promise.all([this.client.auth.requests.delete(t,e),s?Promise.resolve():this.client.core.expirer.del(t)])}),c(this,\"setExpiry\",async(t,e)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,e),await this.client.session.update(t,{expiry:e}))}),c(this,\"setProposal\",async(t,e)=>{this.client.core.expirer.set(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,e)}),c(this,\"setAuthRequest\",async(t,e)=>{const{request:s,pairingTopic:i,transportType:r=_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay}=e;this.client.core.expirer.set(t,s.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:t,pairingTopic:i,verifyContext:s.verifyContext,transportType:r})}),c(this,\"setPendingSessionRequest\",async t=>{const{id:e,topic:s,params:i,verifyContext:r}=t,n=i.request.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionRequest.req.ttl);this.client.core.expirer.set(e,n),await this.client.pendingRequest.set(e,{id:e,topic:s,params:i,verifyContext:r})}),c(this,\"sendRequest\",async t=>{const{topic:e,method:s,params:i,expiry:r,relayRpcId:n,clientRpcId:a,throwOnFailedPublish:l,appLink:p,tvf:h,publishOpts:u={}}=t,d=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(s,i,a);let y;const w=!!p;try{const _=w?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;y=await this.client.core.crypto.encode(e,d,{encoding:_})}catch(_){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${e} failed`),_}let m;if(mt.includes(s)){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(d)),b=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(y);m=await this.client.core.verify.register({id:b,decryptedId:_})}const E=R(R({},P[s].req),u);if(E.attestation=m,r&&(E.ttl=r),n&&(E.id=n),this.client.core.history.set(e,d),w){const _=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(p,e,y);await global.Linking.openURL(_,this.client.name)}else E.tvf=O(R({},h),{correlationId:d.id}),l?(E.internal=O(R({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(e,y,E)):this.client.core.relayer.publish(e,y,E).catch(_=>this.client.logger.error(_));return d.id}),c(this,\"sendProposeSession\",async t=>{const{proposal:e,publishOpts:s}=t,i=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",e,e.id);this.client.core.history.set(e.pairingTopic,i);const r=await this.client.core.crypto.encode(e.pairingTopic,i,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64}),n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(r),l=await this.client.core.verify.register({id:a,decryptedId:n});await this.client.core.relayer.publishCustom({payload:{pairingTopic:e.pairingTopic,sessionProposal:r},opts:O(R({},s),{publishMethod:\"wc_proposeSession\",attestation:l})})}),c(this,\"sendApproveSession\",async t=>{const{sessionTopic:e,pairingProposalResponse:s,proposal:i,sessionSettleRequest:r,publishOpts:n}=t,a=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(i.id,s),l=await this.client.core.crypto.encode(i.pairingTopic,a,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64}),p=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionSettle\",r,n?.id),h=await this.client.core.crypto.encode(e,p,{encoding:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});this.client.core.history.set(e,p),await this.client.core.relayer.publishCustom({payload:{sessionTopic:e,pairingTopic:i.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:h},opts:O(R({},n),{publishMethod:\"wc_approveSession\"})})}),c(this,\"sendResult\",async t=>{const{id:e,topic:s,result:i,throwOnFailedPublish:r,encodeOpts:n,appLink:a}=t,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcResult)(e,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const y=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,O(R({},n||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),y}let u,d;try{u=await this.client.core.history.get(s,e);const y=u.request;try{d=this.getTVFParams(e,y.params,i)}catch(w){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${w?.message}`)}}catch(y){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${e}) failed`),y}if(h){const y=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(y,this.client.name)}else{const y=u.request.method,w=P[y].res;w.tvf=O(R({},d),{correlationId:e}),r?(w.internal=O(R({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,w)):this.client.core.relayer.publish(s,p,w).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(l)}),c(this,\"sendError\",async t=>{const{id:e,topic:s,error:i,encodeOpts:r,rpcOpts:n,appLink:a}=t,l=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcError)(e,i);let p;const h=a&&typeof(global==null?void 0:global.Linking)<\"u\";try{const d=h?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64;p=await this.client.core.crypto.encode(s,l,O(R({},r||{}),{encoding:d}))}catch(d){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),d}let u;try{u=await this.client.core.history.get(s,e)}catch(d){throw this.client.logger.error(`sendError() -> history.get(${s}, ${e}) failed`),d}if(h){const d=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getLinkModeURL)(a,s,p);await global.Linking.openURL(d,this.client.name)}else{const d=u.request.method,y=n||P[d].res;this.client.core.relayer.publish(s,p,y)}await this.client.core.history.resolve(l)}),c(this,\"cleanup\",async()=>{const t=[],e=[];this.client.session.getAll().forEach(s=>{let i=!1;(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&t.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(s.expiryTimestamp)&&e.push(s.id)}),await Promise.all([...t.map(s=>this.deleteSession({topic:s})),...e.map(s=>this.deleteProposal(s))])}),c(this,\"onProviderMessageEvent\",async t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):await this.onRelayMessage(t)}),c(this,\"onRelayEventRequest\",async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()}),c(this,\"processRequestsQueue\",async()=>{if(this.requestQueue.state===M.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=M.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=M.idle}),c(this,\"processRequest\",async t=>{const{topic:e,payload:s,attestation:i,transportType:r,encryptedId:n}=t,a=s.method;if(!this.shouldIgnorePairingRequest({topic:e,requestMethod:a}))switch(a){case\"wc_sessionPropose\":return await this.onSessionProposeRequest({topic:e,payload:s,attestation:i,encryptedId:n});case\"wc_sessionSettle\":return await this.onSessionSettleRequest(e,s);case\"wc_sessionUpdate\":return await this.onSessionUpdateRequest(e,s);case\"wc_sessionExtend\":return await this.onSessionExtendRequest(e,s);case\"wc_sessionPing\":return await this.onSessionPingRequest(e,s);case\"wc_sessionDelete\":return await this.onSessionDeleteRequest(e,s);case\"wc_sessionRequest\":return await this.onSessionRequest({topic:e,payload:s,attestation:i,encryptedId:n,transportType:r});case\"wc_sessionEvent\":return await this.onSessionEventRequest(e,s);case\"wc_sessionAuthenticate\":return await this.onSessionAuthenticateRequest({topic:e,payload:s,attestation:i,encryptedId:n,transportType:r});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),c(this,\"onRelayEventResponse\",async t=>{const{topic:e,payload:s,transportType:i}=t,r=(await this.client.core.history.get(e,s.id)).request.method;switch(r){case\"wc_sessionPropose\":return this.onSessionProposeResponse(e,s,i);case\"wc_sessionSettle\":return this.onSessionSettleResponse(e,s);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(e,s);case\"wc_sessionExtend\":return this.onSessionExtendResponse(e,s);case\"wc_sessionPing\":return this.onSessionPingResponse(e,s);case\"wc_sessionRequest\":return this.onSessionRequestResponse(e,s);case\"wc_sessionAuthenticate\":return this.onSessionAuthenticateResponse(e,s);default:return this.client.logger.info(`Unsupported response method ${r}`)}}),c(this,\"onRelayEventUnknownPayload\",t=>{const{topic:e}=t,{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Decoded payload on topic ${e} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),c(this,\"shouldIgnorePairingRequest\",t=>{const{topic:e,requestMethod:s}=t,i=this.expectedPairingMethodMap.get(e);return!i||i.includes(s)?!1:!!(i.includes(\"wc_sessionAuthenticate\")&&this.client.events.listenerCount(\"session_authenticate\")>0)}),c(this,\"onSessionProposeRequest\",async t=>{const{topic:e,payload:s,attestation:i,encryptedId:r}=t,{params:n,id:a}=s;try{const l=this.client.core.eventClient.getEvent({topic:e});this.client.events.listenerCount(\"session_proposal\")===0&&(console.warn(\"No listener for session_proposal event\"),l?.setError(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_ERRORS.proposal_listener_not_found)),this.isValidConnect(R({},s.params));const p=n.expiryTimestamp||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(P.wc_sessionPropose.req.ttl),h=R({id:a,pairingTopic:e,expiryTimestamp:p,attestation:i,encryptedId:r},n);await this.setProposal(a,h);const u=await this.getVerifyContext({attestationId:i,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(s)),encryptedId:r,metadata:h.proposer.metadata});l?.addTrace(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EVENT_CLIENT_PAIRING_TRACES.emit_session_proposal),this.client.events.emit(\"session_proposal\",{id:a,params:h,verifyContext:u})}catch(l){await this.sendError({id:a,topic:e,error:l,rpcOpts:P.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),c(this,\"onSessionProposeResponse\",async(t,e,s)=>{const{id:i}=e;if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)){const{result:r}=e;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:r});const n=this.client.proposal.get(i);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:n});const a=n.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:a});const l=r.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:l});const p=await this.client.core.crypto.generateSharedKey(a,l);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:t,proposalId:i,publicKey:a});const h=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:h}),await this.client.core.pairing.activate({topic:t})}else if((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)){await this.deleteProposal(i);const r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",i);if(this.events.listenerCount(r)===0)throw new Error(`emitting ${r} without any listeners, 954`);this.events.emit(r,{error:e.error})}}),c(this,\"onSessionSettleRequest\",async(t,e)=>{const{id:s,params:i}=e;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:n,expiry:a,namespaces:l,sessionProperties:p,scopedProperties:h,sessionConfig:u}=e.params,d=[...this.pendingSessions.values()].find(m=>m.sessionTopic===t);if(!d)return this.client.logger.error(`Pending session not found for topic ${t}`);const y=this.client.proposal.get(d.proposalId),w=O(R(R(R({topic:t,relay:r,expiry:a,namespaces:l,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:y.requiredNamespaces,optionalNamespaces:y.optionalNamespaces,controller:n.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:n.publicKey,metadata:n.metadata}},p&&{sessionProperties:p}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit(\"session_connect\",{session:w}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_connect\",d.proposalId),{session:w}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:e.id,topic:t,result:!0})}catch(r){await this.sendError({id:s,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionSettleResponse\",async(t,e)=>{const{id:s}=e;(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&(await this.client.session.delete(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")),this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_approve\",s),{error:e.error}))}),c(this,\"onSessionUpdateRequest\",async(t,e)=>{const{params:s,id:i}=e;try{const r=`${t}_session_update`,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(n&&this.isRequestOutOfSync(n,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:t,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"INVALID_UPDATE_REQUEST\")});return}this.isValidUpdate(R({topic:t},s));try{_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,i),await this.client.session.update(t,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:t,result:!0})}catch(a){throw _walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.delete(r),a}this.client.events.emit(\"session_update\",{id:i,topic:t,params:s})}catch(r){await this.sendError({id:i,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"isRequestOutOfSync\",(t,e)=>e.toString().slice(0,-3)<t.toString().slice(0,-3)),c(this,\"onSessionUpdateResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_update\",s),{error:e.error})}),c(this,\"onSessionExtendRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidExtend({topic:t}),await this.setExpiry(t,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.calcExpiry)(B)),await this.sendResult({id:s,topic:t,result:!0}),this.client.events.emit(\"session_extend\",{id:s,topic:t})}catch(i){await this.sendError({id:s,topic:t,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionExtendResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_extend\",s),{error:e.error})}),c(this,\"onSessionPingRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidPing({topic:t}),await this.sendResult({id:s,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_ping\",{id:s,topic:t})}catch(i){await this.sendError({id:s,topic:t,error:i}),this.client.logger.error(i)}}),c(this,\"onSessionPingResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_ping\",s),{error:e.error})},500)}),c(this,\"onSessionDeleteRequest\",async(t,e)=>{const{id:s}=e;try{this.isValidDisconnect({topic:t,reason:e.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.publish,async()=>{i(await this.deleteSession({topic:t,id:s}))})}),this.sendResult({id:s,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSdkError)(\"USER_DISCONNECTED\")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),c(this,\"onSessionRequest\",async t=>{var e,s,i;const{topic:r,payload:n,attestation:a,encryptedId:l,transportType:p}=t,{id:h,params:u}=n;try{await this.isValidRequest(R({topic:r},u));const d=this.client.session.get(r),y=await this.getVerifyContext({attestationId:a,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify((0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionRequest\",u,h))),encryptedId:l,metadata:d.peer.metadata,transportType:p}),w={id:h,topic:r,params:u,verifyContext:y};await this.setPendingSessionRequest(w),p===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(e=d.peer.metadata.redirect)!=null&&e.universal&&this.client.core.addLinkModeSupportedApp((s=d.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(d){await this.sendError({id:h,topic:r,error:d}),this.client.logger.error(d)}}),c(this,\"onSessionRequestResponse\",(t,e)=>{const{id:s}=e,i=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:e.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:e.error})}),c(this,\"onSessionEventRequest\",async(t,e)=>{const{id:s,params:i}=e;try{const r=`${t}_session_event_${i.event.name}`,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.get(r);if(n&&this.isRequestOutOfSync(n,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(R({topic:t},i)),this.client.events.emit(\"session_event\",{id:s,topic:t,params:i}),_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.MemoryStore.set(r,s)}catch(r){await this.sendError({id:s,topic:t,error:r}),this.client.logger.error(r)}}),c(this,\"onSessionAuthenticateResponse\",(t,e)=>{const{id:s}=e;this.client.logger.trace({type:\"method\",method:\"onSessionAuthenticateResponse\",topic:t,payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResult)(e)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{result:e.result}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcError)(e)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",s),{error:e.error})}),c(this,\"onSessionAuthenticateRequest\",async t=>{var e;const{topic:s,payload:i,attestation:r,encryptedId:n,transportType:a}=t;try{const{requester:l,authPayload:p,expiryTimestamp:h}=i.params,u=await this.getVerifyContext({attestationId:r,hash:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(JSON.stringify(i)),encryptedId:n,metadata:l.metadata,transportType:a}),d={requester:l,pairingTopic:s,id:i.id,authPayload:p,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(i.id,{request:d,pairingTopic:s,transportType:a}),a===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode&&(e=l.metadata.redirect)!=null&&e.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit(\"session_authenticate\",{topic:s,params:i.params,id:i.id,verifyContext:u})}catch(l){this.client.logger.error(l);const p=i.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(i.params.requester.metadata,a),d={type:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.TYPE_1,receiverPublicKey:p,senderPublicKey:h};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:d,rpcOpts:P.wc_sessionAuthenticate.autoReject,appLink:u})}}),c(this,\"addSessionRequestToSessionRequestQueue\",t=>{this.sessionRequestQueue.queue.push(t)}),c(this,\"cleanupAfterResponse\",t=>{this.deletePendingSessionRequest(t.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=M.idle,this.processSessionRequestQueue()},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_2__.toMiliseconds)(this.requestQueueDelay))}),c(this,\"cleanupPendingSentRequestsForTopic\",({topic:t,error:e})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===t&&i.request.method===\"wc_sessionRequest\").forEach(i=>{const r=i.request.id,n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",r);if(this.events.listenerCount(n)===0)throw new Error(`emitting ${n} without any listeners`);this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.engineEvent)(\"session_request\",i.request.id),{error:e})})}),c(this,\"processSessionRequestQueue\",()=>{if(this.sessionRequestQueue.state===M.active){this.client.logger.info(\"session request queue is already active.\");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info(\"session request queue is empty.\");return}try{this.emitSessionRequest(t)}catch(e){this.client.logger.error(e)}}),c(this,\"emitSessionRequest\",t=>{if(this.emittedSessionRequests.has(t.id)){this.client.logger.warn({id:t.id},`Skipping emitting \\`session_request\\` event for duplicate request. id: ${t.id}`);return}this.sessionRequestQueue.state=M.active,this.emittedSessionRequests.add(t.id),this.client.events.emit(\"session_request\",t)}),c(this,\"onPairingCreated\",t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const e=this.client.proposal.getAll().find(s=>s.pairingTopic===t.topic);e&&this.onSessionProposeRequest({topic:t.topic,payload:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.formatJsonRpcRequest)(\"wc_sessionPropose\",O(R({},e),{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces,relays:e.relays,proposer:e.proposer,sessionProperties:e.sessionProperties,scopedProperties:e.scopedProperties}),e.id),attestation:e.attestation,encryptedId:e.encryptedId})}),c(this,\"isValidConnect\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(t)}`);throw new Error(l)}const{pairingTopic:e,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:r,scopedProperties:n,relays:a}=t;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(e)||await this.isValidPairingTopic(e),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelays)(a,!0)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`connect() relays: ${a}`);throw new Error(l)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(s)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(s)!==0){const l=\"requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces\";[\"fatal\",\"error\",\"silent\"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,\"requiredNamespaces\")}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(i)&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidObject)(i)!==0&&this.validateNamespaces(i,\"optionalNamespaces\"),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(n)){this.validateSessionProps(n,\"scopedProperties\");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(n).every(p=>l.includes(p.split(\":\")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(n)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),c(this,\"validateNamespaces\",(t,e)=>{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequiredNamespaces)(t,\"connect()\",e);if(s)throw new Error(s.message)}),c(this,\"isValidApprove\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t))throw new Error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() params: ${t}`).message);const{id:e,namespaces:s,relayProtocol:i,sessionProperties:r,scopedProperties:n}=t;this.checkRecentlyDeleted(e),await this.isValidProposalId(e);const a=this.client.proposal.get(e),l=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"approve()\");if(l)throw new Error(l.message);const p=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(a.requiredNamespaces,s,\"approve()\");if(p)throw new Error(p.message);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!0)){const{message:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${i}`);throw new Error(h)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(r)||this.validateSessionProps(r,\"sessionProperties\"),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isUndefined)(n)){this.validateSessionProps(n,\"scopedProperties\");const h=new Set(Object.keys(s));if(!Object.keys(n).every(u=>h.has(u.split(\":\")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(n)}, approved namespaces: ${Array.from(h).join(\", \")}`)}}),c(this,\"isValidReject\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() params: ${t}`);throw new Error(i)}const{id:e,reason:s}=t;if(this.checkRecentlyDeleted(e),await this.isValidProposalId(e),!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidErrorReason)(s)){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),c(this,\"isValidSessionSettleRequest\",t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${t}`);throw new Error(l)}const{relay:e,controller:s,namespaces:i,expiry:r}=t;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRelay)(e)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(l)}const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidController)(s,\"onSessionSettleRequest()\");if(n)throw new Error(n.message);const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(r)){const{message:l}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(l)}}),c(this,\"isValidUpdate\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`update() params: ${t}`);throw new Error(a)}const{topic:e,namespaces:s}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const i=this.client.session.get(e),r=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespaces)(s,\"update()\");if(r)throw new Error(r.message);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isConformingNamespaces)(i.requiredNamespaces,s,\"update()\");if(n)throw new Error(n.message)}),c(this,\"isValidExtend\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`extend() params: ${t}`);throw new Error(s)}const{topic:e}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e)}),c(this,\"isValidRequest\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() params: ${t}`);throw new Error(a)}const{topic:e,request:s,chainId:i,expiry:r}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const{namespaces:n}=this.client.session.get(e);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(n,i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() chainId: ${i}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequest)(s)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(s)}`);throw new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesRequest)(n,i,s.method)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() method: ${s.method}`);throw new Error(a)}if(r&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidRequestExpiry)(r,_e)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`request() expiry: ${r}. Expiry must be a number (in seconds) between ${_e.min} and ${_e.max}`);throw new Error(a)}}),c(this,\"isValidRespond\",async t=>{var e;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() params: ${t}`);throw new Error(r)}const{topic:s,response:i}=t;try{await this.isValidSessionTopic(s)}catch(r){throw(e=t?.response)!=null&&e.id&&this.cleanupAfterResponse(t),r}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidResponse)(i)){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(i)}`);throw new Error(r)}}),c(this,\"isValidPing\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${t}`);throw new Error(s)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)}),c(this,\"isValidEmit\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() params: ${t}`);throw new Error(n)}const{topic:e,event:s,chainId:i}=t;await this.isValidSessionTopic(e);const{namespaces:r}=this.client.session.get(e);if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesChainId)(r,i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() chainId: ${i}`);throw new Error(n)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidEvent)(s)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(n)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidNamespacesEvent)(r,i,s.name)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(s)}`);throw new Error(n)}}),c(this,\"isValidDisconnect\",async t=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidParams)(t)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${t}`);throw new Error(s)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)}),c(this,\"isValidAuthenticate\",t=>{const{chains:e,uri:s,domain:i,nonce:r}=t;if(!Array.isArray(e)||e.length===0)throw new Error(\"chains is required and must be a non-empty array\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(s,!1))throw new Error(\"uri is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(i,!1))throw new Error(\"domain is required parameter\");if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(r,!1))throw new Error(\"nonce is required parameter\");if([...new Set(e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(a).namespace))].length>1)throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");const{namespace:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseChainId)(e[0]);if(n!==\"eip155\")throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\")}),c(this,\"getVerifyContext\",async t=>{const{attestationId:e,hash:s,encryptedId:i,metadata:r,transportType:n}=t,a={verified:{verifyUrl:r.verifyUrl||_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.VERIFY_SERVER,validation:\"UNKNOWN\",origin:r.url||\"\"}};try{if(n===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode){const p=this.getAppLinkIfEnabled(r,n);return a.verified.validation=p&&new URL(p).origin===new URL(r.url).origin?\"VALID\":\"INVALID\",a}const l=await this.client.core.verify.resolve({attestationId:e,hash:s,encryptedId:i,verifyUrl:r.verifyUrl});l&&(a.verified.origin=l.origin,a.verified.isScam=l.isScam,a.verified.validation=l.origin===new URL(r.url).origin?\"VALID\":\"INVALID\")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),c(this,\"validateSessionProps\",(t,e)=>{Object.values(t).forEach((s,i)=>{if(s==null){const{message:r}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`${e} must contain an existing value for each key. Received: ${s} for key ${Object.keys(t)[i]}`);throw new Error(r)}})}),c(this,\"getPendingAuthRequest\",t=>{const e=this.client.auth.requests.get(t);return typeof e==\"object\"?e:void 0}),c(this,\"addToRecentlyDeleted\",(t,e)=>{if(this.recentlyDeletedMap.set(t,e),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(r)}}}),c(this,\"checkRecentlyDeleted\",t=>{const e=this.recentlyDeletedMap.get(t);if(e){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${e}: ${t}`);throw new Error(s)}}),c(this,\"isLinkModeEnabled\",(t,e)=>{var s,i,r,n,a,l,p,h,u;return!t||e!==_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((n=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:n.universal)!==void 0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==\"\"&&((p=t?.redirect)==null?void 0:p.universal)!==void 0&&((h=t?.redirect)==null?void 0:h.universal)!==\"\"&&((u=t?.redirect)==null?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(global==null?void 0:global.Linking)<\"u\"}),c(this,\"getAppLinkIfEnabled\",(t,e)=>{var s;return this.isLinkModeEnabled(t,e)?(s=t?.redirect)==null?void 0:s.universal:void 0}),c(this,\"handleLinkModeMessage\",({url:t})=>{if(!t||!t.includes(\"wc_ev\")||!t.includes(\"topic\"))return;const e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(t,\"topic\")||\"\",s=decodeURIComponent((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSearchParamFromURL)(t,\"wc_ev\")||\"\"),i=this.client.session.keys.includes(e);i&&this.client.session.update(e,{transportType:_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode}),this.client.core.dispatchEnvelope({topic:e,message:s,sessionExists:i})}),c(this,\"registerLinkModeListeners\",async()=>{var t;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isTestRun)()||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isReactNative)()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const e=global==null?void 0:global.Linking;if(typeof e<\"u\"){e.addEventListener(\"url\",this.handleLinkModeMessage,this.client.name);const s=await e.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),c(this,\"getTVFParams\",(t,e,s)=>{var i,r,n;if(!((i=e.request)!=null&&i.method))return{};const a={correlationId:t,rpcMethods:[e.request.method],chainId:e.chainId};try{const l=this.extractTxHashesFromResult(e.request,s);a.txHashes=l,a.contractAddresses=this.isValidContractData(e.request.params)?[(n=(r=e.request.params)==null?void 0:r[0])==null?void 0:n.to]:[]}catch(l){this.client.logger.warn(\"Error getting TVF params\",l)}return a}),c(this,\"isValidContractData\",t=>{var e;if(!t)return!1;try{const s=t?.data||((e=t?.[0])==null?void 0:e.data);if(!s.startsWith(\"0x\"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),c(this,\"extractTxHashesFromResult\",(t,e)=>{var s;try{if(!e)return[];const i=t.method,r=yt[i];if(i===\"sui_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSuiDigest)(e.transactionBytes)];if(i===\"near_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNearTransactionIdFromSignedTransaction)(e)];if(i===\"near_signTransactions\")return e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getNearTransactionIdFromSignedTransaction)(a));if(i===\"xrpl_signTransactionFor\"||i===\"xrpl_signTransaction\")return[(s=e.tx_json)==null?void 0:s.hash];if(i===\"polkadot_signTransaction\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.buildSignedExtrinsicHash)({transaction:t.params.transactionPayload,signature:e.signature})];if(i===\"algo_signTxn\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(e)?e.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAlgorandTransactionId)(a)):[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getAlgorandTransactionId)(e)];if(i===\"cosmos_signDirect\")return[(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getSignDirectHash)(e)];if(i===\"wallet_sendCalls\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getWalletSendCallsHashes)(e);if(typeof e==\"string\")return[e];const n=e[r.key];if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidArray)(n))return i===\"solana_signAllTransactions\"?n.map(a=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.extractSolanaTransactionId)(a)):n;if(typeof n==\"string\")return[n]}catch(i){this.client.logger.warn(\"Error extracting tx hashes from result\",i)}return[]})}async processPendingMessageEvents(){try{const o=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(o);for(const[e,s]of Object.entries(t))for(const i of s)try{await this.onProviderMessageEvent({topic:e,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${i}`)}}catch(o){this.client.logger.warn(\"processPendingMessageEvents failed\",o)}}isInitialized(){if(!this.initialized){const{message:o}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(o)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.RELAYER_EVENTS.message,o=>{this.onProviderMessageEvent(o)})}async onRelayMessage(o){const{topic:t,message:e,attestation:s,transportType:i}=o,{publicKey:r}=this.client.auth.authKeys.keys.includes(pe)?this.client.auth.authKeys.get(pe):{responseTopic:void 0,publicKey:void 0};try{const n=await this.client.core.crypto.decode(t,e,{receiverPublicKey:r,encoding:i===_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.TRANSPORT_TYPES.link_mode?_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64URL:_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.BASE64});(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcRequest)(n)?(this.client.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n,attestation:s,transportType:i,encryptedId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.hashMessage)(e)})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_3__.isJsonRpcResponse)(n)?(await this.client.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n,transportType:i}),this.client.core.history.delete(t,n.id)):await this.onRelayEventUnknownPayload({topic:t,payload:n,transportType:i}),await this.client.core.relayer.messages.ack(t,e)}catch(n){this.client.logger.error(n)}}registerExpirerEvents(){this.client.core.expirer.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.EXPIRER_EVENTS.expired,async o=>{const{topic:t,id:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.parseExpirerTarget)(o.target);if(e&&this.client.pendingRequest.keys.includes(e))return await this.deletePendingSessionRequest(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);if(e&&this.client.auth.requests.keys.includes(e))return await this.deletePendingAuthRequest(e,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:t})):e&&(await this.deleteProposal(e,!0),this.client.events.emit(\"proposal_expire\",{id:e}))})}registerPairingEvents(){this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.create,o=>this.onPairingCreated(o)),this.client.core.pairing.events.on(_walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.PAIRING_EVENTS.delete,o=>{this.addToRecentlyDeleted(o.topic,\"pairing\")})}isValidPairingTopic(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${o}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.core.pairing.pairings.get(o).expiry)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`pairing topic: ${o}`);throw new Error(t)}}async isValidSessionTopic(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic should be a string: ${o}`);throw new Error(t)}if(this.checkRecentlyDeleted(o),!this.client.session.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.session.get(o).expiry)){await this.deleteSession({topic:o});const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`session topic: ${o}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${o}`);throw await this.deleteSession({topic:o}),new Error(t)}}async isValidSessionOrPairingTopic(o){if(this.checkRecentlyDeleted(o),this.client.session.keys.includes(o))await this.isValidSessionTopic(o);else if(this.client.core.pairing.pairings.keys.includes(o))this.isValidPairingTopic(o);else if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidString)(o,!1)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${o}`);throw new Error(t)}else{const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${o}`);throw new Error(t)}}async isValidProposalId(o){if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isValidId)(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"MISSING_OR_INVALID\",`proposal id should be a number: ${o}`);throw new Error(t)}if(!this.client.proposal.keys.includes(o)){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${o}`);throw new Error(t)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.isExpired)(this.client.proposal.get(o).expiryTimestamp)){await this.deleteProposal(o);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.getInternalError)(\"EXPIRED\",`proposal id: ${o}`);throw new Error(t)}}}class Ds extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,dt,we),this.core=o,this.logger=t}}class It extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,ut,we),this.core=o,this.logger=t}}class Ls extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,wt,we,e=>e.id),this.core=o,this.logger=t}}class Ms extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,St,le,()=>pe),this.core=o,this.logger=t}}class $s extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,Et,le),this.core=o,this.logger=t}}class Ks extends _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Store{constructor(o,t){super(o,t,Rt,le,e=>e.id),this.core=o,this.logger=t}}var Us=Object.defineProperty,Gs=(S,o,t)=>o in S?Us(S,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):S[o]=t,Ke=(S,o,t)=>Gs(S,typeof o!=\"symbol\"?o+\"\":o,t);class js{constructor(o,t){this.core=o,this.logger=t,Ke(this,\"authKeys\"),Ke(this,\"pairingTopics\"),Ke(this,\"requests\"),this.authKeys=new Ms(this.core,this.logger),this.pairingTopics=new $s(this.core,this.logger),this.requests=new Ks(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Fs=Object.defineProperty,Qs=(S,o,t)=>o in S?Fs(S,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):S[o]=t,f=(S,o,t)=>Qs(S,typeof o!=\"symbol\"?o+\"\":o,t);class fe extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_4__.ISignClient{constructor(o){super(o),f(this,\"protocol\",Ve),f(this,\"version\",ke),f(this,\"name\",me.name),f(this,\"metadata\"),f(this,\"core\"),f(this,\"logger\"),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter),f(this,\"engine\"),f(this,\"session\"),f(this,\"proposal\"),f(this,\"pendingRequest\"),f(this,\"auth\"),f(this,\"signConfig\"),f(this,\"on\",(e,s)=>this.events.on(e,s)),f(this,\"once\",(e,s)=>this.events.once(e,s)),f(this,\"off\",(e,s)=>this.events.off(e,s)),f(this,\"removeListener\",(e,s)=>this.events.removeListener(e,s)),f(this,\"removeAllListeners\",e=>this.events.removeAllListeners(e)),f(this,\"connect\",async e=>{try{return await this.engine.connect(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"pair\",async e=>{try{return await this.engine.pair(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"approve\",async e=>{try{return await this.engine.approve(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"reject\",async e=>{try{return await this.engine.reject(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"update\",async e=>{try{return await this.engine.update(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"extend\",async e=>{try{return await this.engine.extend(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"request\",async e=>{try{return await this.engine.request(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"respond\",async e=>{try{return await this.engine.respond(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"ping\",async e=>{try{return await this.engine.ping(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"emit\",async e=>{try{return await this.engine.emit(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"disconnect\",async e=>{try{return await this.engine.disconnect(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"find\",e=>{try{return this.engine.find(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"getPendingSessionRequests\",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),f(this,\"authenticate\",async(e,s)=>{try{return await this.engine.authenticate(e,s)}catch(i){throw this.logger.error(i.message),i}}),f(this,\"formatAuthMessage\",e=>{try{return this.engine.formatAuthMessage(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"approveSessionAuthenticate\",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(s){throw this.logger.error(s.message),s}}),f(this,\"rejectSessionAuthenticate\",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(s){throw this.logger.error(s.message),s}}),this.name=o?.name||me.name,this.metadata=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_5__.populateAppMetadata)(o?.metadata),this.signConfig=o?.signConfig;const t=typeof o?.logger<\"u\"&&typeof o?.logger!=\"string\"?o.logger:(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getDefaultLoggerOptions)({level:o?.logger||me.logger}));this.core=o?.core||new _walletconnect_core__WEBPACK_IMPORTED_MODULE_6__.Core(o),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.generateChildLogger)(t,this.name),this.session=new It(this.core,this.logger),this.proposal=new Ds(this.core,this.logger),this.pendingRequest=new Ls(this.core,this.logger),this.engine=new ks(this),this.auth=new js(this.core,this.logger)}static async init(o){const t=new fe(o);return await t.initialize(),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_0__.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info(\"SignClient Initialization Success\")}catch(o){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(o.message),o}}}const Hs=It,zs=fe;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9zaWduLWNsaWVudC9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdThFLHFDQUFxQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsT0FBTyw4RUFBOEUsS0FBSyw0Y0FBNGMsS0FBSyxvQkFBb0Isd0NBQXdDLGtHQUFrRyx3Q0FBd0MsNERBQUUsc0NBQXNDLDJEQUFFLGdCQUFnQixtQkFBbUIsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMsb0JBQW9CLFNBQVMsSUFBSSw2REFBQyxvQkFBb0IsYUFBYSxJQUFJLDZEQUFDLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLG1CQUFtQixLQUFLLElBQUksd0RBQUMsb0JBQW9CLE1BQU0sSUFBSSx3REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQixvQkFBb0IsS0FBSyxJQUFJLDZEQUFDLG9CQUFvQixNQUFNLElBQUksNkRBQUMscUJBQXFCLGtCQUFrQixLQUFLLElBQUksNkRBQUMsb0JBQW9CLE1BQU0sSUFBSSw2REFBQyxxQkFBcUIsbUJBQW1CLEtBQUssSUFBSSx3REFBQyxvQkFBb0IsTUFBTSxJQUFJLHdEQUFDLHFCQUFxQixpQkFBaUIsS0FBSyxJQUFJLHdEQUFDLG9CQUFvQixNQUFNLElBQUksd0RBQUMscUJBQXFCLHlCQUF5QixLQUFLLElBQUkseURBQUUsb0JBQW9CLE1BQU0sSUFBSSx5REFBRSxvQkFBb0IsU0FBUyxJQUFJLDZEQUFDLG9CQUFvQixhQUFhLElBQUksNkRBQUMsc0JBQXNCLEtBQUssSUFBSSw2REFBQyxL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QUFxQixrQkFBa0IsOEJBQThCLGNBQWMsT0FBTyx1RUFBRSxjQUFjLGNBQWMsa0NBQWtDLG1CQUFtQixpQ0FBaUMsSUFBSSxvTkFBb04sU0FBUyw2RkFBNkYsa0JBQWkyQjtBQUNocmlFIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3NpZ24tY2xpZW50L2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e1JFTEFZRVJfRVZFTlRTIGFzIHplLFRSQU5TUE9SVF9UWVBFUyBhcyBxLEVYUElSRVJfRVZFTlRTIGFzIE50LFBBSVJJTkdfRVZFTlRTIGFzIFllLFJFTEFZRVJfREVGQVVMVF9QUk9UT0NPTCBhcyBPdCxFVkVOVF9DTElFTlRfU0VTU0lPTl9UUkFDRVMgYXMgSyxFVkVOVF9DTElFTlRfU0VTU0lPTl9FUlJPUlMgYXMgbmUsRVZFTlRfQ0xJRU5UX0FVVEhFTlRJQ0FURV9UUkFDRVMgYXMgeixFVkVOVF9DTElFTlRfQVVUSEVOVElDQVRFX0VSUk9SUyBhcyBvZSxFVkVOVF9DTElFTlRfUEFJUklOR19FUlJPUlMgYXMgYnQsRVZFTlRfQ0xJRU5UX1BBSVJJTkdfVFJBQ0VTIGFzIEF0LFZFUklGWV9TRVJWRVIgYXMgeHQsU3RvcmUgYXMgVyxDb3JlIGFzIEN0fWZyb21cIkB3YWxsZXRjb25uZWN0L2NvcmVcIjtpbXBvcnR7cGlubyBhcyBWdCxnZXREZWZhdWx0TG9nZ2VyT3B0aW9ucyBhcyBrdCxnZW5lcmF0ZUNoaWxkTG9nZ2VyIGFzIER0LGdldExvZ2dlckNvbnRleHQgYXMgTHR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvbG9nZ2VyXCI7aW1wb3J0e0lFbmdpbmUgYXMgTXQsSVNpZ25DbGllbnQgYXMgJHR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdHlwZXNcIjtpbXBvcnR7TGltaXRlZFNldCBhcyBLdCxnZXRJbnRlcm5hbEVycm9yIGFzIGcsQkFTRTY0VVJMIGFzIGFlLEJBU0U2NCBhcyBZLGhhc2hNZXNzYWdlIGFzIFUscGFyc2VFeHBpcmVyVGFyZ2V0IGFzIFV0LGlzVmFsaWRTdHJpbmcgYXMgSixpc0V4cGlyZWQgYXMgWixpc1ZhbGlkSWQgYXMgR3QsbWVyZ2VSZXF1aXJlZEFuZE9wdGlvbmFsTmFtZXNwYWNlcyBhcyBqdCxjYWxjRXhwaXJ5IGFzIHgsZW5naW5lRXZlbnQgYXMgdixjcmVhdGVEZWxheWVkUHJvbWlzZSBhcyBlZSxnZXRTZGtFcnJvciBhcyBELGdldERlZXBMaW5rIGFzIEZ0LGhhbmRsZURlZXBsaW5rUmVkaXJlY3QgYXMgUXQsaXNTZXNzaW9uQ29tcGF0aWJsZSBhcyBIdCxoYXNoS2V5IGFzIE9lLHBhcnNlQ2hhaW5JZCBhcyBiZSxjcmVhdGVFbmNvZGVkUmVjYXAgYXMgenQsZ2V0UmVjYXBGcm9tUmVzb3VyY2VzIGFzIEFlLG1lcmdlRW5jb2RlZFJlY2FwcyBhcyBZdCxUWVBFXzIgYXMgSnQsZ2V0TGlua01vZGVVUkwgYXMgZ2UsdmFsaWRhdGVTaWduZWRDYWNhbyBhcyBKZSxnZXROYW1lc3BhY2VkRGlkQ2hhaW5JZCBhcyBYZSxnZXREaWRBZGRyZXNzIGFzIEJlLGdldE1ldGhvZHNGcm9tUmVjYXAgYXMgV2UsZ2V0Q2hhaW5zRnJvbVJlY2FwIGFzIFplLGJ1aWxkTmFtZXNwYWNlc0Zyb21BdXRoIGFzIGV0LGZvcm1hdE1lc3NhZ2UgYXMgWHQsTWVtb3J5U3RvcmUgYXMgY2UsaXNWYWxpZFBhcmFtcyBhcyBMLGlzVW5kZWZpbmVkIGFzIFgsaXNWYWxpZFJlbGF5cyBhcyBCdCxpc1ZhbGlkT2JqZWN0IGFzIHR0LGlzVmFsaWRSZXF1aXJlZE5hbWVzcGFjZXMgYXMgV3QsaXNWYWxpZE5hbWVzcGFjZXMgYXMgeGUsaXNDb25mb3JtaW5nTmFtZXNwYWNlcyBhcyBzdCxpc1ZhbGlkRXJyb3JSZWFzb24gYXMgWnQsaXNWYWxpZFJlbGF5IGFzIGVzLGlzVmFsaWRDb250cm9sbGVyIGFzIHRzLGlzVmFsaWROYW1lc3BhY2VzQ2hhaW5JZCBhcyBpdCxpc1ZhbGlkUmVxdWVzdCBhcyBzcyxpc1ZhbGlkTmFtZXNwYWNlc1JlcXVlc3QgYXMgaXMsaXNWYWxpZFJlcXVlc3RFeHBpcnkgYXMgcnMsaXNWYWxpZFJlc3BvbnNlIGFzIG5zLGlzVmFsaWRFdmVudCBhcyBvcyxpc1ZhbGlkTmFtZXNwYWNlc0V2ZW50IGFzIGFzLGdldFNlYXJjaFBhcmFtRnJvbVVSTCBhcyBydCxpc1Rlc3RSdW4gYXMgY3MsaXNSZWFjdE5hdGl2ZSBhcyBscyxnZXRTdWlEaWdlc3QgYXMgcHMsZ2V0TmVhclRyYW5zYWN0aW9uSWRGcm9tU2lnbmVkVHJhbnNhY3Rpb24gYXMgbnQsYnVpbGRTaWduZWRFeHRyaW5zaWNIYXNoIGFzIGhzLGlzVmFsaWRBcnJheSBhcyBvdCxnZXRBbGdvcmFuZFRyYW5zYWN0aW9uSWQgYXMgYXQsZ2V0U2lnbkRpcmVjdEhhc2ggYXMgZHMsZ2V0V2FsbGV0U2VuZENhbGxzSGFzaGVzIGFzIHVzLGV4dHJhY3RTb2xhbmFUcmFuc2FjdGlvbklkIGFzIGdzLFRZUEVfMSBhcyBDZSxwb3B1bGF0ZUFwcE1ldGFkYXRhIGFzIHlzfWZyb21cIkB3YWxsZXRjb25uZWN0L3V0aWxzXCI7aW1wb3J0IHdzLHtFdmVudEVtaXR0ZXIgYXMgbXN9ZnJvbVwiZXZlbnRzXCI7aW1wb3J0e1RISVJUWV9EQVlTIGFzIF9zLFNFVkVOX0RBWVMgYXMgY3QsRklWRV9NSU5VVEVTIGFzIEMsT05FX0RBWSBhcyBHLE9ORV9IT1VSIGFzIGx0LE9ORV9TRUNPTkQgYXMgZnMsdG9NaWxpc2Vjb25kcyBhcyBwdH1mcm9tXCJAd2FsbGV0Y29ubmVjdC90aW1lXCI7aW1wb3J0e2lzSnNvblJwY1JlcXVlc3QgYXMgU3MsaXNKc29uUnBjUmVzcG9uc2UgYXMgRXMscGF5bG9hZElkIGFzIGosZ2V0QmlnSW50UnBjSWQgYXMgeWUsaXNKc29uUnBjUmVzdWx0IGFzIEYsaXNKc29uUnBjRXJyb3IgYXMgUSxmb3JtYXRKc29uUnBjUmVxdWVzdCBhcyB0ZSxmb3JtYXRKc29uUnBjUmVzdWx0IGFzIGh0LGZvcm1hdEpzb25ScGNFcnJvciBhcyBSc31mcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXV0aWxzXCI7Y29uc3QgVmU9XCJ3Y1wiLGtlPTIsRGU9XCJjbGllbnRcIix3ZT1gJHtWZX1AJHtrZX06JHtEZX06YCxtZT17bmFtZTpEZSxsb2dnZXI6XCJlcnJvclwiLGNvbnRyb2xsZXI6ITEscmVsYXlVcmw6XCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0Lm9yZ1wifSx2cz17c2Vzc2lvbl9wcm9wb3NhbDpcInNlc3Npb25fcHJvcG9zYWxcIixzZXNzaW9uX3VwZGF0ZTpcInNlc3Npb25fdXBkYXRlXCIsc2Vzc2lvbl9leHRlbmQ6XCJzZXNzaW9uX2V4dGVuZFwiLHNlc3Npb25fcGluZzpcInNlc3Npb25fcGluZ1wiLHNlc3Npb25fZGVsZXRlOlwic2Vzc2lvbl9kZWxldGVcIixzZXNzaW9uX2V4cGlyZTpcInNlc3Npb25fZXhwaXJlXCIsc2Vzc2lvbl9yZXF1ZXN0Olwic2Vzc2lvbl9yZXF1ZXN0XCIsc2Vzc2lvbl9yZXF1ZXN0X3NlbnQ6XCJzZXNzaW9uX3JlcXVlc3Rfc2VudFwiLHNlc3Npb25fZXZlbnQ6XCJzZXNzaW9uX2V2ZW50XCIscHJvcG9zYWxfZXhwaXJlOlwicHJvcG9zYWxfZXhwaXJlXCIsc2Vzc2lvbl9hdXRoZW50aWNhdGU6XCJzZXNzaW9uX2F1dGhlbnRpY2F0ZVwiLHNlc3Npb25fcmVxdWVzdF9leHBpcmU6XCJzZXNzaW9uX3JlcXVlc3RfZXhwaXJlXCIsc2Vzc2lvbl9jb25uZWN0Olwic2Vzc2lvbl9jb25uZWN0XCJ9LElzPXtkYXRhYmFzZTpcIjptZW1vcnk6XCJ9LExlPVwiV0FMTEVUQ09OTkVDVF9ERUVQTElOS19DSE9JQ0VcIixUcz17Y3JlYXRlZDpcImhpc3RvcnlfY3JlYXRlZFwiLHVwZGF0ZWQ6XCJoaXN0b3J5X3VwZGF0ZWRcIixkZWxldGVkOlwiaGlzdG9yeV9kZWxldGVkXCIsc3luYzpcImhpc3Rvcnlfc3luY1wifSxxcz1cImhpc3RvcnlcIixQcz1cIjAuM1wiLGR0PVwicHJvcG9zYWxcIixOcz1fcyxNZT1cIlByb3Bvc2FsIGV4cGlyZWRcIix1dD1cInNlc3Npb25cIixCPWN0LGd0PVwiZW5naW5lXCIsUD17d2Nfc2Vzc2lvblByb3Bvc2U6e3JlcTp7dHRsOkMscHJvbXB0OiEwLHRhZzoxMTAwfSxyZXM6e3R0bDpDLHByb21wdDohMSx0YWc6MTEwMX0scmVqZWN0Ont0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMjB9LGF1dG9SZWplY3Q6e3R0bDpDLHByb21wdDohMSx0YWc6MTEyMX19LHdjX3Nlc3Npb25TZXR0bGU6e3JlcTp7dHRsOkMscHJvbXB0OiExLHRhZzoxMTAyfSxyZXM6e3R0bDpDLHByb21wdDohMSx0YWc6MTEwM319LHdjX3Nlc3Npb25VcGRhdGU6e3JlcTp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTA0fSxyZXM6e3R0bDpHLHByb21wdDohMSx0YWc6MTEwNX19LHdjX3Nlc3Npb25FeHRlbmQ6e3JlcTp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTA2fSxyZXM6e3R0bDpHLHByb21wdDohMSx0YWc6MTEwN319LHdjX3Nlc3Npb25SZXF1ZXN0OntyZXE6e3R0bDpDLHByb21wdDohMCx0YWc6MTEwOH0scmVzOnt0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMDl9fSx3Y19zZXNzaW9uRXZlbnQ6e3JlcTp7dHRsOkMscHJvbXB0OiEwLHRhZzoxMTEwfSxyZXM6e3R0bDpDLHByb21wdDohMSx0YWc6MTExMX19LHdjX3Nlc3Npb25EZWxldGU6e3JlcTp7dHRsOkcscHJvbXB0OiExLHRhZzoxMTEyfSxyZXM6e3R0bDpHLHByb21wdDohMSx0YWc6MTExM319LHdjX3Nlc3Npb25QaW5nOntyZXE6e3R0bDpHLHByb21wdDohMSx0YWc6MTExNH0scmVzOnt0dGw6Ryxwcm9tcHQ6ITEsdGFnOjExMTV9fSx3Y19zZXNzaW9uQXV0aGVudGljYXRlOntyZXE6e3R0bDpsdCxwcm9tcHQ6ITAsdGFnOjExMTZ9LHJlczp7dHRsOmx0LHByb21wdDohMSx0YWc6MTExN30scmVqZWN0Ont0dGw6Qyxwcm9tcHQ6ITEsdGFnOjExMTh9LGF1dG9SZWplY3Q6e3R0bDpDLHByb21wdDohMSx0YWc6MTExOX19fSxfZT17bWluOkMsbWF4OmN0fSxNPXtpZGxlOlwiSURMRVwiLGFjdGl2ZTpcIkFDVElWRVwifSx5dD17ZXRoX3NlbmRUcmFuc2FjdGlvbjp7a2V5OlwiXCJ9LGV0aF9zZW5kUmF3VHJhbnNhY3Rpb246e2tleTpcIlwifSx3YWxsZXRfc2VuZENhbGxzOntrZXk6XCJcIn0sc29sYW5hX3NpZ25UcmFuc2FjdGlvbjp7a2V5Olwic2lnbmF0dXJlXCJ9LHNvbGFuYV9zaWduQWxsVHJhbnNhY3Rpb25zOntrZXk6XCJ0cmFuc2FjdGlvbnNcIn0sc29sYW5hX3NpZ25BbmRTZW5kVHJhbnNhY3Rpb246e2tleTpcInNpZ25hdHVyZVwifSxzdWlfc2lnbkFuZEV4ZWN1dGVUcmFuc2FjdGlvbjp7a2V5OlwiZGlnZXN0XCJ9LHN1aV9zaWduVHJhbnNhY3Rpb246e2tleTpcIlwifSxoZWRlcmFfc2lnbkFuZEV4ZWN1dGVUcmFuc2FjdGlvbjp7a2V5OlwidHJhbnNhY3Rpb25JZFwifSxoZWRlcmFfZXhlY3V0ZVRyYW5zYWN0aW9uOntrZXk6XCJ0cmFuc2FjdGlvbklkXCJ9LG5lYXJfc2lnblRyYW5zYWN0aW9uOntrZXk6XCJcIn0sbmVhcl9zaWduVHJhbnNhY3Rpb25zOntrZXk6XCJcIn0sdHJvbl9zaWduVHJhbnNhY3Rpb246e2tleTpcInR4SURcIn0seHJwbF9zaWduVHJhbnNhY3Rpb246e2tleTpcIlwifSx4cnBsX3NpZ25UcmFuc2FjdGlvbkZvcjp7a2V5OlwiXCJ9LGFsZ29fc2lnblR4bjp7a2V5OlwiXCJ9LHNlbmRUcmFuc2Zlcjp7a2V5OlwidHhpZFwifSxzdGFja3Nfc3R4VHJhbnNmZXI6e2tleTpcInR4SWRcIn0scG9sa2Fkb3Rfc2lnblRyYW5zYWN0aW9uOntrZXk6XCJcIn0sY29zbW9zX3NpZ25EaXJlY3Q6e2tleTpcIlwifX0sd3Q9XCJyZXF1ZXN0XCIsbXQ9W1wid2Nfc2Vzc2lvblByb3Bvc2VcIixcIndjX3Nlc3Npb25SZXF1ZXN0XCIsXCJ3Y19hdXRoUmVxdWVzdFwiLFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiXSxfdD1cIndjXCIsT3M9MS41LGZ0PVwiYXV0aFwiLFN0PVwiYXV0aEtleXNcIixFdD1cInBhaXJpbmdUb3BpY3NcIixSdD1cInJlcXVlc3RzXCIsbGU9YCR7X3R9QCR7MS41fToke2Z0fTpgLHBlPWAke2xlfTpQVUJfS0VZYDt2YXIgYnM9T2JqZWN0LmRlZmluZVByb3BlcnR5LEFzPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLHhzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLHZ0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsQ3M9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxWcz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLCRlPShTLG8sdCk9Pm8gaW4gUz9icyhTLG8se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpTW29dPXQsUj0oUyxvKT0+e2Zvcih2YXIgdCBpbiBvfHwobz17fSkpQ3MuY2FsbChvLHQpJiYkZShTLHQsb1t0XSk7aWYodnQpZm9yKHZhciB0IG9mIHZ0KG8pKVZzLmNhbGwobyx0KSYmJGUoUyx0LG9bdF0pO3JldHVybiBTfSxPPShTLG8pPT5BcyhTLHhzKG8pKSxjPShTLG8sdCk9PiRlKFMsdHlwZW9mIG8hPVwic3ltYm9sXCI/bytcIlwiOm8sdCk7Y2xhc3Mga3MgZXh0ZW5kcyBNdHtjb25zdHJ1Y3RvcihvKXtzdXBlcihvKSxjKHRoaXMsXCJuYW1lXCIsZ3QpLGModGhpcyxcImV2ZW50c1wiLG5ldyB3cyksYyh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksYyh0aGlzLFwicmVxdWVzdFF1ZXVlXCIse3N0YXRlOk0uaWRsZSxxdWV1ZTpbXX0pLGModGhpcyxcInNlc3Npb25SZXF1ZXN0UXVldWVcIix7c3RhdGU6TS5pZGxlLHF1ZXVlOltdfSksYyh0aGlzLFwiZW1pdHRlZFNlc3Npb25SZXF1ZXN0c1wiLG5ldyBLdCh7bGltaXQ6NTAwfSkpLGModGhpcyxcInJlcXVlc3RRdWV1ZURlbGF5XCIsZnMpLGModGhpcyxcImV4cGVjdGVkUGFpcmluZ01ldGhvZE1hcFwiLG5ldyBNYXApLGModGhpcyxcInJlY2VudGx5RGVsZXRlZE1hcFwiLG5ldyBNYXApLGModGhpcyxcInJlY2VudGx5RGVsZXRlZExpbWl0XCIsMjAwKSxjKHRoaXMsXCJyZWxheU1lc3NhZ2VDYWNoZVwiLFtdKSxjKHRoaXMsXCJwZW5kaW5nU2Vzc2lvbnNcIixuZXcgTWFwKSxjKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fChhd2FpdCB0aGlzLmNsZWFudXAoKSx0aGlzLnJlZ2lzdGVyUmVsYXllckV2ZW50cygpLHRoaXMucmVnaXN0ZXJFeHBpcmVyRXZlbnRzKCksdGhpcy5yZWdpc3RlclBhaXJpbmdFdmVudHMoKSxhd2FpdCB0aGlzLnJlZ2lzdGVyTGlua01vZGVMaXN0ZW5lcnMoKSx0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucmVnaXN0ZXIoe21ldGhvZHM6T2JqZWN0LmtleXMoUCl9KSx0aGlzLmluaXRpYWxpemVkPSEwLHNldFRpbWVvdXQoYXN5bmMoKT0+e2F3YWl0IHRoaXMucHJvY2Vzc1BlbmRpbmdNZXNzYWdlRXZlbnRzKCksdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlPXRoaXMuZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0cygpLHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKX0scHQodGhpcy5yZXF1ZXN0UXVldWVEZWxheSkpKX0pLGModGhpcyxcImNvbm5lY3RcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3QgZT1PKFIoe30sdCkse3JlcXVpcmVkTmFtZXNwYWNlczp0LnJlcXVpcmVkTmFtZXNwYWNlc3x8e30sb3B0aW9uYWxOYW1lc3BhY2VzOnQub3B0aW9uYWxOYW1lc3BhY2VzfHx7fX0pO2F3YWl0IHRoaXMuaXNWYWxpZENvbm5lY3QoZSksZS5vcHRpb25hbE5hbWVzcGFjZXM9anQoZS5yZXF1aXJlZE5hbWVzcGFjZXMsZS5vcHRpb25hbE5hbWVzcGFjZXMpLGUucmVxdWlyZWROYW1lc3BhY2VzPXt9O2NvbnN0e3BhaXJpbmdUb3BpYzpzLHJlcXVpcmVkTmFtZXNwYWNlczppLG9wdGlvbmFsTmFtZXNwYWNlczpyLHNlc3Npb25Qcm9wZXJ0aWVzOm4sc2NvcGVkUHJvcGVydGllczphLHJlbGF5czpsfT1lO2xldCBwPXMsaCx1PSExO3RyeXtpZihwKXtjb25zdCBUPXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5nZXQocCk7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJjb25uZWN0KCkgd2l0aCBleGlzdGluZyBwYWlyaW5nIHRvcGljIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlwiKSx1PVQuYWN0aXZlfX1jYXRjaChUKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYGNvbm5lY3QoKSAtPiBwYWlyaW5nLmdldCgke3B9KSBmYWlsZWRgKSxUfWlmKCFwfHwhdSl7Y29uc3R7dG9waWM6VCx1cmk6JH09YXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmNyZWF0ZSh7aW50ZXJuYWw6e3NraXBTdWJzY3JpYmU6ITB9fSk7cD1ULGg9JH1pZighcCl7Y29uc3R7bWVzc2FnZTpUfT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYGNvbm5lY3QoKSBwYWlyaW5nIHRvcGljOiAke3B9YCk7dGhyb3cgbmV3IEVycm9yKFQpfWNvbnN0IGQ9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCkseT1QLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGx8fEMsdz14KHkpLG09TyhSKFIoe3JlcXVpcmVkTmFtZXNwYWNlczppLG9wdGlvbmFsTmFtZXNwYWNlczpyLHJlbGF5czpsPz9be3Byb3RvY29sOk90fV0scHJvcG9zZXI6e3B1YmxpY0tleTpkLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxleHBpcnlUaW1lc3RhbXA6dyxwYWlyaW5nVG9waWM6cH0sbiYme3Nlc3Npb25Qcm9wZXJ0aWVzOm59KSxhJiZ7c2NvcGVkUHJvcGVydGllczphfSkse2lkOmooKX0pLEU9dihcInNlc3Npb25fY29ubmVjdFwiLG0uaWQpLHtyZWplY3Q6XyxyZXNvbHZlOmIsZG9uZTpWfT1lZSh5LE1lKSxJPSh7aWQ6VH0pPT57VD09PW0uaWQmJih0aGlzLmNsaWVudC5ldmVudHMub2ZmKFwicHJvcG9zYWxfZXhwaXJlXCIsSSksdGhpcy5wZW5kaW5nU2Vzc2lvbnMuZGVsZXRlKG0uaWQpLHRoaXMuZXZlbnRzLmVtaXQoRSx7ZXJyb3I6e21lc3NhZ2U6TWUsY29kZTowfX0pKX07cmV0dXJuIHRoaXMuY2xpZW50LmV2ZW50cy5vbihcInByb3Bvc2FsX2V4cGlyZVwiLEkpLHRoaXMuZXZlbnRzLm9uY2UoRSwoe2Vycm9yOlQsc2Vzc2lvbjokfSk9Pnt0aGlzLmNsaWVudC5ldmVudHMub2ZmKFwicHJvcG9zYWxfZXhwaXJlXCIsSSksVD9fKFQpOiQmJmIoJCl9KSxhd2FpdCB0aGlzLnNlbmRQcm9wb3NlU2Vzc2lvbih7cHJvcG9zYWw6bSxwdWJsaXNoT3B0czp7aW50ZXJuYWw6e3Rocm93T25GYWlsZWRQdWJsaXNoOiEwfSx0dmY6e2NvcnJlbGF0aW9uSWQ6bS5pZH19fSksYXdhaXQgdGhpcy5zZXRQcm9wb3NhbChtLmlkLG0pLHt1cmk6aCxhcHByb3ZhbDpWfX0pLGModGhpcyxcInBhaXJcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7dHJ5e3JldHVybiBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcih0KX1jYXRjaChlKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJwYWlyKCkgZmFpbGVkXCIpLGV9fSksYyh0aGlzLFwiYXBwcm92ZVwiLGFzeW5jIHQ9Pnt2YXIgZSxzLGk7Y29uc3Qgcj10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmNyZWF0ZUV2ZW50KHtwcm9wZXJ0aWVzOnt0b3BpYzooZT10Py5pZCk9PW51bGw/dm9pZCAwOmUudG9TdHJpbmcoKSx0cmFjZTpbSy5zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZF19fSk7dHJ5e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpfWNhdGNoKE4pe3Rocm93IHIuc2V0RXJyb3IobmUubm9faW50ZXJuZXRfY29ubmVjdGlvbiksTn10cnl7YXdhaXQgdGhpcy5pc1ZhbGlkUHJvcG9zYWxJZCh0Py5pZCl9Y2F0Y2goTil7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBhcHByb3ZlKCkgLT4gcHJvcG9zYWwuZ2V0KCR7dD8uaWR9KSBmYWlsZWRgKSxyLnNldEVycm9yKG5lLnByb3Bvc2FsX25vdF9mb3VuZCksTn10cnl7YXdhaXQgdGhpcy5pc1ZhbGlkQXBwcm92ZSh0KX1jYXRjaChOKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJhcHByb3ZlKCkgLT4gaXNWYWxpZEFwcHJvdmUoKSBmYWlsZWRcIiksci5zZXRFcnJvcihuZS5zZXNzaW9uX2FwcHJvdmVfbmFtZXNwYWNlX3ZhbGlkYXRpb25fZmFpbHVyZSksTn1jb25zdHtpZDpuLHJlbGF5UHJvdG9jb2w6YSxuYW1lc3BhY2VzOmwsc2Vzc2lvblByb3BlcnRpZXM6cCxzY29wZWRQcm9wZXJ0aWVzOmgsc2Vzc2lvbkNvbmZpZzp1fT10LGQ9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KG4pO3RoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZGVsZXRlRXZlbnQoe2V2ZW50SWQ6ci5ldmVudElkfSk7Y29uc3R7cGFpcmluZ1RvcGljOnkscHJvcG9zZXI6dyxyZXF1aXJlZE5hbWVzcGFjZXM6bSxvcHRpb25hbE5hbWVzcGFjZXM6RX09ZDtsZXQgXz0ocz10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50KT09bnVsbD92b2lkIDA6cy5nZXRFdmVudCh7dG9waWM6eX0pO198fChfPShpPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQpPT1udWxsP3ZvaWQgMDppLmNyZWF0ZUV2ZW50KHt0eXBlOksuc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWQscHJvcGVydGllczp7dG9waWM6eSx0cmFjZTpbSy5zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZCxLLnNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3NdfX0pKTtjb25zdCBiPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLFY9dy5wdWJsaWNLZXksST1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShiLFYpLFQ9UihSKFIoe3JlbGF5Ontwcm90b2NvbDphPz9cImlyblwifSxuYW1lc3BhY2VzOmwsY29udHJvbGxlcjp7cHVibGljS2V5OmIsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeTp4KEIpfSxwJiZ7c2Vzc2lvblByb3BlcnRpZXM6cH0pLGgmJntzY29wZWRQcm9wZXJ0aWVzOmh9KSx1JiZ7c2Vzc2lvbkNvbmZpZzp1fSksJD1xLnJlbGF5O18uYWRkVHJhY2UoSy5zdWJzY3JpYmluZ19zZXNzaW9uX3RvcGljKTt0cnl7YXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShJLHt0cmFuc3BvcnRUeXBlOiQsaW50ZXJuYWw6e3NraXBTdWJzY3JpYmU6ITB9fSl9Y2F0Y2goTil7dGhyb3cgXy5zZXRFcnJvcihuZS5zdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19mYWlsdXJlKSxOfV8uYWRkVHJhY2UoSy5zdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19zdWNjZXNzKTtjb25zdCBTZT1PKFIoe30sVCkse3RvcGljOkkscmVxdWlyZWROYW1lc3BhY2VzOm0sb3B0aW9uYWxOYW1lc3BhY2VzOkUscGFpcmluZ1RvcGljOnksYWNrbm93bGVkZ2VkOiExLHNlbGY6VC5jb250cm9sbGVyLHBlZXI6e3B1YmxpY0tleTp3LnB1YmxpY0tleSxtZXRhZGF0YTp3Lm1ldGFkYXRhfSxjb250cm9sbGVyOmIsdHJhbnNwb3J0VHlwZTpxLnJlbGF5fSk7YXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQoSSxTZSksXy5hZGRUcmFjZShLLnN0b3JlX3Nlc3Npb24pO3RyeXthd2FpdCB0aGlzLnNlbmRBcHByb3ZlU2Vzc2lvbih7c2Vzc2lvblRvcGljOkkscHJvcG9zYWw6ZCxwYWlyaW5nUHJvcG9zYWxSZXNwb25zZTp7cmVsYXk6e3Byb3RvY29sOmE/P1wiaXJuXCJ9LHJlc3BvbmRlclB1YmxpY0tleTpifSxzZXNzaW9uU2V0dGxlUmVxdWVzdDpULHB1Ymxpc2hPcHRzOntpbnRlcm5hbDp7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9LHR2Zjp7Y29ycmVsYXRpb25JZDpufX19KSxfLmFkZFRyYWNlKEsuc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2Vzcyl9Y2F0Y2goTil7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKE4pLHRoaXMuY2xpZW50LnNlc3Npb24uZGVsZXRlKEksRChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUoSSksTn1yZXR1cm4gdGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7ZXZlbnRJZDpfLmV2ZW50SWR9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOnksbWV0YWRhdGE6dy5tZXRhZGF0YX0pLGF3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwobiksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHt0b3BpYzp5fSksYXdhaXQgdGhpcy5zZXRFeHBpcnkoSSx4KEIpKSx7dG9waWM6SSxhY2tub3dsZWRnZWQ6KCk9PlByb21pc2UucmVzb2x2ZSh0aGlzLmNsaWVudC5zZXNzaW9uLmdldChJKSl9fSksYyh0aGlzLFwicmVqZWN0XCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRSZWplY3QodCl9Y2F0Y2gocil7dGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwicmVqZWN0KCkgLT4gaXNWYWxpZFJlamVjdCgpIGZhaWxlZFwiKSxyfWNvbnN0e2lkOmUscmVhc29uOnN9PXQ7bGV0IGk7dHJ5e2k9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KGUpLnBhaXJpbmdUb3BpY31jYXRjaChyKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHJlamVjdCgpIC0+IHByb3Bvc2FsLmdldCgke2V9KSBmYWlsZWRgKSxyfWkmJmF3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDplLHRvcGljOmksZXJyb3I6cyxycGNPcHRzOlAud2Nfc2Vzc2lvblByb3Bvc2UucmVqZWN0fSksYXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChlKX0pLGModGhpcyxcInVwZGF0ZVwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkVXBkYXRlKHQpfWNhdGNoKGgpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInVwZGF0ZSgpIC0+IGlzVmFsaWRVcGRhdGUoKSBmYWlsZWRcIiksaH1jb25zdHt0b3BpYzplLG5hbWVzcGFjZXM6c309dCx7ZG9uZTppLHJlc29sdmU6cixyZWplY3Q6bn09ZWUoKSxhPWooKSxsPXllKCkudG9TdHJpbmcoKSxwPXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGUpLm5hbWVzcGFjZXM7cmV0dXJuIHRoaXMuZXZlbnRzLm9uY2UodihcInNlc3Npb25fdXBkYXRlXCIsYSksKHtlcnJvcjpofSk9PntoP24oaCk6cigpfSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoZSx7bmFtZXNwYWNlczpzfSksYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6ZSxtZXRob2Q6XCJ3Y19zZXNzaW9uVXBkYXRlXCIscGFyYW1zOntuYW1lc3BhY2VzOnN9LHRocm93T25GYWlsZWRQdWJsaXNoOiEwLGNsaWVudFJwY0lkOmEscmVsYXlScGNJZDpsfSkuY2F0Y2goaD0+e3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihoKSx0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShlLHtuYW1lc3BhY2VzOnB9KSxuKGgpfSkse2Fja25vd2xlZGdlZDppfX0pLGModGhpcyxcImV4dGVuZFwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTt0cnl7YXdhaXQgdGhpcy5pc1ZhbGlkRXh0ZW5kKHQpfWNhdGNoKGEpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcImV4dGVuZCgpIC0+IGlzVmFsaWRFeHRlbmQoKSBmYWlsZWRcIiksYX1jb25zdHt0b3BpYzplfT10LHM9aigpLHtkb25lOmkscmVzb2x2ZTpyLHJlamVjdDpufT1lZSgpO3JldHVybiB0aGlzLmV2ZW50cy5vbmNlKHYoXCJzZXNzaW9uX2V4dGVuZFwiLHMpLCh7ZXJyb3I6YX0pPT57YT9uKGEpOnIoKX0pLGF3YWl0IHRoaXMuc2V0RXhwaXJ5KGUseChCKSksdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6ZSxtZXRob2Q6XCJ3Y19zZXNzaW9uRXh0ZW5kXCIscGFyYW1zOnt9LGNsaWVudFJwY0lkOnMsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KS5jYXRjaChhPT57bihhKX0pLHthY2tub3dsZWRnZWQ6aX19KSxjKHRoaXMsXCJyZXF1ZXN0XCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRSZXF1ZXN0KHQpfWNhdGNoKG0pe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInJlcXVlc3QoKSAtPiBpc1ZhbGlkUmVxdWVzdCgpIGZhaWxlZFwiKSxtfWNvbnN0e2NoYWluSWQ6ZSxyZXF1ZXN0OnMsdG9waWM6aSxleHBpcnk6cj1QLndjX3Nlc3Npb25SZXF1ZXN0LnJlcS50dGx9PXQsbj10aGlzLmNsaWVudC5zZXNzaW9uLmdldChpKTtuPy50cmFuc3BvcnRUeXBlPT09cS5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3QgYT1qKCksbD15ZSgpLnRvU3RyaW5nKCkse2RvbmU6cCxyZXNvbHZlOmgscmVqZWN0OnV9PWVlKHIsXCJSZXF1ZXN0IGV4cGlyZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO3RoaXMuZXZlbnRzLm9uY2UodihcInNlc3Npb25fcmVxdWVzdFwiLGEpLCh7ZXJyb3I6bSxyZXN1bHQ6RX0pPT57bT91KG0pOmgoRSl9KTtjb25zdCBkPVwid2Nfc2Vzc2lvblJlcXVlc3RcIix5PXRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChuLnBlZXIubWV0YWRhdGEsbi50cmFuc3BvcnRUeXBlKTtpZih5KXJldHVybiBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHtjbGllbnRScGNJZDphLHJlbGF5UnBjSWQ6bCx0b3BpYzppLG1ldGhvZDpkLHBhcmFtczp7cmVxdWVzdDpPKFIoe30scykse2V4cGlyeVRpbWVzdGFtcDp4KHIpfSksY2hhaW5JZDplfSxleHBpcnk6cix0aHJvd09uRmFpbGVkUHVibGlzaDohMCxhcHBMaW5rOnl9KS5jYXRjaChtPT51KG0pKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9zZW50XCIse3RvcGljOmkscmVxdWVzdDpzLGNoYWluSWQ6ZSxpZDphfSksYXdhaXQgcCgpO2NvbnN0IHc9e3JlcXVlc3Q6TyhSKHt9LHMpLHtleHBpcnlUaW1lc3RhbXA6eChyKX0pLGNoYWluSWQ6ZX07cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKFtuZXcgUHJvbWlzZShhc3luYyBtPT57YXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7Y2xpZW50UnBjSWQ6YSxyZWxheVJwY0lkOmwsdG9waWM6aSxtZXRob2Q6ZCxwYXJhbXM6dyxleHBpcnk6cix0aHJvd09uRmFpbGVkUHVibGlzaDohMCx0dmY6dGhpcy5nZXRUVkZQYXJhbXMoYSx3KX0pLmNhdGNoKEU9PnUoRSkpLHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0X3NlbnRcIix7dG9waWM6aSxyZXF1ZXN0OnMsY2hhaW5JZDplLGlkOmF9KSxtKCl9KSxuZXcgUHJvbWlzZShhc3luYyBtPT57dmFyIEU7aWYoISgoRT1uLnNlc3Npb25Db25maWcpIT1udWxsJiZFLmRpc2FibGVEZWVwTGluaykpe2NvbnN0IF89YXdhaXQgRnQodGhpcy5jbGllbnQuY29yZS5zdG9yYWdlLExlKTthd2FpdCBRdCh7aWQ6YSx0b3BpYzppLHdjRGVlcExpbms6X30pfW0oKX0pLHAoKV0pLnRoZW4obT0+bVsyXSl9KSxjKHRoaXMsXCJyZXNwb25kXCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZFJlc3BvbmQodCk7Y29uc3R7dG9waWM6ZSxyZXNwb25zZTpzfT10LHtpZDppfT1zLHI9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZSk7ci50cmFuc3BvcnRUeXBlPT09cS5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3Qgbj10aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoci5wZWVyLm1ldGFkYXRhLHIudHJhbnNwb3J0VHlwZSk7RihzKT9hd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOmksdG9waWM6ZSxyZXN1bHQ6cy5yZXN1bHQsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsYXBwTGluazpufSk6UShzKSYmYXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmksdG9waWM6ZSxlcnJvcjpzLmVycm9yLGFwcExpbms6bn0pLHRoaXMuY2xlYW51cEFmdGVyUmVzcG9uc2UodCl9KSxjKHRoaXMsXCJwaW5nXCIsYXN5bmMgdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO3RyeXthd2FpdCB0aGlzLmlzVmFsaWRQaW5nKHQpfWNhdGNoKHMpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInBpbmcoKSAtPiBpc1ZhbGlkUGluZygpIGZhaWxlZFwiKSxzfWNvbnN0e3RvcGljOmV9PXQ7aWYodGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKGUpKXtjb25zdCBzPWooKSxpPXllKCkudG9TdHJpbmcoKSx7ZG9uZTpyLHJlc29sdmU6bixyZWplY3Q6YX09ZWUoKTt0aGlzLmV2ZW50cy5vbmNlKHYoXCJzZXNzaW9uX3BpbmdcIixzKSwoe2Vycm9yOmx9KT0+e2w/YShsKTpuKCl9KSxhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5zZW5kUmVxdWVzdCh7dG9waWM6ZSxtZXRob2Q6XCJ3Y19zZXNzaW9uUGluZ1wiLHBhcmFtczp7fSx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDpzLHJlbGF5UnBjSWQ6aX0pLHIoKV0pfWVsc2UgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMoZSkmJih0aGlzLmNsaWVudC5sb2dnZXIud2FybihcInBpbmcoKSBvbiBwYWlyaW5nIHRvcGljIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlwiKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGluZyh7dG9waWM6ZX0pKX0pLGModGhpcyxcImVtaXRcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy5pc1ZhbGlkRW1pdCh0KTtjb25zdHt0b3BpYzplLGV2ZW50OnMsY2hhaW5JZDppfT10LHI9eWUoKS50b1N0cmluZygpLG49aigpO2F3YWl0IHRoaXMuc2VuZFJlcXVlc3Qoe3RvcGljOmUsbWV0aG9kOlwid2Nfc2Vzc2lvbkV2ZW50XCIscGFyYW1zOntldmVudDpzLGNoYWluSWQ6aX0sdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAscmVsYXlScGNJZDpyLGNsaWVudFJwY0lkOm59KX0pLGModGhpcyxcImRpc2Nvbm5lY3RcIixhc3luYyB0PT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy5pc1ZhbGlkRGlzY29ubmVjdCh0KTtjb25zdHt0b3BpYzplfT10O2lmKHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKSlhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzplLG1ldGhvZDpcIndjX3Nlc3Npb25EZWxldGVcIixwYXJhbXM6RChcIlVTRVJfRElTQ09OTkVDVEVEXCIpLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSksYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzplLGVtaXRFdmVudDohMX0pO2Vsc2UgaWYodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMoZSkpYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmRpc2Nvbm5lY3Qoe3RvcGljOmV9KTtlbHNle2NvbnN0e21lc3NhZ2U6c309ZyhcIk1JU01BVENIRURfVE9QSUNcIixgU2Vzc2lvbiBvciBwYWlyaW5nIHRvcGljIG5vdCBmb3VuZDogJHtlfWApO3Rocm93IG5ldyBFcnJvcihzKX19KSxjKHRoaXMsXCJmaW5kXCIsdD0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0QWxsKCkuZmlsdGVyKGU9Pkh0KGUsdCkpKSksYyh0aGlzLFwiZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0c1wiLCgpPT50aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5nZXRBbGwoKSksYyh0aGlzLFwiYXV0aGVudGljYXRlXCIsYXN5bmModCxlKT0+e3ZhciBzO3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMuaXNWYWxpZEF1dGhlbnRpY2F0ZSh0KTtjb25zdCBpPWUmJnRoaXMuY2xpZW50LmNvcmUubGlua01vZGVTdXBwb3J0ZWRBcHBzLmluY2x1ZGVzKGUpJiYoKHM9dGhpcy5jbGllbnQubWV0YWRhdGEucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpzLmxpbmtNb2RlKSxyPWk/cS5saW5rX21vZGU6cS5yZWxheTtyPT09cS5yZWxheSYmYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7Y29uc3R7Y2hhaW5zOm4sc3RhdGVtZW50OmE9XCJcIix1cmk6bCxkb21haW46cCxub25jZTpoLHR5cGU6dSxleHA6ZCxuYmY6eSxtZXRob2RzOnc9W10sZXhwaXJ5Om19PXQsRT1bLi4udC5yZXNvdXJjZXN8fFtdXSx7dG9waWM6Xyx1cmk6Yn09YXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmNyZWF0ZSh7bWV0aG9kczpbXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCJdLHRyYW5zcG9ydFR5cGU6cn0pO3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKHttZXNzYWdlOlwiR2VuZXJhdGVkIG5ldyBwYWlyaW5nXCIscGFpcmluZzp7dG9waWM6Xyx1cmk6Yn19KTtjb25zdCBWPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLEk9T2UoVik7aWYoYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LmF1dGguYXV0aEtleXMuc2V0KHBlLHtyZXNwb25zZVRvcGljOkkscHVibGljS2V5OlZ9KSx0aGlzLmNsaWVudC5hdXRoLnBhaXJpbmdUb3BpY3Muc2V0KEkse3RvcGljOkkscGFpcmluZ1RvcGljOl99KV0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUoSSx7dHJhbnNwb3J0VHlwZTpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYHNlbmRpbmcgcmVxdWVzdCB0byBuZXcgcGFpcmluZyB0b3BpYzogJHtffWApLHcubGVuZ3RoPjApe2NvbnN0e25hbWVzcGFjZTpBfT1iZShuWzBdKTtsZXQgaz16dChBLFwicmVxdWVzdFwiLHcpO0FlKEUpJiYoaz1ZdChrLEUucG9wKCkpKSxFLnB1c2goayl9Y29uc3QgVD1tJiZtPlAud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZXEudHRsP206UC53Y19zZXNzaW9uQXV0aGVudGljYXRlLnJlcS50dGwsJD17YXV0aFBheWxvYWQ6e3R5cGU6dT8/XCJjYWlwMTIyXCIsY2hhaW5zOm4sc3RhdGVtZW50OmEsYXVkOmwsZG9tYWluOnAsdmVyc2lvbjpcIjFcIixub25jZTpoLGlhdDpuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksZXhwOmQsbmJmOnkscmVzb3VyY2VzOkV9LHJlcXVlc3Rlcjp7cHVibGljS2V5OlYsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9LGV4cGlyeVRpbWVzdGFtcDp4KFQpfSxTZT17ZWlwMTU1OntjaGFpbnM6bixtZXRob2RzOlsuLi5uZXcgU2V0KFtcInBlcnNvbmFsX3NpZ25cIiwuLi53XSldLGV2ZW50czpbXCJjaGFpbkNoYW5nZWRcIixcImFjY291bnRzQ2hhbmdlZFwiXX19LE49e3JlcXVpcmVkTmFtZXNwYWNlczp7fSxvcHRpb25hbE5hbWVzcGFjZXM6U2UscmVsYXlzOlt7cHJvdG9jb2w6XCJpcm5cIn1dLHBhaXJpbmdUb3BpYzpfLHByb3Bvc2VyOntwdWJsaWNLZXk6VixtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0sZXhwaXJ5VGltZXN0YW1wOngoUC53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsKSxpZDpqKCl9LHtkb25lOlR0LHJlc29sdmU6VWUscmVqZWN0OkVlfT1lZShULFwiUmVxdWVzdCBleHBpcmVkXCIpLHNlPWooKSxoZT12KFwic2Vzc2lvbl9jb25uZWN0XCIsTi5pZCksUmU9dihcInNlc3Npb25fcmVxdWVzdFwiLHNlKSxkZT1hc3luYyh7ZXJyb3I6QSxzZXNzaW9uOmt9KT0+e3RoaXMuZXZlbnRzLm9mZihSZSx2ZSksQT9FZShBKTprJiZVZSh7c2Vzc2lvbjprfSl9LHZlPWFzeW5jIEE9Pnt2YXIgayxHZSxqZTtpZihhd2FpdCB0aGlzLmRlbGV0ZVBlbmRpbmdBdXRoUmVxdWVzdChzZSx7bWVzc2FnZTpcImZ1bGZpbGxlZFwiLGNvZGU6MH0pLEEuZXJyb3Ipe2NvbnN0IHJlPUQoXCJXQ19NRVRIT0RfVU5TVVBQT1JURURcIixcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIik7cmV0dXJuIEEuZXJyb3IuY29kZT09PXJlLmNvZGU/dm9pZCAwOih0aGlzLmV2ZW50cy5vZmYoaGUsZGUpLEVlKEEuZXJyb3IubWVzc2FnZSkpfWF3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwoTi5pZCksdGhpcy5ldmVudHMub2ZmKGhlLGRlKTtjb25zdHtjYWNhb3M6RmUscmVzcG9uZGVyOkh9PUEucmVzdWx0LFRlPVtdLFFlPVtdO2Zvcihjb25zdCByZSBvZiBGZSl7YXdhaXQgSmUoe2NhY2FvOnJlLHByb2plY3RJZDp0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZH0pfHwodGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHJlLFwiU2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWRcIiksRWUoRChcIlNFU1NJT05fU0VUVExFTUVOVF9GQUlMRURcIixcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpKSk7Y29uc3R7cDpxZX09cmUsUGU9QWUocWUucmVzb3VyY2VzKSxIZT1bWGUocWUuaXNzKV0scXQ9QmUocWUuaXNzKTtpZihQZSl7Y29uc3QgTmU9V2UoUGUpLFB0PVplKFBlKTtUZS5wdXNoKC4uLk5lKSxIZS5wdXNoKC4uLlB0KX1mb3IoY29uc3QgTmUgb2YgSGUpUWUucHVzaChgJHtOZX06JHtxdH1gKX1jb25zdCBpZT1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShWLEgucHVibGljS2V5KTtsZXQgdWU7VGUubGVuZ3RoPjAmJih1ZT17dG9waWM6aWUsYWNrbm93bGVkZ2VkOiEwLHNlbGY6e3B1YmxpY0tleTpWLG1ldGFkYXRhOnRoaXMuY2xpZW50Lm1ldGFkYXRhfSxwZWVyOkgsY29udHJvbGxlcjpILnB1YmxpY0tleSxleHBpcnk6eChCKSxyZXF1aXJlZE5hbWVzcGFjZXM6e30sb3B0aW9uYWxOYW1lc3BhY2VzOnt9LHJlbGF5Ontwcm90b2NvbDpcImlyblwifSxwYWlyaW5nVG9waWM6XyxuYW1lc3BhY2VzOmV0KFsuLi5uZXcgU2V0KFRlKV0sWy4uLm5ldyBTZXQoUWUpXSksdHJhbnNwb3J0VHlwZTpyfSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKGllLHt0cmFuc3BvcnRUeXBlOnJ9KSxhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldChpZSx1ZSksXyYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHt0b3BpYzpfLG1ldGFkYXRhOkgubWV0YWRhdGF9KSx1ZT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChpZSkpLChrPXRoaXMuY2xpZW50Lm1ldGFkYXRhLnJlZGlyZWN0KSE9bnVsbCYmay5saW5rTW9kZSYmKEdlPUgubWV0YWRhdGEucmVkaXJlY3QpIT1udWxsJiZHZS5saW5rTW9kZSYmKGplPUgubWV0YWRhdGEucmVkaXJlY3QpIT1udWxsJiZqZS51bml2ZXJzYWwmJmUmJih0aGlzLmNsaWVudC5jb3JlLmFkZExpbmtNb2RlU3VwcG9ydGVkQXBwKEgubWV0YWRhdGEucmVkaXJlY3QudW5pdmVyc2FsKSx0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShpZSx7dHJhbnNwb3J0VHlwZTpxLmxpbmtfbW9kZX0pKSxVZSh7YXV0aHM6RmUsc2Vzc2lvbjp1ZX0pfTt0aGlzLmV2ZW50cy5vbmNlKGhlLGRlKSx0aGlzLmV2ZW50cy5vbmNlKFJlLHZlKTtsZXQgSWU7dHJ5e2lmKGkpe2NvbnN0IEE9dGUoXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIsJCxzZSk7dGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnNldChfLEEpO2NvbnN0IGs9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKFwiXCIsQSx7dHlwZTpKdCxlbmNvZGluZzphZX0pO0llPWdlKGUsXyxrKX1lbHNlIGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzpfLG1ldGhvZDpcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIixwYXJhbXM6JCxleHBpcnk6dC5leHBpcnksdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsY2xpZW50UnBjSWQ6c2V9KSx0aGlzLnNlbmRSZXF1ZXN0KHt0b3BpYzpfLG1ldGhvZDpcIndjX3Nlc3Npb25Qcm9wb3NlXCIscGFyYW1zOk4sZXhwaXJ5OlAud2Nfc2Vzc2lvblByb3Bvc2UucmVxLnR0bCx0aHJvd09uRmFpbGVkUHVibGlzaDohMCxjbGllbnRScGNJZDpOLmlkfSldKX1jYXRjaChBKXt0aHJvdyB0aGlzLmV2ZW50cy5vZmYoaGUsZGUpLHRoaXMuZXZlbnRzLm9mZihSZSx2ZSksQX1yZXR1cm4gYXdhaXQgdGhpcy5zZXRQcm9wb3NhbChOLmlkLE4pLGF3YWl0IHRoaXMuc2V0QXV0aFJlcXVlc3Qoc2Use3JlcXVlc3Q6TyhSKHt9LCQpLHt2ZXJpZnlDb250ZXh0Ont9fSkscGFpcmluZ1RvcGljOl8sdHJhbnNwb3J0VHlwZTpyfSkse3VyaTpJZT8/YixyZXNwb25zZTpUdH19KSxjKHRoaXMsXCJhcHByb3ZlU2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLGFzeW5jIHQ9Pntjb25zdHtpZDplLGF1dGhzOnN9PXQsaT10aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmNyZWF0ZUV2ZW50KHtwcm9wZXJ0aWVzOnt0b3BpYzplLnRvU3RyaW5nKCksdHJhY2U6W3ouYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZF19fSk7dHJ5e3RoaXMuaXNJbml0aWFsaXplZCgpfWNhdGNoKG0pe3Rocm93IGkuc2V0RXJyb3Iob2Uubm9faW50ZXJuZXRfY29ubmVjdGlvbiksbX1jb25zdCByPXRoaXMuZ2V0UGVuZGluZ0F1dGhSZXF1ZXN0KGUpO2lmKCFyKXRocm93IGkuc2V0RXJyb3Iob2UuYXV0aGVudGljYXRlZF9zZXNzaW9uX3BlbmRpbmdfcmVxdWVzdF9ub3RfZm91bmQpLG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgcGVuZGluZyBhdXRoIHJlcXVlc3Qgd2l0aCBpZCAke2V9YCk7Y29uc3Qgbj1yLnRyYW5zcG9ydFR5cGV8fHEucmVsYXk7bj09PXEucmVsYXkmJmF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO2NvbnN0IGE9ci5yZXF1ZXN0ZXIucHVibGljS2V5LGw9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCkscD1PZShhKSxoPXt0eXBlOkNlLHJlY2VpdmVyUHVibGljS2V5OmEsc2VuZGVyUHVibGljS2V5Omx9LHU9W10sZD1bXTtmb3IoY29uc3QgbSBvZiBzKXtpZighYXdhaXQgSmUoe2NhY2FvOm0scHJvamVjdElkOnRoaXMuY2xpZW50LmNvcmUucHJvamVjdElkfSkpe2kuc2V0RXJyb3Iob2UuaW52YWxpZF9jYWNhbyk7Y29uc3QgST1EKFwiU0VTU0lPTl9TRVRUTEVNRU5UX0ZBSUxFRFwiLFwiU2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWRcIik7dGhyb3cgYXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmUsdG9waWM6cCxlcnJvcjpJLGVuY29kZU9wdHM6aH0pLG5ldyBFcnJvcihJLm1lc3NhZ2UpfWkuYWRkVHJhY2Uoei5jYWNhb3NfdmVyaWZpZWQpO2NvbnN0e3A6RX09bSxfPUFlKEUucmVzb3VyY2VzKSxiPVtYZShFLmlzcyldLFY9QmUoRS5pc3MpO2lmKF8pe2NvbnN0IEk9V2UoXyksVD1aZShfKTt1LnB1c2goLi4uSSksYi5wdXNoKC4uLlQpfWZvcihjb25zdCBJIG9mIGIpZC5wdXNoKGAke0l9OiR7Vn1gKX1jb25zdCB5PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGwsYSk7aS5hZGRUcmFjZSh6LmNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWMpO2xldCB3O2lmKHU/Lmxlbmd0aD4wKXt3PXt0b3BpYzp5LGFja25vd2xlZGdlZDohMCxzZWxmOntwdWJsaWNLZXk6bCxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0scGVlcjp7cHVibGljS2V5OmEsbWV0YWRhdGE6ci5yZXF1ZXN0ZXIubWV0YWRhdGF9LGNvbnRyb2xsZXI6YSxleHBpcnk6eChCKSxhdXRoZW50aWNhdGlvbjpzLHJlcXVpcmVkTmFtZXNwYWNlczp7fSxvcHRpb25hbE5hbWVzcGFjZXM6e30scmVsYXk6e3Byb3RvY29sOlwiaXJuXCJ9LHBhaXJpbmdUb3BpYzpyLnBhaXJpbmdUb3BpYyxuYW1lc3BhY2VzOmV0KFsuLi5uZXcgU2V0KHUpXSxbLi4ubmV3IFNldChkKV0pLHRyYW5zcG9ydFR5cGU6bn0saS5hZGRUcmFjZSh6LnN1YnNjcmliaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpYyk7dHJ5e2F3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUoeSx7dHJhbnNwb3J0VHlwZTpufSl9Y2F0Y2gobSl7dGhyb3cgaS5zZXRFcnJvcihvZS5zdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmUpLG19aS5hZGRUcmFjZSh6LnN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfc3VjY2VzcyksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQoeSx3KSxpLmFkZFRyYWNlKHouc3RvcmVfYXV0aGVudGljYXRlZF9zZXNzaW9uKSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoe3RvcGljOnIucGFpcmluZ1RvcGljLG1ldGFkYXRhOnIucmVxdWVzdGVyLm1ldGFkYXRhfSl9aS5hZGRUcmFjZSh6LnB1Ymxpc2hpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmUpO3RyeXthd2FpdCB0aGlzLnNlbmRSZXN1bHQoe3RvcGljOnAsaWQ6ZSxyZXN1bHQ6e2NhY2FvczpzLHJlc3BvbmRlcjp7cHVibGljS2V5OmwsbWV0YWRhdGE6dGhpcy5jbGllbnQubWV0YWRhdGF9fSxlbmNvZGVPcHRzOmgsdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITAsYXBwTGluazp0aGlzLmdldEFwcExpbmtJZkVuYWJsZWQoci5yZXF1ZXN0ZXIubWV0YWRhdGEsbil9KX1jYXRjaChtKXt0aHJvdyBpLnNldEVycm9yKG9lLmF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZSksbX1yZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUoZSx7bWVzc2FnZTpcImZ1bGZpbGxlZFwiLGNvZGU6MH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5hY3RpdmF0ZSh7dG9waWM6ci5wYWlyaW5nVG9waWN9KSx0aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmRlbGV0ZUV2ZW50KHtldmVudElkOmkuZXZlbnRJZH0pLHtzZXNzaW9uOnd9fSksYyh0aGlzLFwicmVqZWN0U2Vzc2lvbkF1dGhlbnRpY2F0ZVwiLGFzeW5jIHQ9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdHtpZDplLHJlYXNvbjpzfT10LGk9dGhpcy5nZXRQZW5kaW5nQXV0aFJlcXVlc3QoZSk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBwZW5kaW5nIGF1dGggcmVxdWVzdCB3aXRoIGlkICR7ZX1gKTtpLnRyYW5zcG9ydFR5cGU9PT1xLnJlbGF5JiZhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtjb25zdCByPWkucmVxdWVzdGVyLnB1YmxpY0tleSxuPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLGE9T2UociksbD17dHlwZTpDZSxyZWNlaXZlclB1YmxpY0tleTpyLHNlbmRlclB1YmxpY0tleTpufTthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6ZSx0b3BpYzphLGVycm9yOnMsZW5jb2RlT3B0czpsLHJwY09wdHM6UC53Y19zZXNzaW9uQXV0aGVudGljYXRlLnJlamVjdCxhcHBMaW5rOnRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChpLnJlcXVlc3Rlci5tZXRhZGF0YSxpLnRyYW5zcG9ydFR5cGUpfSksYXdhaXQgdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUoZSx7bWVzc2FnZTpcInJlamVjdGVkXCIsY29kZTowfSksYXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChlKX0pLGModGhpcyxcImZvcm1hdEF1dGhNZXNzYWdlXCIsdD0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0e3JlcXVlc3Q6ZSxpc3M6c309dDtyZXR1cm4gWHQoZSxzKX0pLGModGhpcyxcInByb2Nlc3NSZWxheU1lc3NhZ2VDYWNoZVwiLCgpPT57c2V0VGltZW91dChhc3luYygpPT57aWYodGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5sZW5ndGghPT0wKWZvcig7dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5sZW5ndGg+MDspdHJ5e2NvbnN0IHQ9dGhpcy5yZWxheU1lc3NhZ2VDYWNoZS5zaGlmdCgpO3QmJmF3YWl0IHRoaXMub25SZWxheU1lc3NhZ2UodCl9Y2F0Y2godCl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHQpfX0sNTApfSksYyh0aGlzLFwiY2xlYW51cER1cGxpY2F0ZVBhaXJpbmdzXCIsYXN5bmMgdD0+e2lmKHQucGFpcmluZ1RvcGljKXRyeXtjb25zdCBlPXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5nZXQodC5wYWlyaW5nVG9waWMpLHM9dGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldEFsbCgpLmZpbHRlcihpPT57dmFyIHIsbjtyZXR1cm4oKHI9aS5wZWVyTWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpyLnVybCkmJigobj1pLnBlZXJNZXRhZGF0YSk9PW51bGw/dm9pZCAwOm4udXJsKT09PXQucGVlci5tZXRhZGF0YS51cmwmJmkudG9waWMmJmkudG9waWMhPT1lLnRvcGljfSk7aWYocy5sZW5ndGg9PT0wKXJldHVybjt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgQ2xlYW5pbmcgdXAgJHtzLmxlbmd0aH0gZHVwbGljYXRlIHBhaXJpbmcocylgKSxhd2FpdCBQcm9taXNlLmFsbChzLm1hcChpPT50aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuZGlzY29ubmVjdCh7dG9waWM6aS50b3BpY30pKSksdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJEdXBsaWNhdGUgcGFpcmluZ3MgY2xlYW4gdXAgZmluaXNoZWRcIil9Y2F0Y2goZSl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGUpfX0pLGModGhpcyxcImRlbGV0ZVNlc3Npb25cIixhc3luYyB0PT57dmFyIGU7Y29uc3R7dG9waWM6cyxleHBpcmVySGFzRGVsZXRlZDppPSExLGVtaXRFdmVudDpyPSEwLGlkOm49MH09dCx7c2VsZjphfT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChzKTthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUocyksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5kZWxldGUocyxEKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHRoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQocyxcInNlc3Npb25cIiksdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKGEucHVibGljS2V5KSYmYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZGVsZXRlS2V5UGFpcihhLnB1YmxpY0tleSksdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKHMpJiZhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5kZWxldGVTeW1LZXkocyksaXx8dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLmRlbChzKSx0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UucmVtb3ZlSXRlbShMZSkuY2F0Y2gobD0+dGhpcy5jbGllbnQubG9nZ2VyLndhcm4obCkpLHRoaXMuZ2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0cygpLmZvckVhY2gobD0+e2wudG9waWM9PT1zJiZ0aGlzLmRlbGV0ZVBlbmRpbmdTZXNzaW9uUmVxdWVzdChsLmlkLEQoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSl9KSxzPT09KChlPXRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZVswXSk9PW51bGw/dm9pZCAwOmUudG9waWMpJiYodGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPU0uaWRsZSksciYmdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2RlbGV0ZVwiLHtpZDpuLHRvcGljOnN9KX0pLGModGhpcyxcImRlbGV0ZVByb3Bvc2FsXCIsYXN5bmModCxlKT0+e2lmKGUpdHJ5e2NvbnN0IHM9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KHQpLGk9dGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5nZXRFdmVudCh7dG9waWM6cy5wYWlyaW5nVG9waWN9KTtpPy5zZXRFcnJvcihuZS5wcm9wb3NhbF9leHBpcmVkKX1jYXRjaHt9YXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZSh0LEQoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksZT9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKHQpXSksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZCh0LFwicHJvcG9zYWxcIil9KSxjKHRoaXMsXCJkZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3RcIixhc3luYyh0LGUscz0hMSk9Pnthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3QuZGVsZXRlKHQsZSkscz9Qcm9taXNlLnJlc29sdmUoKTp0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKHQpXSksdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZCh0LFwicmVxdWVzdFwiKSx0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWU9dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlLmZpbHRlcihpPT5pLmlkIT09dCkscyYmKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT1NLmlkbGUsdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3RfZXhwaXJlXCIse2lkOnR9KSl9KSxjKHRoaXMsXCJkZWxldGVQZW5kaW5nQXV0aFJlcXVlc3RcIixhc3luYyh0LGUscz0hMSk9Pnthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUodCxlKSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwodCldKX0pLGModGhpcyxcInNldEV4cGlyeVwiLGFzeW5jKHQsZSk9Pnt0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXModCkmJih0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQsZSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodCx7ZXhwaXJ5OmV9KSl9KSxjKHRoaXMsXCJzZXRQcm9wb3NhbFwiLGFzeW5jKHQsZSk9Pnt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQseChQLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpKSxhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5zZXQodCxlKX0pLGModGhpcyxcInNldEF1dGhSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e3JlcXVlc3Q6cyxwYWlyaW5nVG9waWM6aSx0cmFuc3BvcnRUeXBlOnI9cS5yZWxheX09ZTt0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQscy5leHBpcnlUaW1lc3RhbXApLGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuc2V0KHQse2F1dGhQYXlsb2FkOnMuYXV0aFBheWxvYWQscmVxdWVzdGVyOnMucmVxdWVzdGVyLGV4cGlyeVRpbWVzdGFtcDpzLmV4cGlyeVRpbWVzdGFtcCxpZDp0LHBhaXJpbmdUb3BpYzppLHZlcmlmeUNvbnRleHQ6cy52ZXJpZnlDb250ZXh0LHRyYW5zcG9ydFR5cGU6cn0pfSksYyh0aGlzLFwic2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0XCIsYXN5bmMgdD0+e2NvbnN0e2lkOmUsdG9waWM6cyxwYXJhbXM6aSx2ZXJpZnlDb250ZXh0OnJ9PXQsbj1pLnJlcXVlc3QuZXhwaXJ5VGltZXN0YW1wfHx4KFAud2Nfc2Vzc2lvblJlcXVlc3QucmVxLnR0bCk7dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChlLG4pLGF3YWl0IHRoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LnNldChlLHtpZDplLHRvcGljOnMscGFyYW1zOmksdmVyaWZ5Q29udGV4dDpyfSl9KSxjKHRoaXMsXCJzZW5kUmVxdWVzdFwiLGFzeW5jIHQ9Pntjb25zdHt0b3BpYzplLG1ldGhvZDpzLHBhcmFtczppLGV4cGlyeTpyLHJlbGF5UnBjSWQ6bixjbGllbnRScGNJZDphLHRocm93T25GYWlsZWRQdWJsaXNoOmwsYXBwTGluazpwLHR2ZjpoLHB1Ymxpc2hPcHRzOnU9e319PXQsZD10ZShzLGksYSk7bGV0IHk7Y29uc3Qgdz0hIXA7dHJ5e2NvbnN0IF89dz9hZTpZO3k9YXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKGUsZCx7ZW5jb2Rpbmc6X30pfWNhdGNoKF8pe3Rocm93IGF3YWl0IHRoaXMuY2xlYW51cCgpLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlcXVlc3QoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHtlfSBmYWlsZWRgKSxffWxldCBtO2lmKG10LmluY2x1ZGVzKHMpKXtjb25zdCBfPVUoSlNPTi5zdHJpbmdpZnkoZCkpLGI9VSh5KTttPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUudmVyaWZ5LnJlZ2lzdGVyKHtpZDpiLGRlY3J5cHRlZElkOl99KX1jb25zdCBFPVIoUih7fSxQW3NdLnJlcSksdSk7aWYoRS5hdHRlc3RhdGlvbj1tLHImJihFLnR0bD1yKSxuJiYoRS5pZD1uKSx0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KGUsZCksdyl7Y29uc3QgXz1nZShwLGUseSk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChfLHRoaXMuY2xpZW50Lm5hbWUpfWVsc2UgRS50dmY9TyhSKHt9LGgpLHtjb3JyZWxhdGlvbklkOmQuaWR9KSxsPyhFLmludGVybmFsPU8oUih7fSxFLmludGVybmFsKSx7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChlLHksRSkpOnRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKGUseSxFKS5jYXRjaChfPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXykpO3JldHVybiBkLmlkfSksYyh0aGlzLFwic2VuZFByb3Bvc2VTZXNzaW9uXCIsYXN5bmMgdD0+e2NvbnN0e3Byb3Bvc2FsOmUscHVibGlzaE9wdHM6c309dCxpPXRlKFwid2Nfc2Vzc2lvblByb3Bvc2VcIixlLGUuaWQpO3RoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoZS5wYWlyaW5nVG9waWMsaSk7Y29uc3Qgcj1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUoZS5wYWlyaW5nVG9waWMsaSx7ZW5jb2Rpbmc6WX0pLG49VShKU09OLnN0cmluZ2lmeShpKSksYT1VKHIpLGw9YXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVnaXN0ZXIoe2lkOmEsZGVjcnlwdGVkSWQ6bn0pO2F3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoQ3VzdG9tKHtwYXlsb2FkOntwYWlyaW5nVG9waWM6ZS5wYWlyaW5nVG9waWMsc2Vzc2lvblByb3Bvc2FsOnJ9LG9wdHM6TyhSKHt9LHMpLHtwdWJsaXNoTWV0aG9kOlwid2NfcHJvcG9zZVNlc3Npb25cIixhdHRlc3RhdGlvbjpsfSl9KX0pLGModGhpcyxcInNlbmRBcHByb3ZlU2Vzc2lvblwiLGFzeW5jIHQ9Pntjb25zdHtzZXNzaW9uVG9waWM6ZSxwYWlyaW5nUHJvcG9zYWxSZXNwb25zZTpzLHByb3Bvc2FsOmksc2Vzc2lvblNldHRsZVJlcXVlc3Q6cixwdWJsaXNoT3B0czpufT10LGE9aHQoaS5pZCxzKSxsPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShpLnBhaXJpbmdUb3BpYyxhLHtlbmNvZGluZzpZfSkscD10ZShcIndjX3Nlc3Npb25TZXR0bGVcIixyLG4/LmlkKSxoPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShlLHAse2VuY29kaW5nOll9KTt0aGlzLmNsaWVudC5jb3JlLmhpc3Rvcnkuc2V0KGUscCksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2hDdXN0b20oe3BheWxvYWQ6e3Nlc3Npb25Ub3BpYzplLHBhaXJpbmdUb3BpYzppLnBhaXJpbmdUb3BpYyxzZXNzaW9uUHJvcG9zYWxSZXNwb25zZTpsLHNlc3Npb25TZXR0bGVtZW50UmVxdWVzdDpofSxvcHRzOk8oUih7fSxuKSx7cHVibGlzaE1ldGhvZDpcIndjX2FwcHJvdmVTZXNzaW9uXCJ9KX0pfSksYyh0aGlzLFwic2VuZFJlc3VsdFwiLGFzeW5jIHQ9Pntjb25zdHtpZDplLHRvcGljOnMscmVzdWx0OmksdGhyb3dPbkZhaWxlZFB1Ymxpc2g6cixlbmNvZGVPcHRzOm4sYXBwTGluazphfT10LGw9aHQoZSxpKTtsZXQgcDtjb25zdCBoPWEmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIjt0cnl7Y29uc3QgeT1oP2FlOlk7cD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUocyxsLE8oUih7fSxufHx7fSkse2VuY29kaW5nOnl9KSl9Y2F0Y2goeSl7dGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kUmVzdWx0KCkgLT4gY29yZS5jcnlwdG8uZW5jb2RlKCkgZm9yIHRvcGljICR7c30gZmFpbGVkYCkseX1sZXQgdSxkO3RyeXt1PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQocyxlKTtjb25zdCB5PXUucmVxdWVzdDt0cnl7ZD10aGlzLmdldFRWRlBhcmFtcyhlLHkucGFyYW1zLGkpfWNhdGNoKHcpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGBzZW5kUmVzdWx0KCkgLT4gZ2V0VFZGUGFyYW1zKCkgZmFpbGVkOiAke3c/Lm1lc3NhZ2V9YCl9fWNhdGNoKHkpe3Rocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlc3VsdCgpIC0+IGhpc3RvcnkuZ2V0KCR7c30sICR7ZX0pIGZhaWxlZGApLHl9aWYoaCl7Y29uc3QgeT1nZShhLHMscCk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTCh5LHRoaXMuY2xpZW50Lm5hbWUpfWVsc2V7Y29uc3QgeT11LnJlcXVlc3QubWV0aG9kLHc9UFt5XS5yZXM7dy50dmY9TyhSKHt9LGQpLHtjb3JyZWxhdGlvbklkOmV9KSxyPyh3LmludGVybmFsPU8oUih7fSx3LmludGVybmFsKSx7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6ITB9KSxhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChzLHAsdykpOnRoaXMuY2xpZW50LmNvcmUucmVsYXllci5wdWJsaXNoKHMscCx3KS5jYXRjaChtPT50aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IobSkpfWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGwpfSksYyh0aGlzLFwic2VuZEVycm9yXCIsYXN5bmMgdD0+e2NvbnN0e2lkOmUsdG9waWM6cyxlcnJvcjppLGVuY29kZU9wdHM6cixycGNPcHRzOm4sYXBwTGluazphfT10LGw9UnMoZSxpKTtsZXQgcDtjb25zdCBoPWEmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIjt0cnl7Y29uc3QgZD1oP2FlOlk7cD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUocyxsLE8oUih7fSxyfHx7fSkse2VuY29kaW5nOmR9KSl9Y2F0Y2goZCl7dGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kRXJyb3IoKSAtPiBjb3JlLmNyeXB0by5lbmNvZGUoKSBmb3IgdG9waWMgJHtzfSBmYWlsZWRgKSxkfWxldCB1O3RyeXt1PWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQocyxlKX1jYXRjaChkKXt0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRFcnJvcigpIC0+IGhpc3RvcnkuZ2V0KCR7c30sICR7ZX0pIGZhaWxlZGApLGR9aWYoaCl7Y29uc3QgZD1nZShhLHMscCk7YXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChkLHRoaXMuY2xpZW50Lm5hbWUpfWVsc2V7Y29uc3QgZD11LnJlcXVlc3QubWV0aG9kLHk9bnx8UFtkXS5yZXM7dGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxwLHkpfWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGwpfSksYyh0aGlzLFwiY2xlYW51cFwiLGFzeW5jKCk9Pntjb25zdCB0PVtdLGU9W107dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKS5mb3JFYWNoKHM9PntsZXQgaT0hMTtaKHMuZXhwaXJ5KSYmKGk9ITApLHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhzLnRvcGljKXx8KGk9ITApLGkmJnQucHVzaChzLnRvcGljKX0pLHRoaXMuY2xpZW50LnByb3Bvc2FsLmdldEFsbCgpLmZvckVhY2gocz0+e1oocy5leHBpcnlUaW1lc3RhbXApJiZlLnB1c2gocy5pZCl9KSxhd2FpdCBQcm9taXNlLmFsbChbLi4udC5tYXAocz0+dGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzpzfSkpLC4uLmUubWFwKHM9PnRoaXMuZGVsZXRlUHJvcG9zYWwocykpXSl9KSxjKHRoaXMsXCJvblByb3ZpZGVyTWVzc2FnZUV2ZW50XCIsYXN5bmMgdD0+eyF0aGlzLmluaXRpYWxpemVkfHx0aGlzLnJlbGF5TWVzc2FnZUNhY2hlLmxlbmd0aD4wP3RoaXMucmVsYXlNZXNzYWdlQ2FjaGUucHVzaCh0KTphd2FpdCB0aGlzLm9uUmVsYXlNZXNzYWdlKHQpfSksYyh0aGlzLFwib25SZWxheUV2ZW50UmVxdWVzdFwiLGFzeW5jIHQ9Pnt0aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5wdXNoKHQpLGF3YWl0IHRoaXMucHJvY2Vzc1JlcXVlc3RzUXVldWUoKX0pLGModGhpcyxcInByb2Nlc3NSZXF1ZXN0c1F1ZXVlXCIsYXN5bmMoKT0+e2lmKHRoaXMucmVxdWVzdFF1ZXVlLnN0YXRlPT09TS5hY3RpdmUpe3RoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwiUmVxdWVzdCBxdWV1ZSBhbHJlYWR5IGFjdGl2ZSwgc2tpcHBpbmcuLi5cIik7cmV0dXJufWZvcih0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgUmVxdWVzdCBxdWV1ZSBzdGFydGluZyB3aXRoICR7dGhpcy5yZXF1ZXN0UXVldWUucXVldWUubGVuZ3RofSByZXF1ZXN0c2ApO3RoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLmxlbmd0aD4wOyl7dGhpcy5yZXF1ZXN0UXVldWUuc3RhdGU9TS5hY3RpdmU7Y29uc3QgdD10aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5zaGlmdCgpO2lmKHQpdHJ5e2F3YWl0IHRoaXMucHJvY2Vzc1JlcXVlc3QodCl9Y2F0Y2goZSl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oZSl9fXRoaXMucmVxdWVzdFF1ZXVlLnN0YXRlPU0uaWRsZX0pLGModGhpcyxcInByb2Nlc3NSZXF1ZXN0XCIsYXN5bmMgdD0+e2NvbnN0e3RvcGljOmUscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksdHJhbnNwb3J0VHlwZTpyLGVuY3J5cHRlZElkOm59PXQsYT1zLm1ldGhvZDtpZighdGhpcy5zaG91bGRJZ25vcmVQYWlyaW5nUmVxdWVzdCh7dG9waWM6ZSxyZXF1ZXN0TWV0aG9kOmF9KSlzd2l0Y2goYSl7Y2FzZVwid2Nfc2Vzc2lvblByb3Bvc2VcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVxdWVzdCh7dG9waWM6ZSxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpufSk7Y2FzZVwid2Nfc2Vzc2lvblNldHRsZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uVXBkYXRlXCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uVXBkYXRlUmVxdWVzdChlLHMpO2Nhc2VcIndjX3Nlc3Npb25FeHRlbmRcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25FeHRlbmRSZXF1ZXN0KGUscyk7Y2FzZVwid2Nfc2Vzc2lvblBpbmdcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25QaW5nUmVxdWVzdChlLHMpO2Nhc2VcIndjX3Nlc3Npb25EZWxldGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25EZWxldGVSZXF1ZXN0KGUscyk7Y2FzZVwid2Nfc2Vzc2lvblJlcXVlc3RcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25SZXF1ZXN0KHt0b3BpYzplLHBheWxvYWQ6cyxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOm4sdHJhbnNwb3J0VHlwZTpyfSk7Y2FzZVwid2Nfc2Vzc2lvbkV2ZW50XCI6cmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uRXZlbnRSZXF1ZXN0KGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiOnJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlcXVlc3Qoe3RvcGljOmUscGF5bG9hZDpzLGF0dGVzdGF0aW9uOmksZW5jcnlwdGVkSWQ6bix0cmFuc3BvcnRUeXBlOnJ9KTtkZWZhdWx0OnJldHVybiB0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgVW5zdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2QgJHthfWApfX0pLGModGhpcyxcIm9uUmVsYXlFdmVudFJlc3BvbnNlXCIsYXN5bmMgdD0+e2NvbnN0e3RvcGljOmUscGF5bG9hZDpzLHRyYW5zcG9ydFR5cGU6aX09dCxyPShhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZ2V0KGUscy5pZCkpLnJlcXVlc3QubWV0aG9kO3N3aXRjaChyKXtjYXNlXCJ3Y19zZXNzaW9uUHJvcG9zZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZShlLHMsaSk7Y2FzZVwid2Nfc2Vzc2lvblNldHRsZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblNldHRsZVJlc3BvbnNlKGUscyk7Y2FzZVwid2Nfc2Vzc2lvblVwZGF0ZVwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblVwZGF0ZVJlc3BvbnNlKGUscyk7Y2FzZVwid2Nfc2Vzc2lvbkV4dGVuZFwiOnJldHVybiB0aGlzLm9uU2Vzc2lvbkV4dGVuZFJlc3BvbnNlKGUscyk7Y2FzZVwid2Nfc2Vzc2lvblBpbmdcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25QaW5nUmVzcG9uc2UoZSxzKTtjYXNlXCJ3Y19zZXNzaW9uUmVxdWVzdFwiOnJldHVybiB0aGlzLm9uU2Vzc2lvblJlcXVlc3RSZXNwb25zZShlLHMpO2Nhc2VcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIjpyZXR1cm4gdGhpcy5vblNlc3Npb25BdXRoZW50aWNhdGVSZXNwb25zZShlLHMpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBVbnN1cHBvcnRlZCByZXNwb25zZSBtZXRob2QgJHtyfWApfX0pLGModGhpcyxcIm9uUmVsYXlFdmVudFVua25vd25QYXlsb2FkXCIsdD0+e2NvbnN0e3RvcGljOmV9PXQse21lc3NhZ2U6c309ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBEZWNvZGVkIHBheWxvYWQgb24gdG9waWMgJHtlfSBpcyBub3QgaWRlbnRpZmlhYmxlIGFzIGEgSlNPTi1SUEMgcmVxdWVzdCBvciBhIHJlc3BvbnNlLmApO3Rocm93IG5ldyBFcnJvcihzKX0pLGModGhpcyxcInNob3VsZElnbm9yZVBhaXJpbmdSZXF1ZXN0XCIsdD0+e2NvbnN0e3RvcGljOmUscmVxdWVzdE1ldGhvZDpzfT10LGk9dGhpcy5leHBlY3RlZFBhaXJpbmdNZXRob2RNYXAuZ2V0KGUpO3JldHVybiFpfHxpLmluY2x1ZGVzKHMpPyExOiEhKGkuaW5jbHVkZXMoXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIpJiZ0aGlzLmNsaWVudC5ldmVudHMubGlzdGVuZXJDb3VudChcInNlc3Npb25fYXV0aGVudGljYXRlXCIpPjApfSksYyh0aGlzLFwib25TZXNzaW9uUHJvcG9zZVJlcXVlc3RcIixhc3luYyB0PT57Y29uc3R7dG9waWM6ZSxwYXlsb2FkOnMsYXR0ZXN0YXRpb246aSxlbmNyeXB0ZWRJZDpyfT10LHtwYXJhbXM6bixpZDphfT1zO3RyeXtjb25zdCBsPXRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuZ2V0RXZlbnQoe3RvcGljOmV9KTt0aGlzLmNsaWVudC5ldmVudHMubGlzdGVuZXJDb3VudChcInNlc3Npb25fcHJvcG9zYWxcIik9PT0wJiYoY29uc29sZS53YXJuKFwiTm8gbGlzdGVuZXIgZm9yIHNlc3Npb25fcHJvcG9zYWwgZXZlbnRcIiksbD8uc2V0RXJyb3IoYnQucHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kKSksdGhpcy5pc1ZhbGlkQ29ubmVjdChSKHt9LHMucGFyYW1zKSk7Y29uc3QgcD1uLmV4cGlyeVRpbWVzdGFtcHx8eChQLndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpLGg9Uih7aWQ6YSxwYWlyaW5nVG9waWM6ZSxleHBpcnlUaW1lc3RhbXA6cCxhdHRlc3RhdGlvbjppLGVuY3J5cHRlZElkOnJ9LG4pO2F3YWl0IHRoaXMuc2V0UHJvcG9zYWwoYSxoKTtjb25zdCB1PWF3YWl0IHRoaXMuZ2V0VmVyaWZ5Q29udGV4dCh7YXR0ZXN0YXRpb25JZDppLGhhc2g6VShKU09OLnN0cmluZ2lmeShzKSksZW5jcnlwdGVkSWQ6cixtZXRhZGF0YTpoLnByb3Bvc2VyLm1ldGFkYXRhfSk7bD8uYWRkVHJhY2UoQXQuZW1pdF9zZXNzaW9uX3Byb3Bvc2FsKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcHJvcG9zYWxcIix7aWQ6YSxwYXJhbXM6aCx2ZXJpZnlDb250ZXh0OnV9KX1jYXRjaChsKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6YSx0b3BpYzplLGVycm9yOmwscnBjT3B0czpQLndjX3Nlc3Npb25Qcm9wb3NlLmF1dG9SZWplY3R9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IobCl9fSksYyh0aGlzLFwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsYXN5bmModCxlLHMpPT57Y29uc3R7aWQ6aX09ZTtpZihGKGUpKXtjb25zdHtyZXN1bHQ6cn09ZTt0aGlzLmNsaWVudC5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIixyZXN1bHQ6cn0pO2NvbnN0IG49dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KGkpO3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHByb3Bvc2FsOm59KTtjb25zdCBhPW4ucHJvcG9zZXIucHVibGljS2V5O3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLHNlbGZQdWJsaWNLZXk6YX0pO2NvbnN0IGw9ci5yZXNwb25kZXJQdWJsaWNLZXk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIscGVlclB1YmxpY0tleTpsfSk7Y29uc3QgcD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShhLGwpO3RoaXMucGVuZGluZ1Nlc3Npb25zLnNldChpLHtzZXNzaW9uVG9waWM6cCxwYWlyaW5nVG9waWM6dCxwcm9wb3NhbElkOmkscHVibGljS2V5OmF9KTtjb25zdCBoPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUocCx7dHJhbnNwb3J0VHlwZTpzfSk7dGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsc3Vic2NyaXB0aW9uSWQ6aH0pLGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5hY3RpdmF0ZSh7dG9waWM6dH0pfWVsc2UgaWYoUShlKSl7YXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChpKTtjb25zdCByPXYoXCJzZXNzaW9uX2Nvbm5lY3RcIixpKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KHIpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7cn0gd2l0aG91dCBhbnkgbGlzdGVuZXJzLCA5NTRgKTt0aGlzLmV2ZW50cy5lbWl0KHIse2Vycm9yOmUuZXJyb3J9KX19KSxjKHRoaXMsXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e2lkOnMscGFyYW1zOml9PWU7dHJ5e3RoaXMuaXNWYWxpZFNlc3Npb25TZXR0bGVSZXF1ZXN0KGkpO2NvbnN0e3JlbGF5OnIsY29udHJvbGxlcjpuLGV4cGlyeTphLG5hbWVzcGFjZXM6bCxzZXNzaW9uUHJvcGVydGllczpwLHNjb3BlZFByb3BlcnRpZXM6aCxzZXNzaW9uQ29uZmlnOnV9PWUucGFyYW1zLGQ9Wy4uLnRoaXMucGVuZGluZ1Nlc3Npb25zLnZhbHVlcygpXS5maW5kKG09Pm0uc2Vzc2lvblRvcGljPT09dCk7aWYoIWQpcmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgUGVuZGluZyBzZXNzaW9uIG5vdCBmb3VuZCBmb3IgdG9waWMgJHt0fWApO2NvbnN0IHk9dGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KGQucHJvcG9zYWxJZCksdz1PKFIoUihSKHt0b3BpYzp0LHJlbGF5OnIsZXhwaXJ5OmEsbmFtZXNwYWNlczpsLGFja25vd2xlZGdlZDohMCxwYWlyaW5nVG9waWM6ZC5wYWlyaW5nVG9waWMscmVxdWlyZWROYW1lc3BhY2VzOnkucmVxdWlyZWROYW1lc3BhY2VzLG9wdGlvbmFsTmFtZXNwYWNlczp5Lm9wdGlvbmFsTmFtZXNwYWNlcyxjb250cm9sbGVyOm4ucHVibGljS2V5LHNlbGY6e3B1YmxpY0tleTpkLnB1YmxpY0tleSxtZXRhZGF0YTp0aGlzLmNsaWVudC5tZXRhZGF0YX0scGVlcjp7cHVibGljS2V5Om4ucHVibGljS2V5LG1ldGFkYXRhOm4ubWV0YWRhdGF9fSxwJiZ7c2Vzc2lvblByb3BlcnRpZXM6cH0pLGgmJntzY29wZWRQcm9wZXJ0aWVzOmh9KSx1JiZ7c2Vzc2lvbkNvbmZpZzp1fSkse3RyYW5zcG9ydFR5cGU6cS5yZWxheX0pO2F3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uc2V0KHcudG9waWMsdyksYXdhaXQgdGhpcy5zZXRFeHBpcnkody50b3BpYyx3LmV4cGlyeSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHt0b3BpYzpkLnBhaXJpbmdUb3BpYyxtZXRhZGF0YTp3LnBlZXIubWV0YWRhdGF9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fY29ubmVjdFwiLHtzZXNzaW9uOnd9KSx0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX2Nvbm5lY3RcIixkLnByb3Bvc2FsSWQpLHtzZXNzaW9uOnd9KSx0aGlzLnBlbmRpbmdTZXNzaW9ucy5kZWxldGUoZC5wcm9wb3NhbElkKSx0aGlzLmRlbGV0ZVByb3Bvc2FsKGQucHJvcG9zYWxJZCwhMSksdGhpcy5jbGVhbnVwRHVwbGljYXRlUGFpcmluZ3ModyksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDplLmlkLHRvcGljOnQscmVzdWx0OiEwfSl9Y2F0Y2gocil7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnMsdG9waWM6dCxlcnJvcjpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHIpfX0pLGModGhpcyxcIm9uU2Vzc2lvblNldHRsZVJlc3BvbnNlXCIsYXN5bmModCxlKT0+e2NvbnN0e2lkOnN9PWU7RihlKT8oYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodCx7YWNrbm93bGVkZ2VkOiEwfSksdGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9hcHByb3ZlXCIscykse30pKTpRKGUpJiYoYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5kZWxldGUodCxEKFwiVVNFUl9ESVNDT05ORUNURURcIikpLHRoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fYXBwcm92ZVwiLHMpLHtlcnJvcjplLmVycm9yfSkpfSksYyh0aGlzLFwib25TZXNzaW9uVXBkYXRlUmVxdWVzdFwiLGFzeW5jKHQsZSk9Pntjb25zdHtwYXJhbXM6cyxpZDppfT1lO3RyeXtjb25zdCByPWAke3R9X3Nlc3Npb25fdXBkYXRlYCxuPWNlLmdldChyKTtpZihuJiZ0aGlzLmlzUmVxdWVzdE91dE9mU3luYyhuLGkpKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihgRGlzY2FyZGluZyBvdXQgb2Ygc3luYyByZXF1ZXN0IC0gJHtpfWApLHRoaXMuc2VuZEVycm9yKHtpZDppLHRvcGljOnQsZXJyb3I6RChcIklOVkFMSURfVVBEQVRFX1JFUVVFU1RcIil9KTtyZXR1cm59dGhpcy5pc1ZhbGlkVXBkYXRlKFIoe3RvcGljOnR9LHMpKTt0cnl7Y2Uuc2V0KHIsaSksYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodCx7bmFtZXNwYWNlczpzLm5hbWVzcGFjZXN9KSxhd2FpdCB0aGlzLnNlbmRSZXN1bHQoe2lkOmksdG9waWM6dCxyZXN1bHQ6ITB9KX1jYXRjaChhKXt0aHJvdyBjZS5kZWxldGUociksYX10aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fdXBkYXRlXCIse2lkOmksdG9waWM6dCxwYXJhbXM6c30pfWNhdGNoKHIpe2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDppLHRvcGljOnQsZXJyb3I6cn0pLHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihyKX19KSxjKHRoaXMsXCJpc1JlcXVlc3RPdXRPZlN5bmNcIiwodCxlKT0+ZS50b1N0cmluZygpLnNsaWNlKDAsLTMpPHQudG9TdHJpbmcoKS5zbGljZSgwLC0zKSksYyh0aGlzLFwib25TZXNzaW9uVXBkYXRlUmVzcG9uc2VcIiwodCxlKT0+e2NvbnN0e2lkOnN9PWUsaT12KFwic2Vzc2lvbl91cGRhdGVcIixzKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7RihlKT90aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3VwZGF0ZVwiLHMpLHt9KTpRKGUpJiZ0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3VwZGF0ZVwiLHMpLHtlcnJvcjplLmVycm9yfSl9KSxjKHRoaXMsXCJvblNlc3Npb25FeHRlbmRSZXF1ZXN0XCIsYXN5bmModCxlKT0+e2NvbnN0e2lkOnN9PWU7dHJ5e3RoaXMuaXNWYWxpZEV4dGVuZCh7dG9waWM6dH0pLGF3YWl0IHRoaXMuc2V0RXhwaXJ5KHQseChCKSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDpzLHRvcGljOnQscmVzdWx0OiEwfSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX2V4dGVuZFwiLHtpZDpzLHRvcGljOnR9KX1jYXRjaChpKXthd2FpdCB0aGlzLnNlbmRFcnJvcih7aWQ6cyx0b3BpYzp0LGVycm9yOml9KSx0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoaSl9fSksYyh0aGlzLFwib25TZXNzaW9uRXh0ZW5kUmVzcG9uc2VcIiwodCxlKT0+e2NvbnN0e2lkOnN9PWUsaT12KFwic2Vzc2lvbl9leHRlbmRcIixzKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7RihlKT90aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX2V4dGVuZFwiLHMpLHt9KTpRKGUpJiZ0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX2V4dGVuZFwiLHMpLHtlcnJvcjplLmVycm9yfSl9KSxjKHRoaXMsXCJvblNlc3Npb25QaW5nUmVxdWVzdFwiLGFzeW5jKHQsZSk9Pntjb25zdHtpZDpzfT1lO3RyeXt0aGlzLmlzVmFsaWRQaW5nKHt0b3BpYzp0fSksYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHtpZDpzLHRvcGljOnQscmVzdWx0OiEwLHRocm93T25GYWlsZWRQdWJsaXNoOiEwfSksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3BpbmdcIix7aWQ6cyx0b3BpYzp0fSl9Y2F0Y2goaSl7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnMsdG9waWM6dCxlcnJvcjppfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpfX0pLGModGhpcyxcIm9uU2Vzc2lvblBpbmdSZXNwb25zZVwiLCh0LGUpPT57Y29uc3R7aWQ6c309ZSxpPXYoXCJzZXNzaW9uX3BpbmdcIixzKTtzZXRUaW1lb3V0KCgpPT57aWYodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChpKT09PTApdGhyb3cgbmV3IEVycm9yKGBlbWl0dGluZyAke2l9IHdpdGhvdXQgYW55IGxpc3RlbmVycyAyMTc2YCk7RihlKT90aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3BpbmdcIixzKSx7fSk6UShlKSYmdGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9waW5nXCIscykse2Vycm9yOmUuZXJyb3J9KX0sNTAwKX0pLGModGhpcyxcIm9uU2Vzc2lvbkRlbGV0ZVJlcXVlc3RcIixhc3luYyh0LGUpPT57Y29uc3R7aWQ6c309ZTt0cnl7dGhpcy5pc1ZhbGlkRGlzY29ubmVjdCh7dG9waWM6dCxyZWFzb246ZS5wYXJhbXN9KSxhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UoaT0+e3RoaXMuY2xpZW50LmNvcmUucmVsYXllci5vbmNlKHplLnB1Ymxpc2gsYXN5bmMoKT0+e2koYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHt0b3BpYzp0LGlkOnN9KSl9KX0pLHRoaXMuc2VuZFJlc3VsdCh7aWQ6cyx0b3BpYzp0LHJlc3VsdDohMH0pLHRoaXMuY2xlYW51cFBlbmRpbmdTZW50UmVxdWVzdHNGb3JUb3BpYyh7dG9waWM6dCxlcnJvcjpEKFwiVVNFUl9ESVNDT05ORUNURURcIil9KV0pLmNhdGNoKGk9PnRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpKSl9Y2F0Y2goaSl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpfX0pLGModGhpcyxcIm9uU2Vzc2lvblJlcXVlc3RcIixhc3luYyB0PT57dmFyIGUscyxpO2NvbnN0e3RvcGljOnIscGF5bG9hZDpuLGF0dGVzdGF0aW9uOmEsZW5jcnlwdGVkSWQ6bCx0cmFuc3BvcnRUeXBlOnB9PXQse2lkOmgscGFyYW1zOnV9PW47dHJ5e2F3YWl0IHRoaXMuaXNWYWxpZFJlcXVlc3QoUih7dG9waWM6cn0sdSkpO2NvbnN0IGQ9dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQocikseT1hd2FpdCB0aGlzLmdldFZlcmlmeUNvbnRleHQoe2F0dGVzdGF0aW9uSWQ6YSxoYXNoOlUoSlNPTi5zdHJpbmdpZnkodGUoXCJ3Y19zZXNzaW9uUmVxdWVzdFwiLHUsaCkpKSxlbmNyeXB0ZWRJZDpsLG1ldGFkYXRhOmQucGVlci5tZXRhZGF0YSx0cmFuc3BvcnRUeXBlOnB9KSx3PXtpZDpoLHRvcGljOnIscGFyYW1zOnUsdmVyaWZ5Q29udGV4dDp5fTthd2FpdCB0aGlzLnNldFBlbmRpbmdTZXNzaW9uUmVxdWVzdCh3KSxwPT09cS5saW5rX21vZGUmJihlPWQucGVlci5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJmUudW5pdmVyc2FsJiZ0aGlzLmNsaWVudC5jb3JlLmFkZExpbmtNb2RlU3VwcG9ydGVkQXBwKChzPWQucGVlci5tZXRhZGF0YS5yZWRpcmVjdCk9PW51bGw/dm9pZCAwOnMudW5pdmVyc2FsKSwoaT10aGlzLmNsaWVudC5zaWduQ29uZmlnKSE9bnVsbCYmaS5kaXNhYmxlUmVxdWVzdFF1ZXVlP3RoaXMuZW1pdFNlc3Npb25SZXF1ZXN0KHcpOih0aGlzLmFkZFNlc3Npb25SZXF1ZXN0VG9TZXNzaW9uUmVxdWVzdFF1ZXVlKHcpLHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKSl9Y2F0Y2goZCl7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOmgsdG9waWM6cixlcnJvcjpkfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGQpfX0pLGModGhpcyxcIm9uU2Vzc2lvblJlcXVlc3RSZXNwb25zZVwiLCh0LGUpPT57Y29uc3R7aWQ6c309ZSxpPXYoXCJzZXNzaW9uX3JlcXVlc3RcIixzKTtpZih0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KGkpPT09MCl0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7aX0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7RihlKT90aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7cmVzdWx0OmUucmVzdWx0fSk6UShlKSYmdGhpcy5ldmVudHMuZW1pdCh2KFwic2Vzc2lvbl9yZXF1ZXN0XCIscykse2Vycm9yOmUuZXJyb3J9KX0pLGModGhpcyxcIm9uU2Vzc2lvbkV2ZW50UmVxdWVzdFwiLGFzeW5jKHQsZSk9Pntjb25zdHtpZDpzLHBhcmFtczppfT1lO3RyeXtjb25zdCByPWAke3R9X3Nlc3Npb25fZXZlbnRfJHtpLmV2ZW50Lm5hbWV9YCxuPWNlLmdldChyKTtpZihuJiZ0aGlzLmlzUmVxdWVzdE91dE9mU3luYyhuLHMpKXt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgRGlzY2FyZGluZyBvdXQgb2Ygc3luYyByZXF1ZXN0IC0gJHtzfWApO3JldHVybn10aGlzLmlzVmFsaWRFbWl0KFIoe3RvcGljOnR9LGkpKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXZlbnRcIix7aWQ6cyx0b3BpYzp0LHBhcmFtczppfSksY2Uuc2V0KHIscyl9Y2F0Y2gocil7YXdhaXQgdGhpcy5zZW5kRXJyb3Ioe2lkOnMsdG9waWM6dCxlcnJvcjpyfSksdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHIpfX0pLGModGhpcyxcIm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlc3BvbnNlXCIsKHQsZSk9Pntjb25zdHtpZDpzfT1lO3RoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcIm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlc3BvbnNlXCIsdG9waWM6dCxwYXlsb2FkOmV9KSxGKGUpP3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcmVxdWVzdFwiLHMpLHtyZXN1bHQ6ZS5yZXN1bHR9KTpRKGUpJiZ0aGlzLmV2ZW50cy5lbWl0KHYoXCJzZXNzaW9uX3JlcXVlc3RcIixzKSx7ZXJyb3I6ZS5lcnJvcn0pfSksYyh0aGlzLFwib25TZXNzaW9uQXV0aGVudGljYXRlUmVxdWVzdFwiLGFzeW5jIHQ9Pnt2YXIgZTtjb25zdHt0b3BpYzpzLHBheWxvYWQ6aSxhdHRlc3RhdGlvbjpyLGVuY3J5cHRlZElkOm4sdHJhbnNwb3J0VHlwZTphfT10O3RyeXtjb25zdHtyZXF1ZXN0ZXI6bCxhdXRoUGF5bG9hZDpwLGV4cGlyeVRpbWVzdGFtcDpofT1pLnBhcmFtcyx1PWF3YWl0IHRoaXMuZ2V0VmVyaWZ5Q29udGV4dCh7YXR0ZXN0YXRpb25JZDpyLGhhc2g6VShKU09OLnN0cmluZ2lmeShpKSksZW5jcnlwdGVkSWQ6bixtZXRhZGF0YTpsLm1ldGFkYXRhLHRyYW5zcG9ydFR5cGU6YX0pLGQ9e3JlcXVlc3RlcjpsLHBhaXJpbmdUb3BpYzpzLGlkOmkuaWQsYXV0aFBheWxvYWQ6cCx2ZXJpZnlDb250ZXh0OnUsZXhwaXJ5VGltZXN0YW1wOmh9O2F3YWl0IHRoaXMuc2V0QXV0aFJlcXVlc3QoaS5pZCx7cmVxdWVzdDpkLHBhaXJpbmdUb3BpYzpzLHRyYW5zcG9ydFR5cGU6YX0pLGE9PT1xLmxpbmtfbW9kZSYmKGU9bC5tZXRhZGF0YS5yZWRpcmVjdCkhPW51bGwmJmUudW5pdmVyc2FsJiZ0aGlzLmNsaWVudC5jb3JlLmFkZExpbmtNb2RlU3VwcG9ydGVkQXBwKGwubWV0YWRhdGEucmVkaXJlY3QudW5pdmVyc2FsKSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fYXV0aGVudGljYXRlXCIse3RvcGljOnMscGFyYW1zOmkucGFyYW1zLGlkOmkuaWQsdmVyaWZ5Q29udGV4dDp1fSl9Y2F0Y2gobCl7dGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGwpO2NvbnN0IHA9aS5wYXJhbXMucmVxdWVzdGVyLnB1YmxpY0tleSxoPWF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLHU9dGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKGkucGFyYW1zLnJlcXVlc3Rlci5tZXRhZGF0YSxhKSxkPXt0eXBlOkNlLHJlY2VpdmVyUHVibGljS2V5OnAsc2VuZGVyUHVibGljS2V5Omh9O2F3YWl0IHRoaXMuc2VuZEVycm9yKHtpZDppLmlkLHRvcGljOnMsZXJyb3I6bCxlbmNvZGVPcHRzOmQscnBjT3B0czpQLndjX3Nlc3Npb25BdXRoZW50aWNhdGUuYXV0b1JlamVjdCxhcHBMaW5rOnV9KX19KSxjKHRoaXMsXCJhZGRTZXNzaW9uUmVxdWVzdFRvU2Vzc2lvblJlcXVlc3RRdWV1ZVwiLHQ9Pnt0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUucXVldWUucHVzaCh0KX0pLGModGhpcyxcImNsZWFudXBBZnRlclJlc3BvbnNlXCIsdD0+e3RoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0KHQucmVzcG9uc2UuaWQse21lc3NhZ2U6XCJmdWxmaWxsZWRcIixjb2RlOjB9KSxzZXRUaW1lb3V0KCgpPT57dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPU0uaWRsZSx0aGlzLnByb2Nlc3NTZXNzaW9uUmVxdWVzdFF1ZXVlKCl9LHB0KHRoaXMucmVxdWVzdFF1ZXVlRGVsYXkpKX0pLGModGhpcyxcImNsZWFudXBQZW5kaW5nU2VudFJlcXVlc3RzRm9yVG9waWNcIiwoe3RvcGljOnQsZXJyb3I6ZX0pPT57Y29uc3Qgcz10aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucGVuZGluZztzLmxlbmd0aD4wJiZzLmZpbHRlcihpPT5pLnRvcGljPT09dCYmaS5yZXF1ZXN0Lm1ldGhvZD09PVwid2Nfc2Vzc2lvblJlcXVlc3RcIikuZm9yRWFjaChpPT57Y29uc3Qgcj1pLnJlcXVlc3QuaWQsbj12KFwic2Vzc2lvbl9yZXF1ZXN0XCIscik7aWYodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChuKT09PTApdGhyb3cgbmV3IEVycm9yKGBlbWl0dGluZyAke259IHdpdGhvdXQgYW55IGxpc3RlbmVyc2ApO3RoaXMuZXZlbnRzLmVtaXQodihcInNlc3Npb25fcmVxdWVzdFwiLGkucmVxdWVzdC5pZCkse2Vycm9yOmV9KX0pfSksYyh0aGlzLFwicHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWVcIiwoKT0+e2lmKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZT09PU0uYWN0aXZlKXt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhcInNlc3Npb24gcmVxdWVzdCBxdWV1ZSBpcyBhbHJlYWR5IGFjdGl2ZS5cIik7cmV0dXJufWNvbnN0IHQ9dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlWzBdO2lmKCF0KXt0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhcInNlc3Npb24gcmVxdWVzdCBxdWV1ZSBpcyBlbXB0eS5cIik7cmV0dXJufXRyeXt0aGlzLmVtaXRTZXNzaW9uUmVxdWVzdCh0KX1jYXRjaChlKXt0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZSl9fSksYyh0aGlzLFwiZW1pdFNlc3Npb25SZXF1ZXN0XCIsdD0+e2lmKHRoaXMuZW1pdHRlZFNlc3Npb25SZXF1ZXN0cy5oYXModC5pZCkpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKHtpZDp0LmlkfSxgU2tpcHBpbmcgZW1pdHRpbmcgXFxgc2Vzc2lvbl9yZXF1ZXN0XFxgIGV2ZW50IGZvciBkdXBsaWNhdGUgcmVxdWVzdC4gaWQ6ICR7dC5pZH1gKTtyZXR1cm59dGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlPU0uYWN0aXZlLHRoaXMuZW1pdHRlZFNlc3Npb25SZXF1ZXN0cy5hZGQodC5pZCksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3JlcXVlc3RcIix0KX0pLGModGhpcyxcIm9uUGFpcmluZ0NyZWF0ZWRcIix0PT57aWYodC5tZXRob2RzJiZ0aGlzLmV4cGVjdGVkUGFpcmluZ01ldGhvZE1hcC5zZXQodC50b3BpYyx0Lm1ldGhvZHMpLHQuYWN0aXZlKXJldHVybjtjb25zdCBlPXRoaXMuY2xpZW50LnByb3Bvc2FsLmdldEFsbCgpLmZpbmQocz0+cy5wYWlyaW5nVG9waWM9PT10LnRvcGljKTtlJiZ0aGlzLm9uU2Vzc2lvblByb3Bvc2VSZXF1ZXN0KHt0b3BpYzp0LnRvcGljLHBheWxvYWQ6dGUoXCJ3Y19zZXNzaW9uUHJvcG9zZVwiLE8oUih7fSxlKSx7cmVxdWlyZWROYW1lc3BhY2VzOmUucmVxdWlyZWROYW1lc3BhY2VzLG9wdGlvbmFsTmFtZXNwYWNlczplLm9wdGlvbmFsTmFtZXNwYWNlcyxyZWxheXM6ZS5yZWxheXMscHJvcG9zZXI6ZS5wcm9wb3NlcixzZXNzaW9uUHJvcGVydGllczplLnNlc3Npb25Qcm9wZXJ0aWVzLHNjb3BlZFByb3BlcnRpZXM6ZS5zY29wZWRQcm9wZXJ0aWVzfSksZS5pZCksYXR0ZXN0YXRpb246ZS5hdHRlc3RhdGlvbixlbmNyeXB0ZWRJZDplLmVuY3J5cHRlZElkfSl9KSxjKHRoaXMsXCJpc1ZhbGlkQ29ubmVjdFwiLGFzeW5jIHQ9PntpZighTCh0KSl7Y29uc3R7bWVzc2FnZTpsfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGNvbm5lY3QoKSBwYXJhbXM6ICR7SlNPTi5zdHJpbmdpZnkodCl9YCk7dGhyb3cgbmV3IEVycm9yKGwpfWNvbnN0e3BhaXJpbmdUb3BpYzplLHJlcXVpcmVkTmFtZXNwYWNlczpzLG9wdGlvbmFsTmFtZXNwYWNlczppLHNlc3Npb25Qcm9wZXJ0aWVzOnIsc2NvcGVkUHJvcGVydGllczpuLHJlbGF5czphfT10O2lmKFgoZSl8fGF3YWl0IHRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyhlKSwhQnQoYSwhMCkpe2NvbnN0e21lc3NhZ2U6bH09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBjb25uZWN0KCkgcmVsYXlzOiAke2F9YCk7dGhyb3cgbmV3IEVycm9yKGwpfWlmKCFYKHMpJiZ0dChzKSE9PTApe2NvbnN0IGw9XCJyZXF1aXJlZE5hbWVzcGFjZXMgYXJlIGRlcHJlY2F0ZWQgYW5kIGFyZSBhdXRvbWF0aWNhbGx5IGFzc2lnbmVkIHRvIG9wdGlvbmFsTmFtZXNwYWNlc1wiO1tcImZhdGFsXCIsXCJlcnJvclwiLFwic2lsZW50XCJdLmluY2x1ZGVzKHRoaXMuY2xpZW50LmxvZ2dlci5sZXZlbCk/Y29uc29sZS53YXJuKGwpOnRoaXMuY2xpZW50LmxvZ2dlci53YXJuKGwpLHRoaXMudmFsaWRhdGVOYW1lc3BhY2VzKHMsXCJyZXF1aXJlZE5hbWVzcGFjZXNcIil9aWYoIVgoaSkmJnR0KGkpIT09MCYmdGhpcy52YWxpZGF0ZU5hbWVzcGFjZXMoaSxcIm9wdGlvbmFsTmFtZXNwYWNlc1wiKSxYKHIpfHx0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKHIsXCJzZXNzaW9uUHJvcGVydGllc1wiKSwhWChuKSl7dGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhuLFwic2NvcGVkUHJvcGVydGllc1wiKTtjb25zdCBsPU9iamVjdC5rZXlzKHN8fHt9KS5jb25jYXQoT2JqZWN0LmtleXMoaXx8e30pKTtpZighT2JqZWN0LmtleXMobikuZXZlcnkocD0+bC5pbmNsdWRlcyhwLnNwbGl0KFwiOlwiKVswXSkpKXRocm93IG5ldyBFcnJvcihgU2NvcGVkIHByb3BlcnRpZXMgbXVzdCBiZSBhIHN1YnNldCBvZiByZXF1aXJlZC9vcHRpb25hbCBuYW1lc3BhY2VzLCByZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShuKX0sIHJlcXVpcmVkL29wdGlvbmFsIG5hbWVzcGFjZXM6ICR7SlNPTi5zdHJpbmdpZnkobCl9YCl9fSksYyh0aGlzLFwidmFsaWRhdGVOYW1lc3BhY2VzXCIsKHQsZSk9Pntjb25zdCBzPVd0KHQsXCJjb25uZWN0KClcIixlKTtpZihzKXRocm93IG5ldyBFcnJvcihzLm1lc3NhZ2UpfSksYyh0aGlzLFwiaXNWYWxpZEFwcHJvdmVcIixhc3luYyB0PT57aWYoIUwodCkpdGhyb3cgbmV3IEVycm9yKGcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgYXBwcm92ZSgpIHBhcmFtczogJHt0fWApLm1lc3NhZ2UpO2NvbnN0e2lkOmUsbmFtZXNwYWNlczpzLHJlbGF5UHJvdG9jb2w6aSxzZXNzaW9uUHJvcGVydGllczpyLHNjb3BlZFByb3BlcnRpZXM6bn09dDt0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGUpLGF3YWl0IHRoaXMuaXNWYWxpZFByb3Bvc2FsSWQoZSk7Y29uc3QgYT10aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoZSksbD14ZShzLFwiYXBwcm92ZSgpXCIpO2lmKGwpdGhyb3cgbmV3IEVycm9yKGwubWVzc2FnZSk7Y29uc3QgcD1zdChhLnJlcXVpcmVkTmFtZXNwYWNlcyxzLFwiYXBwcm92ZSgpXCIpO2lmKHApdGhyb3cgbmV3IEVycm9yKHAubWVzc2FnZSk7aWYoIUooaSwhMCkpe2NvbnN0e21lc3NhZ2U6aH09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBhcHByb3ZlKCkgcmVsYXlQcm90b2NvbDogJHtpfWApO3Rocm93IG5ldyBFcnJvcihoKX1pZihYKHIpfHx0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKHIsXCJzZXNzaW9uUHJvcGVydGllc1wiKSwhWChuKSl7dGhpcy52YWxpZGF0ZVNlc3Npb25Qcm9wcyhuLFwic2NvcGVkUHJvcGVydGllc1wiKTtjb25zdCBoPW5ldyBTZXQoT2JqZWN0LmtleXMocykpO2lmKCFPYmplY3Qua2V5cyhuKS5ldmVyeSh1PT5oLmhhcyh1LnNwbGl0KFwiOlwiKVswXSkpKXRocm93IG5ldyBFcnJvcihgU2NvcGVkIHByb3BlcnRpZXMgbXVzdCBiZSBhIHN1YnNldCBvZiBhcHByb3ZlZCBuYW1lc3BhY2VzLCByZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShuKX0sIGFwcHJvdmVkIG5hbWVzcGFjZXM6ICR7QXJyYXkuZnJvbShoKS5qb2luKFwiLCBcIil9YCl9fSksYyh0aGlzLFwiaXNWYWxpZFJlamVjdFwiLGFzeW5jIHQ9PntpZighTCh0KSl7Y29uc3R7bWVzc2FnZTppfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlamVjdCgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihpKX1jb25zdHtpZDplLHJlYXNvbjpzfT10O2lmKHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQoZSksYXdhaXQgdGhpcy5pc1ZhbGlkUHJvcG9zYWxJZChlKSwhWnQocykpe2NvbnN0e21lc3NhZ2U6aX09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZWplY3QoKSByZWFzb246ICR7SlNPTi5zdHJpbmdpZnkocyl9YCk7dGhyb3cgbmV3IEVycm9yKGkpfX0pLGModGhpcyxcImlzVmFsaWRTZXNzaW9uU2V0dGxlUmVxdWVzdFwiLHQ9PntpZighTCh0KSl7Y29uc3R7bWVzc2FnZTpsfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYG9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3IobCl9Y29uc3R7cmVsYXk6ZSxjb250cm9sbGVyOnMsbmFtZXNwYWNlczppLGV4cGlyeTpyfT10O2lmKCFlcyhlKSl7Y29uc3R7bWVzc2FnZTpsfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0KCkgcmVsYXkgcHJvdG9jb2wgc2hvdWxkIGJlIGEgc3RyaW5nXCIpO3Rocm93IG5ldyBFcnJvcihsKX1jb25zdCBuPXRzKHMsXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0KClcIik7aWYobil0aHJvdyBuZXcgRXJyb3Iobi5tZXNzYWdlKTtjb25zdCBhPXhlKGksXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0KClcIik7aWYoYSl0aHJvdyBuZXcgRXJyb3IoYS5tZXNzYWdlKTtpZihaKHIpKXtjb25zdHttZXNzYWdlOmx9PWcoXCJFWFBJUkVEXCIsXCJvblNlc3Npb25TZXR0bGVSZXF1ZXN0KClcIik7dGhyb3cgbmV3IEVycm9yKGwpfX0pLGModGhpcyxcImlzVmFsaWRVcGRhdGVcIixhc3luYyB0PT57aWYoIUwodCkpe2NvbnN0e21lc3NhZ2U6YX09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGB1cGRhdGUoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9Y29uc3R7dG9waWM6ZSxuYW1lc3BhY2VzOnN9PXQ7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChlKSxhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMoZSk7Y29uc3QgaT10aGlzLmNsaWVudC5zZXNzaW9uLmdldChlKSxyPXhlKHMsXCJ1cGRhdGUoKVwiKTtpZihyKXRocm93IG5ldyBFcnJvcihyLm1lc3NhZ2UpO2NvbnN0IG49c3QoaS5yZXF1aXJlZE5hbWVzcGFjZXMscyxcInVwZGF0ZSgpXCIpO2lmKG4pdGhyb3cgbmV3IEVycm9yKG4ubWVzc2FnZSl9KSxjKHRoaXMsXCJpc1ZhbGlkRXh0ZW5kXCIsYXN5bmMgdD0+e2lmKCFMKHQpKXtjb25zdHttZXNzYWdlOnN9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZXh0ZW5kKCkgcGFyYW1zOiAke3R9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWNvbnN0e3RvcGljOmV9PXQ7dGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChlKSxhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMoZSl9KSxjKHRoaXMsXCJpc1ZhbGlkUmVxdWVzdFwiLGFzeW5jIHQ9PntpZighTCh0KSl7Y29uc3R7bWVzc2FnZTphfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlcXVlc3QoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9Y29uc3R7dG9waWM6ZSxyZXF1ZXN0OnMsY2hhaW5JZDppLGV4cGlyeTpyfT10O3RoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQoZSksYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKGUpO2NvbnN0e25hbWVzcGFjZXM6bn09dGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZSk7aWYoIWl0KG4saSkpe2NvbnN0e21lc3NhZ2U6YX09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgY2hhaW5JZDogJHtpfWApO3Rocm93IG5ldyBFcnJvcihhKX1pZighc3Mocykpe2NvbnN0e21lc3NhZ2U6YX09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgJHtKU09OLnN0cmluZ2lmeShzKX1gKTt0aHJvdyBuZXcgRXJyb3IoYSl9aWYoIWlzKG4saSxzLm1ldGhvZCkpe2NvbnN0e21lc3NhZ2U6YX09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgbWV0aG9kOiAke3MubWV0aG9kfWApO3Rocm93IG5ldyBFcnJvcihhKX1pZihyJiYhcnMocixfZSkpe2NvbnN0e21lc3NhZ2U6YX09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXF1ZXN0KCkgZXhwaXJ5OiAke3J9LiBFeHBpcnkgbXVzdCBiZSBhIG51bWJlciAoaW4gc2Vjb25kcykgYmV0d2VlbiAke19lLm1pbn0gYW5kICR7X2UubWF4fWApO3Rocm93IG5ldyBFcnJvcihhKX19KSxjKHRoaXMsXCJpc1ZhbGlkUmVzcG9uZFwiLGFzeW5jIHQ9Pnt2YXIgZTtpZighTCh0KSl7Y29uc3R7bWVzc2FnZTpyfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHJlc3BvbmQoKSBwYXJhbXM6ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iocil9Y29uc3R7dG9waWM6cyxyZXNwb25zZTppfT10O3RyeXthd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMocyl9Y2F0Y2gocil7dGhyb3coZT10Py5yZXNwb25zZSkhPW51bGwmJmUuaWQmJnRoaXMuY2xlYW51cEFmdGVyUmVzcG9uc2UodCkscn1pZighbnMoaSkpe2NvbnN0e21lc3NhZ2U6cn09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGByZXNwb25kKCkgcmVzcG9uc2U6ICR7SlNPTi5zdHJpbmdpZnkoaSl9YCk7dGhyb3cgbmV3IEVycm9yKHIpfX0pLGModGhpcyxcImlzVmFsaWRQaW5nXCIsYXN5bmMgdD0+e2lmKCFMKHQpKXtjb25zdHttZXNzYWdlOnN9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGluZygpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihzKX1jb25zdHt0b3BpYzplfT10O2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyhlKX0pLGModGhpcyxcImlzVmFsaWRFbWl0XCIsYXN5bmMgdD0+e2lmKCFMKHQpKXtjb25zdHttZXNzYWdlOm59PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZW1pdCgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihuKX1jb25zdHt0b3BpYzplLGV2ZW50OnMsY2hhaW5JZDppfT10O2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhlKTtjb25zdHtuYW1lc3BhY2VzOnJ9PXRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGUpO2lmKCFpdChyLGkpKXtjb25zdHttZXNzYWdlOm59PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZW1pdCgpIGNoYWluSWQ6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9aWYoIW9zKHMpKXtjb25zdHttZXNzYWdlOm59PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZW1pdCgpIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KHMpfWApO3Rocm93IG5ldyBFcnJvcihuKX1pZighYXMocixpLHMubmFtZSkpe2NvbnN0e21lc3NhZ2U6bn09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBlbWl0KCkgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkocyl9YCk7dGhyb3cgbmV3IEVycm9yKG4pfX0pLGModGhpcyxcImlzVmFsaWREaXNjb25uZWN0XCIsYXN5bmMgdD0+e2lmKCFMKHQpKXtjb25zdHttZXNzYWdlOnN9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgZGlzY29ubmVjdCgpIHBhcmFtczogJHt0fWApO3Rocm93IG5ldyBFcnJvcihzKX1jb25zdHt0b3BpYzplfT10O2F3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyhlKX0pLGModGhpcyxcImlzVmFsaWRBdXRoZW50aWNhdGVcIix0PT57Y29uc3R7Y2hhaW5zOmUsdXJpOnMsZG9tYWluOmksbm9uY2U6cn09dDtpZighQXJyYXkuaXNBcnJheShlKXx8ZS5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcihcImNoYWlucyBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBhIG5vbi1lbXB0eSBhcnJheVwiKTtpZighSihzLCExKSl0aHJvdyBuZXcgRXJyb3IoXCJ1cmkgaXMgcmVxdWlyZWQgcGFyYW1ldGVyXCIpO2lmKCFKKGksITEpKXRocm93IG5ldyBFcnJvcihcImRvbWFpbiBpcyByZXF1aXJlZCBwYXJhbWV0ZXJcIik7aWYoIUoociwhMSkpdGhyb3cgbmV3IEVycm9yKFwibm9uY2UgaXMgcmVxdWlyZWQgcGFyYW1ldGVyXCIpO2lmKFsuLi5uZXcgU2V0KGUubWFwKGE9PmJlKGEpLm5hbWVzcGFjZSkpXS5sZW5ndGg+MSl0aHJvdyBuZXcgRXJyb3IoXCJNdWx0aS1uYW1lc3BhY2UgcmVxdWVzdHMgYXJlIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSByZXF1ZXN0IHNpbmdsZSBuYW1lc3BhY2Ugb25seS5cIik7Y29uc3R7bmFtZXNwYWNlOm59PWJlKGVbMF0pO2lmKG4hPT1cImVpcDE1NVwiKXRocm93IG5ldyBFcnJvcihcIk9ubHkgZWlwMTU1IG5hbWVzcGFjZSBpcyBzdXBwb3J0ZWQgZm9yIGF1dGhlbnRpY2F0ZWQgc2Vzc2lvbnMuIFBsZWFzZSB1c2UgLmNvbm5lY3QoKSBmb3Igbm9uLWVpcDE1NSBjaGFpbnMuXCIpfSksYyh0aGlzLFwiZ2V0VmVyaWZ5Q29udGV4dFwiLGFzeW5jIHQ9Pntjb25zdHthdHRlc3RhdGlvbklkOmUsaGFzaDpzLGVuY3J5cHRlZElkOmksbWV0YWRhdGE6cix0cmFuc3BvcnRUeXBlOm59PXQsYT17dmVyaWZpZWQ6e3ZlcmlmeVVybDpyLnZlcmlmeVVybHx8eHQsdmFsaWRhdGlvbjpcIlVOS05PV05cIixvcmlnaW46ci51cmx8fFwiXCJ9fTt0cnl7aWYobj09PXEubGlua19tb2RlKXtjb25zdCBwPXRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChyLG4pO3JldHVybiBhLnZlcmlmaWVkLnZhbGlkYXRpb249cCYmbmV3IFVSTChwKS5vcmlnaW49PT1uZXcgVVJMKHIudXJsKS5vcmlnaW4/XCJWQUxJRFwiOlwiSU5WQUxJRFwiLGF9Y29uc3QgbD1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLnZlcmlmeS5yZXNvbHZlKHthdHRlc3RhdGlvbklkOmUsaGFzaDpzLGVuY3J5cHRlZElkOmksdmVyaWZ5VXJsOnIudmVyaWZ5VXJsfSk7bCYmKGEudmVyaWZpZWQub3JpZ2luPWwub3JpZ2luLGEudmVyaWZpZWQuaXNTY2FtPWwuaXNTY2FtLGEudmVyaWZpZWQudmFsaWRhdGlvbj1sLm9yaWdpbj09PW5ldyBVUkwoci51cmwpLm9yaWdpbj9cIlZBTElEXCI6XCJJTlZBTElEXCIpfWNhdGNoKGwpe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGwpfXJldHVybiB0aGlzLmNsaWVudC5sb2dnZXIuZGVidWcoYFZlcmlmeSBjb250ZXh0OiAke0pTT04uc3RyaW5naWZ5KGEpfWApLGF9KSxjKHRoaXMsXCJ2YWxpZGF0ZVNlc3Npb25Qcm9wc1wiLCh0LGUpPT57T2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKChzLGkpPT57aWYocz09bnVsbCl7Y29uc3R7bWVzc2FnZTpyfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYCR7ZX0gbXVzdCBjb250YWluIGFuIGV4aXN0aW5nIHZhbHVlIGZvciBlYWNoIGtleS4gUmVjZWl2ZWQ6ICR7c30gZm9yIGtleSAke09iamVjdC5rZXlzKHQpW2ldfWApO3Rocm93IG5ldyBFcnJvcihyKX19KX0pLGModGhpcyxcImdldFBlbmRpbmdBdXRoUmVxdWVzdFwiLHQ9Pntjb25zdCBlPXRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuZ2V0KHQpO3JldHVybiB0eXBlb2YgZT09XCJvYmplY3RcIj9lOnZvaWQgMH0pLGModGhpcyxcImFkZFRvUmVjZW50bHlEZWxldGVkXCIsKHQsZSk9PntpZih0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5zZXQodCxlKSx0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5zaXplPj10aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0KXtsZXQgcz0wO2NvbnN0IGk9dGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdC8yO2Zvcihjb25zdCByIG9mIHRoaXMucmVjZW50bHlEZWxldGVkTWFwLmtleXMoKSl7aWYocysrPj1pKWJyZWFrO3RoaXMucmVjZW50bHlEZWxldGVkTWFwLmRlbGV0ZShyKX19fSksYyh0aGlzLFwiY2hlY2tSZWNlbnRseURlbGV0ZWRcIix0PT57Y29uc3QgZT10aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5nZXQodCk7aWYoZSl7Y29uc3R7bWVzc2FnZTpzfT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYFJlY29yZCB3YXMgcmVjZW50bHkgZGVsZXRlZCAtICR7ZX06ICR7dH1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9fSksYyh0aGlzLFwiaXNMaW5rTW9kZUVuYWJsZWRcIiwodCxlKT0+e3ZhciBzLGkscixuLGEsbCxwLGgsdTtyZXR1cm4hdHx8ZSE9PXEubGlua19tb2RlPyExOigoaT0ocz10aGlzLmNsaWVudC5tZXRhZGF0YSk9PW51bGw/dm9pZCAwOnMucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDppLmxpbmtNb2RlKT09PSEwJiYoKG49KHI9dGhpcy5jbGllbnQubWV0YWRhdGEpPT1udWxsP3ZvaWQgMDpyLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6bi51bml2ZXJzYWwpIT09dm9pZCAwJiYoKGw9KGE9dGhpcy5jbGllbnQubWV0YWRhdGEpPT1udWxsP3ZvaWQgMDphLnJlZGlyZWN0KT09bnVsbD92b2lkIDA6bC51bml2ZXJzYWwpIT09XCJcIiYmKChwPXQ/LnJlZGlyZWN0KT09bnVsbD92b2lkIDA6cC51bml2ZXJzYWwpIT09dm9pZCAwJiYoKGg9dD8ucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpoLnVuaXZlcnNhbCkhPT1cIlwiJiYoKHU9dD8ucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDp1LmxpbmtNb2RlKT09PSEwJiZ0aGlzLmNsaWVudC5jb3JlLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5pbmNsdWRlcyh0LnJlZGlyZWN0LnVuaXZlcnNhbCkmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIn0pLGModGhpcyxcImdldEFwcExpbmtJZkVuYWJsZWRcIiwodCxlKT0+e3ZhciBzO3JldHVybiB0aGlzLmlzTGlua01vZGVFbmFibGVkKHQsZSk/KHM9dD8ucmVkaXJlY3QpPT1udWxsP3ZvaWQgMDpzLnVuaXZlcnNhbDp2b2lkIDB9KSxjKHRoaXMsXCJoYW5kbGVMaW5rTW9kZU1lc3NhZ2VcIiwoe3VybDp0fSk9PntpZighdHx8IXQuaW5jbHVkZXMoXCJ3Y19ldlwiKXx8IXQuaW5jbHVkZXMoXCJ0b3BpY1wiKSlyZXR1cm47Y29uc3QgZT1ydCh0LFwidG9waWNcIil8fFwiXCIscz1kZWNvZGVVUklDb21wb25lbnQocnQodCxcIndjX2V2XCIpfHxcIlwiKSxpPXRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKTtpJiZ0aGlzLmNsaWVudC5zZXNzaW9uLnVwZGF0ZShlLHt0cmFuc3BvcnRUeXBlOnEubGlua19tb2RlfSksdGhpcy5jbGllbnQuY29yZS5kaXNwYXRjaEVudmVsb3BlKHt0b3BpYzplLG1lc3NhZ2U6cyxzZXNzaW9uRXhpc3RzOml9KX0pLGModGhpcyxcInJlZ2lzdGVyTGlua01vZGVMaXN0ZW5lcnNcIixhc3luYygpPT57dmFyIHQ7aWYoY3MoKXx8bHMoKSYmKHQ9dGhpcy5jbGllbnQubWV0YWRhdGEucmVkaXJlY3QpIT1udWxsJiZ0LmxpbmtNb2RlKXtjb25zdCBlPWdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkxpbmtpbmc7aWYodHlwZW9mIGU8XCJ1XCIpe2UuYWRkRXZlbnRMaXN0ZW5lcihcInVybFwiLHRoaXMuaGFuZGxlTGlua01vZGVNZXNzYWdlLHRoaXMuY2xpZW50Lm5hbWUpO2NvbnN0IHM9YXdhaXQgZS5nZXRJbml0aWFsVVJMKCk7cyYmc2V0VGltZW91dCgoKT0+e3RoaXMuaGFuZGxlTGlua01vZGVNZXNzYWdlKHt1cmw6c30pfSw1MCl9fX0pLGModGhpcyxcImdldFRWRlBhcmFtc1wiLCh0LGUscyk9Pnt2YXIgaSxyLG47aWYoISgoaT1lLnJlcXVlc3QpIT1udWxsJiZpLm1ldGhvZCkpcmV0dXJue307Y29uc3QgYT17Y29ycmVsYXRpb25JZDp0LHJwY01ldGhvZHM6W2UucmVxdWVzdC5tZXRob2RdLGNoYWluSWQ6ZS5jaGFpbklkfTt0cnl7Y29uc3QgbD10aGlzLmV4dHJhY3RUeEhhc2hlc0Zyb21SZXN1bHQoZS5yZXF1ZXN0LHMpO2EudHhIYXNoZXM9bCxhLmNvbnRyYWN0QWRkcmVzc2VzPXRoaXMuaXNWYWxpZENvbnRyYWN0RGF0YShlLnJlcXVlc3QucGFyYW1zKT9bKG49KHI9ZS5yZXF1ZXN0LnBhcmFtcyk9PW51bGw/dm9pZCAwOnJbMF0pPT1udWxsP3ZvaWQgMDpuLnRvXTpbXX1jYXRjaChsKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcIkVycm9yIGdldHRpbmcgVFZGIHBhcmFtc1wiLGwpfXJldHVybiBhfSksYyh0aGlzLFwiaXNWYWxpZENvbnRyYWN0RGF0YVwiLHQ9Pnt2YXIgZTtpZighdClyZXR1cm4hMTt0cnl7Y29uc3Qgcz10Py5kYXRhfHwoKGU9dD8uWzBdKT09bnVsbD92b2lkIDA6ZS5kYXRhKTtpZighcy5zdGFydHNXaXRoKFwiMHhcIikpcmV0dXJuITE7Y29uc3QgaT1zLnNsaWNlKDIpO3JldHVybi9eWzAtOWEtZkEtRl0qJC8udGVzdChpKT9pLmxlbmd0aCUyPT09MDohMX1jYXRjaHt9cmV0dXJuITF9KSxjKHRoaXMsXCJleHRyYWN0VHhIYXNoZXNGcm9tUmVzdWx0XCIsKHQsZSk9Pnt2YXIgczt0cnl7aWYoIWUpcmV0dXJuW107Y29uc3QgaT10Lm1ldGhvZCxyPXl0W2ldO2lmKGk9PT1cInN1aV9zaWduVHJhbnNhY3Rpb25cIilyZXR1cm5bcHMoZS50cmFuc2FjdGlvbkJ5dGVzKV07aWYoaT09PVwibmVhcl9zaWduVHJhbnNhY3Rpb25cIilyZXR1cm5bbnQoZSldO2lmKGk9PT1cIm5lYXJfc2lnblRyYW5zYWN0aW9uc1wiKXJldHVybiBlLm1hcChhPT5udChhKSk7aWYoaT09PVwieHJwbF9zaWduVHJhbnNhY3Rpb25Gb3JcInx8aT09PVwieHJwbF9zaWduVHJhbnNhY3Rpb25cIilyZXR1cm5bKHM9ZS50eF9qc29uKT09bnVsbD92b2lkIDA6cy5oYXNoXTtpZihpPT09XCJwb2xrYWRvdF9zaWduVHJhbnNhY3Rpb25cIilyZXR1cm5baHMoe3RyYW5zYWN0aW9uOnQucGFyYW1zLnRyYW5zYWN0aW9uUGF5bG9hZCxzaWduYXR1cmU6ZS5zaWduYXR1cmV9KV07aWYoaT09PVwiYWxnb19zaWduVHhuXCIpcmV0dXJuIG90KGUpP2UubWFwKGE9PmF0KGEpKTpbYXQoZSldO2lmKGk9PT1cImNvc21vc19zaWduRGlyZWN0XCIpcmV0dXJuW2RzKGUpXTtpZihpPT09XCJ3YWxsZXRfc2VuZENhbGxzXCIpcmV0dXJuIHVzKGUpO2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXJldHVybltlXTtjb25zdCBuPWVbci5rZXldO2lmKG90KG4pKXJldHVybiBpPT09XCJzb2xhbmFfc2lnbkFsbFRyYW5zYWN0aW9uc1wiP24ubWFwKGE9PmdzKGEpKTpuO2lmKHR5cGVvZiBuPT1cInN0cmluZ1wiKXJldHVybltuXX1jYXRjaChpKXt0aGlzLmNsaWVudC5sb2dnZXIud2FybihcIkVycm9yIGV4dHJhY3RpbmcgdHggaGFzaGVzIGZyb20gcmVzdWx0XCIsaSl9cmV0dXJuW119KX1hc3luYyBwcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMoKXt0cnl7Y29uc3Qgbz10aGlzLmNsaWVudC5zZXNzaW9uLmtleXMsdD10aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIubWVzc2FnZXMuZ2V0V2l0aG91dEFjayhvKTtmb3IoY29uc3RbZSxzXW9mIE9iamVjdC5lbnRyaWVzKHQpKWZvcihjb25zdCBpIG9mIHMpdHJ5e2F3YWl0IHRoaXMub25Qcm92aWRlck1lc3NhZ2VFdmVudCh7dG9waWM6ZSxtZXNzYWdlOmkscHVibGlzaGVkQXQ6RGF0ZS5ub3coKX0pfWNhdGNoe3RoaXMuY2xpZW50LmxvZ2dlci53YXJuKGBFcnJvciBwcm9jZXNzaW5nIHBlbmRpbmcgbWVzc2FnZSBldmVudCBmb3IgdG9waWM6ICR7ZX0sIG1lc3NhZ2U6ICR7aX1gKX19Y2F0Y2gobyl7dGhpcy5jbGllbnQubG9nZ2VyLndhcm4oXCJwcm9jZXNzUGVuZGluZ01lc3NhZ2VFdmVudHMgZmFpbGVkXCIsbyl9fWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTpvfT1nKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3Iobyl9fWFzeW5jIGNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKXthd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpfXJlZ2lzdGVyUmVsYXllckV2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUucmVsYXllci5vbih6ZS5tZXNzYWdlLG89Pnt0aGlzLm9uUHJvdmlkZXJNZXNzYWdlRXZlbnQobyl9KX1hc3luYyBvblJlbGF5TWVzc2FnZShvKXtjb25zdHt0b3BpYzp0LG1lc3NhZ2U6ZSxhdHRlc3RhdGlvbjpzLHRyYW5zcG9ydFR5cGU6aX09byx7cHVibGljS2V5OnJ9PXRoaXMuY2xpZW50LmF1dGguYXV0aEtleXMua2V5cy5pbmNsdWRlcyhwZSk/dGhpcy5jbGllbnQuYXV0aC5hdXRoS2V5cy5nZXQocGUpOntyZXNwb25zZVRvcGljOnZvaWQgMCxwdWJsaWNLZXk6dm9pZCAwfTt0cnl7Y29uc3Qgbj1hd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5kZWNvZGUodCxlLHtyZWNlaXZlclB1YmxpY0tleTpyLGVuY29kaW5nOmk9PT1xLmxpbmtfbW9kZT9hZTpZfSk7U3Mobik/KHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQodCxuKSxhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlcXVlc3Qoe3RvcGljOnQscGF5bG9hZDpuLGF0dGVzdGF0aW9uOnMsdHJhbnNwb3J0VHlwZTppLGVuY3J5cHRlZElkOlUoZSl9KSk6RXMobik/KGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKG4pLGF3YWl0IHRoaXMub25SZWxheUV2ZW50UmVzcG9uc2Uoe3RvcGljOnQscGF5bG9hZDpuLHRyYW5zcG9ydFR5cGU6aX0pLHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5kZWxldGUodCxuLmlkKSk6YXdhaXQgdGhpcy5vblJlbGF5RXZlbnRVbmtub3duUGF5bG9hZCh7dG9waWM6dCxwYXlsb2FkOm4sdHJhbnNwb3J0VHlwZTppfSksYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm1lc3NhZ2VzLmFjayh0LGUpfWNhdGNoKG4pe3RoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihuKX19cmVnaXN0ZXJFeHBpcmVyRXZlbnRzKCl7dGhpcy5jbGllbnQuY29yZS5leHBpcmVyLm9uKE50LmV4cGlyZWQsYXN5bmMgbz0+e2NvbnN0e3RvcGljOnQsaWQ6ZX09VXQoby50YXJnZXQpO2lmKGUmJnRoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LmtleXMuaW5jbHVkZXMoZSkpcmV0dXJuIGF3YWl0IHRoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0KGUsZyhcIkVYUElSRURcIiksITApO2lmKGUmJnRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMua2V5cy5pbmNsdWRlcyhlKSlyZXR1cm4gYXdhaXQgdGhpcy5kZWxldGVQZW5kaW5nQXV0aFJlcXVlc3QoZSxnKFwiRVhQSVJFRFwiKSwhMCk7dD90aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXModCkmJihhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOnQsZXhwaXJlckhhc0RlbGV0ZWQ6ITB9KSx0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXhwaXJlXCIse3RvcGljOnR9KSk6ZSYmKGF3YWl0IHRoaXMuZGVsZXRlUHJvcG9zYWwoZSwhMCksdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJwcm9wb3NhbF9leHBpcmVcIix7aWQ6ZX0pKX0pfXJlZ2lzdGVyUGFpcmluZ0V2ZW50cygpe3RoaXMuY2xpZW50LmNvcmUucGFpcmluZy5ldmVudHMub24oWWUuY3JlYXRlLG89PnRoaXMub25QYWlyaW5nQ3JlYXRlZChvKSksdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmV2ZW50cy5vbihZZS5kZWxldGUsbz0+e3RoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQoby50b3BpYyxcInBhaXJpbmdcIil9KX1pc1ZhbGlkUGFpcmluZ1RvcGljKG8pe2lmKCFKKG8sITEpKXtjb25zdHttZXNzYWdlOnR9PWcoXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoIXRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKG8pKXtjb25zdHttZXNzYWdlOnR9PWcoXCJOT19NQVRDSElOR19LRVlcIixgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfWlmKFoodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChvKS5leHBpcnkpKXtjb25zdHttZXNzYWdlOnR9PWcoXCJFWFBJUkVEXCIsYHBhaXJpbmcgdG9waWM6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9fWFzeW5jIGlzVmFsaWRTZXNzaW9uVG9waWMobyl7aWYoIUoobywhMSkpe2NvbnN0e21lc3NhZ2U6dH09ZyhcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGBzZXNzaW9uIHRvcGljIHNob3VsZCBiZSBhIHN0cmluZzogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX1pZih0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKG8pLCF0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMobykpe2NvbnN0e21lc3NhZ2U6dH09ZyhcIk5PX01BVENISU5HX0tFWVwiLGBzZXNzaW9uIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoWih0aGlzLmNsaWVudC5zZXNzaW9uLmdldChvKS5leHBpcnkpKXthd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOm99KTtjb25zdHttZXNzYWdlOnR9PWcoXCJFWFBJUkVEXCIsYHNlc3Npb24gdG9waWM6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoIXRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gdG9waWMgZG9lcyBub3QgZXhpc3QgaW4ga2V5Y2hhaW46ICR7b31gKTt0aHJvdyBhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oe3RvcGljOm99KSxuZXcgRXJyb3IodCl9fWFzeW5jIGlzVmFsaWRTZXNzaW9uT3JQYWlyaW5nVG9waWMobyl7aWYodGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChvKSx0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMobykpYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKG8pO2Vsc2UgaWYodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMobykpdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKG8pO2Vsc2UgaWYoSihvLCExKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfWVsc2V7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9fWFzeW5jIGlzVmFsaWRQcm9wb3NhbElkKG8pe2lmKCFHdChvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHByb3Bvc2FsIGlkIHNob3VsZCBiZSBhIG51bWJlcjogJHtvfWApO3Rocm93IG5ldyBFcnJvcih0KX1pZighdGhpcy5jbGllbnQucHJvcG9zYWwua2V5cy5pbmNsdWRlcyhvKSl7Y29uc3R7bWVzc2FnZTp0fT1nKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYHByb3Bvc2FsIGlkIGRvZXNuJ3QgZXhpc3Q6ICR7b31gKTt0aHJvdyBuZXcgRXJyb3IodCl9aWYoWih0aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQobykuZXhwaXJ5VGltZXN0YW1wKSl7YXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChvKTtjb25zdHttZXNzYWdlOnR9PWcoXCJFWFBJUkVEXCIsYHByb3Bvc2FsIGlkOiAke299YCk7dGhyb3cgbmV3IEVycm9yKHQpfX19Y2xhc3MgRHMgZXh0ZW5kcyBXe2NvbnN0cnVjdG9yKG8sdCl7c3VwZXIobyx0LGR0LHdlKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX1jbGFzcyBJdCBleHRlbmRzIFd7Y29uc3RydWN0b3Iobyx0KXtzdXBlcihvLHQsdXQsd2UpLHRoaXMuY29yZT1vLHRoaXMubG9nZ2VyPXR9fWNsYXNzIExzIGV4dGVuZHMgV3tjb25zdHJ1Y3RvcihvLHQpe3N1cGVyKG8sdCx3dCx3ZSxlPT5lLmlkKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX1jbGFzcyBNcyBleHRlbmRzIFd7Y29uc3RydWN0b3Iobyx0KXtzdXBlcihvLHQsU3QsbGUsKCk9PnBlKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX1jbGFzcyAkcyBleHRlbmRzIFd7Y29uc3RydWN0b3Iobyx0KXtzdXBlcihvLHQsRXQsbGUpLHRoaXMuY29yZT1vLHRoaXMubG9nZ2VyPXR9fWNsYXNzIEtzIGV4dGVuZHMgV3tjb25zdHJ1Y3RvcihvLHQpe3N1cGVyKG8sdCxSdCxsZSxlPT5lLmlkKSx0aGlzLmNvcmU9byx0aGlzLmxvZ2dlcj10fX12YXIgVXM9T2JqZWN0LmRlZmluZVByb3BlcnR5LEdzPShTLG8sdCk9Pm8gaW4gUz9VcyhTLG8se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpTW29dPXQsS2U9KFMsbyx0KT0+R3MoUyx0eXBlb2YgbyE9XCJzeW1ib2xcIj9vK1wiXCI6byx0KTtjbGFzcyBqc3tjb25zdHJ1Y3RvcihvLHQpe3RoaXMuY29yZT1vLHRoaXMubG9nZ2VyPXQsS2UodGhpcyxcImF1dGhLZXlzXCIpLEtlKHRoaXMsXCJwYWlyaW5nVG9waWNzXCIpLEtlKHRoaXMsXCJyZXF1ZXN0c1wiKSx0aGlzLmF1dGhLZXlzPW5ldyBNcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGFpcmluZ1RvcGljcz1uZXcgJHModGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnJlcXVlc3RzPW5ldyBLcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpfWFzeW5jIGluaXQoKXthd2FpdCB0aGlzLmF1dGhLZXlzLmluaXQoKSxhd2FpdCB0aGlzLnBhaXJpbmdUb3BpY3MuaW5pdCgpLGF3YWl0IHRoaXMucmVxdWVzdHMuaW5pdCgpfX12YXIgRnM9T2JqZWN0LmRlZmluZVByb3BlcnR5LFFzPShTLG8sdCk9Pm8gaW4gUz9GcyhTLG8se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpTW29dPXQsZj0oUyxvLHQpPT5RcyhTLHR5cGVvZiBvIT1cInN5bWJvbFwiP28rXCJcIjpvLHQpO2NsYXNzIGZlIGV4dGVuZHMgJHR7Y29uc3RydWN0b3Iobyl7c3VwZXIobyksZih0aGlzLFwicHJvdG9jb2xcIixWZSksZih0aGlzLFwidmVyc2lvblwiLGtlKSxmKHRoaXMsXCJuYW1lXCIsbWUubmFtZSksZih0aGlzLFwibWV0YWRhdGFcIiksZih0aGlzLFwiY29yZVwiKSxmKHRoaXMsXCJsb2dnZXJcIiksZih0aGlzLFwiZXZlbnRzXCIsbmV3IG1zKSxmKHRoaXMsXCJlbmdpbmVcIiksZih0aGlzLFwic2Vzc2lvblwiKSxmKHRoaXMsXCJwcm9wb3NhbFwiKSxmKHRoaXMsXCJwZW5kaW5nUmVxdWVzdFwiKSxmKHRoaXMsXCJhdXRoXCIpLGYodGhpcyxcInNpZ25Db25maWdcIiksZih0aGlzLFwib25cIiwoZSxzKT0+dGhpcy5ldmVudHMub24oZSxzKSksZih0aGlzLFwib25jZVwiLChlLHMpPT50aGlzLmV2ZW50cy5vbmNlKGUscykpLGYodGhpcyxcIm9mZlwiLChlLHMpPT50aGlzLmV2ZW50cy5vZmYoZSxzKSksZih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoZSxzKT0+dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSxzKSksZih0aGlzLFwicmVtb3ZlQWxsTGlzdGVuZXJzXCIsZT0+dGhpcy5ldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKGUpKSxmKHRoaXMsXCJjb25uZWN0XCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuY29ubmVjdChlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwicGFpclwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnBhaXIoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcImFwcHJvdmVcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5hcHByb3ZlKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJyZWplY3RcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZWplY3QoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcInVwZGF0ZVwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnVwZGF0ZShlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwiZXh0ZW5kXCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuZXh0ZW5kKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJyZXF1ZXN0XCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVxdWVzdChlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwicmVzcG9uZFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlc3BvbmQoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcInBpbmdcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5waW5nKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJlbWl0XCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuZW1pdChlKX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLHN9fSksZih0aGlzLFwiZGlzY29ubmVjdFwiLGFzeW5jIGU9Pnt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmRpc2Nvbm5lY3QoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcImZpbmRcIixlPT57dHJ5e3JldHVybiB0aGlzLmVuZ2luZS5maW5kKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSxmKHRoaXMsXCJnZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzXCIsKCk9Pnt0cnl7cmV0dXJuIHRoaXMuZW5naW5lLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKX1jYXRjaChlKXt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpLGV9fSksZih0aGlzLFwiYXV0aGVudGljYXRlXCIsYXN5bmMoZSxzKT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXV0aGVudGljYXRlKGUscyl9Y2F0Y2goaSl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoaS5tZXNzYWdlKSxpfX0pLGYodGhpcyxcImZvcm1hdEF1dGhNZXNzYWdlXCIsZT0+e3RyeXtyZXR1cm4gdGhpcy5lbmdpbmUuZm9ybWF0QXV0aE1lc3NhZ2UoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcImFwcHJvdmVTZXNzaW9uQXV0aGVudGljYXRlXCIsYXN5bmMgZT0+e3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXBwcm92ZVNlc3Npb25BdXRoZW50aWNhdGUoZSl9Y2F0Y2gocyl7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iocy5tZXNzYWdlKSxzfX0pLGYodGhpcyxcInJlamVjdFNlc3Npb25BdXRoZW50aWNhdGVcIixhc3luYyBlPT57dHJ5e3JldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZWplY3RTZXNzaW9uQXV0aGVudGljYXRlKGUpfWNhdGNoKHMpe3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHMubWVzc2FnZSksc319KSx0aGlzLm5hbWU9bz8ubmFtZXx8bWUubmFtZSx0aGlzLm1ldGFkYXRhPXlzKG8/Lm1ldGFkYXRhKSx0aGlzLnNpZ25Db25maWc9bz8uc2lnbkNvbmZpZztjb25zdCB0PXR5cGVvZiBvPy5sb2dnZXI8XCJ1XCImJnR5cGVvZiBvPy5sb2dnZXIhPVwic3RyaW5nXCI/by5sb2dnZXI6VnQoa3Qoe2xldmVsOm8/LmxvZ2dlcnx8bWUubG9nZ2VyfSkpO3RoaXMuY29yZT1vPy5jb3JlfHxuZXcgQ3QobyksdGhpcy5sb2dnZXI9RHQodCx0aGlzLm5hbWUpLHRoaXMuc2Vzc2lvbj1uZXcgSXQodGhpcy5jb3JlLHRoaXMubG9nZ2VyKSx0aGlzLnByb3Bvc2FsPW5ldyBEcyh0aGlzLmNvcmUsdGhpcy5sb2dnZXIpLHRoaXMucGVuZGluZ1JlcXVlc3Q9bmV3IExzKHRoaXMuY29yZSx0aGlzLmxvZ2dlciksdGhpcy5lbmdpbmU9bmV3IGtzKHRoaXMpLHRoaXMuYXV0aD1uZXcganModGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1zdGF0aWMgYXN5bmMgaW5pdChvKXtjb25zdCB0PW5ldyBmZShvKTtyZXR1cm4gYXdhaXQgdC5pbml0aWFsaXplKCksdH1nZXQgY29udGV4dCgpe3JldHVybiBMdCh0aGlzLmxvZ2dlcil9Z2V0IHBhaXJpbmcoKXtyZXR1cm4gdGhpcy5jb3JlLnBhaXJpbmcucGFpcmluZ3N9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY29yZS5zdGFydCgpLGF3YWl0IHRoaXMuc2Vzc2lvbi5pbml0KCksYXdhaXQgdGhpcy5wcm9wb3NhbC5pbml0KCksYXdhaXQgdGhpcy5wZW5kaW5nUmVxdWVzdC5pbml0KCksYXdhaXQgdGhpcy5hdXRoLmluaXQoKSxhd2FpdCB0aGlzLmVuZ2luZS5pbml0KCksdGhpcy5sb2dnZXIuaW5mbyhcIlNpZ25DbGllbnQgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKX1jYXRjaChvKXt0aHJvdyB0aGlzLmxvZ2dlci5pbmZvKFwiU2lnbkNsaWVudCBJbml0aWFsaXphdGlvbiBGYWlsdXJlXCIpLHRoaXMubG9nZ2VyLmVycm9yKG8ubWVzc2FnZSksb319fWNvbnN0IEhzPUl0LHpzPWZlO2V4cG9ydHtmdCBhcyBBVVRIX0NPTlRFWFQsU3QgYXMgQVVUSF9LRVlTX0NPTlRFWFQsRXQgYXMgQVVUSF9QQUlSSU5HX1RPUElDX0NPTlRFWFQsX3QgYXMgQVVUSF9QUk9UT0NPTCxwZSBhcyBBVVRIX1BVQkxJQ19LRVlfTkFNRSxSdCBhcyBBVVRIX1JFUVVFU1RfQ09OVEVYVCxsZSBhcyBBVVRIX1NUT1JBR0VfUFJFRklYLE9zIGFzIEFVVEhfVkVSU0lPTixndCBhcyBFTkdJTkVfQ09OVEVYVCxNIGFzIEVOR0lORV9RVUVVRV9TVEFURVMsUCBhcyBFTkdJTkVfUlBDX09QVFMscXMgYXMgSElTVE9SWV9DT05URVhULFRzIGFzIEhJU1RPUllfRVZFTlRTLFBzIGFzIEhJU1RPUllfU1RPUkFHRV9WRVJTSU9OLG10IGFzIE1FVEhPRFNfVE9fVkVSSUZZLGR0IGFzIFBST1BPU0FMX0NPTlRFWFQsTnMgYXMgUFJPUE9TQUxfRVhQSVJZLE1lIGFzIFBST1BPU0FMX0VYUElSWV9NRVNTQUdFLHd0IGFzIFJFUVVFU1RfQ09OVEVYVCx1dCBhcyBTRVNTSU9OX0NPTlRFWFQsQiBhcyBTRVNTSU9OX0VYUElSWSxfZSBhcyBTRVNTSU9OX1JFUVVFU1RfRVhQSVJZX0JPVU5EQVJJRVMsRGUgYXMgU0lHTl9DTElFTlRfQ09OVEVYVCxtZSBhcyBTSUdOX0NMSUVOVF9ERUZBVUxULHZzIGFzIFNJR05fQ0xJRU5UX0VWRU5UUyxWZSBhcyBTSUdOX0NMSUVOVF9QUk9UT0NPTCxJcyBhcyBTSUdOX0NMSUVOVF9TVE9SQUdFX09QVElPTlMsd2UgYXMgU0lHTl9DTElFTlRfU1RPUkFHRV9QUkVGSVgsa2UgYXMgU0lHTl9DTElFTlRfVkVSU0lPTixIcyBhcyBTZXNzaW9uU3RvcmUsenMgYXMgU2lnbkNsaWVudCx5dCBhcyBUVkZfTUVUSE9EUyxMZSBhcyBXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRSxmZSBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/sign-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/types/dist/index.es.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/types/dist/index.es.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ICore: () => (/* binding */ h),\n/* harmony export */   ICrypto: () => (/* binding */ g),\n/* harmony export */   IEchoClient: () => (/* binding */ O),\n/* harmony export */   IEngine: () => (/* binding */ V),\n/* harmony export */   IEngineEvents: () => (/* binding */ K),\n/* harmony export */   IEventClient: () => (/* binding */ R),\n/* harmony export */   IExpirer: () => (/* binding */ S),\n/* harmony export */   IJsonRpcHistory: () => (/* binding */ I),\n/* harmony export */   IKeyChain: () => (/* binding */ j),\n/* harmony export */   IMessageTracker: () => (/* binding */ y),\n/* harmony export */   IPairing: () => (/* binding */ $),\n/* harmony export */   IPublisher: () => (/* binding */ m),\n/* harmony export */   IRelayer: () => (/* binding */ d),\n/* harmony export */   ISignClient: () => (/* binding */ J),\n/* harmony export */   ISignClientEvents: () => (/* binding */ H),\n/* harmony export */   IStore: () => (/* binding */ f),\n/* harmony export */   ISubscriber: () => (/* binding */ P),\n/* harmony export */   ISubscriberTopicMap: () => (/* binding */ C),\n/* harmony export */   IVerify: () => (/* binding */ M)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/events */ \"(ssr)/./node_modules/@walletconnect/events/dist/esm/index.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\nvar a=Object.defineProperty,u=(e,s,r)=>s in e?a(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,c=(e,s,r)=>u(e,typeof s!=\"symbol\"?s+\"\":s,r);class h extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super(),this.opts=s,c(this,\"protocol\",\"wc\"),c(this,\"version\",2)}}class g{constructor(s,r,t){this.core=s,this.logger=r}}var p=Object.defineProperty,b=(e,s,r)=>s in e?p(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,v=(e,s,r)=>b(e,typeof s!=\"symbol\"?s+\"\":s,r);class I extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r,v(this,\"records\",new Map)}}class y{constructor(s,r){this.logger=s,this.core=r}}class m extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class d extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s){super()}}class f{constructor(s,r,t,q){this.core=s,this.logger=r,this.name=t}}var E=Object.defineProperty,x=(e,s,r)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,w=(e,s,r)=>x(e,typeof s!=\"symbol\"?s+\"\":s,r);class C{constructor(){w(this,\"map\",new Map)}}class P extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.relayer=s,this.logger=r}}class j{constructor(s,r){this.core=s,this.logger=r}}class S extends _walletconnect_events__WEBPACK_IMPORTED_MODULE_0__.IEvents{constructor(s,r){super(),this.core=s,this.logger=r}}class ${constructor(s,r){this.logger=s,this.core=r}}class M{constructor(s,r,t){this.core=s,this.logger=r,this.store=t}}class O{constructor(s,r){this.projectId=s,this.logger=r}}class R{constructor(s,r,t){this.core=s,this.logger=r,this.telemetryEnabled=t}}var T=Object.defineProperty,k=(e,s,r)=>s in e?T(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,i=(e,s,r)=>k(e,typeof s!=\"symbol\"?s+\"\":s,r);class H extends (events__WEBPACK_IMPORTED_MODULE_1___default()){constructor(){super()}}class J{constructor(s){this.opts=s,i(this,\"protocol\",\"wc\"),i(this,\"version\",2)}}class K extends events__WEBPACK_IMPORTED_MODULE_1__.EventEmitter{constructor(){super()}}class V{constructor(s){this.client=s}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC90eXBlcy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUYscURBQXFELGtEQUFrRCxxREFBcUQsZ0JBQWdCLDBEQUFDLENBQUMsZUFBZSxpRUFBaUUsUUFBUSxtQkFBbUIsMkJBQTJCLHFEQUFxRCxrREFBa0QscURBQXFELGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQiw2REFBNkQsUUFBUSxpQkFBaUIsMkJBQTJCLGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQixzQ0FBc0MsZ0JBQWdCLDBEQUFDLENBQUMsZUFBZSxTQUFTLFFBQVEscUJBQXFCLHVDQUF1QyxxREFBcUQsa0RBQWtELHFEQUFxRCxRQUFRLGNBQWMsdUJBQXVCLGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQixzQ0FBc0MsUUFBUSxpQkFBaUIsMkJBQTJCLGdCQUFnQiwwREFBQyxDQUFDLGlCQUFpQixtQ0FBbUMsUUFBUSxpQkFBaUIsMkJBQTJCLFFBQVEsbUJBQW1CLHdDQUF3QyxRQUFRLGlCQUFpQixnQ0FBZ0MsUUFBUSxtQkFBbUIsbURBQW1ELHFEQUFxRCxrREFBa0QscURBQXFELGdCQUFnQiwrQ0FBQyxDQUFDLGNBQWMsU0FBUyxRQUFRLGVBQWUseURBQXlELGdCQUFnQixnREFBQyxDQUFDLGNBQWMsU0FBUyxRQUFRLGVBQWUsZUFBZ1Y7QUFDbnFFIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3R5cGVzL2Rpc3QvaW5kZXguZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0lFdmVudHMgYXMgb31mcm9tXCJAd2FsbGV0Y29ubmVjdC9ldmVudHNcIjtpbXBvcnQgbix7RXZlbnRFbWl0dGVyIGFzIGx9ZnJvbVwiZXZlbnRzXCI7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LHU9KGUscyxyKT0+cyBpbiBlP2EoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLGM9KGUscyxyKT0+dShlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIGggZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMpe3N1cGVyKCksdGhpcy5vcHRzPXMsYyh0aGlzLFwicHJvdG9jb2xcIixcIndjXCIpLGModGhpcyxcInZlcnNpb25cIiwyKX19Y2xhc3MgZ3tjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19dmFyIHA9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9KGUscyxyKT0+cyBpbiBlP3AoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLHY9KGUscyxyKT0+YihlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEkgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHYodGhpcyxcInJlY29yZHNcIixuZXcgTWFwKX19Y2xhc3MgeXtjb25zdHJ1Y3RvcihzLHIpe3RoaXMubG9nZ2VyPXMsdGhpcy5jb3JlPXJ9fWNsYXNzIG0gZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLnJlbGF5ZXI9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBkIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihzKXtzdXBlcigpfX1jbGFzcyBme2NvbnN0cnVjdG9yKHMscix0LHEpe3RoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXIsdGhpcy5uYW1lPXR9fXZhciBFPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx4PShlLHMscik9PnMgaW4gZT9FKGUscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOmVbc109cix3PShlLHMscik9PngoZSx0eXBlb2YgcyE9XCJzeW1ib2xcIj9zK1wiXCI6cyxyKTtjbGFzcyBDe2NvbnN0cnVjdG9yKCl7dyh0aGlzLFwibWFwXCIsbmV3IE1hcCl9fWNsYXNzIFAgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHMscil7c3VwZXIoKSx0aGlzLnJlbGF5ZXI9cyx0aGlzLmxvZ2dlcj1yfX1jbGFzcyBqe2NvbnN0cnVjdG9yKHMscil7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgUyBleHRlbmRzIG97Y29uc3RydWN0b3IocyxyKXtzdXBlcigpLHRoaXMuY29yZT1zLHRoaXMubG9nZ2VyPXJ9fWNsYXNzICR7Y29uc3RydWN0b3IocyxyKXt0aGlzLmxvZ2dlcj1zLHRoaXMuY29yZT1yfX1jbGFzcyBNe2NvbnN0cnVjdG9yKHMscix0KXt0aGlzLmNvcmU9cyx0aGlzLmxvZ2dlcj1yLHRoaXMuc3RvcmU9dH19Y2xhc3MgT3tjb25zdHJ1Y3RvcihzLHIpe3RoaXMucHJvamVjdElkPXMsdGhpcy5sb2dnZXI9cn19Y2xhc3MgUntjb25zdHJ1Y3RvcihzLHIsdCl7dGhpcy5jb3JlPXMsdGhpcy5sb2dnZXI9cix0aGlzLnRlbGVtZXRyeUVuYWJsZWQ9dH19dmFyIFQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LGs9KGUscyxyKT0+cyBpbiBlP1QoZSxzLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSk6ZVtzXT1yLGk9KGUscyxyKT0+ayhlLHR5cGVvZiBzIT1cInN5bWJvbFwiP3MrXCJcIjpzLHIpO2NsYXNzIEggZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoKX19Y2xhc3MgSntjb25zdHJ1Y3RvcihzKXt0aGlzLm9wdHM9cyxpKHRoaXMsXCJwcm90b2NvbFwiLFwid2NcIiksaSh0aGlzLFwidmVyc2lvblwiLDIpfX1jbGFzcyBLIGV4dGVuZHMgbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCl9fWNsYXNzIFZ7Y29uc3RydWN0b3Iocyl7dGhpcy5jbGllbnQ9c319ZXhwb3J0e2ggYXMgSUNvcmUsZyBhcyBJQ3J5cHRvLE8gYXMgSUVjaG9DbGllbnQsViBhcyBJRW5naW5lLEsgYXMgSUVuZ2luZUV2ZW50cyxSIGFzIElFdmVudENsaWVudCxTIGFzIElFeHBpcmVyLEkgYXMgSUpzb25ScGNIaXN0b3J5LGogYXMgSUtleUNoYWluLHkgYXMgSU1lc3NhZ2VUcmFja2VyLCQgYXMgSVBhaXJpbmcsbSBhcyBJUHVibGlzaGVyLGQgYXMgSVJlbGF5ZXIsSiBhcyBJU2lnbkNsaWVudCxIIGFzIElTaWduQ2xpZW50RXZlbnRzLGYgYXMgSVN0b3JlLFAgYXMgSVN1YnNjcmliZXIsQyBhcyBJU3Vic2NyaWJlclRvcGljTWFwLE0gYXMgSVZlcmlmeX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/types/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BASE10: () => (/* binding */ Vn),\n/* harmony export */   BASE16: () => (/* binding */ rt),\n/* harmony export */   BASE64: () => (/* binding */ oe),\n/* harmony export */   BASE64URL: () => (/* binding */ Ge),\n/* harmony export */   COLON: () => (/* binding */ si),\n/* harmony export */   DEFAULT_DEPTH: () => (/* binding */ nn),\n/* harmony export */   EMPTY_SPACE: () => (/* binding */ Se),\n/* harmony export */   ENV_MAP: () => (/* binding */ et),\n/* harmony export */   INTERNAL_ERRORS: () => (/* binding */ ws),\n/* harmony export */   LimitedSet: () => (/* binding */ ji),\n/* harmony export */   MemoryStore: () => (/* binding */ lu),\n/* harmony export */   ONE_THOUSAND: () => (/* binding */ ii),\n/* harmony export */   REACT_NATIVE_PRODUCT: () => (/* binding */ dr),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ ss),\n/* harmony export */   SDK_ERRORS: () => (/* binding */ ms),\n/* harmony export */   SDK_TYPE: () => (/* binding */ pr),\n/* harmony export */   SLASH: () => (/* binding */ hr),\n/* harmony export */   TYPE_0: () => (/* binding */ Mn),\n/* harmony export */   TYPE_1: () => (/* binding */ ie),\n/* harmony export */   TYPE_2: () => (/* binding */ we),\n/* harmony export */   UTF8: () => (/* binding */ se),\n/* harmony export */   addResourceToRecap: () => (/* binding */ fo),\n/* harmony export */   addSignatureToExtrinsic: () => (/* binding */ Ls),\n/* harmony export */   appendToQueryString: () => (/* binding */ gr),\n/* harmony export */   assertType: () => (/* binding */ pi),\n/* harmony export */   assignAbilityToActions: () => (/* binding */ yn),\n/* harmony export */   base64Decode: () => (/* binding */ io),\n/* harmony export */   base64Encode: () => (/* binding */ so),\n/* harmony export */   buildApprovedNamespaces: () => (/* binding */ Da),\n/* harmony export */   buildAuthObject: () => (/* binding */ kc),\n/* harmony export */   buildNamespacesFromAuth: () => (/* binding */ Va),\n/* harmony export */   buildRecapStatement: () => (/* binding */ uo),\n/* harmony export */   buildSignedExtrinsicHash: () => (/* binding */ bu),\n/* harmony export */   calcExpiry: () => (/* binding */ Si),\n/* harmony export */   capitalize: () => (/* binding */ vi),\n/* harmony export */   capitalizeWord: () => (/* binding */ Er),\n/* harmony export */   createDelayedPromise: () => (/* binding */ xi),\n/* harmony export */   createEncodedRecap: () => (/* binding */ Vc),\n/* harmony export */   createExpiringPromise: () => (/* binding */ Ei),\n/* harmony export */   createRecap: () => (/* binding */ co),\n/* harmony export */   decodeRecap: () => (/* binding */ kt),\n/* harmony export */   decodeTypeByte: () => (/* binding */ Zt),\n/* harmony export */   decodeTypeTwoEnvelope: () => (/* binding */ ba),\n/* harmony export */   decrypt: () => (/* binding */ pa),\n/* harmony export */   deriveExtrinsicHash: () => (/* binding */ ks),\n/* harmony export */   deriveSymKey: () => (/* binding */ ua),\n/* harmony export */   deserialize: () => (/* binding */ ze),\n/* harmony export */   encodeRecap: () => (/* binding */ Ce),\n/* harmony export */   encodeTypeByte: () => (/* binding */ qn),\n/* harmony export */   encodeTypeTwoEnvelope: () => (/* binding */ ga),\n/* harmony export */   encrypt: () => (/* binding */ ha),\n/* harmony export */   engineEvent: () => (/* binding */ Ni),\n/* harmony export */   enumify: () => (/* binding */ wi),\n/* harmony export */   extractSolanaTransactionId: () => (/* binding */ Ac),\n/* harmony export */   formatAccountId: () => (/* binding */ sr),\n/* harmony export */   formatAccountWithChain: () => (/* binding */ zs),\n/* harmony export */   formatChainId: () => (/* binding */ or),\n/* harmony export */   formatDeeplinkUrl: () => (/* binding */ Br),\n/* harmony export */   formatExpirerTarget: () => (/* binding */ on),\n/* harmony export */   formatIdTarget: () => (/* binding */ Ai),\n/* harmony export */   formatMessage: () => (/* binding */ eo),\n/* harmony export */   formatMessageContext: () => (/* binding */ gi),\n/* harmony export */   formatRelayParams: () => (/* binding */ us),\n/* harmony export */   formatRelayRpcUrl: () => (/* binding */ di),\n/* harmony export */   formatStatementFromRecap: () => (/* binding */ wn),\n/* harmony export */   formatTopicTarget: () => (/* binding */ Bi),\n/* harmony export */   formatUA: () => (/* binding */ wr),\n/* harmony export */   formatUri: () => (/* binding */ _a),\n/* harmony export */   fromBase64: () => (/* binding */ cn),\n/* harmony export */   generateKeyPair: () => (/* binding */ fa),\n/* harmony export */   generateRandomBytes32: () => (/* binding */ aa),\n/* harmony export */   getAccountsChains: () => (/* binding */ Gt),\n/* harmony export */   getAccountsFromNamespaces: () => (/* binding */ Ws),\n/* harmony export */   getAddressFromAccount: () => (/* binding */ ir),\n/* harmony export */   getAddressesFromAccounts: () => (/* binding */ Ys),\n/* harmony export */   getAlgorandTransactionId: () => (/* binding */ Oc),\n/* harmony export */   getAppId: () => (/* binding */ ai),\n/* harmony export */   getAppMetadata: () => (/* binding */ br),\n/* harmony export */   getBrowserOnlineStatus: () => (/* binding */ _s),\n/* harmony export */   getChainFromAccount: () => (/* binding */ cr),\n/* harmony export */   getChainsFromAccounts: () => (/* binding */ fr),\n/* harmony export */   getChainsFromNamespace: () => (/* binding */ Ie),\n/* harmony export */   getChainsFromNamespaces: () => (/* binding */ Xs),\n/* harmony export */   getChainsFromRecap: () => (/* binding */ qc),\n/* harmony export */   getChainsFromRequiredNamespaces: () => (/* binding */ Js),\n/* harmony export */   getCommonValuesInArrays: () => (/* binding */ sn),\n/* harmony export */   getCryptoKeyFromKeyData: () => (/* binding */ os),\n/* harmony export */   getDecodedRecapFromResources: () => (/* binding */ no),\n/* harmony export */   getDeepLink: () => (/* binding */ _i),\n/* harmony export */   getDidAddress: () => (/* binding */ bn),\n/* harmony export */   getDidAddressSegments: () => (/* binding */ Te),\n/* harmony export */   getDidChainId: () => (/* binding */ Qr),\n/* harmony export */   getEnvironment: () => (/* binding */ Vt),\n/* harmony export */   getHttpUrl: () => (/* binding */ hi),\n/* harmony export */   getInternalError: () => (/* binding */ Bt),\n/* harmony export */   getJavascriptID: () => (/* binding */ mr),\n/* harmony export */   getJavascriptOS: () => (/* binding */ yr),\n/* harmony export */   getLastItems: () => (/* binding */ xr),\n/* harmony export */   getLinkModeURL: () => (/* binding */ Ra),\n/* harmony export */   getMethodsFromRecap: () => (/* binding */ Kc),\n/* harmony export */   getNamespacedDidChainId: () => (/* binding */ to),\n/* harmony export */   getNamespacesChains: () => (/* binding */ hs),\n/* harmony export */   getNamespacesEventsForChainId: () => (/* binding */ gs),\n/* harmony export */   getNamespacesFromAccounts: () => (/* binding */ ys),\n/* harmony export */   getNamespacesMethodsForChainId: () => (/* binding */ ps),\n/* harmony export */   getNearTransactionIdFromSignedTransaction: () => (/* binding */ Sc),\n/* harmony export */   getNearUint8ArrayFromBytes: () => (/* binding */ Yr),\n/* harmony export */   getNodeOnlineStatus: () => (/* binding */ $s),\n/* harmony export */   getReCapActions: () => (/* binding */ oo),\n/* harmony export */   getReactNativeOnlineStatus: () => (/* binding */ Rs),\n/* harmony export */   getRecapAbilitiesFromResource: () => (/* binding */ Dc),\n/* harmony export */   getRecapFromResources: () => (/* binding */ je),\n/* harmony export */   getRecapResource: () => (/* binding */ ro),\n/* harmony export */   getRelayClientMetadata: () => (/* binding */ li),\n/* harmony export */   getRelayProtocolApi: () => (/* binding */ Ea),\n/* harmony export */   getRelayProtocolName: () => (/* binding */ xa),\n/* harmony export */   getRequiredNamespacesFromNamespaces: () => (/* binding */ Ha),\n/* harmony export */   getSdkError: () => (/* binding */ zt),\n/* harmony export */   getSearchParamFromURL: () => (/* binding */ Ri),\n/* harmony export */   getSignDirectHash: () => (/* binding */ Nc),\n/* harmony export */   getSuiDigest: () => (/* binding */ Ic),\n/* harmony export */   getUniqueValues: () => (/* binding */ tn),\n/* harmony export */   getWalletSendCallsHashes: () => (/* binding */ Uc),\n/* harmony export */   handleDeeplinkRedirect: () => (/* binding */ Ui),\n/* harmony export */   hasOverlap: () => (/* binding */ It),\n/* harmony export */   hashEthereumMessage: () => (/* binding */ hn),\n/* harmony export */   hashKey: () => (/* binding */ la),\n/* harmony export */   hashMessage: () => (/* binding */ da),\n/* harmony export */   isAndroid: () => (/* binding */ ci),\n/* harmony export */   isAppVisible: () => (/* binding */ uu),\n/* harmony export */   isBrowser: () => (/* binding */ Wt),\n/* harmony export */   isCaipNamespace: () => (/* binding */ Gn),\n/* harmony export */   isConformingNamespaces: () => (/* binding */ Ns),\n/* harmony export */   isExpired: () => (/* binding */ Oi),\n/* harmony export */   isIframe: () => (/* binding */ Sr),\n/* harmony export */   isIos: () => (/* binding */ fi),\n/* harmony export */   isNode: () => (/* binding */ rn),\n/* harmony export */   isOnline: () => (/* binding */ fu),\n/* harmony export */   isProposalStruct: () => (/* binding */ Fa),\n/* harmony export */   isReactNative: () => (/* binding */ At),\n/* harmony export */   isRecap: () => (/* binding */ mn),\n/* harmony export */   isSessionCompatible: () => (/* binding */ Ka),\n/* harmony export */   isSessionStruct: () => (/* binding */ Za),\n/* harmony export */   isTelegram: () => (/* binding */ Ir),\n/* harmony export */   isTestRun: () => (/* binding */ Ti),\n/* harmony export */   isTypeOneEnvelope: () => (/* binding */ ma),\n/* harmony export */   isTypeTwoEnvelope: () => (/* binding */ wa),\n/* harmony export */   isUndefined: () => (/* binding */ Dt),\n/* harmony export */   isValidAccountId: () => (/* binding */ vs),\n/* harmony export */   isValidAccounts: () => (/* binding */ Bs),\n/* harmony export */   isValidActions: () => (/* binding */ Is),\n/* harmony export */   isValidArray: () => (/* binding */ Ee),\n/* harmony export */   isValidChainId: () => (/* binding */ Be),\n/* harmony export */   isValidChains: () => (/* binding */ xs),\n/* harmony export */   isValidController: () => (/* binding */ Ga),\n/* harmony export */   isValidEip1271Signature: () => (/* binding */ zr),\n/* harmony export */   isValidEip191Signature: () => (/* binding */ Gr),\n/* harmony export */   isValidErrorReason: () => (/* binding */ Ja),\n/* harmony export */   isValidEvent: () => (/* binding */ eu),\n/* harmony export */   isValidId: () => (/* binding */ Wa),\n/* harmony export */   isValidNamespaceAccounts: () => (/* binding */ As),\n/* harmony export */   isValidNamespaceActions: () => (/* binding */ Yn),\n/* harmony export */   isValidNamespaceChains: () => (/* binding */ Es),\n/* harmony export */   isValidNamespaceMethodsOrEvents: () => (/* binding */ zn),\n/* harmony export */   isValidNamespaces: () => (/* binding */ Ss),\n/* harmony export */   isValidNamespacesChainId: () => (/* binding */ nu),\n/* harmony export */   isValidNamespacesEvent: () => (/* binding */ ou),\n/* harmony export */   isValidNamespacesRequest: () => (/* binding */ ru),\n/* harmony export */   isValidNumber: () => (/* binding */ We),\n/* harmony export */   isValidObject: () => (/* binding */ Ye),\n/* harmony export */   isValidParams: () => (/* binding */ Xa),\n/* harmony export */   isValidRecap: () => (/* binding */ yt),\n/* harmony export */   isValidRelay: () => (/* binding */ Os),\n/* harmony export */   isValidRelays: () => (/* binding */ Ya),\n/* harmony export */   isValidRequest: () => (/* binding */ Qa),\n/* harmony export */   isValidRequestExpiry: () => (/* binding */ cu),\n/* harmony export */   isValidRequiredNamespaces: () => (/* binding */ za),\n/* harmony export */   isValidResponse: () => (/* binding */ tu),\n/* harmony export */   isValidString: () => (/* binding */ ft),\n/* harmony export */   isValidUrl: () => (/* binding */ qa),\n/* harmony export */   mapEntries: () => (/* binding */ mi),\n/* harmony export */   mapToObj: () => (/* binding */ bi),\n/* harmony export */   mergeArrays: () => (/* binding */ ut),\n/* harmony export */   mergeEncodedRecaps: () => (/* binding */ Mc),\n/* harmony export */   mergeRecaps: () => (/* binding */ ao),\n/* harmony export */   mergeRequiredAndOptionalNamespaces: () => (/* binding */ Ma),\n/* harmony export */   normalizeNamespaces: () => (/* binding */ xe),\n/* harmony export */   objToMap: () => (/* binding */ yi),\n/* harmony export */   openDeeplink: () => (/* binding */ Ar),\n/* harmony export */   parseAccountId: () => (/* binding */ Qe),\n/* harmony export */   parseChainId: () => (/* binding */ Je),\n/* harmony export */   parseContextNames: () => (/* binding */ vr),\n/* harmony export */   parseExpirerTarget: () => (/* binding */ Ii),\n/* harmony export */   parseNamespaceKey: () => (/* binding */ bs),\n/* harmony export */   parseRelayParams: () => (/* binding */ fs),\n/* harmony export */   parseTopic: () => (/* binding */ as),\n/* harmony export */   parseUri: () => (/* binding */ Ua),\n/* harmony export */   populateAppMetadata: () => (/* binding */ ui),\n/* harmony export */   populateAuthPayload: () => (/* binding */ Pc),\n/* harmony export */   recapHasResource: () => (/* binding */ Hc),\n/* harmony export */   serialize: () => (/* binding */ Fn),\n/* harmony export */   sleep: () => (/* binding */ Ci),\n/* harmony export */   ss58AddressToPublicKey: () => (/* binding */ js),\n/* harmony export */   subscribeToBrowserNetworkChange: () => (/* binding */ Ts),\n/* harmony export */   subscribeToNetworkChange: () => (/* binding */ au),\n/* harmony export */   subscribeToReactNativeNetworkChange: () => (/* binding */ Cs),\n/* harmony export */   toBase64: () => (/* binding */ Or),\n/* harmony export */   uuidv4: () => (/* binding */ $i),\n/* harmony export */   validateDecoding: () => (/* binding */ ya),\n/* harmony export */   validateEncoding: () => (/* binding */ rs),\n/* harmony export */   validateSignedCacao: () => (/* binding */ Lc),\n/* harmony export */   verifyP256Jwt: () => (/* binding */ va),\n/* harmony export */   verifySignature: () => (/* binding */ Zr)\n/* harmony export */ });\n/* harmony import */ var detect_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! detect-browser */ \"(ssr)/./node_modules/detect-browser/es/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/window-metadata */ \"(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverAddress.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bs58 */ \"(ssr)/./node_modules/bs58/src/esm/index.js\");\n/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @msgpack/msgpack */ \"(ssr)/./node_modules/@msgpack/msgpack/dist.esm/decode.mjs\");\n/* harmony import */ var _msgpack_msgpack__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @msgpack/msgpack */ \"(ssr)/./node_modules/@msgpack/msgpack/dist.esm/encode.mjs\");\n/* harmony import */ var _scure_base__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @scure/base */ \"(ssr)/./node_modules/@scure/base/lib/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-api */ \"(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js\");\n/* harmony import */ var blakejs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! blakejs */ \"(ssr)/./node_modules/blakejs/index.js\");\n/* harmony import */ var blakejs__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(blakejs__WEBPACK_IMPORTED_MODULE_7__);\nconst Ae=\":\";function Je(t){const[e,n]=t.split(Ae);return{namespace:e,reference:n}}function or(t){const{namespace:e,reference:n}=t;return[e,n].join(Ae)}function Qe(t){const[e,n,r]=t.split(Ae);return{namespace:e,reference:n,address:r}}function sr(t){const{namespace:e,reference:n,address:r}=t;return[e,n,r].join(Ae)}function tn(t,e){const n=[];return t.forEach(r=>{const o=e(r);n.includes(o)||n.push(o)}),n}function ir(t){const{address:e}=Qe(t);return e}function cr(t){const{namespace:e,reference:n}=Qe(t);return or({namespace:e,reference:n})}function zs(t,e){const{namespace:n,reference:r}=Je(e);return sr({namespace:n,reference:r,address:t})}function Ys(t){return tn(t,ir)}function fr(t){return tn(t,cr)}function Ws(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...o.accounts)}),n}function Xs(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...fr(o.accounts))}),n}function Js(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...Ie(r,o))}),n}function Ie(t,e){return t.includes(\":\")?[t]:e.chains||[]}var Qs=Object.defineProperty,ti=Object.defineProperties,ei=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertySymbols,ni=Object.prototype.hasOwnProperty,ri=Object.prototype.propertyIsEnumerable,en=(t,e,n)=>e in t?Qs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ur=(t,e)=>{for(var n in e||(e={}))ni.call(e,n)&&en(t,n,e[n]);if(ar)for(var n of ar(e))ri.call(e,n)&&en(t,n,e[n]);return t},oi=(t,e)=>ti(t,ei(e)),lr=(t,e,n)=>en(t,typeof e!=\"symbol\"?e+\"\":e,n);const dr=\"ReactNative\",et={reactNative:\"react-native\",node:\"node\",browser:\"browser\",unknown:\"unknown\"},Se=\" \",si=\":\",hr=\"/\",nn=2,ii=1e3,pr=\"js\";function rn(){return typeof process<\"u\"&&typeof process.versions<\"u\"&&typeof process.versions.node<\"u\"}function At(){return!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&navigator.product===dr}function ci(){return At()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"android\"}function fi(){return At()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"ios\"}function Wt(){return!rn()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()}function Vt(){return At()?et.reactNative:rn()?et.node:Wt()?et.browser:et.unknown}function ai(){var t;try{return At()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Application)<\"u\"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function gr(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[o])=>r.localeCompare(o)).forEach(([r,o])=>{o!=null&&n.set(r,String(o))}),n.toString()}function ui(t){var e,n;const r=br();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(o=>o!==\"\")),oi(ur(ur({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(o){return console.warn(\"Error populating app metadata\",o),t||r}}function br(){return (0,_walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__.getWindowMetadata)()||{name:\"\",description:\"\",url:\"\",icons:[\"\"]}}function li(t,e){var n;const r=Vt(),o={protocol:t,version:e,env:r};return r===\"browser\"&&(o.host=((n=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:n.host)||\"unknown\"),o}function yr(){if(Vt()===et.reactNative&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"){const{OS:n,Version:r}=global.Platform;return[n,r].join(\"-\")}const t=(0,detect_browser__WEBPACK_IMPORTED_MODULE_8__.detect)();if(t===null)return\"unknown\";const e=t.os?t.os.replace(\" \",\"\").toLowerCase():\"unknown\";return t.type===\"browser\"?[e,t.name,t.version].join(\"-\"):[e,t.version].join(\"-\")}function mr(){var t;const e=Vt();return e===et.browser?[e,((t=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:t.host)||\"unknown\"].join(\":\"):e}function wr(t,e,n){const r=yr(),o=mr();return[[t,e].join(\"-\"),[pr,n].join(\"-\"),r,o].join(\"/\")}function di({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:o,projectId:s,useOnCloseEvent:i,bundleId:c,packageName:f}){const u=n.split(\"?\"),a=wr(t,e,r),l={auth:o,ua:a,projectId:s,useOnCloseEvent:i||void 0,packageName:f||void 0,bundleId:c||void 0},d=gr(u[1]||\"\",l);return u[0]+\"?\"+d}function hi(t){let e=(t.match(/^[^:]+(?=:\\/\\/)/gi)||[])[0];const n=typeof e<\"u\"?t.split(\"://\")[1]:t;return e=e===\"wss\"?\"https\":\"http\",[e,n].join(\"://\")}function pi(t,e,n){if(!t[e]||typeof t[e]!==n)throw new Error(`Missing or invalid \"${e}\" param`)}function vr(t,e=nn){return xr(t.split(hr),e)}function gi(t){return vr(t).join(Se)}function It(t,e){return t.filter(n=>e.includes(n)).length===t.length}function xr(t,e=nn){return t.slice(Math.max(t.length-e,0))}function bi(t){return Object.fromEntries(t.entries())}function yi(t){return new Map(Object.entries(t))}function mi(t,e){const n={};return Object.keys(t).forEach(r=>{n[r]=e(t[r])}),n}const wi=t=>t;function Er(t){return t.trim().replace(/^\\w/,e=>e.toUpperCase())}function vi(t){return t.split(Se).map(e=>Er(e)).join(Se)}function xi(t=_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES,e){const n=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t||_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES);let r,o,s,i;return{resolve:c=>{s&&r&&(clearTimeout(s),r(c),i=Promise.resolve(c))},reject:c=>{s&&o&&(clearTimeout(s),o(c))},done:()=>new Promise((c,f)=>{if(i)return c(i);s=setTimeout(()=>{const u=new Error(e);i=Promise.reject(u),f(u)},n),r=c,o=f})}}function Ei(t,e,n){return new Promise(async(r,o)=>{const s=setTimeout(()=>o(new Error(n)),e);try{const i=await t;r(i)}catch(i){o(i)}clearTimeout(s)})}function on(t,e){if(typeof e==\"string\"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()===\"topic\"){if(typeof e!=\"string\")throw new Error('Value must be \"string\" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()===\"id\"){if(typeof e!=\"number\")throw new Error('Value must be \"number\" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Bi(t){return on(\"topic\",t)}function Ai(t){return on(\"id\",t)}function Ii(t){const[e,n]=t.split(\":\"),r={id:void 0,topic:void 0};if(e===\"topic\"&&typeof n==\"string\")r.topic=n;else if(e===\"id\"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Si(t,e){return (0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.fromMiliseconds)((e||Date.now())+(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t))}function Oi(t){return Date.now()>=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t)}function Ni(t,e){return`${t}${e?`:${e}`:\"\"}`}function ut(t=[],e=[]){return[...new Set([...t,...e])]}async function Ui({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const o=typeof n==\"string\"?JSON.parse(n):n,s=o?.href;if(typeof s!=\"string\")return;const i=Br(s,t,e),c=Vt();if(c===et.browser){if(!((r=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())!=null&&r.hasFocus())){console.warn(\"Document does not have focus, skipping deeplink.\");return}Ar(i)}else c===et.reactNative&&typeof(global==null?void 0:global.Linking)<\"u\"&&await global.Linking.openURL(i)}catch(o){console.error(o)}}function Br(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith(\"/\")&&(t=t.slice(0,-1));let o=`${t}`;if(t.startsWith(\"https://t.me\")){const s=t.includes(\"?\")?\"&startapp=\":\"?startapp=\";o=`${o}${s}${Or(r,!0)}`}else o=`${o}/wc?${r}`;return o}function Ar(t){let e=\"_self\";Sr()?e=\"_top\":(Ir()||t.startsWith(\"https://\")||t.startsWith(\"http://\"))&&(e=\"_blank\"),window.open(t,e,\"noreferrer noopener\")}async function _i(t,e){let n=\"\";try{if(Wt()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function sn(t,e){return t.filter(n=>e.includes(n))}function Ri(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function $i(){return typeof crypto<\"u\"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t===\"x\"?e:e&3|8).toString(16)})}function Ti(){return typeof process<\"u\"&&process.env.IS_VITEST===\"true\"}function Ir(){return typeof window<\"u\"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Sr(){try{return window.self!==window.top}catch{return!1}}function Or(t,e=!1){const n=Buffer.from(t).toString(\"base64\");return e?n.replace(/[=]/g,\"\"):n}function cn(t){return Buffer.from(t,\"base64\").toString(\"utf-8\")}function Ci(t){return new Promise(e=>setTimeout(e,t))}class ji{constructor({limit:e}){lr(this,\"limit\"),lr(this,\"set\"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}}const Oe=BigInt(2**32-1),Nr=BigInt(32);function Ur(t,e=!1){return e?{h:Number(t&Oe),l:Number(t>>Nr&Oe)}:{h:Number(t>>Nr&Oe)|0,l:Number(t&Oe)|0}}function _r(t,e=!1){const n=t.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let s=0;s<n;s++){const{h:i,l:c}=Ur(t[s],e);[r[s],o[s]]=[i,c]}return[r,o]}const Rr=(t,e,n)=>t>>>n,$r=(t,e,n)=>t<<32-n|e>>>n,St=(t,e,n)=>t>>>n|e<<32-n,Ot=(t,e,n)=>t<<32-n|e>>>n,de=(t,e,n)=>t<<64-n|e>>>n-32,he=(t,e,n)=>t>>>n-32|e<<64-n,Li=(t,e)=>e,ki=(t,e)=>t,Pi=(t,e,n)=>t<<n|e>>>32-n,Hi=(t,e,n)=>e<<n|t>>>32-n,Di=(t,e,n)=>e<<n-32|t>>>64-n,Vi=(t,e,n)=>t<<n-32|e>>>64-n;function dt(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const fn=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),an=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Mi=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Ki=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,qi=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),Fi=(t,e,n,r,o,s)=>e+n+r+o+s+(t/2**32|0)|0,Xt=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;function Ne(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function mt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function ht(t,...e){if(!Ne(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function Ue(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.createHasher\");mt(t.outputLen),mt(t.blockLen)}function Nt(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function un(t,e){ht(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function pe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function lt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ln(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bt(t,e){return t<<32-e|t>>>e}const Tr=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Cr(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const wt=Tr?t=>t:t=>Cr(t);function Zi(t){for(let e=0;e<t.length;e++)t[e]=Cr(t[e]);return t}const Ut=Tr?t=>t:Zi,jr=typeof Uint8Array.from([]).toHex==\"function\"&&typeof Uint8Array.fromHex==\"function\",Gi=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Jt(t){if(ht(t),jr)return t.toHex();let e=\"\";for(let n=0;n<t.length;n++)e+=Gi[t[n]];return e}const vt={_0:48,_9:57,A:65,F:70,a:97,f:102};function Lr(t){if(t>=vt._0&&t<=vt._9)return t-vt._0;if(t>=vt.A&&t<=vt.F)return t-(vt.A-10);if(t>=vt.a&&t<=vt.f)return t-(vt.a-10)}function _e(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);if(jr)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const i=Lr(t.charCodeAt(s)),c=Lr(t.charCodeAt(s+1));if(i===void 0||c===void 0){const f=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+f+'\" at index '+s)}r[o]=i*16+c}return r}function kr(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function pt(t){return typeof t==\"string\"&&(t=kr(t)),ht(t),t}function _t(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];ht(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length}return n}class Re{}function ge(t){const e=r=>t().update(pt(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function zi(t){const e=(r,o)=>t(o).update(pt(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Mt(t=32){if(Xt&&typeof Xt.getRandomValues==\"function\")return Xt.getRandomValues(new Uint8Array(t));if(Xt&&typeof Xt.randomBytes==\"function\")return Uint8Array.from(Xt.randomBytes(t));throw new Error(\"crypto.getRandomValues must be defined\")}const Yi=BigInt(0),be=BigInt(1),Wi=BigInt(2),Xi=BigInt(7),Ji=BigInt(256),Qi=BigInt(113),Pr=[],Hr=[],Dr=[];for(let t=0,e=be,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Pr.push(2*(5*r+n)),Hr.push((t+1)*(t+2)/2%64);let o=Yi;for(let s=0;s<7;s++)e=(e<<be^(e>>Xi)*Qi)%Ji,e&Wi&&(o^=be<<(be<<BigInt(s))-be);Dr.push(o)}const Vr=_r(Dr,!0),tc=Vr[0],ec=Vr[1],Mr=(t,e,n)=>n>32?Di(t,e,n):Pi(t,e,n),Kr=(t,e,n)=>n>32?Vi(t,e,n):Hi(t,e,n);function nc(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){const c=(i+8)%10,f=(i+2)%10,u=n[f],a=n[f+1],l=Mr(u,a,1)^n[c],d=Kr(u,a,1)^n[c+1];for(let h=0;h<50;h+=10)t[i+h]^=l,t[i+h+1]^=d}let o=t[2],s=t[3];for(let i=0;i<24;i++){const c=Hr[i],f=Mr(o,s,c),u=Kr(o,s,c),a=Pr[i];o=t[a],s=t[a+1],t[a]=f,t[a+1]=u}for(let i=0;i<50;i+=10){for(let c=0;c<10;c++)n[c]=t[i+c];for(let c=0;c<10;c++)t[i+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=tc[r],t[1]^=ec[r]}lt(n)}class Jn extends Re{constructor(e,n,r,o=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=s,mt(r),!(0<e&&e<200))throw new Error(\"only keccak-f1600 function is supported\");this.state=new Uint8Array(200),this.state32=pe(this.state)}clone(){return this._cloneInto()}keccak(){Ut(this.state32),nc(this.state32,this.rounds),Ut(this.state32),this.posOut=0,this.pos=0}update(e){Nt(this),e=pt(e),ht(e);const{blockLen:n,state:r}=this,o=e.length;for(let s=0;s<o;){const i=Math.min(n-this.pos,o-s);for(let c=0;c<i;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Nt(this,!1),ht(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,s=e.length;o<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-o);e.set(n.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return mt(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(un(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,lt(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:s,enableXOF:i}=this;return e||(e=new Jn(n,r,o,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=o,e.enableXOF=i,e.destroyed=this.destroyed,e}}const rc=(t,e,n)=>ge(()=>new Jn(e,t,n)),oc=rc(1,136,256/8);function sc(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),f=r?4:0,u=r?0:4;t.setUint32(e+f,i,r),t.setUint32(e+u,c,r)}function ic(t,e,n){return t&e^~t&n}function cc(t,e,n){return t&e^t&n^e&n}class qr extends Re{constructor(e,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=ln(this.buffer)}update(e){Nt(this),e=pt(e),ht(e);const{view:n,buffer:r,blockLen:o}=this,s=e.length;for(let i=0;i<s;){const c=Math.min(o-this.pos,s-i);if(c===o){const f=ln(e);for(;o<=s-i;i+=o)this.process(f,i);continue}r.set(e.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nt(this),un(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:i}=this;n[i++]=128,lt(this.buffer.subarray(i)),this.padOffset>o-i&&(this.process(r,0),i=0);for(let l=i;l<o;l++)n[l]=0;sc(r,o-8,BigInt(this.length*8),s),this.process(r,0);const c=ln(e),f=this.outputLen;if(f%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const u=f/4,a=this.get();if(u>a.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let l=0;l<u;l++)c.setUint32(4*l,a[l],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:c}=this;return e.destroyed=i,e.finished=s,e.length=o,e.pos=c,o%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Rt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),X=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),J=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),fc=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$t=new Uint32Array(64);class ac extends qr{constructor(e=32){super(64,e,8,!1),this.A=Rt[0]|0,this.B=Rt[1]|0,this.C=Rt[2]|0,this.D=Rt[3]|0,this.E=Rt[4]|0,this.F=Rt[5]|0,this.G=Rt[6]|0,this.H=Rt[7]|0}get(){const{A:e,B:n,C:r,D:o,E:s,F:i,G:c,H:f}=this;return[e,n,r,o,s,i,c,f]}set(e,n,r,o,s,i,c,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=c|0,this.H=f|0}process(e,n){for(let l=0;l<16;l++,n+=4)$t[l]=e.getUint32(n,!1);for(let l=16;l<64;l++){const d=$t[l-15],h=$t[l-2],y=bt(d,7)^bt(d,18)^d>>>3,m=bt(h,17)^bt(h,19)^h>>>10;$t[l]=m+$t[l-7]+y+$t[l-16]|0}let{A:r,B:o,C:s,D:i,E:c,F:f,G:u,H:a}=this;for(let l=0;l<64;l++){const d=bt(c,6)^bt(c,11)^bt(c,25),h=a+d+ic(c,f,u)+fc[l]+$t[l]|0,m=(bt(r,2)^bt(r,13)^bt(r,22))+cc(r,o,s)|0;a=u,u=f,f=c,c=i+h|0,i=s,s=o,o=r,r=h+m|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,c=c+this.E|0,f=f+this.F|0,u=u+this.G|0,a=a+this.H|0,this.set(r,o,s,i,c,f,u,a)}roundClean(){lt($t)}destroy(){this.set(0,0,0,0,0,0,0,0),lt(this.buffer)}}const Fr=_r([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map(t=>BigInt(t))),uc=Fr[0],lc=Fr[1],Tt=new Uint32Array(80),Ct=new Uint32Array(80);class dn extends qr{constructor(e=64){super(128,e,16,!1),this.Ah=J[0]|0,this.Al=J[1]|0,this.Bh=J[2]|0,this.Bl=J[3]|0,this.Ch=J[4]|0,this.Cl=J[5]|0,this.Dh=J[6]|0,this.Dl=J[7]|0,this.Eh=J[8]|0,this.El=J[9]|0,this.Fh=J[10]|0,this.Fl=J[11]|0,this.Gh=J[12]|0,this.Gl=J[13]|0,this.Hh=J[14]|0,this.Hl=J[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:s,Cl:i,Dh:c,Dl:f,Eh:u,El:a,Fh:l,Fl:d,Gh:h,Gl:y,Hh:m,Hl:v}=this;return[e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v]}set(e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=i|0,this.Dh=c|0,this.Dl=f|0,this.Eh=u|0,this.El=a|0,this.Fh=l|0,this.Fl=d|0,this.Gh=h|0,this.Gl=y|0,this.Hh=m|0,this.Hl=v|0}process(e,n){for(let R=0;R<16;R++,n+=4)Tt[R]=e.getUint32(n),Ct[R]=e.getUint32(n+=4);for(let R=16;R<80;R++){const Z=Tt[R-15]|0,H=Ct[R-15]|0,j=St(Z,H,1)^St(Z,H,8)^Rr(Z,H,7),L=Ot(Z,H,1)^Ot(Z,H,8)^$r(Z,H,7),k=Tt[R-2]|0,O=Ct[R-2]|0,T=St(k,O,19)^de(k,O,61)^Rr(k,O,6),C=Ot(k,O,19)^he(k,O,61)^$r(k,O,6),_=Mi(L,C,Ct[R-7],Ct[R-16]),p=Ki(_,j,T,Tt[R-7],Tt[R-16]);Tt[R]=p|0,Ct[R]=_|0}let{Ah:r,Al:o,Bh:s,Bl:i,Ch:c,Cl:f,Dh:u,Dl:a,Eh:l,El:d,Fh:h,Fl:y,Gh:m,Gl:v,Hh:U,Hl:F}=this;for(let R=0;R<80;R++){const Z=St(l,d,14)^St(l,d,18)^de(l,d,41),H=Ot(l,d,14)^Ot(l,d,18)^he(l,d,41),j=l&h^~l&m,L=d&y^~d&v,k=qi(F,H,L,lc[R],Ct[R]),O=Fi(k,U,Z,j,uc[R],Tt[R]),T=k|0,C=St(r,o,28)^de(r,o,34)^de(r,o,39),_=Ot(r,o,28)^he(r,o,34)^he(r,o,39),p=r&s^r&c^s&c,b=o&i^o&f^i&f;U=m|0,F=v|0,m=h|0,v=y|0,h=l|0,y=d|0,{h:l,l:d}=dt(u|0,a|0,O|0,T|0),u=c|0,a=f|0,c=s|0,f=i|0,s=r|0,i=o|0;const g=fn(T,_,b);r=an(g,O,C,p),o=g|0}({h:r,l:o}=dt(this.Ah|0,this.Al|0,r|0,o|0)),{h:s,l:i}=dt(this.Bh|0,this.Bl|0,s|0,i|0),{h:c,l:f}=dt(this.Ch|0,this.Cl|0,c|0,f|0),{h:u,l:a}=dt(this.Dh|0,this.Dl|0,u|0,a|0),{h:l,l:d}=dt(this.Eh|0,this.El|0,l|0,d|0),{h,l:y}=dt(this.Fh|0,this.Fl|0,h|0,y|0),{h:m,l:v}=dt(this.Gh|0,this.Gl|0,m|0,v|0),{h:U,l:F}=dt(this.Hh|0,this.Hl|0,U|0,F|0),this.set(r,o,s,i,c,f,u,a,l,d,h,y,m,v,U,F)}roundClean(){lt(Tt,Ct)}destroy(){lt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class dc extends dn{constructor(){super(48),this.Ah=X[0]|0,this.Al=X[1]|0,this.Bh=X[2]|0,this.Bl=X[3]|0,this.Ch=X[4]|0,this.Cl=X[5]|0,this.Dh=X[6]|0,this.Dl=X[7]|0,this.Eh=X[8]|0,this.El=X[9]|0,this.Fh=X[10]|0,this.Fl=X[11]|0,this.Gh=X[12]|0,this.Gl=X[13]|0,this.Hh=X[14]|0,this.Hl=X[15]|0}}const Q=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class hc extends dn{constructor(){super(32),this.Ah=Q[0]|0,this.Al=Q[1]|0,this.Bh=Q[2]|0,this.Bl=Q[3]|0,this.Ch=Q[4]|0,this.Cl=Q[5]|0,this.Dh=Q[6]|0,this.Dl=Q[7]|0,this.Eh=Q[8]|0,this.El=Q[9]|0,this.Fh=Q[10]|0,this.Fl=Q[11]|0,this.Gh=Q[12]|0,this.Gl=Q[13]|0,this.Hh=Q[14]|0,this.Hl=Q[15]|0}}const $e=ge(()=>new ac),pc=ge(()=>new dn),gc=ge(()=>new dc),bc=ge(()=>new hc),yc=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),z=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),S=new Uint32Array(32);function jt(t,e,n,r,o,s){const i=o[s],c=o[s+1];let f=S[2*t],u=S[2*t+1],a=S[2*e],l=S[2*e+1],d=S[2*n],h=S[2*n+1],y=S[2*r],m=S[2*r+1],v=fn(f,a,i);u=an(v,u,l,c),f=v|0,{Dh:m,Dl:y}={Dh:m^u,Dl:y^f},{Dh:m,Dl:y}={Dh:Li(m,y),Dl:ki(m)},{h,l:d}=dt(h,d,m,y),{Bh:l,Bl:a}={Bh:l^h,Bl:a^d},{Bh:l,Bl:a}={Bh:St(l,a,24),Bl:Ot(l,a,24)},S[2*t]=f,S[2*t+1]=u,S[2*e]=a,S[2*e+1]=l,S[2*n]=d,S[2*n+1]=h,S[2*r]=y,S[2*r+1]=m}function Lt(t,e,n,r,o,s){const i=o[s],c=o[s+1];let f=S[2*t],u=S[2*t+1],a=S[2*e],l=S[2*e+1],d=S[2*n],h=S[2*n+1],y=S[2*r],m=S[2*r+1],v=fn(f,a,i);u=an(v,u,l,c),f=v|0,{Dh:m,Dl:y}={Dh:m^u,Dl:y^f},{Dh:m,Dl:y}={Dh:St(m,y,16),Dl:Ot(m,y,16)},{h,l:d}=dt(h,d,m,y),{Bh:l,Bl:a}={Bh:l^h,Bl:a^d},{Bh:l,Bl:a}={Bh:de(l,a,63),Bl:he(l,a,63)},S[2*t]=f,S[2*t+1]=u,S[2*e]=a,S[2*e+1]=l,S[2*n]=d,S[2*n+1]=h,S[2*r]=y,S[2*r+1]=m}function mc(t,e={},n,r,o){if(mt(n),t<0||t>n)throw new Error(\"outputLen bigger than keyLen\");const{key:s,salt:i,personalization:c}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error(\"key length must be undefined or 1..\"+n);if(i!==void 0&&i.length!==r)throw new Error(\"salt must be undefined or \"+r);if(c!==void 0&&c.length!==o)throw new Error(\"personalization must be undefined or \"+o)}class wc extends Re{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,mt(e),mt(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=pe(this.buffer)}update(e){Nt(this),e=pt(e),ht(e);const{blockLen:n,buffer:r,buffer32:o}=this,s=e.length,i=e.byteOffset,c=e.buffer;for(let f=0;f<s;){this.pos===n&&(Ut(o),this.compress(o,0,!1),Ut(o),this.pos=0);const u=Math.min(n-this.pos,s-f),a=i+f;if(u===n&&!(a%4)&&f+u<s){const l=new Uint32Array(c,a,Math.floor((s-f)/4));Ut(l);for(let d=0;f+n<s;d+=o.length,f+=n)this.length+=n,this.compress(l,d,!1);Ut(l);continue}r.set(e.subarray(f,f+u),this.pos),this.pos+=u,this.length+=u,f+=u}return this}digestInto(e){Nt(this),un(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,lt(this.buffer.subarray(n)),Ut(r),this.compress(r,0,!0),Ut(r);const o=pe(e);this.get().forEach((s,i)=>o[i]=wt(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:o,destroyed:s,outputLen:i,pos:c}=this;return e||(e=new this.constructor({dkLen:i})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=o,e.length=r,e.pos=c,e.outputLen=i,e}clone(){return this._cloneInto()}}class vc extends wc{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=z[0]|0,this.v0h=z[1]|0,this.v1l=z[2]|0,this.v1h=z[3]|0,this.v2l=z[4]|0,this.v2h=z[5]|0,this.v3l=z[6]|0,this.v3h=z[7]|0,this.v4l=z[8]|0,this.v4h=z[9]|0,this.v5l=z[10]|0,this.v5h=z[11]|0,this.v6l=z[12]|0,this.v6h=z[13]|0,this.v7l=z[14]|0,this.v7h=z[15]|0,mc(n,e,64,16,16);let{key:r,personalization:o,salt:s}=e,i=0;if(r!==void 0&&(r=pt(r),i=r.length),this.v0l^=this.outputLen|i<<8|65536|1<<24,s!==void 0){s=pt(s);const c=pe(s);this.v4l^=wt(c[0]),this.v4h^=wt(c[1]),this.v5l^=wt(c[2]),this.v5h^=wt(c[3])}if(o!==void 0){o=pt(o);const c=pe(o);this.v6l^=wt(c[0]),this.v6h^=wt(c[1]),this.v7l^=wt(c[2]),this.v7h^=wt(c[3])}if(r!==void 0){const c=new Uint8Array(this.blockLen);c.set(r),this.update(c)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:o,v2l:s,v2h:i,v3l:c,v3h:f,v4l:u,v4h:a,v5l:l,v5h:d,v6l:h,v6h:y,v7l:m,v7h:v}=this;return[e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v]}set(e,n,r,o,s,i,c,f,u,a,l,d,h,y,m,v){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=o|0,this.v2l=s|0,this.v2h=i|0,this.v3l=c|0,this.v3h=f|0,this.v4l=u|0,this.v4h=a|0,this.v5l=l|0,this.v5h=d|0,this.v6l=h|0,this.v6h=y|0,this.v7l=m|0,this.v7h=v|0}compress(e,n,r){this.get().forEach((f,u)=>S[u]=f),S.set(z,16);let{h:o,l:s}=Ur(BigInt(this.length));S[24]=z[8]^s,S[25]=z[9]^o,r&&(S[28]=~S[28],S[29]=~S[29]);let i=0;const c=yc;for(let f=0;f<12;f++)jt(0,4,8,12,e,n+2*c[i++]),Lt(0,4,8,12,e,n+2*c[i++]),jt(1,5,9,13,e,n+2*c[i++]),Lt(1,5,9,13,e,n+2*c[i++]),jt(2,6,10,14,e,n+2*c[i++]),Lt(2,6,10,14,e,n+2*c[i++]),jt(3,7,11,15,e,n+2*c[i++]),Lt(3,7,11,15,e,n+2*c[i++]),jt(0,5,10,15,e,n+2*c[i++]),Lt(0,5,10,15,e,n+2*c[i++]),jt(1,6,11,12,e,n+2*c[i++]),Lt(1,6,11,12,e,n+2*c[i++]),jt(2,7,8,13,e,n+2*c[i++]),Lt(2,7,8,13,e,n+2*c[i++]),jt(3,4,9,14,e,n+2*c[i++]),Lt(3,4,9,14,e,n+2*c[i++]);this.v0l^=S[0]^S[16],this.v0h^=S[1]^S[17],this.v1l^=S[2]^S[18],this.v1h^=S[3]^S[19],this.v2l^=S[4]^S[20],this.v2h^=S[5]^S[21],this.v3l^=S[6]^S[22],this.v3h^=S[7]^S[23],this.v4l^=S[8]^S[24],this.v4h^=S[9]^S[25],this.v5l^=S[10]^S[26],this.v5h^=S[11]^S[27],this.v6l^=S[12]^S[28],this.v6h^=S[13]^S[29],this.v7l^=S[14]^S[30],this.v7h^=S[15]^S[31],lt(S)}destroy(){this.destroyed=!0,lt(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const xc=zi(t=>new vc(t)),Ec=\"https://rpc.walletconnect.org/v1\";function hn(t){const e=`\u0019Ethereum Signed Message:\n${t.length}`,n=new TextEncoder().encode(e+t);return\"0x\"+Buffer.from(oc(n)).toString(\"hex\")}async function Zr(t,e,n,r,o,s){switch(n.t){case\"eip191\":return await Gr(t,e,n.s);case\"eip1271\":return await zr(t,e,n.s,r,o,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Gr(t,e,n){return(await (0,viem__WEBPACK_IMPORTED_MODULE_9__.recoverAddress)({hash:hn(e),signature:n})).toLowerCase()===t.toLowerCase()}async function zr(t,e,n,r,o,s){const i=Je(r);if(!i.namespace||!i.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c=\"0x1626ba7e\",f=\"0000000000000000000000000000000000000000000000000000000000000040\",u=n.substring(2),a=(u.length/2).toString(16).padStart(64,\"0\"),l=(e.startsWith(\"0x\")?e:hn(e)).substring(2),d=c+l+f+a+u,h=await fetch(`${s||Ec}/?chainId=${r}&projectId=${o}`,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify({id:Bc(),jsonrpc:\"2.0\",method:\"eth_call\",params:[{to:t,data:d},\"latest\"]})}),{result:y}=await h.json();return y?y.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error(\"isValidEip1271Signature: \",c),!1}}function Bc(){return Date.now()+Math.floor(Math.random()*1e3)}function Ac(t){const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);const r=n[0];if(r===0)throw new Error(\"No signatures found\");const o=1+r*64;if(n.length<o)throw new Error(\"Transaction data too short for claimed signature count\");if(n.length<100)throw new Error(\"Transaction too short\");const s=Buffer.from(t,\"base64\").slice(1,65);return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(s)}function Ic(t){const e=new Uint8Array(Buffer.from(t,\"base64\")),n=Array.from(\"TransactionData::\").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const o=xc(r,{dkLen:32});return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(o)}function Sc(t){const e=new Uint8Array($e(Yr(t)));return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(e)}function Yr(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t==\"object\"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t==\"object\"&&t)return new Uint8Array(Object.values(t));throw new Error(\"getNearUint8ArrayFromBytes: Unexpected result type from bytes array\")}function Oc(t){const e=Buffer.from(t,\"base64\"),n=(0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_10__.decode)(e).txn;if(!n)throw new Error(\"Invalid signed transaction: missing 'txn' field\");const r=(0,_msgpack_msgpack__WEBPACK_IMPORTED_MODULE_11__.encode)(n),o=Buffer.from(\"TX\"),s=Buffer.concat([o,Buffer.from(r)]),i=bc(s);return _scure_base__WEBPACK_IMPORTED_MODULE_12__.base32.encode(i).replace(/=+$/,\"\")}function pn(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function Nc(t){const e=Buffer.from(t.signed.bodyBytes,\"base64\"),n=Buffer.from(t.signed.authInfoBytes,\"base64\"),r=Buffer.from(t.signature.signature,\"base64\"),o=[];o.push(Buffer.from([10])),o.push(pn(e.length)),o.push(e),o.push(Buffer.from([18])),o.push(pn(n.length)),o.push(n),o.push(Buffer.from([26])),o.push(pn(r.length)),o.push(r);const s=Buffer.concat(o),i=$e(s);return Buffer.from(i).toString(\"hex\").toUpperCase()}function Uc(t){var e,n;const r=[];try{if(typeof t==\"string\")return r.push(t),r;if(typeof t!=\"object\")return r;t!=null&&t.id&&r.push(t.id);const o=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;o&&r.push(...o)}catch(o){console.warn(\"getWalletSendCallsHashes failed: \",o)}return r}var _c=Object.defineProperty,Rc=Object.defineProperties,$c=Object.getOwnPropertyDescriptors,Wr=Object.getOwnPropertySymbols,Tc=Object.prototype.hasOwnProperty,Cc=Object.prototype.propertyIsEnumerable,Xr=(t,e,n)=>e in t?_c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gn=(t,e)=>{for(var n in e||(e={}))Tc.call(e,n)&&Xr(t,n,e[n]);if(Wr)for(var n of Wr(e))Cc.call(e,n)&&Xr(t,n,e[n]);return t},Jr=(t,e)=>Rc(t,$c(e));const jc=\"did:pkh:\",Te=t=>t?.split(\":\"),Qr=t=>{const e=t&&Te(t);if(e)return t.includes(jc)?e[3]:e[1]},to=t=>{const e=t&&Te(t);if(e)return e[2]+\":\"+e[3]},bn=t=>{const e=t&&Te(t);if(e)return e.pop()};async function Lc(t){const{cacao:e,projectId:n}=t,{s:r,p:o}=e,s=eo(o,o.iss),i=bn(o.iss);return await Zr(i,s,r,to(o.iss),n)}const eo=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=bn(e);if(!t.aud&&!t.uri)throw new Error(\"Either `aud` or `uri` is required to construct the message\");let o=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,i=`Version: ${t.version}`,c=`Chain ID: ${Qr(e)}`,f=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,a=t.exp?`Expiration Time: ${t.exp}`:void 0,l=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(m=>`\n- ${m}`).join(\"\")}`:void 0,y=je(t.resources);if(y){const m=kt(y);o=wn(o,m)}return[n,r,\"\",o,\"\",s,i,c,f,u,a,l,d,h].filter(m=>m!=null).join(`\n`)};function kc(t,e,n){return n.includes(\"did:pkh:\")||(n=`did:pkh:${n}`),{h:{t:\"caip122\"},p:{iss:n,domain:t.domain,aud:t.aud,version:t.version,nonce:t.nonce,iat:t.iat,statement:t.statement,requestId:t.requestId,resources:t.resources,nbf:t.nbf,exp:t.exp},s:e}}function Pc(t){var e;const{authPayload:n,chains:r,methods:o}=t,s=n.statement||\"\";if(!(r!=null&&r.length))return n;const i=n.chains,c=sn(i,r);if(!(c!=null&&c.length))throw new Error(\"No supported chains\");const f=no(n.resources);if(!f)return n;yt(f);const u=ro(f,\"eip155\");let a=n?.resources||[];if(u!=null&&u.length){const l=oo(u),d=sn(l,o);if(!(d!=null&&d.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(l)}, supported: ${JSON.stringify(o)}`);const h=yn(\"request\",d,{chains:c}),y=fo(f,\"eip155\",h);a=((e=n?.resources)==null?void 0:e.slice(0,-1))||[],a.push(Ce(y))}return Jr(gn({},n),{statement:uo(s,je(a)),chains:c,resources:n!=null&&n.resources||a.length>0?a:void 0})}function no(t){const e=je(t);if(e&&mn(e))return kt(e)}function Hc(t,e){var n;return(n=t?.att)==null?void 0:n.hasOwnProperty(e)}function ro(t,e){var n,r;return(n=t?.att)!=null&&n[e]?Object.keys((r=t?.att)==null?void 0:r[e]):[]}function Dc(t){return t?.map(e=>Object.keys(e))||[]}function oo(t){return t?.map(e=>{var n;return(n=e.split(\"/\"))==null?void 0:n[1]})||[]}function so(t){return Buffer.from(JSON.stringify(t)).toString(\"base64\")}function io(t){return JSON.parse(Buffer.from(t,\"base64\").toString(\"utf-8\"))}function yt(t){if(!t)throw new Error(\"No recap provided, value is undefined\");if(!t.att)throw new Error(\"No `att` property found\");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error(\"No resources found in `att` property\");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!=\"object\")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(o=>{const s=r[o];if(!Array.isArray(s))throw new Error(`Ability limits ${o} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${o} is empty array, must be an array with objects`);s.forEach(i=>{if(typeof i!=\"object\")throw new Error(`Ability limits (${o}) must be an array of objects, found: ${i}`)})})})}function co(t,e,n,r={}){return n?.sort((o,s)=>o.localeCompare(s)),{att:{[t]:yn(e,n,r)}}}function fo(t,e,n){var r;t.att[e]=gn({},n);const o=(r=Object.keys(t.att))==null?void 0:r.sort((i,c)=>i.localeCompare(c)),s={att:{}};return o.reduce((i,c)=>(i.att[c]=t.att[c],i),s)}function yn(t,e,n={}){e=e?.sort((o,s)=>o.localeCompare(s));const r=e.map(o=>({[`${t}/${o}`]:[n]}));return Object.assign({},...r)}function Ce(t){return yt(t),`urn:recap:${so(t).replace(/=/g,\"\")}`}function kt(t){const e=io(t.replace(\"urn:recap:\",\"\"));return yt(e),e}function Vc(t,e,n){const r=co(t,e,n);return Ce(r)}function mn(t){return t&&t.includes(\"urn:recap:\")}function Mc(t,e){const n=kt(t),r=kt(e),o=ao(n,r);return Ce(o)}function ao(t,e){yt(t),yt(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((o,s)=>o.localeCompare(s)),r={att:{}};return n.forEach(o=>{var s,i;Object.keys(((s=t.att)==null?void 0:s[o])||{}).concat(Object.keys(((i=e.att)==null?void 0:i[o])||{})).sort((c,f)=>c.localeCompare(f)).forEach(c=>{var f,u;r.att[o]=Jr(gn({},r.att[o]),{[c]:((f=t.att[o])==null?void 0:f[c])||((u=e.att[o])==null?void 0:u[c])})})}),r}function wn(t=\"\",e){yt(e);const n=\"I further authorize the stated URI to perform the following actions on my behalf: \";if(t.includes(n))return t;const r=[];let o=0;Object.keys(e.att).forEach(c=>{const f=Object.keys(e.att[c]).map(l=>({ability:l.split(\"/\")[0],action:l.split(\"/\")[1]}));f.sort((l,d)=>l.action.localeCompare(d.action));const u={};f.forEach(l=>{u[l.ability]||(u[l.ability]=[]),u[l.ability].push(l.action)});const a=Object.keys(u).map(l=>(o++,`(${o}) '${l}': '${u[l].join(\"', '\")}' for '${c}'.`));r.push(a.join(\", \").replace(\".,\",\".\"))});const s=r.join(\" \"),i=`${n}${s}`;return`${t?t+\" \":\"\"}${i}`}function Kc(t){var e;const n=kt(t);yt(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(o=>o.split(\"/\")[1]):[]}function qc(t){const e=kt(t);yt(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(o=>{var s;(s=o?.[0])!=null&&s.chains&&n.push(o[0].chains)})}),[...new Set(n.flat())]}function uo(t,e){if(!e)return t;const n=kt(e);return yt(n),wn(t,n)}function je(t){if(!t)return;const e=t?.[t.length-1];return mn(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function lo(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function vn(t){if(typeof t!=\"boolean\")throw new Error(`boolean expected, not ${t}`)}function xn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function ot(t,...e){if(!lo(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function ho(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Fc(t,e){ot(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function Pt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Zc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Gc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function zc(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function En(t){if(typeof t==\"string\")t=zc(t);else if(lo(t))t=Bn(t);else throw new Error(\"Uint8Array expected, got \"+typeof t);return t}function Yc(t,e){if(e==null||typeof e!=\"object\")throw new Error(\"options must be defined\");return Object.assign(t,e)}function Wc(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Xc=(t,e)=>{function n(r,...o){if(ot(r),!Gc)throw new Error(\"Non little-endian hardware is not yet supported\");if(t.nonceLength!==void 0){const a=o[0];if(!a)throw new Error(\"nonce / iv required\");t.varSizeNonce?ot(a):ot(a,t.nonceLength)}const s=t.tagLength;s&&o[1]!==void 0&&ot(o[1]);const i=e(r,...o),c=(a,l)=>{if(l!==void 0){if(a!==2)throw new Error(\"cipher output not supported\");ot(l)}};let f=!1;return{encrypt(a,l){if(f)throw new Error(\"cannot encrypt() twice with same key + nonce\");return f=!0,ot(a),c(i.encrypt.length,l),i.encrypt(a,l)},decrypt(a,l){if(ot(a),s&&a.length<s)throw new Error(\"invalid ciphertext length: smaller than tagLength=\"+s);return c(i.decrypt.length,l),i.decrypt(a,l)}}}return Object.assign(n,t),n};function po(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error(\"invalid output length, expected \"+t+\", got: \"+e.length);if(n&&!Qc(e))throw new Error(\"invalid output, must be aligned\");return e}function go(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),f=r?4:0,u=r?0:4;t.setUint32(e+f,i,r),t.setUint32(e+u,c,r)}function Jc(t,e,n){vn(n);const r=new Uint8Array(16),o=Zc(r);return go(o,0,BigInt(e),n),go(o,8,BigInt(t),n),r}function Qc(t){return t.byteOffset%4===0}function Bn(t){return Uint8Array.from(t)}const bo=t=>Uint8Array.from(t.split(\"\").map(e=>e.charCodeAt(0))),tf=bo(\"expand 16-byte k\"),ef=bo(\"expand 32-byte k\"),nf=Pt(tf),rf=Pt(ef);function K(t,e){return t<<e|t>>>32-e}function An(t){return t.byteOffset%4===0}const Le=64,of=16,yo=2**32-1,mo=new Uint32Array;function sf(t,e,n,r,o,s,i,c){const f=o.length,u=new Uint8Array(Le),a=Pt(u),l=An(o)&&An(s),d=l?Pt(o):mo,h=l?Pt(s):mo;for(let y=0;y<f;i++){if(t(e,n,r,a,i,c),i>=yo)throw new Error(\"arx: counter overflow\");const m=Math.min(Le,f-y);if(l&&m===Le){const v=y/4;if(y%4!==0)throw new Error(\"arx: invalid block position\");for(let U=0,F;U<of;U++)F=v+U,h[F]=d[F]^a[U];y+=Le;continue}for(let v=0,U;v<m;v++)U=y+v,s[U]=o[U]^u[v];y+=m}}function cf(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=Yc({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!=\"function\")throw new Error(\"core must be a function\");return xn(o),xn(i),vn(s),vn(n),(c,f,u,a,l=0)=>{ot(c),ot(f),ot(u);const d=u.length;if(a===void 0&&(a=new Uint8Array(d)),ot(a),xn(l),l<0||l>=yo)throw new Error(\"arx: counter overflow\");if(a.length<d)throw new Error(`arx: output (${a.length}) is shorter than data (${d})`);const h=[];let y=c.length,m,v;if(y===32)h.push(m=Bn(c)),v=rf;else if(y===16&&n)m=new Uint8Array(32),m.set(c),m.set(c,16),v=nf,h.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);An(f)||h.push(f=Bn(f));const U=Pt(m);if(r){if(f.length!==24)throw new Error(\"arx: extended nonce must be 24 bytes\");r(v,U,Pt(f.subarray(0,16)),U),f=f.subarray(16)}const F=16-o;if(F!==f.length)throw new Error(`arx: nonce must be ${F} or 16 bytes`);if(F!==12){const Z=new Uint8Array(12);Z.set(f,s?0:12-f.length),f=Z,h.push(f)}const R=Pt(f);return sf(t,v,U,R,u,a,l,i),Qt(...h),a}}const W=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class ff{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=En(e),ot(e,32);const n=W(e,0),r=W(e,2),o=W(e,4),s=W(e,6),i=W(e,8),c=W(e,10),f=W(e,12),u=W(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|c<<2)&8191,this.r[7]=(c>>>11|f<<5)&8065,this.r[8]=(f>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let a=0;a<8;a++)this.pad[a]=W(e,16+2*a)}process(e,n,r=!1){const o=r?0:2048,{h:s,r:i}=this,c=i[0],f=i[1],u=i[2],a=i[3],l=i[4],d=i[5],h=i[6],y=i[7],m=i[8],v=i[9],U=W(e,n+0),F=W(e,n+2),R=W(e,n+4),Z=W(e,n+6),H=W(e,n+8),j=W(e,n+10),L=W(e,n+12),k=W(e,n+14);let O=s[0]+(U&8191),T=s[1]+((U>>>13|F<<3)&8191),C=s[2]+((F>>>10|R<<6)&8191),_=s[3]+((R>>>7|Z<<9)&8191),p=s[4]+((Z>>>4|H<<12)&8191),b=s[5]+(H>>>1&8191),g=s[6]+((H>>>14|j<<2)&8191),x=s[7]+((j>>>11|L<<5)&8191),E=s[8]+((L>>>8|k<<8)&8191),A=s[9]+(k>>>5|o),w=0,B=w+O*c+T*(5*v)+C*(5*m)+_*(5*y)+p*(5*h);w=B>>>13,B&=8191,B+=b*(5*d)+g*(5*l)+x*(5*a)+E*(5*u)+A*(5*f),w+=B>>>13,B&=8191;let I=w+O*f+T*c+C*(5*v)+_*(5*m)+p*(5*y);w=I>>>13,I&=8191,I+=b*(5*h)+g*(5*d)+x*(5*l)+E*(5*a)+A*(5*u),w+=I>>>13,I&=8191;let N=w+O*u+T*f+C*c+_*(5*v)+p*(5*m);w=N>>>13,N&=8191,N+=b*(5*y)+g*(5*h)+x*(5*d)+E*(5*l)+A*(5*a),w+=N>>>13,N&=8191;let D=w+O*a+T*u+C*f+_*c+p*(5*v);w=D>>>13,D&=8191,D+=b*(5*m)+g*(5*y)+x*(5*h)+E*(5*d)+A*(5*l),w+=D>>>13,D&=8191;let P=w+O*l+T*a+C*u+_*f+p*c;w=P>>>13,P&=8191,P+=b*(5*v)+g*(5*m)+x*(5*y)+E*(5*h)+A*(5*d),w+=P>>>13,P&=8191;let $=w+O*d+T*l+C*a+_*u+p*f;w=$>>>13,$&=8191,$+=b*c+g*(5*v)+x*(5*m)+E*(5*y)+A*(5*h),w+=$>>>13,$&=8191;let V=w+O*h+T*d+C*l+_*a+p*u;w=V>>>13,V&=8191,V+=b*f+g*c+x*(5*v)+E*(5*m)+A*(5*y),w+=V>>>13,V&=8191;let q=w+O*y+T*h+C*d+_*l+p*a;w=q>>>13,q&=8191,q+=b*u+g*f+x*c+E*(5*v)+A*(5*m),w+=q>>>13,q&=8191;let G=w+O*m+T*y+C*h+_*d+p*l;w=G>>>13,G&=8191,G+=b*a+g*u+x*f+E*c+A*(5*v),w+=G>>>13,G&=8191;let M=w+O*v+T*m+C*y+_*h+p*d;w=M>>>13,M&=8191,M+=b*l+g*a+x*u+E*f+A*c,w+=M>>>13,M&=8191,w=(w<<2)+w|0,w=w+B|0,B=w&8191,w=w>>>13,I+=w,s[0]=B,s[1]=I,s[2]=N,s[3]=D,s[4]=P,s[5]=$,s[6]=V,s[7]=q,s[8]=G,s[9]=M}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=o,o=e[c]>>>13,e[c]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,r[0]=e[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(o^1)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)e[c]=e[c]&s|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let i=e[0]+n[0];e[0]=i&65535;for(let c=1;c<8;c++)i=(e[c]+n[c]|0)+(i>>>16)|0,e[c]=i&65535;Qt(r)}update(e){ho(this),e=En(e),ot(e);const{buffer:n,blockLen:r}=this,o=e.length;for(let s=0;s<o;){const i=Math.min(r-this.pos,o-s);if(i===r){for(;r<=o-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Qt(this.h,this.r,this.buffer,this.pad)}digestInto(e){ho(this),Fc(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let i=0;i<8;i++)e[s++]=r[i]>>>0,e[s++]=r[i]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function af(t){const e=(r,o)=>t(o).update(En(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const uf=af(t=>new ff(t));function lf(t,e,n,r,o,s=20){let i=t[0],c=t[1],f=t[2],u=t[3],a=e[0],l=e[1],d=e[2],h=e[3],y=e[4],m=e[5],v=e[6],U=e[7],F=o,R=n[0],Z=n[1],H=n[2],j=i,L=c,k=f,O=u,T=a,C=l,_=d,p=h,b=y,g=m,x=v,E=U,A=F,w=R,B=Z,I=H;for(let D=0;D<s;D+=2)j=j+T|0,A=K(A^j,16),b=b+A|0,T=K(T^b,12),j=j+T|0,A=K(A^j,8),b=b+A|0,T=K(T^b,7),L=L+C|0,w=K(w^L,16),g=g+w|0,C=K(C^g,12),L=L+C|0,w=K(w^L,8),g=g+w|0,C=K(C^g,7),k=k+_|0,B=K(B^k,16),x=x+B|0,_=K(_^x,12),k=k+_|0,B=K(B^k,8),x=x+B|0,_=K(_^x,7),O=O+p|0,I=K(I^O,16),E=E+I|0,p=K(p^E,12),O=O+p|0,I=K(I^O,8),E=E+I|0,p=K(p^E,7),j=j+C|0,I=K(I^j,16),x=x+I|0,C=K(C^x,12),j=j+C|0,I=K(I^j,8),x=x+I|0,C=K(C^x,7),L=L+_|0,A=K(A^L,16),E=E+A|0,_=K(_^E,12),L=L+_|0,A=K(A^L,8),E=E+A|0,_=K(_^E,7),k=k+p|0,w=K(w^k,16),b=b+w|0,p=K(p^b,12),k=k+p|0,w=K(w^k,8),b=b+w|0,p=K(p^b,7),O=O+T|0,B=K(B^O,16),g=g+B|0,T=K(T^g,12),O=O+T|0,B=K(B^O,8),g=g+B|0,T=K(T^g,7);let N=0;r[N++]=i+j|0,r[N++]=c+L|0,r[N++]=f+k|0,r[N++]=u+O|0,r[N++]=a+T|0,r[N++]=l+C|0,r[N++]=d+_|0,r[N++]=h+p|0,r[N++]=y+b|0,r[N++]=m+g|0,r[N++]=v+x|0,r[N++]=U+E|0,r[N++]=F+A|0,r[N++]=R+w|0,r[N++]=Z+B|0,r[N++]=H+I|0}const df=cf(lf,{counterRight:!1,counterLength:4,allowShortKeys:!1}),hf=new Uint8Array(16),wo=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(hf.subarray(n))},pf=new Uint8Array(32);function vo(t,e,n,r,o){const s=t(e,n,pf),i=uf.create(s);o&&wo(i,o),wo(i,r);const c=Jc(r.length,o?o.length:0,!0);i.update(c);const f=i.digest();return Qt(s,c),f}const gf=t=>(e,n,r)=>({encrypt(s,i){const c=s.length;i=po(c+16,i,!1),i.set(s);const f=i.subarray(0,-16);t(e,n,f,f,1);const u=vo(t,e,n,f,r);return i.set(u,c),Qt(u),i},decrypt(s,i){i=po(s.length-16,i,!1);const c=s.subarray(0,-16),f=s.subarray(-16),u=vo(t,e,n,c,r);if(!Wc(f,u))throw new Error(\"invalid tag\");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Qt(u),i}}),xo=Xc({blockSize:64,nonceLength:12,tagLength:16},gf(df));class Eo extends Re{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Ue(e);const r=pt(n);if(this.iHash=e.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=e.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),lt(s)}update(e){return Nt(this),this.iHash.update(e),this}digestInto(e){Nt(this),ht(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=i,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ke=(t,e,n)=>new Eo(t,e).update(n).digest();ke.create=(t,e)=>new Eo(t,e);function bf(t,e,n){return Ue(t),n===void 0&&(n=new Uint8Array(t.outputLen)),ke(t,pt(n),pt(e))}const In=Uint8Array.from([0]),Bo=Uint8Array.of();function yf(t,e,n,r=32){Ue(t),mt(r);const o=t.outputLen;if(r>255*o)throw new Error(\"Length should be <= 255*HashLen\");const s=Math.ceil(r/o);n===void 0&&(n=Bo);const i=new Uint8Array(s*o),c=ke.create(t,e),f=c._cloneInto(),u=new Uint8Array(c.outputLen);for(let a=0;a<s;a++)In[0]=a+1,f.update(a===0?Bo:u).update(n).update(In).digestInto(u),i.set(u,o*a),c._cloneInto(f);return c.destroy(),f.destroy(),lt(u,In),i.slice(0,r)}const mf=(t,e,n,r,o)=>yf(t,bf(t,e,n),r,o),Pe=$e,Sn=BigInt(0),On=BigInt(1);function He(t,e=\"\"){if(typeof t!=\"boolean\"){const n=e&&`\"${e}\"`;throw new Error(n+\"expected boolean, got type=\"+typeof t)}return t}function Kt(t,e,n=\"\"){const r=Ne(t),o=t?.length,s=e!==void 0;if(!r||s&&o!==e){const i=n&&`\"${n}\" `,c=s?` of length ${e}`:\"\",f=r?`length=${o}`:`type=${typeof t}`;throw new Error(i+\"expected Uint8Array\"+c+\", got \"+f)}return t}function De(t){const e=t.toString(16);return e.length&1?\"0\"+e:e}function Ao(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?Sn:BigInt(\"0x\"+t)}function Ve(t){return Ao(Jt(t))}function Me(t){return ht(t),Ao(Jt(Uint8Array.from(t).reverse()))}function Nn(t,e){return _e(t.toString(16).padStart(e*2,\"0\"))}function Un(t,e){return Nn(t,e).reverse()}function tt(t,e,n){let r;if(typeof e==\"string\")try{r=_e(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(Ne(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const o=r.length;if(typeof n==\"number\"&&o!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+o);return r}const _n=t=>typeof t==\"bigint\"&&Sn<=t;function wf(t,e,n){return _n(t)&&_n(e)&&_n(n)&&e<=t&&t<n}function Rn(t,e,n,r){if(!wf(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function Io(t){let e;for(e=0;t>Sn;t>>=On,e+=1);return e}const ye=t=>(On<<BigInt(t))-On;function vf(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");const r=h=>new Uint8Array(h),o=h=>Uint8Array.of(h);let s=r(t),i=r(t),c=0;const f=()=>{s.fill(1),i.fill(0),c=0},u=(...h)=>n(i,s,...h),a=(h=r(0))=>{i=u(o(0),h),s=u(),h.length!==0&&(i=u(o(1),h),s=u())},l=()=>{if(c++>=1e3)throw new Error(\"drbg: tried 1000 values\");let h=0;const y=[];for(;h<e;){s=u();const m=s.slice();y.push(m),h+=s.length}return _t(...y)};return(h,y)=>{f(),a(h);let m;for(;!(m=y(l()));)a();return f(),m}}function Ke(t,e,n={}){if(!t||typeof t!=\"object\")throw new Error(\"expected valid options object\");function r(o,s,i){const c=t[o];if(i&&c===void 0)return;const f=typeof c;if(f!==s||c===null)throw new Error(`param \"${o}\" is invalid: expected ${s}, got ${f}`)}Object.entries(e).forEach(([o,s])=>r(o,s,!1)),Object.entries(n).forEach(([o,s])=>r(o,s,!0))}function So(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t(n,...r);return e.set(n,s),s}}const st=BigInt(0),nt=BigInt(1),qt=BigInt(2),Oo=BigInt(3),No=BigInt(4),Uo=BigInt(5),xf=BigInt(7),_o=BigInt(8),Ef=BigInt(9),Ro=BigInt(16);function ct(t,e){const n=t%e;return n>=st?n:e+n}function gt(t,e,n){let r=t;for(;e-- >st;)r*=r,r%=n;return r}function $o(t,e){if(t===st)throw new Error(\"invert: expected non-zero number\");if(e<=st)throw new Error(\"invert: expected positive modulus, got \"+e);let n=ct(t,e),r=e,o=st,s=nt;for(;n!==st;){const c=r/n,f=r%n,u=o-s*c;r=n,n=f,o=s,s=u}if(r!==nt)throw new Error(\"invert: does not exist\");return ct(o,e)}function $n(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error(\"Cannot find square root\")}function To(t,e){const n=(t.ORDER+nt)/No,r=t.pow(e,n);return $n(t,r,e),r}function Bf(t,e){const n=(t.ORDER-Uo)/_o,r=t.mul(e,qt),o=t.pow(r,n),s=t.mul(e,o),i=t.mul(t.mul(s,qt),o),c=t.mul(s,t.sub(i,t.ONE));return $n(t,c,e),c}function Af(t){const e=Ht(t),n=Co(t),r=n(e,e.neg(e.ONE)),o=n(e,r),s=n(e,e.neg(r)),i=(t+xf)/Ro;return(c,f)=>{let u=c.pow(f,i),a=c.mul(u,r);const l=c.mul(u,o),d=c.mul(u,s),h=c.eql(c.sqr(a),f),y=c.eql(c.sqr(l),f);u=c.cmov(u,a,h),a=c.cmov(d,l,y);const m=c.eql(c.sqr(a),f),v=c.cmov(u,a,m);return $n(c,v,f),v}}function Co(t){if(t<Oo)throw new Error(\"sqrt is not defined for small field\");let e=t-nt,n=0;for(;e%qt===st;)e/=qt,n++;let r=qt;const o=Ht(t);for(;Lo(o,r)===1;)if(r++>1e3)throw new Error(\"Cannot find square root: probably non-prime P\");if(n===1)return To;let s=o.pow(r,e);const i=(e+nt)/qt;return function(f,u){if(f.is0(u))return u;if(Lo(f,u)!==1)throw new Error(\"Cannot find square root\");let a=n,l=f.mul(f.ONE,s),d=f.pow(u,e),h=f.pow(u,i);for(;!f.eql(d,f.ONE);){if(f.is0(d))return f.ZERO;let y=1,m=f.sqr(d);for(;!f.eql(m,f.ONE);)if(y++,m=f.sqr(m),y===a)throw new Error(\"Cannot find square root\");const v=nt<<BigInt(a-y-1),U=f.pow(l,v);a=y,l=f.sqr(U),d=f.mul(d,l),h=f.mul(h,U)}return h}}function If(t){return t%No===Oo?To:t%_o===Uo?Bf:t%Ro===Ef?Af(t):Co(t)}const Sf=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function Of(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"number\",BITS:\"number\"},n=Sf.reduce((r,o)=>(r[o]=\"function\",r),e);return Ke(t,n),t}function Nf(t,e,n){if(n<st)throw new Error(\"invalid exponent, negatives unsupported\");if(n===st)return t.ONE;if(n===nt)return e;let r=t.ONE,o=e;for(;n>st;)n&nt&&(r=t.mul(r,o)),o=t.sqr(o),n>>=nt;return r}function jo(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),o=e.reduce((i,c,f)=>t.is0(c)?i:(r[f]=i,t.mul(i,c)),t.ONE),s=t.inv(o);return e.reduceRight((i,c,f)=>t.is0(c)?i:(r[f]=t.mul(i,r[f]),t.mul(i,c)),s),r}function Lo(t,e){const n=(t.ORDER-nt)/qt,r=t.pow(e,n),o=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),i=t.eql(r,t.neg(t.ONE));if(!o&&!s&&!i)throw new Error(\"invalid Legendre symbol result\");return o?1:s?0:-1}function ko(t,e){e!==void 0&&mt(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ht(t,e,n=!1,r={}){if(t<=st)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);let o,s,i=!1,c;if(typeof e==\"object\"&&e!=null){if(r.sqrt||n)throw new Error(\"cannot specify opts in two arguments\");const d=e;d.BITS&&(o=d.BITS),d.sqrt&&(s=d.sqrt),typeof d.isLE==\"boolean\"&&(n=d.isLE),typeof d.modFromBytes==\"boolean\"&&(i=d.modFromBytes),c=d.allowedLengths}else typeof e==\"number\"&&(o=e),r.sqrt&&(s=r.sqrt);const{nBitLength:f,nByteLength:u}=ko(t,o);if(u>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let a;const l=Object.freeze({ORDER:t,isLE:n,BITS:f,BYTES:u,MASK:ye(f),ZERO:st,ONE:nt,allowedLengths:c,create:d=>ct(d,t),isValid:d=>{if(typeof d!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof d);return st<=d&&d<t},is0:d=>d===st,isValidNot0:d=>!l.is0(d)&&l.isValid(d),isOdd:d=>(d&nt)===nt,neg:d=>ct(-d,t),eql:(d,h)=>d===h,sqr:d=>ct(d*d,t),add:(d,h)=>ct(d+h,t),sub:(d,h)=>ct(d-h,t),mul:(d,h)=>ct(d*h,t),pow:(d,h)=>Nf(l,d,h),div:(d,h)=>ct(d*$o(h,t),t),sqrN:d=>d*d,addN:(d,h)=>d+h,subN:(d,h)=>d-h,mulN:(d,h)=>d*h,inv:d=>$o(d,t),sqrt:s||(d=>(a||(a=If(t)),a(l,d))),toBytes:d=>n?Un(d,u):Nn(d,u),fromBytes:(d,h=!0)=>{if(c){if(!c.includes(d.length)||d.length>u)throw new Error(\"Field.fromBytes: expected \"+c+\" bytes, got \"+d.length);const m=new Uint8Array(u);m.set(d,n?0:m.length-d.length),d=m}if(d.length!==u)throw new Error(\"Field.fromBytes: expected \"+u+\" bytes, got \"+d.length);let y=n?Me(d):Ve(d);if(i&&(y=ct(y,t)),!h&&!l.isValid(y))throw new Error(\"invalid field element: outside of range 0..ORDER\");return y},invertBatch:d=>jo(l,d),cmov:(d,h,y)=>y?h:d});return Object.freeze(l)}function Po(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function Ho(t){const e=Po(t);return e+Math.ceil(e/2)}function Uf(t,e,n=!1){const r=t.length,o=Po(e),s=Ho(e);if(r<16||r<s||r>1024)throw new Error(\"expected \"+s+\"-1024 bytes of input, got \"+r);const i=n?Me(t):Ve(t),c=ct(i,e-nt)+nt;return n?Un(c,o):Nn(c,o)}const te=BigInt(0),Ft=BigInt(1);function qe(t,e){const n=e.negate();return t?n:e}function Tn(t,e){const n=jo(t.Fp,e.map(r=>r.Z));return e.map((r,o)=>t.fromAffine(r.toAffine(n[o])))}function Do(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function Cn(t,e){Do(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,s=ye(t),i=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:o,shiftBy:i}}function Vo(t,e,n){const{windowSize:r,mask:o,maxNumber:s,shiftBy:i}=n;let c=Number(t&o),f=t>>i;c>r&&(c-=s,f+=Ft);const u=e*r,a=u+Math.abs(c)-1,l=c===0,d=c<0,h=e%2!==0;return{nextN:f,offset:a,isZero:l,isNeg:d,isNegF:h,offsetF:u}}function _f(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function Rf(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const jn=new WeakMap,Mo=new WeakMap;function Ln(t){return Mo.get(t)||1}function Ko(t){if(t!==te)throw new Error(\"invalid wNAF\")}class $f{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let o=e;for(;n>te;)n&Ft&&(r=r.add(o)),o=o.double(),n>>=Ft;return r}precomputeWindow(e,n){const{windows:r,windowSize:o}=Cn(n,this.bits),s=[];let i=e,c=i;for(let f=0;f<r;f++){c=i,s.push(c);for(let u=1;u<o;u++)c=c.add(i),s.push(c);i=c.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error(\"invalid scalar\");let o=this.ZERO,s=this.BASE;const i=Cn(e,this.bits);for(let c=0;c<i.windows;c++){const{nextN:f,offset:u,isZero:a,isNeg:l,isNegF:d,offsetF:h}=Vo(r,c,i);r=f,a?s=s.add(qe(d,n[h])):o=o.add(qe(l,n[u]))}return Ko(r),{p:o,f:s}}wNAFUnsafe(e,n,r,o=this.ZERO){const s=Cn(e,this.bits);for(let i=0;i<s.windows&&r!==te;i++){const{nextN:c,offset:f,isZero:u,isNeg:a}=Vo(r,i,s);if(r=c,!u){const l=n[f];o=o.add(a?l.negate():l)}}return Ko(r),o}getPrecomputes(e,n,r){let o=jn.get(n);return o||(o=this.precomputeWindow(n,e),e!==1&&(typeof r==\"function\"&&(o=r(o)),jn.set(n,o))),o}cached(e,n,r){const o=Ln(e);return this.wNAF(o,this.getPrecomputes(o,e,r),n)}unsafe(e,n,r,o){const s=Ln(e);return s===1?this._unsafeLadder(e,n,o):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,o)}createCache(e,n){Do(n,this.bits),Mo.set(e,n),jn.delete(e)}hasCache(e){return Ln(e)!==1}}function Tf(t,e,n,r){let o=e,s=t.ZERO,i=t.ZERO;for(;n>te||r>te;)n&Ft&&(s=s.add(o)),r&Ft&&(i=i.add(o)),o=o.double(),n>>=Ft,r>>=Ft;return{p1:s,p2:i}}function Cf(t,e,n,r){_f(n,t),Rf(r,e);const o=n.length,s=r.length;if(o!==s)throw new Error(\"arrays of points and scalars must have equal length\");const i=t.ZERO,c=Io(BigInt(o));let f=1;c>12?f=c-3:c>4?f=c-2:c>0&&(f=2);const u=ye(f),a=new Array(Number(u)+1).fill(i),l=Math.floor((e.BITS-1)/f)*f;let d=i;for(let h=l;h>=0;h-=f){a.fill(i);for(let m=0;m<s;m++){const v=r[m],U=Number(v>>BigInt(h)&u);a[U]=a[U].add(n[m])}let y=i;for(let m=a.length-1,v=i;m>0;m--)v=v.add(a[m]),y=y.add(v);if(d=d.add(y),h!==0)for(let m=0;m<f;m++)d=d.double()}return d}function qo(t,e,n){if(e){if(e.ORDER!==t)throw new Error(\"Field.ORDER must match order: Fp == p, Fn == n\");return Of(e),e}else return Ht(t,{isLE:n})}function jf(t,e,n={},r){if(r===void 0&&(r=t===\"edwards\"),!e||typeof e!=\"object\")throw new Error(`expected valid ${t} CURVE object`);for(const f of[\"p\",\"n\",\"h\"]){const u=e[f];if(!(typeof u==\"bigint\"&&u>te))throw new Error(`CURVE.${f} must be positive bigint`)}const o=qo(e.p,n.Fp,r),s=qo(e.n,n.Fn,r),c=[\"Gx\",\"Gy\",\"a\",t===\"weierstrass\"?\"b\":\"d\"];for(const f of c)if(!o.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),kr(\"HashToScalar-\");const me=BigInt(0),ee=BigInt(1),Fe=BigInt(2);function Lf(t){return Ke(t,{adjustScalarBytes:\"function\",powPminus2:\"function\"}),Object.freeze({...t})}function kf(t){const e=Lf(t),{P:n,type:r,adjustScalarBytes:o,powPminus2:s,randomBytes:i}=e,c=r===\"x25519\";if(!c&&r!==\"x448\")throw new Error(\"invalid type\");const f=i||Mt,u=c?255:448,a=c?32:56,l=BigInt(c?9:5),d=BigInt(c?121665:39081),h=c?Fe**BigInt(254):Fe**BigInt(447),y=c?BigInt(8)*Fe**BigInt(251)-ee:BigInt(4)*Fe**BigInt(445)-ee,m=h+y+ee,v=p=>ct(p,n),U=F(l);function F(p){return Un(v(p),a)}function R(p){const b=tt(\"u coordinate\",p,a);return c&&(b[31]&=127),v(Me(b))}function Z(p){return Me(o(tt(\"scalar\",p,a)))}function H(p,b){const g=k(R(b),Z(p));if(g===me)throw new Error(\"invalid private or public key received\");return F(g)}function j(p){return H(p,U)}function L(p,b,g){const x=v(p*(b-g));return b=v(b-x),g=v(g+x),{x_2:b,x_3:g}}function k(p,b){Rn(\"u\",p,me,n),Rn(\"scalar\",b,h,m);const g=b,x=p;let E=ee,A=me,w=p,B=ee,I=me;for(let D=BigInt(u-1);D>=me;D--){const P=g>>D&ee;I^=P,{x_2:E,x_3:w}=L(I,E,w),{x_2:A,x_3:B}=L(I,A,B),I=P;const $=E+A,V=v($*$),q=E-A,G=v(q*q),M=V-G,Y=w+B,Yt=w-B,ce=v(Yt*$),fe=v(Y*q),Qn=ce+fe,tr=ce-fe;w=v(Qn*Qn),B=v(x*v(tr*tr)),E=v(V*G),A=v(M*(V+v(d*M)))}({x_2:E,x_3:w}=L(I,E,w)),{x_2:A,x_3:B}=L(I,A,B);const N=s(A);return v(E*N)}const O={secretKey:a,publicKey:a,seed:a},T=(p=f(a))=>(ht(p,O.seed),p);function C(p){const b=T(p);return{secretKey:b,publicKey:j(b)}}return{keygen:C,getSharedSecret:(p,b)=>H(p,b),getPublicKey:p=>j(p),scalarMult:H,scalarMultBase:j,utils:{randomSecretKey:T,randomPrivateKey:T},GuBytes:U.slice(),lengths:O}}const Pf=BigInt(1),Fo=BigInt(2),Hf=BigInt(3),Df=BigInt(5),Vf=BigInt(8),Zo=BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed\"),Mf={p:Zo,n:BigInt(\"0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed\"),h:Vf,a:BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec\"),d:BigInt(\"0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3\"),Gx:BigInt(\"0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a\"),Gy:BigInt(\"0x6666666666666666666666666666666666666666666666666666666666666658\")};function Kf(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=Zo,c=t*t%s*t%s,f=gt(c,Fo,s)*c%s,u=gt(f,Pf,s)*t%s,a=gt(u,Df,s)*u%s,l=gt(a,e,s)*a%s,d=gt(l,n,s)*l%s,h=gt(d,r,s)*d%s,y=gt(h,o,s)*h%s,m=gt(y,o,s)*h%s,v=gt(m,e,s)*a%s;return{pow_p_5_8:gt(v,Fo,s)*t%s,b2:c}}function qf(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Ff=Ht(Mf.p,{isLE:!0}),kn=(()=>{const t=Ff.ORDER;return kf({P:t,type:\"x25519\",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Kf(e);return ct(gt(n,Hf,t)*r,t)},adjustScalarBytes:qf})})(),Go=(t,e)=>(t+(t>=0?e:-e)/zo)/e;function Zf(t,e,n){const[[r,o],[s,i]]=e,c=Go(i*t,n),f=Go(-o*t,n);let u=t-c*r-f*s,a=-c*o-f*i;const l=u<Et,d=a<Et;l&&(u=-u),d&&(a=-a);const h=ye(Math.ceil(Io(n)/2))+ne;if(u<Et||u>=h||a<Et||a>=h)throw new Error(\"splitScalar (endomorphism): failed, k=\"+t);return{k1neg:l,k1:u,k2neg:d,k2:a}}function Pn(t){if(![\"compact\",\"recovered\",\"der\"].includes(t))throw new Error('Signature format must be \"compact\", \"recovered\", or \"der\"');return t}function Hn(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return He(n.lowS,\"lowS\"),He(n.prehash,\"prehash\"),n.format!==void 0&&Pn(n.format),n}class Gf extends Error{constructor(e=\"\"){super(e)}}const xt={Err:Gf,_tlv:{encode:(t,e)=>{const{Err:n}=xt;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length&1)throw new n(\"tlv.encode: unpadded data\");const r=e.length/2,o=De(r);if(o.length/2&128)throw new n(\"tlv.encode: long form length too big\");const s=r>127?De(o.length/2|128):\"\";return De(t)+s+o+e},decode(t,e){const{Err:n}=xt;let r=0;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length<2||e[r++]!==t)throw new n(\"tlv.decode: wrong tlv\");const o=e[r++],s=!!(o&128);let i=0;if(!s)i=o;else{const f=o&127;if(!f)throw new n(\"tlv.decode(long): indefinite length not supported\");if(f>4)throw new n(\"tlv.decode(long): byte length is too big\");const u=e.subarray(r,r+f);if(u.length!==f)throw new n(\"tlv.decode: length bytes not complete\");if(u[0]===0)throw new n(\"tlv.decode(long): zero leftmost byte\");for(const a of u)i=i<<8|a;if(r+=f,i<128)throw new n(\"tlv.decode(long): not minimal encoding\")}const c=e.subarray(r,r+i);if(c.length!==i)throw new n(\"tlv.decode: wrong value length\");return{v:c,l:e.subarray(r+i)}}},_int:{encode(t){const{Err:e}=xt;if(t<Et)throw new e(\"integer: negative integers are not allowed\");let n=De(t);if(Number.parseInt(n[0],16)&8&&(n=\"00\"+n),n.length&1)throw new e(\"unexpected DER parsing assertion: unpadded hex\");return n},decode(t){const{Err:e}=xt;if(t[0]&128)throw new e(\"invalid signature integer: negative\");if(t[0]===0&&!(t[1]&128))throw new e(\"invalid signature integer: unnecessary leading zero\");return Ve(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=xt,o=tt(\"signature\",t),{v:s,l:i}=r.decode(48,o);if(i.length)throw new e(\"invalid signature: left bytes after parsing\");const{v:c,l:f}=r.decode(2,s),{v:u,l:a}=r.decode(2,f);if(a.length)throw new e(\"invalid signature: left bytes after parsing\");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=xt,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),s=r+o;return e.encode(48,s)}},Et=BigInt(0),ne=BigInt(1),zo=BigInt(2),Ze=BigInt(3),zf=BigInt(4);function re(t,e){const{BYTES:n}=t;let r;if(typeof e==\"bigint\")r=e;else{let o=tt(\"private key\",e);try{r=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error(\"invalid private key: out of range [1..N-1]\");return r}function Yf(t,e={}){const n=jf(\"weierstrass\",t,e),{Fp:r,Fn:o}=n;let s=n.CURVE;const{h:i,n:c}=s;Ke(e,{},{allowInfinityPoint:\"boolean\",clearCofactor:\"function\",isTorsionFree:\"function\",fromBytes:\"function\",toBytes:\"function\",endo:\"object\",wrapPrivateKey:\"boolean\"});const{endo:f}=e;if(f&&(!r.is0(s.a)||typeof f.beta!=\"bigint\"||!Array.isArray(f.basises)))throw new Error('invalid endo: expected \"beta\": bigint and \"basises\": array');const u=Wo(r,o);function a(){if(!r.isOdd)throw new Error(\"compression is not supported: Field does not have .isOdd()\")}function l(_,p,b){const{x:g,y:x}=p.toAffine(),E=r.toBytes(g);if(He(b,\"isCompressed\"),b){a();const A=!r.isOdd(x);return _t(Yo(A),E)}else return _t(Uint8Array.of(4),E,r.toBytes(x))}function d(_){Kt(_,void 0,\"Point\");const{publicKey:p,publicKeyUncompressed:b}=u,g=_.length,x=_[0],E=_.subarray(1);if(g===p&&(x===2||x===3)){const A=r.fromBytes(E);if(!r.isValid(A))throw new Error(\"bad point: is not on curve, wrong x\");const w=m(A);let B;try{B=r.sqrt(w)}catch(D){const P=D instanceof Error?\": \"+D.message:\"\";throw new Error(\"bad point: is not on curve, sqrt error\"+P)}a();const I=r.isOdd(B);return(x&1)===1!==I&&(B=r.neg(B)),{x:A,y:B}}else if(g===b&&x===4){const A=r.BYTES,w=r.fromBytes(E.subarray(0,A)),B=r.fromBytes(E.subarray(A,A*2));if(!v(w,B))throw new Error(\"bad point: is not on curve\");return{x:w,y:B}}else throw new Error(`bad point: got length ${g}, expected compressed=${p} or uncompressed=${b}`)}const h=e.toBytes||l,y=e.fromBytes||d;function m(_){const p=r.sqr(_),b=r.mul(p,_);return r.add(r.add(b,r.mul(_,s.a)),s.b)}function v(_,p){const b=r.sqr(p),g=m(_);return r.eql(b,g)}if(!v(s.Gx,s.Gy))throw new Error(\"bad curve params: generator point\");const U=r.mul(r.pow(s.a,Ze),zf),F=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(U,F)))throw new Error(\"bad curve params: a or b\");function R(_,p,b=!1){if(!r.isValid(p)||b&&r.is0(p))throw new Error(`bad point coordinate ${_}`);return p}function Z(_){if(!(_ instanceof O))throw new Error(\"ProjectivePoint expected\")}function H(_){if(!f||!f.basises)throw new Error(\"no endo\");return Zf(_,f.basises,o.ORDER)}const j=So((_,p)=>{const{X:b,Y:g,Z:x}=_;if(r.eql(x,r.ONE))return{x:b,y:g};const E=_.is0();p==null&&(p=E?r.ONE:r.inv(x));const A=r.mul(b,p),w=r.mul(g,p),B=r.mul(x,p);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(B,r.ONE))throw new Error(\"invZ was invalid\");return{x:A,y:w}}),L=So(_=>{if(_.is0()){if(e.allowInfinityPoint&&!r.is0(_.Y))return;throw new Error(\"bad point: ZERO\")}const{x:p,y:b}=_.toAffine();if(!r.isValid(p)||!r.isValid(b))throw new Error(\"bad point: x or y not field elements\");if(!v(p,b))throw new Error(\"bad point: equation left != right\");if(!_.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});function k(_,p,b,g,x){return b=new O(r.mul(b.X,_),b.Y,b.Z),p=qe(g,p),b=qe(x,b),p.add(b)}class O{constructor(p,b,g){this.X=R(\"x\",p),this.Y=R(\"y\",b,!0),this.Z=R(\"z\",g),Object.freeze(this)}static CURVE(){return s}static fromAffine(p){const{x:b,y:g}=p||{};if(!p||!r.isValid(b)||!r.isValid(g))throw new Error(\"invalid affine point\");if(p instanceof O)throw new Error(\"projective point not allowed\");return r.is0(b)&&r.is0(g)?O.ZERO:new O(b,g,r.ONE)}static fromBytes(p){const b=O.fromAffine(y(Kt(p,void 0,\"point\")));return b.assertValidity(),b}static fromHex(p){return O.fromBytes(tt(\"pointHex\",p))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(p=8,b=!0){return C.createCache(this,p),b||this.multiply(Ze),this}assertValidity(){L(this)}hasEvenY(){const{y:p}=this.toAffine();if(!r.isOdd)throw new Error(\"Field doesn't support isOdd\");return!r.isOdd(p)}equals(p){Z(p);const{X:b,Y:g,Z:x}=this,{X:E,Y:A,Z:w}=p,B=r.eql(r.mul(b,w),r.mul(E,x)),I=r.eql(r.mul(g,w),r.mul(A,x));return B&&I}negate(){return new O(this.X,r.neg(this.Y),this.Z)}double(){const{a:p,b}=s,g=r.mul(b,Ze),{X:x,Y:E,Z:A}=this;let w=r.ZERO,B=r.ZERO,I=r.ZERO,N=r.mul(x,x),D=r.mul(E,E),P=r.mul(A,A),$=r.mul(x,E);return $=r.add($,$),I=r.mul(x,A),I=r.add(I,I),w=r.mul(p,I),B=r.mul(g,P),B=r.add(w,B),w=r.sub(D,B),B=r.add(D,B),B=r.mul(w,B),w=r.mul($,w),I=r.mul(g,I),P=r.mul(p,P),$=r.sub(N,P),$=r.mul(p,$),$=r.add($,I),I=r.add(N,N),N=r.add(I,N),N=r.add(N,P),N=r.mul(N,$),B=r.add(B,N),P=r.mul(E,A),P=r.add(P,P),N=r.mul(P,$),w=r.sub(w,N),I=r.mul(P,D),I=r.add(I,I),I=r.add(I,I),new O(w,B,I)}add(p){Z(p);const{X:b,Y:g,Z:x}=this,{X:E,Y:A,Z:w}=p;let B=r.ZERO,I=r.ZERO,N=r.ZERO;const D=s.a,P=r.mul(s.b,Ze);let $=r.mul(b,E),V=r.mul(g,A),q=r.mul(x,w),G=r.add(b,g),M=r.add(E,A);G=r.mul(G,M),M=r.add($,V),G=r.sub(G,M),M=r.add(b,x);let Y=r.add(E,w);return M=r.mul(M,Y),Y=r.add($,q),M=r.sub(M,Y),Y=r.add(g,x),B=r.add(A,w),Y=r.mul(Y,B),B=r.add(V,q),Y=r.sub(Y,B),N=r.mul(D,M),B=r.mul(P,q),N=r.add(B,N),B=r.sub(V,N),N=r.add(V,N),I=r.mul(B,N),V=r.add($,$),V=r.add(V,$),q=r.mul(D,q),M=r.mul(P,M),V=r.add(V,q),q=r.sub($,q),q=r.mul(D,q),M=r.add(M,q),$=r.mul(V,M),I=r.add(I,$),$=r.mul(Y,M),B=r.mul(G,B),B=r.sub(B,$),$=r.mul(G,V),N=r.mul(Y,N),N=r.add(N,$),new O(B,I,N)}subtract(p){return this.add(p.negate())}is0(){return this.equals(O.ZERO)}multiply(p){const{endo:b}=e;if(!o.isValidNot0(p))throw new Error(\"invalid scalar: out of range\");let g,x;const E=A=>C.cached(this,A,w=>Tn(O,w));if(b){const{k1neg:A,k1:w,k2neg:B,k2:I}=H(p),{p:N,f:D}=E(w),{p:P,f:$}=E(I);x=D.add($),g=k(b.beta,N,P,A,B)}else{const{p:A,f:w}=E(p);g=A,x=w}return Tn(O,[g,x])[0]}multiplyUnsafe(p){const{endo:b}=e,g=this;if(!o.isValid(p))throw new Error(\"invalid scalar: out of range\");if(p===Et||g.is0())return O.ZERO;if(p===ne)return g;if(C.hasCache(this))return this.multiply(p);if(b){const{k1neg:x,k1:E,k2neg:A,k2:w}=H(p),{p1:B,p2:I}=Tf(O,g,E,w);return k(b.beta,B,I,x,A)}else return C.unsafe(g,p)}multiplyAndAddUnsafe(p,b,g){const x=this.multiplyUnsafe(b).add(p.multiplyUnsafe(g));return x.is0()?void 0:x}toAffine(p){return j(this,p)}isTorsionFree(){const{isTorsionFree:p}=e;return i===ne?!0:p?p(O,this):C.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:p}=e;return i===ne?this:p?p(O,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(p=!0){return He(p,\"isCompressed\"),this.assertValidity(),h(O,this,p)}toHex(p=!0){return Jt(this.toBytes(p))}toString(){return`<Point ${this.is0()?\"ZERO\":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(p=!0){return this.toBytes(p)}_setWindowSize(p){this.precompute(p)}static normalizeZ(p){return Tn(O,p)}static msm(p,b){return Cf(O,o,p,b)}static fromPrivateKey(p){return O.BASE.multiply(re(o,p))}}O.BASE=new O(s.Gx,s.Gy,r.ONE),O.ZERO=new O(r.ZERO,r.ONE,r.ZERO),O.Fp=r,O.Fn=o;const T=o.BITS,C=new $f(O,e.endo?Math.ceil(T/2):T);return O.BASE.precompute(8),O}function Yo(t){return Uint8Array.of(t?2:3)}function Wo(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Wf(t,e={}){const{Fn:n}=t,r=e.randomBytes||Mt,o=Object.assign(Wo(t.Fp,n),{seed:Ho(n.ORDER)});function s(h){try{return!!re(n,h)}catch{return!1}}function i(h,y){const{publicKey:m,publicKeyUncompressed:v}=o;try{const U=h.length;return y===!0&&U!==m||y===!1&&U!==v?!1:!!t.fromBytes(h)}catch{return!1}}function c(h=r(o.seed)){return Uf(Kt(h,o.seed,\"seed\"),n.ORDER)}function f(h,y=!0){return t.BASE.multiply(re(n,h)).toBytes(y)}function u(h){const y=c(h);return{secretKey:y,publicKey:f(y)}}function a(h){if(typeof h==\"bigint\")return!1;if(h instanceof t)return!0;const{secretKey:y,publicKey:m,publicKeyUncompressed:v}=o;if(n.allowedLengths||y===m)return;const U=tt(\"key\",h).length;return U===m||U===v}function l(h,y,m=!0){if(a(h)===!0)throw new Error(\"first arg must be private key\");if(a(y)===!1)throw new Error(\"second arg must be public key\");const v=re(n,h);return t.fromHex(y).multiply(v).toBytes(m)}return Object.freeze({getPublicKey:f,getSharedSecret:l,keygen:u,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:i,randomSecretKey:c,isValidPrivateKey:s,randomPrivateKey:c,normPrivateKeyToScalar:h=>re(n,h),precompute(h=8,y=t.BASE){return y.precompute(h,!1)}},lengths:o})}function Xf(t,e,n={}){Ue(e),Ke(n,{},{hmac:\"function\",lowS:\"boolean\",randomBytes:\"function\",bits2int:\"function\",bits2int_modN:\"function\"});const r=n.randomBytes||Mt,o=n.hmac||((b,...g)=>ke(e,b,_t(...g))),{Fp:s,Fn:i}=t,{ORDER:c,BITS:f}=i,{keygen:u,getPublicKey:a,getSharedSecret:l,utils:d,lengths:h}=Wf(t,n),y={prehash:!1,lowS:typeof n.lowS==\"boolean\"?n.lowS:!1,format:void 0,extraEntropy:!1},m=\"compact\";function v(b){const g=c>>ne;return b>g}function U(b,g){if(!i.isValidNot0(g))throw new Error(`invalid signature ${b}: out of range 1..Point.Fn.ORDER`);return g}function F(b,g){Pn(g);const x=h.signature,E=g===\"compact\"?x:g===\"recovered\"?x+1:void 0;return Kt(b,E,`${g} signature`)}class R{constructor(g,x,E){this.r=U(\"r\",g),this.s=U(\"s\",x),E!=null&&(this.recovery=E),Object.freeze(this)}static fromBytes(g,x=m){F(g,x);let E;if(x===\"der\"){const{r:I,s:N}=xt.toSig(Kt(g));return new R(I,N)}x===\"recovered\"&&(E=g[0],x=\"compact\",g=g.subarray(1));const A=i.BYTES,w=g.subarray(0,A),B=g.subarray(A,A*2);return new R(i.fromBytes(w),i.fromBytes(B),E)}static fromHex(g,x){return this.fromBytes(_e(g),x)}addRecoveryBit(g){return new R(this.r,this.s,g)}recoverPublicKey(g){const x=s.ORDER,{r:E,s:A,recovery:w}=this;if(w==null||![0,1,2,3].includes(w))throw new Error(\"recovery id invalid\");if(c*zo<x&&w>1)throw new Error(\"recovery id is ambiguous for h>1 curve\");const I=w===2||w===3?E+c:E;if(!s.isValid(I))throw new Error(\"recovery id 2 or 3 invalid\");const N=s.toBytes(I),D=t.fromBytes(_t(Yo((w&1)===0),N)),P=i.inv(I),$=H(tt(\"msgHash\",g)),V=i.create(-$*P),q=i.create(A*P),G=t.BASE.multiplyUnsafe(V).add(D.multiplyUnsafe(q));if(G.is0())throw new Error(\"point at infinify\");return G.assertValidity(),G}hasHighS(){return v(this.s)}toBytes(g=m){if(Pn(g),g===\"der\")return _e(xt.hexFromSig(this));const x=i.toBytes(this.r),E=i.toBytes(this.s);if(g===\"recovered\"){if(this.recovery==null)throw new Error(\"recovery bit must be present\");return _t(Uint8Array.of(this.recovery),x,E)}return _t(x,E)}toHex(g){return Jt(this.toBytes(g))}assertValidity(){}static fromCompact(g){return R.fromBytes(tt(\"sig\",g),\"compact\")}static fromDER(g){return R.fromBytes(tt(\"sig\",g),\"der\")}normalizeS(){return this.hasHighS()?new R(this.r,i.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes(\"der\")}toDERHex(){return Jt(this.toBytes(\"der\"))}toCompactRawBytes(){return this.toBytes(\"compact\")}toCompactHex(){return Jt(this.toBytes(\"compact\"))}}const Z=n.bits2int||function(g){if(g.length>8192)throw new Error(\"input is too large\");const x=Ve(g),E=g.length*8-f;return E>0?x>>BigInt(E):x},H=n.bits2int_modN||function(g){return i.create(Z(g))},j=ye(f);function L(b){return Rn(\"num < 2^\"+f,b,Et,j),i.toBytes(b)}function k(b,g){return Kt(b,void 0,\"message\"),g?Kt(e(b),void 0,\"prehashed message\"):b}function O(b,g,x){if([\"recovered\",\"canonical\"].some(V=>V in x))throw new Error(\"sign() legacy options not supported\");const{lowS:E,prehash:A,extraEntropy:w}=Hn(x,y);b=k(b,A);const B=H(b),I=re(i,g),N=[L(I),L(B)];if(w!=null&&w!==!1){const V=w===!0?r(h.secretKey):w;N.push(tt(\"extraEntropy\",V))}const D=_t(...N),P=B;function $(V){const q=Z(V);if(!i.isValidNot0(q))return;const G=i.inv(q),M=t.BASE.multiply(q).toAffine(),Y=i.create(M.x);if(Y===Et)return;const Yt=i.create(G*i.create(P+Y*I));if(Yt===Et)return;let ce=(M.x===Y?0:2)|Number(M.y&ne),fe=Yt;return E&&v(Yt)&&(fe=i.neg(Yt),ce^=1),new R(Y,fe,ce)}return{seed:D,k2sig:$}}function T(b,g,x={}){b=tt(\"message\",b);const{seed:E,k2sig:A}=O(b,g,x);return vf(e.outputLen,i.BYTES,o)(E,A)}function C(b){let g;const x=typeof b==\"string\"||Ne(b),E=!x&&b!==null&&typeof b==\"object\"&&typeof b.r==\"bigint\"&&typeof b.s==\"bigint\";if(!x&&!E)throw new Error(\"invalid signature, expected Uint8Array, hex string or Signature instance\");if(E)g=new R(b.r,b.s);else if(x){try{g=R.fromBytes(tt(\"sig\",b),\"der\")}catch(A){if(!(A instanceof xt.Err))throw A}if(!g)try{g=R.fromBytes(tt(\"sig\",b),\"compact\")}catch{return!1}}return g||!1}function _(b,g,x,E={}){const{lowS:A,prehash:w,format:B}=Hn(E,y);if(x=tt(\"publicKey\",x),g=k(tt(\"message\",g),w),\"strict\"in E)throw new Error(\"options.strict was renamed to lowS\");const I=B===void 0?C(b):R.fromBytes(tt(\"sig\",b),B);if(I===!1)return!1;try{const N=t.fromBytes(x);if(A&&I.hasHighS())return!1;const{r:D,s:P}=I,$=H(g),V=i.inv(P),q=i.create($*V),G=i.create(D*V),M=t.BASE.multiplyUnsafe(q).add(N.multiplyUnsafe(G));return M.is0()?!1:i.create(M.x)===D}catch{return!1}}function p(b,g,x={}){const{prehash:E}=Hn(x,y);return g=k(g,E),R.fromBytes(b,\"recovered\").recoverPublicKey(g).toBytes()}return Object.freeze({keygen:u,getPublicKey:a,getSharedSecret:l,utils:d,lengths:h,Point:t,sign:T,verify:_,recoverPublicKey:p,Signature:R,hash:e})}function Jf(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(i=>Math.ceil(i/2)))):void 0;const o=Ht(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:o,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Qf(t){const{CURVE:e,curveOpts:n}=Jf(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function ta(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,ko(n.Fn.ORDER,n.Fn.BITS))})}function ea(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:o}=Qf(t),s=Yf(e,n),i=Xf(s,r,o);return ta(t,i)}function Dn(t,e){const n=r=>ea({...t,hash:r});return{...n(e),create:n}}const Xo={p:BigInt(\"0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff\"),n:BigInt(\"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\"),h:BigInt(1),a:BigInt(\"0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc\"),b:BigInt(\"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b\"),Gx:BigInt(\"0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\"),Gy:BigInt(\"0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\")},Jo={p:BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff\"),n:BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973\"),h:BigInt(1),a:BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc\"),b:BigInt(\"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef\"),Gx:BigInt(\"0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7\"),Gy:BigInt(\"0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\")},Qo={p:BigInt(\"0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"),n:BigInt(\"0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409\"),h:BigInt(1),a:BigInt(\"0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc\"),b:BigInt(\"0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00\"),Gx:BigInt(\"0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66\"),Gy:BigInt(\"0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650\")},na=Ht(Xo.p),ra=Ht(Jo.p),oa=Ht(Qo.p),sa=Dn({...Xo,Fp:na,lowS:!1},$e);Dn({...Jo,Fp:ra,lowS:!1},gc),Dn({...Qo,Fp:oa,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},pc);const ia=sa,Vn=\"base10\",rt=\"base16\",oe=\"base64pad\",Ge=\"base64url\",se=\"utf8\",Mn=0,ie=1,we=2,ca=0,ts=1,ve=12,Kn=32;function fa(){const t=kn.utils.randomPrivateKey(),e=kn.getPublicKey(t);return{privateKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,rt),publicKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,rt)}}function aa(){const t=Mt(Kn);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,rt)}function ua(t,e){const n=kn.getSharedSecret((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,rt),(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,rt)),r=mf(Pe,n,void 0,void 0,Kn);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(r,rt)}function la(t){const e=Pe((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,rt));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,rt)}function da(t){const e=Pe((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,se));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,rt)}function qn(t){return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(`${t}`,Vn)}function Zt(t){return Number((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,Vn))}function es(t){return t.replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\")}function ns(t){const e=t.replace(/-/g,\"+\").replace(/_/g,\"/\"),n=(4-e.length%4)%4;return e+\"=\".repeat(n)}function ha(t){const e=qn(typeof t.type<\"u\"?t.type:Mn);if(Zt(e)===ie&&typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");const n=typeof t.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.senderPublicKey,rt):void 0,r=typeof t.iv<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.iv,rt):Mt(ve),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,rt),s=xo(o,r).encrypt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.message,se)),i=Fn({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Ge?es(i):i}function pa(t){const e=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,rt),{sealed:n,iv:r}=ze({encoded:t.encoded,encoding:t.encoding}),o=xo(e,r).decrypt(n);if(o===null)throw new Error(\"Failed to decrypt\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(o,se)}function ga(t,e){const n=qn(we),r=Mt(ve),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,se),s=Fn({type:n,sealed:o,iv:r});return e===Ge?es(s):s}function ba(t,e){const{sealed:n}=ze({encoded:t,encoding:e});return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n,se)}function Fn(t){if(Zt(t.type)===we)return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.sealed]),oe);if(Zt(t.type)===ie){if(typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.senderPublicKey,t.iv,t.sealed]),oe)}return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.iv,t.sealed]),oe)}function ze(t){const e=(t.encoding||oe)===Ge?ns(t.encoded):t.encoded,n=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,oe),r=n.slice(ca,ts),o=ts;if(Zt(r)===ie){const f=o+Kn,u=f+ve,a=n.slice(o,f),l=n.slice(f,u),d=n.slice(u);return{type:r,sealed:d,iv:l,senderPublicKey:a}}if(Zt(r)===we){const f=n.slice(o),u=Mt(ve);return{type:r,sealed:f,iv:u}}const s=o+ve,i=n.slice(o,s),c=n.slice(s);return{type:r,sealed:c,iv:i}}function ya(t,e){const n=ze({encoded:t,encoding:e?.encoding});return rs({type:Zt(n.type),senderPublicKey:typeof n.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n.senderPublicKey,rt):void 0,receiverPublicKey:e?.receiverPublicKey})}function rs(t){const e=t?.type||Mn;if(e===ie){if(typeof t?.senderPublicKey>\"u\")throw new Error(\"missing sender public key\");if(typeof t?.receiverPublicKey>\"u\")throw new Error(\"missing receiver public key\")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function ma(t){return t.type===ie&&typeof t.senderPublicKey==\"string\"&&typeof t.receiverPublicKey==\"string\"}function wa(t){return t.type===we}function os(t){const e=Buffer.from(t.x,\"base64\"),n=Buffer.from(t.y,\"base64\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([new Uint8Array([4]),e,n])}function va(t,e){const[n,r,o]=t.split(\".\"),s=Buffer.from(ns(o),\"base64\");if(s.length!==64)throw new Error(\"Invalid signature length\");const i=s.slice(0,32),c=s.slice(32,64),f=`${n}.${r}`,u=Pe(f),a=os(e);if(!ia.verify((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([i,c]),u,a))throw new Error(\"Invalid signature\");return (0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__.decodeJWT)(t).payload}const ss=\"irn\";function xa(t){return t?.relay||{protocol:ss}}function Ea(t){const e=_walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__.RELAY_JSONRPC[t];if(typeof e>\"u\")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Ba=Object.defineProperty,Aa=Object.defineProperties,Ia=Object.getOwnPropertyDescriptors,is=Object.getOwnPropertySymbols,Sa=Object.prototype.hasOwnProperty,Oa=Object.prototype.propertyIsEnumerable,cs=(t,e,n)=>e in t?Ba(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zn=(t,e)=>{for(var n in e||(e={}))Sa.call(e,n)&&cs(t,n,e[n]);if(is)for(var n of is(e))Oa.call(e,n)&&cs(t,n,e[n]);return t},Na=(t,e)=>Aa(t,Ia(e));function fs(t,e=\"-\"){const n={},r=\"relay\"+e;return Object.keys(t).forEach(o=>{if(o.startsWith(r)){const s=o.replace(r,\"\"),i=t[o];n[s]=i}}),n}function Ua(t){if(!t.includes(\"wc:\")){const u=cn(t);u!=null&&u.includes(\"wc:\")&&(t=u)}t=t.includes(\"wc://\")?t.replace(\"wc://\",\"\"):t,t=t.includes(\"wc:\")?t.replace(\"wc:\",\"\"):t;const e=t.indexOf(\":\"),n=t.indexOf(\"?\")!==-1?t.indexOf(\"?\"):void 0,r=t.substring(0,e),o=t.substring(e+1,n).split(\"@\"),s=typeof n<\"u\"?t.substring(n):\"\",i=new URLSearchParams(s),c=Object.fromEntries(i.entries()),f=typeof c.methods==\"string\"?c.methods.split(\",\"):void 0;return{protocol:r,topic:as(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:fs(c),methods:f,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function as(t){return t.startsWith(\"//\")?t.substring(2):t}function us(t,e=\"-\"){const n=\"relay\",r={};return Object.keys(t).forEach(o=>{const s=o,i=n+e+s;t[s]&&(r[i]=t[s])}),r}function _a(t){const e=new URLSearchParams,n=Zn(Zn(Na(Zn({},us(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(\",\")});return Object.entries(n).sort(([r],[o])=>r.localeCompare(o)).forEach(([r,o])=>{o!==void 0&&e.append(r,String(o))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function Ra(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var $a=Object.defineProperty,Ta=Object.defineProperties,Ca=Object.getOwnPropertyDescriptors,ls=Object.getOwnPropertySymbols,ja=Object.prototype.hasOwnProperty,La=Object.prototype.propertyIsEnumerable,ds=(t,e,n)=>e in t?$a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ka=(t,e)=>{for(var n in e||(e={}))ja.call(e,n)&&ds(t,n,e[n]);if(ls)for(var n of ls(e))La.call(e,n)&&ds(t,n,e[n]);return t},Pa=(t,e)=>Ta(t,Ca(e));function Gt(t){const e=[];return t.forEach(n=>{const[r,o]=n.split(\":\");e.push(`${r}:${o}`)}),e}function hs(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Gt(n.accounts))}),e}function ps(t,e){const n=[];return Object.values(t).forEach(r=>{Gt(r.accounts).includes(e)&&n.push(...r.methods)}),n}function gs(t,e){const n=[];return Object.values(t).forEach(r=>{Gt(r.accounts).includes(e)&&n.push(...r.events)}),n}function Ha(t,e){const n=Ss(t,e);if(n)throw new Error(n.message);const r={};for(const[o,s]of Object.entries(t))r[o]={methods:s.methods,events:s.events,chains:s.accounts.map(i=>`${i.split(\":\")[0]}:${i.split(\":\")[1]}`)};return r}function Da(t){var e;const{proposal:{requiredNamespaces:n,optionalNamespaces:r={}},supportedNamespaces:o}=t,s=xe(n),i=xe(r),c={};Object.keys(o).forEach(a=>{const l=o[a].chains,d=o[a].methods,h=o[a].events,y=o[a].accounts;l.forEach(m=>{if(!y.some(v=>v.includes(m)))throw new Error(`No accounts provided for chain ${m} in namespace ${a}`)}),c[a]={chains:l,methods:d,events:h,accounts:y}});const f=Ns(n,c,\"approve()\");if(f)throw new Error(f.message);const u={};if(!Object.keys(n).length&&!Object.keys(r).length)return c;Object.keys(s).forEach(a=>{const l=o[a].chains.filter(m=>{var v,U;return(U=(v=s[a])==null?void 0:v.chains)==null?void 0:U.includes(m)}),d=o[a].methods.filter(m=>{var v,U;return(U=(v=s[a])==null?void 0:v.methods)==null?void 0:U.includes(m)}),h=o[a].events.filter(m=>{var v,U;return(U=(v=s[a])==null?void 0:v.events)==null?void 0:U.includes(m)}),y=l.map(m=>o[a].accounts.filter(v=>v.includes(`${m}:`))).flat();u[a]={chains:l,methods:d,events:h,accounts:y}}),Object.keys(i).forEach(a=>{var l,d,h,y,m,v;if(!o[a])return;const U=(d=(l=i[a])==null?void 0:l.chains)==null?void 0:d.filter(H=>o[a].chains.includes(H)),F=o[a].methods.filter(H=>{var j,L;return(L=(j=i[a])==null?void 0:j.methods)==null?void 0:L.includes(H)}),R=o[a].events.filter(H=>{var j,L;return(L=(j=i[a])==null?void 0:j.events)==null?void 0:L.includes(H)}),Z=U?.map(H=>o[a].accounts.filter(j=>j.includes(`${H}:`))).flat();u[a]={chains:ut((h=u[a])==null?void 0:h.chains,U),methods:ut((y=u[a])==null?void 0:y.methods,F),events:ut((m=u[a])==null?void 0:m.events,R),accounts:ut((v=u[a])==null?void 0:v.accounts,Z)}});for(const[a,l]of Object.entries(u))(l.accounts.length===0||((e=l?.chains)==null?void 0:e.length)===0)&&delete u[a];return u}function Gn(t){return t.includes(\":\")}function bs(t){return Gn(t)?t.split(\":\")[0]:t}function xe(t){var e,n,r;const o={};if(!Ye(t))return o;for(const[s,i]of Object.entries(t)){const c=Gn(s)?[s]:i.chains,f=i.methods||[],u=i.events||[],a=bs(s);o[a]=Pa(ka({},o[a]),{chains:ut(c,(e=o[a])==null?void 0:e.chains),methods:ut(f,(n=o[a])==null?void 0:n.methods),events:ut(u,(r=o[a])==null?void 0:r.events)})}return o}function ys(t){const e={};return t?.forEach(n=>{var r;const[o,s]=n.split(\":\");e[o]||(e[o]={accounts:[],chains:[],events:[],methods:[]}),e[o].accounts.push(n),(r=e[o].chains)==null||r.push(`${o}:${s}`)}),e}function Va(t,e){e=e.map(r=>r.replace(\"did:pkh:\",\"\"));const n=ys(e);for(const[r,o]of Object.entries(n))o.methods?o.methods=ut(o.methods,t):o.methods=t,o.events=[\"chainChanged\",\"accountsChanged\"];return n}function Ma(t,e){var n,r,o,s,i,c;const f=xe(t),u=xe(e),a={},l=Object.keys(f).concat(Object.keys(u));for(const d of l)a[d]={chains:ut((n=f[d])==null?void 0:n.chains,(r=u[d])==null?void 0:r.chains),methods:ut((o=f[d])==null?void 0:o.methods,(s=u[d])==null?void 0:s.methods),events:ut((i=f[d])==null?void 0:i.events,(c=u[d])==null?void 0:c.events)};return a}const ms={INVALID_METHOD:{message:\"Invalid method.\",code:1001},INVALID_EVENT:{message:\"Invalid event.\",code:1002},INVALID_UPDATE_REQUEST:{message:\"Invalid update request.\",code:1003},INVALID_EXTEND_REQUEST:{message:\"Invalid extend request.\",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:\"Invalid session settle request.\",code:1005},UNAUTHORIZED_METHOD:{message:\"Unauthorized method.\",code:3001},UNAUTHORIZED_EVENT:{message:\"Unauthorized event.\",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:\"Unauthorized update request.\",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:\"Unauthorized extend request.\",code:3004},USER_REJECTED:{message:\"User rejected.\",code:5e3},USER_REJECTED_CHAINS:{message:\"User rejected chains.\",code:5001},USER_REJECTED_METHODS:{message:\"User rejected methods.\",code:5002},USER_REJECTED_EVENTS:{message:\"User rejected events.\",code:5003},UNSUPPORTED_CHAINS:{message:\"Unsupported chains.\",code:5100},UNSUPPORTED_METHODS:{message:\"Unsupported methods.\",code:5101},UNSUPPORTED_EVENTS:{message:\"Unsupported events.\",code:5102},UNSUPPORTED_ACCOUNTS:{message:\"Unsupported accounts.\",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:\"Unsupported namespace key.\",code:5104},USER_DISCONNECTED:{message:\"User disconnected.\",code:6e3},SESSION_SETTLEMENT_FAILED:{message:\"Session settlement failed.\",code:7e3},WC_METHOD_UNSUPPORTED:{message:\"Unsupported wc_ method.\",code:10001}},ws={NOT_INITIALIZED:{message:\"Not initialized.\",code:1},NO_MATCHING_KEY:{message:\"No matching key.\",code:2},RESTORE_WILL_OVERRIDE:{message:\"Restore will override.\",code:3},RESUBSCRIBED:{message:\"Resubscribed.\",code:4},MISSING_OR_INVALID:{message:\"Missing or invalid.\",code:5},EXPIRED:{message:\"Expired.\",code:6},UNKNOWN_TYPE:{message:\"Unknown type.\",code:7},MISMATCHED_TOPIC:{message:\"Mismatched topic.\",code:8},NON_CONFORMING_NAMESPACES:{message:\"Non conforming namespaces.\",code:9}};function Bt(t,e){const{message:n,code:r}=ws[t];return{message:e?`${n} ${e}`:n,code:r}}function zt(t,e){const{message:n,code:r}=ms[t];return{message:e?`${n} ${e}`:n,code:r}}function Ee(t,e){return Array.isArray(t)?typeof e<\"u\"&&t.length?t.every(e):!0:!1}function Ye(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Dt(t){return typeof t>\"u\"}function ft(t,e){return e&&Dt(t)?!0:typeof t==\"string\"&&!!t.trim().length}function We(t,e){return e&&Dt(t)?!0:typeof t==\"number\"&&!isNaN(t)}function Ka(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),o=Object.keys(n);let s=!0;return It(o,r)?(r.forEach(i=>{const{accounts:c,methods:f,events:u}=t.namespaces[i],a=Gt(c),l=n[i];(!It(Ie(i,l),a)||!It(l.methods,f)||!It(l.events,u))&&(s=!1)}),s):!1}function Be(t){return ft(t,!1)&&t.includes(\":\")?t.split(\":\").length===2:!1}function vs(t){if(ft(t,!1)&&t.includes(\":\")){const e=t.split(\":\");if(e.length===3){const n=e[0]+\":\"+e[1];return!!e[2]&&Be(n)}}return!1}function qa(t){function e(n){try{return typeof new URL(n)<\"u\"}catch{return!1}}try{if(ft(t,!1)){if(e(t))return!0;const n=cn(t);return e(n)}}catch{}return!1}function Fa(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Za(t){return t?.topic}function Ga(t,e){let n=null;return ft(t?.publicKey,!1)||(n=Bt(\"MISSING_OR_INVALID\",`${e} controller public key should be a string`)),n}function zn(t){let e=!0;return Ee(t)?t.length&&(e=t.every(n=>ft(n,!1))):e=!1,e}function xs(t,e,n){let r=null;return Ee(e)&&e.length?e.forEach(o=>{r||Be(o)||(r=zt(\"UNSUPPORTED_CHAINS\",`${n}, chain ${o} should be a string and conform to \"namespace:chainId\" format`))}):Be(t)||(r=zt(\"UNSUPPORTED_CHAINS\",`${n}, chains must be defined as \"namespace:chainId\" e.g. \"eip155:1\": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: [\"eip155:1\", \"eip155:5\"] }`)),r}function Es(t,e,n){let r=null;return Object.entries(t).forEach(([o,s])=>{if(r)return;const i=xs(o,Ie(o,s),`${e} ${n}`);i&&(r=i)}),r}function Bs(t,e){let n=null;return Ee(t)?t.forEach(r=>{n||vs(r)||(n=zt(\"UNSUPPORTED_ACCOUNTS\",`${e}, account ${r} should be a string and conform to \"namespace:chainId:address\" format`))}):n=zt(\"UNSUPPORTED_ACCOUNTS\",`${e}, accounts should be an array of strings conforming to \"namespace:chainId:address\" format`),n}function As(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=Bs(r?.accounts,`${e} namespace`);o&&(n=o)}),n}function Is(t,e){let n=null;return zn(t?.methods)?zn(t?.events)||(n=zt(\"UNSUPPORTED_EVENTS\",`${e}, events should be an array of strings or empty array for no events`)):n=zt(\"UNSUPPORTED_METHODS\",`${e}, methods should be an array of strings or empty array for no methods`),n}function Yn(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=Is(r,`${e}, namespace`);o&&(n=o)}),n}function za(t,e,n){let r=null;if(t&&Ye(t)){const o=Yn(t,e);o&&(r=o);const s=Es(t,e,n);s&&(r=s)}else r=Bt(\"MISSING_OR_INVALID\",`${e}, ${n} should be an object with data`);return r}function Ss(t,e){let n=null;if(t&&Ye(t)){const r=Yn(t,e);r&&(n=r);const o=As(t,e);o&&(n=o)}else n=Bt(\"MISSING_OR_INVALID\",`${e}, namespaces should be an object with data`);return n}function Os(t){return ft(t.protocol,!0)}function Ya(t,e){let n=!1;return e&&!t?n=!0:t&&Ee(t)&&t.length&&t.forEach(r=>{n=Os(r)}),n}function Wa(t){return typeof t==\"number\"}function Xa(t){return typeof t<\"u\"&&typeof t!==null}function Ja(t){return!(!t||typeof t!=\"object\"||!t.code||!We(t.code,!1)||!t.message||!ft(t.message,!1))}function Qa(t){return!(Dt(t)||!ft(t.method,!1))}function tu(t){return!(Dt(t)||Dt(t.result)&&Dt(t.error)||!We(t.id,!1)||!ft(t.jsonrpc,!1))}function eu(t){return!(Dt(t)||!ft(t.name,!1))}function nu(t,e){return!(!Be(e)||!hs(t).includes(e))}function ru(t,e,n){return ft(n,!1)?ps(t,e).includes(n):!1}function ou(t,e,n){return ft(n,!1)?gs(t,e).includes(n):!1}function Ns(t,e,n){let r=null;const o=su(t),s=iu(e),i=Object.keys(o),c=Object.keys(s),f=Us(Object.keys(t)),u=Us(Object.keys(e)),a=f.filter(l=>!u.includes(l));return a.length&&(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${a.toString()}\n      Received: ${Object.keys(e).toString()}`)),It(i,c)||(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${i.toString()}\n      Approved: ${c.toString()}`)),Object.keys(e).forEach(l=>{if(!l.includes(\":\")||r)return;const d=Gt(e[l].accounts);d.includes(l)||(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces accounts don't satisfy namespace accounts for ${l}\n        Required: ${l}\n        Approved: ${d.toString()}`))}),i.forEach(l=>{r||(It(o[l].methods,s[l].methods)?It(o[l].events,s[l].events)||(r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces events don't satisfy namespace events for ${l}`)):r=Bt(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces methods don't satisfy namespace methods for ${l}`))}),r}function su(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(\":\")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(o=>{e[o]={methods:t[n].methods,events:t[n].events}})}),e}function Us(t){return[...new Set(t.map(e=>e.includes(\":\")?e.split(\":\")[0]:e))]}function iu(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(\":\"))e[n]=t[n];else{const r=Gt(t[n].accounts);r?.forEach(o=>{e[o]={accounts:t[n].accounts.filter(s=>s.includes(`${o}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function cu(t,e){return We(t,!1)&&t<=e.max&&t>=e.min}function fu(){const t=Vt();return new Promise(e=>{switch(t){case et.browser:e(_s());break;case et.reactNative:e(Rs());break;case et.node:e($s());break;default:e(!0)}})}function _s(){return Wt()&&navigator?.onLine}async function Rs(){if(At()&&typeof global<\"u\"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t?.isConnected}return!0}function $s(){return!0}function au(t){switch(Vt()){case et.browser:Ts(t);break;case et.reactNative:Cs(t);break;case et.node:break}}function Ts(t){!At()&&Wt()&&(window.addEventListener(\"online\",()=>t(!0)),window.addEventListener(\"offline\",()=>t(!1)))}function Cs(t){At()&&typeof global<\"u\"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function uu(){var t;return Wt()&&(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()?((t=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())==null?void 0:t.visibilityState)===\"visible\":!0}const Wn={};class lu{static get(e){return Wn[e]}static set(e,n){Wn[e]=n}static delete(e){delete Wn[e]}}function js(t){const e=bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].decode(t);if(e.length<33)throw new Error(\"Too short to contain a public key\");return e.slice(1,33)}function Ls({publicKey:t,signature:e,payload:n}){var r;const o=Xn(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||\"4\"),i=hu(n.address),c=n.era===\"00\"?new Uint8Array([0]):Xn(n.era);if(c.length!==1&&c.length!==2)throw new Error(\"Invalid era length\");const f=parseInt(n.nonce,16),u=new Uint8Array([f&255,f>>8&255]),a=BigInt(`0x${du(n.tip)}`),l=gu(a),d=new Uint8Array([0,...t,i,...e,...c,...u,...l,...o]),h=pu(d.length+1);return new Uint8Array([...h,s,...d])}function ks(t){const e=Xn(t),n=(0,blakejs__WEBPACK_IMPORTED_MODULE_7__.blake2b)(e,void 0,32);return\"0x\"+Buffer.from(n).toString(\"hex\")}function Xn(t){return new Uint8Array(t.replace(/^0x/,\"\").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function du(t){return t.startsWith(\"0x\")?t.slice(2):t}function hu(t){const e=bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].decode(t)[0];return e===42?0:e===60?2:1}function pu(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error(\"Compact encoding > 2^30 not supported\")}function gu(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error(\"BigInt compact encoding not supported > 2^30\")}function bu(t){const e=Uint8Array.from(Buffer.from(t.signature,\"hex\")),n=js(t.transaction.address),r=Ls({publicKey:n,signature:e,payload:t.transaction}),o=Buffer.from(r).toString(\"hex\");return ks(o)}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpcUIsYUFBYSxlQUFlLHVCQUF1QixPQUFPLHlCQUF5QixlQUFlLE1BQU0sd0JBQXdCLEdBQUcscUJBQXFCLGVBQWUseUJBQXlCLE9BQU8sbUNBQW1DLGVBQWUsTUFBTSxrQ0FBa0MsR0FBRyx1QkFBdUIsaUJBQWlCLFdBQVcscUJBQXFCLGFBQWEseUJBQXlCLElBQUksZUFBZSxNQUFNLFVBQVUsT0FBTyxTQUFTLGVBQWUsTUFBTSx3QkFBd0IsT0FBTyxXQUFXLHdCQUF3QixFQUFFLGlCQUFpQixNQUFNLHdCQUF3QixPQUFPLFdBQVcsa0NBQWtDLEVBQUUsZUFBZSxnQkFBZ0IsZUFBZSxnQkFBZ0Isb0JBQW9CLFdBQVcsa0NBQWtDLG1DQUFtQyxhQUFhLHNCQUFzQixJQUFJLG9CQUFvQixXQUFXLGtDQUFrQyxtQ0FBbUMsYUFBYSwwQkFBMEIsSUFBSSxvQkFBb0IsV0FBVyxrQ0FBa0MsbUNBQW1DLGFBQWEsbUJBQW1CLElBQUksaUJBQWlCLHdDQUF3QyxtT0FBbU8sa0RBQWtELG9CQUFvQixxQkFBcUIsNkJBQTZCLG9EQUFvRCxTQUFTLHFFQUFxRSwyQkFBMkIsMkVBQTJFLDBDQUEwQyxjQUFjLHlGQUF5RixjQUFjLE9BQU8sMEVBQUUs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USw0Q0FBRSxjQUFjLDJCQUEyQixlQUFlLHNDQUFzQyxZQUFZLGVBQWUsd0NBQXdDLGlCQUFpQixlQUFlLDREQUE0RCw4REFBOEQsZUFBZSx3RUFBd0UsNEJBQTRCLCtCQUErQixnRkFBZ0YsaUNBQWlDLCtCQUErQixvSkFBb0oscUVBQXFFLGVBQWUsMEZBQTBGLDhDQUE4QyxtQ0FBbUMsYUFBcXpKO0FBQ2g3USIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtkZXRlY3QgYXMgUHN9ZnJvbVwiZGV0ZWN0LWJyb3dzZXJcIjtpbXBvcnR7dG9NaWxpc2Vjb25kcyBhcyBYZSxGSVZFX01JTlVURVMgYXMgZXIsZnJvbU1pbGlzZWNvbmRzIGFzIEhzfWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7Z2V0RG9jdW1lbnQgYXMgYWUsZ2V0TmF2aWdhdG9yIGFzIG5yLGdldExvY2F0aW9uIGFzIHJyfWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1nZXR0ZXJzXCI7aW1wb3J0e2dldFdpbmRvd01ldGFkYXRhIGFzIERzfWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1tZXRhZGF0YVwiO2ltcG9ydHtyZWNvdmVyQWRkcmVzcyBhcyBWc31mcm9tXCJ2aWVtXCI7aW1wb3J0IHVlIGZyb21cImJzNThcIjtpbXBvcnR7ZGVjb2RlIGFzIE1zLGVuY29kZSBhcyBLc31mcm9tXCJAbXNncGFjay9tc2dwYWNrXCI7aW1wb3J0e2Jhc2UzMiBhcyBxc31mcm9tXCJAc2N1cmUvYmFzZVwiO2ltcG9ydHtkZWNvZGVKV1QgYXMgRnN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvcmVsYXktYXV0aFwiO2ltcG9ydHt0b1N0cmluZyBhcyBpdCxmcm9tU3RyaW5nIGFzIGF0LGNvbmNhdCBhcyBsZX1mcm9tXCJ1aW50OGFycmF5c1wiO2ltcG9ydHtSRUxBWV9KU09OUlBDIGFzIFpzfWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWFwaVwiO2ltcG9ydHtibGFrZTJiIGFzIEdzfWZyb21cImJsYWtlanNcIjtjb25zdCBBZT1cIjpcIjtmdW5jdGlvbiBKZSh0KXtjb25zdFtlLG5dPXQuc3BsaXQoQWUpO3JldHVybntuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bn19ZnVuY3Rpb24gb3IodCl7Y29uc3R7bmFtZXNwYWNlOmUscmVmZXJlbmNlOm59PXQ7cmV0dXJuW2Usbl0uam9pbihBZSl9ZnVuY3Rpb24gUWUodCl7Y29uc3RbZSxuLHJdPXQuc3BsaXQoQWUpO3JldHVybntuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bixhZGRyZXNzOnJ9fWZ1bmN0aW9uIHNyKHQpe2NvbnN0e25hbWVzcGFjZTplLHJlZmVyZW5jZTpuLGFkZHJlc3M6cn09dDtyZXR1cm5bZSxuLHJdLmpvaW4oQWUpfWZ1bmN0aW9uIHRuKHQsZSl7Y29uc3Qgbj1bXTtyZXR1cm4gdC5mb3JFYWNoKHI9Pntjb25zdCBvPWUocik7bi5pbmNsdWRlcyhvKXx8bi5wdXNoKG8pfSksbn1mdW5jdGlvbiBpcih0KXtjb25zdHthZGRyZXNzOmV9PVFlKHQpO3JldHVybiBlfWZ1bmN0aW9uIGNyKHQpe2NvbnN0e25hbWVzcGFjZTplLHJlZmVyZW5jZTpufT1RZSh0KTtyZXR1cm4gb3Ioe25hbWVzcGFjZTplLHJlZmVyZW5jZTpufSl9ZnVuY3Rpb24genModCxlKXtjb25zdHtuYW1lc3BhY2U6bixyZWZlcmVuY2U6cn09SmUoZSk7cmV0dXJuIHNyKHtuYW1lc3BhY2U6bixyZWZlcmVuY2U6cixhZGRyZXNzOnR9KX1mdW5jdGlvbiBZcyh0KXtyZXR1cm4gdG4odCxpcil9ZnVuY3Rpb24gZnIodCl7cmV0dXJuIHRuKHQsY3IpfWZ1bmN0aW9uIFdzKHQsZT1bXSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57aWYoZS5sZW5ndGgmJiFlLmluY2x1ZGVzKHIpKXJldHVybjtjb25zdCBvPXRbcl07bi5wdXNoKC4uLm8uYWNjb3VudHMpfSksbn1mdW5jdGlvbiBYcyh0LGU9W10pe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gocj0+e2lmKGUubGVuZ3RoJiYhZS5pbmNsdWRlcyhyKSlyZXR1cm47Y29uc3Qgbz10W3JdO24ucHVzaCguLi5mcihvLmFjY291bnRzKSl9KSxufWZ1bmN0aW9uIEpzKHQsZT1bXSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57aWYoZS5sZW5ndGgmJiFlLmluY2x1ZGVzKHIpKXJldHVybjtjb25zdCBvPXRbcl07bi5wdXNoKC4uLkllKHIsbykpfSksbn1mdW5jdGlvbiBJZSh0LGUpe3JldHVybiB0LmluY2x1ZGVzKFwiOlwiKT9bdF06ZS5jaGFpbnN8fFtdfXZhciBRcz1PYmplY3QuZGVmaW5lUHJvcGVydHksdGk9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsZWk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsYXI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxuaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHJpPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZW49KHQsZSxuKT0+ZSBpbiB0P1FzKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bix1cj0odCxlKT0+e2Zvcih2YXIgbiBpbiBlfHwoZT17fSkpbmkuY2FsbChlLG4pJiZlbih0LG4sZVtuXSk7aWYoYXIpZm9yKHZhciBuIG9mIGFyKGUpKXJpLmNhbGwoZSxuKSYmZW4odCxuLGVbbl0pO3JldHVybiB0fSxvaT0odCxlKT0+dGkodCxlaShlKSksbHI9KHQsZSxuKT0+ZW4odCx0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSxuKTtjb25zdCBkcj1cIlJlYWN0TmF0aXZlXCIsZXQ9e3JlYWN0TmF0aXZlOlwicmVhY3QtbmF0aXZlXCIsbm9kZTpcIm5vZGVcIixicm93c2VyOlwiYnJvd3NlclwiLHVua25vd246XCJ1bmtub3duXCJ9LFNlPVwiIFwiLHNpPVwiOlwiLGhyPVwiL1wiLG5uPTIsaWk9MWUzLHByPVwianNcIjtmdW5jdGlvbiBybigpe3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM8XCJ1XCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU8XCJ1XCJ9ZnVuY3Rpb24gQXQoKXtyZXR1cm4hYWUoKSYmISFucigpJiZuYXZpZ2F0b3IucHJvZHVjdD09PWRyfWZ1bmN0aW9uIGNpKCl7cmV0dXJuIEF0KCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybSk8XCJ1XCImJihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybS5PUyk9PT1cImFuZHJvaWRcIn1mdW5jdGlvbiBmaSgpe3JldHVybiBBdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZ0eXBlb2YoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuUGxhdGZvcm0pPFwidVwiJiYoZ2xvYmFsPT1udWxsP3ZvaWQgMDpnbG9iYWwuUGxhdGZvcm0uT1MpPT09XCJpb3NcIn1mdW5jdGlvbiBXdCgpe3JldHVybiFybigpJiYhIW5yKCkmJiEhYWUoKX1mdW5jdGlvbiBWdCgpe3JldHVybiBBdCgpP2V0LnJlYWN0TmF0aXZlOnJuKCk/ZXQubm9kZTpXdCgpP2V0LmJyb3dzZXI6ZXQudW5rbm93bn1mdW5jdGlvbiBhaSgpe3ZhciB0O3RyeXtyZXR1cm4gQXQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLkFwcGxpY2F0aW9uKTxcInVcIj8odD1nbG9iYWwuQXBwbGljYXRpb24pPT1udWxsP3ZvaWQgMDp0LmFwcGxpY2F0aW9uSWQ6dm9pZCAwfWNhdGNoe3JldHVybn19ZnVuY3Rpb24gZ3IodCxlKXtjb25zdCBuPW5ldyBVUkxTZWFyY2hQYXJhbXModCk7cmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLnNvcnQoKFtyXSxbb10pPT5yLmxvY2FsZUNvbXBhcmUobykpLmZvckVhY2goKFtyLG9dKT0+e28hPW51bGwmJm4uc2V0KHIsU3RyaW5nKG8pKX0pLG4udG9TdHJpbmcoKX1mdW5jdGlvbiB1aSh0KXt2YXIgZSxuO2NvbnN0IHI9YnIoKTt0cnl7cmV0dXJuIHQhPW51bGwmJnQudXJsJiZyLnVybCYmbmV3IFVSTCh0LnVybCkuaG9zdCE9PW5ldyBVUkwoci51cmwpLmhvc3QmJihjb25zb2xlLndhcm4oYFRoZSBjb25maWd1cmVkIFdhbGxldENvbm5lY3QgJ21ldGFkYXRhLnVybCc6JHt0LnVybH0gZGlmZmVycyBmcm9tIHRoZSBhY3R1YWwgcGFnZSB1cmw6JHtyLnVybH0uIFRoaXMgaXMgcHJvYmFibHkgdW5pbnRlbmRlZCBhbmQgY2FuIGxlYWQgdG8gaXNzdWVzLmApLHQudXJsPXIudXJsKSwoZT10Py5pY29ucykhPW51bGwmJmUubGVuZ3RoJiZ0Lmljb25zLmxlbmd0aD4wJiYodC5pY29ucz10Lmljb25zLmZpbHRlcihvPT5vIT09XCJcIikpLG9pKHVyKHVyKHt9LHIpLHQpLHt1cmw6dD8udXJsfHxyLnVybCxuYW1lOnQ/Lm5hbWV8fHIubmFtZSxkZXNjcmlwdGlvbjp0Py5kZXNjcmlwdGlvbnx8ci5kZXNjcmlwdGlvbixpY29uczoobj10Py5pY29ucykhPW51bGwmJm4ubGVuZ3RoJiZ0Lmljb25zLmxlbmd0aD4wP3QuaWNvbnM6ci5pY29uc30pfWNhdGNoKG8pe3JldHVybiBjb25zb2xlLndhcm4oXCJFcnJvciBwb3B1bGF0aW5nIGFwcCBtZXRhZGF0YVwiLG8pLHR8fHJ9fWZ1bmN0aW9uIGJyKCl7cmV0dXJuIERzKCl8fHtuYW1lOlwiXCIsZGVzY3JpcHRpb246XCJcIix1cmw6XCJcIixpY29uczpbXCJcIl19fWZ1bmN0aW9uIGxpKHQsZSl7dmFyIG47Y29uc3Qgcj1WdCgpLG89e3Byb3RvY29sOnQsdmVyc2lvbjplLGVudjpyfTtyZXR1cm4gcj09PVwiYnJvd3NlclwiJiYoby5ob3N0PSgobj1ycigpKT09bnVsbD92b2lkIDA6bi5ob3N0KXx8XCJ1bmtub3duXCIpLG99ZnVuY3Rpb24geXIoKXtpZihWdCgpPT09ZXQucmVhY3ROYXRpdmUmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybSk8XCJ1XCIpe2NvbnN0e09TOm4sVmVyc2lvbjpyfT1nbG9iYWwuUGxhdGZvcm07cmV0dXJuW24scl0uam9pbihcIi1cIil9Y29uc3QgdD1QcygpO2lmKHQ9PT1udWxsKXJldHVyblwidW5rbm93blwiO2NvbnN0IGU9dC5vcz90Lm9zLnJlcGxhY2UoXCIgXCIsXCJcIikudG9Mb3dlckNhc2UoKTpcInVua25vd25cIjtyZXR1cm4gdC50eXBlPT09XCJicm93c2VyXCI/W2UsdC5uYW1lLHQudmVyc2lvbl0uam9pbihcIi1cIik6W2UsdC52ZXJzaW9uXS5qb2luKFwiLVwiKX1mdW5jdGlvbiBtcigpe3ZhciB0O2NvbnN0IGU9VnQoKTtyZXR1cm4gZT09PWV0LmJyb3dzZXI/W2UsKCh0PXJyKCkpPT1udWxsP3ZvaWQgMDp0Lmhvc3QpfHxcInVua25vd25cIl0uam9pbihcIjpcIik6ZX1mdW5jdGlvbiB3cih0LGUsbil7Y29uc3Qgcj15cigpLG89bXIoKTtyZXR1cm5bW3QsZV0uam9pbihcIi1cIiksW3ByLG5dLmpvaW4oXCItXCIpLHIsb10uam9pbihcIi9cIil9ZnVuY3Rpb24gZGkoe3Byb3RvY29sOnQsdmVyc2lvbjplLHJlbGF5VXJsOm4sc2RrVmVyc2lvbjpyLGF1dGg6byxwcm9qZWN0SWQ6cyx1c2VPbkNsb3NlRXZlbnQ6aSxidW5kbGVJZDpjLHBhY2thZ2VOYW1lOmZ9KXtjb25zdCB1PW4uc3BsaXQoXCI/XCIpLGE9d3IodCxlLHIpLGw9e2F1dGg6byx1YTphLHByb2plY3RJZDpzLHVzZU9uQ2xvc2VFdmVudDppfHx2b2lkIDAscGFja2FnZU5hbWU6Znx8dm9pZCAwLGJ1bmRsZUlkOmN8fHZvaWQgMH0sZD1ncih1WzFdfHxcIlwiLGwpO3JldHVybiB1WzBdK1wiP1wiK2R9ZnVuY3Rpb24gaGkodCl7bGV0IGU9KHQubWF0Y2goL15bXjpdKyg/PTpcXC9cXC8pL2dpKXx8W10pWzBdO2NvbnN0IG49dHlwZW9mIGU8XCJ1XCI/dC5zcGxpdChcIjovL1wiKVsxXTp0O3JldHVybiBlPWU9PT1cIndzc1wiP1wiaHR0cHNcIjpcImh0dHBcIixbZSxuXS5qb2luKFwiOi8vXCIpfWZ1bmN0aW9uIHBpKHQsZSxuKXtpZighdFtlXXx8dHlwZW9mIHRbZV0hPT1uKXRocm93IG5ldyBFcnJvcihgTWlzc2luZyBvciBpbnZhbGlkIFwiJHtlfVwiIHBhcmFtYCl9ZnVuY3Rpb24gdnIodCxlPW5uKXtyZXR1cm4geHIodC5zcGxpdChociksZSl9ZnVuY3Rpb24gZ2kodCl7cmV0dXJuIHZyKHQpLmpvaW4oU2UpfWZ1bmN0aW9uIEl0KHQsZSl7cmV0dXJuIHQuZmlsdGVyKG49PmUuaW5jbHVkZXMobikpLmxlbmd0aD09PXQubGVuZ3RofWZ1bmN0aW9uIHhyKHQsZT1ubil7cmV0dXJuIHQuc2xpY2UoTWF0aC5tYXgodC5sZW5ndGgtZSwwKSl9ZnVuY3Rpb24gYmkodCl7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyh0LmVudHJpZXMoKSl9ZnVuY3Rpb24geWkodCl7cmV0dXJuIG5ldyBNYXAoT2JqZWN0LmVudHJpZXModCkpfWZ1bmN0aW9uIG1pKHQsZSl7Y29uc3Qgbj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57bltyXT1lKHRbcl0pfSksbn1jb25zdCB3aT10PT50O2Z1bmN0aW9uIEVyKHQpe3JldHVybiB0LnRyaW0oKS5yZXBsYWNlKC9eXFx3LyxlPT5lLnRvVXBwZXJDYXNlKCkpfWZ1bmN0aW9uIHZpKHQpe3JldHVybiB0LnNwbGl0KFNlKS5tYXAoZT0+RXIoZSkpLmpvaW4oU2UpfWZ1bmN0aW9uIHhpKHQ9ZXIsZSl7Y29uc3Qgbj1YZSh0fHxlcik7bGV0IHIsbyxzLGk7cmV0dXJue3Jlc29sdmU6Yz0+e3MmJnImJihjbGVhclRpbWVvdXQocykscihjKSxpPVByb21pc2UucmVzb2x2ZShjKSl9LHJlamVjdDpjPT57cyYmbyYmKGNsZWFyVGltZW91dChzKSxvKGMpKX0sZG9uZTooKT0+bmV3IFByb21pc2UoKGMsZik9PntpZihpKXJldHVybiBjKGkpO3M9c2V0VGltZW91dCgoKT0+e2NvbnN0IHU9bmV3IEVycm9yKGUpO2k9UHJvbWlzZS5yZWplY3QodSksZih1KX0sbikscj1jLG89Zn0pfX1mdW5jdGlvbiBFaSh0LGUsbil7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHIsbyk9Pntjb25zdCBzPXNldFRpbWVvdXQoKCk9Pm8obmV3IEVycm9yKG4pKSxlKTt0cnl7Y29uc3QgaT1hd2FpdCB0O3IoaSl9Y2F0Y2goaSl7byhpKX1jbGVhclRpbWVvdXQocyl9KX1mdW5jdGlvbiBvbih0LGUpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiJiZlLnN0YXJ0c1dpdGgoYCR7dH06YCkpcmV0dXJuIGU7aWYodC50b0xvd2VyQ2FzZSgpPT09XCJ0b3BpY1wiKXtpZih0eXBlb2YgZSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG11c3QgYmUgXCJzdHJpbmdcIiBmb3IgZXhwaXJlciB0YXJnZXQgdHlwZTogdG9waWMnKTtyZXR1cm5gdG9waWM6JHtlfWB9ZWxzZSBpZih0LnRvTG93ZXJDYXNlKCk9PT1cImlkXCIpe2lmKHR5cGVvZiBlIT1cIm51bWJlclwiKXRocm93IG5ldyBFcnJvcignVmFsdWUgbXVzdCBiZSBcIm51bWJlclwiIGZvciBleHBpcmVyIHRhcmdldCB0eXBlOiBpZCcpO3JldHVybmBpZDoke2V9YH10aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZXhwaXJlciB0YXJnZXQgdHlwZTogJHt0fWApfWZ1bmN0aW9uIEJpKHQpe3JldHVybiBvbihcInRvcGljXCIsdCl9ZnVuY3Rpb24gQWkodCl7cmV0dXJuIG9uKFwiaWRcIix0KX1mdW5jdGlvbiBJaSh0KXtjb25zdFtlLG5dPXQuc3BsaXQoXCI6XCIpLHI9e2lkOnZvaWQgMCx0b3BpYzp2b2lkIDB9O2lmKGU9PT1cInRvcGljXCImJnR5cGVvZiBuPT1cInN0cmluZ1wiKXIudG9waWM9bjtlbHNlIGlmKGU9PT1cImlkXCImJk51bWJlci5pc0ludGVnZXIoTnVtYmVyKG4pKSlyLmlkPU51bWJlcihuKTtlbHNlIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0YXJnZXQsIGV4cGVjdGVkIGlkOm51bWJlciBvciB0b3BpYzpzdHJpbmcsIGdvdCAke2V9OiR7bn1gKTtyZXR1cm4gcn1mdW5jdGlvbiBTaSh0LGUpe3JldHVybiBIcygoZXx8RGF0ZS5ub3coKSkrWGUodCkpfWZ1bmN0aW9uIE9pKHQpe3JldHVybiBEYXRlLm5vdygpPj1YZSh0KX1mdW5jdGlvbiBOaSh0LGUpe3JldHVybmAke3R9JHtlP2A6JHtlfWA6XCJcIn1gfWZ1bmN0aW9uIHV0KHQ9W10sZT1bXSl7cmV0dXJuWy4uLm5ldyBTZXQoWy4uLnQsLi4uZV0pXX1hc3luYyBmdW5jdGlvbiBVaSh7aWQ6dCx0b3BpYzplLHdjRGVlcExpbms6bn0pe3ZhciByO3RyeXtpZighbilyZXR1cm47Y29uc3Qgbz10eXBlb2Ygbj09XCJzdHJpbmdcIj9KU09OLnBhcnNlKG4pOm4scz1vPy5ocmVmO2lmKHR5cGVvZiBzIT1cInN0cmluZ1wiKXJldHVybjtjb25zdCBpPUJyKHMsdCxlKSxjPVZ0KCk7aWYoYz09PWV0LmJyb3dzZXIpe2lmKCEoKHI9YWUoKSkhPW51bGwmJnIuaGFzRm9jdXMoKSkpe2NvbnNvbGUud2FybihcIkRvY3VtZW50IGRvZXMgbm90IGhhdmUgZm9jdXMsIHNraXBwaW5nIGRlZXBsaW5rLlwiKTtyZXR1cm59QXIoaSl9ZWxzZSBjPT09ZXQucmVhY3ROYXRpdmUmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIiYmYXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChpKX1jYXRjaChvKXtjb25zb2xlLmVycm9yKG8pfX1mdW5jdGlvbiBCcih0LGUsbil7Y29uc3Qgcj1gcmVxdWVzdElkPSR7ZX0mc2Vzc2lvblRvcGljPSR7bn1gO3QuZW5kc1dpdGgoXCIvXCIpJiYodD10LnNsaWNlKDAsLTEpKTtsZXQgbz1gJHt0fWA7aWYodC5zdGFydHNXaXRoKFwiaHR0cHM6Ly90Lm1lXCIpKXtjb25zdCBzPXQuaW5jbHVkZXMoXCI/XCIpP1wiJnN0YXJ0YXBwPVwiOlwiP3N0YXJ0YXBwPVwiO289YCR7b30ke3N9JHtPcihyLCEwKX1gfWVsc2Ugbz1gJHtvfS93Yz8ke3J9YDtyZXR1cm4gb31mdW5jdGlvbiBBcih0KXtsZXQgZT1cIl9zZWxmXCI7U3IoKT9lPVwiX3RvcFwiOihJcigpfHx0LnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKXx8dC5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSkmJihlPVwiX2JsYW5rXCIpLHdpbmRvdy5vcGVuKHQsZSxcIm5vcmVmZXJyZXIgbm9vcGVuZXJcIil9YXN5bmMgZnVuY3Rpb24gX2kodCxlKXtsZXQgbj1cIlwiO3RyeXtpZihXdCgpJiYobj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKSxuKSlyZXR1cm4gbjtuPWF3YWl0IHQuZ2V0SXRlbShlKX1jYXRjaChyKXtjb25zb2xlLmVycm9yKHIpfXJldHVybiBufWZ1bmN0aW9uIHNuKHQsZSl7cmV0dXJuIHQuZmlsdGVyKG49PmUuaW5jbHVkZXMobikpfWZ1bmN0aW9uIFJpKHQsZSl7aWYoIXQuaW5jbHVkZXMoZSkpcmV0dXJuIG51bGw7Y29uc3Qgbj10LnNwbGl0KC8oWyYsPyw9XSkvKSxyPW4uaW5kZXhPZihlKTtyZXR1cm4gbltyKzJdfWZ1bmN0aW9uICRpKCl7cmV0dXJuIHR5cGVvZiBjcnlwdG88XCJ1XCImJmNyeXB0byE9bnVsbCYmY3J5cHRvLnJhbmRvbVVVSUQ/Y3J5cHRvLnJhbmRvbVVVSUQoKTpcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZ3UsdD0+e2NvbnN0IGU9TWF0aC5yYW5kb20oKSoxNnwwO3JldHVybih0PT09XCJ4XCI/ZTplJjN8OCkudG9TdHJpbmcoMTYpfSl9ZnVuY3Rpb24gVGkoKXtyZXR1cm4gdHlwZW9mIHByb2Nlc3M8XCJ1XCImJnByb2Nlc3MuZW52LklTX1ZJVEVTVD09PVwidHJ1ZVwifWZ1bmN0aW9uIElyKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3c8XCJ1XCImJighIXdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eXx8ISF3aW5kb3cuVGVsZWdyYW18fCEhd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5UHJvdG8pfWZ1bmN0aW9uIFNyKCl7dHJ5e3JldHVybiB3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3B9Y2F0Y2h7cmV0dXJuITF9fWZ1bmN0aW9uIE9yKHQsZT0hMSl7Y29uc3Qgbj1CdWZmZXIuZnJvbSh0KS50b1N0cmluZyhcImJhc2U2NFwiKTtyZXR1cm4gZT9uLnJlcGxhY2UoL1s9XS9nLFwiXCIpOm59ZnVuY3Rpb24gY24odCl7cmV0dXJuIEJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGYtOFwiKX1mdW5jdGlvbiBDaSh0KXtyZXR1cm4gbmV3IFByb21pc2UoZT0+c2V0VGltZW91dChlLHQpKX1jbGFzcyBqaXtjb25zdHJ1Y3Rvcih7bGltaXQ6ZX0pe2xyKHRoaXMsXCJsaW1pdFwiKSxscih0aGlzLFwic2V0XCIpLHRoaXMubGltaXQ9ZSx0aGlzLnNldD1uZXcgU2V0fWFkZChlKXtpZighdGhpcy5zZXQuaGFzKGUpKXtpZih0aGlzLnNldC5zaXplPj10aGlzLmxpbWl0KXtjb25zdCBuPXRoaXMuc2V0LnZhbHVlcygpLm5leHQoKS52YWx1ZTtuJiZ0aGlzLnNldC5kZWxldGUobil9dGhpcy5zZXQuYWRkKGUpfX1oYXMoZSl7cmV0dXJuIHRoaXMuc2V0LmhhcyhlKX19Y29uc3QgT2U9QmlnSW50KDIqKjMyLTEpLE5yPUJpZ0ludCgzMik7ZnVuY3Rpb24gVXIodCxlPSExKXtyZXR1cm4gZT97aDpOdW1iZXIodCZPZSksbDpOdW1iZXIodD4+TnImT2UpfTp7aDpOdW1iZXIodD4+TnImT2UpfDAsbDpOdW1iZXIodCZPZSl8MH19ZnVuY3Rpb24gX3IodCxlPSExKXtjb25zdCBuPXQubGVuZ3RoO2xldCByPW5ldyBVaW50MzJBcnJheShuKSxvPW5ldyBVaW50MzJBcnJheShuKTtmb3IobGV0IHM9MDtzPG47cysrKXtjb25zdHtoOmksbDpjfT1Vcih0W3NdLGUpO1tyW3NdLG9bc11dPVtpLGNdfXJldHVybltyLG9dfWNvbnN0IFJyPSh0LGUsbik9PnQ+Pj5uLCRyPSh0LGUsbik9PnQ8PDMyLW58ZT4+Pm4sU3Q9KHQsZSxuKT0+dD4+Pm58ZTw8MzItbixPdD0odCxlLG4pPT50PDwzMi1ufGU+Pj5uLGRlPSh0LGUsbik9PnQ8PDY0LW58ZT4+Pm4tMzIsaGU9KHQsZSxuKT0+dD4+Pm4tMzJ8ZTw8NjQtbixMaT0odCxlKT0+ZSxraT0odCxlKT0+dCxQaT0odCxlLG4pPT50PDxufGU+Pj4zMi1uLEhpPSh0LGUsbik9PmU8PG58dD4+PjMyLW4sRGk9KHQsZSxuKT0+ZTw8bi0zMnx0Pj4+NjQtbixWaT0odCxlLG4pPT50PDxuLTMyfGU+Pj42NC1uO2Z1bmN0aW9uIGR0KHQsZSxuLHIpe2NvbnN0IG89KGU+Pj4wKSsocj4+PjApO3JldHVybntoOnQrbisoby8yKiozMnwwKXwwLGw6b3wwfX1jb25zdCBmbj0odCxlLG4pPT4odD4+PjApKyhlPj4+MCkrKG4+Pj4wKSxhbj0odCxlLG4scik9PmUrbityKyh0LzIqKjMyfDApfDAsTWk9KHQsZSxuLHIpPT4odD4+PjApKyhlPj4+MCkrKG4+Pj4wKSsocj4+PjApLEtpPSh0LGUsbixyLG8pPT5lK24rcitvKyh0LzIqKjMyfDApfDAscWk9KHQsZSxuLHIsbyk9Pih0Pj4+MCkrKGU+Pj4wKSsobj4+PjApKyhyPj4+MCkrKG8+Pj4wKSxGaT0odCxlLG4scixvLHMpPT5lK24rcitvK3MrKHQvMioqMzJ8MCl8MCxYdD10eXBlb2YgZ2xvYmFsVGhpcz09XCJvYmplY3RcIiYmXCJjcnlwdG9cImluIGdsb2JhbFRoaXM/Z2xvYmFsVGhpcy5jcnlwdG86dm9pZCAwO2Z1bmN0aW9uIE5lKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiBtdCh0KXtpZighTnVtYmVyLmlzU2FmZUludGVnZXIodCl8fHQ8MCl0aHJvdyBuZXcgRXJyb3IoXCJwb3NpdGl2ZSBpbnRlZ2VyIGV4cGVjdGVkLCBnb3QgXCIrdCl9ZnVuY3Rpb24gaHQodCwuLi5lKXtpZighTmUodCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKTtpZihlLmxlbmd0aD4wJiYhZS5pbmNsdWRlcyh0Lmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggXCIrZStcIiwgZ290IGxlbmd0aD1cIit0Lmxlbmd0aCl9ZnVuY3Rpb24gVWUodCl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cInx8dHlwZW9mIHQuY3JlYXRlIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBzaG91bGQgYmUgd3JhcHBlZCBieSB1dGlscy5jcmVhdGVIYXNoZXJcIik7bXQodC5vdXRwdXRMZW4pLG10KHQuYmxvY2tMZW4pfWZ1bmN0aW9uIE50KHQsZT0hMCl7aWYodC5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWRcIik7aWYoZSYmdC5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXCIpfWZ1bmN0aW9uIHVuKHQsZSl7aHQodCk7Y29uc3Qgbj1lLm91dHB1dExlbjtpZih0Lmxlbmd0aDxuKXRocm93IG5ldyBFcnJvcihcImRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0IFwiK24pfWZ1bmN0aW9uIHBlKHQpe3JldHVybiBuZXcgVWludDMyQXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LE1hdGguZmxvb3IodC5ieXRlTGVuZ3RoLzQpKX1mdW5jdGlvbiBsdCguLi50KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmZpbGwoMCl9ZnVuY3Rpb24gbG4odCl7cmV0dXJuIG5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX1mdW5jdGlvbiBidCh0LGUpe3JldHVybiB0PDwzMi1lfHQ+Pj5lfWNvbnN0IFRyPW5ldyBVaW50OEFycmF5KG5ldyBVaW50MzJBcnJheShbMjg3NDU0MDIwXSkuYnVmZmVyKVswXT09PTY4O2Z1bmN0aW9uIENyKHQpe3JldHVybiB0PDwyNCY0Mjc4MTkwMDgwfHQ8PDgmMTY3MTE2ODB8dD4+PjgmNjUyODB8dD4+PjI0JjI1NX1jb25zdCB3dD1Ucj90PT50OnQ9PkNyKHQpO2Z1bmN0aW9uIFppKHQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09Q3IodFtlXSk7cmV0dXJuIHR9Y29uc3QgVXQ9VHI/dD0+dDpaaSxqcj10eXBlb2YgVWludDhBcnJheS5mcm9tKFtdKS50b0hleD09XCJmdW5jdGlvblwiJiZ0eXBlb2YgVWludDhBcnJheS5mcm9tSGV4PT1cImZ1bmN0aW9uXCIsR2k9QXJyYXkuZnJvbSh7bGVuZ3RoOjI1Nn0sKHQsZSk9PmUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKTtmdW5jdGlvbiBKdCh0KXtpZihodCh0KSxqcilyZXR1cm4gdC50b0hleCgpO2xldCBlPVwiXCI7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZSs9R2lbdFtuXV07cmV0dXJuIGV9Y29uc3QgdnQ9e18wOjQ4LF85OjU3LEE6NjUsRjo3MCxhOjk3LGY6MTAyfTtmdW5jdGlvbiBMcih0KXtpZih0Pj12dC5fMCYmdDw9dnQuXzkpcmV0dXJuIHQtdnQuXzA7aWYodD49dnQuQSYmdDw9dnQuRilyZXR1cm4gdC0odnQuQS0xMCk7aWYodD49dnQuYSYmdDw9dnQuZilyZXR1cm4gdC0odnQuYS0xMCl9ZnVuY3Rpb24gX2UodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtpZihqcilyZXR1cm4gVWludDhBcnJheS5mcm9tSGV4KHQpO2NvbnN0IGU9dC5sZW5ndGgsbj1lLzI7aWYoZSUyKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCB1bnBhZGRlZCBoZXggb2YgbGVuZ3RoIFwiK2UpO2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobik7Zm9yKGxldCBvPTAscz0wO288bjtvKysscys9Mil7Y29uc3QgaT1Mcih0LmNoYXJDb2RlQXQocykpLGM9THIodC5jaGFyQ29kZUF0KHMrMSkpO2lmKGk9PT12b2lkIDB8fGM9PT12b2lkIDApe2NvbnN0IGY9dFtzXSt0W3MrMV07dGhyb3cgbmV3IEVycm9yKCdoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3Qgbm9uLWhleCBjaGFyYWN0ZXIgXCInK2YrJ1wiIGF0IGluZGV4ICcrcyl9cltvXT1pKjE2K2N9cmV0dXJuIHJ9ZnVuY3Rpb24ga3IodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwic3RyaW5nIGV4cGVjdGVkXCIpO3JldHVybiBuZXcgVWludDhBcnJheShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCkpfWZ1bmN0aW9uIHB0KHQpe3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcIiYmKHQ9a3IodCkpLGh0KHQpLHR9ZnVuY3Rpb24gX3QoLi4udCl7bGV0IGU9MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdO2h0KG8pLGUrPW8ubGVuZ3RofWNvbnN0IG49bmV3IFVpbnQ4QXJyYXkoZSk7Zm9yKGxldCByPTAsbz0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBzPXRbcl07bi5zZXQocyxvKSxvKz1zLmxlbmd0aH1yZXR1cm4gbn1jbGFzcyBSZXt9ZnVuY3Rpb24gZ2UodCl7Y29uc3QgZT1yPT50KCkudXBkYXRlKHB0KHIpKS5kaWdlc3QoKSxuPXQoKTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPSgpPT50KCksZX1mdW5jdGlvbiB6aSh0KXtjb25zdCBlPShyLG8pPT50KG8pLnVwZGF0ZShwdChyKSkuZGlnZXN0KCksbj10KHt9KTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPXI9PnQociksZX1mdW5jdGlvbiBNdCh0PTMyKXtpZihYdCYmdHlwZW9mIFh0LmdldFJhbmRvbVZhbHVlcz09XCJmdW5jdGlvblwiKXJldHVybiBYdC5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkodCkpO2lmKFh0JiZ0eXBlb2YgWHQucmFuZG9tQnl0ZXM9PVwiZnVuY3Rpb25cIilyZXR1cm4gVWludDhBcnJheS5mcm9tKFh0LnJhbmRvbUJ5dGVzKHQpKTt0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG11c3QgYmUgZGVmaW5lZFwiKX1jb25zdCBZaT1CaWdJbnQoMCksYmU9QmlnSW50KDEpLFdpPUJpZ0ludCgyKSxYaT1CaWdJbnQoNyksSmk9QmlnSW50KDI1NiksUWk9QmlnSW50KDExMyksUHI9W10sSHI9W10sRHI9W107Zm9yKGxldCB0PTAsZT1iZSxuPTEscj0wO3Q8MjQ7dCsrKXtbbixyXT1bciwoMipuKzMqciklNV0sUHIucHVzaCgyKig1KnIrbikpLEhyLnB1c2goKHQrMSkqKHQrMikvMiU2NCk7bGV0IG89WWk7Zm9yKGxldCBzPTA7czw3O3MrKyllPShlPDxiZV4oZT4+WGkpKlFpKSVKaSxlJldpJiYob149YmU8PChiZTw8QmlnSW50KHMpKS1iZSk7RHIucHVzaChvKX1jb25zdCBWcj1fcihEciwhMCksdGM9VnJbMF0sZWM9VnJbMV0sTXI9KHQsZSxuKT0+bj4zMj9EaSh0LGUsbik6UGkodCxlLG4pLEtyPSh0LGUsbik9Pm4+MzI/VmkodCxlLG4pOkhpKHQsZSxuKTtmdW5jdGlvbiBuYyh0LGU9MjQpe2NvbnN0IG49bmV3IFVpbnQzMkFycmF5KDEwKTtmb3IobGV0IHI9MjQtZTtyPDI0O3IrKyl7Zm9yKGxldCBpPTA7aTwxMDtpKyspbltpXT10W2ldXnRbaSsxMF1edFtpKzIwXV50W2krMzBdXnRbaSs0MF07Zm9yKGxldCBpPTA7aTwxMDtpKz0yKXtjb25zdCBjPShpKzgpJTEwLGY9KGkrMiklMTAsdT1uW2ZdLGE9bltmKzFdLGw9TXIodSxhLDEpXm5bY10sZD1Lcih1LGEsMSlebltjKzFdO2ZvcihsZXQgaD0wO2g8NTA7aCs9MTApdFtpK2hdXj1sLHRbaStoKzFdXj1kfWxldCBvPXRbMl0scz10WzNdO2ZvcihsZXQgaT0wO2k8MjQ7aSsrKXtjb25zdCBjPUhyW2ldLGY9TXIobyxzLGMpLHU9S3IobyxzLGMpLGE9UHJbaV07bz10W2FdLHM9dFthKzFdLHRbYV09Zix0W2ErMV09dX1mb3IobGV0IGk9MDtpPDUwO2krPTEwKXtmb3IobGV0IGM9MDtjPDEwO2MrKyluW2NdPXRbaStjXTtmb3IobGV0IGM9MDtjPDEwO2MrKyl0W2krY11ePX5uWyhjKzIpJTEwXSZuWyhjKzQpJTEwXX10WzBdXj10Y1tyXSx0WzFdXj1lY1tyXX1sdChuKX1jbGFzcyBKbiBleHRlbmRzIFJle2NvbnN0cnVjdG9yKGUsbixyLG89ITEscz0yNCl7aWYoc3VwZXIoKSx0aGlzLnBvcz0wLHRoaXMucG9zT3V0PTAsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmVuYWJsZVhPRj0hMSx0aGlzLmJsb2NrTGVuPWUsdGhpcy5zdWZmaXg9bix0aGlzLm91dHB1dExlbj1yLHRoaXMuZW5hYmxlWE9GPW8sdGhpcy5yb3VuZHM9cyxtdChyKSwhKDA8ZSYmZTwyMDApKXRocm93IG5ldyBFcnJvcihcIm9ubHkga2VjY2FrLWYxNjAwIGZ1bmN0aW9uIGlzIHN1cHBvcnRlZFwiKTt0aGlzLnN0YXRlPW5ldyBVaW50OEFycmF5KDIwMCksdGhpcy5zdGF0ZTMyPXBlKHRoaXMuc3RhdGUpfWNsb25lKCl7cmV0dXJuIHRoaXMuX2Nsb25lSW50bygpfWtlY2Nhaygpe1V0KHRoaXMuc3RhdGUzMiksbmModGhpcy5zdGF0ZTMyLHRoaXMucm91bmRzKSxVdCh0aGlzLnN0YXRlMzIpLHRoaXMucG9zT3V0PTAsdGhpcy5wb3M9MH11cGRhdGUoZSl7TnQodGhpcyksZT1wdChlKSxodChlKTtjb25zdHtibG9ja0xlbjpuLHN0YXRlOnJ9PXRoaXMsbz1lLmxlbmd0aDtmb3IobGV0IHM9MDtzPG87KXtjb25zdCBpPU1hdGgubWluKG4tdGhpcy5wb3Msby1zKTtmb3IobGV0IGM9MDtjPGk7YysrKXJbdGhpcy5wb3MrK11ePWVbcysrXTt0aGlzLnBvcz09PW4mJnRoaXMua2VjY2FrKCl9cmV0dXJuIHRoaXN9ZmluaXNoKCl7aWYodGhpcy5maW5pc2hlZClyZXR1cm47dGhpcy5maW5pc2hlZD0hMDtjb25zdHtzdGF0ZTplLHN1ZmZpeDpuLHBvczpyLGJsb2NrTGVuOm99PXRoaXM7ZVtyXV49biwobiYxMjgpIT09MCYmcj09PW8tMSYmdGhpcy5rZWNjYWsoKSxlW28tMV1ePTEyOCx0aGlzLmtlY2NhaygpfXdyaXRlSW50byhlKXtOdCh0aGlzLCExKSxodChlKSx0aGlzLmZpbmlzaCgpO2NvbnN0IG49dGhpcy5zdGF0ZSx7YmxvY2tMZW46cn09dGhpcztmb3IobGV0IG89MCxzPWUubGVuZ3RoO288czspe3RoaXMucG9zT3V0Pj1yJiZ0aGlzLmtlY2NhaygpO2NvbnN0IGk9TWF0aC5taW4oci10aGlzLnBvc091dCxzLW8pO2Uuc2V0KG4uc3ViYXJyYXkodGhpcy5wb3NPdXQsdGhpcy5wb3NPdXQraSksbyksdGhpcy5wb3NPdXQrPWksbys9aX1yZXR1cm4gZX14b2ZJbnRvKGUpe2lmKCF0aGlzLmVuYWJsZVhPRil0aHJvdyBuZXcgRXJyb3IoXCJYT0YgaXMgbm90IHBvc3NpYmxlIGZvciB0aGlzIGluc3RhbmNlXCIpO3JldHVybiB0aGlzLndyaXRlSW50byhlKX14b2YoZSl7cmV0dXJuIG10KGUpLHRoaXMueG9mSW50byhuZXcgVWludDhBcnJheShlKSl9ZGlnZXN0SW50byhlKXtpZih1bihlLHRoaXMpLHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiZGlnZXN0KCkgd2FzIGFscmVhZHkgY2FsbGVkXCIpO3JldHVybiB0aGlzLndyaXRlSW50byhlKSx0aGlzLmRlc3Ryb3koKSxlfWRpZ2VzdCgpe3JldHVybiB0aGlzLmRpZ2VzdEludG8obmV3IFVpbnQ4QXJyYXkodGhpcy5vdXRwdXRMZW4pKX1kZXN0cm95KCl7dGhpcy5kZXN0cm95ZWQ9ITAsbHQodGhpcy5zdGF0ZSl9X2Nsb25lSW50byhlKXtjb25zdHtibG9ja0xlbjpuLHN1ZmZpeDpyLG91dHB1dExlbjpvLHJvdW5kczpzLGVuYWJsZVhPRjppfT10aGlzO3JldHVybiBlfHwoZT1uZXcgSm4obixyLG8saSxzKSksZS5zdGF0ZTMyLnNldCh0aGlzLnN0YXRlMzIpLGUucG9zPXRoaXMucG9zLGUucG9zT3V0PXRoaXMucG9zT3V0LGUuZmluaXNoZWQ9dGhpcy5maW5pc2hlZCxlLnJvdW5kcz1zLGUuc3VmZml4PXIsZS5vdXRwdXRMZW49byxlLmVuYWJsZVhPRj1pLGUuZGVzdHJveWVkPXRoaXMuZGVzdHJveWVkLGV9fWNvbnN0IHJjPSh0LGUsbik9PmdlKCgpPT5uZXcgSm4oZSx0LG4pKSxvYz1yYygxLDEzNiwyNTYvOCk7ZnVuY3Rpb24gc2ModCxlLG4scil7aWYodHlwZW9mIHQuc2V0QmlnVWludDY0PT1cImZ1bmN0aW9uXCIpcmV0dXJuIHQuc2V0QmlnVWludDY0KGUsbixyKTtjb25zdCBvPUJpZ0ludCgzMikscz1CaWdJbnQoNDI5NDk2NzI5NSksaT1OdW1iZXIobj4+byZzKSxjPU51bWJlcihuJnMpLGY9cj80OjAsdT1yPzA6NDt0LnNldFVpbnQzMihlK2YsaSxyKSx0LnNldFVpbnQzMihlK3UsYyxyKX1mdW5jdGlvbiBpYyh0LGUsbil7cmV0dXJuIHQmZV5+dCZufWZ1bmN0aW9uIGNjKHQsZSxuKXtyZXR1cm4gdCZlXnQmbl5lJm59Y2xhc3MgcXIgZXh0ZW5kcyBSZXtjb25zdHJ1Y3RvcihlLG4scixvKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5sZW5ndGg9MCx0aGlzLnBvcz0wLHRoaXMuZGVzdHJveWVkPSExLHRoaXMuYmxvY2tMZW49ZSx0aGlzLm91dHB1dExlbj1uLHRoaXMucGFkT2Zmc2V0PXIsdGhpcy5pc0xFPW8sdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoZSksdGhpcy52aWV3PWxuKHRoaXMuYnVmZmVyKX11cGRhdGUoZSl7TnQodGhpcyksZT1wdChlKSxodChlKTtjb25zdHt2aWV3Om4sYnVmZmVyOnIsYmxvY2tMZW46b309dGhpcyxzPWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8czspe2NvbnN0IGM9TWF0aC5taW4oby10aGlzLnBvcyxzLWkpO2lmKGM9PT1vKXtjb25zdCBmPWxuKGUpO2Zvcig7bzw9cy1pO2krPW8pdGhpcy5wcm9jZXNzKGYsaSk7Y29udGludWV9ci5zZXQoZS5zdWJhcnJheShpLGkrYyksdGhpcy5wb3MpLHRoaXMucG9zKz1jLGkrPWMsdGhpcy5wb3M9PT1vJiYodGhpcy5wcm9jZXNzKG4sMCksdGhpcy5wb3M9MCl9cmV0dXJuIHRoaXMubGVuZ3RoKz1lLmxlbmd0aCx0aGlzLnJvdW5kQ2xlYW4oKSx0aGlzfWRpZ2VzdEludG8oZSl7TnQodGhpcyksdW4oZSx0aGlzKSx0aGlzLmZpbmlzaGVkPSEwO2NvbnN0e2J1ZmZlcjpuLHZpZXc6cixibG9ja0xlbjpvLGlzTEU6c309dGhpcztsZXR7cG9zOml9PXRoaXM7bltpKytdPTEyOCxsdCh0aGlzLmJ1ZmZlci5zdWJhcnJheShpKSksdGhpcy5wYWRPZmZzZXQ+by1pJiYodGhpcy5wcm9jZXNzKHIsMCksaT0wKTtmb3IobGV0IGw9aTtsPG87bCsrKW5bbF09MDtzYyhyLG8tOCxCaWdJbnQodGhpcy5sZW5ndGgqOCkscyksdGhpcy5wcm9jZXNzKHIsMCk7Y29uc3QgYz1sbihlKSxmPXRoaXMub3V0cHV0TGVuO2lmKGYlNCl0aHJvdyBuZXcgRXJyb3IoXCJfc2hhMjogb3V0cHV0TGVuIHNob3VsZCBiZSBhbGlnbmVkIHRvIDMyYml0XCIpO2NvbnN0IHU9Zi80LGE9dGhpcy5nZXQoKTtpZih1PmEubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIl9zaGEyOiBvdXRwdXRMZW4gYmlnZ2VyIHRoYW4gc3RhdGVcIik7Zm9yKGxldCBsPTA7bDx1O2wrKyljLnNldFVpbnQzMig0KmwsYVtsXSxzKX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9X2Nsb25lSW50byhlKXtlfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3RvciksZS5zZXQoLi4udGhpcy5nZXQoKSk7Y29uc3R7YmxvY2tMZW46bixidWZmZXI6cixsZW5ndGg6byxmaW5pc2hlZDpzLGRlc3Ryb3llZDppLHBvczpjfT10aGlzO3JldHVybiBlLmRlc3Ryb3llZD1pLGUuZmluaXNoZWQ9cyxlLmxlbmd0aD1vLGUucG9zPWMsbyVuJiZlLmJ1ZmZlci5zZXQociksZX1jbG9uZSgpe3JldHVybiB0aGlzLl9jbG9uZUludG8oKX19Y29uc3QgUnQ9VWludDMyQXJyYXkuZnJvbShbMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdKSxYPVVpbnQzMkFycmF5LmZyb20oWzM0MTgwNzAzNjUsMzIzODM3MTAzMiwxNjU0MjcwMjUwLDkxNDE1MDY2MywyNDM4NTI5MzcwLDgxMjcwMjk5OSwzNTU0NjIzNjAsNDE0NDkxMjY5NywxNzMxNDA1NDE1LDQyOTA3NzU4NTcsMjM5NDE4MDIzMSwxNzUwNjAzMDI1LDM2NzUwMDg1MjUsMTY5NDA3NjgzOSwxMjAzMDYyODEzLDMyMDQwNzU0MjhdKSxKPVVpbnQzMkFycmF5LmZyb20oWzE3NzkwMzM3MDMsNDA4OTIzNTcyMCwzMTQ0MTM0Mjc3LDIyMjc4NzM1OTUsMTAxMzkwNDI0Miw0MjcxMTc1NzIzLDI3NzM0ODA3NjIsMTU5NTc1MDEyOSwxMzU5ODkzMTE5LDI5MTc1NjUxMzcsMjYwMDgyMjkyNCw3MjU1MTExOTksNTI4NzM0NjM1LDQyMTUzODk1NDcsMTU0MTQ1OTIyNSwzMjcwMzMyMDldKSxmYz1VaW50MzJBcnJheS5mcm9tKFsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdKSwkdD1uZXcgVWludDMyQXJyYXkoNjQpO2NsYXNzIGFjIGV4dGVuZHMgcXJ7Y29uc3RydWN0b3IoZT0zMil7c3VwZXIoNjQsZSw4LCExKSx0aGlzLkE9UnRbMF18MCx0aGlzLkI9UnRbMV18MCx0aGlzLkM9UnRbMl18MCx0aGlzLkQ9UnRbM118MCx0aGlzLkU9UnRbNF18MCx0aGlzLkY9UnRbNV18MCx0aGlzLkc9UnRbNl18MCx0aGlzLkg9UnRbN118MH1nZXQoKXtjb25zdHtBOmUsQjpuLEM6cixEOm8sRTpzLEY6aSxHOmMsSDpmfT10aGlzO3JldHVybltlLG4scixvLHMsaSxjLGZdfXNldChlLG4scixvLHMsaSxjLGYpe3RoaXMuQT1lfDAsdGhpcy5CPW58MCx0aGlzLkM9cnwwLHRoaXMuRD1vfDAsdGhpcy5FPXN8MCx0aGlzLkY9aXwwLHRoaXMuRz1jfDAsdGhpcy5IPWZ8MH1wcm9jZXNzKGUsbil7Zm9yKGxldCBsPTA7bDwxNjtsKyssbis9NCkkdFtsXT1lLmdldFVpbnQzMihuLCExKTtmb3IobGV0IGw9MTY7bDw2NDtsKyspe2NvbnN0IGQ9JHRbbC0xNV0saD0kdFtsLTJdLHk9YnQoZCw3KV5idChkLDE4KV5kPj4+MyxtPWJ0KGgsMTcpXmJ0KGgsMTkpXmg+Pj4xMDskdFtsXT1tKyR0W2wtN10reSskdFtsLTE2XXwwfWxldHtBOnIsQjpvLEM6cyxEOmksRTpjLEY6ZixHOnUsSDphfT10aGlzO2ZvcihsZXQgbD0wO2w8NjQ7bCsrKXtjb25zdCBkPWJ0KGMsNileYnQoYywxMSleYnQoYywyNSksaD1hK2QraWMoYyxmLHUpK2ZjW2xdKyR0W2xdfDAsbT0oYnQociwyKV5idChyLDEzKV5idChyLDIyKSkrY2MocixvLHMpfDA7YT11LHU9ZixmPWMsYz1pK2h8MCxpPXMscz1vLG89cixyPWgrbXwwfXI9cit0aGlzLkF8MCxvPW8rdGhpcy5CfDAscz1zK3RoaXMuQ3wwLGk9aSt0aGlzLkR8MCxjPWMrdGhpcy5FfDAsZj1mK3RoaXMuRnwwLHU9dSt0aGlzLkd8MCxhPWErdGhpcy5IfDAsdGhpcy5zZXQocixvLHMsaSxjLGYsdSxhKX1yb3VuZENsZWFuKCl7bHQoJHQpfWRlc3Ryb3koKXt0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDApLGx0KHRoaXMuYnVmZmVyKX19Y29uc3QgRnI9X3IoW1wiMHg0MjhhMmY5OGQ3MjhhZTIyXCIsXCIweDcxMzc0NDkxMjNlZjY1Y2RcIixcIjB4YjVjMGZiY2ZlYzRkM2IyZlwiLFwiMHhlOWI1ZGJhNTgxODlkYmJjXCIsXCIweDM5NTZjMjViZjM0OGI1MzhcIixcIjB4NTlmMTExZjFiNjA1ZDAxOVwiLFwiMHg5MjNmODJhNGFmMTk0ZjliXCIsXCIweGFiMWM1ZWQ1ZGE2ZDgxMThcIixcIjB4ZDgwN2FhOThhMzAzMDI0MlwiLFwiMHgxMjgzNWIwMTQ1NzA2ZmJlXCIsXCIweDI0MzE4NWJlNGVlNGIyOGNcIixcIjB4NTUwYzdkYzNkNWZmYjRlMlwiLFwiMHg3MmJlNWQ3NGYyN2I4OTZmXCIsXCIweDgwZGViMWZlM2IxNjk2YjFcIixcIjB4OWJkYzA2YTcyNWM3MTIzNVwiLFwiMHhjMTliZjE3NGNmNjkyNjk0XCIsXCIweGU0OWI2OWMxOWVmMTRhZDJcIixcIjB4ZWZiZTQ3ODYzODRmMjVlM1wiLFwiMHgwZmMxOWRjNjhiOGNkNWI1XCIsXCIweDI0MGNhMWNjNzdhYzljNjVcIixcIjB4MmRlOTJjNmY1OTJiMDI3NVwiLFwiMHg0YTc0ODRhYTZlYTZlNDgzXCIsXCIweDVjYjBhOWRjYmQ0MWZiZDRcIixcIjB4NzZmOTg4ZGE4MzExNTNiNVwiLFwiMHg5ODNlNTE1MmVlNjZkZmFiXCIsXCIweGE4MzFjNjZkMmRiNDMyMTBcIixcIjB4YjAwMzI3Yzg5OGZiMjEzZlwiLFwiMHhiZjU5N2ZjN2JlZWYwZWU0XCIsXCIweGM2ZTAwYmYzM2RhODhmYzJcIixcIjB4ZDVhNzkxNDc5MzBhYTcyNVwiLFwiMHgwNmNhNjM1MWUwMDM4MjZmXCIsXCIweDE0MjkyOTY3MGEwZTZlNzBcIixcIjB4MjdiNzBhODU0NmQyMmZmY1wiLFwiMHgyZTFiMjEzODVjMjZjOTI2XCIsXCIweDRkMmM2ZGZjNWFjNDJhZWRcIixcIjB4NTMzODBkMTM5ZDk1YjNkZlwiLFwiMHg2NTBhNzM1NDhiYWY2M2RlXCIsXCIweDc2NmEwYWJiM2M3N2IyYThcIixcIjB4ODFjMmM5MmU0N2VkYWVlNlwiLFwiMHg5MjcyMmM4NTE0ODIzNTNiXCIsXCIweGEyYmZlOGExNGNmMTAzNjRcIixcIjB4YTgxYTY2NGJiYzQyMzAwMVwiLFwiMHhjMjRiOGI3MGQwZjg5NzkxXCIsXCIweGM3NmM1MWEzMDY1NGJlMzBcIixcIjB4ZDE5MmU4MTlkNmVmNTIxOFwiLFwiMHhkNjk5MDYyNDU1NjVhOTEwXCIsXCIweGY0MGUzNTg1NTc3MTIwMmFcIixcIjB4MTA2YWEwNzAzMmJiZDFiOFwiLFwiMHgxOWE0YzExNmI4ZDJkMGM4XCIsXCIweDFlMzc2YzA4NTE0MWFiNTNcIixcIjB4Mjc0ODc3NGNkZjhlZWI5OVwiLFwiMHgzNGIwYmNiNWUxOWI0OGE4XCIsXCIweDM5MWMwY2IzYzVjOTVhNjNcIixcIjB4NGVkOGFhNGFlMzQxOGFjYlwiLFwiMHg1YjljY2E0Zjc3NjNlMzczXCIsXCIweDY4MmU2ZmYzZDZiMmI4YTNcIixcIjB4NzQ4ZjgyZWU1ZGVmYjJmY1wiLFwiMHg3OGE1NjM2ZjQzMTcyZjYwXCIsXCIweDg0Yzg3ODE0YTFmMGFiNzJcIixcIjB4OGNjNzAyMDgxYTY0MzllY1wiLFwiMHg5MGJlZmZmYTIzNjMxZTI4XCIsXCIweGE0NTA2Y2ViZGU4MmJkZTlcIixcIjB4YmVmOWEzZjdiMmM2NzkxNVwiLFwiMHhjNjcxNzhmMmUzNzI1MzJiXCIsXCIweGNhMjczZWNlZWEyNjYxOWNcIixcIjB4ZDE4NmI4YzcyMWMwYzIwN1wiLFwiMHhlYWRhN2RkNmNkZTBlYjFlXCIsXCIweGY1N2Q0ZjdmZWU2ZWQxNzhcIixcIjB4MDZmMDY3YWE3MjE3NmZiYVwiLFwiMHgwYTYzN2RjNWEyYzg5OGE2XCIsXCIweDExM2Y5ODA0YmVmOTBkYWVcIixcIjB4MWI3MTBiMzUxMzFjNDcxYlwiLFwiMHgyOGRiNzdmNTIzMDQ3ZDg0XCIsXCIweDMyY2FhYjdiNDBjNzI0OTNcIixcIjB4M2M5ZWJlMGExNWM5YmViY1wiLFwiMHg0MzFkNjdjNDljMTAwZDRjXCIsXCIweDRjYzVkNGJlY2IzZTQyYjZcIixcIjB4NTk3ZjI5OWNmYzY1N2UyYVwiLFwiMHg1ZmNiNmZhYjNhZDZmYWVjXCIsXCIweDZjNDQxOThjNGE0NzU4MTdcIl0ubWFwKHQ9PkJpZ0ludCh0KSkpLHVjPUZyWzBdLGxjPUZyWzFdLFR0PW5ldyBVaW50MzJBcnJheSg4MCksQ3Q9bmV3IFVpbnQzMkFycmF5KDgwKTtjbGFzcyBkbiBleHRlbmRzIHFye2NvbnN0cnVjdG9yKGU9NjQpe3N1cGVyKDEyOCxlLDE2LCExKSx0aGlzLkFoPUpbMF18MCx0aGlzLkFsPUpbMV18MCx0aGlzLkJoPUpbMl18MCx0aGlzLkJsPUpbM118MCx0aGlzLkNoPUpbNF18MCx0aGlzLkNsPUpbNV18MCx0aGlzLkRoPUpbNl18MCx0aGlzLkRsPUpbN118MCx0aGlzLkVoPUpbOF18MCx0aGlzLkVsPUpbOV18MCx0aGlzLkZoPUpbMTBdfDAsdGhpcy5GbD1KWzExXXwwLHRoaXMuR2g9SlsxMl18MCx0aGlzLkdsPUpbMTNdfDAsdGhpcy5IaD1KWzE0XXwwLHRoaXMuSGw9SlsxNV18MH1nZXQoKXtjb25zdHtBaDplLEFsOm4sQmg6cixCbDpvLENoOnMsQ2w6aSxEaDpjLERsOmYsRWg6dSxFbDphLEZoOmwsRmw6ZCxHaDpoLEdsOnksSGg6bSxIbDp2fT10aGlzO3JldHVybltlLG4scixvLHMsaSxjLGYsdSxhLGwsZCxoLHksbSx2XX1zZXQoZSxuLHIsbyxzLGksYyxmLHUsYSxsLGQsaCx5LG0sdil7dGhpcy5BaD1lfDAsdGhpcy5BbD1ufDAsdGhpcy5CaD1yfDAsdGhpcy5CbD1vfDAsdGhpcy5DaD1zfDAsdGhpcy5DbD1pfDAsdGhpcy5EaD1jfDAsdGhpcy5EbD1mfDAsdGhpcy5FaD11fDAsdGhpcy5FbD1hfDAsdGhpcy5GaD1sfDAsdGhpcy5GbD1kfDAsdGhpcy5HaD1ofDAsdGhpcy5HbD15fDAsdGhpcy5IaD1tfDAsdGhpcy5IbD12fDB9cHJvY2VzcyhlLG4pe2ZvcihsZXQgUj0wO1I8MTY7UisrLG4rPTQpVHRbUl09ZS5nZXRVaW50MzIobiksQ3RbUl09ZS5nZXRVaW50MzIobis9NCk7Zm9yKGxldCBSPTE2O1I8ODA7UisrKXtjb25zdCBaPVR0W1ItMTVdfDAsSD1DdFtSLTE1XXwwLGo9U3QoWixILDEpXlN0KFosSCw4KV5ScihaLEgsNyksTD1PdChaLEgsMSleT3QoWixILDgpXiRyKFosSCw3KSxrPVR0W1ItMl18MCxPPUN0W1ItMl18MCxUPVN0KGssTywxOSleZGUoayxPLDYxKV5ScihrLE8sNiksQz1PdChrLE8sMTkpXmhlKGssTyw2MSleJHIoayxPLDYpLF89TWkoTCxDLEN0W1ItN10sQ3RbUi0xNl0pLHA9S2koXyxqLFQsVHRbUi03XSxUdFtSLTE2XSk7VHRbUl09cHwwLEN0W1JdPV98MH1sZXR7QWg6cixBbDpvLEJoOnMsQmw6aSxDaDpjLENsOmYsRGg6dSxEbDphLEVoOmwsRWw6ZCxGaDpoLEZsOnksR2g6bSxHbDp2LEhoOlUsSGw6Rn09dGhpcztmb3IobGV0IFI9MDtSPDgwO1IrKyl7Y29uc3QgWj1TdChsLGQsMTQpXlN0KGwsZCwxOCleZGUobCxkLDQxKSxIPU90KGwsZCwxNCleT3QobCxkLDE4KV5oZShsLGQsNDEpLGo9bCZoXn5sJm0sTD1kJnlefmQmdixrPXFpKEYsSCxMLGxjW1JdLEN0W1JdKSxPPUZpKGssVSxaLGosdWNbUl0sVHRbUl0pLFQ9a3wwLEM9U3QocixvLDI4KV5kZShyLG8sMzQpXmRlKHIsbywzOSksXz1PdChyLG8sMjgpXmhlKHIsbywzNCleaGUocixvLDM5KSxwPXImc15yJmNecyZjLGI9byZpXm8mZl5pJmY7VT1tfDAsRj12fDAsbT1ofDAsdj15fDAsaD1sfDAseT1kfDAse2g6bCxsOmR9PWR0KHV8MCxhfDAsT3wwLFR8MCksdT1jfDAsYT1mfDAsYz1zfDAsZj1pfDAscz1yfDAsaT1vfDA7Y29uc3QgZz1mbihULF8sYik7cj1hbihnLE8sQyxwKSxvPWd8MH0oe2g6cixsOm99PWR0KHRoaXMuQWh8MCx0aGlzLkFsfDAscnwwLG98MCkpLHtoOnMsbDppfT1kdCh0aGlzLkJofDAsdGhpcy5CbHwwLHN8MCxpfDApLHtoOmMsbDpmfT1kdCh0aGlzLkNofDAsdGhpcy5DbHwwLGN8MCxmfDApLHtoOnUsbDphfT1kdCh0aGlzLkRofDAsdGhpcy5EbHwwLHV8MCxhfDApLHtoOmwsbDpkfT1kdCh0aGlzLkVofDAsdGhpcy5FbHwwLGx8MCxkfDApLHtoLGw6eX09ZHQodGhpcy5GaHwwLHRoaXMuRmx8MCxofDAseXwwKSx7aDptLGw6dn09ZHQodGhpcy5HaHwwLHRoaXMuR2x8MCxtfDAsdnwwKSx7aDpVLGw6Rn09ZHQodGhpcy5IaHwwLHRoaXMuSGx8MCxVfDAsRnwwKSx0aGlzLnNldChyLG8scyxpLGMsZix1LGEsbCxkLGgseSxtLHYsVSxGKX1yb3VuZENsZWFuKCl7bHQoVHQsQ3QpfWRlc3Ryb3koKXtsdCh0aGlzLmJ1ZmZlciksdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCl9fWNsYXNzIGRjIGV4dGVuZHMgZG57Y29uc3RydWN0b3IoKXtzdXBlcig0OCksdGhpcy5BaD1YWzBdfDAsdGhpcy5BbD1YWzFdfDAsdGhpcy5CaD1YWzJdfDAsdGhpcy5CbD1YWzNdfDAsdGhpcy5DaD1YWzRdfDAsdGhpcy5DbD1YWzVdfDAsdGhpcy5EaD1YWzZdfDAsdGhpcy5EbD1YWzddfDAsdGhpcy5FaD1YWzhdfDAsdGhpcy5FbD1YWzldfDAsdGhpcy5GaD1YWzEwXXwwLHRoaXMuRmw9WFsxMV18MCx0aGlzLkdoPVhbMTJdfDAsdGhpcy5HbD1YWzEzXXwwLHRoaXMuSGg9WFsxNF18MCx0aGlzLkhsPVhbMTVdfDB9fWNvbnN0IFE9VWludDMyQXJyYXkuZnJvbShbNTczNjQ1MjA0LDQyMzA3Mzk3NTYsMjY3MzE3MjM4NywzMzYwNDQ5NzMwLDU5Njg4MzU2MywxODY3NzU1ODU3LDI1MjAyODI5MDUsMTQ5NzQyNjYyMSwyNTE5MjE5OTM4LDI4Mjc5NDM5MDcsMzE5MzgzOTE0MSwxNDAxMzA1NDkwLDcyMTUyNTI0NCw3NDY5NjEwNjYsMjQ2ODg1ODUyLDIxNzcxODI4ODJdKTtjbGFzcyBoYyBleHRlbmRzIGRue2NvbnN0cnVjdG9yKCl7c3VwZXIoMzIpLHRoaXMuQWg9UVswXXwwLHRoaXMuQWw9UVsxXXwwLHRoaXMuQmg9UVsyXXwwLHRoaXMuQmw9UVszXXwwLHRoaXMuQ2g9UVs0XXwwLHRoaXMuQ2w9UVs1XXwwLHRoaXMuRGg9UVs2XXwwLHRoaXMuRGw9UVs3XXwwLHRoaXMuRWg9UVs4XXwwLHRoaXMuRWw9UVs5XXwwLHRoaXMuRmg9UVsxMF18MCx0aGlzLkZsPVFbMTFdfDAsdGhpcy5HaD1RWzEyXXwwLHRoaXMuR2w9UVsxM118MCx0aGlzLkhoPVFbMTRdfDAsdGhpcy5IbD1RWzE1XXwwfX1jb25zdCAkZT1nZSgoKT0+bmV3IGFjKSxwYz1nZSgoKT0+bmV3IGRuKSxnYz1nZSgoKT0+bmV3IGRjKSxiYz1nZSgoKT0+bmV3IGhjKSx5Yz1VaW50OEFycmF5LmZyb20oWzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTQsMTAsNCw4LDksMTUsMTMsNiwxLDEyLDAsMiwxMSw3LDUsMywxMSw4LDEyLDAsNSwyLDE1LDEzLDEwLDE0LDMsNiw3LDEsOSw0LDcsOSwzLDEsMTMsMTIsMTEsMTQsMiw2LDUsMTAsNCwwLDE1LDgsOSwwLDUsNywyLDQsMTAsMTUsMTQsMSwxMSwxMiw2LDgsMywxMywyLDEyLDYsMTAsMCwxMSw4LDMsNCwxMyw3LDUsMTUsMTQsMSw5LDEyLDUsMSwxNSwxNCwxMyw0LDEwLDAsNyw2LDMsOSwyLDgsMTEsMTMsMTEsNywxNCwxMiwxLDMsOSw1LDAsMTUsNCw4LDYsMiwxMCw2LDE1LDE0LDksMTEsMywwLDgsMTIsMiwxMyw3LDEsNCwxMCw1LDEwLDIsOCw0LDcsNiwxLDUsMTUsMTEsOSwxNCwzLDEyLDEzLDAsMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNCwxMCw0LDgsOSwxNSwxMyw2LDEsMTIsMCwyLDExLDcsNSwzLDExLDgsMTIsMCw1LDIsMTUsMTMsMTAsMTQsMyw2LDcsMSw5LDQsNyw5LDMsMSwxMywxMiwxMSwxNCwyLDYsNSwxMCw0LDAsMTUsOCw5LDAsNSw3LDIsNCwxMCwxNSwxNCwxLDExLDEyLDYsOCwzLDEzLDIsMTIsNiwxMCwwLDExLDgsMyw0LDEzLDcsNSwxNSwxNCwxLDldKSx6PVVpbnQzMkFycmF5LmZyb20oWzQwODkyMzU3MjAsMTc3OTAzMzcwMywyMjI3ODczNTk1LDMxNDQxMzQyNzcsNDI3MTE3NTcyMywxMDEzOTA0MjQyLDE1OTU3NTAxMjksMjc3MzQ4MDc2MiwyOTE3NTY1MTM3LDEzNTk4OTMxMTksNzI1NTExMTk5LDI2MDA4MjI5MjQsNDIxNTM4OTU0Nyw1Mjg3MzQ2MzUsMzI3MDMzMjA5LDE1NDE0NTkyMjVdKSxTPW5ldyBVaW50MzJBcnJheSgzMik7ZnVuY3Rpb24ganQodCxlLG4scixvLHMpe2NvbnN0IGk9b1tzXSxjPW9bcysxXTtsZXQgZj1TWzIqdF0sdT1TWzIqdCsxXSxhPVNbMiplXSxsPVNbMiplKzFdLGQ9U1syKm5dLGg9U1syKm4rMV0seT1TWzIqcl0sbT1TWzIqcisxXSx2PWZuKGYsYSxpKTt1PWFuKHYsdSxsLGMpLGY9dnwwLHtEaDptLERsOnl9PXtEaDptXnUsRGw6eV5mfSx7RGg6bSxEbDp5fT17RGg6TGkobSx5KSxEbDpraShtKX0se2gsbDpkfT1kdChoLGQsbSx5KSx7Qmg6bCxCbDphfT17Qmg6bF5oLEJsOmFeZH0se0JoOmwsQmw6YX09e0JoOlN0KGwsYSwyNCksQmw6T3QobCxhLDI0KX0sU1syKnRdPWYsU1syKnQrMV09dSxTWzIqZV09YSxTWzIqZSsxXT1sLFNbMipuXT1kLFNbMipuKzFdPWgsU1syKnJdPXksU1syKnIrMV09bX1mdW5jdGlvbiBMdCh0LGUsbixyLG8scyl7Y29uc3QgaT1vW3NdLGM9b1tzKzFdO2xldCBmPVNbMip0XSx1PVNbMip0KzFdLGE9U1syKmVdLGw9U1syKmUrMV0sZD1TWzIqbl0saD1TWzIqbisxXSx5PVNbMipyXSxtPVNbMipyKzFdLHY9Zm4oZixhLGkpO3U9YW4odix1LGwsYyksZj12fDAse0RoOm0sRGw6eX09e0RoOm1edSxEbDp5XmZ9LHtEaDptLERsOnl9PXtEaDpTdChtLHksMTYpLERsOk90KG0seSwxNil9LHtoLGw6ZH09ZHQoaCxkLG0seSkse0JoOmwsQmw6YX09e0JoOmxeaCxCbDphXmR9LHtCaDpsLEJsOmF9PXtCaDpkZShsLGEsNjMpLEJsOmhlKGwsYSw2Myl9LFNbMip0XT1mLFNbMip0KzFdPXUsU1syKmVdPWEsU1syKmUrMV09bCxTWzIqbl09ZCxTWzIqbisxXT1oLFNbMipyXT15LFNbMipyKzFdPW19ZnVuY3Rpb24gbWModCxlPXt9LG4scixvKXtpZihtdChuKSx0PDB8fHQ+bil0aHJvdyBuZXcgRXJyb3IoXCJvdXRwdXRMZW4gYmlnZ2VyIHRoYW4ga2V5TGVuXCIpO2NvbnN0e2tleTpzLHNhbHQ6aSxwZXJzb25hbGl6YXRpb246Y309ZTtpZihzIT09dm9pZCAwJiYocy5sZW5ndGg8MXx8cy5sZW5ndGg+bikpdGhyb3cgbmV3IEVycm9yKFwia2V5IGxlbmd0aCBtdXN0IGJlIHVuZGVmaW5lZCBvciAxLi5cIituKTtpZihpIT09dm9pZCAwJiZpLmxlbmd0aCE9PXIpdGhyb3cgbmV3IEVycm9yKFwic2FsdCBtdXN0IGJlIHVuZGVmaW5lZCBvciBcIityKTtpZihjIT09dm9pZCAwJiZjLmxlbmd0aCE9PW8pdGhyb3cgbmV3IEVycm9yKFwicGVyc29uYWxpemF0aW9uIG11c3QgYmUgdW5kZWZpbmVkIG9yIFwiK28pfWNsYXNzIHdjIGV4dGVuZHMgUmV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5sZW5ndGg9MCx0aGlzLnBvcz0wLG10KGUpLG10KG4pLHRoaXMuYmxvY2tMZW49ZSx0aGlzLm91dHB1dExlbj1uLHRoaXMuYnVmZmVyPW5ldyBVaW50OEFycmF5KGUpLHRoaXMuYnVmZmVyMzI9cGUodGhpcy5idWZmZXIpfXVwZGF0ZShlKXtOdCh0aGlzKSxlPXB0KGUpLGh0KGUpO2NvbnN0e2Jsb2NrTGVuOm4sYnVmZmVyOnIsYnVmZmVyMzI6b309dGhpcyxzPWUubGVuZ3RoLGk9ZS5ieXRlT2Zmc2V0LGM9ZS5idWZmZXI7Zm9yKGxldCBmPTA7ZjxzOyl7dGhpcy5wb3M9PT1uJiYoVXQobyksdGhpcy5jb21wcmVzcyhvLDAsITEpLFV0KG8pLHRoaXMucG9zPTApO2NvbnN0IHU9TWF0aC5taW4obi10aGlzLnBvcyxzLWYpLGE9aStmO2lmKHU9PT1uJiYhKGElNCkmJmYrdTxzKXtjb25zdCBsPW5ldyBVaW50MzJBcnJheShjLGEsTWF0aC5mbG9vcigocy1mKS80KSk7VXQobCk7Zm9yKGxldCBkPTA7ZituPHM7ZCs9by5sZW5ndGgsZis9bil0aGlzLmxlbmd0aCs9bix0aGlzLmNvbXByZXNzKGwsZCwhMSk7VXQobCk7Y29udGludWV9ci5zZXQoZS5zdWJhcnJheShmLGYrdSksdGhpcy5wb3MpLHRoaXMucG9zKz11LHRoaXMubGVuZ3RoKz11LGYrPXV9cmV0dXJuIHRoaXN9ZGlnZXN0SW50byhlKXtOdCh0aGlzKSx1bihlLHRoaXMpO2NvbnN0e3BvczpuLGJ1ZmZlcjMyOnJ9PXRoaXM7dGhpcy5maW5pc2hlZD0hMCxsdCh0aGlzLmJ1ZmZlci5zdWJhcnJheShuKSksVXQociksdGhpcy5jb21wcmVzcyhyLDAsITApLFV0KHIpO2NvbnN0IG89cGUoZSk7dGhpcy5nZXQoKS5mb3JFYWNoKChzLGkpPT5vW2ldPXd0KHMpKX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9X2Nsb25lSW50byhlKXtjb25zdHtidWZmZXI6bixsZW5ndGg6cixmaW5pc2hlZDpvLGRlc3Ryb3llZDpzLG91dHB1dExlbjppLHBvczpjfT10aGlzO3JldHVybiBlfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih7ZGtMZW46aX0pKSxlLnNldCguLi50aGlzLmdldCgpKSxlLmJ1ZmZlci5zZXQobiksZS5kZXN0cm95ZWQ9cyxlLmZpbmlzaGVkPW8sZS5sZW5ndGg9cixlLnBvcz1jLGUub3V0cHV0TGVuPWksZX1jbG9uZSgpe3JldHVybiB0aGlzLl9jbG9uZUludG8oKX19Y2xhc3MgdmMgZXh0ZW5kcyB3Y3tjb25zdHJ1Y3RvcihlPXt9KXtjb25zdCBuPWUuZGtMZW49PT12b2lkIDA/NjQ6ZS5ka0xlbjtzdXBlcigxMjgsbiksdGhpcy52MGw9elswXXwwLHRoaXMudjBoPXpbMV18MCx0aGlzLnYxbD16WzJdfDAsdGhpcy52MWg9elszXXwwLHRoaXMudjJsPXpbNF18MCx0aGlzLnYyaD16WzVdfDAsdGhpcy52M2w9els2XXwwLHRoaXMudjNoPXpbN118MCx0aGlzLnY0bD16WzhdfDAsdGhpcy52NGg9els5XXwwLHRoaXMudjVsPXpbMTBdfDAsdGhpcy52NWg9elsxMV18MCx0aGlzLnY2bD16WzEyXXwwLHRoaXMudjZoPXpbMTNdfDAsdGhpcy52N2w9elsxNF18MCx0aGlzLnY3aD16WzE1XXwwLG1jKG4sZSw2NCwxNiwxNik7bGV0e2tleTpyLHBlcnNvbmFsaXphdGlvbjpvLHNhbHQ6c309ZSxpPTA7aWYociE9PXZvaWQgMCYmKHI9cHQociksaT1yLmxlbmd0aCksdGhpcy52MGxePXRoaXMub3V0cHV0TGVufGk8PDh8NjU1MzZ8MTw8MjQscyE9PXZvaWQgMCl7cz1wdChzKTtjb25zdCBjPXBlKHMpO3RoaXMudjRsXj13dChjWzBdKSx0aGlzLnY0aF49d3QoY1sxXSksdGhpcy52NWxePXd0KGNbMl0pLHRoaXMudjVoXj13dChjWzNdKX1pZihvIT09dm9pZCAwKXtvPXB0KG8pO2NvbnN0IGM9cGUobyk7dGhpcy52NmxePXd0KGNbMF0pLHRoaXMudjZoXj13dChjWzFdKSx0aGlzLnY3bF49d3QoY1syXSksdGhpcy52N2hePXd0KGNbM10pfWlmKHIhPT12b2lkIDApe2NvbnN0IGM9bmV3IFVpbnQ4QXJyYXkodGhpcy5ibG9ja0xlbik7Yy5zZXQociksdGhpcy51cGRhdGUoYyl9fWdldCgpe2xldHt2MGw6ZSx2MGg6bix2MWw6cix2MWg6byx2Mmw6cyx2Mmg6aSx2M2w6Yyx2M2g6Zix2NGw6dSx2NGg6YSx2NWw6bCx2NWg6ZCx2Nmw6aCx2Nmg6eSx2N2w6bSx2N2g6dn09dGhpcztyZXR1cm5bZSxuLHIsbyxzLGksYyxmLHUsYSxsLGQsaCx5LG0sdl19c2V0KGUsbixyLG8scyxpLGMsZix1LGEsbCxkLGgseSxtLHYpe3RoaXMudjBsPWV8MCx0aGlzLnYwaD1ufDAsdGhpcy52MWw9cnwwLHRoaXMudjFoPW98MCx0aGlzLnYybD1zfDAsdGhpcy52Mmg9aXwwLHRoaXMudjNsPWN8MCx0aGlzLnYzaD1mfDAsdGhpcy52NGw9dXwwLHRoaXMudjRoPWF8MCx0aGlzLnY1bD1sfDAsdGhpcy52NWg9ZHwwLHRoaXMudjZsPWh8MCx0aGlzLnY2aD15fDAsdGhpcy52N2w9bXwwLHRoaXMudjdoPXZ8MH1jb21wcmVzcyhlLG4scil7dGhpcy5nZXQoKS5mb3JFYWNoKChmLHUpPT5TW3VdPWYpLFMuc2V0KHosMTYpO2xldHtoOm8sbDpzfT1VcihCaWdJbnQodGhpcy5sZW5ndGgpKTtTWzI0XT16WzhdXnMsU1syNV09els5XV5vLHImJihTWzI4XT1+U1syOF0sU1syOV09flNbMjldKTtsZXQgaT0wO2NvbnN0IGM9eWM7Zm9yKGxldCBmPTA7ZjwxMjtmKyspanQoMCw0LDgsMTIsZSxuKzIqY1tpKytdKSxMdCgwLDQsOCwxMixlLG4rMipjW2krK10pLGp0KDEsNSw5LDEzLGUsbisyKmNbaSsrXSksTHQoMSw1LDksMTMsZSxuKzIqY1tpKytdKSxqdCgyLDYsMTAsMTQsZSxuKzIqY1tpKytdKSxMdCgyLDYsMTAsMTQsZSxuKzIqY1tpKytdKSxqdCgzLDcsMTEsMTUsZSxuKzIqY1tpKytdKSxMdCgzLDcsMTEsMTUsZSxuKzIqY1tpKytdKSxqdCgwLDUsMTAsMTUsZSxuKzIqY1tpKytdKSxMdCgwLDUsMTAsMTUsZSxuKzIqY1tpKytdKSxqdCgxLDYsMTEsMTIsZSxuKzIqY1tpKytdKSxMdCgxLDYsMTEsMTIsZSxuKzIqY1tpKytdKSxqdCgyLDcsOCwxMyxlLG4rMipjW2krK10pLEx0KDIsNyw4LDEzLGUsbisyKmNbaSsrXSksanQoMyw0LDksMTQsZSxuKzIqY1tpKytdKSxMdCgzLDQsOSwxNCxlLG4rMipjW2krK10pO3RoaXMudjBsXj1TWzBdXlNbMTZdLHRoaXMudjBoXj1TWzFdXlNbMTddLHRoaXMudjFsXj1TWzJdXlNbMThdLHRoaXMudjFoXj1TWzNdXlNbMTldLHRoaXMudjJsXj1TWzRdXlNbMjBdLHRoaXMudjJoXj1TWzVdXlNbMjFdLHRoaXMudjNsXj1TWzZdXlNbMjJdLHRoaXMudjNoXj1TWzddXlNbMjNdLHRoaXMudjRsXj1TWzhdXlNbMjRdLHRoaXMudjRoXj1TWzldXlNbMjVdLHRoaXMudjVsXj1TWzEwXV5TWzI2XSx0aGlzLnY1aF49U1sxMV1eU1syN10sdGhpcy52NmxePVNbMTJdXlNbMjhdLHRoaXMudjZoXj1TWzEzXV5TWzI5XSx0aGlzLnY3bF49U1sxNF1eU1szMF0sdGhpcy52N2hePVNbMTVdXlNbMzFdLGx0KFMpfWRlc3Ryb3koKXt0aGlzLmRlc3Ryb3llZD0hMCxsdCh0aGlzLmJ1ZmZlcjMyKSx0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKX19Y29uc3QgeGM9emkodD0+bmV3IHZjKHQpKSxFYz1cImh0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxXCI7ZnVuY3Rpb24gaG4odCl7Y29uc3QgZT1gXHUwMDE5RXRoZXJldW0gU2lnbmVkIE1lc3NhZ2U6XG4ke3QubGVuZ3RofWAsbj1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoZSt0KTtyZXR1cm5cIjB4XCIrQnVmZmVyLmZyb20ob2MobikpLnRvU3RyaW5nKFwiaGV4XCIpfWFzeW5jIGZ1bmN0aW9uIFpyKHQsZSxuLHIsbyxzKXtzd2l0Y2gobi50KXtjYXNlXCJlaXAxOTFcIjpyZXR1cm4gYXdhaXQgR3IodCxlLG4ucyk7Y2FzZVwiZWlwMTI3MVwiOnJldHVybiBhd2FpdCB6cih0LGUsbi5zLHIsbyxzKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdmVyaWZ5U2lnbmF0dXJlIGZhaWxlZDogQXR0ZW1wdGVkIHRvIHZlcmlmeSBDYWNhb1NpZ25hdHVyZSB3aXRoIHVua25vd24gdHlwZTogJHtuLnR9YCl9fWFzeW5jIGZ1bmN0aW9uIEdyKHQsZSxuKXtyZXR1cm4oYXdhaXQgVnMoe2hhc2g6aG4oZSksc2lnbmF0dXJlOm59KSkudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX1hc3luYyBmdW5jdGlvbiB6cih0LGUsbixyLG8scyl7Y29uc3QgaT1KZShyKTtpZighaS5uYW1lc3BhY2V8fCFpLnJlZmVyZW5jZSl0aHJvdyBuZXcgRXJyb3IoYGlzVmFsaWRFaXAxMjcxU2lnbmF0dXJlIGZhaWxlZDogY2hhaW5JZCBtdXN0IGJlIGluIENBSVAtMiBmb3JtYXQsIHJlY2VpdmVkOiAke3J9YCk7dHJ5e2NvbnN0IGM9XCIweDE2MjZiYTdlXCIsZj1cIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDBcIix1PW4uc3Vic3RyaW5nKDIpLGE9KHUubGVuZ3RoLzIpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2NCxcIjBcIiksbD0oZS5zdGFydHNXaXRoKFwiMHhcIik/ZTpobihlKSkuc3Vic3RyaW5nKDIpLGQ9YytsK2YrYSt1LGg9YXdhaXQgZmV0Y2goYCR7c3x8RWN9Lz9jaGFpbklkPSR7cn0mcHJvamVjdElkPSR7b31gLHtoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxtZXRob2Q6XCJQT1NUXCIsYm9keTpKU09OLnN0cmluZ2lmeSh7aWQ6QmMoKSxqc29ucnBjOlwiMi4wXCIsbWV0aG9kOlwiZXRoX2NhbGxcIixwYXJhbXM6W3t0bzp0LGRhdGE6ZH0sXCJsYXRlc3RcIl19KX0pLHtyZXN1bHQ6eX09YXdhaXQgaC5qc29uKCk7cmV0dXJuIHk/eS5zbGljZSgwLGMubGVuZ3RoKS50b0xvd2VyQ2FzZSgpPT09Yy50b0xvd2VyQ2FzZSgpOiExfWNhdGNoKGMpe3JldHVybiBjb25zb2xlLmVycm9yKFwiaXNWYWxpZEVpcDEyNzFTaWduYXR1cmU6IFwiLGMpLCExfX1mdW5jdGlvbiBCYygpe3JldHVybiBEYXRlLm5vdygpK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxZTMpfWZ1bmN0aW9uIEFjKHQpe2NvbnN0IGU9YXRvYih0KSxuPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyluW2ldPWUuY2hhckNvZGVBdChpKTtjb25zdCByPW5bMF07aWYocj09PTApdGhyb3cgbmV3IEVycm9yKFwiTm8gc2lnbmF0dXJlcyBmb3VuZFwiKTtjb25zdCBvPTErcio2NDtpZihuLmxlbmd0aDxvKXRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIGRhdGEgdG9vIHNob3J0IGZvciBjbGFpbWVkIHNpZ25hdHVyZSBjb3VudFwiKTtpZihuLmxlbmd0aDwxMDApdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNhY3Rpb24gdG9vIHNob3J0XCIpO2NvbnN0IHM9QnVmZmVyLmZyb20odCxcImJhc2U2NFwiKS5zbGljZSgxLDY1KTtyZXR1cm4gdWUuZW5jb2RlKHMpfWZ1bmN0aW9uIEljKHQpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20odCxcImJhc2U2NFwiKSksbj1BcnJheS5mcm9tKFwiVHJhbnNhY3Rpb25EYXRhOjpcIikubWFwKHM9PnMuY2hhckNvZGVBdCgwKSkscj1uZXcgVWludDhBcnJheShuLmxlbmd0aCtlLmxlbmd0aCk7ci5zZXQobiksci5zZXQoZSxuLmxlbmd0aCk7Y29uc3Qgbz14YyhyLHtka0xlbjozMn0pO3JldHVybiB1ZS5lbmNvZGUobyl9ZnVuY3Rpb24gU2ModCl7Y29uc3QgZT1uZXcgVWludDhBcnJheSgkZShZcih0KSkpO3JldHVybiB1ZS5lbmNvZGUoZSl9ZnVuY3Rpb24gWXIodCl7aWYodCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodCk7aWYodHlwZW9mIHQ9PVwib2JqZWN0XCImJnQhPW51bGwmJnQuZGF0YSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoT2JqZWN0LnZhbHVlcyh0LmRhdGEpKTtpZih0eXBlb2YgdD09XCJvYmplY3RcIiYmdClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoT2JqZWN0LnZhbHVlcyh0KSk7dGhyb3cgbmV3IEVycm9yKFwiZ2V0TmVhclVpbnQ4QXJyYXlGcm9tQnl0ZXM6IFVuZXhwZWN0ZWQgcmVzdWx0IHR5cGUgZnJvbSBieXRlcyBhcnJheVwiKX1mdW5jdGlvbiBPYyh0KXtjb25zdCBlPUJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIiksbj1NcyhlKS50eG47aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzaWduZWQgdHJhbnNhY3Rpb246IG1pc3NpbmcgJ3R4bicgZmllbGRcIik7Y29uc3Qgcj1LcyhuKSxvPUJ1ZmZlci5mcm9tKFwiVFhcIikscz1CdWZmZXIuY29uY2F0KFtvLEJ1ZmZlci5mcm9tKHIpXSksaT1iYyhzKTtyZXR1cm4gcXMuZW5jb2RlKGkpLnJlcGxhY2UoLz0rJC8sXCJcIil9ZnVuY3Rpb24gcG4odCl7Y29uc3QgZT1bXTtsZXQgbj1CaWdJbnQodCk7Zm9yKDtuPj1CaWdJbnQoMTI4KTspZS5wdXNoKE51bWJlcihuJkJpZ0ludCgxMjcpfEJpZ0ludCgxMjgpKSksbj4+PUJpZ0ludCg3KTtyZXR1cm4gZS5wdXNoKE51bWJlcihuKSksQnVmZmVyLmZyb20oZSl9ZnVuY3Rpb24gTmModCl7Y29uc3QgZT1CdWZmZXIuZnJvbSh0LnNpZ25lZC5ib2R5Qnl0ZXMsXCJiYXNlNjRcIiksbj1CdWZmZXIuZnJvbSh0LnNpZ25lZC5hdXRoSW5mb0J5dGVzLFwiYmFzZTY0XCIpLHI9QnVmZmVyLmZyb20odC5zaWduYXR1cmUuc2lnbmF0dXJlLFwiYmFzZTY0XCIpLG89W107by5wdXNoKEJ1ZmZlci5mcm9tKFsxMF0pKSxvLnB1c2gocG4oZS5sZW5ndGgpKSxvLnB1c2goZSksby5wdXNoKEJ1ZmZlci5mcm9tKFsxOF0pKSxvLnB1c2gocG4obi5sZW5ndGgpKSxvLnB1c2gobiksby5wdXNoKEJ1ZmZlci5mcm9tKFsyNl0pKSxvLnB1c2gocG4oci5sZW5ndGgpKSxvLnB1c2gocik7Y29uc3Qgcz1CdWZmZXIuY29uY2F0KG8pLGk9JGUocyk7cmV0dXJuIEJ1ZmZlci5mcm9tKGkpLnRvU3RyaW5nKFwiaGV4XCIpLnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24gVWModCl7dmFyIGUsbjtjb25zdCByPVtdO3RyeXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIilyZXR1cm4gci5wdXNoKHQpLHI7aWYodHlwZW9mIHQhPVwib2JqZWN0XCIpcmV0dXJuIHI7dCE9bnVsbCYmdC5pZCYmci5wdXNoKHQuaWQpO2NvbnN0IG89KG49KGU9dD8uY2FwYWJpbGl0aWVzKT09bnVsbD92b2lkIDA6ZS5jYWlwMzQ1KT09bnVsbD92b2lkIDA6bi50cmFuc2FjdGlvbkhhc2hlcztvJiZyLnB1c2goLi4ubyl9Y2F0Y2gobyl7Y29uc29sZS53YXJuKFwiZ2V0V2FsbGV0U2VuZENhbGxzSGFzaGVzIGZhaWxlZDogXCIsbyl9cmV0dXJuIHJ9dmFyIF9jPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxSYz1PYmplY3QuZGVmaW5lUHJvcGVydGllcywkYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxXcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFRjPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksQ2M9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxYcj0odCxlLG4pPT5lIGluIHQ/X2ModCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSk6dFtlXT1uLGduPSh0LGUpPT57Zm9yKHZhciBuIGluIGV8fChlPXt9KSlUYy5jYWxsKGUsbikmJlhyKHQsbixlW25dKTtpZihXcilmb3IodmFyIG4gb2YgV3IoZSkpQ2MuY2FsbChlLG4pJiZYcih0LG4sZVtuXSk7cmV0dXJuIHR9LEpyPSh0LGUpPT5SYyh0LCRjKGUpKTtjb25zdCBqYz1cImRpZDpwa2g6XCIsVGU9dD0+dD8uc3BsaXQoXCI6XCIpLFFyPXQ9Pntjb25zdCBlPXQmJlRlKHQpO2lmKGUpcmV0dXJuIHQuaW5jbHVkZXMoamMpP2VbM106ZVsxXX0sdG89dD0+e2NvbnN0IGU9dCYmVGUodCk7aWYoZSlyZXR1cm4gZVsyXStcIjpcIitlWzNdfSxibj10PT57Y29uc3QgZT10JiZUZSh0KTtpZihlKXJldHVybiBlLnBvcCgpfTthc3luYyBmdW5jdGlvbiBMYyh0KXtjb25zdHtjYWNhbzplLHByb2plY3RJZDpufT10LHtzOnIscDpvfT1lLHM9ZW8obyxvLmlzcyksaT1ibihvLmlzcyk7cmV0dXJuIGF3YWl0IFpyKGkscyxyLHRvKG8uaXNzKSxuKX1jb25zdCBlbz0odCxlKT0+e2NvbnN0IG49YCR7dC5kb21haW59IHdhbnRzIHlvdSB0byBzaWduIGluIHdpdGggeW91ciBFdGhlcmV1bSBhY2NvdW50OmAscj1ibihlKTtpZighdC5hdWQmJiF0LnVyaSl0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgYGF1ZGAgb3IgYHVyaWAgaXMgcmVxdWlyZWQgdG8gY29uc3RydWN0IHRoZSBtZXNzYWdlXCIpO2xldCBvPXQuc3RhdGVtZW50fHx2b2lkIDA7Y29uc3Qgcz1gVVJJOiAke3QuYXVkfHx0LnVyaX1gLGk9YFZlcnNpb246ICR7dC52ZXJzaW9ufWAsYz1gQ2hhaW4gSUQ6ICR7UXIoZSl9YCxmPWBOb25jZTogJHt0Lm5vbmNlfWAsdT1gSXNzdWVkIEF0OiAke3QuaWF0fWAsYT10LmV4cD9gRXhwaXJhdGlvbiBUaW1lOiAke3QuZXhwfWA6dm9pZCAwLGw9dC5uYmY/YE5vdCBCZWZvcmU6ICR7dC5uYmZ9YDp2b2lkIDAsZD10LnJlcXVlc3RJZD9gUmVxdWVzdCBJRDogJHt0LnJlcXVlc3RJZH1gOnZvaWQgMCxoPXQucmVzb3VyY2VzP2BSZXNvdXJjZXM6JHt0LnJlc291cmNlcy5tYXAobT0+YFxuLSAke219YCkuam9pbihcIlwiKX1gOnZvaWQgMCx5PWplKHQucmVzb3VyY2VzKTtpZih5KXtjb25zdCBtPWt0KHkpO289d24obyxtKX1yZXR1cm5bbixyLFwiXCIsbyxcIlwiLHMsaSxjLGYsdSxhLGwsZCxoXS5maWx0ZXIobT0+bSE9bnVsbCkuam9pbihgXG5gKX07ZnVuY3Rpb24ga2ModCxlLG4pe3JldHVybiBuLmluY2x1ZGVzKFwiZGlkOnBraDpcIil8fChuPWBkaWQ6cGtoOiR7bn1gKSx7aDp7dDpcImNhaXAxMjJcIn0scDp7aXNzOm4sZG9tYWluOnQuZG9tYWluLGF1ZDp0LmF1ZCx2ZXJzaW9uOnQudmVyc2lvbixub25jZTp0Lm5vbmNlLGlhdDp0LmlhdCxzdGF0ZW1lbnQ6dC5zdGF0ZW1lbnQscmVxdWVzdElkOnQucmVxdWVzdElkLHJlc291cmNlczp0LnJlc291cmNlcyxuYmY6dC5uYmYsZXhwOnQuZXhwfSxzOmV9fWZ1bmN0aW9uIFBjKHQpe3ZhciBlO2NvbnN0e2F1dGhQYXlsb2FkOm4sY2hhaW5zOnIsbWV0aG9kczpvfT10LHM9bi5zdGF0ZW1lbnR8fFwiXCI7aWYoIShyIT1udWxsJiZyLmxlbmd0aCkpcmV0dXJuIG47Y29uc3QgaT1uLmNoYWlucyxjPXNuKGkscik7aWYoIShjIT1udWxsJiZjLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VwcG9ydGVkIGNoYWluc1wiKTtjb25zdCBmPW5vKG4ucmVzb3VyY2VzKTtpZighZilyZXR1cm4gbjt5dChmKTtjb25zdCB1PXJvKGYsXCJlaXAxNTVcIik7bGV0IGE9bj8ucmVzb3VyY2VzfHxbXTtpZih1IT1udWxsJiZ1Lmxlbmd0aCl7Y29uc3QgbD1vbyh1KSxkPXNuKGwsbyk7aWYoIShkIT1udWxsJiZkLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKGBTdXBwb3J0ZWQgbWV0aG9kcyBkb24ndCBzYXRpc2Z5IHRoZSByZXF1ZXN0ZWQ6ICR7SlNPTi5zdHJpbmdpZnkobCl9LCBzdXBwb3J0ZWQ6ICR7SlNPTi5zdHJpbmdpZnkobyl9YCk7Y29uc3QgaD15bihcInJlcXVlc3RcIixkLHtjaGFpbnM6Y30pLHk9Zm8oZixcImVpcDE1NVwiLGgpO2E9KChlPW4/LnJlc291cmNlcyk9PW51bGw/dm9pZCAwOmUuc2xpY2UoMCwtMSkpfHxbXSxhLnB1c2goQ2UoeSkpfXJldHVybiBKcihnbih7fSxuKSx7c3RhdGVtZW50OnVvKHMsamUoYSkpLGNoYWluczpjLHJlc291cmNlczpuIT1udWxsJiZuLnJlc291cmNlc3x8YS5sZW5ndGg+MD9hOnZvaWQgMH0pfWZ1bmN0aW9uIG5vKHQpe2NvbnN0IGU9amUodCk7aWYoZSYmbW4oZSkpcmV0dXJuIGt0KGUpfWZ1bmN0aW9uIEhjKHQsZSl7dmFyIG47cmV0dXJuKG49dD8uYXR0KT09bnVsbD92b2lkIDA6bi5oYXNPd25Qcm9wZXJ0eShlKX1mdW5jdGlvbiBybyh0LGUpe3ZhciBuLHI7cmV0dXJuKG49dD8uYXR0KSE9bnVsbCYmbltlXT9PYmplY3Qua2V5cygocj10Py5hdHQpPT1udWxsP3ZvaWQgMDpyW2VdKTpbXX1mdW5jdGlvbiBEYyh0KXtyZXR1cm4gdD8ubWFwKGU9Pk9iamVjdC5rZXlzKGUpKXx8W119ZnVuY3Rpb24gb28odCl7cmV0dXJuIHQ/Lm1hcChlPT57dmFyIG47cmV0dXJuKG49ZS5zcGxpdChcIi9cIikpPT1udWxsP3ZvaWQgMDpuWzFdfSl8fFtdfWZ1bmN0aW9uIHNvKHQpe3JldHVybiBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeSh0KSkudG9TdHJpbmcoXCJiYXNlNjRcIil9ZnVuY3Rpb24gaW8odCl7cmV0dXJuIEpTT04ucGFyc2UoQnVmZmVyLmZyb20odCxcImJhc2U2NFwiKS50b1N0cmluZyhcInV0Zi04XCIpKX1mdW5jdGlvbiB5dCh0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJObyByZWNhcCBwcm92aWRlZCwgdmFsdWUgaXMgdW5kZWZpbmVkXCIpO2lmKCF0LmF0dCl0aHJvdyBuZXcgRXJyb3IoXCJObyBgYXR0YCBwcm9wZXJ0eSBmb3VuZFwiKTtjb25zdCBlPU9iamVjdC5rZXlzKHQuYXR0KTtpZighKGUhPW51bGwmJmUubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJObyByZXNvdXJjZXMgZm91bmQgaW4gYGF0dGAgcHJvcGVydHlcIik7ZS5mb3JFYWNoKG49Pntjb25zdCByPXQuYXR0W25dO2lmKEFycmF5LmlzQXJyYXkocikpdGhyb3cgbmV3IEVycm9yKGBSZXNvdXJjZSBtdXN0IGJlIGFuIG9iamVjdDogJHtufWApO2lmKHR5cGVvZiByIT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihgUmVzb3VyY2UgbXVzdCBiZSBhbiBvYmplY3Q6ICR7bn1gKTtpZighT2JqZWN0LmtleXMocikubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgUmVzb3VyY2Ugb2JqZWN0IGlzIGVtcHR5OiAke259YCk7T2JqZWN0LmtleXMocikuZm9yRWFjaChvPT57Y29uc3Qgcz1yW29dO2lmKCFBcnJheS5pc0FycmF5KHMpKXRocm93IG5ldyBFcnJvcihgQWJpbGl0eSBsaW1pdHMgJHtvfSBtdXN0IGJlIGFuIGFycmF5IG9mIG9iamVjdHMsIGZvdW5kOiAke3N9YCk7aWYoIXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgVmFsdWUgb2YgJHtvfSBpcyBlbXB0eSBhcnJheSwgbXVzdCBiZSBhbiBhcnJheSB3aXRoIG9iamVjdHNgKTtzLmZvckVhY2goaT0+e2lmKHR5cGVvZiBpIT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihgQWJpbGl0eSBsaW1pdHMgKCR7b30pIG11c3QgYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZm91bmQ6ICR7aX1gKX0pfSl9KX1mdW5jdGlvbiBjbyh0LGUsbixyPXt9KXtyZXR1cm4gbj8uc29ydCgobyxzKT0+by5sb2NhbGVDb21wYXJlKHMpKSx7YXR0OntbdF06eW4oZSxuLHIpfX19ZnVuY3Rpb24gZm8odCxlLG4pe3ZhciByO3QuYXR0W2VdPWduKHt9LG4pO2NvbnN0IG89KHI9T2JqZWN0LmtleXModC5hdHQpKT09bnVsbD92b2lkIDA6ci5zb3J0KChpLGMpPT5pLmxvY2FsZUNvbXBhcmUoYykpLHM9e2F0dDp7fX07cmV0dXJuIG8ucmVkdWNlKChpLGMpPT4oaS5hdHRbY109dC5hdHRbY10saSkscyl9ZnVuY3Rpb24geW4odCxlLG49e30pe2U9ZT8uc29ydCgobyxzKT0+by5sb2NhbGVDb21wYXJlKHMpKTtjb25zdCByPWUubWFwKG89Pih7W2Ake3R9LyR7b31gXTpbbl19KSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sLi4ucil9ZnVuY3Rpb24gQ2UodCl7cmV0dXJuIHl0KHQpLGB1cm46cmVjYXA6JHtzbyh0KS5yZXBsYWNlKC89L2csXCJcIil9YH1mdW5jdGlvbiBrdCh0KXtjb25zdCBlPWlvKHQucmVwbGFjZShcInVybjpyZWNhcDpcIixcIlwiKSk7cmV0dXJuIHl0KGUpLGV9ZnVuY3Rpb24gVmModCxlLG4pe2NvbnN0IHI9Y28odCxlLG4pO3JldHVybiBDZShyKX1mdW5jdGlvbiBtbih0KXtyZXR1cm4gdCYmdC5pbmNsdWRlcyhcInVybjpyZWNhcDpcIil9ZnVuY3Rpb24gTWModCxlKXtjb25zdCBuPWt0KHQpLHI9a3QoZSksbz1hbyhuLHIpO3JldHVybiBDZShvKX1mdW5jdGlvbiBhbyh0LGUpe3l0KHQpLHl0KGUpO2NvbnN0IG49T2JqZWN0LmtleXModC5hdHQpLmNvbmNhdChPYmplY3Qua2V5cyhlLmF0dCkpLnNvcnQoKG8scyk9Pm8ubG9jYWxlQ29tcGFyZShzKSkscj17YXR0Ont9fTtyZXR1cm4gbi5mb3JFYWNoKG89Pnt2YXIgcyxpO09iamVjdC5rZXlzKCgocz10LmF0dCk9PW51bGw/dm9pZCAwOnNbb10pfHx7fSkuY29uY2F0KE9iamVjdC5rZXlzKCgoaT1lLmF0dCk9PW51bGw/dm9pZCAwOmlbb10pfHx7fSkpLnNvcnQoKGMsZik9PmMubG9jYWxlQ29tcGFyZShmKSkuZm9yRWFjaChjPT57dmFyIGYsdTtyLmF0dFtvXT1Kcihnbih7fSxyLmF0dFtvXSkse1tjXTooKGY9dC5hdHRbb10pPT1udWxsP3ZvaWQgMDpmW2NdKXx8KCh1PWUuYXR0W29dKT09bnVsbD92b2lkIDA6dVtjXSl9KX0pfSkscn1mdW5jdGlvbiB3bih0PVwiXCIsZSl7eXQoZSk7Y29uc3Qgbj1cIkkgZnVydGhlciBhdXRob3JpemUgdGhlIHN0YXRlZCBVUkkgdG8gcGVyZm9ybSB0aGUgZm9sbG93aW5nIGFjdGlvbnMgb24gbXkgYmVoYWxmOiBcIjtpZih0LmluY2x1ZGVzKG4pKXJldHVybiB0O2NvbnN0IHI9W107bGV0IG89MDtPYmplY3Qua2V5cyhlLmF0dCkuZm9yRWFjaChjPT57Y29uc3QgZj1PYmplY3Qua2V5cyhlLmF0dFtjXSkubWFwKGw9Pih7YWJpbGl0eTpsLnNwbGl0KFwiL1wiKVswXSxhY3Rpb246bC5zcGxpdChcIi9cIilbMV19KSk7Zi5zb3J0KChsLGQpPT5sLmFjdGlvbi5sb2NhbGVDb21wYXJlKGQuYWN0aW9uKSk7Y29uc3QgdT17fTtmLmZvckVhY2gobD0+e3VbbC5hYmlsaXR5XXx8KHVbbC5hYmlsaXR5XT1bXSksdVtsLmFiaWxpdHldLnB1c2gobC5hY3Rpb24pfSk7Y29uc3QgYT1PYmplY3Qua2V5cyh1KS5tYXAobD0+KG8rKyxgKCR7b30pICcke2x9JzogJyR7dVtsXS5qb2luKFwiJywgJ1wiKX0nIGZvciAnJHtjfScuYCkpO3IucHVzaChhLmpvaW4oXCIsIFwiKS5yZXBsYWNlKFwiLixcIixcIi5cIikpfSk7Y29uc3Qgcz1yLmpvaW4oXCIgXCIpLGk9YCR7bn0ke3N9YDtyZXR1cm5gJHt0P3QrXCIgXCI6XCJcIn0ke2l9YH1mdW5jdGlvbiBLYyh0KXt2YXIgZTtjb25zdCBuPWt0KHQpO3l0KG4pO2NvbnN0IHI9KGU9bi5hdHQpPT1udWxsP3ZvaWQgMDplLmVpcDE1NTtyZXR1cm4gcj9PYmplY3Qua2V5cyhyKS5tYXAobz0+by5zcGxpdChcIi9cIilbMV0pOltdfWZ1bmN0aW9uIHFjKHQpe2NvbnN0IGU9a3QodCk7eXQoZSk7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyhlLmF0dCkuZm9yRWFjaChyPT57T2JqZWN0LnZhbHVlcyhyKS5mb3JFYWNoKG89Pnt2YXIgczsocz1vPy5bMF0pIT1udWxsJiZzLmNoYWlucyYmbi5wdXNoKG9bMF0uY2hhaW5zKX0pfSksWy4uLm5ldyBTZXQobi5mbGF0KCkpXX1mdW5jdGlvbiB1byh0LGUpe2lmKCFlKXJldHVybiB0O2NvbnN0IG49a3QoZSk7cmV0dXJuIHl0KG4pLHduKHQsbil9ZnVuY3Rpb24gamUodCl7aWYoIXQpcmV0dXJuO2NvbnN0IGU9dD8uW3QubGVuZ3RoLTFdO3JldHVybiBtbihlKT9lOnZvaWQgMH0vKiEgbm9ibGUtY2lwaGVycyAtIE1JVCBMaWNlbnNlIChjKSAyMDIzIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL2Z1bmN0aW9uIGxvKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiB2bih0KXtpZih0eXBlb2YgdCE9XCJib29sZWFuXCIpdGhyb3cgbmV3IEVycm9yKGBib29sZWFuIGV4cGVjdGVkLCBub3QgJHt0fWApfWZ1bmN0aW9uIHhuKHQpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KXx8dDwwKXRocm93IG5ldyBFcnJvcihcInBvc2l0aXZlIGludGVnZXIgZXhwZWN0ZWQsIGdvdCBcIit0KX1mdW5jdGlvbiBvdCh0LC4uLmUpe2lmKCFsbyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkXCIpO2lmKGUubGVuZ3RoPjAmJiFlLmluY2x1ZGVzKHQubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJVaW50OEFycmF5IGV4cGVjdGVkIG9mIGxlbmd0aCBcIitlK1wiLCBnb3QgbGVuZ3RoPVwiK3QubGVuZ3RoKX1mdW5jdGlvbiBobyh0LGU9ITApe2lmKHQuZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIkhhc2ggaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkXCIpO2lmKGUmJnQuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCNkaWdlc3QoKSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFwiKX1mdW5jdGlvbiBGYyh0LGUpe290KHQpO2NvbnN0IG49ZS5vdXRwdXRMZW47aWYodC5sZW5ndGg8bil0aHJvdyBuZXcgRXJyb3IoXCJkaWdlc3RJbnRvKCkgZXhwZWN0cyBvdXRwdXQgYnVmZmVyIG9mIGxlbmd0aCBhdCBsZWFzdCBcIituKX1mdW5jdGlvbiBQdCh0KXtyZXR1cm4gbmV3IFVpbnQzMkFycmF5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCxNYXRoLmZsb29yKHQuYnl0ZUxlbmd0aC80KSl9ZnVuY3Rpb24gUXQoLi4udCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXS5maWxsKDApfWZ1bmN0aW9uIFpjKHQpe3JldHVybiBuZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9Y29uc3QgR2M9bmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQzMkFycmF5KFsyODc0NTQwMjBdKS5idWZmZXIpWzBdPT09Njg7ZnVuY3Rpb24gemModCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwic3RyaW5nIGV4cGVjdGVkXCIpO3JldHVybiBuZXcgVWludDhBcnJheShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCkpfWZ1bmN0aW9uIEVuKHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXQ9emModCk7ZWxzZSBpZihsbyh0KSl0PUJuKHQpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gdH1mdW5jdGlvbiBZYyh0LGUpe2lmKGU9PW51bGx8fHR5cGVvZiBlIT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMgbXVzdCBiZSBkZWZpbmVkXCIpO3JldHVybiBPYmplY3QuYXNzaWduKHQsZSl9ZnVuY3Rpb24gV2ModCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2xldCBuPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspbnw9dFtyXV5lW3JdO3JldHVybiBuPT09MH1jb25zdCBYYz0odCxlKT0+e2Z1bmN0aW9uIG4ociwuLi5vKXtpZihvdChyKSwhR2MpdGhyb3cgbmV3IEVycm9yKFwiTm9uIGxpdHRsZS1lbmRpYW4gaGFyZHdhcmUgaXMgbm90IHlldCBzdXBwb3J0ZWRcIik7aWYodC5ub25jZUxlbmd0aCE9PXZvaWQgMCl7Y29uc3QgYT1vWzBdO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIm5vbmNlIC8gaXYgcmVxdWlyZWRcIik7dC52YXJTaXplTm9uY2U/b3QoYSk6b3QoYSx0Lm5vbmNlTGVuZ3RoKX1jb25zdCBzPXQudGFnTGVuZ3RoO3MmJm9bMV0hPT12b2lkIDAmJm90KG9bMV0pO2NvbnN0IGk9ZShyLC4uLm8pLGM9KGEsbCk9PntpZihsIT09dm9pZCAwKXtpZihhIT09Mil0aHJvdyBuZXcgRXJyb3IoXCJjaXBoZXIgb3V0cHV0IG5vdCBzdXBwb3J0ZWRcIik7b3QobCl9fTtsZXQgZj0hMTtyZXR1cm57ZW5jcnlwdChhLGwpe2lmKGYpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGVuY3J5cHQoKSB0d2ljZSB3aXRoIHNhbWUga2V5ICsgbm9uY2VcIik7cmV0dXJuIGY9ITAsb3QoYSksYyhpLmVuY3J5cHQubGVuZ3RoLGwpLGkuZW5jcnlwdChhLGwpfSxkZWNyeXB0KGEsbCl7aWYob3QoYSkscyYmYS5sZW5ndGg8cyl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGNpcGhlcnRleHQgbGVuZ3RoOiBzbWFsbGVyIHRoYW4gdGFnTGVuZ3RoPVwiK3MpO3JldHVybiBjKGkuZGVjcnlwdC5sZW5ndGgsbCksaS5kZWNyeXB0KGEsbCl9fX1yZXR1cm4gT2JqZWN0LmFzc2lnbihuLHQpLG59O2Z1bmN0aW9uIHBvKHQsZSxuPSEwKXtpZihlPT09dm9pZCAwKXJldHVybiBuZXcgVWludDhBcnJheSh0KTtpZihlLmxlbmd0aCE9PXQpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBvdXRwdXQgbGVuZ3RoLCBleHBlY3RlZCBcIit0K1wiLCBnb3Q6IFwiK2UubGVuZ3RoKTtpZihuJiYhUWMoZSkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBvdXRwdXQsIG11c3QgYmUgYWxpZ25lZFwiKTtyZXR1cm4gZX1mdW5jdGlvbiBnbyh0LGUsbixyKXtpZih0eXBlb2YgdC5zZXRCaWdVaW50NjQ9PVwiZnVuY3Rpb25cIilyZXR1cm4gdC5zZXRCaWdVaW50NjQoZSxuLHIpO2NvbnN0IG89QmlnSW50KDMyKSxzPUJpZ0ludCg0Mjk0OTY3Mjk1KSxpPU51bWJlcihuPj5vJnMpLGM9TnVtYmVyKG4mcyksZj1yPzQ6MCx1PXI/MDo0O3Quc2V0VWludDMyKGUrZixpLHIpLHQuc2V0VWludDMyKGUrdSxjLHIpfWZ1bmN0aW9uIEpjKHQsZSxuKXt2bihuKTtjb25zdCByPW5ldyBVaW50OEFycmF5KDE2KSxvPVpjKHIpO3JldHVybiBnbyhvLDAsQmlnSW50KGUpLG4pLGdvKG8sOCxCaWdJbnQodCksbikscn1mdW5jdGlvbiBRYyh0KXtyZXR1cm4gdC5ieXRlT2Zmc2V0JTQ9PT0wfWZ1bmN0aW9uIEJuKHQpe3JldHVybiBVaW50OEFycmF5LmZyb20odCl9Y29uc3QgYm89dD0+VWludDhBcnJheS5mcm9tKHQuc3BsaXQoXCJcIikubWFwKGU9PmUuY2hhckNvZGVBdCgwKSkpLHRmPWJvKFwiZXhwYW5kIDE2LWJ5dGUga1wiKSxlZj1ibyhcImV4cGFuZCAzMi1ieXRlIGtcIiksbmY9UHQodGYpLHJmPVB0KGVmKTtmdW5jdGlvbiBLKHQsZSl7cmV0dXJuIHQ8PGV8dD4+PjMyLWV9ZnVuY3Rpb24gQW4odCl7cmV0dXJuIHQuYnl0ZU9mZnNldCU0PT09MH1jb25zdCBMZT02NCxvZj0xNix5bz0yKiozMi0xLG1vPW5ldyBVaW50MzJBcnJheTtmdW5jdGlvbiBzZih0LGUsbixyLG8scyxpLGMpe2NvbnN0IGY9by5sZW5ndGgsdT1uZXcgVWludDhBcnJheShMZSksYT1QdCh1KSxsPUFuKG8pJiZBbihzKSxkPWw/UHQobyk6bW8saD1sP1B0KHMpOm1vO2ZvcihsZXQgeT0wO3k8ZjtpKyspe2lmKHQoZSxuLHIsYSxpLGMpLGk+PXlvKXRocm93IG5ldyBFcnJvcihcImFyeDogY291bnRlciBvdmVyZmxvd1wiKTtjb25zdCBtPU1hdGgubWluKExlLGYteSk7aWYobCYmbT09PUxlKXtjb25zdCB2PXkvNDtpZih5JTQhPT0wKXRocm93IG5ldyBFcnJvcihcImFyeDogaW52YWxpZCBibG9jayBwb3NpdGlvblwiKTtmb3IobGV0IFU9MCxGO1U8b2Y7VSsrKUY9ditVLGhbRl09ZFtGXV5hW1VdO3krPUxlO2NvbnRpbnVlfWZvcihsZXQgdj0wLFU7djxtO3YrKylVPXkrdixzW1VdPW9bVV1edVt2XTt5Kz1tfX1mdW5jdGlvbiBjZih0LGUpe2NvbnN0e2FsbG93U2hvcnRLZXlzOm4sZXh0ZW5kTm9uY2VGbjpyLGNvdW50ZXJMZW5ndGg6byxjb3VudGVyUmlnaHQ6cyxyb3VuZHM6aX09WWMoe2FsbG93U2hvcnRLZXlzOiExLGNvdW50ZXJMZW5ndGg6OCxjb3VudGVyUmlnaHQ6ITEscm91bmRzOjIwfSxlKTtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcImNvcmUgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiB4bihvKSx4bihpKSx2bihzKSx2bihuKSwoYyxmLHUsYSxsPTApPT57b3QoYyksb3QoZiksb3QodSk7Y29uc3QgZD11Lmxlbmd0aDtpZihhPT09dm9pZCAwJiYoYT1uZXcgVWludDhBcnJheShkKSksb3QoYSkseG4obCksbDwwfHxsPj15byl0aHJvdyBuZXcgRXJyb3IoXCJhcng6IGNvdW50ZXIgb3ZlcmZsb3dcIik7aWYoYS5sZW5ndGg8ZCl0aHJvdyBuZXcgRXJyb3IoYGFyeDogb3V0cHV0ICgke2EubGVuZ3RofSkgaXMgc2hvcnRlciB0aGFuIGRhdGEgKCR7ZH0pYCk7Y29uc3QgaD1bXTtsZXQgeT1jLmxlbmd0aCxtLHY7aWYoeT09PTMyKWgucHVzaChtPUJuKGMpKSx2PXJmO2Vsc2UgaWYoeT09PTE2JiZuKW09bmV3IFVpbnQ4QXJyYXkoMzIpLG0uc2V0KGMpLG0uc2V0KGMsMTYpLHY9bmYsaC5wdXNoKG0pO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBhcng6IGludmFsaWQgMzItYnl0ZSBrZXksIGdvdCBsZW5ndGg9JHt5fWApO0FuKGYpfHxoLnB1c2goZj1CbihmKSk7Y29uc3QgVT1QdChtKTtpZihyKXtpZihmLmxlbmd0aCE9PTI0KXRocm93IG5ldyBFcnJvcihcImFyeDogZXh0ZW5kZWQgbm9uY2UgbXVzdCBiZSAyNCBieXRlc1wiKTtyKHYsVSxQdChmLnN1YmFycmF5KDAsMTYpKSxVKSxmPWYuc3ViYXJyYXkoMTYpfWNvbnN0IEY9MTYtbztpZihGIT09Zi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBhcng6IG5vbmNlIG11c3QgYmUgJHtGfSBvciAxNiBieXRlc2ApO2lmKEYhPT0xMil7Y29uc3QgWj1uZXcgVWludDhBcnJheSgxMik7Wi5zZXQoZixzPzA6MTItZi5sZW5ndGgpLGY9WixoLnB1c2goZil9Y29uc3QgUj1QdChmKTtyZXR1cm4gc2YodCx2LFUsUix1LGEsbCxpKSxRdCguLi5oKSxhfX1jb25zdCBXPSh0LGUpPT50W2UrK10mMjU1fCh0W2UrK10mMjU1KTw8ODtjbGFzcyBmZntjb25zdHJ1Y3RvcihlKXt0aGlzLmJsb2NrTGVuPTE2LHRoaXMub3V0cHV0TGVuPTE2LHRoaXMuYnVmZmVyPW5ldyBVaW50OEFycmF5KDE2KSx0aGlzLnI9bmV3IFVpbnQxNkFycmF5KDEwKSx0aGlzLmg9bmV3IFVpbnQxNkFycmF5KDEwKSx0aGlzLnBhZD1uZXcgVWludDE2QXJyYXkoOCksdGhpcy5wb3M9MCx0aGlzLmZpbmlzaGVkPSExLGU9RW4oZSksb3QoZSwzMik7Y29uc3Qgbj1XKGUsMCkscj1XKGUsMiksbz1XKGUsNCkscz1XKGUsNiksaT1XKGUsOCksYz1XKGUsMTApLGY9VyhlLDEyKSx1PVcoZSwxNCk7dGhpcy5yWzBdPW4mODE5MSx0aGlzLnJbMV09KG4+Pj4xM3xyPDwzKSY4MTkxLHRoaXMuclsyXT0ocj4+PjEwfG88PDYpJjc5MzksdGhpcy5yWzNdPShvPj4+N3xzPDw5KSY4MTkxLHRoaXMucls0XT0ocz4+PjR8aTw8MTIpJjI1NSx0aGlzLnJbNV09aT4+PjEmODE5MCx0aGlzLnJbNl09KGk+Pj4xNHxjPDwyKSY4MTkxLHRoaXMucls3XT0oYz4+PjExfGY8PDUpJjgwNjUsdGhpcy5yWzhdPShmPj4+OHx1PDw4KSY4MTkxLHRoaXMucls5XT11Pj4+NSYxMjc7Zm9yKGxldCBhPTA7YTw4O2ErKyl0aGlzLnBhZFthXT1XKGUsMTYrMiphKX1wcm9jZXNzKGUsbixyPSExKXtjb25zdCBvPXI/MDoyMDQ4LHtoOnMscjppfT10aGlzLGM9aVswXSxmPWlbMV0sdT1pWzJdLGE9aVszXSxsPWlbNF0sZD1pWzVdLGg9aVs2XSx5PWlbN10sbT1pWzhdLHY9aVs5XSxVPVcoZSxuKzApLEY9VyhlLG4rMiksUj1XKGUsbis0KSxaPVcoZSxuKzYpLEg9VyhlLG4rOCksaj1XKGUsbisxMCksTD1XKGUsbisxMiksaz1XKGUsbisxNCk7bGV0IE89c1swXSsoVSY4MTkxKSxUPXNbMV0rKChVPj4+MTN8Rjw8MykmODE5MSksQz1zWzJdKygoRj4+PjEwfFI8PDYpJjgxOTEpLF89c1szXSsoKFI+Pj43fFo8PDkpJjgxOTEpLHA9c1s0XSsoKFo+Pj40fEg8PDEyKSY4MTkxKSxiPXNbNV0rKEg+Pj4xJjgxOTEpLGc9c1s2XSsoKEg+Pj4xNHxqPDwyKSY4MTkxKSx4PXNbN10rKChqPj4+MTF8TDw8NSkmODE5MSksRT1zWzhdKygoTD4+Pjh8azw8OCkmODE5MSksQT1zWzldKyhrPj4+NXxvKSx3PTAsQj13K08qYytUKig1KnYpK0MqKDUqbSkrXyooNSp5KStwKig1KmgpO3c9Qj4+PjEzLEImPTgxOTEsQis9YiooNSpkKStnKig1KmwpK3gqKDUqYSkrRSooNSp1KStBKig1KmYpLHcrPUI+Pj4xMyxCJj04MTkxO2xldCBJPXcrTypmK1QqYytDKig1KnYpK18qKDUqbSkrcCooNSp5KTt3PUk+Pj4xMyxJJj04MTkxLEkrPWIqKDUqaCkrZyooNSpkKSt4Kig1KmwpK0UqKDUqYSkrQSooNSp1KSx3Kz1JPj4+MTMsSSY9ODE5MTtsZXQgTj13K08qdStUKmYrQypjK18qKDUqdikrcCooNSptKTt3PU4+Pj4xMyxOJj04MTkxLE4rPWIqKDUqeSkrZyooNSpoKSt4Kig1KmQpK0UqKDUqbCkrQSooNSphKSx3Kz1OPj4+MTMsTiY9ODE5MTtsZXQgRD13K08qYStUKnUrQypmK18qYytwKig1KnYpO3c9RD4+PjEzLEQmPTgxOTEsRCs9YiooNSptKStnKig1KnkpK3gqKDUqaCkrRSooNSpkKStBKig1KmwpLHcrPUQ+Pj4xMyxEJj04MTkxO2xldCBQPXcrTypsK1QqYStDKnUrXypmK3AqYzt3PVA+Pj4xMyxQJj04MTkxLFArPWIqKDUqdikrZyooNSptKSt4Kig1KnkpK0UqKDUqaCkrQSooNSpkKSx3Kz1QPj4+MTMsUCY9ODE5MTtsZXQgJD13K08qZCtUKmwrQyphK18qdStwKmY7dz0kPj4+MTMsJCY9ODE5MSwkKz1iKmMrZyooNSp2KSt4Kig1Km0pK0UqKDUqeSkrQSooNSpoKSx3Kz0kPj4+MTMsJCY9ODE5MTtsZXQgVj13K08qaCtUKmQrQypsK18qYStwKnU7dz1WPj4+MTMsViY9ODE5MSxWKz1iKmYrZypjK3gqKDUqdikrRSooNSptKStBKig1KnkpLHcrPVY+Pj4xMyxWJj04MTkxO2xldCBxPXcrTyp5K1QqaCtDKmQrXypsK3AqYTt3PXE+Pj4xMyxxJj04MTkxLHErPWIqdStnKmYreCpjK0UqKDUqdikrQSooNSptKSx3Kz1xPj4+MTMscSY9ODE5MTtsZXQgRz13K08qbStUKnkrQypoK18qZCtwKmw7dz1HPj4+MTMsRyY9ODE5MSxHKz1iKmErZyp1K3gqZitFKmMrQSooNSp2KSx3Kz1HPj4+MTMsRyY9ODE5MTtsZXQgTT13K08qditUKm0rQyp5K18qaCtwKmQ7dz1NPj4+MTMsTSY9ODE5MSxNKz1iKmwrZyphK3gqdStFKmYrQSpjLHcrPU0+Pj4xMyxNJj04MTkxLHc9KHc8PDIpK3d8MCx3PXcrQnwwLEI9dyY4MTkxLHc9dz4+PjEzLEkrPXcsc1swXT1CLHNbMV09SSxzWzJdPU4sc1szXT1ELHNbNF09UCxzWzVdPSQsc1s2XT1WLHNbN109cSxzWzhdPUcsc1s5XT1NfWZpbmFsaXplKCl7Y29uc3R7aDplLHBhZDpufT10aGlzLHI9bmV3IFVpbnQxNkFycmF5KDEwKTtsZXQgbz1lWzFdPj4+MTM7ZVsxXSY9ODE5MTtmb3IobGV0IGM9MjtjPDEwO2MrKyllW2NdKz1vLG89ZVtjXT4+PjEzLGVbY10mPTgxOTE7ZVswXSs9byo1LG89ZVswXT4+PjEzLGVbMF0mPTgxOTEsZVsxXSs9byxvPWVbMV0+Pj4xMyxlWzFdJj04MTkxLGVbMl0rPW8sclswXT1lWzBdKzUsbz1yWzBdPj4+MTMsclswXSY9ODE5MTtmb3IobGV0IGM9MTtjPDEwO2MrKylyW2NdPWVbY10rbyxvPXJbY10+Pj4xMyxyW2NdJj04MTkxO3JbOV0tPTgxOTI7bGV0IHM9KG9eMSktMTtmb3IobGV0IGM9MDtjPDEwO2MrKylyW2NdJj1zO3M9fnM7Zm9yKGxldCBjPTA7YzwxMDtjKyspZVtjXT1lW2NdJnN8cltjXTtlWzBdPShlWzBdfGVbMV08PDEzKSY2NTUzNSxlWzFdPShlWzFdPj4+M3xlWzJdPDwxMCkmNjU1MzUsZVsyXT0oZVsyXT4+PjZ8ZVszXTw8NykmNjU1MzUsZVszXT0oZVszXT4+Pjl8ZVs0XTw8NCkmNjU1MzUsZVs0XT0oZVs0XT4+PjEyfGVbNV08PDF8ZVs2XTw8MTQpJjY1NTM1LGVbNV09KGVbNl0+Pj4yfGVbN108PDExKSY2NTUzNSxlWzZdPShlWzddPj4+NXxlWzhdPDw4KSY2NTUzNSxlWzddPShlWzhdPj4+OHxlWzldPDw1KSY2NTUzNTtsZXQgaT1lWzBdK25bMF07ZVswXT1pJjY1NTM1O2ZvcihsZXQgYz0xO2M8ODtjKyspaT0oZVtjXStuW2NdfDApKyhpPj4+MTYpfDAsZVtjXT1pJjY1NTM1O1F0KHIpfXVwZGF0ZShlKXtobyh0aGlzKSxlPUVuKGUpLG90KGUpO2NvbnN0e2J1ZmZlcjpuLGJsb2NrTGVuOnJ9PXRoaXMsbz1lLmxlbmd0aDtmb3IobGV0IHM9MDtzPG87KXtjb25zdCBpPU1hdGgubWluKHItdGhpcy5wb3Msby1zKTtpZihpPT09cil7Zm9yKDtyPD1vLXM7cys9cil0aGlzLnByb2Nlc3MoZSxzKTtjb250aW51ZX1uLnNldChlLnN1YmFycmF5KHMscytpKSx0aGlzLnBvcyksdGhpcy5wb3MrPWkscys9aSx0aGlzLnBvcz09PXImJih0aGlzLnByb2Nlc3MobiwwLCExKSx0aGlzLnBvcz0wKX1yZXR1cm4gdGhpc31kZXN0cm95KCl7UXQodGhpcy5oLHRoaXMucix0aGlzLmJ1ZmZlcix0aGlzLnBhZCl9ZGlnZXN0SW50byhlKXtobyh0aGlzKSxGYyhlLHRoaXMpLHRoaXMuZmluaXNoZWQ9ITA7Y29uc3R7YnVmZmVyOm4saDpyfT10aGlzO2xldHtwb3M6b309dGhpcztpZihvKXtmb3IobltvKytdPTE7bzwxNjtvKyspbltvXT0wO3RoaXMucHJvY2VzcyhuLDAsITApfXRoaXMuZmluYWxpemUoKTtsZXQgcz0wO2ZvcihsZXQgaT0wO2k8ODtpKyspZVtzKytdPXJbaV0+Pj4wLGVbcysrXT1yW2ldPj4+ODtyZXR1cm4gZX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9fWZ1bmN0aW9uIGFmKHQpe2NvbnN0IGU9KHIsbyk9PnQobykudXBkYXRlKEVuKHIpKS5kaWdlc3QoKSxuPXQobmV3IFVpbnQ4QXJyYXkoMzIpKTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPXI9PnQociksZX1jb25zdCB1Zj1hZih0PT5uZXcgZmYodCkpO2Z1bmN0aW9uIGxmKHQsZSxuLHIsbyxzPTIwKXtsZXQgaT10WzBdLGM9dFsxXSxmPXRbMl0sdT10WzNdLGE9ZVswXSxsPWVbMV0sZD1lWzJdLGg9ZVszXSx5PWVbNF0sbT1lWzVdLHY9ZVs2XSxVPWVbN10sRj1vLFI9blswXSxaPW5bMV0sSD1uWzJdLGo9aSxMPWMsaz1mLE89dSxUPWEsQz1sLF89ZCxwPWgsYj15LGc9bSx4PXYsRT1VLEE9Rix3PVIsQj1aLEk9SDtmb3IobGV0IEQ9MDtEPHM7RCs9MilqPWorVHwwLEE9SyhBXmosMTYpLGI9YitBfDAsVD1LKFReYiwxMiksaj1qK1R8MCxBPUsoQV5qLDgpLGI9YitBfDAsVD1LKFReYiw3KSxMPUwrQ3wwLHc9Syh3XkwsMTYpLGc9Zyt3fDAsQz1LKENeZywxMiksTD1MK0N8MCx3PUsod15MLDgpLGc9Zyt3fDAsQz1LKENeZyw3KSxrPWsrX3wwLEI9SyhCXmssMTYpLHg9eCtCfDAsXz1LKF9eeCwxMiksaz1rK198MCxCPUsoQl5rLDgpLHg9eCtCfDAsXz1LKF9eeCw3KSxPPU8rcHwwLEk9SyhJXk8sMTYpLEU9RStJfDAscD1LKHBeRSwxMiksTz1PK3B8MCxJPUsoSV5PLDgpLEU9RStJfDAscD1LKHBeRSw3KSxqPWorQ3wwLEk9SyhJXmosMTYpLHg9eCtJfDAsQz1LKENeeCwxMiksaj1qK0N8MCxJPUsoSV5qLDgpLHg9eCtJfDAsQz1LKENeeCw3KSxMPUwrX3wwLEE9SyhBXkwsMTYpLEU9RStBfDAsXz1LKF9eRSwxMiksTD1MK198MCxBPUsoQV5MLDgpLEU9RStBfDAsXz1LKF9eRSw3KSxrPWsrcHwwLHc9Syh3XmssMTYpLGI9Yit3fDAscD1LKHBeYiwxMiksaz1rK3B8MCx3PUsod15rLDgpLGI9Yit3fDAscD1LKHBeYiw3KSxPPU8rVHwwLEI9SyhCXk8sMTYpLGc9ZytCfDAsVD1LKFReZywxMiksTz1PK1R8MCxCPUsoQl5PLDgpLGc9ZytCfDAsVD1LKFReZyw3KTtsZXQgTj0wO3JbTisrXT1pK2p8MCxyW04rK109YytMfDAscltOKytdPWYra3wwLHJbTisrXT11K098MCxyW04rK109YStUfDAscltOKytdPWwrQ3wwLHJbTisrXT1kK198MCxyW04rK109aCtwfDAscltOKytdPXkrYnwwLHJbTisrXT1tK2d8MCxyW04rK109dit4fDAscltOKytdPVUrRXwwLHJbTisrXT1GK0F8MCxyW04rK109Uit3fDAscltOKytdPVorQnwwLHJbTisrXT1IK0l8MH1jb25zdCBkZj1jZihsZix7Y291bnRlclJpZ2h0OiExLGNvdW50ZXJMZW5ndGg6NCxhbGxvd1Nob3J0S2V5czohMX0pLGhmPW5ldyBVaW50OEFycmF5KDE2KSx3bz0odCxlKT0+e3QudXBkYXRlKGUpO2NvbnN0IG49ZS5sZW5ndGglMTY7biYmdC51cGRhdGUoaGYuc3ViYXJyYXkobikpfSxwZj1uZXcgVWludDhBcnJheSgzMik7ZnVuY3Rpb24gdm8odCxlLG4scixvKXtjb25zdCBzPXQoZSxuLHBmKSxpPXVmLmNyZWF0ZShzKTtvJiZ3byhpLG8pLHdvKGkscik7Y29uc3QgYz1KYyhyLmxlbmd0aCxvP28ubGVuZ3RoOjAsITApO2kudXBkYXRlKGMpO2NvbnN0IGY9aS5kaWdlc3QoKTtyZXR1cm4gUXQocyxjKSxmfWNvbnN0IGdmPXQ9PihlLG4scik9Pih7ZW5jcnlwdChzLGkpe2NvbnN0IGM9cy5sZW5ndGg7aT1wbyhjKzE2LGksITEpLGkuc2V0KHMpO2NvbnN0IGY9aS5zdWJhcnJheSgwLC0xNik7dChlLG4sZixmLDEpO2NvbnN0IHU9dm8odCxlLG4sZixyKTtyZXR1cm4gaS5zZXQodSxjKSxRdCh1KSxpfSxkZWNyeXB0KHMsaSl7aT1wbyhzLmxlbmd0aC0xNixpLCExKTtjb25zdCBjPXMuc3ViYXJyYXkoMCwtMTYpLGY9cy5zdWJhcnJheSgtMTYpLHU9dm8odCxlLG4sYyxyKTtpZighV2MoZix1KSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHRhZ1wiKTtyZXR1cm4gaS5zZXQocy5zdWJhcnJheSgwLC0xNikpLHQoZSxuLGksaSwxKSxRdCh1KSxpfX0pLHhvPVhjKHtibG9ja1NpemU6NjQsbm9uY2VMZW5ndGg6MTIsdGFnTGVuZ3RoOjE2fSxnZihkZikpO2NsYXNzIEVvIGV4dGVuZHMgUmV7Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsVWUoZSk7Y29uc3Qgcj1wdChuKTtpZih0aGlzLmlIYXNoPWUuY3JlYXRlKCksdHlwZW9mIHRoaXMuaUhhc2gudXBkYXRlIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgaW5zdGFuY2Ugb2YgY2xhc3Mgd2hpY2ggZXh0ZW5kcyB1dGlscy5IYXNoXCIpO3RoaXMuYmxvY2tMZW49dGhpcy5pSGFzaC5ibG9ja0xlbix0aGlzLm91dHB1dExlbj10aGlzLmlIYXNoLm91dHB1dExlbjtjb25zdCBvPXRoaXMuYmxvY2tMZW4scz1uZXcgVWludDhBcnJheShvKTtzLnNldChyLmxlbmd0aD5vP2UuY3JlYXRlKCkudXBkYXRlKHIpLmRpZ2VzdCgpOnIpO2ZvcihsZXQgaT0wO2k8cy5sZW5ndGg7aSsrKXNbaV1ePTU0O3RoaXMuaUhhc2gudXBkYXRlKHMpLHRoaXMub0hhc2g9ZS5jcmVhdGUoKTtmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKylzW2ldXj0xMDY7dGhpcy5vSGFzaC51cGRhdGUocyksbHQocyl9dXBkYXRlKGUpe3JldHVybiBOdCh0aGlzKSx0aGlzLmlIYXNoLnVwZGF0ZShlKSx0aGlzfWRpZ2VzdEludG8oZSl7TnQodGhpcyksaHQoZSx0aGlzLm91dHB1dExlbiksdGhpcy5maW5pc2hlZD0hMCx0aGlzLmlIYXNoLmRpZ2VzdEludG8oZSksdGhpcy5vSGFzaC51cGRhdGUoZSksdGhpcy5vSGFzaC5kaWdlc3RJbnRvKGUpLHRoaXMuZGVzdHJveSgpfWRpZ2VzdCgpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodGhpcy5vSGFzaC5vdXRwdXRMZW4pO3JldHVybiB0aGlzLmRpZ2VzdEludG8oZSksZX1fY2xvbmVJbnRvKGUpe2V8fChlPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLHt9KSk7Y29uc3R7b0hhc2g6bixpSGFzaDpyLGZpbmlzaGVkOm8sZGVzdHJveWVkOnMsYmxvY2tMZW46aSxvdXRwdXRMZW46Y309dGhpcztyZXR1cm4gZT1lLGUuZmluaXNoZWQ9byxlLmRlc3Ryb3llZD1zLGUuYmxvY2tMZW49aSxlLm91dHB1dExlbj1jLGUub0hhc2g9bi5fY2xvbmVJbnRvKGUub0hhc2gpLGUuaUhhc2g9ci5fY2xvbmVJbnRvKGUuaUhhc2gpLGV9Y2xvbmUoKXtyZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCl9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkPSEwLHRoaXMub0hhc2guZGVzdHJveSgpLHRoaXMuaUhhc2guZGVzdHJveSgpfX1jb25zdCBrZT0odCxlLG4pPT5uZXcgRW8odCxlKS51cGRhdGUobikuZGlnZXN0KCk7a2UuY3JlYXRlPSh0LGUpPT5uZXcgRW8odCxlKTtmdW5jdGlvbiBiZih0LGUsbil7cmV0dXJuIFVlKHQpLG49PT12b2lkIDAmJihuPW5ldyBVaW50OEFycmF5KHQub3V0cHV0TGVuKSksa2UodCxwdChuKSxwdChlKSl9Y29uc3QgSW49VWludDhBcnJheS5mcm9tKFswXSksQm89VWludDhBcnJheS5vZigpO2Z1bmN0aW9uIHlmKHQsZSxuLHI9MzIpe1VlKHQpLG10KHIpO2NvbnN0IG89dC5vdXRwdXRMZW47aWYocj4yNTUqbyl0aHJvdyBuZXcgRXJyb3IoXCJMZW5ndGggc2hvdWxkIGJlIDw9IDI1NSpIYXNoTGVuXCIpO2NvbnN0IHM9TWF0aC5jZWlsKHIvbyk7bj09PXZvaWQgMCYmKG49Qm8pO2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkocypvKSxjPWtlLmNyZWF0ZSh0LGUpLGY9Yy5fY2xvbmVJbnRvKCksdT1uZXcgVWludDhBcnJheShjLm91dHB1dExlbik7Zm9yKGxldCBhPTA7YTxzO2ErKylJblswXT1hKzEsZi51cGRhdGUoYT09PTA/Qm86dSkudXBkYXRlKG4pLnVwZGF0ZShJbikuZGlnZXN0SW50byh1KSxpLnNldCh1LG8qYSksYy5fY2xvbmVJbnRvKGYpO3JldHVybiBjLmRlc3Ryb3koKSxmLmRlc3Ryb3koKSxsdCh1LEluKSxpLnNsaWNlKDAscil9Y29uc3QgbWY9KHQsZSxuLHIsbyk9PnlmKHQsYmYodCxlLG4pLHIsbyksUGU9JGUsU249QmlnSW50KDApLE9uPUJpZ0ludCgxKTtmdW5jdGlvbiBIZSh0LGU9XCJcIil7aWYodHlwZW9mIHQhPVwiYm9vbGVhblwiKXtjb25zdCBuPWUmJmBcIiR7ZX1cImA7dGhyb3cgbmV3IEVycm9yKG4rXCJleHBlY3RlZCBib29sZWFuLCBnb3QgdHlwZT1cIit0eXBlb2YgdCl9cmV0dXJuIHR9ZnVuY3Rpb24gS3QodCxlLG49XCJcIil7Y29uc3Qgcj1OZSh0KSxvPXQ/Lmxlbmd0aCxzPWUhPT12b2lkIDA7aWYoIXJ8fHMmJm8hPT1lKXtjb25zdCBpPW4mJmBcIiR7bn1cIiBgLGM9cz9gIG9mIGxlbmd0aCAke2V9YDpcIlwiLGY9cj9gbGVuZ3RoPSR7b31gOmB0eXBlPSR7dHlwZW9mIHR9YDt0aHJvdyBuZXcgRXJyb3IoaStcImV4cGVjdGVkIFVpbnQ4QXJyYXlcIitjK1wiLCBnb3QgXCIrZil9cmV0dXJuIHR9ZnVuY3Rpb24gRGUodCl7Y29uc3QgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gZS5sZW5ndGgmMT9cIjBcIitlOmV9ZnVuY3Rpb24gQW8odCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gdD09PVwiXCI/U246QmlnSW50KFwiMHhcIit0KX1mdW5jdGlvbiBWZSh0KXtyZXR1cm4gQW8oSnQodCkpfWZ1bmN0aW9uIE1lKHQpe3JldHVybiBodCh0KSxBbyhKdChVaW50OEFycmF5LmZyb20odCkucmV2ZXJzZSgpKSl9ZnVuY3Rpb24gTm4odCxlKXtyZXR1cm4gX2UodC50b1N0cmluZygxNikucGFkU3RhcnQoZSoyLFwiMFwiKSl9ZnVuY3Rpb24gVW4odCxlKXtyZXR1cm4gTm4odCxlKS5yZXZlcnNlKCl9ZnVuY3Rpb24gdHQodCxlLG4pe2xldCByO2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXRyeXtyPV9lKGUpfWNhdGNoKHMpe3Rocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjYXVzZTogXCIrcyl9ZWxzZSBpZihOZShlKSlyPVVpbnQ4QXJyYXkuZnJvbShlKTtlbHNlIHRocm93IG5ldyBFcnJvcih0K1wiIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5XCIpO2NvbnN0IG89ci5sZW5ndGg7aWYodHlwZW9mIG49PVwibnVtYmVyXCImJm8hPT1uKXRocm93IG5ldyBFcnJvcih0K1wiIG9mIGxlbmd0aCBcIituK1wiIGV4cGVjdGVkLCBnb3QgXCIrbyk7cmV0dXJuIHJ9Y29uc3QgX249dD0+dHlwZW9mIHQ9PVwiYmlnaW50XCImJlNuPD10O2Z1bmN0aW9uIHdmKHQsZSxuKXtyZXR1cm4gX24odCkmJl9uKGUpJiZfbihuKSYmZTw9dCYmdDxufWZ1bmN0aW9uIFJuKHQsZSxuLHIpe2lmKCF3ZihlLG4scikpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgdmFsaWQgXCIrdCtcIjogXCIrbitcIiA8PSBuIDwgXCIrcitcIiwgZ290IFwiK2UpfWZ1bmN0aW9uIElvKHQpe2xldCBlO2ZvcihlPTA7dD5Tbjt0Pj49T24sZSs9MSk7cmV0dXJuIGV9Y29uc3QgeWU9dD0+KE9uPDxCaWdJbnQodCkpLU9uO2Z1bmN0aW9uIHZmKHQsZSxuKXtpZih0eXBlb2YgdCE9XCJudW1iZXJcInx8dDwyKXRocm93IG5ldyBFcnJvcihcImhhc2hMZW4gbXVzdCBiZSBhIG51bWJlclwiKTtpZih0eXBlb2YgZSE9XCJudW1iZXJcInx8ZTwyKXRocm93IG5ldyBFcnJvcihcInFCeXRlTGVuIG11c3QgYmUgYSBudW1iZXJcIik7aWYodHlwZW9mIG4hPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJobWFjRm4gbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2NvbnN0IHI9aD0+bmV3IFVpbnQ4QXJyYXkoaCksbz1oPT5VaW50OEFycmF5Lm9mKGgpO2xldCBzPXIodCksaT1yKHQpLGM9MDtjb25zdCBmPSgpPT57cy5maWxsKDEpLGkuZmlsbCgwKSxjPTB9LHU9KC4uLmgpPT5uKGkscywuLi5oKSxhPShoPXIoMCkpPT57aT11KG8oMCksaCkscz11KCksaC5sZW5ndGghPT0wJiYoaT11KG8oMSksaCkscz11KCkpfSxsPSgpPT57aWYoYysrPj0xZTMpdGhyb3cgbmV3IEVycm9yKFwiZHJiZzogdHJpZWQgMTAwMCB2YWx1ZXNcIik7bGV0IGg9MDtjb25zdCB5PVtdO2Zvcig7aDxlOyl7cz11KCk7Y29uc3QgbT1zLnNsaWNlKCk7eS5wdXNoKG0pLGgrPXMubGVuZ3RofXJldHVybiBfdCguLi55KX07cmV0dXJuKGgseSk9PntmKCksYShoKTtsZXQgbTtmb3IoOyEobT15KGwoKSkpOylhKCk7cmV0dXJuIGYoKSxtfX1mdW5jdGlvbiBLZSh0LGUsbj17fSl7aWYoIXR8fHR5cGVvZiB0IT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihcImV4cGVjdGVkIHZhbGlkIG9wdGlvbnMgb2JqZWN0XCIpO2Z1bmN0aW9uIHIobyxzLGkpe2NvbnN0IGM9dFtvXTtpZihpJiZjPT09dm9pZCAwKXJldHVybjtjb25zdCBmPXR5cGVvZiBjO2lmKGYhPT1zfHxjPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoYHBhcmFtIFwiJHtvfVwiIGlzIGludmFsaWQ6IGV4cGVjdGVkICR7c30sIGdvdCAke2Z9YCl9T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoW28sc10pPT5yKG8scywhMSkpLE9iamVjdC5lbnRyaWVzKG4pLmZvckVhY2goKFtvLHNdKT0+cihvLHMsITApKX1mdW5jdGlvbiBTbyh0KXtjb25zdCBlPW5ldyBXZWFrTWFwO3JldHVybihuLC4uLnIpPT57Y29uc3Qgbz1lLmdldChuKTtpZihvIT09dm9pZCAwKXJldHVybiBvO2NvbnN0IHM9dChuLC4uLnIpO3JldHVybiBlLnNldChuLHMpLHN9fWNvbnN0IHN0PUJpZ0ludCgwKSxudD1CaWdJbnQoMSkscXQ9QmlnSW50KDIpLE9vPUJpZ0ludCgzKSxObz1CaWdJbnQoNCksVW89QmlnSW50KDUpLHhmPUJpZ0ludCg3KSxfbz1CaWdJbnQoOCksRWY9QmlnSW50KDkpLFJvPUJpZ0ludCgxNik7ZnVuY3Rpb24gY3QodCxlKXtjb25zdCBuPXQlZTtyZXR1cm4gbj49c3Q/bjplK259ZnVuY3Rpb24gZ3QodCxlLG4pe2xldCByPXQ7Zm9yKDtlLS0gPnN0OylyKj1yLHIlPW47cmV0dXJuIHJ9ZnVuY3Rpb24gJG8odCxlKXtpZih0PT09c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBleHBlY3RlZCBub24temVybyBudW1iZXJcIik7aWYoZTw9c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBleHBlY3RlZCBwb3NpdGl2ZSBtb2R1bHVzLCBnb3QgXCIrZSk7bGV0IG49Y3QodCxlKSxyPWUsbz1zdCxzPW50O2Zvcig7biE9PXN0Oyl7Y29uc3QgYz1yL24sZj1yJW4sdT1vLXMqYztyPW4sbj1mLG89cyxzPXV9aWYociE9PW50KXRocm93IG5ldyBFcnJvcihcImludmVydDogZG9lcyBub3QgZXhpc3RcIik7cmV0dXJuIGN0KG8sZSl9ZnVuY3Rpb24gJG4odCxlLG4pe2lmKCF0LmVxbCh0LnNxcihlKSxuKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKX1mdW5jdGlvbiBUbyh0LGUpe2NvbnN0IG49KHQuT1JERVIrbnQpL05vLHI9dC5wb3coZSxuKTtyZXR1cm4gJG4odCxyLGUpLHJ9ZnVuY3Rpb24gQmYodCxlKXtjb25zdCBuPSh0Lk9SREVSLVVvKS9fbyxyPXQubXVsKGUscXQpLG89dC5wb3cocixuKSxzPXQubXVsKGUsbyksaT10Lm11bCh0Lm11bChzLHF0KSxvKSxjPXQubXVsKHMsdC5zdWIoaSx0Lk9ORSkpO3JldHVybiAkbih0LGMsZSksY31mdW5jdGlvbiBBZih0KXtjb25zdCBlPUh0KHQpLG49Q28odCkscj1uKGUsZS5uZWcoZS5PTkUpKSxvPW4oZSxyKSxzPW4oZSxlLm5lZyhyKSksaT0odCt4ZikvUm87cmV0dXJuKGMsZik9PntsZXQgdT1jLnBvdyhmLGkpLGE9Yy5tdWwodSxyKTtjb25zdCBsPWMubXVsKHUsbyksZD1jLm11bCh1LHMpLGg9Yy5lcWwoYy5zcXIoYSksZikseT1jLmVxbChjLnNxcihsKSxmKTt1PWMuY21vdih1LGEsaCksYT1jLmNtb3YoZCxsLHkpO2NvbnN0IG09Yy5lcWwoYy5zcXIoYSksZiksdj1jLmNtb3YodSxhLG0pO3JldHVybiAkbihjLHYsZiksdn19ZnVuY3Rpb24gQ28odCl7aWYodDxPbyl0aHJvdyBuZXcgRXJyb3IoXCJzcXJ0IGlzIG5vdCBkZWZpbmVkIGZvciBzbWFsbCBmaWVsZFwiKTtsZXQgZT10LW50LG49MDtmb3IoO2UlcXQ9PT1zdDspZS89cXQsbisrO2xldCByPXF0O2NvbnN0IG89SHQodCk7Zm9yKDtMbyhvLHIpPT09MTspaWYocisrPjFlMyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdDogcHJvYmFibHkgbm9uLXByaW1lIFBcIik7aWYobj09PTEpcmV0dXJuIFRvO2xldCBzPW8ucG93KHIsZSk7Y29uc3QgaT0oZStudCkvcXQ7cmV0dXJuIGZ1bmN0aW9uKGYsdSl7aWYoZi5pczAodSkpcmV0dXJuIHU7aWYoTG8oZix1KSE9PTEpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7bGV0IGE9bixsPWYubXVsKGYuT05FLHMpLGQ9Zi5wb3codSxlKSxoPWYucG93KHUsaSk7Zm9yKDshZi5lcWwoZCxmLk9ORSk7KXtpZihmLmlzMChkKSlyZXR1cm4gZi5aRVJPO2xldCB5PTEsbT1mLnNxcihkKTtmb3IoOyFmLmVxbChtLGYuT05FKTspaWYoeSsrLG09Zi5zcXIobSkseT09PWEpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7Y29uc3Qgdj1udDw8QmlnSW50KGEteS0xKSxVPWYucG93KGwsdik7YT15LGw9Zi5zcXIoVSksZD1mLm11bChkLGwpLGg9Zi5tdWwoaCxVKX1yZXR1cm4gaH19ZnVuY3Rpb24gSWYodCl7cmV0dXJuIHQlTm89PT1Pbz9Ubzp0JV9vPT09VW8/QmY6dCVSbz09PUVmP0FmKHQpOkNvKHQpfWNvbnN0IFNmPVtcImNyZWF0ZVwiLFwiaXNWYWxpZFwiLFwiaXMwXCIsXCJuZWdcIixcImludlwiLFwic3FydFwiLFwic3FyXCIsXCJlcWxcIixcImFkZFwiLFwic3ViXCIsXCJtdWxcIixcInBvd1wiLFwiZGl2XCIsXCJhZGROXCIsXCJzdWJOXCIsXCJtdWxOXCIsXCJzcXJOXCJdO2Z1bmN0aW9uIE9mKHQpe2NvbnN0IGU9e09SREVSOlwiYmlnaW50XCIsTUFTSzpcImJpZ2ludFwiLEJZVEVTOlwibnVtYmVyXCIsQklUUzpcIm51bWJlclwifSxuPVNmLnJlZHVjZSgocixvKT0+KHJbb109XCJmdW5jdGlvblwiLHIpLGUpO3JldHVybiBLZSh0LG4pLHR9ZnVuY3Rpb24gTmYodCxlLG4pe2lmKG48c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBleHBvbmVudCwgbmVnYXRpdmVzIHVuc3VwcG9ydGVkXCIpO2lmKG49PT1zdClyZXR1cm4gdC5PTkU7aWYobj09PW50KXJldHVybiBlO2xldCByPXQuT05FLG89ZTtmb3IoO24+c3Q7KW4mbnQmJihyPXQubXVsKHIsbykpLG89dC5zcXIobyksbj4+PW50O3JldHVybiByfWZ1bmN0aW9uIGpvKHQsZSxuPSExKXtjb25zdCByPW5ldyBBcnJheShlLmxlbmd0aCkuZmlsbChuP3QuWkVSTzp2b2lkIDApLG89ZS5yZWR1Y2UoKGksYyxmKT0+dC5pczAoYyk/aToocltmXT1pLHQubXVsKGksYykpLHQuT05FKSxzPXQuaW52KG8pO3JldHVybiBlLnJlZHVjZVJpZ2h0KChpLGMsZik9PnQuaXMwKGMpP2k6KHJbZl09dC5tdWwoaSxyW2ZdKSx0Lm11bChpLGMpKSxzKSxyfWZ1bmN0aW9uIExvKHQsZSl7Y29uc3Qgbj0odC5PUkRFUi1udCkvcXQscj10LnBvdyhlLG4pLG89dC5lcWwocix0Lk9ORSkscz10LmVxbChyLHQuWkVSTyksaT10LmVxbChyLHQubmVnKHQuT05FKSk7aWYoIW8mJiFzJiYhaSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIExlZ2VuZHJlIHN5bWJvbCByZXN1bHRcIik7cmV0dXJuIG8/MTpzPzA6LTF9ZnVuY3Rpb24ga28odCxlKXtlIT09dm9pZCAwJiZtdChlKTtjb25zdCBuPWUhPT12b2lkIDA/ZTp0LnRvU3RyaW5nKDIpLmxlbmd0aCxyPU1hdGguY2VpbChuLzgpO3JldHVybntuQml0TGVuZ3RoOm4sbkJ5dGVMZW5ndGg6cn19ZnVuY3Rpb24gSHQodCxlLG49ITEscj17fSl7aWYodDw9c3QpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZDogZXhwZWN0ZWQgT1JERVIgPiAwLCBnb3QgXCIrdCk7bGV0IG8scyxpPSExLGM7aWYodHlwZW9mIGU9PVwib2JqZWN0XCImJmUhPW51bGwpe2lmKHIuc3FydHx8bil0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3Qgc3BlY2lmeSBvcHRzIGluIHR3byBhcmd1bWVudHNcIik7Y29uc3QgZD1lO2QuQklUUyYmKG89ZC5CSVRTKSxkLnNxcnQmJihzPWQuc3FydCksdHlwZW9mIGQuaXNMRT09XCJib29sZWFuXCImJihuPWQuaXNMRSksdHlwZW9mIGQubW9kRnJvbUJ5dGVzPT1cImJvb2xlYW5cIiYmKGk9ZC5tb2RGcm9tQnl0ZXMpLGM9ZC5hbGxvd2VkTGVuZ3Roc31lbHNlIHR5cGVvZiBlPT1cIm51bWJlclwiJiYobz1lKSxyLnNxcnQmJihzPXIuc3FydCk7Y29uc3R7bkJpdExlbmd0aDpmLG5CeXRlTGVuZ3RoOnV9PWtvKHQsbyk7aWYodT4yMDQ4KXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQ6IGV4cGVjdGVkIE9SREVSIG9mIDw9IDIwNDggYnl0ZXNcIik7bGV0IGE7Y29uc3QgbD1PYmplY3QuZnJlZXplKHtPUkRFUjp0LGlzTEU6bixCSVRTOmYsQllURVM6dSxNQVNLOnllKGYpLFpFUk86c3QsT05FOm50LGFsbG93ZWRMZW5ndGhzOmMsY3JlYXRlOmQ9PmN0KGQsdCksaXNWYWxpZDpkPT57aWYodHlwZW9mIGQhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZCBlbGVtZW50OiBleHBlY3RlZCBiaWdpbnQsIGdvdCBcIit0eXBlb2YgZCk7cmV0dXJuIHN0PD1kJiZkPHR9LGlzMDpkPT5kPT09c3QsaXNWYWxpZE5vdDA6ZD0+IWwuaXMwKGQpJiZsLmlzVmFsaWQoZCksaXNPZGQ6ZD0+KGQmbnQpPT09bnQsbmVnOmQ9PmN0KC1kLHQpLGVxbDooZCxoKT0+ZD09PWgsc3FyOmQ9PmN0KGQqZCx0KSxhZGQ6KGQsaCk9PmN0KGQraCx0KSxzdWI6KGQsaCk9PmN0KGQtaCx0KSxtdWw6KGQsaCk9PmN0KGQqaCx0KSxwb3c6KGQsaCk9Pk5mKGwsZCxoKSxkaXY6KGQsaCk9PmN0KGQqJG8oaCx0KSx0KSxzcXJOOmQ9PmQqZCxhZGROOihkLGgpPT5kK2gsc3ViTjooZCxoKT0+ZC1oLG11bE46KGQsaCk9PmQqaCxpbnY6ZD0+JG8oZCx0KSxzcXJ0OnN8fChkPT4oYXx8KGE9SWYodCkpLGEobCxkKSkpLHRvQnl0ZXM6ZD0+bj9VbihkLHUpOk5uKGQsdSksZnJvbUJ5dGVzOihkLGg9ITApPT57aWYoYyl7aWYoIWMuaW5jbHVkZXMoZC5sZW5ndGgpfHxkLmxlbmd0aD51KXRocm93IG5ldyBFcnJvcihcIkZpZWxkLmZyb21CeXRlczogZXhwZWN0ZWQgXCIrYytcIiBieXRlcywgZ290IFwiK2QubGVuZ3RoKTtjb25zdCBtPW5ldyBVaW50OEFycmF5KHUpO20uc2V0KGQsbj8wOm0ubGVuZ3RoLWQubGVuZ3RoKSxkPW19aWYoZC5sZW5ndGghPT11KXRocm93IG5ldyBFcnJvcihcIkZpZWxkLmZyb21CeXRlczogZXhwZWN0ZWQgXCIrdStcIiBieXRlcywgZ290IFwiK2QubGVuZ3RoKTtsZXQgeT1uP01lKGQpOlZlKGQpO2lmKGkmJih5PWN0KHksdCkpLCFoJiYhbC5pc1ZhbGlkKHkpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZmllbGQgZWxlbWVudDogb3V0c2lkZSBvZiByYW5nZSAwLi5PUkRFUlwiKTtyZXR1cm4geX0saW52ZXJ0QmF0Y2g6ZD0+am8obCxkKSxjbW92OihkLGgseSk9Pnk/aDpkfSk7cmV0dXJuIE9iamVjdC5mcmVlemUobCl9ZnVuY3Rpb24gUG8odCl7aWYodHlwZW9mIHQhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiZmllbGQgb3JkZXIgbXVzdCBiZSBiaWdpbnRcIik7Y29uc3QgZT10LnRvU3RyaW5nKDIpLmxlbmd0aDtyZXR1cm4gTWF0aC5jZWlsKGUvOCl9ZnVuY3Rpb24gSG8odCl7Y29uc3QgZT1Qbyh0KTtyZXR1cm4gZStNYXRoLmNlaWwoZS8yKX1mdW5jdGlvbiBVZih0LGUsbj0hMSl7Y29uc3Qgcj10Lmxlbmd0aCxvPVBvKGUpLHM9SG8oZSk7aWYocjwxNnx8cjxzfHxyPjEwMjQpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgXCIrcytcIi0xMDI0IGJ5dGVzIG9mIGlucHV0LCBnb3QgXCIrcik7Y29uc3QgaT1uP01lKHQpOlZlKHQpLGM9Y3QoaSxlLW50KStudDtyZXR1cm4gbj9VbihjLG8pOk5uKGMsbyl9Y29uc3QgdGU9QmlnSW50KDApLEZ0PUJpZ0ludCgxKTtmdW5jdGlvbiBxZSh0LGUpe2NvbnN0IG49ZS5uZWdhdGUoKTtyZXR1cm4gdD9uOmV9ZnVuY3Rpb24gVG4odCxlKXtjb25zdCBuPWpvKHQuRnAsZS5tYXAocj0+ci5aKSk7cmV0dXJuIGUubWFwKChyLG8pPT50LmZyb21BZmZpbmUoci50b0FmZmluZShuW29dKSkpfWZ1bmN0aW9uIERvKHQsZSl7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHQpfHx0PD0wfHx0PmUpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB3aW5kb3cgc2l6ZSwgZXhwZWN0ZWQgWzEuLlwiK2UrXCJdLCBnb3QgVz1cIit0KX1mdW5jdGlvbiBDbih0LGUpe0RvKHQsZSk7Y29uc3Qgbj1NYXRoLmNlaWwoZS90KSsxLHI9MioqKHQtMSksbz0yKip0LHM9eWUodCksaT1CaWdJbnQodCk7cmV0dXJue3dpbmRvd3M6bix3aW5kb3dTaXplOnIsbWFzazpzLG1heE51bWJlcjpvLHNoaWZ0Qnk6aX19ZnVuY3Rpb24gVm8odCxlLG4pe2NvbnN0e3dpbmRvd1NpemU6cixtYXNrOm8sbWF4TnVtYmVyOnMsc2hpZnRCeTppfT1uO2xldCBjPU51bWJlcih0Jm8pLGY9dD4+aTtjPnImJihjLT1zLGYrPUZ0KTtjb25zdCB1PWUqcixhPXUrTWF0aC5hYnMoYyktMSxsPWM9PT0wLGQ9YzwwLGg9ZSUyIT09MDtyZXR1cm57bmV4dE46ZixvZmZzZXQ6YSxpc1plcm86bCxpc05lZzpkLGlzTmVnRjpoLG9mZnNldEY6dX19ZnVuY3Rpb24gX2YodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBleHBlY3RlZFwiKTt0LmZvckVhY2goKG4scik9PntpZighKG4gaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBvaW50IGF0IGluZGV4IFwiK3IpfSl9ZnVuY3Rpb24gUmYodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBvZiBzY2FsYXJzIGV4cGVjdGVkXCIpO3QuZm9yRWFjaCgobixyKT0+e2lmKCFlLmlzVmFsaWQobikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzY2FsYXIgYXQgaW5kZXggXCIrcil9KX1jb25zdCBqbj1uZXcgV2Vha01hcCxNbz1uZXcgV2Vha01hcDtmdW5jdGlvbiBMbih0KXtyZXR1cm4gTW8uZ2V0KHQpfHwxfWZ1bmN0aW9uIEtvKHQpe2lmKHQhPT10ZSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHdOQUZcIil9Y2xhc3MgJGZ7Y29uc3RydWN0b3IoZSxuKXt0aGlzLkJBU0U9ZS5CQVNFLHRoaXMuWkVSTz1lLlpFUk8sdGhpcy5Gbj1lLkZuLHRoaXMuYml0cz1ufV91bnNhZmVMYWRkZXIoZSxuLHI9dGhpcy5aRVJPKXtsZXQgbz1lO2Zvcig7bj50ZTspbiZGdCYmKHI9ci5hZGQobykpLG89by5kb3VibGUoKSxuPj49RnQ7cmV0dXJuIHJ9cHJlY29tcHV0ZVdpbmRvdyhlLG4pe2NvbnN0e3dpbmRvd3M6cix3aW5kb3dTaXplOm99PUNuKG4sdGhpcy5iaXRzKSxzPVtdO2xldCBpPWUsYz1pO2ZvcihsZXQgZj0wO2Y8cjtmKyspe2M9aSxzLnB1c2goYyk7Zm9yKGxldCB1PTE7dTxvO3UrKyljPWMuYWRkKGkpLHMucHVzaChjKTtpPWMuZG91YmxlKCl9cmV0dXJuIHN9d05BRihlLG4scil7aWYoIXRoaXMuRm4uaXNWYWxpZChyKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNjYWxhclwiKTtsZXQgbz10aGlzLlpFUk8scz10aGlzLkJBU0U7Y29uc3QgaT1DbihlLHRoaXMuYml0cyk7Zm9yKGxldCBjPTA7YzxpLndpbmRvd3M7YysrKXtjb25zdHtuZXh0TjpmLG9mZnNldDp1LGlzWmVybzphLGlzTmVnOmwsaXNOZWdGOmQsb2Zmc2V0RjpofT1WbyhyLGMsaSk7cj1mLGE/cz1zLmFkZChxZShkLG5baF0pKTpvPW8uYWRkKHFlKGwsblt1XSkpfXJldHVybiBLbyhyKSx7cDpvLGY6c319d05BRlVuc2FmZShlLG4scixvPXRoaXMuWkVSTyl7Y29uc3Qgcz1DbihlLHRoaXMuYml0cyk7Zm9yKGxldCBpPTA7aTxzLndpbmRvd3MmJnIhPT10ZTtpKyspe2NvbnN0e25leHROOmMsb2Zmc2V0OmYsaXNaZXJvOnUsaXNOZWc6YX09Vm8ocixpLHMpO2lmKHI9YywhdSl7Y29uc3QgbD1uW2ZdO289by5hZGQoYT9sLm5lZ2F0ZSgpOmwpfX1yZXR1cm4gS28ociksb31nZXRQcmVjb21wdXRlcyhlLG4scil7bGV0IG89am4uZ2V0KG4pO3JldHVybiBvfHwobz10aGlzLnByZWNvbXB1dGVXaW5kb3cobixlKSxlIT09MSYmKHR5cGVvZiByPT1cImZ1bmN0aW9uXCImJihvPXIobykpLGpuLnNldChuLG8pKSksb31jYWNoZWQoZSxuLHIpe2NvbnN0IG89TG4oZSk7cmV0dXJuIHRoaXMud05BRihvLHRoaXMuZ2V0UHJlY29tcHV0ZXMobyxlLHIpLG4pfXVuc2FmZShlLG4scixvKXtjb25zdCBzPUxuKGUpO3JldHVybiBzPT09MT90aGlzLl91bnNhZmVMYWRkZXIoZSxuLG8pOnRoaXMud05BRlVuc2FmZShzLHRoaXMuZ2V0UHJlY29tcHV0ZXMocyxlLHIpLG4sbyl9Y3JlYXRlQ2FjaGUoZSxuKXtEbyhuLHRoaXMuYml0cyksTW8uc2V0KGUsbiksam4uZGVsZXRlKGUpfWhhc0NhY2hlKGUpe3JldHVybiBMbihlKSE9PTF9fWZ1bmN0aW9uIFRmKHQsZSxuLHIpe2xldCBvPWUscz10LlpFUk8saT10LlpFUk87Zm9yKDtuPnRlfHxyPnRlOyluJkZ0JiYocz1zLmFkZChvKSksciZGdCYmKGk9aS5hZGQobykpLG89by5kb3VibGUoKSxuPj49RnQscj4+PUZ0O3JldHVybntwMTpzLHAyOml9fWZ1bmN0aW9uIENmKHQsZSxuLHIpe19mKG4sdCksUmYocixlKTtjb25zdCBvPW4ubGVuZ3RoLHM9ci5sZW5ndGg7aWYobyE9PXMpdGhyb3cgbmV3IEVycm9yKFwiYXJyYXlzIG9mIHBvaW50cyBhbmQgc2NhbGFycyBtdXN0IGhhdmUgZXF1YWwgbGVuZ3RoXCIpO2NvbnN0IGk9dC5aRVJPLGM9SW8oQmlnSW50KG8pKTtsZXQgZj0xO2M+MTI/Zj1jLTM6Yz40P2Y9Yy0yOmM+MCYmKGY9Mik7Y29uc3QgdT15ZShmKSxhPW5ldyBBcnJheShOdW1iZXIodSkrMSkuZmlsbChpKSxsPU1hdGguZmxvb3IoKGUuQklUUy0xKS9mKSpmO2xldCBkPWk7Zm9yKGxldCBoPWw7aD49MDtoLT1mKXthLmZpbGwoaSk7Zm9yKGxldCBtPTA7bTxzO20rKyl7Y29uc3Qgdj1yW21dLFU9TnVtYmVyKHY+PkJpZ0ludChoKSZ1KTthW1VdPWFbVV0uYWRkKG5bbV0pfWxldCB5PWk7Zm9yKGxldCBtPWEubGVuZ3RoLTEsdj1pO20+MDttLS0pdj12LmFkZChhW21dKSx5PXkuYWRkKHYpO2lmKGQ9ZC5hZGQoeSksaCE9PTApZm9yKGxldCBtPTA7bTxmO20rKylkPWQuZG91YmxlKCl9cmV0dXJuIGR9ZnVuY3Rpb24gcW8odCxlLG4pe2lmKGUpe2lmKGUuT1JERVIhPT10KXRocm93IG5ldyBFcnJvcihcIkZpZWxkLk9SREVSIG11c3QgbWF0Y2ggb3JkZXI6IEZwID09IHAsIEZuID09IG5cIik7cmV0dXJuIE9mKGUpLGV9ZWxzZSByZXR1cm4gSHQodCx7aXNMRTpufSl9ZnVuY3Rpb24gamYodCxlLG49e30scil7aWYocj09PXZvaWQgMCYmKHI9dD09PVwiZWR3YXJkc1wiKSwhZXx8dHlwZW9mIGUhPVwib2JqZWN0XCIpdGhyb3cgbmV3IEVycm9yKGBleHBlY3RlZCB2YWxpZCAke3R9IENVUlZFIG9iamVjdGApO2Zvcihjb25zdCBmIG9mW1wicFwiLFwiblwiLFwiaFwiXSl7Y29uc3QgdT1lW2ZdO2lmKCEodHlwZW9mIHU9PVwiYmlnaW50XCImJnU+dGUpKXRocm93IG5ldyBFcnJvcihgQ1VSVkUuJHtmfSBtdXN0IGJlIHBvc2l0aXZlIGJpZ2ludGApfWNvbnN0IG89cW8oZS5wLG4uRnAscikscz1xbyhlLm4sbi5GbixyKSxjPVtcIkd4XCIsXCJHeVwiLFwiYVwiLHQ9PT1cIndlaWVyc3RyYXNzXCI/XCJiXCI6XCJkXCJdO2Zvcihjb25zdCBmIG9mIGMpaWYoIW8uaXNWYWxpZChlW2ZdKSl0aHJvdyBuZXcgRXJyb3IoYENVUlZFLiR7Zn0gbXVzdCBiZSB2YWxpZCBmaWVsZCBlbGVtZW50IG9mIENVUlZFLkZwYCk7cmV0dXJuIGU9T2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKHt9LGUpKSx7Q1VSVkU6ZSxGcDpvLEZuOnN9fUJpZ0ludCgwKSxCaWdJbnQoMSksQmlnSW50KDIpLEJpZ0ludCg4KSxrcihcIkhhc2hUb1NjYWxhci1cIik7Y29uc3QgbWU9QmlnSW50KDApLGVlPUJpZ0ludCgxKSxGZT1CaWdJbnQoMik7ZnVuY3Rpb24gTGYodCl7cmV0dXJuIEtlKHQse2FkanVzdFNjYWxhckJ5dGVzOlwiZnVuY3Rpb25cIixwb3dQbWludXMyOlwiZnVuY3Rpb25cIn0pLE9iamVjdC5mcmVlemUoey4uLnR9KX1mdW5jdGlvbiBrZih0KXtjb25zdCBlPUxmKHQpLHtQOm4sdHlwZTpyLGFkanVzdFNjYWxhckJ5dGVzOm8scG93UG1pbnVzMjpzLHJhbmRvbUJ5dGVzOml9PWUsYz1yPT09XCJ4MjU1MTlcIjtpZighYyYmciE9PVwieDQ0OFwiKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgdHlwZVwiKTtjb25zdCBmPWl8fE10LHU9Yz8yNTU6NDQ4LGE9Yz8zMjo1NixsPUJpZ0ludChjPzk6NSksZD1CaWdJbnQoYz8xMjE2NjU6MzkwODEpLGg9Yz9GZSoqQmlnSW50KDI1NCk6RmUqKkJpZ0ludCg0NDcpLHk9Yz9CaWdJbnQoOCkqRmUqKkJpZ0ludCgyNTEpLWVlOkJpZ0ludCg0KSpGZSoqQmlnSW50KDQ0NSktZWUsbT1oK3krZWUsdj1wPT5jdChwLG4pLFU9RihsKTtmdW5jdGlvbiBGKHApe3JldHVybiBVbih2KHApLGEpfWZ1bmN0aW9uIFIocCl7Y29uc3QgYj10dChcInUgY29vcmRpbmF0ZVwiLHAsYSk7cmV0dXJuIGMmJihiWzMxXSY9MTI3KSx2KE1lKGIpKX1mdW5jdGlvbiBaKHApe3JldHVybiBNZShvKHR0KFwic2NhbGFyXCIscCxhKSkpfWZ1bmN0aW9uIEgocCxiKXtjb25zdCBnPWsoUihiKSxaKHApKTtpZihnPT09bWUpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwcml2YXRlIG9yIHB1YmxpYyBrZXkgcmVjZWl2ZWRcIik7cmV0dXJuIEYoZyl9ZnVuY3Rpb24gaihwKXtyZXR1cm4gSChwLFUpfWZ1bmN0aW9uIEwocCxiLGcpe2NvbnN0IHg9dihwKihiLWcpKTtyZXR1cm4gYj12KGIteCksZz12KGcreCkse3hfMjpiLHhfMzpnfX1mdW5jdGlvbiBrKHAsYil7Um4oXCJ1XCIscCxtZSxuKSxSbihcInNjYWxhclwiLGIsaCxtKTtjb25zdCBnPWIseD1wO2xldCBFPWVlLEE9bWUsdz1wLEI9ZWUsST1tZTtmb3IobGV0IEQ9QmlnSW50KHUtMSk7RD49bWU7RC0tKXtjb25zdCBQPWc+PkQmZWU7SV49UCx7eF8yOkUseF8zOnd9PUwoSSxFLHcpLHt4XzI6QSx4XzM6Qn09TChJLEEsQiksST1QO2NvbnN0ICQ9RStBLFY9digkKiQpLHE9RS1BLEc9dihxKnEpLE09Vi1HLFk9dytCLFl0PXctQixjZT12KFl0KiQpLGZlPXYoWSpxKSxRbj1jZStmZSx0cj1jZS1mZTt3PXYoUW4qUW4pLEI9dih4KnYodHIqdHIpKSxFPXYoVipHKSxBPXYoTSooVit2KGQqTSkpKX0oe3hfMjpFLHhfMzp3fT1MKEksRSx3KSkse3hfMjpBLHhfMzpCfT1MKEksQSxCKTtjb25zdCBOPXMoQSk7cmV0dXJuIHYoRSpOKX1jb25zdCBPPXtzZWNyZXRLZXk6YSxwdWJsaWNLZXk6YSxzZWVkOmF9LFQ9KHA9ZihhKSk9PihodChwLE8uc2VlZCkscCk7ZnVuY3Rpb24gQyhwKXtjb25zdCBiPVQocCk7cmV0dXJue3NlY3JldEtleTpiLHB1YmxpY0tleTpqKGIpfX1yZXR1cm57a2V5Z2VuOkMsZ2V0U2hhcmVkU2VjcmV0OihwLGIpPT5IKHAsYiksZ2V0UHVibGljS2V5OnA9PmoocCksc2NhbGFyTXVsdDpILHNjYWxhck11bHRCYXNlOmosdXRpbHM6e3JhbmRvbVNlY3JldEtleTpULHJhbmRvbVByaXZhdGVLZXk6VH0sR3VCeXRlczpVLnNsaWNlKCksbGVuZ3RoczpPfX1jb25zdCBQZj1CaWdJbnQoMSksRm89QmlnSW50KDIpLEhmPUJpZ0ludCgzKSxEZj1CaWdJbnQoNSksVmY9QmlnSW50KDgpLFpvPUJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlZFwiKSxNZj17cDpabyxuOkJpZ0ludChcIjB4MTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxNGRlZjlkZWEyZjc5Y2Q2NTgxMjYzMWE1Y2Y1ZDNlZFwiKSxoOlZmLGE6QmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVjXCIpLGQ6QmlnSW50KFwiMHg1MjAzNmNlZTJiNmZmZTczOGNjNzQwNzk3Nzc5ZTg5ODAwNzAwYTRkNDE0MWQ4YWI3NWViNGRjYTEzNTk3OGEzXCIpLEd4OkJpZ0ludChcIjB4MjE2OTM2ZDNjZDZlNTNmZWMwYTRlMjMxZmRkNmRjNWM2OTJjYzc2MDk1MjVhN2IyYzk1NjJkNjA4ZjI1ZDUxYVwiKSxHeTpCaWdJbnQoXCIweDY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NThcIil9O2Z1bmN0aW9uIEtmKHQpe2NvbnN0IGU9QmlnSW50KDEwKSxuPUJpZ0ludCgyMCkscj1CaWdJbnQoNDApLG89QmlnSW50KDgwKSxzPVpvLGM9dCp0JXMqdCVzLGY9Z3QoYyxGbyxzKSpjJXMsdT1ndChmLFBmLHMpKnQlcyxhPWd0KHUsRGYscykqdSVzLGw9Z3QoYSxlLHMpKmElcyxkPWd0KGwsbixzKSpsJXMsaD1ndChkLHIscykqZCVzLHk9Z3QoaCxvLHMpKmglcyxtPWd0KHksbyxzKSpoJXMsdj1ndChtLGUscykqYSVzO3JldHVybntwb3dfcF81Xzg6Z3QodixGbyxzKSp0JXMsYjI6Y319ZnVuY3Rpb24gcWYodCl7cmV0dXJuIHRbMF0mPTI0OCx0WzMxXSY9MTI3LHRbMzFdfD02NCx0fWNvbnN0IEZmPUh0KE1mLnAse2lzTEU6ITB9KSxrbj0oKCk9Pntjb25zdCB0PUZmLk9SREVSO3JldHVybiBrZih7UDp0LHR5cGU6XCJ4MjU1MTlcIixwb3dQbWludXMyOmU9Pntjb25zdHtwb3dfcF81Xzg6bixiMjpyfT1LZihlKTtyZXR1cm4gY3QoZ3QobixIZix0KSpyLHQpfSxhZGp1c3RTY2FsYXJCeXRlczpxZn0pfSkoKSxHbz0odCxlKT0+KHQrKHQ+PTA/ZTotZSkvem8pL2U7ZnVuY3Rpb24gWmYodCxlLG4pe2NvbnN0W1tyLG9dLFtzLGldXT1lLGM9R28oaSp0LG4pLGY9R28oLW8qdCxuKTtsZXQgdT10LWMqci1mKnMsYT0tYypvLWYqaTtjb25zdCBsPXU8RXQsZD1hPEV0O2wmJih1PS11KSxkJiYoYT0tYSk7Y29uc3QgaD15ZShNYXRoLmNlaWwoSW8obikvMikpK25lO2lmKHU8RXR8fHU+PWh8fGE8RXR8fGE+PWgpdGhyb3cgbmV3IEVycm9yKFwic3BsaXRTY2FsYXIgKGVuZG9tb3JwaGlzbSk6IGZhaWxlZCwgaz1cIit0KTtyZXR1cm57azFuZWc6bCxrMTp1LGsybmVnOmQsazI6YX19ZnVuY3Rpb24gUG4odCl7aWYoIVtcImNvbXBhY3RcIixcInJlY292ZXJlZFwiLFwiZGVyXCJdLmluY2x1ZGVzKHQpKXRocm93IG5ldyBFcnJvcignU2lnbmF0dXJlIGZvcm1hdCBtdXN0IGJlIFwiY29tcGFjdFwiLCBcInJlY292ZXJlZFwiLCBvciBcImRlclwiJyk7cmV0dXJuIHR9ZnVuY3Rpb24gSG4odCxlKXtjb25zdCBuPXt9O2ZvcihsZXQgciBvZiBPYmplY3Qua2V5cyhlKSluW3JdPXRbcl09PT12b2lkIDA/ZVtyXTp0W3JdO3JldHVybiBIZShuLmxvd1MsXCJsb3dTXCIpLEhlKG4ucHJlaGFzaCxcInByZWhhc2hcIiksbi5mb3JtYXQhPT12b2lkIDAmJlBuKG4uZm9ybWF0KSxufWNsYXNzIEdmIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZT1cIlwiKXtzdXBlcihlKX19Y29uc3QgeHQ9e0VycjpHZixfdGx2OntlbmNvZGU6KHQsZSk9Pntjb25zdHtFcnI6bn09eHQ7aWYodDwwfHx0PjI1Nil0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IHdyb25nIHRhZ1wiKTtpZihlLmxlbmd0aCYxKXRocm93IG5ldyBuKFwidGx2LmVuY29kZTogdW5wYWRkZWQgZGF0YVwiKTtjb25zdCByPWUubGVuZ3RoLzIsbz1EZShyKTtpZihvLmxlbmd0aC8yJjEyOCl0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IGxvbmcgZm9ybSBsZW5ndGggdG9vIGJpZ1wiKTtjb25zdCBzPXI+MTI3P0RlKG8ubGVuZ3RoLzJ8MTI4KTpcIlwiO3JldHVybiBEZSh0KStzK28rZX0sZGVjb2RlKHQsZSl7Y29uc3R7RXJyOm59PXh0O2xldCByPTA7aWYodDwwfHx0PjI1Nil0aHJvdyBuZXcgbihcInRsdi5lbmNvZGU6IHdyb25nIHRhZ1wiKTtpZihlLmxlbmd0aDwyfHxlW3IrK10hPT10KXRocm93IG5ldyBuKFwidGx2LmRlY29kZTogd3JvbmcgdGx2XCIpO2NvbnN0IG89ZVtyKytdLHM9ISEobyYxMjgpO2xldCBpPTA7aWYoIXMpaT1vO2Vsc2V7Y29uc3QgZj1vJjEyNztpZighZil0aHJvdyBuZXcgbihcInRsdi5kZWNvZGUobG9uZyk6IGluZGVmaW5pdGUgbGVuZ3RoIG5vdCBzdXBwb3J0ZWRcIik7aWYoZj40KXRocm93IG5ldyBuKFwidGx2LmRlY29kZShsb25nKTogYnl0ZSBsZW5ndGggaXMgdG9vIGJpZ1wiKTtjb25zdCB1PWUuc3ViYXJyYXkocixyK2YpO2lmKHUubGVuZ3RoIT09Zil0aHJvdyBuZXcgbihcInRsdi5kZWNvZGU6IGxlbmd0aCBieXRlcyBub3QgY29tcGxldGVcIik7aWYodVswXT09PTApdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlKGxvbmcpOiB6ZXJvIGxlZnRtb3N0IGJ5dGVcIik7Zm9yKGNvbnN0IGEgb2YgdSlpPWk8PDh8YTtpZihyKz1mLGk8MTI4KXRocm93IG5ldyBuKFwidGx2LmRlY29kZShsb25nKTogbm90IG1pbmltYWwgZW5jb2RpbmdcIil9Y29uc3QgYz1lLnN1YmFycmF5KHIscitpKTtpZihjLmxlbmd0aCE9PWkpdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlOiB3cm9uZyB2YWx1ZSBsZW5ndGhcIik7cmV0dXJue3Y6YyxsOmUuc3ViYXJyYXkocitpKX19fSxfaW50OntlbmNvZGUodCl7Y29uc3R7RXJyOmV9PXh0O2lmKHQ8RXQpdGhyb3cgbmV3IGUoXCJpbnRlZ2VyOiBuZWdhdGl2ZSBpbnRlZ2VycyBhcmUgbm90IGFsbG93ZWRcIik7bGV0IG49RGUodCk7aWYoTnVtYmVyLnBhcnNlSW50KG5bMF0sMTYpJjgmJihuPVwiMDBcIituKSxuLmxlbmd0aCYxKXRocm93IG5ldyBlKFwidW5leHBlY3RlZCBERVIgcGFyc2luZyBhc3NlcnRpb246IHVucGFkZGVkIGhleFwiKTtyZXR1cm4gbn0sZGVjb2RlKHQpe2NvbnN0e0VycjplfT14dDtpZih0WzBdJjEyOCl0aHJvdyBuZXcgZShcImludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IG5lZ2F0aXZlXCIpO2lmKHRbMF09PT0wJiYhKHRbMV0mMTI4KSl0aHJvdyBuZXcgZShcImludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IHVubmVjZXNzYXJ5IGxlYWRpbmcgemVyb1wiKTtyZXR1cm4gVmUodCl9fSx0b1NpZyh0KXtjb25zdHtFcnI6ZSxfaW50Om4sX3RsdjpyfT14dCxvPXR0KFwic2lnbmF0dXJlXCIsdCkse3Y6cyxsOml9PXIuZGVjb2RlKDQ4LG8pO2lmKGkubGVuZ3RoKXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmU6IGxlZnQgYnl0ZXMgYWZ0ZXIgcGFyc2luZ1wiKTtjb25zdHt2OmMsbDpmfT1yLmRlY29kZSgyLHMpLHt2OnUsbDphfT1yLmRlY29kZSgyLGYpO2lmKGEubGVuZ3RoKXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmU6IGxlZnQgYnl0ZXMgYWZ0ZXIgcGFyc2luZ1wiKTtyZXR1cm57cjpuLmRlY29kZShjKSxzOm4uZGVjb2RlKHUpfX0saGV4RnJvbVNpZyh0KXtjb25zdHtfdGx2OmUsX2ludDpufT14dCxyPWUuZW5jb2RlKDIsbi5lbmNvZGUodC5yKSksbz1lLmVuY29kZSgyLG4uZW5jb2RlKHQucykpLHM9citvO3JldHVybiBlLmVuY29kZSg0OCxzKX19LEV0PUJpZ0ludCgwKSxuZT1CaWdJbnQoMSksem89QmlnSW50KDIpLFplPUJpZ0ludCgzKSx6Zj1CaWdJbnQoNCk7ZnVuY3Rpb24gcmUodCxlKXtjb25zdHtCWVRFUzpufT10O2xldCByO2lmKHR5cGVvZiBlPT1cImJpZ2ludFwiKXI9ZTtlbHNle2xldCBvPXR0KFwicHJpdmF0ZSBrZXlcIixlKTt0cnl7cj10LmZyb21CeXRlcyhvKX1jYXRjaHt0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgcHJpdmF0ZSBrZXk6IGV4cGVjdGVkIHVpOGEgb2Ygc2l6ZSAke259LCBnb3QgJHt0eXBlb2YgZX1gKX19aWYoIXQuaXNWYWxpZE5vdDAocikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwcml2YXRlIGtleTogb3V0IG9mIHJhbmdlIFsxLi5OLTFdXCIpO3JldHVybiByfWZ1bmN0aW9uIFlmKHQsZT17fSl7Y29uc3Qgbj1qZihcIndlaWVyc3RyYXNzXCIsdCxlKSx7RnA6cixGbjpvfT1uO2xldCBzPW4uQ1VSVkU7Y29uc3R7aDppLG46Y309cztLZShlLHt9LHthbGxvd0luZmluaXR5UG9pbnQ6XCJib29sZWFuXCIsY2xlYXJDb2ZhY3RvcjpcImZ1bmN0aW9uXCIsaXNUb3JzaW9uRnJlZTpcImZ1bmN0aW9uXCIsZnJvbUJ5dGVzOlwiZnVuY3Rpb25cIix0b0J5dGVzOlwiZnVuY3Rpb25cIixlbmRvOlwib2JqZWN0XCIsd3JhcFByaXZhdGVLZXk6XCJib29sZWFuXCJ9KTtjb25zdHtlbmRvOmZ9PWU7aWYoZiYmKCFyLmlzMChzLmEpfHx0eXBlb2YgZi5iZXRhIT1cImJpZ2ludFwifHwhQXJyYXkuaXNBcnJheShmLmJhc2lzZXMpKSl0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZW5kbzogZXhwZWN0ZWQgXCJiZXRhXCI6IGJpZ2ludCBhbmQgXCJiYXNpc2VzXCI6IGFycmF5Jyk7Y29uc3QgdT1XbyhyLG8pO2Z1bmN0aW9uIGEoKXtpZighci5pc09kZCl0aHJvdyBuZXcgRXJyb3IoXCJjb21wcmVzc2lvbiBpcyBub3Qgc3VwcG9ydGVkOiBGaWVsZCBkb2VzIG5vdCBoYXZlIC5pc09kZCgpXCIpfWZ1bmN0aW9uIGwoXyxwLGIpe2NvbnN0e3g6Zyx5Onh9PXAudG9BZmZpbmUoKSxFPXIudG9CeXRlcyhnKTtpZihIZShiLFwiaXNDb21wcmVzc2VkXCIpLGIpe2EoKTtjb25zdCBBPSFyLmlzT2RkKHgpO3JldHVybiBfdChZbyhBKSxFKX1lbHNlIHJldHVybiBfdChVaW50OEFycmF5Lm9mKDQpLEUsci50b0J5dGVzKHgpKX1mdW5jdGlvbiBkKF8pe0t0KF8sdm9pZCAwLFwiUG9pbnRcIik7Y29uc3R7cHVibGljS2V5OnAscHVibGljS2V5VW5jb21wcmVzc2VkOmJ9PXUsZz1fLmxlbmd0aCx4PV9bMF0sRT1fLnN1YmFycmF5KDEpO2lmKGc9PT1wJiYoeD09PTJ8fHg9PT0zKSl7Y29uc3QgQT1yLmZyb21CeXRlcyhFKTtpZighci5pc1ZhbGlkKEEpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogaXMgbm90IG9uIGN1cnZlLCB3cm9uZyB4XCIpO2NvbnN0IHc9bShBKTtsZXQgQjt0cnl7Qj1yLnNxcnQodyl9Y2F0Y2goRCl7Y29uc3QgUD1EIGluc3RhbmNlb2YgRXJyb3I/XCI6IFwiK0QubWVzc2FnZTpcIlwiO3Rocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogaXMgbm90IG9uIGN1cnZlLCBzcXJ0IGVycm9yXCIrUCl9YSgpO2NvbnN0IEk9ci5pc09kZChCKTtyZXR1cm4oeCYxKT09PTEhPT1JJiYoQj1yLm5lZyhCKSkse3g6QSx5OkJ9fWVsc2UgaWYoZz09PWImJng9PT00KXtjb25zdCBBPXIuQllURVMsdz1yLmZyb21CeXRlcyhFLnN1YmFycmF5KDAsQSkpLEI9ci5mcm9tQnl0ZXMoRS5zdWJhcnJheShBLEEqMikpO2lmKCF2KHcsQikpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBpcyBub3Qgb24gY3VydmVcIik7cmV0dXJue3g6dyx5OkJ9fWVsc2UgdGhyb3cgbmV3IEVycm9yKGBiYWQgcG9pbnQ6IGdvdCBsZW5ndGggJHtnfSwgZXhwZWN0ZWQgY29tcHJlc3NlZD0ke3B9IG9yIHVuY29tcHJlc3NlZD0ke2J9YCl9Y29uc3QgaD1lLnRvQnl0ZXN8fGwseT1lLmZyb21CeXRlc3x8ZDtmdW5jdGlvbiBtKF8pe2NvbnN0IHA9ci5zcXIoXyksYj1yLm11bChwLF8pO3JldHVybiByLmFkZChyLmFkZChiLHIubXVsKF8scy5hKSkscy5iKX1mdW5jdGlvbiB2KF8scCl7Y29uc3QgYj1yLnNxcihwKSxnPW0oXyk7cmV0dXJuIHIuZXFsKGIsZyl9aWYoIXYocy5HeCxzLkd5KSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgY3VydmUgcGFyYW1zOiBnZW5lcmF0b3IgcG9pbnRcIik7Y29uc3QgVT1yLm11bChyLnBvdyhzLmEsWmUpLHpmKSxGPXIubXVsKHIuc3FyKHMuYiksQmlnSW50KDI3KSk7aWYoci5pczAoci5hZGQoVSxGKSkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIGN1cnZlIHBhcmFtczogYSBvciBiXCIpO2Z1bmN0aW9uIFIoXyxwLGI9ITEpe2lmKCFyLmlzVmFsaWQocCl8fGImJnIuaXMwKHApKXRocm93IG5ldyBFcnJvcihgYmFkIHBvaW50IGNvb3JkaW5hdGUgJHtffWApO3JldHVybiBwfWZ1bmN0aW9uIFooXyl7aWYoIShfIGluc3RhbmNlb2YgTykpdGhyb3cgbmV3IEVycm9yKFwiUHJvamVjdGl2ZVBvaW50IGV4cGVjdGVkXCIpfWZ1bmN0aW9uIEgoXyl7aWYoIWZ8fCFmLmJhc2lzZXMpdGhyb3cgbmV3IEVycm9yKFwibm8gZW5kb1wiKTtyZXR1cm4gWmYoXyxmLmJhc2lzZXMsby5PUkRFUil9Y29uc3Qgaj1TbygoXyxwKT0+e2NvbnN0e1g6YixZOmcsWjp4fT1fO2lmKHIuZXFsKHgsci5PTkUpKXJldHVybnt4OmIseTpnfTtjb25zdCBFPV8uaXMwKCk7cD09bnVsbCYmKHA9RT9yLk9ORTpyLmludih4KSk7Y29uc3QgQT1yLm11bChiLHApLHc9ci5tdWwoZyxwKSxCPXIubXVsKHgscCk7aWYoRSlyZXR1cm57eDpyLlpFUk8seTpyLlpFUk99O2lmKCFyLmVxbChCLHIuT05FKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZaIHdhcyBpbnZhbGlkXCIpO3JldHVybnt4OkEseTp3fX0pLEw9U28oXz0+e2lmKF8uaXMwKCkpe2lmKGUuYWxsb3dJbmZpbml0eVBvaW50JiYhci5pczAoXy5ZKSlyZXR1cm47dGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBaRVJPXCIpfWNvbnN0e3g6cCx5OmJ9PV8udG9BZmZpbmUoKTtpZighci5pc1ZhbGlkKHApfHwhci5pc1ZhbGlkKGIpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogeCBvciB5IG5vdCBmaWVsZCBlbGVtZW50c1wiKTtpZighdihwLGIpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogZXF1YXRpb24gbGVmdCAhPSByaWdodFwiKTtpZighXy5pc1RvcnNpb25GcmVlKCkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBub3QgaW4gcHJpbWUtb3JkZXIgc3ViZ3JvdXBcIik7cmV0dXJuITB9KTtmdW5jdGlvbiBrKF8scCxiLGcseCl7cmV0dXJuIGI9bmV3IE8oci5tdWwoYi5YLF8pLGIuWSxiLlopLHA9cWUoZyxwKSxiPXFlKHgsYikscC5hZGQoYil9Y2xhc3MgT3tjb25zdHJ1Y3RvcihwLGIsZyl7dGhpcy5YPVIoXCJ4XCIscCksdGhpcy5ZPVIoXCJ5XCIsYiwhMCksdGhpcy5aPVIoXCJ6XCIsZyksT2JqZWN0LmZyZWV6ZSh0aGlzKX1zdGF0aWMgQ1VSVkUoKXtyZXR1cm4gc31zdGF0aWMgZnJvbUFmZmluZShwKXtjb25zdHt4OmIseTpnfT1wfHx7fTtpZighcHx8IXIuaXNWYWxpZChiKXx8IXIuaXNWYWxpZChnKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGFmZmluZSBwb2ludFwiKTtpZihwIGluc3RhbmNlb2YgTyl0aHJvdyBuZXcgRXJyb3IoXCJwcm9qZWN0aXZlIHBvaW50IG5vdCBhbGxvd2VkXCIpO3JldHVybiByLmlzMChiKSYmci5pczAoZyk/Ty5aRVJPOm5ldyBPKGIsZyxyLk9ORSl9c3RhdGljIGZyb21CeXRlcyhwKXtjb25zdCBiPU8uZnJvbUFmZmluZSh5KEt0KHAsdm9pZCAwLFwicG9pbnRcIikpKTtyZXR1cm4gYi5hc3NlcnRWYWxpZGl0eSgpLGJ9c3RhdGljIGZyb21IZXgocCl7cmV0dXJuIE8uZnJvbUJ5dGVzKHR0KFwicG9pbnRIZXhcIixwKSl9Z2V0IHgoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnh9Z2V0IHkoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnl9cHJlY29tcHV0ZShwPTgsYj0hMCl7cmV0dXJuIEMuY3JlYXRlQ2FjaGUodGhpcyxwKSxifHx0aGlzLm11bHRpcGx5KFplKSx0aGlzfWFzc2VydFZhbGlkaXR5KCl7TCh0aGlzKX1oYXNFdmVuWSgpe2NvbnN0e3k6cH09dGhpcy50b0FmZmluZSgpO2lmKCFyLmlzT2RkKXRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3Qgc3VwcG9ydCBpc09kZFwiKTtyZXR1cm4hci5pc09kZChwKX1lcXVhbHMocCl7WihwKTtjb25zdHtYOmIsWTpnLFo6eH09dGhpcyx7WDpFLFk6QSxaOnd9PXAsQj1yLmVxbChyLm11bChiLHcpLHIubXVsKEUseCkpLEk9ci5lcWwoci5tdWwoZyx3KSxyLm11bChBLHgpKTtyZXR1cm4gQiYmSX1uZWdhdGUoKXtyZXR1cm4gbmV3IE8odGhpcy5YLHIubmVnKHRoaXMuWSksdGhpcy5aKX1kb3VibGUoKXtjb25zdHthOnAsYn09cyxnPXIubXVsKGIsWmUpLHtYOngsWTpFLFo6QX09dGhpcztsZXQgdz1yLlpFUk8sQj1yLlpFUk8sST1yLlpFUk8sTj1yLm11bCh4LHgpLEQ9ci5tdWwoRSxFKSxQPXIubXVsKEEsQSksJD1yLm11bCh4LEUpO3JldHVybiAkPXIuYWRkKCQsJCksST1yLm11bCh4LEEpLEk9ci5hZGQoSSxJKSx3PXIubXVsKHAsSSksQj1yLm11bChnLFApLEI9ci5hZGQodyxCKSx3PXIuc3ViKEQsQiksQj1yLmFkZChELEIpLEI9ci5tdWwodyxCKSx3PXIubXVsKCQsdyksST1yLm11bChnLEkpLFA9ci5tdWwocCxQKSwkPXIuc3ViKE4sUCksJD1yLm11bChwLCQpLCQ9ci5hZGQoJCxJKSxJPXIuYWRkKE4sTiksTj1yLmFkZChJLE4pLE49ci5hZGQoTixQKSxOPXIubXVsKE4sJCksQj1yLmFkZChCLE4pLFA9ci5tdWwoRSxBKSxQPXIuYWRkKFAsUCksTj1yLm11bChQLCQpLHc9ci5zdWIodyxOKSxJPXIubXVsKFAsRCksST1yLmFkZChJLEkpLEk9ci5hZGQoSSxJKSxuZXcgTyh3LEIsSSl9YWRkKHApe1oocCk7Y29uc3R7WDpiLFk6ZyxaOnh9PXRoaXMse1g6RSxZOkEsWjp3fT1wO2xldCBCPXIuWkVSTyxJPXIuWkVSTyxOPXIuWkVSTztjb25zdCBEPXMuYSxQPXIubXVsKHMuYixaZSk7bGV0ICQ9ci5tdWwoYixFKSxWPXIubXVsKGcsQSkscT1yLm11bCh4LHcpLEc9ci5hZGQoYixnKSxNPXIuYWRkKEUsQSk7Rz1yLm11bChHLE0pLE09ci5hZGQoJCxWKSxHPXIuc3ViKEcsTSksTT1yLmFkZChiLHgpO2xldCBZPXIuYWRkKEUsdyk7cmV0dXJuIE09ci5tdWwoTSxZKSxZPXIuYWRkKCQscSksTT1yLnN1YihNLFkpLFk9ci5hZGQoZyx4KSxCPXIuYWRkKEEsdyksWT1yLm11bChZLEIpLEI9ci5hZGQoVixxKSxZPXIuc3ViKFksQiksTj1yLm11bChELE0pLEI9ci5tdWwoUCxxKSxOPXIuYWRkKEIsTiksQj1yLnN1YihWLE4pLE49ci5hZGQoVixOKSxJPXIubXVsKEIsTiksVj1yLmFkZCgkLCQpLFY9ci5hZGQoViwkKSxxPXIubXVsKEQscSksTT1yLm11bChQLE0pLFY9ci5hZGQoVixxKSxxPXIuc3ViKCQscSkscT1yLm11bChELHEpLE09ci5hZGQoTSxxKSwkPXIubXVsKFYsTSksST1yLmFkZChJLCQpLCQ9ci5tdWwoWSxNKSxCPXIubXVsKEcsQiksQj1yLnN1YihCLCQpLCQ9ci5tdWwoRyxWKSxOPXIubXVsKFksTiksTj1yLmFkZChOLCQpLG5ldyBPKEIsSSxOKX1zdWJ0cmFjdChwKXtyZXR1cm4gdGhpcy5hZGQocC5uZWdhdGUoKSl9aXMwKCl7cmV0dXJuIHRoaXMuZXF1YWxzKE8uWkVSTyl9bXVsdGlwbHkocCl7Y29uc3R7ZW5kbzpifT1lO2lmKCFvLmlzVmFsaWROb3QwKHApKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2NhbGFyOiBvdXQgb2YgcmFuZ2VcIik7bGV0IGcseDtjb25zdCBFPUE9PkMuY2FjaGVkKHRoaXMsQSx3PT5UbihPLHcpKTtpZihiKXtjb25zdHtrMW5lZzpBLGsxOncsazJuZWc6QixrMjpJfT1IKHApLHtwOk4sZjpEfT1FKHcpLHtwOlAsZjokfT1FKEkpO3g9RC5hZGQoJCksZz1rKGIuYmV0YSxOLFAsQSxCKX1lbHNle2NvbnN0e3A6QSxmOnd9PUUocCk7Zz1BLHg9d31yZXR1cm4gVG4oTyxbZyx4XSlbMF19bXVsdGlwbHlVbnNhZmUocCl7Y29uc3R7ZW5kbzpifT1lLGc9dGhpcztpZighby5pc1ZhbGlkKHApKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2NhbGFyOiBvdXQgb2YgcmFuZ2VcIik7aWYocD09PUV0fHxnLmlzMCgpKXJldHVybiBPLlpFUk87aWYocD09PW5lKXJldHVybiBnO2lmKEMuaGFzQ2FjaGUodGhpcykpcmV0dXJuIHRoaXMubXVsdGlwbHkocCk7aWYoYil7Y29uc3R7azFuZWc6eCxrMTpFLGsybmVnOkEsazI6d309SChwKSx7cDE6QixwMjpJfT1UZihPLGcsRSx3KTtyZXR1cm4gayhiLmJldGEsQixJLHgsQSl9ZWxzZSByZXR1cm4gQy51bnNhZmUoZyxwKX1tdWx0aXBseUFuZEFkZFVuc2FmZShwLGIsZyl7Y29uc3QgeD10aGlzLm11bHRpcGx5VW5zYWZlKGIpLmFkZChwLm11bHRpcGx5VW5zYWZlKGcpKTtyZXR1cm4geC5pczAoKT92b2lkIDA6eH10b0FmZmluZShwKXtyZXR1cm4gaih0aGlzLHApfWlzVG9yc2lvbkZyZWUoKXtjb25zdHtpc1RvcnNpb25GcmVlOnB9PWU7cmV0dXJuIGk9PT1uZT8hMDpwP3AoTyx0aGlzKTpDLnVuc2FmZSh0aGlzLGMpLmlzMCgpfWNsZWFyQ29mYWN0b3IoKXtjb25zdHtjbGVhckNvZmFjdG9yOnB9PWU7cmV0dXJuIGk9PT1uZT90aGlzOnA/cChPLHRoaXMpOnRoaXMubXVsdGlwbHlVbnNhZmUoaSl9aXNTbWFsbE9yZGVyKCl7cmV0dXJuIHRoaXMubXVsdGlwbHlVbnNhZmUoaSkuaXMwKCl9dG9CeXRlcyhwPSEwKXtyZXR1cm4gSGUocCxcImlzQ29tcHJlc3NlZFwiKSx0aGlzLmFzc2VydFZhbGlkaXR5KCksaChPLHRoaXMscCl9dG9IZXgocD0hMCl7cmV0dXJuIEp0KHRoaXMudG9CeXRlcyhwKSl9dG9TdHJpbmcoKXtyZXR1cm5gPFBvaW50ICR7dGhpcy5pczAoKT9cIlpFUk9cIjp0aGlzLnRvSGV4KCl9PmB9Z2V0IHB4KCl7cmV0dXJuIHRoaXMuWH1nZXQgcHkoKXtyZXR1cm4gdGhpcy5YfWdldCBweigpe3JldHVybiB0aGlzLlp9dG9SYXdCeXRlcyhwPSEwKXtyZXR1cm4gdGhpcy50b0J5dGVzKHApfV9zZXRXaW5kb3dTaXplKHApe3RoaXMucHJlY29tcHV0ZShwKX1zdGF0aWMgbm9ybWFsaXplWihwKXtyZXR1cm4gVG4oTyxwKX1zdGF0aWMgbXNtKHAsYil7cmV0dXJuIENmKE8sbyxwLGIpfXN0YXRpYyBmcm9tUHJpdmF0ZUtleShwKXtyZXR1cm4gTy5CQVNFLm11bHRpcGx5KHJlKG8scCkpfX1PLkJBU0U9bmV3IE8ocy5HeCxzLkd5LHIuT05FKSxPLlpFUk89bmV3IE8oci5aRVJPLHIuT05FLHIuWkVSTyksTy5GcD1yLE8uRm49bztjb25zdCBUPW8uQklUUyxDPW5ldyAkZihPLGUuZW5kbz9NYXRoLmNlaWwoVC8yKTpUKTtyZXR1cm4gTy5CQVNFLnByZWNvbXB1dGUoOCksT31mdW5jdGlvbiBZbyh0KXtyZXR1cm4gVWludDhBcnJheS5vZih0PzI6Myl9ZnVuY3Rpb24gV28odCxlKXtyZXR1cm57c2VjcmV0S2V5OmUuQllURVMscHVibGljS2V5OjErdC5CWVRFUyxwdWJsaWNLZXlVbmNvbXByZXNzZWQ6MSsyKnQuQllURVMscHVibGljS2V5SGFzUHJlZml4OiEwLHNpZ25hdHVyZToyKmUuQllURVN9fWZ1bmN0aW9uIFdmKHQsZT17fSl7Y29uc3R7Rm46bn09dCxyPWUucmFuZG9tQnl0ZXN8fE10LG89T2JqZWN0LmFzc2lnbihXbyh0LkZwLG4pLHtzZWVkOkhvKG4uT1JERVIpfSk7ZnVuY3Rpb24gcyhoKXt0cnl7cmV0dXJuISFyZShuLGgpfWNhdGNoe3JldHVybiExfX1mdW5jdGlvbiBpKGgseSl7Y29uc3R7cHVibGljS2V5Om0scHVibGljS2V5VW5jb21wcmVzc2VkOnZ9PW87dHJ5e2NvbnN0IFU9aC5sZW5ndGg7cmV0dXJuIHk9PT0hMCYmVSE9PW18fHk9PT0hMSYmVSE9PXY/ITE6ISF0LmZyb21CeXRlcyhoKX1jYXRjaHtyZXR1cm4hMX19ZnVuY3Rpb24gYyhoPXIoby5zZWVkKSl7cmV0dXJuIFVmKEt0KGgsby5zZWVkLFwic2VlZFwiKSxuLk9SREVSKX1mdW5jdGlvbiBmKGgseT0hMCl7cmV0dXJuIHQuQkFTRS5tdWx0aXBseShyZShuLGgpKS50b0J5dGVzKHkpfWZ1bmN0aW9uIHUoaCl7Y29uc3QgeT1jKGgpO3JldHVybntzZWNyZXRLZXk6eSxwdWJsaWNLZXk6Zih5KX19ZnVuY3Rpb24gYShoKXtpZih0eXBlb2YgaD09XCJiaWdpbnRcIilyZXR1cm4hMTtpZihoIGluc3RhbmNlb2YgdClyZXR1cm4hMDtjb25zdHtzZWNyZXRLZXk6eSxwdWJsaWNLZXk6bSxwdWJsaWNLZXlVbmNvbXByZXNzZWQ6dn09bztpZihuLmFsbG93ZWRMZW5ndGhzfHx5PT09bSlyZXR1cm47Y29uc3QgVT10dChcImtleVwiLGgpLmxlbmd0aDtyZXR1cm4gVT09PW18fFU9PT12fWZ1bmN0aW9uIGwoaCx5LG09ITApe2lmKGEoaCk9PT0hMCl0aHJvdyBuZXcgRXJyb3IoXCJmaXJzdCBhcmcgbXVzdCBiZSBwcml2YXRlIGtleVwiKTtpZihhKHkpPT09ITEpdGhyb3cgbmV3IEVycm9yKFwic2Vjb25kIGFyZyBtdXN0IGJlIHB1YmxpYyBrZXlcIik7Y29uc3Qgdj1yZShuLGgpO3JldHVybiB0LmZyb21IZXgoeSkubXVsdGlwbHkodikudG9CeXRlcyhtKX1yZXR1cm4gT2JqZWN0LmZyZWV6ZSh7Z2V0UHVibGljS2V5OmYsZ2V0U2hhcmVkU2VjcmV0Omwsa2V5Z2VuOnUsUG9pbnQ6dCx1dGlsczp7aXNWYWxpZFNlY3JldEtleTpzLGlzVmFsaWRQdWJsaWNLZXk6aSxyYW5kb21TZWNyZXRLZXk6Yyxpc1ZhbGlkUHJpdmF0ZUtleTpzLHJhbmRvbVByaXZhdGVLZXk6Yyxub3JtUHJpdmF0ZUtleVRvU2NhbGFyOmg9PnJlKG4saCkscHJlY29tcHV0ZShoPTgseT10LkJBU0Upe3JldHVybiB5LnByZWNvbXB1dGUoaCwhMSl9fSxsZW5ndGhzOm99KX1mdW5jdGlvbiBYZih0LGUsbj17fSl7VWUoZSksS2Uobix7fSx7aG1hYzpcImZ1bmN0aW9uXCIsbG93UzpcImJvb2xlYW5cIixyYW5kb21CeXRlczpcImZ1bmN0aW9uXCIsYml0czJpbnQ6XCJmdW5jdGlvblwiLGJpdHMyaW50X21vZE46XCJmdW5jdGlvblwifSk7Y29uc3Qgcj1uLnJhbmRvbUJ5dGVzfHxNdCxvPW4uaG1hY3x8KChiLC4uLmcpPT5rZShlLGIsX3QoLi4uZykpKSx7RnA6cyxGbjppfT10LHtPUkRFUjpjLEJJVFM6Zn09aSx7a2V5Z2VuOnUsZ2V0UHVibGljS2V5OmEsZ2V0U2hhcmVkU2VjcmV0OmwsdXRpbHM6ZCxsZW5ndGhzOmh9PVdmKHQsbikseT17cHJlaGFzaDohMSxsb3dTOnR5cGVvZiBuLmxvd1M9PVwiYm9vbGVhblwiP24ubG93UzohMSxmb3JtYXQ6dm9pZCAwLGV4dHJhRW50cm9weTohMX0sbT1cImNvbXBhY3RcIjtmdW5jdGlvbiB2KGIpe2NvbnN0IGc9Yz4+bmU7cmV0dXJuIGI+Z31mdW5jdGlvbiBVKGIsZyl7aWYoIWkuaXNWYWxpZE5vdDAoZykpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHNpZ25hdHVyZSAke2J9OiBvdXQgb2YgcmFuZ2UgMS4uUG9pbnQuRm4uT1JERVJgKTtyZXR1cm4gZ31mdW5jdGlvbiBGKGIsZyl7UG4oZyk7Y29uc3QgeD1oLnNpZ25hdHVyZSxFPWc9PT1cImNvbXBhY3RcIj94Omc9PT1cInJlY292ZXJlZFwiP3grMTp2b2lkIDA7cmV0dXJuIEt0KGIsRSxgJHtnfSBzaWduYXR1cmVgKX1jbGFzcyBSe2NvbnN0cnVjdG9yKGcseCxFKXt0aGlzLnI9VShcInJcIixnKSx0aGlzLnM9VShcInNcIix4KSxFIT1udWxsJiYodGhpcy5yZWNvdmVyeT1FKSxPYmplY3QuZnJlZXplKHRoaXMpfXN0YXRpYyBmcm9tQnl0ZXMoZyx4PW0pe0YoZyx4KTtsZXQgRTtpZih4PT09XCJkZXJcIil7Y29uc3R7cjpJLHM6Tn09eHQudG9TaWcoS3QoZykpO3JldHVybiBuZXcgUihJLE4pfXg9PT1cInJlY292ZXJlZFwiJiYoRT1nWzBdLHg9XCJjb21wYWN0XCIsZz1nLnN1YmFycmF5KDEpKTtjb25zdCBBPWkuQllURVMsdz1nLnN1YmFycmF5KDAsQSksQj1nLnN1YmFycmF5KEEsQSoyKTtyZXR1cm4gbmV3IFIoaS5mcm9tQnl0ZXModyksaS5mcm9tQnl0ZXMoQiksRSl9c3RhdGljIGZyb21IZXgoZyx4KXtyZXR1cm4gdGhpcy5mcm9tQnl0ZXMoX2UoZykseCl9YWRkUmVjb3ZlcnlCaXQoZyl7cmV0dXJuIG5ldyBSKHRoaXMucix0aGlzLnMsZyl9cmVjb3ZlclB1YmxpY0tleShnKXtjb25zdCB4PXMuT1JERVIse3I6RSxzOkEscmVjb3Zlcnk6d309dGhpcztpZih3PT1udWxsfHwhWzAsMSwyLDNdLmluY2x1ZGVzKHcpKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGlkIGludmFsaWRcIik7aWYoYyp6bzx4JiZ3PjEpdGhyb3cgbmV3IEVycm9yKFwicmVjb3ZlcnkgaWQgaXMgYW1iaWd1b3VzIGZvciBoPjEgY3VydmVcIik7Y29uc3QgST13PT09Mnx8dz09PTM/RStjOkU7aWYoIXMuaXNWYWxpZChJKSl0aHJvdyBuZXcgRXJyb3IoXCJyZWNvdmVyeSBpZCAyIG9yIDMgaW52YWxpZFwiKTtjb25zdCBOPXMudG9CeXRlcyhJKSxEPXQuZnJvbUJ5dGVzKF90KFlvKCh3JjEpPT09MCksTikpLFA9aS5pbnYoSSksJD1IKHR0KFwibXNnSGFzaFwiLGcpKSxWPWkuY3JlYXRlKC0kKlApLHE9aS5jcmVhdGUoQSpQKSxHPXQuQkFTRS5tdWx0aXBseVVuc2FmZShWKS5hZGQoRC5tdWx0aXBseVVuc2FmZShxKSk7aWYoRy5pczAoKSl0aHJvdyBuZXcgRXJyb3IoXCJwb2ludCBhdCBpbmZpbmlmeVwiKTtyZXR1cm4gRy5hc3NlcnRWYWxpZGl0eSgpLEd9aGFzSGlnaFMoKXtyZXR1cm4gdih0aGlzLnMpfXRvQnl0ZXMoZz1tKXtpZihQbihnKSxnPT09XCJkZXJcIilyZXR1cm4gX2UoeHQuaGV4RnJvbVNpZyh0aGlzKSk7Y29uc3QgeD1pLnRvQnl0ZXModGhpcy5yKSxFPWkudG9CeXRlcyh0aGlzLnMpO2lmKGc9PT1cInJlY292ZXJlZFwiKXtpZih0aGlzLnJlY292ZXJ5PT1udWxsKXRocm93IG5ldyBFcnJvcihcInJlY292ZXJ5IGJpdCBtdXN0IGJlIHByZXNlbnRcIik7cmV0dXJuIF90KFVpbnQ4QXJyYXkub2YodGhpcy5yZWNvdmVyeSkseCxFKX1yZXR1cm4gX3QoeCxFKX10b0hleChnKXtyZXR1cm4gSnQodGhpcy50b0J5dGVzKGcpKX1hc3NlcnRWYWxpZGl0eSgpe31zdGF0aWMgZnJvbUNvbXBhY3QoZyl7cmV0dXJuIFIuZnJvbUJ5dGVzKHR0KFwic2lnXCIsZyksXCJjb21wYWN0XCIpfXN0YXRpYyBmcm9tREVSKGcpe3JldHVybiBSLmZyb21CeXRlcyh0dChcInNpZ1wiLGcpLFwiZGVyXCIpfW5vcm1hbGl6ZVMoKXtyZXR1cm4gdGhpcy5oYXNIaWdoUygpP25ldyBSKHRoaXMucixpLm5lZyh0aGlzLnMpLHRoaXMucmVjb3ZlcnkpOnRoaXN9dG9ERVJSYXdCeXRlcygpe3JldHVybiB0aGlzLnRvQnl0ZXMoXCJkZXJcIil9dG9ERVJIZXgoKXtyZXR1cm4gSnQodGhpcy50b0J5dGVzKFwiZGVyXCIpKX10b0NvbXBhY3RSYXdCeXRlcygpe3JldHVybiB0aGlzLnRvQnl0ZXMoXCJjb21wYWN0XCIpfXRvQ29tcGFjdEhleCgpe3JldHVybiBKdCh0aGlzLnRvQnl0ZXMoXCJjb21wYWN0XCIpKX19Y29uc3QgWj1uLmJpdHMyaW50fHxmdW5jdGlvbihnKXtpZihnLmxlbmd0aD44MTkyKXRocm93IG5ldyBFcnJvcihcImlucHV0IGlzIHRvbyBsYXJnZVwiKTtjb25zdCB4PVZlKGcpLEU9Zy5sZW5ndGgqOC1mO3JldHVybiBFPjA/eD4+QmlnSW50KEUpOnh9LEg9bi5iaXRzMmludF9tb2ROfHxmdW5jdGlvbihnKXtyZXR1cm4gaS5jcmVhdGUoWihnKSl9LGo9eWUoZik7ZnVuY3Rpb24gTChiKXtyZXR1cm4gUm4oXCJudW0gPCAyXlwiK2YsYixFdCxqKSxpLnRvQnl0ZXMoYil9ZnVuY3Rpb24gayhiLGcpe3JldHVybiBLdChiLHZvaWQgMCxcIm1lc3NhZ2VcIiksZz9LdChlKGIpLHZvaWQgMCxcInByZWhhc2hlZCBtZXNzYWdlXCIpOmJ9ZnVuY3Rpb24gTyhiLGcseCl7aWYoW1wicmVjb3ZlcmVkXCIsXCJjYW5vbmljYWxcIl0uc29tZShWPT5WIGluIHgpKXRocm93IG5ldyBFcnJvcihcInNpZ24oKSBsZWdhY3kgb3B0aW9ucyBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0e2xvd1M6RSxwcmVoYXNoOkEsZXh0cmFFbnRyb3B5Ond9PUhuKHgseSk7Yj1rKGIsQSk7Y29uc3QgQj1IKGIpLEk9cmUoaSxnKSxOPVtMKEkpLEwoQildO2lmKHchPW51bGwmJnchPT0hMSl7Y29uc3QgVj13PT09ITA/cihoLnNlY3JldEtleSk6dztOLnB1c2godHQoXCJleHRyYUVudHJvcHlcIixWKSl9Y29uc3QgRD1fdCguLi5OKSxQPUI7ZnVuY3Rpb24gJChWKXtjb25zdCBxPVooVik7aWYoIWkuaXNWYWxpZE5vdDAocSkpcmV0dXJuO2NvbnN0IEc9aS5pbnYocSksTT10LkJBU0UubXVsdGlwbHkocSkudG9BZmZpbmUoKSxZPWkuY3JlYXRlKE0ueCk7aWYoWT09PUV0KXJldHVybjtjb25zdCBZdD1pLmNyZWF0ZShHKmkuY3JlYXRlKFArWSpJKSk7aWYoWXQ9PT1FdClyZXR1cm47bGV0IGNlPShNLng9PT1ZPzA6Mil8TnVtYmVyKE0ueSZuZSksZmU9WXQ7cmV0dXJuIEUmJnYoWXQpJiYoZmU9aS5uZWcoWXQpLGNlXj0xKSxuZXcgUihZLGZlLGNlKX1yZXR1cm57c2VlZDpELGsyc2lnOiR9fWZ1bmN0aW9uIFQoYixnLHg9e30pe2I9dHQoXCJtZXNzYWdlXCIsYik7Y29uc3R7c2VlZDpFLGsyc2lnOkF9PU8oYixnLHgpO3JldHVybiB2ZihlLm91dHB1dExlbixpLkJZVEVTLG8pKEUsQSl9ZnVuY3Rpb24gQyhiKXtsZXQgZztjb25zdCB4PXR5cGVvZiBiPT1cInN0cmluZ1wifHxOZShiKSxFPSF4JiZiIT09bnVsbCYmdHlwZW9mIGI9PVwib2JqZWN0XCImJnR5cGVvZiBiLnI9PVwiYmlnaW50XCImJnR5cGVvZiBiLnM9PVwiYmlnaW50XCI7aWYoIXgmJiFFKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2lnbmF0dXJlLCBleHBlY3RlZCBVaW50OEFycmF5LCBoZXggc3RyaW5nIG9yIFNpZ25hdHVyZSBpbnN0YW5jZVwiKTtpZihFKWc9bmV3IFIoYi5yLGIucyk7ZWxzZSBpZih4KXt0cnl7Zz1SLmZyb21CeXRlcyh0dChcInNpZ1wiLGIpLFwiZGVyXCIpfWNhdGNoKEEpe2lmKCEoQSBpbnN0YW5jZW9mIHh0LkVycikpdGhyb3cgQX1pZighZyl0cnl7Zz1SLmZyb21CeXRlcyh0dChcInNpZ1wiLGIpLFwiY29tcGFjdFwiKX1jYXRjaHtyZXR1cm4hMX19cmV0dXJuIGd8fCExfWZ1bmN0aW9uIF8oYixnLHgsRT17fSl7Y29uc3R7bG93UzpBLHByZWhhc2g6dyxmb3JtYXQ6Qn09SG4oRSx5KTtpZih4PXR0KFwicHVibGljS2V5XCIseCksZz1rKHR0KFwibWVzc2FnZVwiLGcpLHcpLFwic3RyaWN0XCJpbiBFKXRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuc3RyaWN0IHdhcyByZW5hbWVkIHRvIGxvd1NcIik7Y29uc3QgST1CPT09dm9pZCAwP0MoYik6Ui5mcm9tQnl0ZXModHQoXCJzaWdcIixiKSxCKTtpZihJPT09ITEpcmV0dXJuITE7dHJ5e2NvbnN0IE49dC5mcm9tQnl0ZXMoeCk7aWYoQSYmSS5oYXNIaWdoUygpKXJldHVybiExO2NvbnN0e3I6RCxzOlB9PUksJD1IKGcpLFY9aS5pbnYoUCkscT1pLmNyZWF0ZSgkKlYpLEc9aS5jcmVhdGUoRCpWKSxNPXQuQkFTRS5tdWx0aXBseVVuc2FmZShxKS5hZGQoTi5tdWx0aXBseVVuc2FmZShHKSk7cmV0dXJuIE0uaXMwKCk/ITE6aS5jcmVhdGUoTS54KT09PUR9Y2F0Y2h7cmV0dXJuITF9fWZ1bmN0aW9uIHAoYixnLHg9e30pe2NvbnN0e3ByZWhhc2g6RX09SG4oeCx5KTtyZXR1cm4gZz1rKGcsRSksUi5mcm9tQnl0ZXMoYixcInJlY292ZXJlZFwiKS5yZWNvdmVyUHVibGljS2V5KGcpLnRvQnl0ZXMoKX1yZXR1cm4gT2JqZWN0LmZyZWV6ZSh7a2V5Z2VuOnUsZ2V0UHVibGljS2V5OmEsZ2V0U2hhcmVkU2VjcmV0OmwsdXRpbHM6ZCxsZW5ndGhzOmgsUG9pbnQ6dCxzaWduOlQsdmVyaWZ5Ol8scmVjb3ZlclB1YmxpY0tleTpwLFNpZ25hdHVyZTpSLGhhc2g6ZX0pfWZ1bmN0aW9uIEpmKHQpe2NvbnN0IGU9e2E6dC5hLGI6dC5iLHA6dC5GcC5PUkRFUixuOnQubixoOnQuaCxHeDp0Lkd4LEd5OnQuR3l9LG49dC5GcDtsZXQgcj10LmFsbG93ZWRQcml2YXRlS2V5TGVuZ3Rocz9BcnJheS5mcm9tKG5ldyBTZXQodC5hbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHMubWFwKGk9Pk1hdGguY2VpbChpLzIpKSkpOnZvaWQgMDtjb25zdCBvPUh0KGUubix7QklUUzp0Lm5CaXRMZW5ndGgsYWxsb3dlZExlbmd0aHM6cixtb2RGcm9tQnl0ZXM6dC53cmFwUHJpdmF0ZUtleX0pLHM9e0ZwOm4sRm46byxhbGxvd0luZmluaXR5UG9pbnQ6dC5hbGxvd0luZmluaXR5UG9pbnQsZW5kbzp0LmVuZG8saXNUb3JzaW9uRnJlZTp0LmlzVG9yc2lvbkZyZWUsY2xlYXJDb2ZhY3Rvcjp0LmNsZWFyQ29mYWN0b3IsZnJvbUJ5dGVzOnQuZnJvbUJ5dGVzLHRvQnl0ZXM6dC50b0J5dGVzfTtyZXR1cm57Q1VSVkU6ZSxjdXJ2ZU9wdHM6c319ZnVuY3Rpb24gUWYodCl7Y29uc3R7Q1VSVkU6ZSxjdXJ2ZU9wdHM6bn09SmYodCkscj17aG1hYzp0LmhtYWMscmFuZG9tQnl0ZXM6dC5yYW5kb21CeXRlcyxsb3dTOnQubG93UyxiaXRzMmludDp0LmJpdHMyaW50LGJpdHMyaW50X21vZE46dC5iaXRzMmludF9tb2ROfTtyZXR1cm57Q1VSVkU6ZSxjdXJ2ZU9wdHM6bixoYXNoOnQuaGFzaCxlY2RzYU9wdHM6cn19ZnVuY3Rpb24gdGEodCxlKXtjb25zdCBuPWUuUG9pbnQ7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7UHJvamVjdGl2ZVBvaW50Om4sQ1VSVkU6T2JqZWN0LmFzc2lnbih7fSx0LGtvKG4uRm4uT1JERVIsbi5Gbi5CSVRTKSl9KX1mdW5jdGlvbiBlYSh0KXtjb25zdHtDVVJWRTplLGN1cnZlT3B0czpuLGhhc2g6cixlY2RzYU9wdHM6b309UWYodCkscz1ZZihlLG4pLGk9WGYocyxyLG8pO3JldHVybiB0YSh0LGkpfWZ1bmN0aW9uIERuKHQsZSl7Y29uc3Qgbj1yPT5lYSh7Li4udCxoYXNoOnJ9KTtyZXR1cm57Li4ubihlKSxjcmVhdGU6bn19Y29uc3QgWG89e3A6QmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCIpLG46QmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmJjZTZmYWFkYTcxNzllODRmM2I5Y2FjMmZjNjMyNTUxXCIpLGg6QmlnSW50KDEpLGE6QmlnSW50KFwiMHhmZmZmZmZmZjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjXCIpLGI6QmlnSW50KFwiMHg1YWM2MzVkOGFhM2E5M2U3YjNlYmJkNTU3Njk4ODZiYzY1MWQwNmIwY2M1M2IwZjYzYmNlM2MzZTI3ZDI2MDRiXCIpLEd4OkJpZ0ludChcIjB4NmIxN2QxZjJlMTJjNDI0N2Y4YmNlNmU1NjNhNDQwZjI3NzAzN2Q4MTJkZWIzM2EwZjRhMTM5NDVkODk4YzI5NlwiKSxHeTpCaWdJbnQoXCIweDRmZTM0MmUyZmUxYTdmOWI4ZWU3ZWI0YTdjMGY5ZTE2MmJjZTMzNTc2YjMxNWVjZWNiYjY0MDY4MzdiZjUxZjVcIil9LEpvPXtwOkJpZ0ludChcIjB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWZmZmZmZmZmMDAwMDAwMDAwMDAwMDAwMGZmZmZmZmZmXCIpLG46QmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjNzYzNGQ4MWY0MzcyZGRmNTgxYTBkYjI0OGIwYTc3YWVjZWMxOTZhY2NjNTI5NzNcIiksaDpCaWdJbnQoMSksYTpCaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVmZmZmZmZmZjAwMDAwMDAwMDAwMDAwMDBmZmZmZmZmY1wiKSxiOkJpZ0ludChcIjB4YjMzMTJmYTdlMjNlZTdlNDk4OGUwNTZiZTNmODJkMTkxODFkOWM2ZWZlODE0MTEyMDMxNDA4OGY1MDEzODc1YWM2NTYzOThkOGEyZWQxOWQyYTg1YzhlZGQzZWMyYWVmXCIpLEd4OkJpZ0ludChcIjB4YWE4N2NhMjJiZThiMDUzNzhlYjFjNzFlZjMyMGFkNzQ2ZTFkM2I2MjhiYTc5Yjk4NTlmNzQxZTA4MjU0MmEzODU1MDJmMjVkYmY1NTI5NmMzYTU0NWUzODcyNzYwYWI3XCIpLEd5OkJpZ0ludChcIjB4MzYxN2RlNGE5NjI2MmM2ZjVkOWU5OGJmOTI5MmRjMjlmOGY0MWRiZDI4OWExNDdjZTlkYTMxMTNiNWYwYjhjMDBhNjBiMWNlMWQ3ZTgxOWQ3YTQzMWQ3YzkwZWEwZTVmXCIpfSxRbz17cDpCaWdJbnQoXCIweDFmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCIpLG46QmlnSW50KFwiMHgwMWZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYTUxODY4NzgzYmYyZjk2NmI3ZmNjMDE0OGY3MDlhNWQwM2JiNWM5Yjg4OTljNDdhZWJiNmZiNzFlOTEzODY0MDlcIiksaDpCaWdJbnQoMSksYTpCaWdJbnQoXCIweDFmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjXCIpLGI6QmlnSW50KFwiMHgwMDUxOTUzZWI5NjE4ZTFjOWExZjkyOWEyMWEwYjY4NTQwZWVhMmRhNzI1Yjk5YjMxNWYzYjhiNDg5OTE4ZWYxMDllMTU2MTkzOTUxZWM3ZTkzN2IxNjUyYzBiZDNiYjFiZjA3MzU3M2RmODgzZDJjMzRmMWVmNDUxZmQ0NmI1MDNmMDBcIiksR3g6QmlnSW50KFwiMHgwMGM2ODU4ZTA2YjcwNDA0ZTljZDllM2VjYjY2MjM5NWI0NDI5YzY0ODEzOTA1M2ZiNTIxZjgyOGFmNjA2YjRkM2RiYWExNGI1ZTc3ZWZlNzU5MjhmZTFkYzEyN2EyZmZhOGRlMzM0OGIzYzE4NTZhNDI5YmY5N2U3ZTMxYzJlNWJkNjZcIiksR3k6QmlnSW50KFwiMHgwMTE4MzkyOTZhNzg5YTNiYzAwNDVjOGE1ZmI0MmM3ZDFiZDk5OGY1NDQ0OTU3OWI0NDY4MTdhZmJkMTcyNzNlNjYyYzk3ZWU3Mjk5NWVmNDI2NDBjNTUwYjkwMTNmYWQwNzYxMzUzYzcwODZhMjcyYzI0MDg4YmU5NDc2OWZkMTY2NTBcIil9LG5hPUh0KFhvLnApLHJhPUh0KEpvLnApLG9hPUh0KFFvLnApLHNhPURuKHsuLi5YbyxGcDpuYSxsb3dTOiExfSwkZSk7RG4oey4uLkpvLEZwOnJhLGxvd1M6ITF9LGdjKSxEbih7Li4uUW8sRnA6b2EsbG93UzohMSxhbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHM6WzEzMCwxMzEsMTMyXX0scGMpO2NvbnN0IGlhPXNhLFZuPVwiYmFzZTEwXCIscnQ9XCJiYXNlMTZcIixvZT1cImJhc2U2NHBhZFwiLEdlPVwiYmFzZTY0dXJsXCIsc2U9XCJ1dGY4XCIsTW49MCxpZT0xLHdlPTIsY2E9MCx0cz0xLHZlPTEyLEtuPTMyO2Z1bmN0aW9uIGZhKCl7Y29uc3QgdD1rbi51dGlscy5yYW5kb21Qcml2YXRlS2V5KCksZT1rbi5nZXRQdWJsaWNLZXkodCk7cmV0dXJue3ByaXZhdGVLZXk6aXQodCxydCkscHVibGljS2V5Oml0KGUscnQpfX1mdW5jdGlvbiBhYSgpe2NvbnN0IHQ9TXQoS24pO3JldHVybiBpdCh0LHJ0KX1mdW5jdGlvbiB1YSh0LGUpe2NvbnN0IG49a24uZ2V0U2hhcmVkU2VjcmV0KGF0KHQscnQpLGF0KGUscnQpKSxyPW1mKFBlLG4sdm9pZCAwLHZvaWQgMCxLbik7cmV0dXJuIGl0KHIscnQpfWZ1bmN0aW9uIGxhKHQpe2NvbnN0IGU9UGUoYXQodCxydCkpO3JldHVybiBpdChlLHJ0KX1mdW5jdGlvbiBkYSh0KXtjb25zdCBlPVBlKGF0KHQsc2UpKTtyZXR1cm4gaXQoZSxydCl9ZnVuY3Rpb24gcW4odCl7cmV0dXJuIGF0KGAke3R9YCxWbil9ZnVuY3Rpb24gWnQodCl7cmV0dXJuIE51bWJlcihpdCh0LFZuKSl9ZnVuY3Rpb24gZXModCl7cmV0dXJuIHQucmVwbGFjZSgvXFwrL2csXCItXCIpLnJlcGxhY2UoL1xcLy9nLFwiX1wiKS5yZXBsYWNlKC89L2csXCJcIil9ZnVuY3Rpb24gbnModCl7Y29uc3QgZT10LnJlcGxhY2UoLy0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKSxuPSg0LWUubGVuZ3RoJTQpJTQ7cmV0dXJuIGUrXCI9XCIucmVwZWF0KG4pfWZ1bmN0aW9uIGhhKHQpe2NvbnN0IGU9cW4odHlwZW9mIHQudHlwZTxcInVcIj90LnR5cGU6TW4pO2lmKFp0KGUpPT09aWUmJnR5cGVvZiB0LnNlbmRlclB1YmxpY0tleT5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHNlbmRlciBwdWJsaWMga2V5IGZvciB0eXBlIDEgZW52ZWxvcGVcIik7Y29uc3Qgbj10eXBlb2YgdC5zZW5kZXJQdWJsaWNLZXk8XCJ1XCI/YXQodC5zZW5kZXJQdWJsaWNLZXkscnQpOnZvaWQgMCxyPXR5cGVvZiB0Lml2PFwidVwiP2F0KHQuaXYscnQpOk10KHZlKSxvPWF0KHQuc3ltS2V5LHJ0KSxzPXhvKG8scikuZW5jcnlwdChhdCh0Lm1lc3NhZ2Usc2UpKSxpPUZuKHt0eXBlOmUsc2VhbGVkOnMsaXY6cixzZW5kZXJQdWJsaWNLZXk6bn0pO3JldHVybiB0LmVuY29kaW5nPT09R2U/ZXMoaSk6aX1mdW5jdGlvbiBwYSh0KXtjb25zdCBlPWF0KHQuc3ltS2V5LHJ0KSx7c2VhbGVkOm4saXY6cn09emUoe2VuY29kZWQ6dC5lbmNvZGVkLGVuY29kaW5nOnQuZW5jb2Rpbmd9KSxvPXhvKGUscikuZGVjcnlwdChuKTtpZihvPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVjcnlwdFwiKTtyZXR1cm4gaXQobyxzZSl9ZnVuY3Rpb24gZ2EodCxlKXtjb25zdCBuPXFuKHdlKSxyPU10KHZlKSxvPWF0KHQsc2UpLHM9Rm4oe3R5cGU6bixzZWFsZWQ6byxpdjpyfSk7cmV0dXJuIGU9PT1HZT9lcyhzKTpzfWZ1bmN0aW9uIGJhKHQsZSl7Y29uc3R7c2VhbGVkOm59PXplKHtlbmNvZGVkOnQsZW5jb2Rpbmc6ZX0pO3JldHVybiBpdChuLHNlKX1mdW5jdGlvbiBGbih0KXtpZihadCh0LnR5cGUpPT09d2UpcmV0dXJuIGl0KGxlKFt0LnR5cGUsdC5zZWFsZWRdKSxvZSk7aWYoWnQodC50eXBlKT09PWllKXtpZih0eXBlb2YgdC5zZW5kZXJQdWJsaWNLZXk+XCJ1XCIpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBzZW5kZXIgcHVibGljIGtleSBmb3IgdHlwZSAxIGVudmVsb3BlXCIpO3JldHVybiBpdChsZShbdC50eXBlLHQuc2VuZGVyUHVibGljS2V5LHQuaXYsdC5zZWFsZWRdKSxvZSl9cmV0dXJuIGl0KGxlKFt0LnR5cGUsdC5pdix0LnNlYWxlZF0pLG9lKX1mdW5jdGlvbiB6ZSh0KXtjb25zdCBlPSh0LmVuY29kaW5nfHxvZSk9PT1HZT9ucyh0LmVuY29kZWQpOnQuZW5jb2RlZCxuPWF0KGUsb2UpLHI9bi5zbGljZShjYSx0cyksbz10cztpZihadChyKT09PWllKXtjb25zdCBmPW8rS24sdT1mK3ZlLGE9bi5zbGljZShvLGYpLGw9bi5zbGljZShmLHUpLGQ9bi5zbGljZSh1KTtyZXR1cm57dHlwZTpyLHNlYWxlZDpkLGl2Omwsc2VuZGVyUHVibGljS2V5OmF9fWlmKFp0KHIpPT09d2Upe2NvbnN0IGY9bi5zbGljZShvKSx1PU10KHZlKTtyZXR1cm57dHlwZTpyLHNlYWxlZDpmLGl2OnV9fWNvbnN0IHM9byt2ZSxpPW4uc2xpY2UobyxzKSxjPW4uc2xpY2Uocyk7cmV0dXJue3R5cGU6cixzZWFsZWQ6YyxpdjppfX1mdW5jdGlvbiB5YSh0LGUpe2NvbnN0IG49emUoe2VuY29kZWQ6dCxlbmNvZGluZzplPy5lbmNvZGluZ30pO3JldHVybiBycyh7dHlwZTpadChuLnR5cGUpLHNlbmRlclB1YmxpY0tleTp0eXBlb2Ygbi5zZW5kZXJQdWJsaWNLZXk8XCJ1XCI/aXQobi5zZW5kZXJQdWJsaWNLZXkscnQpOnZvaWQgMCxyZWNlaXZlclB1YmxpY0tleTplPy5yZWNlaXZlclB1YmxpY0tleX0pfWZ1bmN0aW9uIHJzKHQpe2NvbnN0IGU9dD8udHlwZXx8TW47aWYoZT09PWllKXtpZih0eXBlb2YgdD8uc2VuZGVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIm1pc3Npbmcgc2VuZGVyIHB1YmxpYyBrZXlcIik7aWYodHlwZW9mIHQ/LnJlY2VpdmVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgcmVjZWl2ZXIgcHVibGljIGtleVwiKX1yZXR1cm57dHlwZTplLHNlbmRlclB1YmxpY0tleTp0Py5zZW5kZXJQdWJsaWNLZXkscmVjZWl2ZXJQdWJsaWNLZXk6dD8ucmVjZWl2ZXJQdWJsaWNLZXl9fWZ1bmN0aW9uIG1hKHQpe3JldHVybiB0LnR5cGU9PT1pZSYmdHlwZW9mIHQuc2VuZGVyUHVibGljS2V5PT1cInN0cmluZ1wiJiZ0eXBlb2YgdC5yZWNlaXZlclB1YmxpY0tleT09XCJzdHJpbmdcIn1mdW5jdGlvbiB3YSh0KXtyZXR1cm4gdC50eXBlPT09d2V9ZnVuY3Rpb24gb3ModCl7Y29uc3QgZT1CdWZmZXIuZnJvbSh0LngsXCJiYXNlNjRcIiksbj1CdWZmZXIuZnJvbSh0LnksXCJiYXNlNjRcIik7cmV0dXJuIGxlKFtuZXcgVWludDhBcnJheShbNF0pLGUsbl0pfWZ1bmN0aW9uIHZhKHQsZSl7Y29uc3RbbixyLG9dPXQuc3BsaXQoXCIuXCIpLHM9QnVmZmVyLmZyb20obnMobyksXCJiYXNlNjRcIik7aWYocy5sZW5ndGghPT02NCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hdHVyZSBsZW5ndGhcIik7Y29uc3QgaT1zLnNsaWNlKDAsMzIpLGM9cy5zbGljZSgzMiw2NCksZj1gJHtufS4ke3J9YCx1PVBlKGYpLGE9b3MoZSk7aWYoIWlhLnZlcmlmeShsZShbaSxjXSksdSxhKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hdHVyZVwiKTtyZXR1cm4gRnModCkucGF5bG9hZH1jb25zdCBzcz1cImlyblwiO2Z1bmN0aW9uIHhhKHQpe3JldHVybiB0Py5yZWxheXx8e3Byb3RvY29sOnNzfX1mdW5jdGlvbiBFYSh0KXtjb25zdCBlPVpzW3RdO2lmKHR5cGVvZiBlPlwidVwiKXRocm93IG5ldyBFcnJvcihgUmVsYXkgUHJvdG9jb2wgbm90IHN1cHBvcnRlZDogJHt0fWApO3JldHVybiBlfXZhciBCYT1PYmplY3QuZGVmaW5lUHJvcGVydHksQWE9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsSWE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsaXM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxTYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LE9hPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsY3M9KHQsZSxuKT0+ZSBpbiB0P0JhKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bixabj0odCxlKT0+e2Zvcih2YXIgbiBpbiBlfHwoZT17fSkpU2EuY2FsbChlLG4pJiZjcyh0LG4sZVtuXSk7aWYoaXMpZm9yKHZhciBuIG9mIGlzKGUpKU9hLmNhbGwoZSxuKSYmY3ModCxuLGVbbl0pO3JldHVybiB0fSxOYT0odCxlKT0+QWEodCxJYShlKSk7ZnVuY3Rpb24gZnModCxlPVwiLVwiKXtjb25zdCBuPXt9LHI9XCJyZWxheVwiK2U7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gobz0+e2lmKG8uc3RhcnRzV2l0aChyKSl7Y29uc3Qgcz1vLnJlcGxhY2UocixcIlwiKSxpPXRbb107bltzXT1pfX0pLG59ZnVuY3Rpb24gVWEodCl7aWYoIXQuaW5jbHVkZXMoXCJ3YzpcIikpe2NvbnN0IHU9Y24odCk7dSE9bnVsbCYmdS5pbmNsdWRlcyhcIndjOlwiKSYmKHQ9dSl9dD10LmluY2x1ZGVzKFwid2M6Ly9cIik/dC5yZXBsYWNlKFwid2M6Ly9cIixcIlwiKTp0LHQ9dC5pbmNsdWRlcyhcIndjOlwiKT90LnJlcGxhY2UoXCJ3YzpcIixcIlwiKTp0O2NvbnN0IGU9dC5pbmRleE9mKFwiOlwiKSxuPXQuaW5kZXhPZihcIj9cIikhPT0tMT90LmluZGV4T2YoXCI/XCIpOnZvaWQgMCxyPXQuc3Vic3RyaW5nKDAsZSksbz10LnN1YnN0cmluZyhlKzEsbikuc3BsaXQoXCJAXCIpLHM9dHlwZW9mIG48XCJ1XCI/dC5zdWJzdHJpbmcobik6XCJcIixpPW5ldyBVUkxTZWFyY2hQYXJhbXMocyksYz1PYmplY3QuZnJvbUVudHJpZXMoaS5lbnRyaWVzKCkpLGY9dHlwZW9mIGMubWV0aG9kcz09XCJzdHJpbmdcIj9jLm1ldGhvZHMuc3BsaXQoXCIsXCIpOnZvaWQgMDtyZXR1cm57cHJvdG9jb2w6cix0b3BpYzphcyhvWzBdKSx2ZXJzaW9uOnBhcnNlSW50KG9bMV0sMTApLHN5bUtleTpjLnN5bUtleSxyZWxheTpmcyhjKSxtZXRob2RzOmYsZXhwaXJ5VGltZXN0YW1wOmMuZXhwaXJ5VGltZXN0YW1wP3BhcnNlSW50KGMuZXhwaXJ5VGltZXN0YW1wLDEwKTp2b2lkIDB9fWZ1bmN0aW9uIGFzKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgoXCIvL1wiKT90LnN1YnN0cmluZygyKTp0fWZ1bmN0aW9uIHVzKHQsZT1cIi1cIil7Y29uc3Qgbj1cInJlbGF5XCIscj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChvPT57Y29uc3Qgcz1vLGk9bitlK3M7dFtzXSYmKHJbaV09dFtzXSl9KSxyfWZ1bmN0aW9uIF9hKHQpe2NvbnN0IGU9bmV3IFVSTFNlYXJjaFBhcmFtcyxuPVpuKFpuKE5hKFpuKHt9LHVzKHQucmVsYXkpKSx7c3ltS2V5OnQuc3ltS2V5fSksdC5leHBpcnlUaW1lc3RhbXAmJntleHBpcnlUaW1lc3RhbXA6dC5leHBpcnlUaW1lc3RhbXAudG9TdHJpbmcoKX0pLHQubWV0aG9kcyYme21ldGhvZHM6dC5tZXRob2RzLmpvaW4oXCIsXCIpfSk7cmV0dXJuIE9iamVjdC5lbnRyaWVzKG4pLnNvcnQoKFtyXSxbb10pPT5yLmxvY2FsZUNvbXBhcmUobykpLmZvckVhY2goKFtyLG9dKT0+e28hPT12b2lkIDAmJmUuYXBwZW5kKHIsU3RyaW5nKG8pKX0pLGAke3QucHJvdG9jb2x9OiR7dC50b3BpY31AJHt0LnZlcnNpb259PyR7ZX1gfWZ1bmN0aW9uIFJhKHQsZSxuKXtyZXR1cm5gJHt0fT93Y19ldj0ke259JnRvcGljPSR7ZX1gfXZhciAkYT1PYmplY3QuZGVmaW5lUHJvcGVydHksVGE9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsQ2E9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsbHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxqYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LExhPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsZHM9KHQsZSxuKT0+ZSBpbiB0PyRhKHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnRbZV09bixrYT0odCxlKT0+e2Zvcih2YXIgbiBpbiBlfHwoZT17fSkpamEuY2FsbChlLG4pJiZkcyh0LG4sZVtuXSk7aWYobHMpZm9yKHZhciBuIG9mIGxzKGUpKUxhLmNhbGwoZSxuKSYmZHModCxuLGVbbl0pO3JldHVybiB0fSxQYT0odCxlKT0+VGEodCxDYShlKSk7ZnVuY3Rpb24gR3QodCl7Y29uc3QgZT1bXTtyZXR1cm4gdC5mb3JFYWNoKG49Pntjb25zdFtyLG9dPW4uc3BsaXQoXCI6XCIpO2UucHVzaChgJHtyfToke299YCl9KSxlfWZ1bmN0aW9uIGhzKHQpe2NvbnN0IGU9W107cmV0dXJuIE9iamVjdC52YWx1ZXModCkuZm9yRWFjaChuPT57ZS5wdXNoKC4uLkd0KG4uYWNjb3VudHMpKX0pLGV9ZnVuY3Rpb24gcHModCxlKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2gocj0+e0d0KHIuYWNjb3VudHMpLmluY2x1ZGVzKGUpJiZuLnB1c2goLi4uci5tZXRob2RzKX0pLG59ZnVuY3Rpb24gZ3ModCxlKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3QudmFsdWVzKHQpLmZvckVhY2gocj0+e0d0KHIuYWNjb3VudHMpLmluY2x1ZGVzKGUpJiZuLnB1c2goLi4uci5ldmVudHMpfSksbn1mdW5jdGlvbiBIYSh0LGUpe2NvbnN0IG49U3ModCxlKTtpZihuKXRocm93IG5ldyBFcnJvcihuLm1lc3NhZ2UpO2NvbnN0IHI9e307Zm9yKGNvbnN0W28sc11vZiBPYmplY3QuZW50cmllcyh0KSlyW29dPXttZXRob2RzOnMubWV0aG9kcyxldmVudHM6cy5ldmVudHMsY2hhaW5zOnMuYWNjb3VudHMubWFwKGk9PmAke2kuc3BsaXQoXCI6XCIpWzBdfToke2kuc3BsaXQoXCI6XCIpWzFdfWApfTtyZXR1cm4gcn1mdW5jdGlvbiBEYSh0KXt2YXIgZTtjb25zdHtwcm9wb3NhbDp7cmVxdWlyZWROYW1lc3BhY2VzOm4sb3B0aW9uYWxOYW1lc3BhY2VzOnI9e319LHN1cHBvcnRlZE5hbWVzcGFjZXM6b309dCxzPXhlKG4pLGk9eGUociksYz17fTtPYmplY3Qua2V5cyhvKS5mb3JFYWNoKGE9Pntjb25zdCBsPW9bYV0uY2hhaW5zLGQ9b1thXS5tZXRob2RzLGg9b1thXS5ldmVudHMseT1vW2FdLmFjY291bnRzO2wuZm9yRWFjaChtPT57aWYoIXkuc29tZSh2PT52LmluY2x1ZGVzKG0pKSl0aHJvdyBuZXcgRXJyb3IoYE5vIGFjY291bnRzIHByb3ZpZGVkIGZvciBjaGFpbiAke219IGluIG5hbWVzcGFjZSAke2F9YCl9KSxjW2FdPXtjaGFpbnM6bCxtZXRob2RzOmQsZXZlbnRzOmgsYWNjb3VudHM6eX19KTtjb25zdCBmPU5zKG4sYyxcImFwcHJvdmUoKVwiKTtpZihmKXRocm93IG5ldyBFcnJvcihmLm1lc3NhZ2UpO2NvbnN0IHU9e307aWYoIU9iamVjdC5rZXlzKG4pLmxlbmd0aCYmIU9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gYztPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGE9Pntjb25zdCBsPW9bYV0uY2hhaW5zLmZpbHRlcihtPT57dmFyIHYsVTtyZXR1cm4oVT0odj1zW2FdKT09bnVsbD92b2lkIDA6di5jaGFpbnMpPT1udWxsP3ZvaWQgMDpVLmluY2x1ZGVzKG0pfSksZD1vW2FdLm1ldGhvZHMuZmlsdGVyKG09Pnt2YXIgdixVO3JldHVybihVPSh2PXNbYV0pPT1udWxsP3ZvaWQgMDp2Lm1ldGhvZHMpPT1udWxsP3ZvaWQgMDpVLmluY2x1ZGVzKG0pfSksaD1vW2FdLmV2ZW50cy5maWx0ZXIobT0+e3ZhciB2LFU7cmV0dXJuKFU9KHY9c1thXSk9PW51bGw/dm9pZCAwOnYuZXZlbnRzKT09bnVsbD92b2lkIDA6VS5pbmNsdWRlcyhtKX0pLHk9bC5tYXAobT0+b1thXS5hY2NvdW50cy5maWx0ZXIodj0+di5pbmNsdWRlcyhgJHttfTpgKSkpLmZsYXQoKTt1W2FdPXtjaGFpbnM6bCxtZXRob2RzOmQsZXZlbnRzOmgsYWNjb3VudHM6eX19KSxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGE9Pnt2YXIgbCxkLGgseSxtLHY7aWYoIW9bYV0pcmV0dXJuO2NvbnN0IFU9KGQ9KGw9aVthXSk9PW51bGw/dm9pZCAwOmwuY2hhaW5zKT09bnVsbD92b2lkIDA6ZC5maWx0ZXIoSD0+b1thXS5jaGFpbnMuaW5jbHVkZXMoSCkpLEY9b1thXS5tZXRob2RzLmZpbHRlcihIPT57dmFyIGosTDtyZXR1cm4oTD0oaj1pW2FdKT09bnVsbD92b2lkIDA6ai5tZXRob2RzKT09bnVsbD92b2lkIDA6TC5pbmNsdWRlcyhIKX0pLFI9b1thXS5ldmVudHMuZmlsdGVyKEg9Pnt2YXIgaixMO3JldHVybihMPShqPWlbYV0pPT1udWxsP3ZvaWQgMDpqLmV2ZW50cyk9PW51bGw/dm9pZCAwOkwuaW5jbHVkZXMoSCl9KSxaPVU/Lm1hcChIPT5vW2FdLmFjY291bnRzLmZpbHRlcihqPT5qLmluY2x1ZGVzKGAke0h9OmApKSkuZmxhdCgpO3VbYV09e2NoYWluczp1dCgoaD11W2FdKT09bnVsbD92b2lkIDA6aC5jaGFpbnMsVSksbWV0aG9kczp1dCgoeT11W2FdKT09bnVsbD92b2lkIDA6eS5tZXRob2RzLEYpLGV2ZW50czp1dCgobT11W2FdKT09bnVsbD92b2lkIDA6bS5ldmVudHMsUiksYWNjb3VudHM6dXQoKHY9dVthXSk9PW51bGw/dm9pZCAwOnYuYWNjb3VudHMsWil9fSk7Zm9yKGNvbnN0W2EsbF1vZiBPYmplY3QuZW50cmllcyh1KSkobC5hY2NvdW50cy5sZW5ndGg9PT0wfHwoKGU9bD8uY2hhaW5zKT09bnVsbD92b2lkIDA6ZS5sZW5ndGgpPT09MCkmJmRlbGV0ZSB1W2FdO3JldHVybiB1fWZ1bmN0aW9uIEduKHQpe3JldHVybiB0LmluY2x1ZGVzKFwiOlwiKX1mdW5jdGlvbiBicyh0KXtyZXR1cm4gR24odCk/dC5zcGxpdChcIjpcIilbMF06dH1mdW5jdGlvbiB4ZSh0KXt2YXIgZSxuLHI7Y29uc3Qgbz17fTtpZighWWUodCkpcmV0dXJuIG87Zm9yKGNvbnN0W3MsaV1vZiBPYmplY3QuZW50cmllcyh0KSl7Y29uc3QgYz1HbihzKT9bc106aS5jaGFpbnMsZj1pLm1ldGhvZHN8fFtdLHU9aS5ldmVudHN8fFtdLGE9YnMocyk7b1thXT1QYShrYSh7fSxvW2FdKSx7Y2hhaW5zOnV0KGMsKGU9b1thXSk9PW51bGw/dm9pZCAwOmUuY2hhaW5zKSxtZXRob2RzOnV0KGYsKG49b1thXSk9PW51bGw/dm9pZCAwOm4ubWV0aG9kcyksZXZlbnRzOnV0KHUsKHI9b1thXSk9PW51bGw/dm9pZCAwOnIuZXZlbnRzKX0pfXJldHVybiBvfWZ1bmN0aW9uIHlzKHQpe2NvbnN0IGU9e307cmV0dXJuIHQ/LmZvckVhY2gobj0+e3ZhciByO2NvbnN0W28sc109bi5zcGxpdChcIjpcIik7ZVtvXXx8KGVbb109e2FjY291bnRzOltdLGNoYWluczpbXSxldmVudHM6W10sbWV0aG9kczpbXX0pLGVbb10uYWNjb3VudHMucHVzaChuKSwocj1lW29dLmNoYWlucyk9PW51bGx8fHIucHVzaChgJHtvfToke3N9YCl9KSxlfWZ1bmN0aW9uIFZhKHQsZSl7ZT1lLm1hcChyPT5yLnJlcGxhY2UoXCJkaWQ6cGtoOlwiLFwiXCIpKTtjb25zdCBuPXlzKGUpO2Zvcihjb25zdFtyLG9db2YgT2JqZWN0LmVudHJpZXMobikpby5tZXRob2RzP28ubWV0aG9kcz11dChvLm1ldGhvZHMsdCk6by5tZXRob2RzPXQsby5ldmVudHM9W1wiY2hhaW5DaGFuZ2VkXCIsXCJhY2NvdW50c0NoYW5nZWRcIl07cmV0dXJuIG59ZnVuY3Rpb24gTWEodCxlKXt2YXIgbixyLG8scyxpLGM7Y29uc3QgZj14ZSh0KSx1PXhlKGUpLGE9e30sbD1PYmplY3Qua2V5cyhmKS5jb25jYXQoT2JqZWN0LmtleXModSkpO2Zvcihjb25zdCBkIG9mIGwpYVtkXT17Y2hhaW5zOnV0KChuPWZbZF0pPT1udWxsP3ZvaWQgMDpuLmNoYWlucywocj11W2RdKT09bnVsbD92b2lkIDA6ci5jaGFpbnMpLG1ldGhvZHM6dXQoKG89ZltkXSk9PW51bGw/dm9pZCAwOm8ubWV0aG9kcywocz11W2RdKT09bnVsbD92b2lkIDA6cy5tZXRob2RzKSxldmVudHM6dXQoKGk9ZltkXSk9PW51bGw/dm9pZCAwOmkuZXZlbnRzLChjPXVbZF0pPT1udWxsP3ZvaWQgMDpjLmV2ZW50cyl9O3JldHVybiBhfWNvbnN0IG1zPXtJTlZBTElEX01FVEhPRDp7bWVzc2FnZTpcIkludmFsaWQgbWV0aG9kLlwiLGNvZGU6MTAwMX0sSU5WQUxJRF9FVkVOVDp7bWVzc2FnZTpcIkludmFsaWQgZXZlbnQuXCIsY29kZToxMDAyfSxJTlZBTElEX1VQREFURV9SRVFVRVNUOnttZXNzYWdlOlwiSW52YWxpZCB1cGRhdGUgcmVxdWVzdC5cIixjb2RlOjEwMDN9LElOVkFMSURfRVhURU5EX1JFUVVFU1Q6e21lc3NhZ2U6XCJJbnZhbGlkIGV4dGVuZCByZXF1ZXN0LlwiLGNvZGU6MTAwNH0sSU5WQUxJRF9TRVNTSU9OX1NFVFRMRV9SRVFVRVNUOnttZXNzYWdlOlwiSW52YWxpZCBzZXNzaW9uIHNldHRsZSByZXF1ZXN0LlwiLGNvZGU6MTAwNX0sVU5BVVRIT1JJWkVEX01FVEhPRDp7bWVzc2FnZTpcIlVuYXV0aG9yaXplZCBtZXRob2QuXCIsY29kZTozMDAxfSxVTkFVVEhPUklaRURfRVZFTlQ6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgZXZlbnQuXCIsY29kZTozMDAyfSxVTkFVVEhPUklaRURfVVBEQVRFX1JFUVVFU1Q6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgdXBkYXRlIHJlcXVlc3QuXCIsY29kZTozMDAzfSxVTkFVVEhPUklaRURfRVhURU5EX1JFUVVFU1Q6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgZXh0ZW5kIHJlcXVlc3QuXCIsY29kZTozMDA0fSxVU0VSX1JFSkVDVEVEOnttZXNzYWdlOlwiVXNlciByZWplY3RlZC5cIixjb2RlOjVlM30sVVNFUl9SRUpFQ1RFRF9DSEFJTlM6e21lc3NhZ2U6XCJVc2VyIHJlamVjdGVkIGNoYWlucy5cIixjb2RlOjUwMDF9LFVTRVJfUkVKRUNURURfTUVUSE9EUzp7bWVzc2FnZTpcIlVzZXIgcmVqZWN0ZWQgbWV0aG9kcy5cIixjb2RlOjUwMDJ9LFVTRVJfUkVKRUNURURfRVZFTlRTOnttZXNzYWdlOlwiVXNlciByZWplY3RlZCBldmVudHMuXCIsY29kZTo1MDAzfSxVTlNVUFBPUlRFRF9DSEFJTlM6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBjaGFpbnMuXCIsY29kZTo1MTAwfSxVTlNVUFBPUlRFRF9NRVRIT0RTOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgbWV0aG9kcy5cIixjb2RlOjUxMDF9LFVOU1VQUE9SVEVEX0VWRU5UUzp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIGV2ZW50cy5cIixjb2RlOjUxMDJ9LFVOU1VQUE9SVEVEX0FDQ09VTlRTOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgYWNjb3VudHMuXCIsY29kZTo1MTAzfSxVTlNVUFBPUlRFRF9OQU1FU1BBQ0VfS0VZOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgbmFtZXNwYWNlIGtleS5cIixjb2RlOjUxMDR9LFVTRVJfRElTQ09OTkVDVEVEOnttZXNzYWdlOlwiVXNlciBkaXNjb25uZWN0ZWQuXCIsY29kZTo2ZTN9LFNFU1NJT05fU0VUVExFTUVOVF9GQUlMRUQ6e21lc3NhZ2U6XCJTZXNzaW9uIHNldHRsZW1lbnQgZmFpbGVkLlwiLGNvZGU6N2UzfSxXQ19NRVRIT0RfVU5TVVBQT1JURUQ6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCB3Y18gbWV0aG9kLlwiLGNvZGU6MTAwMDF9fSx3cz17Tk9UX0lOSVRJQUxJWkVEOnttZXNzYWdlOlwiTm90IGluaXRpYWxpemVkLlwiLGNvZGU6MX0sTk9fTUFUQ0hJTkdfS0VZOnttZXNzYWdlOlwiTm8gbWF0Y2hpbmcga2V5LlwiLGNvZGU6Mn0sUkVTVE9SRV9XSUxMX09WRVJSSURFOnttZXNzYWdlOlwiUmVzdG9yZSB3aWxsIG92ZXJyaWRlLlwiLGNvZGU6M30sUkVTVUJTQ1JJQkVEOnttZXNzYWdlOlwiUmVzdWJzY3JpYmVkLlwiLGNvZGU6NH0sTUlTU0lOR19PUl9JTlZBTElEOnttZXNzYWdlOlwiTWlzc2luZyBvciBpbnZhbGlkLlwiLGNvZGU6NX0sRVhQSVJFRDp7bWVzc2FnZTpcIkV4cGlyZWQuXCIsY29kZTo2fSxVTktOT1dOX1RZUEU6e21lc3NhZ2U6XCJVbmtub3duIHR5cGUuXCIsY29kZTo3fSxNSVNNQVRDSEVEX1RPUElDOnttZXNzYWdlOlwiTWlzbWF0Y2hlZCB0b3BpYy5cIixjb2RlOjh9LE5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVM6e21lc3NhZ2U6XCJOb24gY29uZm9ybWluZyBuYW1lc3BhY2VzLlwiLGNvZGU6OX19O2Z1bmN0aW9uIEJ0KHQsZSl7Y29uc3R7bWVzc2FnZTpuLGNvZGU6cn09d3NbdF07cmV0dXJue21lc3NhZ2U6ZT9gJHtufSAke2V9YDpuLGNvZGU6cn19ZnVuY3Rpb24genQodCxlKXtjb25zdHttZXNzYWdlOm4sY29kZTpyfT1tc1t0XTtyZXR1cm57bWVzc2FnZTplP2Ake259ICR7ZX1gOm4sY29kZTpyfX1mdW5jdGlvbiBFZSh0LGUpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3R5cGVvZiBlPFwidVwiJiZ0Lmxlbmd0aD90LmV2ZXJ5KGUpOiEwOiExfWZ1bmN0aW9uIFllKHQpe3JldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1PYmplY3QucHJvdG90eXBlJiZPYmplY3Qua2V5cyh0KS5sZW5ndGh9ZnVuY3Rpb24gRHQodCl7cmV0dXJuIHR5cGVvZiB0PlwidVwifWZ1bmN0aW9uIGZ0KHQsZSl7cmV0dXJuIGUmJkR0KHQpPyEwOnR5cGVvZiB0PT1cInN0cmluZ1wiJiYhIXQudHJpbSgpLmxlbmd0aH1mdW5jdGlvbiBXZSh0LGUpe3JldHVybiBlJiZEdCh0KT8hMDp0eXBlb2YgdD09XCJudW1iZXJcIiYmIWlzTmFOKHQpfWZ1bmN0aW9uIEthKHQsZSl7Y29uc3R7cmVxdWlyZWROYW1lc3BhY2VzOm59PWUscj1PYmplY3Qua2V5cyh0Lm5hbWVzcGFjZXMpLG89T2JqZWN0LmtleXMobik7bGV0IHM9ITA7cmV0dXJuIEl0KG8scik/KHIuZm9yRWFjaChpPT57Y29uc3R7YWNjb3VudHM6YyxtZXRob2RzOmYsZXZlbnRzOnV9PXQubmFtZXNwYWNlc1tpXSxhPUd0KGMpLGw9bltpXTsoIUl0KEllKGksbCksYSl8fCFJdChsLm1ldGhvZHMsZil8fCFJdChsLmV2ZW50cyx1KSkmJihzPSExKX0pLHMpOiExfWZ1bmN0aW9uIEJlKHQpe3JldHVybiBmdCh0LCExKSYmdC5pbmNsdWRlcyhcIjpcIik/dC5zcGxpdChcIjpcIikubGVuZ3RoPT09MjohMX1mdW5jdGlvbiB2cyh0KXtpZihmdCh0LCExKSYmdC5pbmNsdWRlcyhcIjpcIikpe2NvbnN0IGU9dC5zcGxpdChcIjpcIik7aWYoZS5sZW5ndGg9PT0zKXtjb25zdCBuPWVbMF0rXCI6XCIrZVsxXTtyZXR1cm4hIWVbMl0mJkJlKG4pfX1yZXR1cm4hMX1mdW5jdGlvbiBxYSh0KXtmdW5jdGlvbiBlKG4pe3RyeXtyZXR1cm4gdHlwZW9mIG5ldyBVUkwobik8XCJ1XCJ9Y2F0Y2h7cmV0dXJuITF9fXRyeXtpZihmdCh0LCExKSl7aWYoZSh0KSlyZXR1cm4hMDtjb25zdCBuPWNuKHQpO3JldHVybiBlKG4pfX1jYXRjaHt9cmV0dXJuITF9ZnVuY3Rpb24gRmEodCl7dmFyIGU7cmV0dXJuKGU9dD8ucHJvcG9zZXIpPT1udWxsP3ZvaWQgMDplLnB1YmxpY0tleX1mdW5jdGlvbiBaYSh0KXtyZXR1cm4gdD8udG9waWN9ZnVuY3Rpb24gR2EodCxlKXtsZXQgbj1udWxsO3JldHVybiBmdCh0Py5wdWJsaWNLZXksITEpfHwobj1CdChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9IGNvbnRyb2xsZXIgcHVibGljIGtleSBzaG91bGQgYmUgYSBzdHJpbmdgKSksbn1mdW5jdGlvbiB6bih0KXtsZXQgZT0hMDtyZXR1cm4gRWUodCk/dC5sZW5ndGgmJihlPXQuZXZlcnkobj0+ZnQobiwhMSkpKTplPSExLGV9ZnVuY3Rpb24geHModCxlLG4pe2xldCByPW51bGw7cmV0dXJuIEVlKGUpJiZlLmxlbmd0aD9lLmZvckVhY2gobz0+e3J8fEJlKG8pfHwocj16dChcIlVOU1VQUE9SVEVEX0NIQUlOU1wiLGAke259LCBjaGFpbiAke299IHNob3VsZCBiZSBhIHN0cmluZyBhbmQgY29uZm9ybSB0byBcIm5hbWVzcGFjZTpjaGFpbklkXCIgZm9ybWF0YCkpfSk6QmUodCl8fChyPXp0KFwiVU5TVVBQT1JURURfQ0hBSU5TXCIsYCR7bn0sIGNoYWlucyBtdXN0IGJlIGRlZmluZWQgYXMgXCJuYW1lc3BhY2U6Y2hhaW5JZFwiIGUuZy4gXCJlaXAxNTU6MVwiOiB7Li4ufSBpbiB0aGUgbmFtZXNwYWNlIGtleSBPUiBhcyBhbiBhcnJheSBvZiBDQUlQLTIgY2hhaW5JZHMgZS5nLiBlaXAxNTU6IHsgY2hhaW5zOiBbXCJlaXAxNTU6MVwiLCBcImVpcDE1NTo1XCJdIH1gKSkscn1mdW5jdGlvbiBFcyh0LGUsbil7bGV0IHI9bnVsbDtyZXR1cm4gT2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW28sc10pPT57aWYocilyZXR1cm47Y29uc3QgaT14cyhvLEllKG8scyksYCR7ZX0gJHtufWApO2kmJihyPWkpfSkscn1mdW5jdGlvbiBCcyh0LGUpe2xldCBuPW51bGw7cmV0dXJuIEVlKHQpP3QuZm9yRWFjaChyPT57bnx8dnMocil8fChuPXp0KFwiVU5TVVBQT1JURURfQUNDT1VOVFNcIixgJHtlfSwgYWNjb3VudCAke3J9IHNob3VsZCBiZSBhIHN0cmluZyBhbmQgY29uZm9ybSB0byBcIm5hbWVzcGFjZTpjaGFpbklkOmFkZHJlc3NcIiBmb3JtYXRgKSl9KTpuPXp0KFwiVU5TVVBQT1JURURfQUNDT1VOVFNcIixgJHtlfSwgYWNjb3VudHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3MgY29uZm9ybWluZyB0byBcIm5hbWVzcGFjZTpjaGFpbklkOmFkZHJlc3NcIiBmb3JtYXRgKSxufWZ1bmN0aW9uIEFzKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntpZihuKXJldHVybjtjb25zdCBvPUJzKHI/LmFjY291bnRzLGAke2V9IG5hbWVzcGFjZWApO28mJihuPW8pfSksbn1mdW5jdGlvbiBJcyh0LGUpe2xldCBuPW51bGw7cmV0dXJuIHpuKHQ/Lm1ldGhvZHMpP3puKHQ/LmV2ZW50cyl8fChuPXp0KFwiVU5TVVBQT1JURURfRVZFTlRTXCIsYCR7ZX0sIGV2ZW50cyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBvciBlbXB0eSBhcnJheSBmb3Igbm8gZXZlbnRzYCkpOm49enQoXCJVTlNVUFBPUlRFRF9NRVRIT0RTXCIsYCR7ZX0sIG1ldGhvZHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgZW1wdHkgYXJyYXkgZm9yIG5vIG1ldGhvZHNgKSxufWZ1bmN0aW9uIFluKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntpZihuKXJldHVybjtjb25zdCBvPUlzKHIsYCR7ZX0sIG5hbWVzcGFjZWApO28mJihuPW8pfSksbn1mdW5jdGlvbiB6YSh0LGUsbil7bGV0IHI9bnVsbDtpZih0JiZZZSh0KSl7Y29uc3Qgbz1Zbih0LGUpO28mJihyPW8pO2NvbnN0IHM9RXModCxlLG4pO3MmJihyPXMpfWVsc2Ugcj1CdChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9LCAke259IHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBkYXRhYCk7cmV0dXJuIHJ9ZnVuY3Rpb24gU3ModCxlKXtsZXQgbj1udWxsO2lmKHQmJlllKHQpKXtjb25zdCByPVluKHQsZSk7ciYmKG49cik7Y29uc3Qgbz1Bcyh0LGUpO28mJihuPW8pfWVsc2Ugbj1CdChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9LCBuYW1lc3BhY2VzIHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBkYXRhYCk7cmV0dXJuIG59ZnVuY3Rpb24gT3ModCl7cmV0dXJuIGZ0KHQucHJvdG9jb2wsITApfWZ1bmN0aW9uIFlhKHQsZSl7bGV0IG49ITE7cmV0dXJuIGUmJiF0P249ITA6dCYmRWUodCkmJnQubGVuZ3RoJiZ0LmZvckVhY2gocj0+e249T3Mocil9KSxufWZ1bmN0aW9uIFdhKHQpe3JldHVybiB0eXBlb2YgdD09XCJudW1iZXJcIn1mdW5jdGlvbiBYYSh0KXtyZXR1cm4gdHlwZW9mIHQ8XCJ1XCImJnR5cGVvZiB0IT09bnVsbH1mdW5jdGlvbiBKYSh0KXtyZXR1cm4hKCF0fHx0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQuY29kZXx8IVdlKHQuY29kZSwhMSl8fCF0Lm1lc3NhZ2V8fCFmdCh0Lm1lc3NhZ2UsITEpKX1mdW5jdGlvbiBRYSh0KXtyZXR1cm4hKER0KHQpfHwhZnQodC5tZXRob2QsITEpKX1mdW5jdGlvbiB0dSh0KXtyZXR1cm4hKER0KHQpfHxEdCh0LnJlc3VsdCkmJkR0KHQuZXJyb3IpfHwhV2UodC5pZCwhMSl8fCFmdCh0Lmpzb25ycGMsITEpKX1mdW5jdGlvbiBldSh0KXtyZXR1cm4hKER0KHQpfHwhZnQodC5uYW1lLCExKSl9ZnVuY3Rpb24gbnUodCxlKXtyZXR1cm4hKCFCZShlKXx8IWhzKHQpLmluY2x1ZGVzKGUpKX1mdW5jdGlvbiBydSh0LGUsbil7cmV0dXJuIGZ0KG4sITEpP3BzKHQsZSkuaW5jbHVkZXMobik6ITF9ZnVuY3Rpb24gb3UodCxlLG4pe3JldHVybiBmdChuLCExKT9ncyh0LGUpLmluY2x1ZGVzKG4pOiExfWZ1bmN0aW9uIE5zKHQsZSxuKXtsZXQgcj1udWxsO2NvbnN0IG89c3UodCkscz1pdShlKSxpPU9iamVjdC5rZXlzKG8pLGM9T2JqZWN0LmtleXMocyksZj1VcyhPYmplY3Qua2V5cyh0KSksdT1VcyhPYmplY3Qua2V5cyhlKSksYT1mLmZpbHRlcihsPT4hdS5pbmNsdWRlcyhsKSk7cmV0dXJuIGEubGVuZ3RoJiYocj1CdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGtleXMgZG9uJ3Qgc2F0aXNmeSByZXF1aXJlZE5hbWVzcGFjZXMuXG4gICAgICBSZXF1aXJlZDogJHthLnRvU3RyaW5nKCl9XG4gICAgICBSZWNlaXZlZDogJHtPYmplY3Qua2V5cyhlKS50b1N0cmluZygpfWApKSxJdChpLGMpfHwocj1CdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGNoYWlucyBkb24ndCBzYXRpc2Z5IHJlcXVpcmVkIG5hbWVzcGFjZXMuXG4gICAgICBSZXF1aXJlZDogJHtpLnRvU3RyaW5nKCl9XG4gICAgICBBcHByb3ZlZDogJHtjLnRvU3RyaW5nKCl9YCkpLE9iamVjdC5rZXlzKGUpLmZvckVhY2gobD0+e2lmKCFsLmluY2x1ZGVzKFwiOlwiKXx8cilyZXR1cm47Y29uc3QgZD1HdChlW2xdLmFjY291bnRzKTtkLmluY2x1ZGVzKGwpfHwocj1CdChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGFjY291bnRzIGRvbid0IHNhdGlzZnkgbmFtZXNwYWNlIGFjY291bnRzIGZvciAke2x9XG4gICAgICAgIFJlcXVpcmVkOiAke2x9XG4gICAgICAgIEFwcHJvdmVkOiAke2QudG9TdHJpbmcoKX1gKSl9KSxpLmZvckVhY2gobD0+e3J8fChJdChvW2xdLm1ldGhvZHMsc1tsXS5tZXRob2RzKT9JdChvW2xdLmV2ZW50cyxzW2xdLmV2ZW50cyl8fChyPUJ0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMgZXZlbnRzIGRvbid0IHNhdGlzZnkgbmFtZXNwYWNlIGV2ZW50cyBmb3IgJHtsfWApKTpyPUJ0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMgbWV0aG9kcyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBtZXRob2RzIGZvciAke2x9YCkpfSkscn1mdW5jdGlvbiBzdSh0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49Pnt2YXIgcjtuLmluY2x1ZGVzKFwiOlwiKT9lW25dPXRbbl06KHI9dFtuXS5jaGFpbnMpPT1udWxsfHxyLmZvckVhY2gobz0+e2Vbb109e21ldGhvZHM6dFtuXS5tZXRob2RzLGV2ZW50czp0W25dLmV2ZW50c319KX0pLGV9ZnVuY3Rpb24gVXModCl7cmV0dXJuWy4uLm5ldyBTZXQodC5tYXAoZT0+ZS5pbmNsdWRlcyhcIjpcIik/ZS5zcGxpdChcIjpcIilbMF06ZSkpXX1mdW5jdGlvbiBpdSh0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49PntpZihuLmluY2x1ZGVzKFwiOlwiKSllW25dPXRbbl07ZWxzZXtjb25zdCByPUd0KHRbbl0uYWNjb3VudHMpO3I/LmZvckVhY2gobz0+e2Vbb109e2FjY291bnRzOnRbbl0uYWNjb3VudHMuZmlsdGVyKHM9PnMuaW5jbHVkZXMoYCR7b306YCkpLG1ldGhvZHM6dFtuXS5tZXRob2RzLGV2ZW50czp0W25dLmV2ZW50c319KX19KSxlfWZ1bmN0aW9uIGN1KHQsZSl7cmV0dXJuIFdlKHQsITEpJiZ0PD1lLm1heCYmdD49ZS5taW59ZnVuY3Rpb24gZnUoKXtjb25zdCB0PVZ0KCk7cmV0dXJuIG5ldyBQcm9taXNlKGU9Pntzd2l0Y2godCl7Y2FzZSBldC5icm93c2VyOmUoX3MoKSk7YnJlYWs7Y2FzZSBldC5yZWFjdE5hdGl2ZTplKFJzKCkpO2JyZWFrO2Nhc2UgZXQubm9kZTplKCRzKCkpO2JyZWFrO2RlZmF1bHQ6ZSghMCl9fSl9ZnVuY3Rpb24gX3MoKXtyZXR1cm4gV3QoKSYmbmF2aWdhdG9yPy5vbkxpbmV9YXN5bmMgZnVuY3Rpb24gUnMoKXtpZihBdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZnbG9iYWwhPW51bGwmJmdsb2JhbC5OZXRJbmZvKXtjb25zdCB0PWF3YWl0KGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLk5ldEluZm8uZmV0Y2goKSk7cmV0dXJuIHQ/LmlzQ29ubmVjdGVkfXJldHVybiEwfWZ1bmN0aW9uICRzKCl7cmV0dXJuITB9ZnVuY3Rpb24gYXUodCl7c3dpdGNoKFZ0KCkpe2Nhc2UgZXQuYnJvd3NlcjpUcyh0KTticmVhaztjYXNlIGV0LnJlYWN0TmF0aXZlOkNzKHQpO2JyZWFrO2Nhc2UgZXQubm9kZTpicmVha319ZnVuY3Rpb24gVHModCl7IUF0KCkmJld0KCkmJih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCgpPT50KCEwKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCk9PnQoITEpKSl9ZnVuY3Rpb24gQ3ModCl7QXQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmZ2xvYmFsIT1udWxsJiZnbG9iYWwuTmV0SW5mbyYmZ2xvYmFsPy5OZXRJbmZvLmFkZEV2ZW50TGlzdGVuZXIoZT0+dChlPy5pc0Nvbm5lY3RlZCkpfWZ1bmN0aW9uIHV1KCl7dmFyIHQ7cmV0dXJuIFd0KCkmJmFlKCk/KCh0PWFlKCkpPT1udWxsP3ZvaWQgMDp0LnZpc2liaWxpdHlTdGF0ZSk9PT1cInZpc2libGVcIjohMH1jb25zdCBXbj17fTtjbGFzcyBsdXtzdGF0aWMgZ2V0KGUpe3JldHVybiBXbltlXX1zdGF0aWMgc2V0KGUsbil7V25bZV09bn1zdGF0aWMgZGVsZXRlKGUpe2RlbGV0ZSBXbltlXX19ZnVuY3Rpb24ganModCl7Y29uc3QgZT11ZS5kZWNvZGUodCk7aWYoZS5sZW5ndGg8MzMpdGhyb3cgbmV3IEVycm9yKFwiVG9vIHNob3J0IHRvIGNvbnRhaW4gYSBwdWJsaWMga2V5XCIpO3JldHVybiBlLnNsaWNlKDEsMzMpfWZ1bmN0aW9uIExzKHtwdWJsaWNLZXk6dCxzaWduYXR1cmU6ZSxwYXlsb2FkOm59KXt2YXIgcjtjb25zdCBvPVhuKG4ubWV0aG9kKSxzPTEyOHxwYXJzZUludCgoKHI9bi52ZXJzaW9uKT09bnVsbD92b2lkIDA6ci50b1N0cmluZygpKXx8XCI0XCIpLGk9aHUobi5hZGRyZXNzKSxjPW4uZXJhPT09XCIwMFwiP25ldyBVaW50OEFycmF5KFswXSk6WG4obi5lcmEpO2lmKGMubGVuZ3RoIT09MSYmYy5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZXJhIGxlbmd0aFwiKTtjb25zdCBmPXBhcnNlSW50KG4ubm9uY2UsMTYpLHU9bmV3IFVpbnQ4QXJyYXkoW2YmMjU1LGY+PjgmMjU1XSksYT1CaWdJbnQoYDB4JHtkdShuLnRpcCl9YCksbD1ndShhKSxkPW5ldyBVaW50OEFycmF5KFswLC4uLnQsaSwuLi5lLC4uLmMsLi4udSwuLi5sLC4uLm9dKSxoPXB1KGQubGVuZ3RoKzEpO3JldHVybiBuZXcgVWludDhBcnJheShbLi4uaCxzLC4uLmRdKX1mdW5jdGlvbiBrcyh0KXtjb25zdCBlPVhuKHQpLG49R3MoZSx2b2lkIDAsMzIpO3JldHVyblwiMHhcIitCdWZmZXIuZnJvbShuKS50b1N0cmluZyhcImhleFwiKX1mdW5jdGlvbiBYbih0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodC5yZXBsYWNlKC9eMHgvLFwiXCIpLm1hdGNoKC8uezEsMn0vZykubWFwKGU9PnBhcnNlSW50KGUsMTYpKSl9ZnVuY3Rpb24gZHUodCl7cmV0dXJuIHQuc3RhcnRzV2l0aChcIjB4XCIpP3Quc2xpY2UoMik6dH1mdW5jdGlvbiBodSh0KXtjb25zdCBlPXVlLmRlY29kZSh0KVswXTtyZXR1cm4gZT09PTQyPzA6ZT09PTYwPzI6MX1mdW5jdGlvbiBwdSh0KXtpZih0PDY0KXJldHVybiBuZXcgVWludDhBcnJheShbdDw8Ml0pO2lmKHQ8MTYzODQpe2NvbnN0IGU9dDw8MnwxO3JldHVybiBuZXcgVWludDhBcnJheShbZSYyNTUsZT4+OCYyNTVdKX1lbHNlIGlmKHQ8MTw8MzApe2NvbnN0IGU9dDw8MnwyO3JldHVybiBuZXcgVWludDhBcnJheShbZSYyNTUsZT4+OCYyNTUsZT4+MTYmMjU1LGU+PjI0JjI1NV0pfWVsc2UgdGhyb3cgbmV3IEVycm9yKFwiQ29tcGFjdCBlbmNvZGluZyA+IDJeMzAgbm90IHN1cHBvcnRlZFwiKX1mdW5jdGlvbiBndSh0KXtpZih0PEJpZ0ludCgxKTw8QmlnSW50KDYpKXJldHVybiBuZXcgVWludDhBcnJheShbTnVtYmVyKHQ8PEJpZ0ludCgyKSldKTtpZih0PEJpZ0ludCgxKTw8QmlnSW50KDE0KSl7Y29uc3QgZT10PDxCaWdJbnQoMil8QmlnSW50KDEpO3JldHVybiBuZXcgVWludDhBcnJheShbTnVtYmVyKGUmQmlnSW50KDI1NSkpLE51bWJlcihlPj5CaWdJbnQoOCkmQmlnSW50KDI1NSkpXSl9ZWxzZSBpZih0PEJpZ0ludCgxKTw8QmlnSW50KDMwKSl7Y29uc3QgZT10PDxCaWdJbnQoMil8QmlnSW50KDIpO3JldHVybiBuZXcgVWludDhBcnJheShbTnVtYmVyKGUmQmlnSW50KDI1NSkpLE51bWJlcihlPj5CaWdJbnQoOCkmQmlnSW50KDI1NSkpLE51bWJlcihlPj5CaWdJbnQoMTYpJkJpZ0ludCgyNTUpKSxOdW1iZXIoZT4+QmlnSW50KDI0KSZCaWdJbnQoMjU1KSldKX1lbHNlIHRocm93IG5ldyBFcnJvcihcIkJpZ0ludCBjb21wYWN0IGVuY29kaW5nIG5vdCBzdXBwb3J0ZWQgPiAyXjMwXCIpfWZ1bmN0aW9uIGJ1KHQpe2NvbnN0IGU9VWludDhBcnJheS5mcm9tKEJ1ZmZlci5mcm9tKHQuc2lnbmF0dXJlLFwiaGV4XCIpKSxuPWpzKHQudHJhbnNhY3Rpb24uYWRkcmVzcykscj1Mcyh7cHVibGljS2V5Om4sc2lnbmF0dXJlOmUscGF5bG9hZDp0LnRyYW5zYWN0aW9ufSksbz1CdWZmZXIuZnJvbShyKS50b1N0cmluZyhcImhleFwiKTtyZXR1cm4ga3Mobyl9ZXhwb3J0e1ZuIGFzIEJBU0UxMCxydCBhcyBCQVNFMTYsb2UgYXMgQkFTRTY0LEdlIGFzIEJBU0U2NFVSTCxzaSBhcyBDT0xPTixubiBhcyBERUZBVUxUX0RFUFRILFNlIGFzIEVNUFRZX1NQQUNFLGV0IGFzIEVOVl9NQVAsd3MgYXMgSU5URVJOQUxfRVJST1JTLGppIGFzIExpbWl0ZWRTZXQsbHUgYXMgTWVtb3J5U3RvcmUsaWkgYXMgT05FX1RIT1VTQU5ELGRyIGFzIFJFQUNUX05BVElWRV9QUk9EVUNULHNzIGFzIFJFTEFZRVJfREVGQVVMVF9QUk9UT0NPTCxtcyBhcyBTREtfRVJST1JTLHByIGFzIFNES19UWVBFLGhyIGFzIFNMQVNILE1uIGFzIFRZUEVfMCxpZSBhcyBUWVBFXzEsd2UgYXMgVFlQRV8yLHNlIGFzIFVURjgsZm8gYXMgYWRkUmVzb3VyY2VUb1JlY2FwLExzIGFzIGFkZFNpZ25hdHVyZVRvRXh0cmluc2ljLGdyIGFzIGFwcGVuZFRvUXVlcnlTdHJpbmcscGkgYXMgYXNzZXJ0VHlwZSx5biBhcyBhc3NpZ25BYmlsaXR5VG9BY3Rpb25zLGlvIGFzIGJhc2U2NERlY29kZSxzbyBhcyBiYXNlNjRFbmNvZGUsRGEgYXMgYnVpbGRBcHByb3ZlZE5hbWVzcGFjZXMsa2MgYXMgYnVpbGRBdXRoT2JqZWN0LFZhIGFzIGJ1aWxkTmFtZXNwYWNlc0Zyb21BdXRoLHVvIGFzIGJ1aWxkUmVjYXBTdGF0ZW1lbnQsYnUgYXMgYnVpbGRTaWduZWRFeHRyaW5zaWNIYXNoLFNpIGFzIGNhbGNFeHBpcnksdmkgYXMgY2FwaXRhbGl6ZSxFciBhcyBjYXBpdGFsaXplV29yZCx4aSBhcyBjcmVhdGVEZWxheWVkUHJvbWlzZSxWYyBhcyBjcmVhdGVFbmNvZGVkUmVjYXAsRWkgYXMgY3JlYXRlRXhwaXJpbmdQcm9taXNlLGNvIGFzIGNyZWF0ZVJlY2FwLGt0IGFzIGRlY29kZVJlY2FwLFp0IGFzIGRlY29kZVR5cGVCeXRlLGJhIGFzIGRlY29kZVR5cGVUd29FbnZlbG9wZSxwYSBhcyBkZWNyeXB0LGtzIGFzIGRlcml2ZUV4dHJpbnNpY0hhc2gsdWEgYXMgZGVyaXZlU3ltS2V5LHplIGFzIGRlc2VyaWFsaXplLENlIGFzIGVuY29kZVJlY2FwLHFuIGFzIGVuY29kZVR5cGVCeXRlLGdhIGFzIGVuY29kZVR5cGVUd29FbnZlbG9wZSxoYSBhcyBlbmNyeXB0LE5pIGFzIGVuZ2luZUV2ZW50LHdpIGFzIGVudW1pZnksQWMgYXMgZXh0cmFjdFNvbGFuYVRyYW5zYWN0aW9uSWQsc3IgYXMgZm9ybWF0QWNjb3VudElkLHpzIGFzIGZvcm1hdEFjY291bnRXaXRoQ2hhaW4sb3IgYXMgZm9ybWF0Q2hhaW5JZCxCciBhcyBmb3JtYXREZWVwbGlua1VybCxvbiBhcyBmb3JtYXRFeHBpcmVyVGFyZ2V0LEFpIGFzIGZvcm1hdElkVGFyZ2V0LGVvIGFzIGZvcm1hdE1lc3NhZ2UsZ2kgYXMgZm9ybWF0TWVzc2FnZUNvbnRleHQsdXMgYXMgZm9ybWF0UmVsYXlQYXJhbXMsZGkgYXMgZm9ybWF0UmVsYXlScGNVcmwsd24gYXMgZm9ybWF0U3RhdGVtZW50RnJvbVJlY2FwLEJpIGFzIGZvcm1hdFRvcGljVGFyZ2V0LHdyIGFzIGZvcm1hdFVBLF9hIGFzIGZvcm1hdFVyaSxjbiBhcyBmcm9tQmFzZTY0LGZhIGFzIGdlbmVyYXRlS2V5UGFpcixhYSBhcyBnZW5lcmF0ZVJhbmRvbUJ5dGVzMzIsR3QgYXMgZ2V0QWNjb3VudHNDaGFpbnMsV3MgYXMgZ2V0QWNjb3VudHNGcm9tTmFtZXNwYWNlcyxpciBhcyBnZXRBZGRyZXNzRnJvbUFjY291bnQsWXMgYXMgZ2V0QWRkcmVzc2VzRnJvbUFjY291bnRzLE9jIGFzIGdldEFsZ29yYW5kVHJhbnNhY3Rpb25JZCxhaSBhcyBnZXRBcHBJZCxiciBhcyBnZXRBcHBNZXRhZGF0YSxfcyBhcyBnZXRCcm93c2VyT25saW5lU3RhdHVzLGNyIGFzIGdldENoYWluRnJvbUFjY291bnQsZnIgYXMgZ2V0Q2hhaW5zRnJvbUFjY291bnRzLEllIGFzIGdldENoYWluc0Zyb21OYW1lc3BhY2UsWHMgYXMgZ2V0Q2hhaW5zRnJvbU5hbWVzcGFjZXMscWMgYXMgZ2V0Q2hhaW5zRnJvbVJlY2FwLEpzIGFzIGdldENoYWluc0Zyb21SZXF1aXJlZE5hbWVzcGFjZXMsc24gYXMgZ2V0Q29tbW9uVmFsdWVzSW5BcnJheXMsb3MgYXMgZ2V0Q3J5cHRvS2V5RnJvbUtleURhdGEsbm8gYXMgZ2V0RGVjb2RlZFJlY2FwRnJvbVJlc291cmNlcyxfaSBhcyBnZXREZWVwTGluayxibiBhcyBnZXREaWRBZGRyZXNzLFRlIGFzIGdldERpZEFkZHJlc3NTZWdtZW50cyxRciBhcyBnZXREaWRDaGFpbklkLFZ0IGFzIGdldEVudmlyb25tZW50LGhpIGFzIGdldEh0dHBVcmwsQnQgYXMgZ2V0SW50ZXJuYWxFcnJvcixtciBhcyBnZXRKYXZhc2NyaXB0SUQseXIgYXMgZ2V0SmF2YXNjcmlwdE9TLHhyIGFzIGdldExhc3RJdGVtcyxSYSBhcyBnZXRMaW5rTW9kZVVSTCxLYyBhcyBnZXRNZXRob2RzRnJvbVJlY2FwLHRvIGFzIGdldE5hbWVzcGFjZWREaWRDaGFpbklkLGhzIGFzIGdldE5hbWVzcGFjZXNDaGFpbnMsZ3MgYXMgZ2V0TmFtZXNwYWNlc0V2ZW50c0ZvckNoYWluSWQseXMgYXMgZ2V0TmFtZXNwYWNlc0Zyb21BY2NvdW50cyxwcyBhcyBnZXROYW1lc3BhY2VzTWV0aG9kc0ZvckNoYWluSWQsU2MgYXMgZ2V0TmVhclRyYW5zYWN0aW9uSWRGcm9tU2lnbmVkVHJhbnNhY3Rpb24sWXIgYXMgZ2V0TmVhclVpbnQ4QXJyYXlGcm9tQnl0ZXMsJHMgYXMgZ2V0Tm9kZU9ubGluZVN0YXR1cyxvbyBhcyBnZXRSZUNhcEFjdGlvbnMsUnMgYXMgZ2V0UmVhY3ROYXRpdmVPbmxpbmVTdGF0dXMsRGMgYXMgZ2V0UmVjYXBBYmlsaXRpZXNGcm9tUmVzb3VyY2UsamUgYXMgZ2V0UmVjYXBGcm9tUmVzb3VyY2VzLHJvIGFzIGdldFJlY2FwUmVzb3VyY2UsbGkgYXMgZ2V0UmVsYXlDbGllbnRNZXRhZGF0YSxFYSBhcyBnZXRSZWxheVByb3RvY29sQXBpLHhhIGFzIGdldFJlbGF5UHJvdG9jb2xOYW1lLEhhIGFzIGdldFJlcXVpcmVkTmFtZXNwYWNlc0Zyb21OYW1lc3BhY2VzLHp0IGFzIGdldFNka0Vycm9yLFJpIGFzIGdldFNlYXJjaFBhcmFtRnJvbVVSTCxOYyBhcyBnZXRTaWduRGlyZWN0SGFzaCxJYyBhcyBnZXRTdWlEaWdlc3QsdG4gYXMgZ2V0VW5pcXVlVmFsdWVzLFVjIGFzIGdldFdhbGxldFNlbmRDYWxsc0hhc2hlcyxVaSBhcyBoYW5kbGVEZWVwbGlua1JlZGlyZWN0LEl0IGFzIGhhc092ZXJsYXAsaG4gYXMgaGFzaEV0aGVyZXVtTWVzc2FnZSxsYSBhcyBoYXNoS2V5LGRhIGFzIGhhc2hNZXNzYWdlLGNpIGFzIGlzQW5kcm9pZCx1dSBhcyBpc0FwcFZpc2libGUsV3QgYXMgaXNCcm93c2VyLEduIGFzIGlzQ2FpcE5hbWVzcGFjZSxOcyBhcyBpc0NvbmZvcm1pbmdOYW1lc3BhY2VzLE9pIGFzIGlzRXhwaXJlZCxTciBhcyBpc0lmcmFtZSxmaSBhcyBpc0lvcyxybiBhcyBpc05vZGUsZnUgYXMgaXNPbmxpbmUsRmEgYXMgaXNQcm9wb3NhbFN0cnVjdCxBdCBhcyBpc1JlYWN0TmF0aXZlLG1uIGFzIGlzUmVjYXAsS2EgYXMgaXNTZXNzaW9uQ29tcGF0aWJsZSxaYSBhcyBpc1Nlc3Npb25TdHJ1Y3QsSXIgYXMgaXNUZWxlZ3JhbSxUaSBhcyBpc1Rlc3RSdW4sbWEgYXMgaXNUeXBlT25lRW52ZWxvcGUsd2EgYXMgaXNUeXBlVHdvRW52ZWxvcGUsRHQgYXMgaXNVbmRlZmluZWQsdnMgYXMgaXNWYWxpZEFjY291bnRJZCxCcyBhcyBpc1ZhbGlkQWNjb3VudHMsSXMgYXMgaXNWYWxpZEFjdGlvbnMsRWUgYXMgaXNWYWxpZEFycmF5LEJlIGFzIGlzVmFsaWRDaGFpbklkLHhzIGFzIGlzVmFsaWRDaGFpbnMsR2EgYXMgaXNWYWxpZENvbnRyb2xsZXIsenIgYXMgaXNWYWxpZEVpcDEyNzFTaWduYXR1cmUsR3IgYXMgaXNWYWxpZEVpcDE5MVNpZ25hdHVyZSxKYSBhcyBpc1ZhbGlkRXJyb3JSZWFzb24sZXUgYXMgaXNWYWxpZEV2ZW50LFdhIGFzIGlzVmFsaWRJZCxBcyBhcyBpc1ZhbGlkTmFtZXNwYWNlQWNjb3VudHMsWW4gYXMgaXNWYWxpZE5hbWVzcGFjZUFjdGlvbnMsRXMgYXMgaXNWYWxpZE5hbWVzcGFjZUNoYWlucyx6biBhcyBpc1ZhbGlkTmFtZXNwYWNlTWV0aG9kc09yRXZlbnRzLFNzIGFzIGlzVmFsaWROYW1lc3BhY2VzLG51IGFzIGlzVmFsaWROYW1lc3BhY2VzQ2hhaW5JZCxvdSBhcyBpc1ZhbGlkTmFtZXNwYWNlc0V2ZW50LHJ1IGFzIGlzVmFsaWROYW1lc3BhY2VzUmVxdWVzdCxXZSBhcyBpc1ZhbGlkTnVtYmVyLFllIGFzIGlzVmFsaWRPYmplY3QsWGEgYXMgaXNWYWxpZFBhcmFtcyx5dCBhcyBpc1ZhbGlkUmVjYXAsT3MgYXMgaXNWYWxpZFJlbGF5LFlhIGFzIGlzVmFsaWRSZWxheXMsUWEgYXMgaXNWYWxpZFJlcXVlc3QsY3UgYXMgaXNWYWxpZFJlcXVlc3RFeHBpcnksemEgYXMgaXNWYWxpZFJlcXVpcmVkTmFtZXNwYWNlcyx0dSBhcyBpc1ZhbGlkUmVzcG9uc2UsZnQgYXMgaXNWYWxpZFN0cmluZyxxYSBhcyBpc1ZhbGlkVXJsLG1pIGFzIG1hcEVudHJpZXMsYmkgYXMgbWFwVG9PYmosdXQgYXMgbWVyZ2VBcnJheXMsTWMgYXMgbWVyZ2VFbmNvZGVkUmVjYXBzLGFvIGFzIG1lcmdlUmVjYXBzLE1hIGFzIG1lcmdlUmVxdWlyZWRBbmRPcHRpb25hbE5hbWVzcGFjZXMseGUgYXMgbm9ybWFsaXplTmFtZXNwYWNlcyx5aSBhcyBvYmpUb01hcCxBciBhcyBvcGVuRGVlcGxpbmssUWUgYXMgcGFyc2VBY2NvdW50SWQsSmUgYXMgcGFyc2VDaGFpbklkLHZyIGFzIHBhcnNlQ29udGV4dE5hbWVzLElpIGFzIHBhcnNlRXhwaXJlclRhcmdldCxicyBhcyBwYXJzZU5hbWVzcGFjZUtleSxmcyBhcyBwYXJzZVJlbGF5UGFyYW1zLGFzIGFzIHBhcnNlVG9waWMsVWEgYXMgcGFyc2VVcmksdWkgYXMgcG9wdWxhdGVBcHBNZXRhZGF0YSxQYyBhcyBwb3B1bGF0ZUF1dGhQYXlsb2FkLEhjIGFzIHJlY2FwSGFzUmVzb3VyY2UsRm4gYXMgc2VyaWFsaXplLENpIGFzIHNsZWVwLGpzIGFzIHNzNThBZGRyZXNzVG9QdWJsaWNLZXksVHMgYXMgc3Vic2NyaWJlVG9Ccm93c2VyTmV0d29ya0NoYW5nZSxhdSBhcyBzdWJzY3JpYmVUb05ldHdvcmtDaGFuZ2UsQ3MgYXMgc3Vic2NyaWJlVG9SZWFjdE5hdGl2ZU5ldHdvcmtDaGFuZ2UsT3IgYXMgdG9CYXNlNjQsJGkgYXMgdXVpZHY0LHlhIGFzIHZhbGlkYXRlRGVjb2RpbmcscnMgYXMgdmFsaWRhdGVFbmNvZGluZyxMYyBhcyB2YWxpZGF0ZVNpZ25lZENhY2FvLHZhIGFzIHZlcmlmeVAyNTZKd3QsWnIgYXMgdmVyaWZ5U2lnbmF0dXJlfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@walletconnect/utils/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/alloc.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/alloc.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   alloc: () => (/* binding */ alloc),\n/* harmony export */   allocUnsafe: () => (/* binding */ allocUnsafe)\n/* harmony export */ });\n/* harmony import */ var _util_as_uint8array_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/as-uint8array.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/as-uint8array.js\");\n\nfunction alloc(size = 0) {\n  if (globalThis.Buffer != null && globalThis.Buffer.alloc != null) {\n    return (0,_util_as_uint8array_js__WEBPACK_IMPORTED_MODULE_0__.asUint8Array)(globalThis.Buffer.alloc(size));\n  }\n  return new Uint8Array(size);\n}\nfunction allocUnsafe(size = 0) {\n  if (globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null) {\n    return (0,_util_as_uint8array_js__WEBPACK_IMPORTED_MODULE_0__.asUint8Array)(globalThis.Buffer.allocUnsafe(size));\n  }\n  return new Uint8Array(size);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL2FsbG9jLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1RDtBQUNoRDtBQUNQO0FBQ0EsV0FBVyxvRUFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsV0FBVyxvRUFBWTtBQUN2QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdWludDhhcnJheXMvZXNtL3NyYy9hbGxvYy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc1VpbnQ4QXJyYXkgfSBmcm9tICcuL3V0aWwvYXMtdWludDhhcnJheS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gYWxsb2Moc2l6ZSA9IDApIHtcbiAgaWYgKGdsb2JhbFRoaXMuQnVmZmVyICE9IG51bGwgJiYgZ2xvYmFsVGhpcy5CdWZmZXIuYWxsb2MgIT0gbnVsbCkge1xuICAgIHJldHVybiBhc1VpbnQ4QXJyYXkoZ2xvYmFsVGhpcy5CdWZmZXIuYWxsb2Moc2l6ZSkpO1xuICB9XG4gIHJldHVybiBuZXcgVWludDhBcnJheShzaXplKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhbGxvY1Vuc2FmZShzaXplID0gMCkge1xuICBpZiAoZ2xvYmFsVGhpcy5CdWZmZXIgIT0gbnVsbCAmJiBnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIGFzVWludDhBcnJheShnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZShzaXplKSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHNpemUpO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/alloc.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/compare.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/compare.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compare: () => (/* binding */ compare)\n/* harmony export */ });\nfunction compare(a, b) {\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] < b[i]) {\n      return -1;\n    }\n    if (a[i] > b[i]) {\n      return 1;\n    }\n  }\n  if (a.byteLength > b.byteLength) {\n    return 1;\n  }\n  if (a.byteLength < b.byteLength) {\n    return -1;\n  }\n  return 0;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL2NvbXBhcmUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1Asa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdWludDhhcnJheXMvZXNtL3NyYy9jb21wYXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgIGlmIChhW2ldIDwgYltpXSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAoYVtpXSA+IGJbaV0pIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfVxuICBpZiAoYS5ieXRlTGVuZ3RoID4gYi5ieXRlTGVuZ3RoKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgaWYgKGEuYnl0ZUxlbmd0aCA8IGIuYnl0ZUxlbmd0aCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICByZXR1cm4gMDtcbn0iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/compare.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/concat.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/concat.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   concat: () => (/* binding */ concat)\n/* harmony export */ });\n/* harmony import */ var _alloc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alloc.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/alloc.js\");\n/* harmony import */ var _util_as_uint8array_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/as-uint8array.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/as-uint8array.js\");\n\n\nfunction concat(arrays, length) {\n  if (!length) {\n    length = arrays.reduce((acc, curr) => acc + curr.length, 0);\n  }\n  const output = (0,_alloc_js__WEBPACK_IMPORTED_MODULE_0__.allocUnsafe)(length);\n  let offset = 0;\n  for (const arr of arrays) {\n    output.set(arr, offset);\n    offset += arr.length;\n  }\n  return (0,_util_as_uint8array_js__WEBPACK_IMPORTED_MODULE_1__.asUint8Array)(output);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL2NvbmNhdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUM7QUFDYztBQUNoRDtBQUNQO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzREFBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvRUFBWTtBQUNyQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL2NvbmNhdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhbGxvY1Vuc2FmZSB9IGZyb20gJy4vYWxsb2MuanMnO1xuaW1wb3J0IHsgYXNVaW50OEFycmF5IH0gZnJvbSAnLi91dGlsL2FzLXVpbnQ4YXJyYXkuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdChhcnJheXMsIGxlbmd0aCkge1xuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IGFycmF5cy5yZWR1Y2UoKGFjYywgY3VycikgPT4gYWNjICsgY3Vyci5sZW5ndGgsIDApO1xuICB9XG4gIGNvbnN0IG91dHB1dCA9IGFsbG9jVW5zYWZlKGxlbmd0aCk7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGNvbnN0IGFyciBvZiBhcnJheXMpIHtcbiAgICBvdXRwdXQuc2V0KGFyciwgb2Zmc2V0KTtcbiAgICBvZmZzZXQgKz0gYXJyLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gYXNVaW50OEFycmF5KG91dHB1dCk7XG59Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/concat.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/equals.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/equals.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   equals: () => (/* binding */ equals)\n/* harmony export */ });\nfunction equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL2VxdWFscy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL2VxdWFscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoYS5ieXRlTGVuZ3RoICE9PSBiLmJ5dGVMZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/equals.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/from-string.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/from-string.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromString: () => (/* binding */ fromString)\n/* harmony export */ });\n/* harmony import */ var _util_bases_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/bases.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/bases.js\");\n/* harmony import */ var _util_as_uint8array_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/as-uint8array.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/as-uint8array.js\");\n\n\nfunction fromString(string, encoding = 'utf8') {\n  const base = _util_bases_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"][encoding];\n  if (!base) {\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\n  }\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n    return (0,_util_as_uint8array_js__WEBPACK_IMPORTED_MODULE_1__.asUint8Array)(globalThis.Buffer.from(string, 'utf-8'));\n  }\n  return base.decoder.decode(`${ base.prefix }${ string }`);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL2Zyb20tc3RyaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvQztBQUNtQjtBQUNoRDtBQUNQLGVBQWUsc0RBQUs7QUFDcEI7QUFDQSw4Q0FBOEMsVUFBVTtBQUN4RDtBQUNBO0FBQ0EsV0FBVyxvRUFBWTtBQUN2QjtBQUNBLGlDQUFpQyxhQUFhLEdBQUcsUUFBUTtBQUN6RCIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL2Zyb20tc3RyaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiYXNlcyBmcm9tICcuL3V0aWwvYmFzZXMuanMnO1xuaW1wb3J0IHsgYXNVaW50OEFycmF5IH0gZnJvbSAnLi91dGlsL2FzLXVpbnQ4YXJyYXkuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21TdHJpbmcoc3RyaW5nLCBlbmNvZGluZyA9ICd1dGY4Jykge1xuICBjb25zdCBiYXNlID0gYmFzZXNbZW5jb2RpbmddO1xuICBpZiAoIWJhc2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGVuY29kaW5nIFwiJHsgZW5jb2RpbmcgfVwiYCk7XG4gIH1cbiAgaWYgKChlbmNvZGluZyA9PT0gJ3V0ZjgnIHx8IGVuY29kaW5nID09PSAndXRmLTgnKSAmJiBnbG9iYWxUaGlzLkJ1ZmZlciAhPSBudWxsICYmIGdsb2JhbFRoaXMuQnVmZmVyLmZyb20gIT0gbnVsbCkge1xuICAgIHJldHVybiBhc1VpbnQ4QXJyYXkoZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShzdHJpbmcsICd1dGYtOCcpKTtcbiAgfVxuICByZXR1cm4gYmFzZS5kZWNvZGVyLmRlY29kZShgJHsgYmFzZS5wcmVmaXggfSR7IHN0cmluZyB9YCk7XG59Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/from-string.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/index.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/index.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compare: () => (/* reexport safe */ _compare_js__WEBPACK_IMPORTED_MODULE_0__.compare),\n/* harmony export */   concat: () => (/* reexport safe */ _concat_js__WEBPACK_IMPORTED_MODULE_1__.concat),\n/* harmony export */   equals: () => (/* reexport safe */ _equals_js__WEBPACK_IMPORTED_MODULE_2__.equals),\n/* harmony export */   fromString: () => (/* reexport safe */ _from_string_js__WEBPACK_IMPORTED_MODULE_3__.fromString),\n/* harmony export */   toString: () => (/* reexport safe */ _to_string_js__WEBPACK_IMPORTED_MODULE_4__.toString),\n/* harmony export */   xor: () => (/* reexport safe */ _xor_js__WEBPACK_IMPORTED_MODULE_5__.xor)\n/* harmony export */ });\n/* harmony import */ var _compare_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compare.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/compare.js\");\n/* harmony import */ var _concat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./concat.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/concat.js\");\n/* harmony import */ var _equals_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./equals.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/equals.js\");\n/* harmony import */ var _from_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./from-string.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/from-string.js\");\n/* harmony import */ var _to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./to-string.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/to-string.js\");\n/* harmony import */ var _xor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./xor.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/xor.js\");\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUF1QztBQUNGO0FBQ0E7QUFDUztBQUNKO0FBQ1giLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdWludDhhcnJheXMvZXNtL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wYXJlIH0gZnJvbSAnLi9jb21wYXJlLmpzJztcbmltcG9ydCB7IGNvbmNhdCB9IGZyb20gJy4vY29uY2F0LmpzJztcbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4vZXF1YWxzLmpzJztcbmltcG9ydCB7IGZyb21TdHJpbmcgfSBmcm9tICcuL2Zyb20tc3RyaW5nLmpzJztcbmltcG9ydCB7IHRvU3RyaW5nIH0gZnJvbSAnLi90by1zdHJpbmcuanMnO1xuaW1wb3J0IHsgeG9yIH0gZnJvbSAnLi94b3IuanMnO1xuZXhwb3J0IHtcbiAgY29tcGFyZSxcbiAgY29uY2F0LFxuICBlcXVhbHMsXG4gIGZyb21TdHJpbmcsXG4gIHRvU3RyaW5nLFxuICB4b3Jcbn07Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/to-string.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/to-string.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toString: () => (/* binding */ toString)\n/* harmony export */ });\n/* harmony import */ var _util_bases_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/bases.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/bases.js\");\n\nfunction toString(array, encoding = 'utf8') {\n  const base = _util_bases_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"][encoding];\n  if (!base) {\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\n  }\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n    return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');\n  }\n  return base.encoder.encode(array).substring(1);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL3RvLXN0cmluZy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvQztBQUM3QjtBQUNQLGVBQWUsc0RBQUs7QUFDcEI7QUFDQSw4Q0FBOEMsVUFBVTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdWludDhhcnJheXMvZXNtL3NyYy90by1zdHJpbmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJhc2VzIGZyb20gJy4vdXRpbC9iYXNlcy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmcoYXJyYXksIGVuY29kaW5nID0gJ3V0ZjgnKSB7XG4gIGNvbnN0IGJhc2UgPSBiYXNlc1tlbmNvZGluZ107XG4gIGlmICghYmFzZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIkeyBlbmNvZGluZyB9XCJgKTtcbiAgfVxuICBpZiAoKGVuY29kaW5nID09PSAndXRmOCcgfHwgZW5jb2RpbmcgPT09ICd1dGYtOCcpICYmIGdsb2JhbFRoaXMuQnVmZmVyICE9IG51bGwgJiYgZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYXJyYXkuYnVmZmVyLCBhcnJheS5ieXRlT2Zmc2V0LCBhcnJheS5ieXRlTGVuZ3RoKS50b1N0cmluZygndXRmOCcpO1xuICB9XG4gIHJldHVybiBiYXNlLmVuY29kZXIuZW5jb2RlKGFycmF5KS5zdWJzdHJpbmcoMSk7XG59Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/to-string.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/as-uint8array.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/as-uint8array.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asUint8Array: () => (/* binding */ asUint8Array)\n/* harmony export */ });\nfunction asUint8Array(buf) {\n  if (globalThis.Buffer != null) {\n    return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);\n  }\n  return buf;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL3V0aWwvYXMtdWludDhhcnJheS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3VpbnQ4YXJyYXlzL2VzbS9zcmMvdXRpbC9hcy11aW50OGFycmF5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBhc1VpbnQ4QXJyYXkoYnVmKSB7XG4gIGlmIChnbG9iYWxUaGlzLkJ1ZmZlciAhPSBudWxsKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1Zi5idWZmZXIsIGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZUxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGJ1Zjtcbn0iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/as-uint8array.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/bases.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/bases.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var multiformats_basics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! multiformats/basics */ \"(ssr)/./node_modules/multiformats/esm/src/basics.js\");\n/* harmony import */ var _alloc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../alloc.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/alloc.js\");\n\n\nfunction createCodec(name, prefix, encode, decode) {\n  return {\n    name,\n    prefix,\n    encoder: {\n      name,\n      prefix,\n      encode\n    },\n    decoder: { decode }\n  };\n}\nconst string = createCodec('utf8', 'u', buf => {\n  const decoder = new TextDecoder('utf8');\n  return 'u' + decoder.decode(buf);\n}, str => {\n  const encoder = new TextEncoder();\n  return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', buf => {\n  let string = 'a';\n  for (let i = 0; i < buf.length; i++) {\n    string += String.fromCharCode(buf[i]);\n  }\n  return string;\n}, str => {\n  str = str.substring(1);\n  const buf = (0,_alloc_js__WEBPACK_IMPORTED_MODULE_1__.allocUnsafe)(str.length);\n  for (let i = 0; i < str.length; i++) {\n    buf[i] = str.charCodeAt(i);\n  }\n  return buf;\n});\nconst BASES = {\n  utf8: string,\n  'utf-8': string,\n  hex: multiformats_basics__WEBPACK_IMPORTED_MODULE_0__.bases.base16,\n  latin1: ascii,\n  ascii: ascii,\n  binary: ascii,\n  ...multiformats_basics__WEBPACK_IMPORTED_MODULE_0__.bases\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BASES);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL3V0aWwvYmFzZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQ0Y7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLGNBQWMsc0RBQVc7QUFDekIsa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsT0FBTyxzREFBSztBQUNaO0FBQ0E7QUFDQTtBQUNBLEtBQUssc0RBQUs7QUFDVjtBQUNBLGlFQUFlLEtBQUsiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdWludDhhcnJheXMvZXNtL3NyYy91dGlsL2Jhc2VzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJhc2VzIH0gZnJvbSAnbXVsdGlmb3JtYXRzL2Jhc2ljcyc7XG5pbXBvcnQgeyBhbGxvY1Vuc2FmZSB9IGZyb20gJy4uL2FsbG9jLmpzJztcbmZ1bmN0aW9uIGNyZWF0ZUNvZGVjKG5hbWUsIHByZWZpeCwgZW5jb2RlLCBkZWNvZGUpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIHByZWZpeCxcbiAgICBlbmNvZGVyOiB7XG4gICAgICBuYW1lLFxuICAgICAgcHJlZml4LFxuICAgICAgZW5jb2RlXG4gICAgfSxcbiAgICBkZWNvZGVyOiB7IGRlY29kZSB9XG4gIH07XG59XG5jb25zdCBzdHJpbmcgPSBjcmVhdGVDb2RlYygndXRmOCcsICd1JywgYnVmID0+IHtcbiAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpO1xuICByZXR1cm4gJ3UnICsgZGVjb2Rlci5kZWNvZGUoYnVmKTtcbn0sIHN0ciA9PiB7XG4gIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgcmV0dXJuIGVuY29kZXIuZW5jb2RlKHN0ci5zdWJzdHJpbmcoMSkpO1xufSk7XG5jb25zdCBhc2NpaSA9IGNyZWF0ZUNvZGVjKCdhc2NpaScsICdhJywgYnVmID0+IHtcbiAgbGV0IHN0cmluZyA9ICdhJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWYubGVuZ3RoOyBpKyspIHtcbiAgICBzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pO1xuICB9XG4gIHJldHVybiBzdHJpbmc7XG59LCBzdHIgPT4ge1xuICBzdHIgPSBzdHIuc3Vic3RyaW5nKDEpO1xuICBjb25zdCBidWYgPSBhbGxvY1Vuc2FmZShzdHIubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBidWZbaV0gPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gYnVmO1xufSk7XG5jb25zdCBCQVNFUyA9IHtcbiAgdXRmODogc3RyaW5nLFxuICAndXRmLTgnOiBzdHJpbmcsXG4gIGhleDogYmFzZXMuYmFzZTE2LFxuICBsYXRpbjE6IGFzY2lpLFxuICBhc2NpaTogYXNjaWksXG4gIGJpbmFyeTogYXNjaWksXG4gIC4uLmJhc2VzXG59O1xuZXhwb3J0IGRlZmF1bHQgQkFTRVM7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/bases.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/xor.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/xor.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   xor: () => (/* binding */ xor)\n/* harmony export */ });\n/* harmony import */ var _alloc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alloc.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/alloc.js\");\n/* harmony import */ var _util_as_uint8array_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/as-uint8array.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/util/as-uint8array.js\");\n\n\nfunction xor(a, b) {\n  if (a.length !== b.length) {\n    throw new Error('Inputs should have the same length');\n  }\n  const result = (0,_alloc_js__WEBPACK_IMPORTED_MODULE_0__.allocUnsafe)(a.length);\n  for (let i = 0; i < a.length; i++) {\n    result[i] = a[i] ^ b[i];\n  }\n  return (0,_util_as_uint8array_js__WEBPACK_IMPORTED_MODULE_1__.asUint8Array)(result);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL3hvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUM7QUFDYztBQUNoRDtBQUNQO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzREFBVztBQUM1QixrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0EsU0FBUyxvRUFBWTtBQUNyQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy91aW50OGFycmF5cy9lc20vc3JjL3hvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhbGxvY1Vuc2FmZSB9IGZyb20gJy4vYWxsb2MuanMnO1xuaW1wb3J0IHsgYXNVaW50OEFycmF5IH0gZnJvbSAnLi91dGlsL2FzLXVpbnQ4YXJyYXkuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIHhvcihhLCBiKSB7XG4gIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0lucHV0cyBzaG91bGQgaGF2ZSB0aGUgc2FtZSBsZW5ndGgnKTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBhbGxvY1Vuc2FmZShhLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdFtpXSA9IGFbaV0gXiBiW2ldO1xuICB9XG4gIHJldHVybiBhc1VpbnQ4QXJyYXkocmVzdWx0KTtcbn0iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/uint8arrays/esm/src/xor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   publicKeyToAddress: () => (/* binding */ publicKeyToAddress)\n/* harmony export */ });\n/* harmony import */ var _utils_address_getAddress_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/address/getAddress.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/getAddress.js\");\n/* harmony import */ var _utils_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/hash/keccak256.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/hash/keccak256.js\");\n\n\n/**\n * @description Converts an ECDSA public key to an address.\n *\n * @param publicKey The public key to convert.\n *\n * @returns The address.\n */\nfunction publicKeyToAddress(publicKey) {\n    const address = (0,_utils_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_0__.keccak256)(`0x${publicKey.substring(4)}`).substring(26);\n    return (0,_utils_address_getAddress_js__WEBPACK_IMPORTED_MODULE_1__.checksumAddress)(`0x${address}`);\n}\n//# sourceMappingURL=publicKeyToAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vYWNjb3VudHMvdXRpbHMvcHVibGljS2V5VG9BZGRyZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRTtBQUNWO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxvQkFBb0IsbUVBQVMsTUFBTSx1QkFBdUI7QUFDMUQsV0FBVyw2RUFBZSxNQUFNLFFBQVE7QUFDeEM7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vYWNjb3VudHMvdXRpbHMvcHVibGljS2V5VG9BZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNoZWNrc3VtQWRkcmVzcywgfSBmcm9tICcuLi8uLi91dGlscy9hZGRyZXNzL2dldEFkZHJlc3MuanMnO1xuaW1wb3J0IHsga2VjY2FrMjU2LCB9IGZyb20gJy4uLy4uL3V0aWxzL2hhc2gva2VjY2FrMjU2LmpzJztcbi8qKlxuICogQGRlc2NyaXB0aW9uIENvbnZlcnRzIGFuIEVDRFNBIHB1YmxpYyBrZXkgdG8gYW4gYWRkcmVzcy5cbiAqXG4gKiBAcGFyYW0gcHVibGljS2V5IFRoZSBwdWJsaWMga2V5IHRvIGNvbnZlcnQuXG4gKlxuICogQHJldHVybnMgVGhlIGFkZHJlc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaWNLZXlUb0FkZHJlc3MocHVibGljS2V5KSB7XG4gICAgY29uc3QgYWRkcmVzcyA9IGtlY2NhazI1NihgMHgke3B1YmxpY0tleS5zdWJzdHJpbmcoNCl9YCkuc3Vic3RyaW5nKDI2KTtcbiAgICByZXR1cm4gY2hlY2tzdW1BZGRyZXNzKGAweCR7YWRkcmVzc31gKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1YmxpY0tleVRvQWRkcmVzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/address.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/address.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidAddressError: () => (/* binding */ InvalidAddressError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js\");\n\nclass InvalidAddressError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ address }) {\n        super(`Address \"${address}\" is invalid.`, {\n            metaMessages: [\n                '- Address must be a hex value of 20 bytes (40 hex characters).',\n                '- Address must match its checksum counterpart.',\n            ],\n            name: 'InvalidAddressError',\n        });\n    }\n}\n//# sourceMappingURL=address.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2FkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0M7QUFDL0Isa0NBQWtDLCtDQUFTO0FBQ2xELGtCQUFrQixTQUFTO0FBQzNCLDBCQUEwQixRQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYWRkcmVzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlRXJyb3IgfSBmcm9tICcuL2Jhc2UuanMnO1xuZXhwb3J0IGNsYXNzIEludmFsaWRBZGRyZXNzRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgYWRkcmVzcyB9KSB7XG4gICAgICAgIHN1cGVyKGBBZGRyZXNzIFwiJHthZGRyZXNzfVwiIGlzIGludmFsaWQuYCwge1xuICAgICAgICAgICAgbWV0YU1lc3NhZ2VzOiBbXG4gICAgICAgICAgICAgICAgJy0gQWRkcmVzcyBtdXN0IGJlIGEgaGV4IHZhbHVlIG9mIDIwIGJ5dGVzICg0MCBoZXggY2hhcmFjdGVycykuJyxcbiAgICAgICAgICAgICAgICAnLSBBZGRyZXNzIG11c3QgbWF0Y2ggaXRzIGNoZWNrc3VtIGNvdW50ZXJwYXJ0LicsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbmFtZTogJ0ludmFsaWRBZGRyZXNzRXJyb3InLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGRyZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/address.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseError: () => (/* binding */ BaseError),\n/* harmony export */   setErrorConfig: () => (/* binding */ setErrorConfig)\n/* harmony export */ });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./version.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/version.js\");\n\nlet errorConfig = {\n    getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug, }) => docsPath\n        ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}`\n        : undefined,\n    version: `viem@${_version_js__WEBPACK_IMPORTED_MODULE_0__.version}`,\n};\nfunction setErrorConfig(config) {\n    errorConfig = config;\n}\nclass BaseError extends Error {\n    constructor(shortMessage, args = {}) {\n        const details = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.details;\n            if (args.cause?.message)\n                return args.cause.message;\n            return args.details;\n        })();\n        const docsPath = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.docsPath || args.docsPath;\n            return args.docsPath;\n        })();\n        const docsUrl = errorConfig.getDocsUrl?.({ ...args, docsPath });\n        const message = [\n            shortMessage || 'An error occurred.',\n            '',\n            ...(args.metaMessages ? [...args.metaMessages, ''] : []),\n            ...(docsUrl ? [`Docs: ${docsUrl}`] : []),\n            ...(details ? [`Details: ${details}`] : []),\n            ...(errorConfig.version ? [`Version: ${errorConfig.version}`] : []),\n        ].join('\\n');\n        super(message, args.cause ? { cause: args.cause } : undefined);\n        Object.defineProperty(this, \"details\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"docsPath\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"metaMessages\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"shortMessage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"version\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'BaseError'\n        });\n        this.details = details;\n        this.docsPath = docsPath;\n        this.metaMessages = args.metaMessages;\n        this.name = args.name ?? this.name;\n        this.shortMessage = shortMessage;\n        this.version = _version_js__WEBPACK_IMPORTED_MODULE_0__.version;\n    }\n    walk(fn) {\n        return walk(this, fn);\n    }\n}\nfunction walk(err, fn) {\n    if (fn?.(err))\n        return err;\n    if (err &&\n        typeof err === 'object' &&\n        'cause' in err &&\n        err.cause !== undefined)\n        return walk(err.cause, fn);\n    return fn ? null : err;\n}\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVDO0FBQ3ZDO0FBQ0EsbUJBQW1CLHVDQUF1QztBQUMxRCxhQUFhLGlDQUFpQyxFQUFFLFNBQVMsRUFBRSxlQUFlLFNBQVMsT0FBTztBQUMxRjtBQUNBLHFCQUFxQixnREFBTyxDQUFDO0FBQzdCO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULG1EQUFtRCxtQkFBbUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUTtBQUM1Qyx1Q0FBdUMsUUFBUTtBQUMvQyxtREFBbUQsb0JBQW9CO0FBQ3ZFO0FBQ0Esc0NBQXNDLG9CQUFvQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdEQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uLmpzJztcbmxldCBlcnJvckNvbmZpZyA9IHtcbiAgICBnZXREb2NzVXJsOiAoeyBkb2NzQmFzZVVybCwgZG9jc1BhdGggPSAnJywgZG9jc1NsdWcsIH0pID0+IGRvY3NQYXRoXG4gICAgICAgID8gYCR7ZG9jc0Jhc2VVcmwgPz8gJ2h0dHBzOi8vdmllbS5zaCd9JHtkb2NzUGF0aH0ke2RvY3NTbHVnID8gYCMke2RvY3NTbHVnfWAgOiAnJ31gXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgIHZlcnNpb246IGB2aWVtQCR7dmVyc2lvbn1gLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBzZXRFcnJvckNvbmZpZyhjb25maWcpIHtcbiAgICBlcnJvckNvbmZpZyA9IGNvbmZpZztcbn1cbmV4cG9ydCBjbGFzcyBCYXNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc2hvcnRNZXNzYWdlLCBhcmdzID0ge30pIHtcbiAgICAgICAgY29uc3QgZGV0YWlscyA9ICgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoYXJncy5jYXVzZSBpbnN0YW5jZW9mIEJhc2VFcnJvcilcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncy5jYXVzZS5kZXRhaWxzO1xuICAgICAgICAgICAgaWYgKGFyZ3MuY2F1c2U/Lm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3MuY2F1c2UubWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBhcmdzLmRldGFpbHM7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIGNvbnN0IGRvY3NQYXRoID0gKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChhcmdzLmNhdXNlIGluc3RhbmNlb2YgQmFzZUVycm9yKVxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzLmNhdXNlLmRvY3NQYXRoIHx8IGFyZ3MuZG9jc1BhdGg7XG4gICAgICAgICAgICByZXR1cm4gYXJncy5kb2NzUGF0aDtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgY29uc3QgZG9jc1VybCA9IGVycm9yQ29uZmlnLmdldERvY3NVcmw/Lih7IC4uLmFyZ3MsIGRvY3NQYXRoIH0pO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gW1xuICAgICAgICAgICAgc2hvcnRNZXNzYWdlIHx8ICdBbiBlcnJvciBvY2N1cnJlZC4nLFxuICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAuLi4oYXJncy5tZXRhTWVzc2FnZXMgPyBbLi4uYXJncy5tZXRhTWVzc2FnZXMsICcnXSA6IFtdKSxcbiAgICAgICAgICAgIC4uLihkb2NzVXJsID8gW2BEb2NzOiAke2RvY3NVcmx9YF0gOiBbXSksXG4gICAgICAgICAgICAuLi4oZGV0YWlscyA/IFtgRGV0YWlsczogJHtkZXRhaWxzfWBdIDogW10pLFxuICAgICAgICAgICAgLi4uKGVycm9yQ29uZmlnLnZlcnNpb24gPyBbYFZlcnNpb246ICR7ZXJyb3JDb25maWcudmVyc2lvbn1gXSA6IFtdKSxcbiAgICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgYXJncy5jYXVzZSA/IHsgY2F1c2U6IGFyZ3MuY2F1c2UgfSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRldGFpbHNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9jc1BhdGhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWV0YU1lc3NhZ2VzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNob3J0TWVzc2FnZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6ICdCYXNlRXJyb3InXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgICAgICB0aGlzLmRvY3NQYXRoID0gZG9jc1BhdGg7XG4gICAgICAgIHRoaXMubWV0YU1lc3NhZ2VzID0gYXJncy5tZXRhTWVzc2FnZXM7XG4gICAgICAgIHRoaXMubmFtZSA9IGFyZ3MubmFtZSA/PyB0aGlzLm5hbWU7XG4gICAgICAgIHRoaXMuc2hvcnRNZXNzYWdlID0gc2hvcnRNZXNzYWdlO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIH1cbiAgICB3YWxrKGZuKSB7XG4gICAgICAgIHJldHVybiB3YWxrKHRoaXMsIGZuKTtcbiAgICB9XG59XG5mdW5jdGlvbiB3YWxrKGVyciwgZm4pIHtcbiAgICBpZiAoZm4/LihlcnIpKVxuICAgICAgICByZXR1cm4gZXJyO1xuICAgIGlmIChlcnIgJiZcbiAgICAgICAgdHlwZW9mIGVyciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgJ2NhdXNlJyBpbiBlcnIgJiZcbiAgICAgICAgZXJyLmNhdXNlICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB3YWxrKGVyci5jYXVzZSwgZm4pO1xuICAgIHJldHVybiBmbiA/IG51bGwgOiBlcnI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/data.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/data.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidBytesLengthError: () => (/* binding */ InvalidBytesLengthError),\n/* harmony export */   SizeExceedsPaddingSizeError: () => (/* binding */ SizeExceedsPaddingSizeError),\n/* harmony export */   SliceOffsetOutOfBoundsError: () => (/* binding */ SliceOffsetOutOfBoundsError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js\");\n\nclass SliceOffsetOutOfBoundsError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ offset, position, size, }) {\n        super(`Slice ${position === 'start' ? 'starting' : 'ending'} at offset \"${offset}\" is out-of-bounds (size: ${size}).`, { name: 'SliceOffsetOutOfBoundsError' });\n    }\n}\nclass SizeExceedsPaddingSizeError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, { name: 'SizeExceedsPaddingSizeError' });\n    }\n}\nclass InvalidBytesLengthError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} is expected to be ${targetSize} ${type} long, but is ${size} ${type} long.`, { name: 'InvalidBytesLengthError' });\n    }\n}\n//# sourceMappingURL=data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2RhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzQztBQUMvQiwwQ0FBMEMsK0NBQVM7QUFDMUQsa0JBQWtCLHlCQUF5QjtBQUMzQyx1QkFBdUIsOENBQThDLGFBQWEsT0FBTyw0QkFBNEIsS0FBSyxPQUFPLHFDQUFxQztBQUN0SztBQUNBO0FBQ08sMENBQTBDLCtDQUFTO0FBQzFELGtCQUFrQix5QkFBeUI7QUFDM0MsaUJBQWlCLDZCQUE2QixFQUFFO0FBQ2hEO0FBQ0EsNEJBQTRCLFFBQVEsS0FBSywwQkFBMEIsV0FBVyxPQUFPLHFDQUFxQztBQUMxSDtBQUNBO0FBQ08sc0NBQXNDLCtDQUFTO0FBQ3RELGtCQUFrQix5QkFBeUI7QUFDM0MsaUJBQWlCLDZCQUE2QixFQUFFO0FBQ2hEO0FBQ0EsNEJBQTRCLG9CQUFvQixZQUFZLEVBQUUsTUFBTSxlQUFlLE1BQU0sRUFBRSxNQUFNLFVBQVUsaUNBQWlDO0FBQzVJO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2RhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZUVycm9yIH0gZnJvbSAnLi9iYXNlLmpzJztcbmV4cG9ydCBjbGFzcyBTbGljZU9mZnNldE91dE9mQm91bmRzRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgb2Zmc2V0LCBwb3NpdGlvbiwgc2l6ZSwgfSkge1xuICAgICAgICBzdXBlcihgU2xpY2UgJHtwb3NpdGlvbiA9PT0gJ3N0YXJ0JyA/ICdzdGFydGluZycgOiAnZW5kaW5nJ30gYXQgb2Zmc2V0IFwiJHtvZmZzZXR9XCIgaXMgb3V0LW9mLWJvdW5kcyAoc2l6ZTogJHtzaXplfSkuYCwgeyBuYW1lOiAnU2xpY2VPZmZzZXRPdXRPZkJvdW5kc0Vycm9yJyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2l6ZUV4Y2VlZHNQYWRkaW5nU2l6ZUVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHNpemUsIHRhcmdldFNpemUsIHR5cGUsIH0pIHtcbiAgICAgICAgc3VwZXIoYCR7dHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0ke3R5cGVcbiAgICAgICAgICAgIC5zbGljZSgxKVxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCl9IHNpemUgKCR7c2l6ZX0pIGV4Y2VlZHMgcGFkZGluZyBzaXplICgke3RhcmdldFNpemV9KS5gLCB7IG5hbWU6ICdTaXplRXhjZWVkc1BhZGRpbmdTaXplRXJyb3InIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQnl0ZXNMZW5ndGhFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBzaXplLCB0YXJnZXRTaXplLCB0eXBlLCB9KSB7XG4gICAgICAgIHN1cGVyKGAke3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9JHt0eXBlXG4gICAgICAgICAgICAuc2xpY2UoMSlcbiAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpfSBpcyBleHBlY3RlZCB0byBiZSAke3RhcmdldFNpemV9ICR7dHlwZX0gbG9uZywgYnV0IGlzICR7c2l6ZX0gJHt0eXBlfSBsb25nLmAsIHsgbmFtZTogJ0ludmFsaWRCeXRlc0xlbmd0aEVycm9yJyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/encoding.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/encoding.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IntegerOutOfRangeError: () => (/* binding */ IntegerOutOfRangeError),\n/* harmony export */   InvalidBytesBooleanError: () => (/* binding */ InvalidBytesBooleanError),\n/* harmony export */   InvalidHexBooleanError: () => (/* binding */ InvalidHexBooleanError),\n/* harmony export */   InvalidHexValueError: () => (/* binding */ InvalidHexValueError),\n/* harmony export */   SizeOverflowError: () => (/* binding */ SizeOverflowError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js\");\n\nclass IntegerOutOfRangeError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ max, min, signed, size, value, }) {\n        super(`Number \"${value}\" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, { name: 'IntegerOutOfRangeError' });\n    }\n}\nclass InvalidBytesBooleanError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(bytes) {\n        super(`Bytes value \"${bytes}\" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`, {\n            name: 'InvalidBytesBooleanError',\n        });\n    }\n}\nclass InvalidHexBooleanError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(hex) {\n        super(`Hex value \"${hex}\" is not a valid boolean. The hex value must be \"0x0\" (false) or \"0x1\" (true).`, { name: 'InvalidHexBooleanError' });\n    }\n}\nclass InvalidHexValueError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(value) {\n        super(`Hex value \"${value}\" is an odd length (${value.length}). It must be an even length.`, { name: 'InvalidHexValueError' });\n    }\n}\nclass SizeOverflowError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ givenSize, maxSize }) {\n        super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, { name: 'SizeOverflowError' });\n    }\n}\n//# sourceMappingURL=encoding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2VuY29kaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzQztBQUMvQixxQ0FBcUMsK0NBQVM7QUFDckQsa0JBQWtCLGdDQUFnQztBQUNsRCx5QkFBeUIsTUFBTSxtQkFBbUIsVUFBVSxTQUFTLE9BQU8sZ0NBQWdDLE9BQU8sZ0JBQWdCLFVBQVUsS0FBSyxLQUFLLElBQUksZUFBZSxJQUFJLEdBQUcsS0FBSyxnQ0FBZ0M7QUFDdE47QUFDQTtBQUNPLHVDQUF1QywrQ0FBUztBQUN2RDtBQUNBLDhCQUE4QixNQUFNO0FBQ3BDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTyxxQ0FBcUMsK0NBQVM7QUFDckQ7QUFDQSw0QkFBNEIsSUFBSSxtRkFBbUYsZ0NBQWdDO0FBQ25KO0FBQ0E7QUFDTyxtQ0FBbUMsK0NBQVM7QUFDbkQ7QUFDQSw0QkFBNEIsTUFBTSxzQkFBc0IsYUFBYSxrQ0FBa0MsOEJBQThCO0FBQ3JJO0FBQ0E7QUFDTyxnQ0FBZ0MsK0NBQVM7QUFDaEQsa0JBQWtCLG9CQUFvQjtBQUN0QyxvQ0FBb0MsU0FBUyxxQkFBcUIsV0FBVyxXQUFXLDJCQUEyQjtBQUNuSDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL2Vycm9ycy9lbmNvZGluZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlRXJyb3IgfSBmcm9tICcuL2Jhc2UuanMnO1xuZXhwb3J0IGNsYXNzIEludGVnZXJPdXRPZlJhbmdlRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgbWF4LCBtaW4sIHNpZ25lZCwgc2l6ZSwgdmFsdWUsIH0pIHtcbiAgICAgICAgc3VwZXIoYE51bWJlciBcIiR7dmFsdWV9XCIgaXMgbm90IGluIHNhZmUgJHtzaXplID8gYCR7c2l6ZSAqIDh9LWJpdCAke3NpZ25lZCA/ICdzaWduZWQnIDogJ3Vuc2lnbmVkJ30gYCA6ICcnfWludGVnZXIgcmFuZ2UgJHttYXggPyBgKCR7bWlufSB0byAke21heH0pYCA6IGAoYWJvdmUgJHttaW59KWB9YCwgeyBuYW1lOiAnSW50ZWdlck91dE9mUmFuZ2VFcnJvcicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRCeXRlc0Jvb2xlYW5FcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoYnl0ZXMpIHtcbiAgICAgICAgc3VwZXIoYEJ5dGVzIHZhbHVlIFwiJHtieXRlc31cIiBpcyBub3QgYSB2YWxpZCBib29sZWFuLiBUaGUgYnl0ZXMgYXJyYXkgbXVzdCBjb250YWluIGEgc2luZ2xlIGJ5dGUgb2YgZWl0aGVyIGEgMCBvciAxIHZhbHVlLmAsIHtcbiAgICAgICAgICAgIG5hbWU6ICdJbnZhbGlkQnl0ZXNCb29sZWFuRXJyb3InLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEhleEJvb2xlYW5FcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoaGV4KSB7XG4gICAgICAgIHN1cGVyKGBIZXggdmFsdWUgXCIke2hleH1cIiBpcyBub3QgYSB2YWxpZCBib29sZWFuLiBUaGUgaGV4IHZhbHVlIG11c3QgYmUgXCIweDBcIiAoZmFsc2UpIG9yIFwiMHgxXCIgKHRydWUpLmAsIHsgbmFtZTogJ0ludmFsaWRIZXhCb29sZWFuRXJyb3InIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkSGV4VmFsdWVFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIoYEhleCB2YWx1ZSBcIiR7dmFsdWV9XCIgaXMgYW4gb2RkIGxlbmd0aCAoJHt2YWx1ZS5sZW5ndGh9KS4gSXQgbXVzdCBiZSBhbiBldmVuIGxlbmd0aC5gLCB7IG5hbWU6ICdJbnZhbGlkSGV4VmFsdWVFcnJvcicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNpemVPdmVyZmxvd0Vycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGdpdmVuU2l6ZSwgbWF4U2l6ZSB9KSB7XG4gICAgICAgIHN1cGVyKGBTaXplIGNhbm5vdCBleGNlZWQgJHttYXhTaXplfSBieXRlcy4gR2l2ZW4gc2l6ZTogJHtnaXZlblNpemV9IGJ5dGVzLmAsIHsgbmFtZTogJ1NpemVPdmVyZmxvd0Vycm9yJyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmNvZGluZy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/encoding.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/version.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/version.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\nconst version = '2.36.0';\n//# sourceMappingURL=version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL3ZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1AiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL2Vycm9ycy92ZXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gJzIuMzYuMCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZXJzaW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/version.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/getAddress.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/getAddress.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checksumAddress: () => (/* binding */ checksumAddress),\n/* harmony export */   getAddress: () => (/* binding */ getAddress)\n/* harmony export */ });\n/* harmony import */ var _errors_address_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../errors/address.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/address.js\");\n/* harmony import */ var _encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/toBytes.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n/* harmony import */ var _hash_keccak256_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hash/keccak256.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/hash/keccak256.js\");\n/* harmony import */ var _lru_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/lru.js\");\n/* harmony import */ var _isAddress_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isAddress.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/isAddress.js\");\n\n\n\n\n\nconst checksumAddressCache = /*#__PURE__*/ new _lru_js__WEBPACK_IMPORTED_MODULE_0__.LruMap(8192);\nfunction checksumAddress(address_, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (checksumAddressCache.has(`${address_}.${chainId}`))\n        return checksumAddressCache.get(`${address_}.${chainId}`);\n    const hexAddress = chainId\n        ? `${chainId}${address_.toLowerCase()}`\n        : address_.substring(2).toLowerCase();\n    const hash = (0,_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)((0,_encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.stringToBytes)(hexAddress), 'bytes');\n    const address = (chainId ? hexAddress.substring(`${chainId}0x`.length) : hexAddress).split('');\n    for (let i = 0; i < 40; i += 2) {\n        if (hash[i >> 1] >> 4 >= 8 && address[i]) {\n            address[i] = address[i].toUpperCase();\n        }\n        if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {\n            address[i + 1] = address[i + 1].toUpperCase();\n        }\n    }\n    const result = `0x${address.join('')}`;\n    checksumAddressCache.set(`${address_}.${chainId}`, result);\n    return result;\n}\nfunction getAddress(address, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (!(0,_isAddress_js__WEBPACK_IMPORTED_MODULE_3__.isAddress)(address, { strict: false }))\n        throw new _errors_address_js__WEBPACK_IMPORTED_MODULE_4__.InvalidAddressError({ address });\n    return checksumAddress(address, chainId);\n}\n//# sourceMappingURL=getAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvYWRkcmVzcy9nZXRBZGRyZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEQ7QUFDTjtBQUNQO0FBQ2Q7QUFDUTtBQUMzQywrQ0FBK0MsMkNBQU07QUFDOUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFNBQVMsR0FBRyxRQUFRO0FBQ3hELDJDQUEyQyxTQUFTLEdBQUcsUUFBUTtBQUMvRDtBQUNBLGFBQWEsUUFBUSxFQUFFLHVCQUF1QjtBQUM5QztBQUNBLGlCQUFpQiw2REFBUyxDQUFDLG1FQUFhO0FBQ3hDLHVEQUF1RCxRQUFRO0FBQy9ELG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QyxnQ0FBZ0MsU0FBUyxHQUFHLFFBQVE7QUFDcEQ7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0RBQVMsWUFBWSxlQUFlO0FBQzdDLGtCQUFrQixtRUFBbUIsR0FBRyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvYWRkcmVzcy9nZXRBZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludmFsaWRBZGRyZXNzRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvcnMvYWRkcmVzcy5qcyc7XG5pbXBvcnQgeyBzdHJpbmdUb0J5dGVzLCB9IGZyb20gJy4uL2VuY29kaW5nL3RvQnl0ZXMuanMnO1xuaW1wb3J0IHsga2VjY2FrMjU2IH0gZnJvbSAnLi4vaGFzaC9rZWNjYWsyNTYuanMnO1xuaW1wb3J0IHsgTHJ1TWFwIH0gZnJvbSAnLi4vbHJ1LmpzJztcbmltcG9ydCB7IGlzQWRkcmVzcyB9IGZyb20gJy4vaXNBZGRyZXNzLmpzJztcbmNvbnN0IGNoZWNrc3VtQWRkcmVzc0NhY2hlID0gLyojX19QVVJFX18qLyBuZXcgTHJ1TWFwKDgxOTIpO1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrc3VtQWRkcmVzcyhhZGRyZXNzXywgXG4vKipcbiAqIFdhcm5pbmc6IEVJUC0xMTkxIGNoZWNrc3VtIGFkZHJlc3NlcyBhcmUgZ2VuZXJhbGx5IG5vdCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIHRoZVxuICogd2lkZXIgRXRoZXJldW0gZWNvc3lzdGVtLCBtZWFuaW5nIGl0IHdpbGwgYnJlYWsgd2hlbiB2YWxpZGF0ZWQgYWdhaW5zdCBhbiBhcHBsaWNhdGlvbi90b29sXG4gKiB0aGF0IHJlbGllcyBvbiBFSVAtNTUgY2hlY2tzdW0gZW5jb2RpbmcgKGNoZWNrc3VtIHdpdGhvdXQgY2hhaW5JZCkuXG4gKlxuICogSXQgaXMgaGlnaGx5IHJlY29tbWVuZGVkIHRvIG5vdCB1c2UgdGhpcyBmZWF0dXJlIHVubGVzcyB5b3VcbiAqIGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLlxuICpcbiAqIFNlZSBtb3JlOiBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9pc3N1ZXMvMTEyMVxuICovXG5jaGFpbklkKSB7XG4gICAgaWYgKGNoZWNrc3VtQWRkcmVzc0NhY2hlLmhhcyhgJHthZGRyZXNzX30uJHtjaGFpbklkfWApKVxuICAgICAgICByZXR1cm4gY2hlY2tzdW1BZGRyZXNzQ2FjaGUuZ2V0KGAke2FkZHJlc3NffS4ke2NoYWluSWR9YCk7XG4gICAgY29uc3QgaGV4QWRkcmVzcyA9IGNoYWluSWRcbiAgICAgICAgPyBgJHtjaGFpbklkfSR7YWRkcmVzc18udG9Mb3dlckNhc2UoKX1gXG4gICAgICAgIDogYWRkcmVzc18uc3Vic3RyaW5nKDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgaGFzaCA9IGtlY2NhazI1NihzdHJpbmdUb0J5dGVzKGhleEFkZHJlc3MpLCAnYnl0ZXMnKTtcbiAgICBjb25zdCBhZGRyZXNzID0gKGNoYWluSWQgPyBoZXhBZGRyZXNzLnN1YnN0cmluZyhgJHtjaGFpbklkfTB4YC5sZW5ndGgpIDogaGV4QWRkcmVzcykuc3BsaXQoJycpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDA7IGkgKz0gMikge1xuICAgICAgICBpZiAoaGFzaFtpID4+IDFdID4+IDQgPj0gOCAmJiBhZGRyZXNzW2ldKSB7XG4gICAgICAgICAgICBhZGRyZXNzW2ldID0gYWRkcmVzc1tpXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaGFzaFtpID4+IDFdICYgMHgwZikgPj0gOCAmJiBhZGRyZXNzW2kgKyAxXSkge1xuICAgICAgICAgICAgYWRkcmVzc1tpICsgMV0gPSBhZGRyZXNzW2kgKyAxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGAweCR7YWRkcmVzcy5qb2luKCcnKX1gO1xuICAgIGNoZWNrc3VtQWRkcmVzc0NhY2hlLnNldChgJHthZGRyZXNzX30uJHtjaGFpbklkfWAsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBZGRyZXNzKGFkZHJlc3MsIFxuLyoqXG4gKiBXYXJuaW5nOiBFSVAtMTE5MSBjaGVja3N1bSBhZGRyZXNzZXMgYXJlIGdlbmVyYWxseSBub3QgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCB0aGVcbiAqIHdpZGVyIEV0aGVyZXVtIGVjb3N5c3RlbSwgbWVhbmluZyBpdCB3aWxsIGJyZWFrIHdoZW4gdmFsaWRhdGVkIGFnYWluc3QgYW4gYXBwbGljYXRpb24vdG9vbFxuICogdGhhdCByZWxpZXMgb24gRUlQLTU1IGNoZWNrc3VtIGVuY29kaW5nIChjaGVja3N1bSB3aXRob3V0IGNoYWluSWQpLlxuICpcbiAqIEl0IGlzIGhpZ2hseSByZWNvbW1lbmRlZCB0byBub3QgdXNlIHRoaXMgZmVhdHVyZSB1bmxlc3MgeW91XG4gKiBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAqXG4gKiBTZWUgbW9yZTogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzExMjFcbiAqL1xuY2hhaW5JZCkge1xuICAgIGlmICghaXNBZGRyZXNzKGFkZHJlc3MsIHsgc3RyaWN0OiBmYWxzZSB9KSlcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBZGRyZXNzRXJyb3IoeyBhZGRyZXNzIH0pO1xuICAgIHJldHVybiBjaGVja3N1bUFkZHJlc3MoYWRkcmVzcywgY2hhaW5JZCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRBZGRyZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/getAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/isAddress.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/isAddress.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAddress: () => (/* binding */ isAddress),\n/* harmony export */   isAddressCache: () => (/* binding */ isAddressCache)\n/* harmony export */ });\n/* harmony import */ var _lru_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/lru.js\");\n/* harmony import */ var _getAddress_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getAddress.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/getAddress.js\");\n\n\nconst addressRegex = /^0x[a-fA-F0-9]{40}$/;\n/** @internal */\nconst isAddressCache = /*#__PURE__*/ new _lru_js__WEBPACK_IMPORTED_MODULE_0__.LruMap(8192);\nfunction isAddress(address, options) {\n    const { strict = true } = options ?? {};\n    const cacheKey = `${address}.${strict}`;\n    if (isAddressCache.has(cacheKey))\n        return isAddressCache.get(cacheKey);\n    const result = (() => {\n        if (!addressRegex.test(address))\n            return false;\n        if (address.toLowerCase() === address)\n            return true;\n        if (strict)\n            return (0,_getAddress_js__WEBPACK_IMPORTED_MODULE_1__.checksumAddress)(address) === address;\n        return true;\n    })();\n    isAddressCache.set(cacheKey, result);\n    return result;\n}\n//# sourceMappingURL=isAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvYWRkcmVzcy9pc0FkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtQztBQUNlO0FBQ2xELHFDQUFxQyxHQUFHO0FBQ3hDO0FBQ08seUNBQXlDLDJDQUFNO0FBQy9DO0FBQ1AsWUFBWSxnQkFBZ0I7QUFDNUIsd0JBQXdCLFFBQVEsR0FBRyxPQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0RBQWU7QUFDbEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2FkZHJlc3MvaXNBZGRyZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExydU1hcCB9IGZyb20gJy4uL2xydS5qcyc7XG5pbXBvcnQgeyBjaGVja3N1bUFkZHJlc3MgfSBmcm9tICcuL2dldEFkZHJlc3MuanMnO1xuY29uc3QgYWRkcmVzc1JlZ2V4ID0gL14weFthLWZBLUYwLTldezQwfSQvO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGlzQWRkcmVzc0NhY2hlID0gLyojX19QVVJFX18qLyBuZXcgTHJ1TWFwKDgxOTIpO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWRkcmVzcyhhZGRyZXNzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBzdHJpY3QgPSB0cnVlIH0gPSBvcHRpb25zID8/IHt9O1xuICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7YWRkcmVzc30uJHtzdHJpY3R9YDtcbiAgICBpZiAoaXNBZGRyZXNzQ2FjaGUuaGFzKGNhY2hlS2V5KSlcbiAgICAgICAgcmV0dXJuIGlzQWRkcmVzc0NhY2hlLmdldChjYWNoZUtleSk7XG4gICAgY29uc3QgcmVzdWx0ID0gKCgpID0+IHtcbiAgICAgICAgaWYgKCFhZGRyZXNzUmVnZXgudGVzdChhZGRyZXNzKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGFkZHJlc3MudG9Mb3dlckNhc2UoKSA9PT0gYWRkcmVzcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoc3RyaWN0KVxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrc3VtQWRkcmVzcyhhZGRyZXNzKSA9PT0gYWRkcmVzcztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSkoKTtcbiAgICBpc0FkZHJlc3NDYWNoZS5zZXQoY2FjaGVLZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQWRkcmVzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/address/isAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHex: () => (/* binding */ isHex)\n/* harmony export */ });\nfunction isHex(value, { strict = true } = {}) {\n    if (!value)\n        return false;\n    if (typeof value !== 'string')\n        return false;\n    return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');\n}\n//# sourceMappingURL=isHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9pc0hleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sd0JBQXdCLGdCQUFnQixJQUFJO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL2lzSGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0hleCh2YWx1ZSwgeyBzdHJpY3QgPSB0cnVlIH0gPSB7fSkge1xuICAgIGlmICghdmFsdWUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBzdHJpY3QgPyAvXjB4WzAtOWEtZkEtRl0qJC8udGVzdCh2YWx1ZSkgOiB2YWx1ZS5zdGFydHNXaXRoKCcweCcpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNIZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/pad.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/pad.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pad: () => (/* binding */ pad),\n/* harmony export */   padBytes: () => (/* binding */ padBytes),\n/* harmony export */   padHex: () => (/* binding */ padHex)\n/* harmony export */ });\n/* harmony import */ var _errors_data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors/data.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/data.js\");\n\nfunction pad(hexOrBytes, { dir, size = 32 } = {}) {\n    if (typeof hexOrBytes === 'string')\n        return padHex(hexOrBytes, { dir, size });\n    return padBytes(hexOrBytes, { dir, size });\n}\nfunction padHex(hex_, { dir, size = 32 } = {}) {\n    if (size === null)\n        return hex_;\n    const hex = hex_.replace('0x', '');\n    if (hex.length > size * 2)\n        throw new _errors_data_js__WEBPACK_IMPORTED_MODULE_0__.SizeExceedsPaddingSizeError({\n            size: Math.ceil(hex.length / 2),\n            targetSize: size,\n            type: 'hex',\n        });\n    return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;\n}\nfunction padBytes(bytes, { dir, size = 32 } = {}) {\n    if (size === null)\n        return bytes;\n    if (bytes.length > size)\n        throw new _errors_data_js__WEBPACK_IMPORTED_MODULE_0__.SizeExceedsPaddingSizeError({\n            size: bytes.length,\n            targetSize: size,\n            type: 'bytes',\n        });\n    const paddedBytes = new Uint8Array(size);\n    for (let i = 0; i < size; i++) {\n        const padEnd = dir === 'right';\n        paddedBytes[padEnd ? i : size - i - 1] =\n            bytes[padEnd ? i : bytes.length - i - 1];\n    }\n    return paddedBytes;\n}\n//# sourceMappingURL=pad.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9wYWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRTtBQUM3RCwyQkFBMkIsaUJBQWlCLElBQUk7QUFDdkQ7QUFDQSxvQ0FBb0MsV0FBVztBQUMvQyxrQ0FBa0MsV0FBVztBQUM3QztBQUNPLHdCQUF3QixpQkFBaUIsSUFBSTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3RUFBMkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdCQUFnQiw0REFBNEQ7QUFDNUU7QUFDTywyQkFBMkIsaUJBQWlCLElBQUk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUEyQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9wYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2l6ZUV4Y2VlZHNQYWRkaW5nU2l6ZUVycm9yLCB9IGZyb20gJy4uLy4uL2Vycm9ycy9kYXRhLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBwYWQoaGV4T3JCeXRlcywgeyBkaXIsIHNpemUgPSAzMiB9ID0ge30pIHtcbiAgICBpZiAodHlwZW9mIGhleE9yQnl0ZXMgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gcGFkSGV4KGhleE9yQnl0ZXMsIHsgZGlyLCBzaXplIH0pO1xuICAgIHJldHVybiBwYWRCeXRlcyhoZXhPckJ5dGVzLCB7IGRpciwgc2l6ZSB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYWRIZXgoaGV4XywgeyBkaXIsIHNpemUgPSAzMiB9ID0ge30pIHtcbiAgICBpZiAoc2l6ZSA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGhleF87XG4gICAgY29uc3QgaGV4ID0gaGV4Xy5yZXBsYWNlKCcweCcsICcnKTtcbiAgICBpZiAoaGV4Lmxlbmd0aCA+IHNpemUgKiAyKVxuICAgICAgICB0aHJvdyBuZXcgU2l6ZUV4Y2VlZHNQYWRkaW5nU2l6ZUVycm9yKHtcbiAgICAgICAgICAgIHNpemU6IE1hdGguY2VpbChoZXgubGVuZ3RoIC8gMiksXG4gICAgICAgICAgICB0YXJnZXRTaXplOiBzaXplLFxuICAgICAgICAgICAgdHlwZTogJ2hleCcsXG4gICAgICAgIH0pO1xuICAgIHJldHVybiBgMHgke2hleFtkaXIgPT09ICdyaWdodCcgPyAncGFkRW5kJyA6ICdwYWRTdGFydCddKHNpemUgKiAyLCAnMCcpfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFkQnl0ZXMoYnl0ZXMsIHsgZGlyLCBzaXplID0gMzIgfSA9IHt9KSB7XG4gICAgaWYgKHNpemUgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBieXRlcztcbiAgICBpZiAoYnl0ZXMubGVuZ3RoID4gc2l6ZSlcbiAgICAgICAgdGhyb3cgbmV3IFNpemVFeGNlZWRzUGFkZGluZ1NpemVFcnJvcih7XG4gICAgICAgICAgICBzaXplOiBieXRlcy5sZW5ndGgsXG4gICAgICAgICAgICB0YXJnZXRTaXplOiBzaXplLFxuICAgICAgICAgICAgdHlwZTogJ2J5dGVzJyxcbiAgICAgICAgfSk7XG4gICAgY29uc3QgcGFkZGVkQnl0ZXMgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICBjb25zdCBwYWRFbmQgPSBkaXIgPT09ICdyaWdodCc7XG4gICAgICAgIHBhZGRlZEJ5dGVzW3BhZEVuZCA/IGkgOiBzaXplIC0gaSAtIDFdID1cbiAgICAgICAgICAgIGJ5dGVzW3BhZEVuZCA/IGkgOiBieXRlcy5sZW5ndGggLSBpIC0gMV07XG4gICAgfVxuICAgIHJldHVybiBwYWRkZWRCeXRlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/pad.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/size.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/size.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   size: () => (/* binding */ size)\n/* harmony export */ });\n/* harmony import */ var _isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js\");\n\n/**\n * @description Retrieves the size of the value (in bytes).\n *\n * @param value The value (hex or byte array) to retrieve the size of.\n * @returns The size of the value (in bytes).\n */\nfunction size(value) {\n    if ((0,_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(value, { strict: false }))\n        return Math.ceil((value.length - 2) / 2);\n    return value.length;\n}\n//# sourceMappingURL=size.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9zaXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsUUFBUSxnREFBSyxVQUFVLGVBQWU7QUFDdEM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2RhdGEvc2l6ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0hleCB9IGZyb20gJy4vaXNIZXguanMnO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gUmV0cmlldmVzIHRoZSBzaXplIG9mIHRoZSB2YWx1ZSAoaW4gYnl0ZXMpLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgKGhleCBvciBieXRlIGFycmF5KSB0byByZXRyaWV2ZSB0aGUgc2l6ZSBvZi5cbiAqIEByZXR1cm5zIFRoZSBzaXplIG9mIHRoZSB2YWx1ZSAoaW4gYnl0ZXMpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2l6ZSh2YWx1ZSkge1xuICAgIGlmIChpc0hleCh2YWx1ZSwgeyBzdHJpY3Q6IGZhbHNlIH0pKVxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh2YWx1ZS5sZW5ndGggLSAyKSAvIDIpO1xuICAgIHJldHVybiB2YWx1ZS5sZW5ndGg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaXplLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/size.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/trim.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/trim.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trim: () => (/* binding */ trim)\n/* harmony export */ });\nfunction trim(hexOrBytes, { dir = 'left' } = {}) {\n    let data = typeof hexOrBytes === 'string' ? hexOrBytes.replace('0x', '') : hexOrBytes;\n    let sliceLength = 0;\n    for (let i = 0; i < data.length - 1; i++) {\n        if (data[dir === 'left' ? i : data.length - i - 1].toString() === '0')\n            sliceLength++;\n        else\n            break;\n    }\n    data =\n        dir === 'left'\n            ? data.slice(sliceLength)\n            : data.slice(0, data.length - sliceLength);\n    if (typeof hexOrBytes === 'string') {\n        if (data.length === 1 && dir === 'right')\n            data = `${data}0`;\n        return `0x${data.length % 2 === 1 ? `0${data}` : data}`;\n    }\n    return data;\n}\n//# sourceMappingURL=trim.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS90cmltLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyw0QkFBNEIsZUFBZSxJQUFJO0FBQ3REO0FBQ0E7QUFDQSxvQkFBb0IscUJBQXFCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsS0FBSztBQUMzQixvQkFBb0IsNEJBQTRCLEtBQUssU0FBUztBQUM5RDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS90cmltLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiB0cmltKGhleE9yQnl0ZXMsIHsgZGlyID0gJ2xlZnQnIH0gPSB7fSkge1xuICAgIGxldCBkYXRhID0gdHlwZW9mIGhleE9yQnl0ZXMgPT09ICdzdHJpbmcnID8gaGV4T3JCeXRlcy5yZXBsYWNlKCcweCcsICcnKSA6IGhleE9yQnl0ZXM7XG4gICAgbGV0IHNsaWNlTGVuZ3RoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGlmIChkYXRhW2RpciA9PT0gJ2xlZnQnID8gaSA6IGRhdGEubGVuZ3RoIC0gaSAtIDFdLnRvU3RyaW5nKCkgPT09ICcwJylcbiAgICAgICAgICAgIHNsaWNlTGVuZ3RoKys7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkYXRhID1cbiAgICAgICAgZGlyID09PSAnbGVmdCdcbiAgICAgICAgICAgID8gZGF0YS5zbGljZShzbGljZUxlbmd0aClcbiAgICAgICAgICAgIDogZGF0YS5zbGljZSgwLCBkYXRhLmxlbmd0aCAtIHNsaWNlTGVuZ3RoKTtcbiAgICBpZiAodHlwZW9mIGhleE9yQnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMSAmJiBkaXIgPT09ICdyaWdodCcpXG4gICAgICAgICAgICBkYXRhID0gYCR7ZGF0YX0wYDtcbiAgICAgICAgcmV0dXJuIGAweCR7ZGF0YS5sZW5ndGggJSAyID09PSAxID8gYDAke2RhdGF9YCA6IGRhdGF9YDtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmltLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/trim.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertSize: () => (/* binding */ assertSize),\n/* harmony export */   fromHex: () => (/* binding */ fromHex),\n/* harmony export */   hexToBigInt: () => (/* binding */ hexToBigInt),\n/* harmony export */   hexToBool: () => (/* binding */ hexToBool),\n/* harmony export */   hexToNumber: () => (/* binding */ hexToNumber),\n/* harmony export */   hexToString: () => (/* binding */ hexToString)\n/* harmony export */ });\n/* harmony import */ var _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors/encoding.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/encoding.js\");\n/* harmony import */ var _data_size_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/size.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/size.js\");\n/* harmony import */ var _data_trim_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/trim.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/trim.js\");\n/* harmony import */ var _toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toBytes.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n\n\n\n\nfunction assertSize(hexOrBytes, { size }) {\n    if ((0,_data_size_js__WEBPACK_IMPORTED_MODULE_0__.size)(hexOrBytes) > size)\n        throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__.SizeOverflowError({\n            givenSize: (0,_data_size_js__WEBPACK_IMPORTED_MODULE_0__.size)(hexOrBytes),\n            maxSize: size,\n        });\n}\n/**\n * Decodes a hex string into a string, number, bigint, boolean, or byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex\n * - Example: https://viem.sh/docs/utilities/fromHex#usage\n *\n * @param hex Hex string to decode.\n * @param toOrOpts Type to convert to or options.\n * @returns Decoded value.\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x1a4', 'number')\n * // 420\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c6421', 'string')\n * // 'Hello world'\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *   size: 32,\n *   to: 'string'\n * })\n * // 'Hello world'\n */\nfunction fromHex(hex, toOrOpts) {\n    const opts = typeof toOrOpts === 'string' ? { to: toOrOpts } : toOrOpts;\n    const to = opts.to;\n    if (to === 'number')\n        return hexToNumber(hex, opts);\n    if (to === 'bigint')\n        return hexToBigInt(hex, opts);\n    if (to === 'string')\n        return hexToString(hex, opts);\n    if (to === 'boolean')\n        return hexToBool(hex, opts);\n    return (0,_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex, opts);\n}\n/**\n * Decodes a hex value into a bigint.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns BigInt value.\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x1a4', { signed: true })\n * // 420n\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420n\n */\nfunction hexToBigInt(hex, opts = {}) {\n    const { signed } = opts;\n    if (opts.size)\n        assertSize(hex, { size: opts.size });\n    const value = BigInt(hex);\n    if (!signed)\n        return value;\n    const size = (hex.length - 2) / 2;\n    const max = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n    if (value <= max)\n        return value;\n    return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;\n}\n/**\n * Decodes a hex value into a boolean.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobool\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Boolean value.\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x01')\n * // true\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x0000000000000000000000000000000000000000000000000000000000000001', { size: 32 })\n * // true\n */\nfunction hexToBool(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        assertSize(hex, { size: opts.size });\n        hex = (0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex);\n    }\n    if ((0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex) === '0x00')\n        return false;\n    if ((0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex) === '0x01')\n        return true;\n    throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__.InvalidHexBooleanError(hex);\n}\n/**\n * Decodes a hex string into a number.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Number value.\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToNumber('0x1a4')\n * // 420\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420\n */\nfunction hexToNumber(hex, opts = {}) {\n    return Number(hexToBigInt(hex, opts));\n}\n/**\n * Decodes a hex value into a UTF-8 string.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextostring\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns String value.\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c6421')\n * // 'Hello world!'\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *  size: 32,\n * })\n * // 'Hello world'\n */\nfunction hexToString(hex, opts = {}) {\n    let bytes = (0,_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex);\n    if (opts.size) {\n        assertSize(bytes, { size: opts.size });\n        bytes = (0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(bytes, { dir: 'right' });\n    }\n    return new TextDecoder().decode(bytes);\n}\n//# sourceMappingURL=fromHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvZnJvbUhleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXNGO0FBQ3RDO0FBQ1Q7QUFDRztBQUNuQyxrQ0FBa0MsTUFBTTtBQUMvQyxRQUFRLG1EQUFLO0FBQ2Isa0JBQWtCLGtFQUFpQjtBQUNuQyx1QkFBdUIsbURBQUs7QUFDNUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ087QUFDUCxrREFBa0QsZUFBZTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVEQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsdUNBQXVDLGNBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLG9HQUFvRyxVQUFVO0FBQzlHO0FBQ0E7QUFDTyxtQ0FBbUM7QUFDMUMsWUFBWSxTQUFTO0FBQ3JCO0FBQ0EsMEJBQTBCLGlCQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw0QkFBNEI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QixrR0FBa0csVUFBVTtBQUM1RztBQUNBO0FBQ08sa0NBQWtDO0FBQ3pDO0FBQ0E7QUFDQSwwQkFBMEIsaUJBQWlCO0FBQzNDLGNBQWMsbURBQUk7QUFDbEI7QUFDQSxRQUFRLG1EQUFJO0FBQ1o7QUFDQSxRQUFRLG1EQUFJO0FBQ1o7QUFDQSxjQUFjLHVFQUFzQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLG9HQUFvRyxVQUFVO0FBQzlHO0FBQ0E7QUFDTyxtQ0FBbUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNPLG1DQUFtQztBQUMxQyxnQkFBZ0IsdURBQVU7QUFDMUI7QUFDQSw0QkFBNEIsaUJBQWlCO0FBQzdDLGdCQUFnQixtREFBSSxVQUFVLGNBQWM7QUFDNUM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2VuY29kaW5nL2Zyb21IZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW52YWxpZEhleEJvb2xlYW5FcnJvciwgU2l6ZU92ZXJmbG93RXJyb3IsIH0gZnJvbSAnLi4vLi4vZXJyb3JzL2VuY29kaW5nLmpzJztcbmltcG9ydCB7IHNpemUgYXMgc2l6ZV8gfSBmcm9tICcuLi9kYXRhL3NpemUuanMnO1xuaW1wb3J0IHsgdHJpbSB9IGZyb20gJy4uL2RhdGEvdHJpbS5qcyc7XG5pbXBvcnQgeyBoZXhUb0J5dGVzIH0gZnJvbSAnLi90b0J5dGVzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRTaXplKGhleE9yQnl0ZXMsIHsgc2l6ZSB9KSB7XG4gICAgaWYgKHNpemVfKGhleE9yQnl0ZXMpID4gc2l6ZSlcbiAgICAgICAgdGhyb3cgbmV3IFNpemVPdmVyZmxvd0Vycm9yKHtcbiAgICAgICAgICAgIGdpdmVuU2l6ZTogc2l6ZV8oaGV4T3JCeXRlcyksXG4gICAgICAgICAgICBtYXhTaXplOiBzaXplLFxuICAgICAgICB9KTtcbn1cbi8qKlxuICogRGVjb2RlcyBhIGhleCBzdHJpbmcgaW50byBhIHN0cmluZywgbnVtYmVyLCBiaWdpbnQsIGJvb2xlYW4sIG9yIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvZnJvbUhleFxuICogLSBFeGFtcGxlOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvZnJvbUhleCN1c2FnZVxuICpcbiAqIEBwYXJhbSBoZXggSGV4IHN0cmluZyB0byBkZWNvZGUuXG4gKiBAcGFyYW0gdG9Pck9wdHMgVHlwZSB0byBjb252ZXJ0IHRvIG9yIG9wdGlvbnMuXG4gKiBAcmV0dXJucyBEZWNvZGVkIHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBmcm9tSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBmcm9tSGV4KCcweDFhNCcsICdudW1iZXInKVxuICogLy8gNDIwXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGZyb21IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGZyb21IZXgoJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxJywgJ3N0cmluZycpXG4gKiAvLyAnSGVsbG8gd29ybGQnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGZyb21IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGZyb21IZXgoJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsIHtcbiAqICAgc2l6ZTogMzIsXG4gKiAgIHRvOiAnc3RyaW5nJ1xuICogfSlcbiAqIC8vICdIZWxsbyB3b3JsZCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21IZXgoaGV4LCB0b09yT3B0cykge1xuICAgIGNvbnN0IG9wdHMgPSB0eXBlb2YgdG9Pck9wdHMgPT09ICdzdHJpbmcnID8geyB0bzogdG9Pck9wdHMgfSA6IHRvT3JPcHRzO1xuICAgIGNvbnN0IHRvID0gb3B0cy50bztcbiAgICBpZiAodG8gPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gaGV4VG9OdW1iZXIoaGV4LCBvcHRzKTtcbiAgICBpZiAodG8gPT09ICdiaWdpbnQnKVxuICAgICAgICByZXR1cm4gaGV4VG9CaWdJbnQoaGV4LCBvcHRzKTtcbiAgICBpZiAodG8gPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gaGV4VG9TdHJpbmcoaGV4LCBvcHRzKTtcbiAgICBpZiAodG8gPT09ICdib29sZWFuJylcbiAgICAgICAgcmV0dXJuIGhleFRvQm9vbChoZXgsIG9wdHMpO1xuICAgIHJldHVybiBoZXhUb0J5dGVzKGhleCwgb3B0cyk7XG59XG4vKipcbiAqIERlY29kZXMgYSBoZXggdmFsdWUgaW50byBhIGJpZ2ludC5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4I2hleHRvYmlnaW50XG4gKlxuICogQHBhcmFtIGhleCBIZXggdmFsdWUgdG8gZGVjb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJpZ0ludCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9CaWdJbnQgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQmlnSW50KCcweDFhNCcsIHsgc2lnbmVkOiB0cnVlIH0pXG4gKiAvLyA0MjBuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQmlnSW50IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0JpZ0ludCgnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMWE0JywgeyBzaXplOiAzMiB9KVxuICogLy8gNDIwblxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9CaWdJbnQoaGV4LCBvcHRzID0ge30pIHtcbiAgICBjb25zdCB7IHNpZ25lZCB9ID0gb3B0cztcbiAgICBpZiAob3B0cy5zaXplKVxuICAgICAgICBhc3NlcnRTaXplKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgY29uc3QgdmFsdWUgPSBCaWdJbnQoaGV4KTtcbiAgICBpZiAoIXNpZ25lZClcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGNvbnN0IHNpemUgPSAoaGV4Lmxlbmd0aCAtIDIpIC8gMjtcbiAgICBjb25zdCBtYXggPSAoMW4gPDwgKEJpZ0ludChzaXplKSAqIDhuIC0gMW4pKSAtIDFuO1xuICAgIGlmICh2YWx1ZSA8PSBtYXgpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWUgLSBCaWdJbnQoYDB4JHsnZicucGFkU3RhcnQoc2l6ZSAqIDIsICdmJyl9YCkgLSAxbjtcbn1cbi8qKlxuICogRGVjb2RlcyBhIGhleCB2YWx1ZSBpbnRvIGEgYm9vbGVhbi5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4I2hleHRvYm9vbFxuICpcbiAqIEBwYXJhbSBoZXggSGV4IHZhbHVlIHRvIGRlY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCb29sZWFuIHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb0Jvb2wgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQm9vbCgnMHgwMScpXG4gKiAvLyB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQm9vbCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9Cb29sKCcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyB0cnVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb0Jvb2woaGV4Xywgb3B0cyA9IHt9KSB7XG4gICAgbGV0IGhleCA9IGhleF87XG4gICAgaWYgKG9wdHMuc2l6ZSkge1xuICAgICAgICBhc3NlcnRTaXplKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIGhleCA9IHRyaW0oaGV4KTtcbiAgICB9XG4gICAgaWYgKHRyaW0oaGV4KSA9PT0gJzB4MDAnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRyaW0oaGV4KSA9PT0gJzB4MDEnKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEhleEJvb2xlYW5FcnJvcihoZXgpO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgaGV4IHN0cmluZyBpbnRvIGEgbnVtYmVyLlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL2Zyb21IZXgjaGV4dG9udW1iZXJcbiAqXG4gKiBAcGFyYW0gaGV4IEhleCB2YWx1ZSB0byBkZWNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgTnVtYmVyIHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb051bWJlciB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9OdW1iZXIoJzB4MWE0JylcbiAqIC8vIDQyMFxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb051bWJlciB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9CaWdJbnQoJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDFhNCcsIHsgc2l6ZTogMzIgfSlcbiAqIC8vIDQyMFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9OdW1iZXIoaGV4LCBvcHRzID0ge30pIHtcbiAgICByZXR1cm4gTnVtYmVyKGhleFRvQmlnSW50KGhleCwgb3B0cykpO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgaGV4IHZhbHVlIGludG8gYSBVVEYtOCBzdHJpbmcuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvZnJvbUhleCNoZXh0b3N0cmluZ1xuICpcbiAqIEBwYXJhbSBoZXggSGV4IHZhbHVlIHRvIGRlY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBTdHJpbmcgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvU3RyaW5nIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb1N0cmluZygnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEnKVxuICogLy8gJ0hlbGxvIHdvcmxkISdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9TdHJpbmcgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvU3RyaW5nKCcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLCB7XG4gKiAgc2l6ZTogMzIsXG4gKiB9KVxuICogLy8gJ0hlbGxvIHdvcmxkJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9TdHJpbmcoaGV4LCBvcHRzID0ge30pIHtcbiAgICBsZXQgYnl0ZXMgPSBoZXhUb0J5dGVzKGhleCk7XG4gICAgaWYgKG9wdHMuc2l6ZSkge1xuICAgICAgICBhc3NlcnRTaXplKGJ5dGVzLCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgYnl0ZXMgPSB0cmltKGJ5dGVzLCB7IGRpcjogJ3JpZ2h0JyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShieXRlcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tSGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boolToBytes: () => (/* binding */ boolToBytes),\n/* harmony export */   hexToBytes: () => (/* binding */ hexToBytes),\n/* harmony export */   numberToBytes: () => (/* binding */ numberToBytes),\n/* harmony export */   stringToBytes: () => (/* binding */ stringToBytes),\n/* harmony export */   toBytes: () => (/* binding */ toBytes)\n/* harmony export */ });\n/* harmony import */ var _errors_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../errors/base.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/base.js\");\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _data_pad_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/pad.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/pad.js\");\n/* harmony import */ var _fromHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fromHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n/* harmony import */ var _toHex_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\n\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes\n * - Example: https://viem.sh/docs/utilities/toBytes#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes('Hello world')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nfunction toBytes(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToBytes(value, opts);\n    if (typeof value === 'boolean')\n        return boolToBytes(value, opts);\n    if ((0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(value))\n        return hexToBytes(value, opts);\n    return stringToBytes(value, opts);\n}\n/**\n * Encodes a boolean into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes\n *\n * @param value Boolean value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true)\n * // Uint8Array([1])\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true, { size: 32 })\n * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])\n */\nfunction boolToBytes(value, opts = {}) {\n    const bytes = new Uint8Array(1);\n    bytes[0] = Number(value);\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(bytes, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(bytes, { size: opts.size });\n    }\n    return bytes;\n}\n// We use very optimized technique to convert hex string to byte array\nconst charCodeMap = {\n    zero: 48,\n    nine: 57,\n    A: 65,\n    F: 70,\n    a: 97,\n    f: 102,\n};\nfunction charCodeToBase16(char) {\n    if (char >= charCodeMap.zero && char <= charCodeMap.nine)\n        return char - charCodeMap.zero;\n    if (char >= charCodeMap.A && char <= charCodeMap.F)\n        return char - (charCodeMap.A - 10);\n    if (char >= charCodeMap.a && char <= charCodeMap.f)\n        return char - (charCodeMap.a - 10);\n    return undefined;\n}\n/**\n * Encodes a hex string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes\n *\n * @param hex Hex string to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nfunction hexToBytes(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(hex, { size: opts.size });\n        hex = (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(hex, { dir: 'right', size: opts.size });\n    }\n    let hexString = hex.slice(2);\n    if (hexString.length % 2)\n        hexString = `0${hexString}`;\n    const length = hexString.length / 2;\n    const bytes = new Uint8Array(length);\n    for (let index = 0, j = 0; index < length; index++) {\n        const nibbleLeft = charCodeToBase16(hexString.charCodeAt(j++));\n        const nibbleRight = charCodeToBase16(hexString.charCodeAt(j++));\n        if (nibbleLeft === undefined || nibbleRight === undefined) {\n            throw new _errors_base_js__WEBPACK_IMPORTED_MODULE_3__.BaseError(`Invalid byte sequence (\"${hexString[j - 2]}${hexString[j - 1]}\" in \"${hexString}\").`);\n        }\n        bytes[index] = nibbleLeft * 16 + nibbleRight;\n    }\n    return bytes;\n}\n/**\n * Encodes a number into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes\n *\n * @param value Number to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nfunction numberToBytes(value, opts) {\n    const hex = (0,_toHex_js__WEBPACK_IMPORTED_MODULE_4__.numberToHex)(value, opts);\n    return hexToBytes(hex);\n}\n/**\n * Encodes a UTF-8 string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes\n *\n * @param value String to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nfunction stringToBytes(value, opts = {}) {\n    const bytes = encoder.encode(value);\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(bytes, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(bytes, { dir: 'right', size: opts.size });\n    }\n    return bytes;\n}\n//# sourceMappingURL=toBytes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvdG9CeXRlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ1I7QUFDSjtBQUNLO0FBQ0E7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLCtCQUErQixTQUFTO0FBQ3hDO0FBQ0E7QUFDTyxpQ0FBaUM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFLO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsb0NBQW9DLFVBQVU7QUFDOUM7QUFDQTtBQUNPLHFDQUFxQztBQUM1QztBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFVLFVBQVUsaUJBQWlCO0FBQzdDLGVBQWUsaURBQUcsVUFBVSxpQkFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekIsMkRBQTJELFVBQVU7QUFDckU7QUFDQTtBQUNPLG1DQUFtQztBQUMxQztBQUNBO0FBQ0EsUUFBUSx1REFBVSxRQUFRLGlCQUFpQjtBQUMzQyxjQUFjLGlEQUFHLFFBQVEsK0JBQStCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVO0FBQ2xDO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBUyw0QkFBNEIsaUJBQWlCLEVBQUUsaUJBQWlCLFFBQVEsVUFBVTtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCLHFDQUFxQyxTQUFTO0FBQzlDO0FBQ0E7QUFDTztBQUNQLGdCQUFnQixzREFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCLGdEQUFnRCxVQUFVO0FBQzFEO0FBQ0E7QUFDTyx1Q0FBdUM7QUFDOUM7QUFDQTtBQUNBLFFBQVEsdURBQVUsVUFBVSxpQkFBaUI7QUFDN0MsZUFBZSxpREFBRyxVQUFVLCtCQUErQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvdG9CeXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvcnMvYmFzZS5qcyc7XG5pbXBvcnQgeyBpc0hleCB9IGZyb20gJy4uL2RhdGEvaXNIZXguanMnO1xuaW1wb3J0IHsgcGFkIH0gZnJvbSAnLi4vZGF0YS9wYWQuanMnO1xuaW1wb3J0IHsgYXNzZXJ0U2l6ZSB9IGZyb20gJy4vZnJvbUhleC5qcyc7XG5pbXBvcnQgeyBudW1iZXJUb0hleCwgfSBmcm9tICcuL3RvSGV4LmpzJztcbmNvbnN0IGVuY29kZXIgPSAvKiNfX1BVUkVfXyovIG5ldyBUZXh0RW5jb2RlcigpO1xuLyoqXG4gKiBFbmNvZGVzIGEgVVRGLTggc3RyaW5nLCBoZXggdmFsdWUsIGJpZ2ludCwgbnVtYmVyIG9yIGJvb2xlYW4gdG8gYSBieXRlIGFycmF5LlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvQnl0ZXNcbiAqIC0gRXhhbXBsZTogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvQnl0ZXMjdXNhZ2VcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJ5dGUgYXJyYXkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHRvQnl0ZXMoJ0hlbGxvIHdvcmxkJylcbiAqIC8vIFVpbnQ4QXJyYXkoWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCA4NywgMTExLCAxMTQsIDEwOCwgMTAwLCAzM10pXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHRvQnl0ZXMoNDIwKVxuICogLy8gVWludDhBcnJheShbMSwgMTY0XSlcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9CeXRlcyg0MjAsIHsgc2l6ZTogNCB9KVxuICogLy8gVWludDhBcnJheShbMCwgMCwgMSwgMTY0XSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQnl0ZXModmFsdWUsIG9wdHMgPSB7fSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcpXG4gICAgICAgIHJldHVybiBudW1iZXJUb0J5dGVzKHZhbHVlLCBvcHRzKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpXG4gICAgICAgIHJldHVybiBib29sVG9CeXRlcyh2YWx1ZSwgb3B0cyk7XG4gICAgaWYgKGlzSGV4KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIGhleFRvQnl0ZXModmFsdWUsIG9wdHMpO1xuICAgIHJldHVybiBzdHJpbmdUb0J5dGVzKHZhbHVlLCBvcHRzKTtcbn1cbi8qKlxuICogRW5jb2RlcyBhIGJvb2xlYW4gaW50byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlcyNib29sdG9ieXRlc1xuICpcbiAqIEBwYXJhbSB2YWx1ZSBCb29sZWFuIHZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCeXRlIGFycmF5IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBib29sVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYm9vbFRvQnl0ZXModHJ1ZSlcbiAqIC8vIFVpbnQ4QXJyYXkoWzFdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBib29sVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYm9vbFRvQnl0ZXModHJ1ZSwgeyBzaXplOiAzMiB9KVxuICogLy8gVWludDhBcnJheShbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMV0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib29sVG9CeXRlcyh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICBieXRlc1swXSA9IE51bWJlcih2YWx1ZSk7XG4gICAgaWYgKHR5cGVvZiBvcHRzLnNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGFzc2VydFNpemUoYnl0ZXMsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICByZXR1cm4gcGFkKGJ5dGVzLCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuLy8gV2UgdXNlIHZlcnkgb3B0aW1pemVkIHRlY2huaXF1ZSB0byBjb252ZXJ0IGhleCBzdHJpbmcgdG8gYnl0ZSBhcnJheVxuY29uc3QgY2hhckNvZGVNYXAgPSB7XG4gICAgemVybzogNDgsXG4gICAgbmluZTogNTcsXG4gICAgQTogNjUsXG4gICAgRjogNzAsXG4gICAgYTogOTcsXG4gICAgZjogMTAyLFxufTtcbmZ1bmN0aW9uIGNoYXJDb2RlVG9CYXNlMTYoY2hhcikge1xuICAgIGlmIChjaGFyID49IGNoYXJDb2RlTWFwLnplcm8gJiYgY2hhciA8PSBjaGFyQ29kZU1hcC5uaW5lKVxuICAgICAgICByZXR1cm4gY2hhciAtIGNoYXJDb2RlTWFwLnplcm87XG4gICAgaWYgKGNoYXIgPj0gY2hhckNvZGVNYXAuQSAmJiBjaGFyIDw9IGNoYXJDb2RlTWFwLkYpXG4gICAgICAgIHJldHVybiBjaGFyIC0gKGNoYXJDb2RlTWFwLkEgLSAxMCk7XG4gICAgaWYgKGNoYXIgPj0gY2hhckNvZGVNYXAuYSAmJiBjaGFyIDw9IGNoYXJDb2RlTWFwLmYpXG4gICAgICAgIHJldHVybiBjaGFyIC0gKGNoYXJDb2RlTWFwLmEgLSAxMCk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogRW5jb2RlcyBhIGhleCBzdHJpbmcgaW50byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlcyNoZXh0b2J5dGVzXG4gKlxuICogQHBhcmFtIGhleCBIZXggc3RyaW5nIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCeXRlIGFycmF5IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0J5dGVzKCcweDQ4NjU2YzZjNmYyMDc3NmY3MjZjNjQyMScpXG4gKiAvLyBVaW50OEFycmF5KFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgODcsIDExMSwgMTE0LCAxMDgsIDEwMCwgMzNdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0J5dGVzKCcweDQ4NjU2YzZjNmYyMDc3NmY3MjZjNjQyMScsIHsgc2l6ZTogMzIgfSlcbiAqIC8vIFVpbnQ4QXJyYXkoWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCA4NywgMTExLCAxMTQsIDEwOCwgMTAwLCAzMywgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb0J5dGVzKGhleF8sIG9wdHMgPSB7fSkge1xuICAgIGxldCBoZXggPSBoZXhfO1xuICAgIGlmIChvcHRzLnNpemUpIHtcbiAgICAgICAgYXNzZXJ0U2l6ZShoZXgsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICBoZXggPSBwYWQoaGV4LCB7IGRpcjogJ3JpZ2h0Jywgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIH1cbiAgICBsZXQgaGV4U3RyaW5nID0gaGV4LnNsaWNlKDIpO1xuICAgIGlmIChoZXhTdHJpbmcubGVuZ3RoICUgMilcbiAgICAgICAgaGV4U3RyaW5nID0gYDAke2hleFN0cmluZ31gO1xuICAgIGNvbnN0IGxlbmd0aCA9IGhleFN0cmluZy5sZW5ndGggLyAyO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDAsIGogPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBuaWJibGVMZWZ0ID0gY2hhckNvZGVUb0Jhc2UxNihoZXhTdHJpbmcuY2hhckNvZGVBdChqKyspKTtcbiAgICAgICAgY29uc3QgbmliYmxlUmlnaHQgPSBjaGFyQ29kZVRvQmFzZTE2KGhleFN0cmluZy5jaGFyQ29kZUF0KGorKykpO1xuICAgICAgICBpZiAobmliYmxlTGVmdCA9PT0gdW5kZWZpbmVkIHx8IG5pYmJsZVJpZ2h0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBCYXNlRXJyb3IoYEludmFsaWQgYnl0ZSBzZXF1ZW5jZSAoXCIke2hleFN0cmluZ1tqIC0gMl19JHtoZXhTdHJpbmdbaiAtIDFdfVwiIGluIFwiJHtoZXhTdHJpbmd9XCIpLmApO1xuICAgICAgICB9XG4gICAgICAgIGJ5dGVzW2luZGV4XSA9IG5pYmJsZUxlZnQgKiAxNiArIG5pYmJsZVJpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG4vKipcbiAqIEVuY29kZXMgYSBudW1iZXIgaW50byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9CeXRlcyNudW1iZXJ0b2J5dGVzXG4gKlxuICogQHBhcmFtIHZhbHVlIE51bWJlciB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQnl0ZSBhcnJheSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgbnVtYmVyVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gbnVtYmVyVG9CeXRlcyg0MjApXG4gKiAvLyBVaW50OEFycmF5KFsxLCAxNjRdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBudW1iZXJUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBudW1iZXJUb0J5dGVzKDQyMCwgeyBzaXplOiA0IH0pXG4gKiAvLyBVaW50OEFycmF5KFswLCAwLCAxLCAxNjRdKVxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyVG9CeXRlcyh2YWx1ZSwgb3B0cykge1xuICAgIGNvbnN0IGhleCA9IG51bWJlclRvSGV4KHZhbHVlLCBvcHRzKTtcbiAgICByZXR1cm4gaGV4VG9CeXRlcyhoZXgpO1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgVVRGLTggc3RyaW5nIGludG8gYSBieXRlIGFycmF5LlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvQnl0ZXMjc3RyaW5ndG9ieXRlc1xuICpcbiAqIEBwYXJhbSB2YWx1ZSBTdHJpbmcgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJ5dGUgYXJyYXkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHN0cmluZ1RvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHN0cmluZ1RvQnl0ZXMoJ0hlbGxvIHdvcmxkIScpXG4gKiAvLyBVaW50OEFycmF5KFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgMTE5LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzXSlcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgc3RyaW5nVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gc3RyaW5nVG9CeXRlcygnSGVsbG8gd29ybGQhJywgeyBzaXplOiAzMiB9KVxuICogLy8gVWludDhBcnJheShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDg3LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXModmFsdWUsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IGJ5dGVzID0gZW5jb2Rlci5lbmNvZGUodmFsdWUpO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5zaXplID09PSAnbnVtYmVyJykge1xuICAgICAgICBhc3NlcnRTaXplKGJ5dGVzLCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgcmV0dXJuIHBhZChieXRlcywgeyBkaXI6ICdyaWdodCcsIHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9CeXRlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boolToHex: () => (/* binding */ boolToHex),\n/* harmony export */   bytesToHex: () => (/* binding */ bytesToHex),\n/* harmony export */   numberToHex: () => (/* binding */ numberToHex),\n/* harmony export */   stringToHex: () => (/* binding */ stringToHex),\n/* harmony export */   toHex: () => (/* binding */ toHex)\n/* harmony export */ });\n/* harmony import */ var _errors_encoding_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors/encoding.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/errors/encoding.js\");\n/* harmony import */ var _data_pad_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/pad.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/pad.js\");\n/* harmony import */ var _fromHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fromHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n\n\n\nconst hexes = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));\n/**\n * Encodes a string, number, bigint, or ByteArray into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex\n * - Example: https://viem.sh/docs/utilities/toHex#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world')\n * // '0x48656c6c6f20776f726c6421'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex(420)\n * // '0x1a4'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world', { size: 32 })\n * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'\n */\nfunction toHex(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToHex(value, opts);\n    if (typeof value === 'string') {\n        return stringToHex(value, opts);\n    }\n    if (typeof value === 'boolean')\n        return boolToHex(value, opts);\n    return bytesToHex(value, opts);\n}\n/**\n * Encodes a boolean into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#booltohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true)\n * // '0x1'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(false)\n * // '0x0'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true, { size: 32 })\n * // '0x0000000000000000000000000000000000000000000000000000000000000001'\n */\nfunction boolToHex(value, opts = {}) {\n    const hex = `0x${Number(value)}`;\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_0__.assertSize)(hex, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a bytes array into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nfunction bytesToHex(value, opts = {}) {\n    let string = '';\n    for (let i = 0; i < value.length; i++) {\n        string += hexes[value[i]];\n    }\n    const hex = `0x${string}`;\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_0__.assertSize)(hex, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { dir: 'right', size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a number or bigint into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420)\n * // '0x1a4'\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420, { size: 32 })\n * // '0x00000000000000000000000000000000000000000000000000000000000001a4'\n */\nfunction numberToHex(value_, opts = {}) {\n    const { signed, size } = opts;\n    const value = BigInt(value_);\n    let maxValue;\n    if (size) {\n        if (signed)\n            maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n        else\n            maxValue = 2n ** (BigInt(size) * 8n) - 1n;\n    }\n    else if (typeof value_ === 'number') {\n        maxValue = BigInt(Number.MAX_SAFE_INTEGER);\n    }\n    const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;\n    if ((maxValue && value > maxValue) || value < minValue) {\n        const suffix = typeof value_ === 'bigint' ? 'n' : '';\n        throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_2__.IntegerOutOfRangeError({\n            max: maxValue ? `${maxValue}${suffix}` : undefined,\n            min: `${minValue}${suffix}`,\n            signed,\n            size,\n            value: `${value_}${suffix}`,\n        });\n    }\n    const hex = `0x${(signed && value < 0 ? (1n << BigInt(size * 8)) + BigInt(value) : value).toString(16)}`;\n    if (size)\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { size });\n    return hex;\n}\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!')\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!', { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nfunction stringToHex(value_, opts = {}) {\n    const value = encoder.encode(value_);\n    return bytesToHex(value, opts);\n}\n//# sourceMappingURL=toHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvdG9IZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBbUU7QUFDOUI7QUFDSztBQUMxQyx5Q0FBeUMsYUFBYTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLHVDQUF1QyxVQUFVO0FBQ2pEO0FBQ0E7QUFDTywrQkFBK0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEIsa0NBQWtDLFVBQVU7QUFDNUM7QUFDQTtBQUNPLG1DQUFtQztBQUMxQyxxQkFBcUIsY0FBYztBQUNuQztBQUNBLFFBQVEsdURBQVUsUUFBUSxpQkFBaUI7QUFDM0MsZUFBZSxpREFBRyxRQUFRLGlCQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6Qix3R0FBd0csVUFBVTtBQUNsSDtBQUNBO0FBQ08sb0NBQW9DO0FBQzNDO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0EscUJBQXFCLE9BQU87QUFDNUI7QUFDQSxRQUFRLHVEQUFVLFFBQVEsaUJBQWlCO0FBQzNDLGVBQWUsaURBQUcsUUFBUSwrQkFBK0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsbUNBQW1DLFVBQVU7QUFDN0M7QUFDQTtBQUNPLHNDQUFzQztBQUM3QyxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1RUFBc0I7QUFDeEMsK0JBQStCLFNBQVMsRUFBRSxPQUFPO0FBQ2pELG9CQUFvQixTQUFTLEVBQUUsT0FBTztBQUN0QztBQUNBO0FBQ0Esc0JBQXNCLE9BQU8sRUFBRSxPQUFPO0FBQ3RDLFNBQVM7QUFDVDtBQUNBLHFCQUFxQixzRkFBc0Y7QUFDM0c7QUFDQSxlQUFlLGlEQUFHLFFBQVEsTUFBTTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQiw4Q0FBOEMsVUFBVTtBQUN4RDtBQUNBO0FBQ08sc0NBQXNDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy90b0hleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnRlZ2VyT3V0T2ZSYW5nZUVycm9yLCB9IGZyb20gJy4uLy4uL2Vycm9ycy9lbmNvZGluZy5qcyc7XG5pbXBvcnQgeyBwYWQgfSBmcm9tICcuLi9kYXRhL3BhZC5qcyc7XG5pbXBvcnQgeyBhc3NlcnRTaXplIH0gZnJvbSAnLi9mcm9tSGV4LmpzJztcbmNvbnN0IGhleGVzID0gLyojX19QVVJFX18qLyBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyNTYgfSwgKF92LCBpKSA9PiBpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKTtcbi8qKlxuICogRW5jb2RlcyBhIHN0cmluZywgbnVtYmVyLCBiaWdpbnQsIG9yIEJ5dGVBcnJheSBpbnRvIGEgaGV4IHN0cmluZ1xuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4XG4gKiAtIEV4YW1wbGU6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0hleCN1c2FnZVxuICpcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgSGV4IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyB0b0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gdG9IZXgoJ0hlbGxvIHdvcmxkJylcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDc3NmY3MjZjNjQyMSdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHRvSGV4KDQyMClcbiAqIC8vICcweDFhNCdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHRvSGV4KCdIZWxsbyB3b3JsZCcsIHsgc2l6ZTogMzIgfSlcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDc3NmY3MjZjNjQyMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0hleCh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYmlnaW50JylcbiAgICAgICAgcmV0dXJuIG51bWJlclRvSGV4KHZhbHVlLCBvcHRzKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gc3RyaW5nVG9IZXgodmFsdWUsIG9wdHMpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpXG4gICAgICAgIHJldHVybiBib29sVG9IZXgodmFsdWUsIG9wdHMpO1xuICAgIHJldHVybiBieXRlc1RvSGV4KHZhbHVlLCBvcHRzKTtcbn1cbi8qKlxuICogRW5jb2RlcyBhIGJvb2xlYW4gaW50byBhIGhleCBzdHJpbmdcbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0hleCNib29sdG9oZXhcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEhleCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYm9vbFRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBib29sVG9IZXgodHJ1ZSlcbiAqIC8vICcweDEnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJvb2xUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYm9vbFRvSGV4KGZhbHNlKVxuICogLy8gJzB4MCdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYm9vbFRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBib29sVG9IZXgodHJ1ZSwgeyBzaXplOiAzMiB9KVxuICogLy8gJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMSdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvb2xUb0hleCh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgaGV4ID0gYDB4JHtOdW1iZXIodmFsdWUpfWA7XG4gICAgaWYgKHR5cGVvZiBvcHRzLnNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGFzc2VydFNpemUoaGV4LCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgcmV0dXJuIHBhZChoZXgsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIH1cbiAgICByZXR1cm4gaGV4O1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgYnl0ZXMgYXJyYXkgaW50byBhIGhleCBzdHJpbmdcbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0hleCNieXRlc3RvaGV4XG4gKlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBIZXggdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJ5dGVzVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJ5dGVzVG9IZXgoVWludDhBcnJheS5mcm9tKFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgODcsIDExMSwgMTE0LCAxMDgsIDEwMCwgMzNdKVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBieXRlc1RvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBieXRlc1RvSGV4KFVpbnQ4QXJyYXkuZnJvbShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDg3LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzXSksIHsgc2l6ZTogMzIgfSlcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvSGV4KHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICBsZXQgc3RyaW5nID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBzdHJpbmcgKz0gaGV4ZXNbdmFsdWVbaV1dO1xuICAgIH1cbiAgICBjb25zdCBoZXggPSBgMHgke3N0cmluZ31gO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5zaXplID09PSAnbnVtYmVyJykge1xuICAgICAgICBhc3NlcnRTaXplKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIHJldHVybiBwYWQoaGV4LCB7IGRpcjogJ3JpZ2h0Jywgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIH1cbiAgICByZXR1cm4gaGV4O1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgbnVtYmVyIG9yIGJpZ2ludCBpbnRvIGEgaGV4IHN0cmluZ1xuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4I251bWJlcnRvaGV4XG4gKlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBIZXggdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IG51bWJlclRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBudW1iZXJUb0hleCg0MjApXG4gKiAvLyAnMHgxYTQnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IG51bWJlclRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBudW1iZXJUb0hleCg0MjAsIHsgc2l6ZTogMzIgfSlcbiAqIC8vICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxYTQnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJUb0hleCh2YWx1ZV8sIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgc2lnbmVkLCBzaXplIH0gPSBvcHRzO1xuICAgIGNvbnN0IHZhbHVlID0gQmlnSW50KHZhbHVlXyk7XG4gICAgbGV0IG1heFZhbHVlO1xuICAgIGlmIChzaXplKSB7XG4gICAgICAgIGlmIChzaWduZWQpXG4gICAgICAgICAgICBtYXhWYWx1ZSA9ICgxbiA8PCAoQmlnSW50KHNpemUpICogOG4gLSAxbikpIC0gMW47XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG1heFZhbHVlID0gMm4gKiogKEJpZ0ludChzaXplKSAqIDhuKSAtIDFuO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVfID09PSAnbnVtYmVyJykge1xuICAgICAgICBtYXhWYWx1ZSA9IEJpZ0ludChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUik7XG4gICAgfVxuICAgIGNvbnN0IG1pblZhbHVlID0gdHlwZW9mIG1heFZhbHVlID09PSAnYmlnaW50JyAmJiBzaWduZWQgPyAtbWF4VmFsdWUgLSAxbiA6IDA7XG4gICAgaWYgKChtYXhWYWx1ZSAmJiB2YWx1ZSA+IG1heFZhbHVlKSB8fCB2YWx1ZSA8IG1pblZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHN1ZmZpeCA9IHR5cGVvZiB2YWx1ZV8gPT09ICdiaWdpbnQnID8gJ24nIDogJyc7XG4gICAgICAgIHRocm93IG5ldyBJbnRlZ2VyT3V0T2ZSYW5nZUVycm9yKHtcbiAgICAgICAgICAgIG1heDogbWF4VmFsdWUgPyBgJHttYXhWYWx1ZX0ke3N1ZmZpeH1gIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWluOiBgJHttaW5WYWx1ZX0ke3N1ZmZpeH1gLFxuICAgICAgICAgICAgc2lnbmVkLFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIHZhbHVlOiBgJHt2YWx1ZV99JHtzdWZmaXh9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGhleCA9IGAweCR7KHNpZ25lZCAmJiB2YWx1ZSA8IDAgPyAoMW4gPDwgQmlnSW50KHNpemUgKiA4KSkgKyBCaWdJbnQodmFsdWUpIDogdmFsdWUpLnRvU3RyaW5nKDE2KX1gO1xuICAgIGlmIChzaXplKVxuICAgICAgICByZXR1cm4gcGFkKGhleCwgeyBzaXplIH0pO1xuICAgIHJldHVybiBoZXg7XG59XG5jb25zdCBlbmNvZGVyID0gLyojX19QVVJFX18qLyBuZXcgVGV4dEVuY29kZXIoKTtcbi8qKlxuICogRW5jb2RlcyBhIFVURi04IHN0cmluZyBpbnRvIGEgaGV4IHN0cmluZ1xuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvSGV4I3N0cmluZ3RvaGV4XG4gKlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBIZXggdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHN0cmluZ1RvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBzdHJpbmdUb0hleCgnSGVsbG8gV29ybGQhJylcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMSdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgc3RyaW5nVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHN0cmluZ1RvSGV4KCdIZWxsbyBXb3JsZCEnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyAnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9IZXgodmFsdWVfLCBvcHRzID0ge30pIHtcbiAgICBjb25zdCB2YWx1ZSA9IGVuY29kZXIuZW5jb2RlKHZhbHVlXyk7XG4gICAgcmV0dXJuIGJ5dGVzVG9IZXgodmFsdWUsIG9wdHMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9IZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/hash/keccak256.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/hash/keccak256.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keccak256: () => (/* binding */ keccak256)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/sha3 */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/sha3.js\");\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/toBytes.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n/* harmony import */ var _encoding_toHex_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../encoding/toHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\nfunction keccak256(value, to_) {\n    const to = to_ || 'hex';\n    const bytes = (0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_0__.keccak_256)((0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_1__.isHex)(value, { strict: false }) ? (0,_encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.toBytes)(value) : value);\n    if (to === 'bytes')\n        return bytes;\n    return (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_3__.toHex)(bytes);\n}\n//# sourceMappingURL=keccak256.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvaGFzaC9rZWNjYWsyNTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0Q7QUFDUDtBQUNRO0FBQ0o7QUFDdEM7QUFDUDtBQUNBLGtCQUFrQiw4REFBVSxDQUFDLHFEQUFLLFVBQVUsZUFBZSxJQUFJLDZEQUFPO0FBQ3RFO0FBQ0E7QUFDQSxXQUFXLHlEQUFLO0FBQ2hCO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2hhc2gva2VjY2FrMjU2LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGtlY2Nha18yNTYgfSBmcm9tICdAbm9ibGUvaGFzaGVzL3NoYTMnO1xuaW1wb3J0IHsgaXNIZXggfSBmcm9tICcuLi9kYXRhL2lzSGV4LmpzJztcbmltcG9ydCB7IHRvQnl0ZXMgfSBmcm9tICcuLi9lbmNvZGluZy90b0J5dGVzLmpzJztcbmltcG9ydCB7IHRvSGV4IH0gZnJvbSAnLi4vZW5jb2RpbmcvdG9IZXguanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGtlY2NhazI1Nih2YWx1ZSwgdG9fKSB7XG4gICAgY29uc3QgdG8gPSB0b18gfHwgJ2hleCc7XG4gICAgY29uc3QgYnl0ZXMgPSBrZWNjYWtfMjU2KGlzSGV4KHZhbHVlLCB7IHN0cmljdDogZmFsc2UgfSkgPyB0b0J5dGVzKHZhbHVlKSA6IHZhbHVlKTtcbiAgICBpZiAodG8gPT09ICdieXRlcycpXG4gICAgICAgIHJldHVybiBieXRlcztcbiAgICByZXR1cm4gdG9IZXgoYnl0ZXMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VjY2FrMjU2LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/hash/keccak256.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/lru.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/lru.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LruMap: () => (/* binding */ LruMap)\n/* harmony export */ });\n/**\n * Map with a LRU (Least recently used) policy.\n *\n * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU\n */\nclass LruMap extends Map {\n    constructor(size) {\n        super();\n        Object.defineProperty(this, \"maxSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.maxSize = size;\n    }\n    get(key) {\n        const value = super.get(key);\n        if (super.has(key) && value !== undefined) {\n            this.delete(key);\n            super.set(key, value);\n        }\n        return value;\n    }\n    set(key, value) {\n        super.set(key, value);\n        if (this.maxSize && this.size > this.maxSize) {\n            const firstKey = this.keys().next().value;\n            if (firstKey)\n                this.delete(firstKey);\n        }\n        return this;\n    }\n}\n//# sourceMappingURL=lru.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvbHJ1LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2xydS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1hcCB3aXRoIGEgTFJVIChMZWFzdCByZWNlbnRseSB1c2VkKSBwb2xpY3kuXG4gKlxuICogQGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FjaGVfcmVwbGFjZW1lbnRfcG9saWNpZXMjTFJVXG4gKi9cbmV4cG9ydCBjbGFzcyBMcnVNYXAgZXh0ZW5kcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKHNpemUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4U2l6ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1heFNpemUgPSBzaXplO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3VwZXIuZ2V0KGtleSk7XG4gICAgICAgIGlmIChzdXBlci5oYXMoa2V5KSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgc3VwZXIuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3VwZXIuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICBpZiAodGhpcy5tYXhTaXplICYmIHRoaXMuc2l6ZSA+IHRoaXMubWF4U2l6ZSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RLZXkgPSB0aGlzLmtleXMoKS5uZXh0KCkudmFsdWU7XG4gICAgICAgICAgICBpZiAoZmlyc3RLZXkpXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGUoZmlyc3RLZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxydS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/lru.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverAddress.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverAddress.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recoverAddress: () => (/* binding */ recoverAddress)\n/* harmony export */ });\n/* harmony import */ var _accounts_utils_publicKeyToAddress_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../accounts/utils/publicKeyToAddress.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js\");\n/* harmony import */ var _recoverPublicKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./recoverPublicKey.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverPublicKey.js\");\n\n\nasync function recoverAddress({ hash, signature, }) {\n    return (0,_accounts_utils_publicKeyToAddress_js__WEBPACK_IMPORTED_MODULE_0__.publicKeyToAddress)(await (0,_recoverPublicKey_js__WEBPACK_IMPORTED_MODULE_1__.recoverPublicKey)({ hash, signature }));\n}\n//# sourceMappingURL=recoverAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvc2lnbmF0dXJlL3JlY292ZXJBZGRyZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRjtBQUN2QjtBQUNsRCxnQ0FBZ0Msa0JBQWtCO0FBQ3pELFdBQVcseUZBQWtCLE9BQU8sc0VBQWdCLEdBQUcsaUJBQWlCO0FBQ3hFO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL3NpZ25hdHVyZS9yZWNvdmVyQWRkcmVzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwdWJsaWNLZXlUb0FkZHJlc3MgfSBmcm9tICcuLi8uLi9hY2NvdW50cy91dGlscy9wdWJsaWNLZXlUb0FkZHJlc3MuanMnO1xuaW1wb3J0IHsgcmVjb3ZlclB1YmxpY0tleSB9IGZyb20gJy4vcmVjb3ZlclB1YmxpY0tleS5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVjb3ZlckFkZHJlc3MoeyBoYXNoLCBzaWduYXR1cmUsIH0pIHtcbiAgICByZXR1cm4gcHVibGljS2V5VG9BZGRyZXNzKGF3YWl0IHJlY292ZXJQdWJsaWNLZXkoeyBoYXNoLCBzaWduYXR1cmUgfSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb3ZlckFkZHJlc3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverPublicKey.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverPublicKey.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recoverPublicKey: () => (/* binding */ recoverPublicKey)\n/* harmony export */ });\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _data_size_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/size.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/data/size.js\");\n/* harmony import */ var _encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/fromHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n/* harmony import */ var _encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../encoding/toHex.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\nasync function recoverPublicKey({ hash, signature, }) {\n    const hashHex = (0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(hash) ? hash : (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__.toHex)(hash);\n    const { secp256k1 } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/@walletconnect\").then(__webpack_require__.bind(__webpack_require__, /*! @noble/curves/secp256k1 */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/secp256k1.js\"));\n    const signature_ = (() => {\n        // typeof signature: `Signature`\n        if (typeof signature === 'object' && 'r' in signature && 's' in signature) {\n            const { r, s, v, yParity } = signature;\n            const yParityOrV = Number(yParity ?? v);\n            const recoveryBit = toRecoveryBit(yParityOrV);\n            return new secp256k1.Signature((0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToBigInt)(r), (0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToBigInt)(s)).addRecoveryBit(recoveryBit);\n        }\n        // typeof signature: `Hex | ByteArray`\n        const signatureHex = (0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(signature) ? signature : (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__.toHex)(signature);\n        if ((0,_data_size_js__WEBPACK_IMPORTED_MODULE_3__.size)(signatureHex) !== 65)\n            throw new Error('invalid signature length');\n        const yParityOrV = (0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToNumber)(`0x${signatureHex.slice(130)}`);\n        const recoveryBit = toRecoveryBit(yParityOrV);\n        return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);\n    })();\n    const publicKey = signature_\n        .recoverPublicKey(hashHex.substring(2))\n        .toHex(false);\n    return `0x${publicKey}`;\n}\nfunction toRecoveryBit(yParityOrV) {\n    if (yParityOrV === 0 || yParityOrV === 1)\n        return yParityOrV;\n    if (yParityOrV === 27)\n        return 0;\n    if (yParityOrV === 28)\n        return 1;\n    throw new Error('Invalid yParityOrV value');\n}\n//# sourceMappingURL=recoverPublicKey.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvc2lnbmF0dXJlL3JlY292ZXJQdWJsaWNLZXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBeUM7QUFDRjtBQUM0QjtBQUN0QjtBQUN0QyxrQ0FBa0Msa0JBQWtCO0FBQzNELG9CQUFvQixxREFBSyxnQkFBZ0IseURBQUs7QUFDOUMsWUFBWSxZQUFZLFFBQVEsZ1JBQWlDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBLDJDQUEyQyxpRUFBVyxLQUFLLGlFQUFXO0FBQ3RFO0FBQ0E7QUFDQSw2QkFBNkIscURBQUssMEJBQTBCLHlEQUFLO0FBQ2pFLFlBQVksbURBQUk7QUFDaEI7QUFDQSwyQkFBMkIsaUVBQVcsTUFBTSx3QkFBd0I7QUFDcEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9zaWduYXR1cmUvcmVjb3ZlclB1YmxpY0tleS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0hleCB9IGZyb20gJy4uL2RhdGEvaXNIZXguanMnO1xuaW1wb3J0IHsgc2l6ZSB9IGZyb20gJy4uL2RhdGEvc2l6ZS5qcyc7XG5pbXBvcnQgeyBoZXhUb0JpZ0ludCwgaGV4VG9OdW1iZXIsIH0gZnJvbSAnLi4vZW5jb2RpbmcvZnJvbUhleC5qcyc7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gJy4uL2VuY29kaW5nL3RvSGV4LmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWNvdmVyUHVibGljS2V5KHsgaGFzaCwgc2lnbmF0dXJlLCB9KSB7XG4gICAgY29uc3QgaGFzaEhleCA9IGlzSGV4KGhhc2gpID8gaGFzaCA6IHRvSGV4KGhhc2gpO1xuICAgIGNvbnN0IHsgc2VjcDI1NmsxIH0gPSBhd2FpdCBpbXBvcnQoJ0Bub2JsZS9jdXJ2ZXMvc2VjcDI1NmsxJyk7XG4gICAgY29uc3Qgc2lnbmF0dXJlXyA9ICgoKSA9PiB7XG4gICAgICAgIC8vIHR5cGVvZiBzaWduYXR1cmU6IGBTaWduYXR1cmVgXG4gICAgICAgIGlmICh0eXBlb2Ygc2lnbmF0dXJlID09PSAnb2JqZWN0JyAmJiAncicgaW4gc2lnbmF0dXJlICYmICdzJyBpbiBzaWduYXR1cmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgciwgcywgdiwgeVBhcml0eSB9ID0gc2lnbmF0dXJlO1xuICAgICAgICAgICAgY29uc3QgeVBhcml0eU9yViA9IE51bWJlcih5UGFyaXR5ID8/IHYpO1xuICAgICAgICAgICAgY29uc3QgcmVjb3ZlcnlCaXQgPSB0b1JlY292ZXJ5Qml0KHlQYXJpdHlPclYpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBzZWNwMjU2azEuU2lnbmF0dXJlKGhleFRvQmlnSW50KHIpLCBoZXhUb0JpZ0ludChzKSkuYWRkUmVjb3ZlcnlCaXQocmVjb3ZlcnlCaXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHR5cGVvZiBzaWduYXR1cmU6IGBIZXggfCBCeXRlQXJyYXlgXG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZUhleCA9IGlzSGV4KHNpZ25hdHVyZSkgPyBzaWduYXR1cmUgOiB0b0hleChzaWduYXR1cmUpO1xuICAgICAgICBpZiAoc2l6ZShzaWduYXR1cmVIZXgpICE9PSA2NSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzaWduYXR1cmUgbGVuZ3RoJyk7XG4gICAgICAgIGNvbnN0IHlQYXJpdHlPclYgPSBoZXhUb051bWJlcihgMHgke3NpZ25hdHVyZUhleC5zbGljZSgxMzApfWApO1xuICAgICAgICBjb25zdCByZWNvdmVyeUJpdCA9IHRvUmVjb3ZlcnlCaXQoeVBhcml0eU9yVik7XG4gICAgICAgIHJldHVybiBzZWNwMjU2azEuU2lnbmF0dXJlLmZyb21Db21wYWN0KHNpZ25hdHVyZUhleC5zdWJzdHJpbmcoMiwgMTMwKSkuYWRkUmVjb3ZlcnlCaXQocmVjb3ZlcnlCaXQpO1xuICAgIH0pKCk7XG4gICAgY29uc3QgcHVibGljS2V5ID0gc2lnbmF0dXJlX1xuICAgICAgICAucmVjb3ZlclB1YmxpY0tleShoYXNoSGV4LnN1YnN0cmluZygyKSlcbiAgICAgICAgLnRvSGV4KGZhbHNlKTtcbiAgICByZXR1cm4gYDB4JHtwdWJsaWNLZXl9YDtcbn1cbmZ1bmN0aW9uIHRvUmVjb3ZlcnlCaXQoeVBhcml0eU9yVikge1xuICAgIGlmICh5UGFyaXR5T3JWID09PSAwIHx8IHlQYXJpdHlPclYgPT09IDEpXG4gICAgICAgIHJldHVybiB5UGFyaXR5T3JWO1xuICAgIGlmICh5UGFyaXR5T3JWID09PSAyNylcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgaWYgKHlQYXJpdHlPclYgPT09IDI4KVxuICAgICAgICByZXR1cm4gMTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgeVBhcml0eU9yViB2YWx1ZScpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb3ZlclB1YmxpY0tleS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/_esm/utils/signature/recoverPublicKey.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/_shortw_utils.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/_shortw_utils.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCurve: () => (/* binding */ createCurve),\n/* harmony export */   getHash: () => (/* binding */ getHash)\n/* harmony export */ });\n/* harmony import */ var _abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract/weierstrass.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/weierstrass.js\");\n/**\n * Utilities for short weierstrass curves, combined with noble-hashes.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n/** connects noble-curves to noble-hashes */\nfunction getHash(hash) {\n    return { hash };\n}\n/** @deprecated use new `weierstrass()` and `ecdsa()` methods */\nfunction createCurve(curveDef, defHash) {\n    const create = (hash) => (0,_abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_0__.weierstrass)({ ...curveDef, hash: hash });\n    return { ...create(defHash), create };\n}\n//# sourceMappingURL=_shortw_utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9fc2hvcnR3X3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDd0Q7QUFDeEQ7QUFDTztBQUNQLGFBQWE7QUFDYjtBQUNBO0FBQ087QUFDUCw2QkFBNkIscUVBQVcsR0FBRyx5QkFBeUI7QUFDcEUsYUFBYTtBQUNiO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vX3Nob3J0d191dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFV0aWxpdGllcyBmb3Igc2hvcnQgd2VpZXJzdHJhc3MgY3VydmVzLCBjb21iaW5lZCB3aXRoIG5vYmxlLWhhc2hlcy5cbiAqIEBtb2R1bGVcbiAqL1xuLyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL1xuaW1wb3J0IHsgd2VpZXJzdHJhc3MgfSBmcm9tIFwiLi9hYnN0cmFjdC93ZWllcnN0cmFzcy5qc1wiO1xuLyoqIGNvbm5lY3RzIG5vYmxlLWN1cnZlcyB0byBub2JsZS1oYXNoZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIYXNoKGhhc2gpIHtcbiAgICByZXR1cm4geyBoYXNoIH07XG59XG4vKiogQGRlcHJlY2F0ZWQgdXNlIG5ldyBgd2VpZXJzdHJhc3MoKWAgYW5kIGBlY2RzYSgpYCBtZXRob2RzICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ3VydmUoY3VydmVEZWYsIGRlZkhhc2gpIHtcbiAgICBjb25zdCBjcmVhdGUgPSAoaGFzaCkgPT4gd2VpZXJzdHJhc3MoeyAuLi5jdXJ2ZURlZiwgaGFzaDogaGFzaCB9KTtcbiAgICByZXR1cm4geyAuLi5jcmVhdGUoZGVmSGFzaCksIGNyZWF0ZSB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9X3Nob3J0d191dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/_shortw_utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/curve.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/curve.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _createCurveFields: () => (/* binding */ _createCurveFields),\n/* harmony export */   mulEndoUnsafe: () => (/* binding */ mulEndoUnsafe),\n/* harmony export */   negateCt: () => (/* binding */ negateCt),\n/* harmony export */   normalizeZ: () => (/* binding */ normalizeZ),\n/* harmony export */   pippenger: () => (/* binding */ pippenger),\n/* harmony export */   precomputeMSMUnsafe: () => (/* binding */ precomputeMSMUnsafe),\n/* harmony export */   validateBasic: () => (/* binding */ validateBasic),\n/* harmony export */   wNAF: () => (/* binding */ wNAF)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/utils.js\");\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js\");\n/**\n * Methods for elliptic curve multiplication by scalars.\n * Contains wNAF, pippenger.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nfunction negateCt(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\n/**\n * Takes a bunch of Projective Points but executes only one\n * inversion on all of them. Inversion is very slow operation,\n * so this improves performance massively.\n * Optimization: converts a list of projective points to a list of identical points with Z=1.\n */\nfunction normalizeZ(c, points) {\n    const invertedZs = (0,_modular_js__WEBPACK_IMPORTED_MODULE_0__.FpInvertBatch)(c.Fp, points.map((p) => p.Z));\n    return points.map((p, i) => c.fromAffine(p.toAffine(invertedZs[i])));\n}\nfunction validateW(W, bits) {\n    if (!Number.isSafeInteger(W) || W <= 0 || W > bits)\n        throw new Error('invalid window size, expected [1..' + bits + '], got W=' + W);\n}\nfunction calcWOpts(W, scalarBits) {\n    validateW(W, scalarBits);\n    const windows = Math.ceil(scalarBits / W) + 1; // W=8 33. Not 32, because we skip zero\n    const windowSize = 2 ** (W - 1); // W=8 128. Not 256, because we skip zero\n    const maxNumber = 2 ** W; // W=8 256\n    const mask = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.bitMask)(W); // W=8 255 == mask 0b11111111\n    const shiftBy = BigInt(W); // W=8 8\n    return { windows, windowSize, mask, maxNumber, shiftBy };\n}\nfunction calcOffsets(n, window, wOpts) {\n    const { windowSize, mask, maxNumber, shiftBy } = wOpts;\n    let wbits = Number(n & mask); // extract W bits.\n    let nextN = n >> shiftBy; // shift number by W bits.\n    // What actually happens here:\n    // const highestBit = Number(mask ^ (mask >> 1n));\n    // let wbits2 = wbits - 1; // skip zero\n    // if (wbits2 & highestBit) { wbits2 ^= Number(mask); // (~);\n    // split if bits > max: +224 => 256-32\n    if (wbits > windowSize) {\n        // we skip zero, which means instead of `>= size-1`, we do `> size`\n        wbits -= maxNumber; // -32, can be maxNumber - wbits, but then we need to set isNeg here.\n        nextN += _1n; // +256 (carry)\n    }\n    const offsetStart = window * windowSize;\n    const offset = offsetStart + Math.abs(wbits) - 1; // -1 because we skip zero\n    const isZero = wbits === 0; // is current window slice a 0?\n    const isNeg = wbits < 0; // is current window slice negative?\n    const isNegF = window % 2 !== 0; // fake random statement for noise\n    const offsetF = offsetStart; // fake offset for noise\n    return { nextN, offset, isZero, isNeg, isNegF, offsetF };\n}\nfunction validateMSMPoints(points, c) {\n    if (!Array.isArray(points))\n        throw new Error('array expected');\n    points.forEach((p, i) => {\n        if (!(p instanceof c))\n            throw new Error('invalid point at index ' + i);\n    });\n}\nfunction validateMSMScalars(scalars, field) {\n    if (!Array.isArray(scalars))\n        throw new Error('array of scalars expected');\n    scalars.forEach((s, i) => {\n        if (!field.isValid(s))\n            throw new Error('invalid scalar at index ' + i);\n    });\n}\n// Since points in different groups cannot be equal (different object constructor),\n// we can have single place to store precomputes.\n// Allows to make points frozen / immutable.\nconst pointPrecomputes = new WeakMap();\nconst pointWindowSizes = new WeakMap();\nfunction getW(P) {\n    // To disable precomputes:\n    // return 1;\n    return pointWindowSizes.get(P) || 1;\n}\nfunction assert0(n) {\n    if (n !== _0n)\n        throw new Error('invalid wNAF');\n}\n/**\n * Elliptic curve multiplication of Point by scalar. Fragile.\n * Table generation takes **30MB of ram and 10ms on high-end CPU**,\n * but may take much longer on slow devices. Actual generation will happen on\n * first call of `multiply()`. By default, `BASE` point is precomputed.\n *\n * Scalars should always be less than curve order: this should be checked inside of a curve itself.\n * Creates precomputation tables for fast multiplication:\n * - private scalar is split by fixed size windows of W bits\n * - every window point is collected from window's table & added to accumulator\n * - since windows are different, same point inside tables won't be accessed more than once per calc\n * - each multiplication is 'Math.ceil(CURVE_ORDER / ) + 1' point additions (fixed for any scalar)\n * - +1 window is neccessary for wNAF\n * - wNAF reduces table size: 2x less memory + 2x faster generation, but 10% slower multiplication\n *\n * @todo Research returning 2d JS array of windows, instead of a single window.\n * This would allow windows to be in different memory locations\n */\nclass wNAF {\n    // Parametrized with a given Point class (not individual point)\n    constructor(Point, bits) {\n        this.BASE = Point.BASE;\n        this.ZERO = Point.ZERO;\n        this.Fn = Point.Fn;\n        this.bits = bits;\n    }\n    // non-const time multiplication ladder\n    _unsafeLadder(elm, n, p = this.ZERO) {\n        let d = elm;\n        while (n > _0n) {\n            if (n & _1n)\n                p = p.add(d);\n            d = d.double();\n            n >>= _1n;\n        }\n        return p;\n    }\n    /**\n     * Creates a wNAF precomputation window. Used for caching.\n     * Default window size is set by `utils.precompute()` and is equal to 8.\n     * Number of precomputed points depends on the curve size:\n     * 2^(1) * (Math.ceil( / ) + 1), where:\n     * -  is the window size\n     * -  is the bitlength of the curve order.\n     * For a 256-bit curve and window size 8, the number of precomputed points is 128 * 33 = 4224.\n     * @param point Point instance\n     * @param W window size\n     * @returns precomputed point tables flattened to a single array\n     */\n    precomputeWindow(point, W) {\n        const { windows, windowSize } = calcWOpts(W, this.bits);\n        const points = [];\n        let p = point;\n        let base = p;\n        for (let window = 0; window < windows; window++) {\n            base = p;\n            points.push(base);\n            // i=1, bc we skip 0\n            for (let i = 1; i < windowSize; i++) {\n                base = base.add(p);\n                points.push(base);\n            }\n            p = base.double();\n        }\n        return points;\n    }\n    /**\n     * Implements ec multiplication using precomputed tables and w-ary non-adjacent form.\n     * More compact implementation:\n     * https://github.com/paulmillr/noble-secp256k1/blob/47cb1669b6e506ad66b35fe7d76132ae97465da2/index.ts#L502-L541\n     * @returns real and fake (for const-time) points\n     */\n    wNAF(W, precomputes, n) {\n        // Scalar should be smaller than field order\n        if (!this.Fn.isValid(n))\n            throw new Error('invalid scalar');\n        // Accumulators\n        let p = this.ZERO;\n        let f = this.BASE;\n        // This code was first written with assumption that 'f' and 'p' will never be infinity point:\n        // since each addition is multiplied by 2 ** W, it cannot cancel each other. However,\n        // there is negate now: it is possible that negated element from low value\n        // would be the same as high element, which will create carry into next window.\n        // It's not obvious how this can fail, but still worth investigating later.\n        const wo = calcWOpts(W, this.bits);\n        for (let window = 0; window < wo.windows; window++) {\n            // (n === _0n) is handled and not early-exited. isEven and offsetF are used for noise\n            const { nextN, offset, isZero, isNeg, isNegF, offsetF } = calcOffsets(n, window, wo);\n            n = nextN;\n            if (isZero) {\n                // bits are 0: add garbage to fake point\n                // Important part for const-time getPublicKey: add random \"noise\" point to f.\n                f = f.add(negateCt(isNegF, precomputes[offsetF]));\n            }\n            else {\n                // bits are 1: add to result point\n                p = p.add(negateCt(isNeg, precomputes[offset]));\n            }\n        }\n        assert0(n);\n        // Return both real and fake points: JIT won't eliminate f.\n        // At this point there is a way to F be infinity-point even if p is not,\n        // which makes it less const-time: around 1 bigint multiply.\n        return { p, f };\n    }\n    /**\n     * Implements ec unsafe (non const-time) multiplication using precomputed tables and w-ary non-adjacent form.\n     * @param acc accumulator point to add result of multiplication\n     * @returns point\n     */\n    wNAFUnsafe(W, precomputes, n, acc = this.ZERO) {\n        const wo = calcWOpts(W, this.bits);\n        for (let window = 0; window < wo.windows; window++) {\n            if (n === _0n)\n                break; // Early-exit, skip 0 value\n            const { nextN, offset, isZero, isNeg } = calcOffsets(n, window, wo);\n            n = nextN;\n            if (isZero) {\n                // Window bits are 0: skip processing.\n                // Move to next window.\n                continue;\n            }\n            else {\n                const item = precomputes[offset];\n                acc = acc.add(isNeg ? item.negate() : item); // Re-using acc allows to save adds in MSM\n            }\n        }\n        assert0(n);\n        return acc;\n    }\n    getPrecomputes(W, point, transform) {\n        // Calculate precomputes on a first run, reuse them after\n        let comp = pointPrecomputes.get(point);\n        if (!comp) {\n            comp = this.precomputeWindow(point, W);\n            if (W !== 1) {\n                // Doing transform outside of if brings 15% perf hit\n                if (typeof transform === 'function')\n                    comp = transform(comp);\n                pointPrecomputes.set(point, comp);\n            }\n        }\n        return comp;\n    }\n    cached(point, scalar, transform) {\n        const W = getW(point);\n        return this.wNAF(W, this.getPrecomputes(W, point, transform), scalar);\n    }\n    unsafe(point, scalar, transform, prev) {\n        const W = getW(point);\n        if (W === 1)\n            return this._unsafeLadder(point, scalar, prev); // For W=1 ladder is ~x2 faster\n        return this.wNAFUnsafe(W, this.getPrecomputes(W, point, transform), scalar, prev);\n    }\n    // We calculate precomputes for elliptic curve point multiplication\n    // using windowed method. This specifies window size and\n    // stores precomputed values. Usually only base point would be precomputed.\n    createCache(P, W) {\n        validateW(W, this.bits);\n        pointWindowSizes.set(P, W);\n        pointPrecomputes.delete(P);\n    }\n    hasCache(elm) {\n        return getW(elm) !== 1;\n    }\n}\n/**\n * Endomorphism-specific multiplication for Koblitz curves.\n * Cost: 128 dbl, 0-256 adds.\n */\nfunction mulEndoUnsafe(Point, point, k1, k2) {\n    let acc = point;\n    let p1 = Point.ZERO;\n    let p2 = Point.ZERO;\n    while (k1 > _0n || k2 > _0n) {\n        if (k1 & _1n)\n            p1 = p1.add(acc);\n        if (k2 & _1n)\n            p2 = p2.add(acc);\n        acc = acc.double();\n        k1 >>= _1n;\n        k2 >>= _1n;\n    }\n    return { p1, p2 };\n}\n/**\n * Pippenger algorithm for multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * 30x faster vs naive addition on L=4096, 10x faster than precomputes.\n * For N=254bit, L=1, it does: 1024 ADD + 254 DBL. For L=5: 1536 ADD + 254 DBL.\n * Algorithmically constant-time (for same L), even when 1 point + scalar, or when scalar = 0.\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @param scalars array of L scalars (aka secret keys / bigints)\n */\nfunction pippenger(c, fieldN, points, scalars) {\n    // If we split scalars by some window (let's say 8 bits), every chunk will only\n    // take 256 buckets even if there are 4096 scalars, also re-uses double.\n    // TODO:\n    // - https://eprint.iacr.org/2024/750.pdf\n    // - https://tches.iacr.org/index.php/TCHES/article/view/10287\n    // 0 is accepted in scalars\n    validateMSMPoints(points, c);\n    validateMSMScalars(scalars, fieldN);\n    const plength = points.length;\n    const slength = scalars.length;\n    if (plength !== slength)\n        throw new Error('arrays of points and scalars must have equal length');\n    // if (plength === 0) throw new Error('array must be of length >= 2');\n    const zero = c.ZERO;\n    const wbits = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.bitLen)(BigInt(plength));\n    let windowSize = 1; // bits\n    if (wbits > 12)\n        windowSize = wbits - 3;\n    else if (wbits > 4)\n        windowSize = wbits - 2;\n    else if (wbits > 0)\n        windowSize = 2;\n    const MASK = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.bitMask)(windowSize);\n    const buckets = new Array(Number(MASK) + 1).fill(zero); // +1 for zero array\n    const lastBits = Math.floor((fieldN.BITS - 1) / windowSize) * windowSize;\n    let sum = zero;\n    for (let i = lastBits; i >= 0; i -= windowSize) {\n        buckets.fill(zero);\n        for (let j = 0; j < slength; j++) {\n            const scalar = scalars[j];\n            const wbits = Number((scalar >> BigInt(i)) & MASK);\n            buckets[wbits] = buckets[wbits].add(points[j]);\n        }\n        let resI = zero; // not using this will do small speed-up, but will lose ct\n        // Skip first bucket, because it is zero\n        for (let j = buckets.length - 1, sumI = zero; j > 0; j--) {\n            sumI = sumI.add(buckets[j]);\n            resI = resI.add(sumI);\n        }\n        sum = sum.add(resI);\n        if (i !== 0)\n            for (let j = 0; j < windowSize; j++)\n                sum = sum.double();\n    }\n    return sum;\n}\n/**\n * Precomputed multi-scalar multiplication (MSM, Pa + Qb + Rc + ...).\n * @param c Curve Point constructor\n * @param fieldN field over CURVE.N - important that it's not over CURVE.P\n * @param points array of L curve points\n * @returns function which multiplies points with scaars\n */\nfunction precomputeMSMUnsafe(c, fieldN, points, windowSize) {\n    /**\n     * Performance Analysis of Window-based Precomputation\n     *\n     * Base Case (256-bit scalar, 8-bit window):\n     * - Standard precomputation requires:\n     *   - 31 additions per scalar  256 scalars = 7,936 ops\n     *   - Plus 255 summary additions = 8,191 total ops\n     *   Note: Summary additions can be optimized via accumulator\n     *\n     * Chunked Precomputation Analysis:\n     * - Using 32 chunks requires:\n     *   - 255 additions per chunk\n     *   - 256 doublings\n     *   - Total: (255  32) + 256 = 8,416 ops\n     *\n     * Memory Usage Comparison:\n     * Window Size | Standard Points | Chunked Points\n     * ------------|-----------------|---------------\n     *     4-bit   |     520         |      15\n     *     8-bit   |    4,224        |     255\n     *    10-bit   |   13,824        |   1,023\n     *    16-bit   |  557,056        |  65,535\n     *\n     * Key Advantages:\n     * 1. Enables larger window sizes due to reduced memory overhead\n     * 2. More efficient for smaller scalar counts:\n     *    - 16 chunks: (16  255) + 256 = 4,336 ops\n     *    - ~2x faster than standard 8,191 ops\n     *\n     * Limitations:\n     * - Not suitable for plain precomputes (requires 256 constant doublings)\n     * - Performance degrades with larger scalar counts:\n     *   - Optimal for ~256 scalars\n     *   - Less efficient for 4096+ scalars (Pippenger preferred)\n     */\n    validateW(windowSize, fieldN.BITS);\n    validateMSMPoints(points, c);\n    const zero = c.ZERO;\n    const tableSize = 2 ** windowSize - 1; // table size (without zero)\n    const chunks = Math.ceil(fieldN.BITS / windowSize); // chunks of item\n    const MASK = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.bitMask)(windowSize);\n    const tables = points.map((p) => {\n        const res = [];\n        for (let i = 0, acc = p; i < tableSize; i++) {\n            res.push(acc);\n            acc = acc.add(p);\n        }\n        return res;\n    });\n    return (scalars) => {\n        validateMSMScalars(scalars, fieldN);\n        if (scalars.length > points.length)\n            throw new Error('array of scalars must be smaller than array of points');\n        let res = zero;\n        for (let i = 0; i < chunks; i++) {\n            // No need to double if accumulator is still zero.\n            if (res !== zero)\n                for (let j = 0; j < windowSize; j++)\n                    res = res.double();\n            const shiftBy = BigInt(chunks * windowSize - (i + 1) * windowSize);\n            for (let j = 0; j < scalars.length; j++) {\n                const n = scalars[j];\n                const curr = Number((n >> shiftBy) & MASK);\n                if (!curr)\n                    continue; // skip zero scalars chunks\n                res = res.add(tables[j][curr - 1]);\n            }\n        }\n        return res;\n    };\n}\n// TODO: remove\n/** @deprecated */\nfunction validateBasic(curve) {\n    (0,_modular_js__WEBPACK_IMPORTED_MODULE_0__.validateField)(curve.Fp);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateObject)(curve, {\n        n: 'bigint',\n        h: 'bigint',\n        Gx: 'field',\n        Gy: 'field',\n    }, {\n        nBitLength: 'isSafeInteger',\n        nByteLength: 'isSafeInteger',\n    });\n    // Set defaults\n    return Object.freeze({\n        ...(0,_modular_js__WEBPACK_IMPORTED_MODULE_0__.nLength)(curve.n, curve.nBitLength),\n        ...curve,\n        ...{ p: curve.Fp.ORDER },\n    });\n}\nfunction createField(order, field, isLE) {\n    if (field) {\n        if (field.ORDER !== order)\n            throw new Error('Field.ORDER must match order: Fp == p, Fn == n');\n        (0,_modular_js__WEBPACK_IMPORTED_MODULE_0__.validateField)(field);\n        return field;\n    }\n    else {\n        return (0,_modular_js__WEBPACK_IMPORTED_MODULE_0__.Field)(order, { isLE });\n    }\n}\n/** Validates CURVE opts and creates fields */\nfunction _createCurveFields(type, CURVE, curveOpts = {}, FpFnLE) {\n    if (FpFnLE === undefined)\n        FpFnLE = type === 'edwards';\n    if (!CURVE || typeof CURVE !== 'object')\n        throw new Error(`expected valid ${type} CURVE object`);\n    for (const p of ['p', 'n', 'h']) {\n        const val = CURVE[p];\n        if (!(typeof val === 'bigint' && val > _0n))\n            throw new Error(`CURVE.${p} must be positive bigint`);\n    }\n    const Fp = createField(CURVE.p, curveOpts.Fp, FpFnLE);\n    const Fn = createField(CURVE.n, curveOpts.Fn, FpFnLE);\n    const _b = type === 'weierstrass' ? 'b' : 'd';\n    const params = ['Gx', 'Gy', 'a', _b];\n    for (const p of params) {\n        // @ts-ignore\n        if (!Fp.isValid(CURVE[p]))\n            throw new Error(`CURVE.${p} must be valid field element of CURVE.Fp`);\n    }\n    CURVE = Object.freeze(Object.assign({}, CURVE));\n    return { CURVE, Fp, Fn };\n}\n//# sourceMappingURL=curve.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC9jdXJ2ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzhEO0FBQ2M7QUFDNUU7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx1QkFBdUIsMERBQWE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRCxxQ0FBcUM7QUFDckMsOEJBQThCO0FBQzlCLGlCQUFpQixrREFBTyxLQUFLO0FBQzdCLCtCQUErQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVksdUNBQXVDO0FBQ25ELGtDQUFrQztBQUNsQyw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLCtCQUErQjtBQUMvQixrQ0FBa0Msd0JBQXdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RCxnQ0FBZ0M7QUFDaEMsNkJBQTZCO0FBQzdCLHFDQUFxQztBQUNyQyxpQ0FBaUM7QUFDakMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsSUFBSSwwREFBYTtBQUNqQixJQUFJLHlEQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFdBQVcsb0RBQU87QUFDbEI7QUFDQSxhQUFhLG1CQUFtQjtBQUNoQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrREFBSyxVQUFVLE1BQU07QUFDcEM7QUFDQTtBQUNBO0FBQ08sdURBQXVEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxNQUFNO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxHQUFHO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsR0FBRztBQUN4QztBQUNBLDBDQUEwQztBQUMxQyxhQUFhO0FBQ2I7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC9jdXJ2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1ldGhvZHMgZm9yIGVsbGlwdGljIGN1cnZlIG11bHRpcGxpY2F0aW9uIGJ5IHNjYWxhcnMuXG4gKiBDb250YWlucyB3TkFGLCBwaXBwZW5nZXIuXG4gKiBAbW9kdWxlXG4gKi9cbi8qISBub2JsZS1jdXJ2ZXMgLSBNSVQgTGljZW5zZSAoYykgMjAyMiBQYXVsIE1pbGxlciAocGF1bG1pbGxyLmNvbSkgKi9cbmltcG9ydCB7IGJpdExlbiwgYml0TWFzaywgdmFsaWRhdGVPYmplY3QgfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IEZpZWxkLCBGcEludmVydEJhdGNoLCBuTGVuZ3RoLCB2YWxpZGF0ZUZpZWxkIH0gZnJvbSBcIi4vbW9kdWxhci5qc1wiO1xuY29uc3QgXzBuID0gQmlnSW50KDApO1xuY29uc3QgXzFuID0gQmlnSW50KDEpO1xuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZUN0KGNvbmRpdGlvbiwgaXRlbSkge1xuICAgIGNvbnN0IG5lZyA9IGl0ZW0ubmVnYXRlKCk7XG4gICAgcmV0dXJuIGNvbmRpdGlvbiA/IG5lZyA6IGl0ZW07XG59XG4vKipcbiAqIFRha2VzIGEgYnVuY2ggb2YgUHJvamVjdGl2ZSBQb2ludHMgYnV0IGV4ZWN1dGVzIG9ubHkgb25lXG4gKiBpbnZlcnNpb24gb24gYWxsIG9mIHRoZW0uIEludmVyc2lvbiBpcyB2ZXJ5IHNsb3cgb3BlcmF0aW9uLFxuICogc28gdGhpcyBpbXByb3ZlcyBwZXJmb3JtYW5jZSBtYXNzaXZlbHkuXG4gKiBPcHRpbWl6YXRpb246IGNvbnZlcnRzIGEgbGlzdCBvZiBwcm9qZWN0aXZlIHBvaW50cyB0byBhIGxpc3Qgb2YgaWRlbnRpY2FsIHBvaW50cyB3aXRoIFo9MS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVooYywgcG9pbnRzKSB7XG4gICAgY29uc3QgaW52ZXJ0ZWRacyA9IEZwSW52ZXJ0QmF0Y2goYy5GcCwgcG9pbnRzLm1hcCgocCkgPT4gcC5aKSk7XG4gICAgcmV0dXJuIHBvaW50cy5tYXAoKHAsIGkpID0+IGMuZnJvbUFmZmluZShwLnRvQWZmaW5lKGludmVydGVkWnNbaV0pKSk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVcoVywgYml0cykge1xuICAgIGlmICghTnVtYmVyLmlzU2FmZUludGVnZXIoVykgfHwgVyA8PSAwIHx8IFcgPiBiaXRzKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgd2luZG93IHNpemUsIGV4cGVjdGVkIFsxLi4nICsgYml0cyArICddLCBnb3QgVz0nICsgVyk7XG59XG5mdW5jdGlvbiBjYWxjV09wdHMoVywgc2NhbGFyQml0cykge1xuICAgIHZhbGlkYXRlVyhXLCBzY2FsYXJCaXRzKTtcbiAgICBjb25zdCB3aW5kb3dzID0gTWF0aC5jZWlsKHNjYWxhckJpdHMgLyBXKSArIDE7IC8vIFc9OCAzMy4gTm90IDMyLCBiZWNhdXNlIHdlIHNraXAgemVyb1xuICAgIGNvbnN0IHdpbmRvd1NpemUgPSAyICoqIChXIC0gMSk7IC8vIFc9OCAxMjguIE5vdCAyNTYsIGJlY2F1c2Ugd2Ugc2tpcCB6ZXJvXG4gICAgY29uc3QgbWF4TnVtYmVyID0gMiAqKiBXOyAvLyBXPTggMjU2XG4gICAgY29uc3QgbWFzayA9IGJpdE1hc2soVyk7IC8vIFc9OCAyNTUgPT0gbWFzayAwYjExMTExMTExXG4gICAgY29uc3Qgc2hpZnRCeSA9IEJpZ0ludChXKTsgLy8gVz04IDhcbiAgICByZXR1cm4geyB3aW5kb3dzLCB3aW5kb3dTaXplLCBtYXNrLCBtYXhOdW1iZXIsIHNoaWZ0QnkgfTtcbn1cbmZ1bmN0aW9uIGNhbGNPZmZzZXRzKG4sIHdpbmRvdywgd09wdHMpIHtcbiAgICBjb25zdCB7IHdpbmRvd1NpemUsIG1hc2ssIG1heE51bWJlciwgc2hpZnRCeSB9ID0gd09wdHM7XG4gICAgbGV0IHdiaXRzID0gTnVtYmVyKG4gJiBtYXNrKTsgLy8gZXh0cmFjdCBXIGJpdHMuXG4gICAgbGV0IG5leHROID0gbiA+PiBzaGlmdEJ5OyAvLyBzaGlmdCBudW1iZXIgYnkgVyBiaXRzLlxuICAgIC8vIFdoYXQgYWN0dWFsbHkgaGFwcGVucyBoZXJlOlxuICAgIC8vIGNvbnN0IGhpZ2hlc3RCaXQgPSBOdW1iZXIobWFzayBeIChtYXNrID4+IDFuKSk7XG4gICAgLy8gbGV0IHdiaXRzMiA9IHdiaXRzIC0gMTsgLy8gc2tpcCB6ZXJvXG4gICAgLy8gaWYgKHdiaXRzMiAmIGhpZ2hlc3RCaXQpIHsgd2JpdHMyIF49IE51bWJlcihtYXNrKTsgLy8gKH4pO1xuICAgIC8vIHNwbGl0IGlmIGJpdHMgPiBtYXg6ICsyMjQgPT4gMjU2LTMyXG4gICAgaWYgKHdiaXRzID4gd2luZG93U2l6ZSkge1xuICAgICAgICAvLyB3ZSBza2lwIHplcm8sIHdoaWNoIG1lYW5zIGluc3RlYWQgb2YgYD49IHNpemUtMWAsIHdlIGRvIGA+IHNpemVgXG4gICAgICAgIHdiaXRzIC09IG1heE51bWJlcjsgLy8gLTMyLCBjYW4gYmUgbWF4TnVtYmVyIC0gd2JpdHMsIGJ1dCB0aGVuIHdlIG5lZWQgdG8gc2V0IGlzTmVnIGhlcmUuXG4gICAgICAgIG5leHROICs9IF8xbjsgLy8gKzI1NiAoY2FycnkpXG4gICAgfVxuICAgIGNvbnN0IG9mZnNldFN0YXJ0ID0gd2luZG93ICogd2luZG93U2l6ZTtcbiAgICBjb25zdCBvZmZzZXQgPSBvZmZzZXRTdGFydCArIE1hdGguYWJzKHdiaXRzKSAtIDE7IC8vIC0xIGJlY2F1c2Ugd2Ugc2tpcCB6ZXJvXG4gICAgY29uc3QgaXNaZXJvID0gd2JpdHMgPT09IDA7IC8vIGlzIGN1cnJlbnQgd2luZG93IHNsaWNlIGEgMD9cbiAgICBjb25zdCBpc05lZyA9IHdiaXRzIDwgMDsgLy8gaXMgY3VycmVudCB3aW5kb3cgc2xpY2UgbmVnYXRpdmU/XG4gICAgY29uc3QgaXNOZWdGID0gd2luZG93ICUgMiAhPT0gMDsgLy8gZmFrZSByYW5kb20gc3RhdGVtZW50IGZvciBub2lzZVxuICAgIGNvbnN0IG9mZnNldEYgPSBvZmZzZXRTdGFydDsgLy8gZmFrZSBvZmZzZXQgZm9yIG5vaXNlXG4gICAgcmV0dXJuIHsgbmV4dE4sIG9mZnNldCwgaXNaZXJvLCBpc05lZywgaXNOZWdGLCBvZmZzZXRGIH07XG59XG5mdW5jdGlvbiB2YWxpZGF0ZU1TTVBvaW50cyhwb2ludHMsIGMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcnJheSBleHBlY3RlZCcpO1xuICAgIHBvaW50cy5mb3JFYWNoKChwLCBpKSA9PiB7XG4gICAgICAgIGlmICghKHAgaW5zdGFuY2VvZiBjKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwb2ludCBhdCBpbmRleCAnICsgaSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZU1TTVNjYWxhcnMoc2NhbGFycywgZmllbGQpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NhbGFycykpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYXJyYXkgb2Ygc2NhbGFycyBleHBlY3RlZCcpO1xuICAgIHNjYWxhcnMuZm9yRWFjaCgocywgaSkgPT4ge1xuICAgICAgICBpZiAoIWZpZWxkLmlzVmFsaWQocykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc2NhbGFyIGF0IGluZGV4ICcgKyBpKTtcbiAgICB9KTtcbn1cbi8vIFNpbmNlIHBvaW50cyBpbiBkaWZmZXJlbnQgZ3JvdXBzIGNhbm5vdCBiZSBlcXVhbCAoZGlmZmVyZW50IG9iamVjdCBjb25zdHJ1Y3RvciksXG4vLyB3ZSBjYW4gaGF2ZSBzaW5nbGUgcGxhY2UgdG8gc3RvcmUgcHJlY29tcHV0ZXMuXG4vLyBBbGxvd3MgdG8gbWFrZSBwb2ludHMgZnJvemVuIC8gaW1tdXRhYmxlLlxuY29uc3QgcG9pbnRQcmVjb21wdXRlcyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBwb2ludFdpbmRvd1NpemVzID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGdldFcoUCkge1xuICAgIC8vIFRvIGRpc2FibGUgcHJlY29tcHV0ZXM6XG4gICAgLy8gcmV0dXJuIDE7XG4gICAgcmV0dXJuIHBvaW50V2luZG93U2l6ZXMuZ2V0KFApIHx8IDE7XG59XG5mdW5jdGlvbiBhc3NlcnQwKG4pIHtcbiAgICBpZiAobiAhPT0gXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgd05BRicpO1xufVxuLyoqXG4gKiBFbGxpcHRpYyBjdXJ2ZSBtdWx0aXBsaWNhdGlvbiBvZiBQb2ludCBieSBzY2FsYXIuIEZyYWdpbGUuXG4gKiBUYWJsZSBnZW5lcmF0aW9uIHRha2VzICoqMzBNQiBvZiByYW0gYW5kIDEwbXMgb24gaGlnaC1lbmQgQ1BVKiosXG4gKiBidXQgbWF5IHRha2UgbXVjaCBsb25nZXIgb24gc2xvdyBkZXZpY2VzLiBBY3R1YWwgZ2VuZXJhdGlvbiB3aWxsIGhhcHBlbiBvblxuICogZmlyc3QgY2FsbCBvZiBgbXVsdGlwbHkoKWAuIEJ5IGRlZmF1bHQsIGBCQVNFYCBwb2ludCBpcyBwcmVjb21wdXRlZC5cbiAqXG4gKiBTY2FsYXJzIHNob3VsZCBhbHdheXMgYmUgbGVzcyB0aGFuIGN1cnZlIG9yZGVyOiB0aGlzIHNob3VsZCBiZSBjaGVja2VkIGluc2lkZSBvZiBhIGN1cnZlIGl0c2VsZi5cbiAqIENyZWF0ZXMgcHJlY29tcHV0YXRpb24gdGFibGVzIGZvciBmYXN0IG11bHRpcGxpY2F0aW9uOlxuICogLSBwcml2YXRlIHNjYWxhciBpcyBzcGxpdCBieSBmaXhlZCBzaXplIHdpbmRvd3Mgb2YgVyBiaXRzXG4gKiAtIGV2ZXJ5IHdpbmRvdyBwb2ludCBpcyBjb2xsZWN0ZWQgZnJvbSB3aW5kb3cncyB0YWJsZSAmIGFkZGVkIHRvIGFjY3VtdWxhdG9yXG4gKiAtIHNpbmNlIHdpbmRvd3MgYXJlIGRpZmZlcmVudCwgc2FtZSBwb2ludCBpbnNpZGUgdGFibGVzIHdvbid0IGJlIGFjY2Vzc2VkIG1vcmUgdGhhbiBvbmNlIHBlciBjYWxjXG4gKiAtIGVhY2ggbXVsdGlwbGljYXRpb24gaXMgJ01hdGguY2VpbChDVVJWRV9PUkRFUiAvIPCdkYopICsgMScgcG9pbnQgYWRkaXRpb25zIChmaXhlZCBmb3IgYW55IHNjYWxhcilcbiAqIC0gKzEgd2luZG93IGlzIG5lY2Nlc3NhcnkgZm9yIHdOQUZcbiAqIC0gd05BRiByZWR1Y2VzIHRhYmxlIHNpemU6IDJ4IGxlc3MgbWVtb3J5ICsgMnggZmFzdGVyIGdlbmVyYXRpb24sIGJ1dCAxMCUgc2xvd2VyIG11bHRpcGxpY2F0aW9uXG4gKlxuICogQHRvZG8gUmVzZWFyY2ggcmV0dXJuaW5nIDJkIEpTIGFycmF5IG9mIHdpbmRvd3MsIGluc3RlYWQgb2YgYSBzaW5nbGUgd2luZG93LlxuICogVGhpcyB3b3VsZCBhbGxvdyB3aW5kb3dzIHRvIGJlIGluIGRpZmZlcmVudCBtZW1vcnkgbG9jYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyB3TkFGIHtcbiAgICAvLyBQYXJhbWV0cml6ZWQgd2l0aCBhIGdpdmVuIFBvaW50IGNsYXNzIChub3QgaW5kaXZpZHVhbCBwb2ludClcbiAgICBjb25zdHJ1Y3RvcihQb2ludCwgYml0cykge1xuICAgICAgICB0aGlzLkJBU0UgPSBQb2ludC5CQVNFO1xuICAgICAgICB0aGlzLlpFUk8gPSBQb2ludC5aRVJPO1xuICAgICAgICB0aGlzLkZuID0gUG9pbnQuRm47XG4gICAgICAgIHRoaXMuYml0cyA9IGJpdHM7XG4gICAgfVxuICAgIC8vIG5vbi1jb25zdCB0aW1lIG11bHRpcGxpY2F0aW9uIGxhZGRlclxuICAgIF91bnNhZmVMYWRkZXIoZWxtLCBuLCBwID0gdGhpcy5aRVJPKSB7XG4gICAgICAgIGxldCBkID0gZWxtO1xuICAgICAgICB3aGlsZSAobiA+IF8wbikge1xuICAgICAgICAgICAgaWYgKG4gJiBfMW4pXG4gICAgICAgICAgICAgICAgcCA9IHAuYWRkKGQpO1xuICAgICAgICAgICAgZCA9IGQuZG91YmxlKCk7XG4gICAgICAgICAgICBuID4+PSBfMW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB3TkFGIHByZWNvbXB1dGF0aW9uIHdpbmRvdy4gVXNlZCBmb3IgY2FjaGluZy5cbiAgICAgKiBEZWZhdWx0IHdpbmRvdyBzaXplIGlzIHNldCBieSBgdXRpbHMucHJlY29tcHV0ZSgpYCBhbmQgaXMgZXF1YWwgdG8gOC5cbiAgICAgKiBOdW1iZXIgb2YgcHJlY29tcHV0ZWQgcG9pbnRzIGRlcGVuZHMgb24gdGhlIGN1cnZlIHNpemU6XG4gICAgICogMl4o8J2RiuKIkjEpICogKE1hdGguY2VpbCjwnZGbIC8g8J2RiikgKyAxKSwgd2hlcmU6XG4gICAgICogLSDwnZGKIGlzIHRoZSB3aW5kb3cgc2l6ZVxuICAgICAqIC0g8J2RmyBpcyB0aGUgYml0bGVuZ3RoIG9mIHRoZSBjdXJ2ZSBvcmRlci5cbiAgICAgKiBGb3IgYSAyNTYtYml0IGN1cnZlIGFuZCB3aW5kb3cgc2l6ZSA4LCB0aGUgbnVtYmVyIG9mIHByZWNvbXB1dGVkIHBvaW50cyBpcyAxMjggKiAzMyA9IDQyMjQuXG4gICAgICogQHBhcmFtIHBvaW50IFBvaW50IGluc3RhbmNlXG4gICAgICogQHBhcmFtIFcgd2luZG93IHNpemVcbiAgICAgKiBAcmV0dXJucyBwcmVjb21wdXRlZCBwb2ludCB0YWJsZXMgZmxhdHRlbmVkIHRvIGEgc2luZ2xlIGFycmF5XG4gICAgICovXG4gICAgcHJlY29tcHV0ZVdpbmRvdyhwb2ludCwgVykge1xuICAgICAgICBjb25zdCB7IHdpbmRvd3MsIHdpbmRvd1NpemUgfSA9IGNhbGNXT3B0cyhXLCB0aGlzLmJpdHMpO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcbiAgICAgICAgbGV0IHAgPSBwb2ludDtcbiAgICAgICAgbGV0IGJhc2UgPSBwO1xuICAgICAgICBmb3IgKGxldCB3aW5kb3cgPSAwOyB3aW5kb3cgPCB3aW5kb3dzOyB3aW5kb3crKykge1xuICAgICAgICAgICAgYmFzZSA9IHA7XG4gICAgICAgICAgICBwb2ludHMucHVzaChiYXNlKTtcbiAgICAgICAgICAgIC8vIGk9MSwgYmMgd2Ugc2tpcCAwXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHdpbmRvd1NpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIGJhc2UgPSBiYXNlLmFkZChwKTtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChiYXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAgPSBiYXNlLmRvdWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgZWMgbXVsdGlwbGljYXRpb24gdXNpbmcgcHJlY29tcHV0ZWQgdGFibGVzIGFuZCB3LWFyeSBub24tYWRqYWNlbnQgZm9ybS5cbiAgICAgKiBNb3JlIGNvbXBhY3QgaW1wbGVtZW50YXRpb246XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL3BhdWxtaWxsci9ub2JsZS1zZWNwMjU2azEvYmxvYi80N2NiMTY2OWI2ZTUwNmFkNjZiMzVmZTdkNzYxMzJhZTk3NDY1ZGEyL2luZGV4LnRzI0w1MDItTDU0MVxuICAgICAqIEByZXR1cm5zIHJlYWwgYW5kIGZha2UgKGZvciBjb25zdC10aW1lKSBwb2ludHNcbiAgICAgKi9cbiAgICB3TkFGKFcsIHByZWNvbXB1dGVzLCBuKSB7XG4gICAgICAgIC8vIFNjYWxhciBzaG91bGQgYmUgc21hbGxlciB0aGFuIGZpZWxkIG9yZGVyXG4gICAgICAgIGlmICghdGhpcy5Gbi5pc1ZhbGlkKG4pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHNjYWxhcicpO1xuICAgICAgICAvLyBBY2N1bXVsYXRvcnNcbiAgICAgICAgbGV0IHAgPSB0aGlzLlpFUk87XG4gICAgICAgIGxldCBmID0gdGhpcy5CQVNFO1xuICAgICAgICAvLyBUaGlzIGNvZGUgd2FzIGZpcnN0IHdyaXR0ZW4gd2l0aCBhc3N1bXB0aW9uIHRoYXQgJ2YnIGFuZCAncCcgd2lsbCBuZXZlciBiZSBpbmZpbml0eSBwb2ludDpcbiAgICAgICAgLy8gc2luY2UgZWFjaCBhZGRpdGlvbiBpcyBtdWx0aXBsaWVkIGJ5IDIgKiogVywgaXQgY2Fubm90IGNhbmNlbCBlYWNoIG90aGVyLiBIb3dldmVyLFxuICAgICAgICAvLyB0aGVyZSBpcyBuZWdhdGUgbm93OiBpdCBpcyBwb3NzaWJsZSB0aGF0IG5lZ2F0ZWQgZWxlbWVudCBmcm9tIGxvdyB2YWx1ZVxuICAgICAgICAvLyB3b3VsZCBiZSB0aGUgc2FtZSBhcyBoaWdoIGVsZW1lbnQsIHdoaWNoIHdpbGwgY3JlYXRlIGNhcnJ5IGludG8gbmV4dCB3aW5kb3cuXG4gICAgICAgIC8vIEl0J3Mgbm90IG9idmlvdXMgaG93IHRoaXMgY2FuIGZhaWwsIGJ1dCBzdGlsbCB3b3J0aCBpbnZlc3RpZ2F0aW5nIGxhdGVyLlxuICAgICAgICBjb25zdCB3byA9IGNhbGNXT3B0cyhXLCB0aGlzLmJpdHMpO1xuICAgICAgICBmb3IgKGxldCB3aW5kb3cgPSAwOyB3aW5kb3cgPCB3by53aW5kb3dzOyB3aW5kb3crKykge1xuICAgICAgICAgICAgLy8gKG4gPT09IF8wbikgaXMgaGFuZGxlZCBhbmQgbm90IGVhcmx5LWV4aXRlZC4gaXNFdmVuIGFuZCBvZmZzZXRGIGFyZSB1c2VkIGZvciBub2lzZVxuICAgICAgICAgICAgY29uc3QgeyBuZXh0Tiwgb2Zmc2V0LCBpc1plcm8sIGlzTmVnLCBpc05lZ0YsIG9mZnNldEYgfSA9IGNhbGNPZmZzZXRzKG4sIHdpbmRvdywgd28pO1xuICAgICAgICAgICAgbiA9IG5leHROO1xuICAgICAgICAgICAgaWYgKGlzWmVybykge1xuICAgICAgICAgICAgICAgIC8vIGJpdHMgYXJlIDA6IGFkZCBnYXJiYWdlIHRvIGZha2UgcG9pbnRcbiAgICAgICAgICAgICAgICAvLyBJbXBvcnRhbnQgcGFydCBmb3IgY29uc3QtdGltZSBnZXRQdWJsaWNLZXk6IGFkZCByYW5kb20gXCJub2lzZVwiIHBvaW50IHRvIGYuXG4gICAgICAgICAgICAgICAgZiA9IGYuYWRkKG5lZ2F0ZUN0KGlzTmVnRiwgcHJlY29tcHV0ZXNbb2Zmc2V0Rl0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGJpdHMgYXJlIDE6IGFkZCB0byByZXN1bHQgcG9pbnRcbiAgICAgICAgICAgICAgICBwID0gcC5hZGQobmVnYXRlQ3QoaXNOZWcsIHByZWNvbXB1dGVzW29mZnNldF0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQwKG4pO1xuICAgICAgICAvLyBSZXR1cm4gYm90aCByZWFsIGFuZCBmYWtlIHBvaW50czogSklUIHdvbid0IGVsaW1pbmF0ZSBmLlxuICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZXJlIGlzIGEgd2F5IHRvIEYgYmUgaW5maW5pdHktcG9pbnQgZXZlbiBpZiBwIGlzIG5vdCxcbiAgICAgICAgLy8gd2hpY2ggbWFrZXMgaXQgbGVzcyBjb25zdC10aW1lOiBhcm91bmQgMSBiaWdpbnQgbXVsdGlwbHkuXG4gICAgICAgIHJldHVybiB7IHAsIGYgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyBlYyB1bnNhZmUgKG5vbiBjb25zdC10aW1lKSBtdWx0aXBsaWNhdGlvbiB1c2luZyBwcmVjb21wdXRlZCB0YWJsZXMgYW5kIHctYXJ5IG5vbi1hZGphY2VudCBmb3JtLlxuICAgICAqIEBwYXJhbSBhY2MgYWNjdW11bGF0b3IgcG9pbnQgdG8gYWRkIHJlc3VsdCBvZiBtdWx0aXBsaWNhdGlvblxuICAgICAqIEByZXR1cm5zIHBvaW50XG4gICAgICovXG4gICAgd05BRlVuc2FmZShXLCBwcmVjb21wdXRlcywgbiwgYWNjID0gdGhpcy5aRVJPKSB7XG4gICAgICAgIGNvbnN0IHdvID0gY2FsY1dPcHRzKFcsIHRoaXMuYml0cyk7XG4gICAgICAgIGZvciAobGV0IHdpbmRvdyA9IDA7IHdpbmRvdyA8IHdvLndpbmRvd3M7IHdpbmRvdysrKSB7XG4gICAgICAgICAgICBpZiAobiA9PT0gXzBuKVxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBFYXJseS1leGl0LCBza2lwIDAgdmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHsgbmV4dE4sIG9mZnNldCwgaXNaZXJvLCBpc05lZyB9ID0gY2FsY09mZnNldHMobiwgd2luZG93LCB3byk7XG4gICAgICAgICAgICBuID0gbmV4dE47XG4gICAgICAgICAgICBpZiAoaXNaZXJvKSB7XG4gICAgICAgICAgICAgICAgLy8gV2luZG93IGJpdHMgYXJlIDA6IHNraXAgcHJvY2Vzc2luZy5cbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHRvIG5leHQgd2luZG93LlxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHByZWNvbXB1dGVzW29mZnNldF07XG4gICAgICAgICAgICAgICAgYWNjID0gYWNjLmFkZChpc05lZyA/IGl0ZW0ubmVnYXRlKCkgOiBpdGVtKTsgLy8gUmUtdXNpbmcgYWNjIGFsbG93cyB0byBzYXZlIGFkZHMgaW4gTVNNXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0MChuKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9XG4gICAgZ2V0UHJlY29tcHV0ZXMoVywgcG9pbnQsIHRyYW5zZm9ybSkge1xuICAgICAgICAvLyBDYWxjdWxhdGUgcHJlY29tcHV0ZXMgb24gYSBmaXJzdCBydW4sIHJldXNlIHRoZW0gYWZ0ZXJcbiAgICAgICAgbGV0IGNvbXAgPSBwb2ludFByZWNvbXB1dGVzLmdldChwb2ludCk7XG4gICAgICAgIGlmICghY29tcCkge1xuICAgICAgICAgICAgY29tcCA9IHRoaXMucHJlY29tcHV0ZVdpbmRvdyhwb2ludCwgVyk7XG4gICAgICAgICAgICBpZiAoVyAhPT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIERvaW5nIHRyYW5zZm9ybSBvdXRzaWRlIG9mIGlmIGJyaW5ncyAxNSUgcGVyZiBoaXRcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRyYW5zZm9ybSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgY29tcCA9IHRyYW5zZm9ybShjb21wKTtcbiAgICAgICAgICAgICAgICBwb2ludFByZWNvbXB1dGVzLnNldChwb2ludCwgY29tcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXA7XG4gICAgfVxuICAgIGNhY2hlZChwb2ludCwgc2NhbGFyLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3QgVyA9IGdldFcocG9pbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy53TkFGKFcsIHRoaXMuZ2V0UHJlY29tcHV0ZXMoVywgcG9pbnQsIHRyYW5zZm9ybSksIHNjYWxhcik7XG4gICAgfVxuICAgIHVuc2FmZShwb2ludCwgc2NhbGFyLCB0cmFuc2Zvcm0sIHByZXYpIHtcbiAgICAgICAgY29uc3QgVyA9IGdldFcocG9pbnQpO1xuICAgICAgICBpZiAoVyA9PT0gMSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91bnNhZmVMYWRkZXIocG9pbnQsIHNjYWxhciwgcHJldik7IC8vIEZvciBXPTEgbGFkZGVyIGlzIH54MiBmYXN0ZXJcbiAgICAgICAgcmV0dXJuIHRoaXMud05BRlVuc2FmZShXLCB0aGlzLmdldFByZWNvbXB1dGVzKFcsIHBvaW50LCB0cmFuc2Zvcm0pLCBzY2FsYXIsIHByZXYpO1xuICAgIH1cbiAgICAvLyBXZSBjYWxjdWxhdGUgcHJlY29tcHV0ZXMgZm9yIGVsbGlwdGljIGN1cnZlIHBvaW50IG11bHRpcGxpY2F0aW9uXG4gICAgLy8gdXNpbmcgd2luZG93ZWQgbWV0aG9kLiBUaGlzIHNwZWNpZmllcyB3aW5kb3cgc2l6ZSBhbmRcbiAgICAvLyBzdG9yZXMgcHJlY29tcHV0ZWQgdmFsdWVzLiBVc3VhbGx5IG9ubHkgYmFzZSBwb2ludCB3b3VsZCBiZSBwcmVjb21wdXRlZC5cbiAgICBjcmVhdGVDYWNoZShQLCBXKSB7XG4gICAgICAgIHZhbGlkYXRlVyhXLCB0aGlzLmJpdHMpO1xuICAgICAgICBwb2ludFdpbmRvd1NpemVzLnNldChQLCBXKTtcbiAgICAgICAgcG9pbnRQcmVjb21wdXRlcy5kZWxldGUoUCk7XG4gICAgfVxuICAgIGhhc0NhY2hlKGVsbSkge1xuICAgICAgICByZXR1cm4gZ2V0VyhlbG0pICE9PSAxO1xuICAgIH1cbn1cbi8qKlxuICogRW5kb21vcnBoaXNtLXNwZWNpZmljIG11bHRpcGxpY2F0aW9uIGZvciBLb2JsaXR6IGN1cnZlcy5cbiAqIENvc3Q6IDEyOCBkYmwsIDAtMjU2IGFkZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWxFbmRvVW5zYWZlKFBvaW50LCBwb2ludCwgazEsIGsyKSB7XG4gICAgbGV0IGFjYyA9IHBvaW50O1xuICAgIGxldCBwMSA9IFBvaW50LlpFUk87XG4gICAgbGV0IHAyID0gUG9pbnQuWkVSTztcbiAgICB3aGlsZSAoazEgPiBfMG4gfHwgazIgPiBfMG4pIHtcbiAgICAgICAgaWYgKGsxICYgXzFuKVxuICAgICAgICAgICAgcDEgPSBwMS5hZGQoYWNjKTtcbiAgICAgICAgaWYgKGsyICYgXzFuKVxuICAgICAgICAgICAgcDIgPSBwMi5hZGQoYWNjKTtcbiAgICAgICAgYWNjID0gYWNjLmRvdWJsZSgpO1xuICAgICAgICBrMSA+Pj0gXzFuO1xuICAgICAgICBrMiA+Pj0gXzFuO1xuICAgIH1cbiAgICByZXR1cm4geyBwMSwgcDIgfTtcbn1cbi8qKlxuICogUGlwcGVuZ2VyIGFsZ29yaXRobSBmb3IgbXVsdGktc2NhbGFyIG11bHRpcGxpY2F0aW9uIChNU00sIFBhICsgUWIgKyBSYyArIC4uLikuXG4gKiAzMHggZmFzdGVyIHZzIG5haXZlIGFkZGl0aW9uIG9uIEw9NDA5NiwgMTB4IGZhc3RlciB0aGFuIHByZWNvbXB1dGVzLlxuICogRm9yIE49MjU0Yml0LCBMPTEsIGl0IGRvZXM6IDEwMjQgQUREICsgMjU0IERCTC4gRm9yIEw9NTogMTUzNiBBREQgKyAyNTQgREJMLlxuICogQWxnb3JpdGhtaWNhbGx5IGNvbnN0YW50LXRpbWUgKGZvciBzYW1lIEwpLCBldmVuIHdoZW4gMSBwb2ludCArIHNjYWxhciwgb3Igd2hlbiBzY2FsYXIgPSAwLlxuICogQHBhcmFtIGMgQ3VydmUgUG9pbnQgY29uc3RydWN0b3JcbiAqIEBwYXJhbSBmaWVsZE4gZmllbGQgb3ZlciBDVVJWRS5OIC0gaW1wb3J0YW50IHRoYXQgaXQncyBub3Qgb3ZlciBDVVJWRS5QXG4gKiBAcGFyYW0gcG9pbnRzIGFycmF5IG9mIEwgY3VydmUgcG9pbnRzXG4gKiBAcGFyYW0gc2NhbGFycyBhcnJheSBvZiBMIHNjYWxhcnMgKGFrYSBzZWNyZXQga2V5cyAvIGJpZ2ludHMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwaXBwZW5nZXIoYywgZmllbGROLCBwb2ludHMsIHNjYWxhcnMpIHtcbiAgICAvLyBJZiB3ZSBzcGxpdCBzY2FsYXJzIGJ5IHNvbWUgd2luZG93IChsZXQncyBzYXkgOCBiaXRzKSwgZXZlcnkgY2h1bmsgd2lsbCBvbmx5XG4gICAgLy8gdGFrZSAyNTYgYnVja2V0cyBldmVuIGlmIHRoZXJlIGFyZSA0MDk2IHNjYWxhcnMsIGFsc28gcmUtdXNlcyBkb3VibGUuXG4gICAgLy8gVE9ETzpcbiAgICAvLyAtIGh0dHBzOi8vZXByaW50LmlhY3Iub3JnLzIwMjQvNzUwLnBkZlxuICAgIC8vIC0gaHR0cHM6Ly90Y2hlcy5pYWNyLm9yZy9pbmRleC5waHAvVENIRVMvYXJ0aWNsZS92aWV3LzEwMjg3XG4gICAgLy8gMCBpcyBhY2NlcHRlZCBpbiBzY2FsYXJzXG4gICAgdmFsaWRhdGVNU01Qb2ludHMocG9pbnRzLCBjKTtcbiAgICB2YWxpZGF0ZU1TTVNjYWxhcnMoc2NhbGFycywgZmllbGROKTtcbiAgICBjb25zdCBwbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcbiAgICBjb25zdCBzbGVuZ3RoID0gc2NhbGFycy5sZW5ndGg7XG4gICAgaWYgKHBsZW5ndGggIT09IHNsZW5ndGgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYXJyYXlzIG9mIHBvaW50cyBhbmQgc2NhbGFycyBtdXN0IGhhdmUgZXF1YWwgbGVuZ3RoJyk7XG4gICAgLy8gaWYgKHBsZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcignYXJyYXkgbXVzdCBiZSBvZiBsZW5ndGggPj0gMicpO1xuICAgIGNvbnN0IHplcm8gPSBjLlpFUk87XG4gICAgY29uc3Qgd2JpdHMgPSBiaXRMZW4oQmlnSW50KHBsZW5ndGgpKTtcbiAgICBsZXQgd2luZG93U2l6ZSA9IDE7IC8vIGJpdHNcbiAgICBpZiAod2JpdHMgPiAxMilcbiAgICAgICAgd2luZG93U2l6ZSA9IHdiaXRzIC0gMztcbiAgICBlbHNlIGlmICh3Yml0cyA+IDQpXG4gICAgICAgIHdpbmRvd1NpemUgPSB3Yml0cyAtIDI7XG4gICAgZWxzZSBpZiAod2JpdHMgPiAwKVxuICAgICAgICB3aW5kb3dTaXplID0gMjtcbiAgICBjb25zdCBNQVNLID0gYml0TWFzayh3aW5kb3dTaXplKTtcbiAgICBjb25zdCBidWNrZXRzID0gbmV3IEFycmF5KE51bWJlcihNQVNLKSArIDEpLmZpbGwoemVybyk7IC8vICsxIGZvciB6ZXJvIGFycmF5XG4gICAgY29uc3QgbGFzdEJpdHMgPSBNYXRoLmZsb29yKChmaWVsZE4uQklUUyAtIDEpIC8gd2luZG93U2l6ZSkgKiB3aW5kb3dTaXplO1xuICAgIGxldCBzdW0gPSB6ZXJvO1xuICAgIGZvciAobGV0IGkgPSBsYXN0Qml0czsgaSA+PSAwOyBpIC09IHdpbmRvd1NpemUpIHtcbiAgICAgICAgYnVja2V0cy5maWxsKHplcm8pO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNsZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGFyID0gc2NhbGFyc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IHdiaXRzID0gTnVtYmVyKChzY2FsYXIgPj4gQmlnSW50KGkpKSAmIE1BU0spO1xuICAgICAgICAgICAgYnVja2V0c1t3Yml0c10gPSBidWNrZXRzW3diaXRzXS5hZGQocG9pbnRzW2pdKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzSSA9IHplcm87IC8vIG5vdCB1c2luZyB0aGlzIHdpbGwgZG8gc21hbGwgc3BlZWQtdXAsIGJ1dCB3aWxsIGxvc2UgY3RcbiAgICAgICAgLy8gU2tpcCBmaXJzdCBidWNrZXQsIGJlY2F1c2UgaXQgaXMgemVyb1xuICAgICAgICBmb3IgKGxldCBqID0gYnVja2V0cy5sZW5ndGggLSAxLCBzdW1JID0gemVybzsgaiA+IDA7IGotLSkge1xuICAgICAgICAgICAgc3VtSSA9IHN1bUkuYWRkKGJ1Y2tldHNbal0pO1xuICAgICAgICAgICAgcmVzSSA9IHJlc0kuYWRkKHN1bUkpO1xuICAgICAgICB9XG4gICAgICAgIHN1bSA9IHN1bS5hZGQocmVzSSk7XG4gICAgICAgIGlmIChpICE9PSAwKVxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB3aW5kb3dTaXplOyBqKyspXG4gICAgICAgICAgICAgICAgc3VtID0gc3VtLmRvdWJsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuLyoqXG4gKiBQcmVjb21wdXRlZCBtdWx0aS1zY2FsYXIgbXVsdGlwbGljYXRpb24gKE1TTSwgUGEgKyBRYiArIFJjICsgLi4uKS5cbiAqIEBwYXJhbSBjIEN1cnZlIFBvaW50IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0gZmllbGROIGZpZWxkIG92ZXIgQ1VSVkUuTiAtIGltcG9ydGFudCB0aGF0IGl0J3Mgbm90IG92ZXIgQ1VSVkUuUFxuICogQHBhcmFtIHBvaW50cyBhcnJheSBvZiBMIGN1cnZlIHBvaW50c1xuICogQHJldHVybnMgZnVuY3Rpb24gd2hpY2ggbXVsdGlwbGllcyBwb2ludHMgd2l0aCBzY2FhcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZWNvbXB1dGVNU01VbnNhZmUoYywgZmllbGROLCBwb2ludHMsIHdpbmRvd1NpemUpIHtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtYW5jZSBBbmFseXNpcyBvZiBXaW5kb3ctYmFzZWQgUHJlY29tcHV0YXRpb25cbiAgICAgKlxuICAgICAqIEJhc2UgQ2FzZSAoMjU2LWJpdCBzY2FsYXIsIDgtYml0IHdpbmRvdyk6XG4gICAgICogLSBTdGFuZGFyZCBwcmVjb21wdXRhdGlvbiByZXF1aXJlczpcbiAgICAgKiAgIC0gMzEgYWRkaXRpb25zIHBlciBzY2FsYXIgw5cgMjU2IHNjYWxhcnMgPSA3LDkzNiBvcHNcbiAgICAgKiAgIC0gUGx1cyAyNTUgc3VtbWFyeSBhZGRpdGlvbnMgPSA4LDE5MSB0b3RhbCBvcHNcbiAgICAgKiAgIE5vdGU6IFN1bW1hcnkgYWRkaXRpb25zIGNhbiBiZSBvcHRpbWl6ZWQgdmlhIGFjY3VtdWxhdG9yXG4gICAgICpcbiAgICAgKiBDaHVua2VkIFByZWNvbXB1dGF0aW9uIEFuYWx5c2lzOlxuICAgICAqIC0gVXNpbmcgMzIgY2h1bmtzIHJlcXVpcmVzOlxuICAgICAqICAgLSAyNTUgYWRkaXRpb25zIHBlciBjaHVua1xuICAgICAqICAgLSAyNTYgZG91YmxpbmdzXG4gICAgICogICAtIFRvdGFsOiAoMjU1IMOXIDMyKSArIDI1NiA9IDgsNDE2IG9wc1xuICAgICAqXG4gICAgICogTWVtb3J5IFVzYWdlIENvbXBhcmlzb246XG4gICAgICogV2luZG93IFNpemUgfCBTdGFuZGFyZCBQb2ludHMgfCBDaHVua2VkIFBvaW50c1xuICAgICAqIC0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS1cbiAgICAgKiAgICAgNC1iaXQgICB8ICAgICA1MjAgICAgICAgICB8ICAgICAgMTVcbiAgICAgKiAgICAgOC1iaXQgICB8ICAgIDQsMjI0ICAgICAgICB8ICAgICAyNTVcbiAgICAgKiAgICAxMC1iaXQgICB8ICAgMTMsODI0ICAgICAgICB8ICAgMSwwMjNcbiAgICAgKiAgICAxNi1iaXQgICB8ICA1NTcsMDU2ICAgICAgICB8ICA2NSw1MzVcbiAgICAgKlxuICAgICAqIEtleSBBZHZhbnRhZ2VzOlxuICAgICAqIDEuIEVuYWJsZXMgbGFyZ2VyIHdpbmRvdyBzaXplcyBkdWUgdG8gcmVkdWNlZCBtZW1vcnkgb3ZlcmhlYWRcbiAgICAgKiAyLiBNb3JlIGVmZmljaWVudCBmb3Igc21hbGxlciBzY2FsYXIgY291bnRzOlxuICAgICAqICAgIC0gMTYgY2h1bmtzOiAoMTYgw5cgMjU1KSArIDI1NiA9IDQsMzM2IG9wc1xuICAgICAqICAgIC0gfjJ4IGZhc3RlciB0aGFuIHN0YW5kYXJkIDgsMTkxIG9wc1xuICAgICAqXG4gICAgICogTGltaXRhdGlvbnM6XG4gICAgICogLSBOb3Qgc3VpdGFibGUgZm9yIHBsYWluIHByZWNvbXB1dGVzIChyZXF1aXJlcyAyNTYgY29uc3RhbnQgZG91YmxpbmdzKVxuICAgICAqIC0gUGVyZm9ybWFuY2UgZGVncmFkZXMgd2l0aCBsYXJnZXIgc2NhbGFyIGNvdW50czpcbiAgICAgKiAgIC0gT3B0aW1hbCBmb3IgfjI1NiBzY2FsYXJzXG4gICAgICogICAtIExlc3MgZWZmaWNpZW50IGZvciA0MDk2KyBzY2FsYXJzIChQaXBwZW5nZXIgcHJlZmVycmVkKVxuICAgICAqL1xuICAgIHZhbGlkYXRlVyh3aW5kb3dTaXplLCBmaWVsZE4uQklUUyk7XG4gICAgdmFsaWRhdGVNU01Qb2ludHMocG9pbnRzLCBjKTtcbiAgICBjb25zdCB6ZXJvID0gYy5aRVJPO1xuICAgIGNvbnN0IHRhYmxlU2l6ZSA9IDIgKiogd2luZG93U2l6ZSAtIDE7IC8vIHRhYmxlIHNpemUgKHdpdGhvdXQgemVybylcbiAgICBjb25zdCBjaHVua3MgPSBNYXRoLmNlaWwoZmllbGROLkJJVFMgLyB3aW5kb3dTaXplKTsgLy8gY2h1bmtzIG9mIGl0ZW1cbiAgICBjb25zdCBNQVNLID0gYml0TWFzayh3aW5kb3dTaXplKTtcbiAgICBjb25zdCB0YWJsZXMgPSBwb2ludHMubWFwKChwKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgYWNjID0gcDsgaSA8IHRhYmxlU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICByZXMucHVzaChhY2MpO1xuICAgICAgICAgICAgYWNjID0gYWNjLmFkZChwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICAgIHJldHVybiAoc2NhbGFycykgPT4ge1xuICAgICAgICB2YWxpZGF0ZU1TTVNjYWxhcnMoc2NhbGFycywgZmllbGROKTtcbiAgICAgICAgaWYgKHNjYWxhcnMubGVuZ3RoID4gcG9pbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXJyYXkgb2Ygc2NhbGFycyBtdXN0IGJlIHNtYWxsZXIgdGhhbiBhcnJheSBvZiBwb2ludHMnKTtcbiAgICAgICAgbGV0IHJlcyA9IHplcm87XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2h1bmtzOyBpKyspIHtcbiAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gZG91YmxlIGlmIGFjY3VtdWxhdG9yIGlzIHN0aWxsIHplcm8uXG4gICAgICAgICAgICBpZiAocmVzICE9PSB6ZXJvKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2luZG93U2l6ZTsgaisrKVxuICAgICAgICAgICAgICAgICAgICByZXMgPSByZXMuZG91YmxlKCk7XG4gICAgICAgICAgICBjb25zdCBzaGlmdEJ5ID0gQmlnSW50KGNodW5rcyAqIHdpbmRvd1NpemUgLSAoaSArIDEpICogd2luZG93U2l6ZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNjYWxhcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gc2NhbGFyc1tqXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyID0gTnVtYmVyKChuID4+IHNoaWZ0QnkpICYgTUFTSyk7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCB6ZXJvIHNjYWxhcnMgY2h1bmtzXG4gICAgICAgICAgICAgICAgcmVzID0gcmVzLmFkZCh0YWJsZXNbal1bY3VyciAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG59XG4vLyBUT0RPOiByZW1vdmVcbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQmFzaWMoY3VydmUpIHtcbiAgICB2YWxpZGF0ZUZpZWxkKGN1cnZlLkZwKTtcbiAgICB2YWxpZGF0ZU9iamVjdChjdXJ2ZSwge1xuICAgICAgICBuOiAnYmlnaW50JyxcbiAgICAgICAgaDogJ2JpZ2ludCcsXG4gICAgICAgIEd4OiAnZmllbGQnLFxuICAgICAgICBHeTogJ2ZpZWxkJyxcbiAgICB9LCB7XG4gICAgICAgIG5CaXRMZW5ndGg6ICdpc1NhZmVJbnRlZ2VyJyxcbiAgICAgICAgbkJ5dGVMZW5ndGg6ICdpc1NhZmVJbnRlZ2VyJyxcbiAgICB9KTtcbiAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIC4uLm5MZW5ndGgoY3VydmUubiwgY3VydmUubkJpdExlbmd0aCksXG4gICAgICAgIC4uLmN1cnZlLFxuICAgICAgICAuLi57IHA6IGN1cnZlLkZwLk9SREVSIH0sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVGaWVsZChvcmRlciwgZmllbGQsIGlzTEUpIHtcbiAgICBpZiAoZmllbGQpIHtcbiAgICAgICAgaWYgKGZpZWxkLk9SREVSICE9PSBvcmRlcilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmllbGQuT1JERVIgbXVzdCBtYXRjaCBvcmRlcjogRnAgPT0gcCwgRm4gPT0gbicpO1xuICAgICAgICB2YWxpZGF0ZUZpZWxkKGZpZWxkKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEZpZWxkKG9yZGVyLCB7IGlzTEUgfSk7XG4gICAgfVxufVxuLyoqIFZhbGlkYXRlcyBDVVJWRSBvcHRzIGFuZCBjcmVhdGVzIGZpZWxkcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9jcmVhdGVDdXJ2ZUZpZWxkcyh0eXBlLCBDVVJWRSwgY3VydmVPcHRzID0ge30sIEZwRm5MRSkge1xuICAgIGlmIChGcEZuTEUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgRnBGbkxFID0gdHlwZSA9PT0gJ2Vkd2FyZHMnO1xuICAgIGlmICghQ1VSVkUgfHwgdHlwZW9mIENVUlZFICE9PSAnb2JqZWN0JylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBleHBlY3RlZCB2YWxpZCAke3R5cGV9IENVUlZFIG9iamVjdGApO1xuICAgIGZvciAoY29uc3QgcCBvZiBbJ3AnLCAnbicsICdoJ10pIHtcbiAgICAgICAgY29uc3QgdmFsID0gQ1VSVkVbcF07XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWwgPT09ICdiaWdpbnQnICYmIHZhbCA+IF8wbikpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENVUlZFLiR7cH0gbXVzdCBiZSBwb3NpdGl2ZSBiaWdpbnRgKTtcbiAgICB9XG4gICAgY29uc3QgRnAgPSBjcmVhdGVGaWVsZChDVVJWRS5wLCBjdXJ2ZU9wdHMuRnAsIEZwRm5MRSk7XG4gICAgY29uc3QgRm4gPSBjcmVhdGVGaWVsZChDVVJWRS5uLCBjdXJ2ZU9wdHMuRm4sIEZwRm5MRSk7XG4gICAgY29uc3QgX2IgPSB0eXBlID09PSAnd2VpZXJzdHJhc3MnID8gJ2InIDogJ2QnO1xuICAgIGNvbnN0IHBhcmFtcyA9IFsnR3gnLCAnR3knLCAnYScsIF9iXTtcbiAgICBmb3IgKGNvbnN0IHAgb2YgcGFyYW1zKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKCFGcC5pc1ZhbGlkKENVUlZFW3BdKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ1VSVkUuJHtwfSBtdXN0IGJlIHZhbGlkIGZpZWxkIGVsZW1lbnQgb2YgQ1VSVkUuRnBgKTtcbiAgICB9XG4gICAgQ1VSVkUgPSBPYmplY3QuZnJlZXplKE9iamVjdC5hc3NpZ24oe30sIENVUlZFKSk7XG4gICAgcmV0dXJuIHsgQ1VSVkUsIEZwLCBGbiB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3VydmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/curve.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/hash-to-curve.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/hash-to-curve.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _DST_scalar: () => (/* binding */ _DST_scalar),\n/* harmony export */   createHasher: () => (/* binding */ createHasher),\n/* harmony export */   expand_message_xmd: () => (/* binding */ expand_message_xmd),\n/* harmony export */   expand_message_xof: () => (/* binding */ expand_message_xof),\n/* harmony export */   hash_to_field: () => (/* binding */ hash_to_field),\n/* harmony export */   isogenyMap: () => (/* binding */ isogenyMap)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/utils.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js\");\n\n\n// Octet Stream to Integer. \"spec\" implementation of os2ip is 2.5x slower vs bytesToNumberBE.\nconst os2ip = _utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE;\n// Integer to Octet Stream (numberToBytesBE)\nfunction i2osp(value, length) {\n    anum(value);\n    anum(length);\n    if (value < 0 || value >= 1 << (8 * length))\n        throw new Error('invalid I2OSP input: ' + value);\n    const res = Array.from({ length }).fill(0);\n    for (let i = length - 1; i >= 0; i--) {\n        res[i] = value & 0xff;\n        value >>>= 8;\n    }\n    return new Uint8Array(res);\n}\nfunction strxor(a, b) {\n    const arr = new Uint8Array(a.length);\n    for (let i = 0; i < a.length; i++) {\n        arr[i] = a[i] ^ b[i];\n    }\n    return arr;\n}\nfunction anum(item) {\n    if (!Number.isSafeInteger(item))\n        throw new Error('number expected');\n}\nfunction normDST(DST) {\n    if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isBytes)(DST) && typeof DST !== 'string')\n        throw new Error('DST must be Uint8Array or string');\n    return typeof DST === 'string' ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.utf8ToBytes)(DST) : DST;\n}\n/**\n * Produces a uniformly random byte string using a cryptographic hash function H that outputs b bits.\n * [RFC 9380 5.3.1](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.1).\n */\nfunction expand_message_xmd(msg, DST, lenInBytes, H) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.abytes)(msg);\n    anum(lenInBytes);\n    DST = normDST(DST);\n    // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n    if (DST.length > 255)\n        DST = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.concatBytes)((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.utf8ToBytes)('H2C-OVERSIZE-DST-'), DST));\n    const { outputLen: b_in_bytes, blockLen: r_in_bytes } = H;\n    const ell = Math.ceil(lenInBytes / b_in_bytes);\n    if (lenInBytes > 65535 || ell > 255)\n        throw new Error('expand_message_xmd: invalid lenInBytes');\n    const DST_prime = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.concatBytes)(DST, i2osp(DST.length, 1));\n    const Z_pad = i2osp(0, r_in_bytes);\n    const l_i_b_str = i2osp(lenInBytes, 2); // len_in_bytes_str\n    const b = new Array(ell);\n    const b_0 = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.concatBytes)(Z_pad, msg, l_i_b_str, i2osp(0, 1), DST_prime));\n    b[0] = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.concatBytes)(b_0, i2osp(1, 1), DST_prime));\n    for (let i = 1; i <= ell; i++) {\n        const args = [strxor(b_0, b[i - 1]), i2osp(i + 1, 1), DST_prime];\n        b[i] = H((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.concatBytes)(...args));\n    }\n    const pseudo_random_bytes = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.concatBytes)(...b);\n    return pseudo_random_bytes.slice(0, lenInBytes);\n}\n/**\n * Produces a uniformly random byte string using an extendable-output function (XOF) H.\n * 1. The collision resistance of H MUST be at least k bits.\n * 2. H MUST be an XOF that has been proved indifferentiable from\n *    a random oracle under a reasonable cryptographic assumption.\n * [RFC 9380 5.3.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.3.2).\n */\nfunction expand_message_xof(msg, DST, lenInBytes, k, H) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.abytes)(msg);\n    anum(lenInBytes);\n    DST = normDST(DST);\n    // https://www.rfc-editor.org/rfc/rfc9380#section-5.3.3\n    // DST = H('H2C-OVERSIZE-DST-' || a_very_long_DST, Math.ceil((lenInBytes * k) / 8));\n    if (DST.length > 255) {\n        const dkLen = Math.ceil((2 * k) / 8);\n        DST = H.create({ dkLen }).update((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.utf8ToBytes)('H2C-OVERSIZE-DST-')).update(DST).digest();\n    }\n    if (lenInBytes > 65535 || DST.length > 255)\n        throw new Error('expand_message_xof: invalid lenInBytes');\n    return (H.create({ dkLen: lenInBytes })\n        .update(msg)\n        .update(i2osp(lenInBytes, 2))\n        // 2. DST_prime = DST || I2OSP(len(DST), 1)\n        .update(DST)\n        .update(i2osp(DST.length, 1))\n        .digest());\n}\n/**\n * Hashes arbitrary-length byte strings to a list of one or more elements of a finite field F.\n * [RFC 9380 5.2](https://www.rfc-editor.org/rfc/rfc9380#section-5.2).\n * @param msg a byte string containing the message to hash\n * @param count the number of elements of F to output\n * @param options `{DST: string, p: bigint, m: number, k: number, expand: 'xmd' | 'xof', hash: H}`, see above\n * @returns [u_0, ..., u_(count - 1)], a list of field elements.\n */\nfunction hash_to_field(msg, count, options) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._validateObject)(options, {\n        p: 'bigint',\n        m: 'number',\n        k: 'number',\n        hash: 'function',\n    });\n    const { p, k, m, hash, expand, DST } = options;\n    if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isHash)(options.hash))\n        throw new Error('expected valid hash');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.abytes)(msg);\n    anum(count);\n    const log2p = p.toString(2).length;\n    const L = Math.ceil((log2p + k) / 8); // section 5.1 of ietf draft link above\n    const len_in_bytes = count * m * L;\n    let prb; // pseudo_random_bytes\n    if (expand === 'xmd') {\n        prb = expand_message_xmd(msg, DST, len_in_bytes, hash);\n    }\n    else if (expand === 'xof') {\n        prb = expand_message_xof(msg, DST, len_in_bytes, k, hash);\n    }\n    else if (expand === '_internal_pass') {\n        // for internal tests only\n        prb = msg;\n    }\n    else {\n        throw new Error('expand must be \"xmd\" or \"xof\"');\n    }\n    const u = new Array(count);\n    for (let i = 0; i < count; i++) {\n        const e = new Array(m);\n        for (let j = 0; j < m; j++) {\n            const elm_offset = L * (j + i * m);\n            const tv = prb.subarray(elm_offset, elm_offset + L);\n            e[j] = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.mod)(os2ip(tv), p);\n        }\n        u[i] = e;\n    }\n    return u;\n}\nfunction isogenyMap(field, map) {\n    // Make same order as in spec\n    const coeff = map.map((i) => Array.from(i).reverse());\n    return (x, y) => {\n        const [xn, xd, yn, yd] = coeff.map((val) => val.reduce((acc, i) => field.add(field.mul(acc, x), i)));\n        // 6.6.3\n        // Exceptional cases of iso_map are inputs that cause the denominator of\n        // either rational function to evaluate to zero; such cases MUST return\n        // the identity point on E.\n        const [xd_inv, yd_inv] = (0,_modular_js__WEBPACK_IMPORTED_MODULE_2__.FpInvertBatch)(field, [xd, yd], true);\n        x = field.mul(xn, xd_inv); // xNum / xDen\n        y = field.mul(y, field.mul(yn, yd_inv)); // y * (yNum / yDev)\n        return { x, y };\n    };\n}\nconst _DST_scalar = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.utf8ToBytes)('HashToScalar-');\n/** Creates hash-to-curve methods from EC Point and mapToCurve function. See {@link H2CHasher}. */\nfunction createHasher(Point, mapToCurve, defaults) {\n    if (typeof mapToCurve !== 'function')\n        throw new Error('mapToCurve() must be defined');\n    function map(num) {\n        return Point.fromAffine(mapToCurve(num));\n    }\n    function clear(initial) {\n        const P = initial.clearCofactor();\n        if (P.equals(Point.ZERO))\n            return Point.ZERO; // zero will throw in assert\n        P.assertValidity();\n        return P;\n    }\n    return {\n        defaults,\n        hashToCurve(msg, options) {\n            const opts = Object.assign({}, defaults, options);\n            const u = hash_to_field(msg, 2, opts);\n            const u0 = map(u[0]);\n            const u1 = map(u[1]);\n            return clear(u0.add(u1));\n        },\n        encodeToCurve(msg, options) {\n            const optsDst = defaults.encodeDST ? { DST: defaults.encodeDST } : {};\n            const opts = Object.assign({}, defaults, optsDst, options);\n            const u = hash_to_field(msg, 1, opts);\n            const u0 = map(u[0]);\n            return clear(u0);\n        },\n        /** See {@link H2CHasher} */\n        mapToCurve(scalars) {\n            if (!Array.isArray(scalars))\n                throw new Error('expected array of bigints');\n            for (const i of scalars)\n                if (typeof i !== 'bigint')\n                    throw new Error('expected array of bigints');\n            return clear(map(scalars));\n        },\n        // hash_to_scalar can produce 0: https://www.rfc-editor.org/errata/eid8393\n        // RFC 9380, draft-irtf-cfrg-bbs-signatures-08\n        hashToScalar(msg, options) {\n            // @ts-ignore\n            const N = Point.Fn.ORDER;\n            const opts = Object.assign({}, defaults, { p: N, m: 1, DST: _DST_scalar }, options);\n            return hash_to_field(msg, 1, opts)[0][0];\n        },\n    };\n}\n//# sourceMappingURL=hash-to-curve.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC9oYXNoLXRvLWN1cnZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFtSDtBQUNqRTtBQUNsRDtBQUNBLGNBQWMsc0RBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFFBQVE7QUFDckMsNkJBQTZCLFFBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtEQUFPO0FBQ2hCO0FBQ0EscUNBQXFDLHNEQUFXO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLElBQUksaURBQU07QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzREFBVyxDQUFDLHNEQUFXO0FBQ3ZDLFlBQVksOENBQThDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBVztBQUNqQztBQUNBLDRDQUE0QztBQUM1QztBQUNBLGtCQUFrQixzREFBVztBQUM3QixhQUFhLHNEQUFXO0FBQ3hCLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsaUJBQWlCLHNEQUFXO0FBQzVCO0FBQ0EsZ0NBQWdDLHNEQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsSUFBSSxpREFBTTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixPQUFPLFNBQVMsc0RBQVc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1CQUFtQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNkVBQTZFO0FBQ2pHO0FBQ0E7QUFDTztBQUNQLElBQUksMERBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSw2QkFBNkI7QUFDekMsU0FBUyxpREFBTTtBQUNmO0FBQ0EsSUFBSSxpREFBTTtBQUNWO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBLG1CQUFtQixnREFBRztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQSxpQ0FBaUMsMERBQWE7QUFDOUMsbUNBQW1DO0FBQ25DLGlEQUFpRDtBQUNqRCxpQkFBaUI7QUFDakI7QUFDQTtBQUNPLG9CQUFvQixzREFBVztBQUN0Qyw4RUFBOEUsZ0JBQWdCO0FBQ3ZGO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxtREFBbUQsMEJBQTBCO0FBQzdFLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGNBQWMsOEJBQThCO0FBQ3JGO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC9oYXNoLXRvLWN1cnZlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF92YWxpZGF0ZU9iamVjdCwgYWJ5dGVzLCBieXRlc1RvTnVtYmVyQkUsIGNvbmNhdEJ5dGVzLCBpc0J5dGVzLCBpc0hhc2gsIHV0ZjhUb0J5dGVzLCB9IGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgRnBJbnZlcnRCYXRjaCwgbW9kIH0gZnJvbSBcIi4vbW9kdWxhci5qc1wiO1xuLy8gT2N0ZXQgU3RyZWFtIHRvIEludGVnZXIuIFwic3BlY1wiIGltcGxlbWVudGF0aW9uIG9mIG9zMmlwIGlzIDIuNXggc2xvd2VyIHZzIGJ5dGVzVG9OdW1iZXJCRS5cbmNvbnN0IG9zMmlwID0gYnl0ZXNUb051bWJlckJFO1xuLy8gSW50ZWdlciB0byBPY3RldCBTdHJlYW0gKG51bWJlclRvQnl0ZXNCRSlcbmZ1bmN0aW9uIGkyb3NwKHZhbHVlLCBsZW5ndGgpIHtcbiAgICBhbnVtKHZhbHVlKTtcbiAgICBhbnVtKGxlbmd0aCk7XG4gICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+PSAxIDw8ICg4ICogbGVuZ3RoKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIEkyT1NQIGlucHV0OiAnICsgdmFsdWUpO1xuICAgIGNvbnN0IHJlcyA9IEFycmF5LmZyb20oeyBsZW5ndGggfSkuZmlsbCgwKTtcbiAgICBmb3IgKGxldCBpID0gbGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgcmVzW2ldID0gdmFsdWUgJiAweGZmO1xuICAgICAgICB2YWx1ZSA+Pj49IDg7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShyZXMpO1xufVxuZnVuY3Rpb24gc3RyeG9yKGEsIGIpIHtcbiAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShhLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IGFbaV0gXiBiW2ldO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xufVxuZnVuY3Rpb24gYW51bShpdGVtKSB7XG4gICAgaWYgKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihpdGVtKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdudW1iZXIgZXhwZWN0ZWQnKTtcbn1cbmZ1bmN0aW9uIG5vcm1EU1QoRFNUKSB7XG4gICAgaWYgKCFpc0J5dGVzKERTVCkgJiYgdHlwZW9mIERTVCAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRFNUIG11c3QgYmUgVWludDhBcnJheSBvciBzdHJpbmcnKTtcbiAgICByZXR1cm4gdHlwZW9mIERTVCA9PT0gJ3N0cmluZycgPyB1dGY4VG9CeXRlcyhEU1QpIDogRFNUO1xufVxuLyoqXG4gKiBQcm9kdWNlcyBhIHVuaWZvcm1seSByYW5kb20gYnl0ZSBzdHJpbmcgdXNpbmcgYSBjcnlwdG9ncmFwaGljIGhhc2ggZnVuY3Rpb24gSCB0aGF0IG91dHB1dHMgYiBiaXRzLlxuICogW1JGQyA5MzgwIDUuMy4xXShodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTUuMy4xKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZF9tZXNzYWdlX3htZChtc2csIERTVCwgbGVuSW5CeXRlcywgSCkge1xuICAgIGFieXRlcyhtc2cpO1xuICAgIGFudW0obGVuSW5CeXRlcyk7XG4gICAgRFNUID0gbm9ybURTVChEU1QpO1xuICAgIC8vIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNS4zLjNcbiAgICBpZiAoRFNULmxlbmd0aCA+IDI1NSlcbiAgICAgICAgRFNUID0gSChjb25jYXRCeXRlcyh1dGY4VG9CeXRlcygnSDJDLU9WRVJTSVpFLURTVC0nKSwgRFNUKSk7XG4gICAgY29uc3QgeyBvdXRwdXRMZW46IGJfaW5fYnl0ZXMsIGJsb2NrTGVuOiByX2luX2J5dGVzIH0gPSBIO1xuICAgIGNvbnN0IGVsbCA9IE1hdGguY2VpbChsZW5JbkJ5dGVzIC8gYl9pbl9ieXRlcyk7XG4gICAgaWYgKGxlbkluQnl0ZXMgPiA2NTUzNSB8fCBlbGwgPiAyNTUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwYW5kX21lc3NhZ2VfeG1kOiBpbnZhbGlkIGxlbkluQnl0ZXMnKTtcbiAgICBjb25zdCBEU1RfcHJpbWUgPSBjb25jYXRCeXRlcyhEU1QsIGkyb3NwKERTVC5sZW5ndGgsIDEpKTtcbiAgICBjb25zdCBaX3BhZCA9IGkyb3NwKDAsIHJfaW5fYnl0ZXMpO1xuICAgIGNvbnN0IGxfaV9iX3N0ciA9IGkyb3NwKGxlbkluQnl0ZXMsIDIpOyAvLyBsZW5faW5fYnl0ZXNfc3RyXG4gICAgY29uc3QgYiA9IG5ldyBBcnJheShlbGwpO1xuICAgIGNvbnN0IGJfMCA9IEgoY29uY2F0Qnl0ZXMoWl9wYWQsIG1zZywgbF9pX2Jfc3RyLCBpMm9zcCgwLCAxKSwgRFNUX3ByaW1lKSk7XG4gICAgYlswXSA9IEgoY29uY2F0Qnl0ZXMoYl8wLCBpMm9zcCgxLCAxKSwgRFNUX3ByaW1lKSk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZWxsOyBpKyspIHtcbiAgICAgICAgY29uc3QgYXJncyA9IFtzdHJ4b3IoYl8wLCBiW2kgLSAxXSksIGkyb3NwKGkgKyAxLCAxKSwgRFNUX3ByaW1lXTtcbiAgICAgICAgYltpXSA9IEgoY29uY2F0Qnl0ZXMoLi4uYXJncykpO1xuICAgIH1cbiAgICBjb25zdCBwc2V1ZG9fcmFuZG9tX2J5dGVzID0gY29uY2F0Qnl0ZXMoLi4uYik7XG4gICAgcmV0dXJuIHBzZXVkb19yYW5kb21fYnl0ZXMuc2xpY2UoMCwgbGVuSW5CeXRlcyk7XG59XG4vKipcbiAqIFByb2R1Y2VzIGEgdW5pZm9ybWx5IHJhbmRvbSBieXRlIHN0cmluZyB1c2luZyBhbiBleHRlbmRhYmxlLW91dHB1dCBmdW5jdGlvbiAoWE9GKSBILlxuICogMS4gVGhlIGNvbGxpc2lvbiByZXNpc3RhbmNlIG9mIEggTVVTVCBiZSBhdCBsZWFzdCBrIGJpdHMuXG4gKiAyLiBIIE1VU1QgYmUgYW4gWE9GIHRoYXQgaGFzIGJlZW4gcHJvdmVkIGluZGlmZmVyZW50aWFibGUgZnJvbVxuICogICAgYSByYW5kb20gb3JhY2xlIHVuZGVyIGEgcmVhc29uYWJsZSBjcnlwdG9ncmFwaGljIGFzc3VtcHRpb24uXG4gKiBbUkZDIDkzODAgNS4zLjJdKGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNS4zLjIpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kX21lc3NhZ2VfeG9mKG1zZywgRFNULCBsZW5JbkJ5dGVzLCBrLCBIKSB7XG4gICAgYWJ5dGVzKG1zZyk7XG4gICAgYW51bShsZW5JbkJ5dGVzKTtcbiAgICBEU1QgPSBub3JtRFNUKERTVCk7XG4gICAgLy8gaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzkzODAjc2VjdGlvbi01LjMuM1xuICAgIC8vIERTVCA9IEgoJ0gyQy1PVkVSU0laRS1EU1QtJyB8fCBhX3ZlcnlfbG9uZ19EU1QsIE1hdGguY2VpbCgobGVuSW5CeXRlcyAqIGspIC8gOCkpO1xuICAgIGlmIChEU1QubGVuZ3RoID4gMjU1KSB7XG4gICAgICAgIGNvbnN0IGRrTGVuID0gTWF0aC5jZWlsKCgyICogaykgLyA4KTtcbiAgICAgICAgRFNUID0gSC5jcmVhdGUoeyBka0xlbiB9KS51cGRhdGUodXRmOFRvQnl0ZXMoJ0gyQy1PVkVSU0laRS1EU1QtJykpLnVwZGF0ZShEU1QpLmRpZ2VzdCgpO1xuICAgIH1cbiAgICBpZiAobGVuSW5CeXRlcyA+IDY1NTM1IHx8IERTVC5sZW5ndGggPiAyNTUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwYW5kX21lc3NhZ2VfeG9mOiBpbnZhbGlkIGxlbkluQnl0ZXMnKTtcbiAgICByZXR1cm4gKEguY3JlYXRlKHsgZGtMZW46IGxlbkluQnl0ZXMgfSlcbiAgICAgICAgLnVwZGF0ZShtc2cpXG4gICAgICAgIC51cGRhdGUoaTJvc3AobGVuSW5CeXRlcywgMikpXG4gICAgICAgIC8vIDIuIERTVF9wcmltZSA9IERTVCB8fCBJMk9TUChsZW4oRFNUKSwgMSlcbiAgICAgICAgLnVwZGF0ZShEU1QpXG4gICAgICAgIC51cGRhdGUoaTJvc3AoRFNULmxlbmd0aCwgMSkpXG4gICAgICAgIC5kaWdlc3QoKSk7XG59XG4vKipcbiAqIEhhc2hlcyBhcmJpdHJhcnktbGVuZ3RoIGJ5dGUgc3RyaW5ncyB0byBhIGxpc3Qgb2Ygb25lIG9yIG1vcmUgZWxlbWVudHMgb2YgYSBmaW5pdGUgZmllbGQgRi5cbiAqIFtSRkMgOTM4MCA1LjJdKGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNS4yKS5cbiAqIEBwYXJhbSBtc2cgYSBieXRlIHN0cmluZyBjb250YWluaW5nIHRoZSBtZXNzYWdlIHRvIGhhc2hcbiAqIEBwYXJhbSBjb3VudCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIG9mIEYgdG8gb3V0cHV0XG4gKiBAcGFyYW0gb3B0aW9ucyBge0RTVDogc3RyaW5nLCBwOiBiaWdpbnQsIG06IG51bWJlciwgazogbnVtYmVyLCBleHBhbmQ6ICd4bWQnIHwgJ3hvZicsIGhhc2g6IEh9YCwgc2VlIGFib3ZlXG4gKiBAcmV0dXJucyBbdV8wLCAuLi4sIHVfKGNvdW50IC0gMSldLCBhIGxpc3Qgb2YgZmllbGQgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoX3RvX2ZpZWxkKG1zZywgY291bnQsIG9wdGlvbnMpIHtcbiAgICBfdmFsaWRhdGVPYmplY3Qob3B0aW9ucywge1xuICAgICAgICBwOiAnYmlnaW50JyxcbiAgICAgICAgbTogJ251bWJlcicsXG4gICAgICAgIGs6ICdudW1iZXInLFxuICAgICAgICBoYXNoOiAnZnVuY3Rpb24nLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgcCwgaywgbSwgaGFzaCwgZXhwYW5kLCBEU1QgfSA9IG9wdGlvbnM7XG4gICAgaWYgKCFpc0hhc2gob3B0aW9ucy5oYXNoKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCB2YWxpZCBoYXNoJyk7XG4gICAgYWJ5dGVzKG1zZyk7XG4gICAgYW51bShjb3VudCk7XG4gICAgY29uc3QgbG9nMnAgPSBwLnRvU3RyaW5nKDIpLmxlbmd0aDtcbiAgICBjb25zdCBMID0gTWF0aC5jZWlsKChsb2cycCArIGspIC8gOCk7IC8vIHNlY3Rpb24gNS4xIG9mIGlldGYgZHJhZnQgbGluayBhYm92ZVxuICAgIGNvbnN0IGxlbl9pbl9ieXRlcyA9IGNvdW50ICogbSAqIEw7XG4gICAgbGV0IHByYjsgLy8gcHNldWRvX3JhbmRvbV9ieXRlc1xuICAgIGlmIChleHBhbmQgPT09ICd4bWQnKSB7XG4gICAgICAgIHByYiA9IGV4cGFuZF9tZXNzYWdlX3htZChtc2csIERTVCwgbGVuX2luX2J5dGVzLCBoYXNoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXhwYW5kID09PSAneG9mJykge1xuICAgICAgICBwcmIgPSBleHBhbmRfbWVzc2FnZV94b2YobXNnLCBEU1QsIGxlbl9pbl9ieXRlcywgaywgaGFzaCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4cGFuZCA9PT0gJ19pbnRlcm5hbF9wYXNzJykge1xuICAgICAgICAvLyBmb3IgaW50ZXJuYWwgdGVzdHMgb25seVxuICAgICAgICBwcmIgPSBtc2c7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGFuZCBtdXN0IGJlIFwieG1kXCIgb3IgXCJ4b2ZcIicpO1xuICAgIH1cbiAgICBjb25zdCB1ID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBBcnJheShtKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsbV9vZmZzZXQgPSBMICogKGogKyBpICogbSk7XG4gICAgICAgICAgICBjb25zdCB0diA9IHByYi5zdWJhcnJheShlbG1fb2Zmc2V0LCBlbG1fb2Zmc2V0ICsgTCk7XG4gICAgICAgICAgICBlW2pdID0gbW9kKG9zMmlwKHR2KSwgcCk7XG4gICAgICAgIH1cbiAgICAgICAgdVtpXSA9IGU7XG4gICAgfVxuICAgIHJldHVybiB1O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzb2dlbnlNYXAoZmllbGQsIG1hcCkge1xuICAgIC8vIE1ha2Ugc2FtZSBvcmRlciBhcyBpbiBzcGVjXG4gICAgY29uc3QgY29lZmYgPSBtYXAubWFwKChpKSA9PiBBcnJheS5mcm9tKGkpLnJldmVyc2UoKSk7XG4gICAgcmV0dXJuICh4LCB5KSA9PiB7XG4gICAgICAgIGNvbnN0IFt4biwgeGQsIHluLCB5ZF0gPSBjb2VmZi5tYXAoKHZhbCkgPT4gdmFsLnJlZHVjZSgoYWNjLCBpKSA9PiBmaWVsZC5hZGQoZmllbGQubXVsKGFjYywgeCksIGkpKSk7XG4gICAgICAgIC8vIDYuNi4zXG4gICAgICAgIC8vIEV4Y2VwdGlvbmFsIGNhc2VzIG9mIGlzb19tYXAgYXJlIGlucHV0cyB0aGF0IGNhdXNlIHRoZSBkZW5vbWluYXRvciBvZlxuICAgICAgICAvLyBlaXRoZXIgcmF0aW9uYWwgZnVuY3Rpb24gdG8gZXZhbHVhdGUgdG8gemVybzsgc3VjaCBjYXNlcyBNVVNUIHJldHVyblxuICAgICAgICAvLyB0aGUgaWRlbnRpdHkgcG9pbnQgb24gRS5cbiAgICAgICAgY29uc3QgW3hkX2ludiwgeWRfaW52XSA9IEZwSW52ZXJ0QmF0Y2goZmllbGQsIFt4ZCwgeWRdLCB0cnVlKTtcbiAgICAgICAgeCA9IGZpZWxkLm11bCh4biwgeGRfaW52KTsgLy8geE51bSAvIHhEZW5cbiAgICAgICAgeSA9IGZpZWxkLm11bCh5LCBmaWVsZC5tdWwoeW4sIHlkX2ludikpOyAvLyB5ICogKHlOdW0gLyB5RGV2KVxuICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBfRFNUX3NjYWxhciA9IHV0ZjhUb0J5dGVzKCdIYXNoVG9TY2FsYXItJyk7XG4vKiogQ3JlYXRlcyBoYXNoLXRvLWN1cnZlIG1ldGhvZHMgZnJvbSBFQyBQb2ludCBhbmQgbWFwVG9DdXJ2ZSBmdW5jdGlvbi4gU2VlIHtAbGluayBIMkNIYXNoZXJ9LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhhc2hlcihQb2ludCwgbWFwVG9DdXJ2ZSwgZGVmYXVsdHMpIHtcbiAgICBpZiAodHlwZW9mIG1hcFRvQ3VydmUgIT09ICdmdW5jdGlvbicpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbWFwVG9DdXJ2ZSgpIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGZ1bmN0aW9uIG1hcChudW0pIHtcbiAgICAgICAgcmV0dXJuIFBvaW50LmZyb21BZmZpbmUobWFwVG9DdXJ2ZShudW0pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYXIoaW5pdGlhbCkge1xuICAgICAgICBjb25zdCBQID0gaW5pdGlhbC5jbGVhckNvZmFjdG9yKCk7XG4gICAgICAgIGlmIChQLmVxdWFscyhQb2ludC5aRVJPKSlcbiAgICAgICAgICAgIHJldHVybiBQb2ludC5aRVJPOyAvLyB6ZXJvIHdpbGwgdGhyb3cgaW4gYXNzZXJ0XG4gICAgICAgIFAuYXNzZXJ0VmFsaWRpdHkoKTtcbiAgICAgICAgcmV0dXJuIFA7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGRlZmF1bHRzLFxuICAgICAgICBoYXNoVG9DdXJ2ZShtc2csIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCB1ID0gaGFzaF90b19maWVsZChtc2csIDIsIG9wdHMpO1xuICAgICAgICAgICAgY29uc3QgdTAgPSBtYXAodVswXSk7XG4gICAgICAgICAgICBjb25zdCB1MSA9IG1hcCh1WzFdKTtcbiAgICAgICAgICAgIHJldHVybiBjbGVhcih1MC5hZGQodTEpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5jb2RlVG9DdXJ2ZShtc2csIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdHNEc3QgPSBkZWZhdWx0cy5lbmNvZGVEU1QgPyB7IERTVDogZGVmYXVsdHMuZW5jb2RlRFNUIH0gOiB7fTtcbiAgICAgICAgICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0c0RzdCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCB1ID0gaGFzaF90b19maWVsZChtc2csIDEsIG9wdHMpO1xuICAgICAgICAgICAgY29uc3QgdTAgPSBtYXAodVswXSk7XG4gICAgICAgICAgICByZXR1cm4gY2xlYXIodTApO1xuICAgICAgICB9LFxuICAgICAgICAvKiogU2VlIHtAbGluayBIMkNIYXNoZXJ9ICovXG4gICAgICAgIG1hcFRvQ3VydmUoc2NhbGFycykge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNjYWxhcnMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgYXJyYXkgb2YgYmlnaW50cycpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIHNjYWxhcnMpXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpICE9PSAnYmlnaW50JylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBhcnJheSBvZiBiaWdpbnRzJyk7XG4gICAgICAgICAgICByZXR1cm4gY2xlYXIobWFwKHNjYWxhcnMpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gaGFzaF90b19zY2FsYXIgY2FuIHByb2R1Y2UgMDogaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvZXJyYXRhL2VpZDgzOTNcbiAgICAgICAgLy8gUkZDIDkzODAsIGRyYWZ0LWlydGYtY2ZyZy1iYnMtc2lnbmF0dXJlcy0wOFxuICAgICAgICBoYXNoVG9TY2FsYXIobXNnLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25zdCBOID0gUG9pbnQuRm4uT1JERVI7XG4gICAgICAgICAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIHsgcDogTiwgbTogMSwgRFNUOiBfRFNUX3NjYWxhciB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBoYXNoX3RvX2ZpZWxkKG1zZywgMSwgb3B0cylbMF1bMF07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhc2gtdG8tY3VydmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/hash-to-curve.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   FpDiv: () => (/* binding */ FpDiv),\n/* harmony export */   FpInvertBatch: () => (/* binding */ FpInvertBatch),\n/* harmony export */   FpIsSquare: () => (/* binding */ FpIsSquare),\n/* harmony export */   FpLegendre: () => (/* binding */ FpLegendre),\n/* harmony export */   FpPow: () => (/* binding */ FpPow),\n/* harmony export */   FpSqrt: () => (/* binding */ FpSqrt),\n/* harmony export */   FpSqrtEven: () => (/* binding */ FpSqrtEven),\n/* harmony export */   FpSqrtOdd: () => (/* binding */ FpSqrtOdd),\n/* harmony export */   getFieldBytesLength: () => (/* binding */ getFieldBytesLength),\n/* harmony export */   getMinHashLength: () => (/* binding */ getMinHashLength),\n/* harmony export */   hashToPrivateScalar: () => (/* binding */ hashToPrivateScalar),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   isNegativeLE: () => (/* binding */ isNegativeLE),\n/* harmony export */   mapHashToField: () => (/* binding */ mapHashToField),\n/* harmony export */   mod: () => (/* binding */ mod),\n/* harmony export */   nLength: () => (/* binding */ nLength),\n/* harmony export */   pow: () => (/* binding */ pow),\n/* harmony export */   pow2: () => (/* binding */ pow2),\n/* harmony export */   tonelliShanks: () => (/* binding */ tonelliShanks),\n/* harmony export */   validateField: () => (/* binding */ validateField)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/utils.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js\");\n/**\n * Utils for modular division and fields.\n * Field over 11 is a finite (Galois) field is integer number operations `mod 11`.\n * There is no division: it is replaced by modular multiplicative inverse.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = /* @__PURE__ */ BigInt(2), _3n = /* @__PURE__ */ BigInt(3);\n// prettier-ignore\nconst _4n = /* @__PURE__ */ BigInt(4), _5n = /* @__PURE__ */ BigInt(5), _7n = /* @__PURE__ */ BigInt(7);\n// prettier-ignore\nconst _8n = /* @__PURE__ */ BigInt(8), _9n = /* @__PURE__ */ BigInt(9), _16n = /* @__PURE__ */ BigInt(16);\n// Calculates a modulo b\nfunction mod(a, b) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\n/**\n * Efficiently raise num to power and do modular division.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n * @example\n * pow(2n, 6n, 11n) // 64n % 11n == 9n\n */\nfunction pow(num, power, modulo) {\n    return FpPow(Field(modulo), num, power);\n}\n/** Does `x^(2^power)` mod p. `pow2(30, 4)` == `30^(2^4)` */\nfunction pow2(x, power, modulo) {\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= modulo;\n    }\n    return res;\n}\n/**\n * Inverses number over modulo.\n * Implemented using [Euclidean GCD](https://brilliant.org/wiki/extended-euclidean-algorithm/).\n */\nfunction invert(number, modulo) {\n    if (number === _0n)\n        throw new Error('invert: expected non-zero number');\n    if (modulo <= _0n)\n        throw new Error('invert: expected positive modulus, got ' + modulo);\n    // Fermat's little theorem \"CT-like\" version inv(n) = n^(m-2) mod m is 30x slower.\n    let a = mod(number, modulo);\n    let b = modulo;\n    // prettier-ignore\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        // JIT applies optimization if those two lines follow each other\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        // prettier-ignore\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\nfunction assertIsSquare(Fp, root, n) {\n    if (!Fp.eql(Fp.sqr(root), n))\n        throw new Error('Cannot find square root');\n}\n// Not all roots are possible! Example which will throw:\n// const NUM =\n// n = 72057594037927816n;\n// Fp = Field(BigInt('0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab'));\nfunction sqrt3mod4(Fp, n) {\n    const p1div4 = (Fp.ORDER + _1n) / _4n;\n    const root = Fp.pow(n, p1div4);\n    assertIsSquare(Fp, root, n);\n    return root;\n}\nfunction sqrt5mod8(Fp, n) {\n    const p5div8 = (Fp.ORDER - _5n) / _8n;\n    const n2 = Fp.mul(n, _2n);\n    const v = Fp.pow(n2, p5div8);\n    const nv = Fp.mul(n, v);\n    const i = Fp.mul(Fp.mul(nv, _2n), v);\n    const root = Fp.mul(nv, Fp.sub(i, Fp.ONE));\n    assertIsSquare(Fp, root, n);\n    return root;\n}\n// Based on RFC9380, Kong algorithm\n// prettier-ignore\nfunction sqrt9mod16(P) {\n    const Fp_ = Field(P);\n    const tn = tonelliShanks(P);\n    const c1 = tn(Fp_, Fp_.neg(Fp_.ONE)); //  1. c1 = sqrt(-1) in F, i.e., (c1^2) == -1 in F\n    const c2 = tn(Fp_, c1); //  2. c2 = sqrt(c1) in F, i.e., (c2^2) == c1 in F\n    const c3 = tn(Fp_, Fp_.neg(c1)); //  3. c3 = sqrt(-c1) in F, i.e., (c3^2) == -c1 in F\n    const c4 = (P + _7n) / _16n; //  4. c4 = (q + 7) / 16        # Integer arithmetic\n    return (Fp, n) => {\n        let tv1 = Fp.pow(n, c4); //  1. tv1 = x^c4\n        let tv2 = Fp.mul(tv1, c1); //  2. tv2 = c1 * tv1\n        const tv3 = Fp.mul(tv1, c2); //  3. tv3 = c2 * tv1\n        const tv4 = Fp.mul(tv1, c3); //  4. tv4 = c3 * tv1\n        const e1 = Fp.eql(Fp.sqr(tv2), n); //  5.  e1 = (tv2^2) == x\n        const e2 = Fp.eql(Fp.sqr(tv3), n); //  6.  e2 = (tv3^2) == x\n        tv1 = Fp.cmov(tv1, tv2, e1); //  7. tv1 = CMOV(tv1, tv2, e1)  # Select tv2 if (tv2^2) == x\n        tv2 = Fp.cmov(tv4, tv3, e2); //  8. tv2 = CMOV(tv4, tv3, e2)  # Select tv3 if (tv3^2) == x\n        const e3 = Fp.eql(Fp.sqr(tv2), n); //  9.  e3 = (tv2^2) == x\n        const root = Fp.cmov(tv1, tv2, e3); // 10.  z = CMOV(tv1, tv2, e3)   # Select sqrt from tv1 & tv2\n        assertIsSquare(Fp, root, n);\n        return root;\n    };\n}\n/**\n * Tonelli-Shanks square root search algorithm.\n * 1. https://eprint.iacr.org/2012/685.pdf (page 12)\n * 2. Square Roots from 1; 24, 51, 10 to Dan Shanks\n * @param P field order\n * @returns function that takes field Fp (created from P) and number n\n */\nfunction tonelliShanks(P) {\n    // Initialization (precomputation).\n    // Caching initialization could boost perf by 7%.\n    if (P < _3n)\n        throw new Error('sqrt is not defined for small field');\n    // Factor P - 1 = Q * 2^S, where Q is odd\n    let Q = P - _1n;\n    let S = 0;\n    while (Q % _2n === _0n) {\n        Q /= _2n;\n        S++;\n    }\n    // Find the first quadratic non-residue Z >= 2\n    let Z = _2n;\n    const _Fp = Field(P);\n    while (FpLegendre(_Fp, Z) === 1) {\n        // Basic primality test for P. After x iterations, chance of\n        // not finding quadratic non-residue is 2^x, so 2^1000.\n        if (Z++ > 1000)\n            throw new Error('Cannot find square root: probably non-prime P');\n    }\n    // Fast-path; usually done before Z, but we do \"primality test\".\n    if (S === 1)\n        return sqrt3mod4;\n    // Slow-path\n    // TODO: test on Fp2 and others\n    let cc = _Fp.pow(Z, Q); // c = z^Q\n    const Q1div2 = (Q + _1n) / _2n;\n    return function tonelliSlow(Fp, n) {\n        if (Fp.is0(n))\n            return n;\n        // Check if n is a quadratic residue using Legendre symbol\n        if (FpLegendre(Fp, n) !== 1)\n            throw new Error('Cannot find square root');\n        // Initialize variables for the main loop\n        let M = S;\n        let c = Fp.mul(Fp.ONE, cc); // c = z^Q, move cc from field _Fp into field Fp\n        let t = Fp.pow(n, Q); // t = n^Q, first guess at the fudge factor\n        let R = Fp.pow(n, Q1div2); // R = n^((Q+1)/2), first guess at the square root\n        // Main loop\n        // while t != 1\n        while (!Fp.eql(t, Fp.ONE)) {\n            if (Fp.is0(t))\n                return Fp.ZERO; // if t=0 return R=0\n            let i = 1;\n            // Find the smallest i >= 1 such that t^(2^i)  1 (mod P)\n            let t_tmp = Fp.sqr(t); // t^(2^1)\n            while (!Fp.eql(t_tmp, Fp.ONE)) {\n                i++;\n                t_tmp = Fp.sqr(t_tmp); // t^(2^2)...\n                if (i === M)\n                    throw new Error('Cannot find square root');\n            }\n            // Calculate the exponent for b: 2^(M - i - 1)\n            const exponent = _1n << BigInt(M - i - 1); // bigint is important\n            const b = Fp.pow(c, exponent); // b = 2^(M - i - 1)\n            // Update variables\n            M = i;\n            c = Fp.sqr(b); // c = b^2\n            t = Fp.mul(t, c); // t = (t * b^2)\n            R = Fp.mul(R, b); // R = R*b\n        }\n        return R;\n    };\n}\n/**\n * Square root for a finite field. Will try optimized versions first:\n *\n * 1. P  3 (mod 4)\n * 2. P  5 (mod 8)\n * 3. P  9 (mod 16)\n * 4. Tonelli-Shanks algorithm\n *\n * Different algorithms can give different roots, it is up to user to decide which one they want.\n * For example there is FpSqrtOdd/FpSqrtEven to choice root based on oddness (used for hash-to-curve).\n */\nfunction FpSqrt(P) {\n    // P  3 (mod 4) => n = n^((P+1)/4)\n    if (P % _4n === _3n)\n        return sqrt3mod4;\n    // P  5 (mod 8) => Atkin algorithm, page 10 of https://eprint.iacr.org/2012/685.pdf\n    if (P % _8n === _5n)\n        return sqrt5mod8;\n    // P  9 (mod 16) => Kong algorithm, page 11 of https://eprint.iacr.org/2012/685.pdf (algorithm 4)\n    if (P % _16n === _9n)\n        return sqrt9mod16(P);\n    // Tonelli-Shanks algorithm\n    return tonelliShanks(P);\n}\n// Little-endian check for first LE bit (last BE bit);\nconst isNegativeLE = (num, modulo) => (mod(num, modulo) & _1n) === _1n;\n// prettier-ignore\nconst FIELD_FIELDS = [\n    'create', 'isValid', 'is0', 'neg', 'inv', 'sqrt', 'sqr',\n    'eql', 'add', 'sub', 'mul', 'pow', 'div',\n    'addN', 'subN', 'mulN', 'sqrN'\n];\nfunction validateField(field) {\n    const initial = {\n        ORDER: 'bigint',\n        MASK: 'bigint',\n        BYTES: 'number',\n        BITS: 'number',\n    };\n    const opts = FIELD_FIELDS.reduce((map, val) => {\n        map[val] = 'function';\n        return map;\n    }, initial);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._validateObject)(field, opts);\n    // const max = 16384;\n    // if (field.BYTES < 1 || field.BYTES > max) throw new Error('invalid field');\n    // if (field.BITS < 1 || field.BITS > 8 * max) throw new Error('invalid field');\n    return field;\n}\n// Generic field functions\n/**\n * Same as `pow` but for Fp: non-constant-time.\n * Unsafe in some contexts: uses ladder, so can expose bigint bits.\n */\nfunction FpPow(Fp, num, power) {\n    if (power < _0n)\n        throw new Error('invalid exponent, negatives unsupported');\n    if (power === _0n)\n        return Fp.ONE;\n    if (power === _1n)\n        return num;\n    let p = Fp.ONE;\n    let d = num;\n    while (power > _0n) {\n        if (power & _1n)\n            p = Fp.mul(p, d);\n        d = Fp.sqr(d);\n        power >>= _1n;\n    }\n    return p;\n}\n/**\n * Efficiently invert an array of Field elements.\n * Exception-free. Will return `undefined` for 0 elements.\n * @param passZero map 0 to 0 (instead of undefined)\n */\nfunction FpInvertBatch(Fp, nums, passZero = false) {\n    const inverted = new Array(nums.length).fill(passZero ? Fp.ZERO : undefined);\n    // Walk from first to last, multiply them by each other MOD p\n    const multipliedAcc = nums.reduce((acc, num, i) => {\n        if (Fp.is0(num))\n            return acc;\n        inverted[i] = acc;\n        return Fp.mul(acc, num);\n    }, Fp.ONE);\n    // Invert last element\n    const invertedAcc = Fp.inv(multipliedAcc);\n    // Walk from last to first, multiply them by inverted each other MOD p\n    nums.reduceRight((acc, num, i) => {\n        if (Fp.is0(num))\n            return acc;\n        inverted[i] = Fp.mul(acc, inverted[i]);\n        return Fp.mul(acc, num);\n    }, invertedAcc);\n    return inverted;\n}\n// TODO: remove\nfunction FpDiv(Fp, lhs, rhs) {\n    return Fp.mul(lhs, typeof rhs === 'bigint' ? invert(rhs, Fp.ORDER) : Fp.inv(rhs));\n}\n/**\n * Legendre symbol.\n * Legendre constant is used to calculate Legendre symbol (a | p)\n * which denotes the value of a^((p-1)/2) (mod p).\n *\n * * (a | p)  1    if a is a square (mod p), quadratic residue\n * * (a | p)  -1   if a is not a square (mod p), quadratic non residue\n * * (a | p)  0    if a  0 (mod p)\n */\nfunction FpLegendre(Fp, n) {\n    // We can use 3rd argument as optional cache of this value\n    // but seems unneeded for now. The operation is very fast.\n    const p1mod2 = (Fp.ORDER - _1n) / _2n;\n    const powered = Fp.pow(n, p1mod2);\n    const yes = Fp.eql(powered, Fp.ONE);\n    const zero = Fp.eql(powered, Fp.ZERO);\n    const no = Fp.eql(powered, Fp.neg(Fp.ONE));\n    if (!yes && !zero && !no)\n        throw new Error('invalid Legendre symbol result');\n    return yes ? 1 : zero ? 0 : -1;\n}\n// This function returns True whenever the value x is a square in the field F.\nfunction FpIsSquare(Fp, n) {\n    const l = FpLegendre(Fp, n);\n    return l === 1;\n}\n// CURVE.n lengths\nfunction nLength(n, nBitLength) {\n    // Bit size, byte size of CURVE.n\n    if (nBitLength !== undefined)\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.anumber)(nBitLength);\n    const _nBitLength = nBitLength !== undefined ? nBitLength : n.toString(2).length;\n    const nByteLength = Math.ceil(_nBitLength / 8);\n    return { nBitLength: _nBitLength, nByteLength };\n}\n/**\n * Creates a finite field. Major performance optimizations:\n * * 1. Denormalized operations like mulN instead of mul.\n * * 2. Identical object shape: never add or remove keys.\n * * 3. `Object.freeze`.\n * Fragile: always run a benchmark on a change.\n * Security note: operations don't check 'isValid' for all elements for performance reasons,\n * it is caller responsibility to check this.\n * This is low-level code, please make sure you know what you're doing.\n *\n * Note about field properties:\n * * CHARACTERISTIC p = prime number, number of elements in main subgroup.\n * * ORDER q = similar to cofactor in curves, may be composite `q = p^m`.\n *\n * @param ORDER field order, probably prime, or could be composite\n * @param bitLen how many bits the field consumes\n * @param isLE (default: false) if encoding / decoding should be in little-endian\n * @param redef optional faster redefinitions of sqrt and other methods\n */\nfunction Field(ORDER, bitLenOrOpts, // TODO: use opts only in v2?\nisLE = false, opts = {}) {\n    if (ORDER <= _0n)\n        throw new Error('invalid field: expected ORDER > 0, got ' + ORDER);\n    let _nbitLength = undefined;\n    let _sqrt = undefined;\n    let modFromBytes = false;\n    let allowedLengths = undefined;\n    if (typeof bitLenOrOpts === 'object' && bitLenOrOpts != null) {\n        if (opts.sqrt || isLE)\n            throw new Error('cannot specify opts in two arguments');\n        const _opts = bitLenOrOpts;\n        if (_opts.BITS)\n            _nbitLength = _opts.BITS;\n        if (_opts.sqrt)\n            _sqrt = _opts.sqrt;\n        if (typeof _opts.isLE === 'boolean')\n            isLE = _opts.isLE;\n        if (typeof _opts.modFromBytes === 'boolean')\n            modFromBytes = _opts.modFromBytes;\n        allowedLengths = _opts.allowedLengths;\n    }\n    else {\n        if (typeof bitLenOrOpts === 'number')\n            _nbitLength = bitLenOrOpts;\n        if (opts.sqrt)\n            _sqrt = opts.sqrt;\n    }\n    const { nBitLength: BITS, nByteLength: BYTES } = nLength(ORDER, _nbitLength);\n    if (BYTES > 2048)\n        throw new Error('invalid field: expected ORDER of <= 2048 bytes');\n    let sqrtP; // cached sqrtP\n    const f = Object.freeze({\n        ORDER,\n        isLE,\n        BITS,\n        BYTES,\n        MASK: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask)(BITS),\n        ZERO: _0n,\n        ONE: _1n,\n        allowedLengths: allowedLengths,\n        create: (num) => mod(num, ORDER),\n        isValid: (num) => {\n            if (typeof num !== 'bigint')\n                throw new Error('invalid field element: expected bigint, got ' + typeof num);\n            return _0n <= num && num < ORDER; // 0 is valid element, but it's not invertible\n        },\n        is0: (num) => num === _0n,\n        // is valid and invertible\n        isValidNot0: (num) => !f.is0(num) && f.isValid(num),\n        isOdd: (num) => (num & _1n) === _1n,\n        neg: (num) => mod(-num, ORDER),\n        eql: (lhs, rhs) => lhs === rhs,\n        sqr: (num) => mod(num * num, ORDER),\n        add: (lhs, rhs) => mod(lhs + rhs, ORDER),\n        sub: (lhs, rhs) => mod(lhs - rhs, ORDER),\n        mul: (lhs, rhs) => mod(lhs * rhs, ORDER),\n        pow: (num, power) => FpPow(f, num, power),\n        div: (lhs, rhs) => mod(lhs * invert(rhs, ORDER), ORDER),\n        // Same as above, but doesn't normalize\n        sqrN: (num) => num * num,\n        addN: (lhs, rhs) => lhs + rhs,\n        subN: (lhs, rhs) => lhs - rhs,\n        mulN: (lhs, rhs) => lhs * rhs,\n        inv: (num) => invert(num, ORDER),\n        sqrt: _sqrt ||\n            ((n) => {\n                if (!sqrtP)\n                    sqrtP = FpSqrt(ORDER);\n                return sqrtP(f, n);\n            }),\n        toBytes: (num) => (isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesLE)(num, BYTES) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE)(num, BYTES)),\n        fromBytes: (bytes, skipValidation = true) => {\n            if (allowedLengths) {\n                if (!allowedLengths.includes(bytes.length) || bytes.length > BYTES) {\n                    throw new Error('Field.fromBytes: expected ' + allowedLengths + ' bytes, got ' + bytes.length);\n                }\n                const padded = new Uint8Array(BYTES);\n                // isLE add 0 to right, !isLE to the left.\n                padded.set(bytes, isLE ? 0 : padded.length - bytes.length);\n                bytes = padded;\n            }\n            if (bytes.length !== BYTES)\n                throw new Error('Field.fromBytes: expected ' + BYTES + ' bytes, got ' + bytes.length);\n            let scalar = isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(bytes) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(bytes);\n            if (modFromBytes)\n                scalar = mod(scalar, ORDER);\n            if (!skipValidation)\n                if (!f.isValid(scalar))\n                    throw new Error('invalid field element: outside of range 0..ORDER');\n            // NOTE: we don't validate scalar here, please use isValid. This done such way because some\n            // protocol may allow non-reduced scalar that reduced later or changed some other way.\n            return scalar;\n        },\n        // TODO: we don't need it here, move out to separate fn\n        invertBatch: (lst) => FpInvertBatch(f, lst),\n        // We can't move this out because Fp6, Fp12 implement it\n        // and it's unclear what to return in there.\n        cmov: (a, b, c) => (c ? b : a),\n    });\n    return Object.freeze(f);\n}\n// Generic random scalar, we can do same for other fields if via Fp2.mul(Fp2.ONE, Fp2.random)?\n// This allows unsafe methods like ignore bias or zero. These unsafe, but often used in different protocols (if deterministic RNG).\n// which mean we cannot force this via opts.\n// Not sure what to do with randomBytes, we can accept it inside opts if wanted.\n// Probably need to export getMinHashLength somewhere?\n// random(bytes?: Uint8Array, unsafeAllowZero = false, unsafeAllowBias = false) {\n//   const LEN = !unsafeAllowBias ? getMinHashLength(ORDER) : BYTES;\n//   if (bytes === undefined) bytes = randomBytes(LEN); // _opts.randomBytes?\n//   const num = isLE ? bytesToNumberLE(bytes) : bytesToNumberBE(bytes);\n//   // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n//   const reduced = unsafeAllowZero ? mod(num, ORDER) : mod(num, ORDER - _1n) + _1n;\n//   return reduced;\n// },\nfunction FpSqrtOdd(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? root : Fp.neg(root);\n}\nfunction FpSqrtEven(Fp, elm) {\n    if (!Fp.isOdd)\n        throw new Error(\"Field doesn't have isOdd\");\n    const root = Fp.sqrt(elm);\n    return Fp.isOdd(root) ? Fp.neg(root) : root;\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Same as mapKeyToField, but accepts less bytes (40 instead of 48 for 32-byte field).\n * Which makes it slightly more biased, less secure.\n * @deprecated use `mapKeyToField` instead\n */\nfunction hashToPrivateScalar(hash, groupOrder, isLE = false) {\n    hash = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('privateHash', hash);\n    const hashLen = hash.length;\n    const minLen = nLength(groupOrder).nByteLength + 8;\n    if (minLen < 24 || hashLen < minLen || hashLen > 1024)\n        throw new Error('hashToPrivateScalar: expected ' + minLen + '-1024 bytes of input, got ' + hashLen);\n    const num = isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(hash) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(hash);\n    return mod(num, groupOrder - _1n) + _1n;\n}\n/**\n * Returns total number of bytes consumed by the field element.\n * For example, 32 bytes for usual 256-bit weierstrass curve.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of field\n */\nfunction getFieldBytesLength(fieldOrder) {\n    if (typeof fieldOrder !== 'bigint')\n        throw new Error('field order must be bigint');\n    const bitLength = fieldOrder.toString(2).length;\n    return Math.ceil(bitLength / 8);\n}\n/**\n * Returns minimal amount of bytes that can be safely reduced\n * by field order.\n * Should be 2^-128 for 128-bit curve such as P256.\n * @param fieldOrder number of field elements, usually CURVE.n\n * @returns byte length of target hash\n */\nfunction getMinHashLength(fieldOrder) {\n    const length = getFieldBytesLength(fieldOrder);\n    return length + Math.ceil(length / 2);\n}\n/**\n * \"Constant-time\" private key generation utility.\n * Can take (n + n/2) or more bytes of uniform input e.g. from CSPRNG or KDF\n * and convert them into private scalar, with the modulo bias being negligible.\n * Needs at least 48 bytes of input for 32-byte private key.\n * https://research.kudelskisecurity.com/2020/07/28/the-definitive-guide-to-modulo-bias-and-how-to-avoid-it/\n * FIPS 186-5, A.2 https://csrc.nist.gov/publications/detail/fips/186/5/final\n * RFC 9380, https://www.rfc-editor.org/rfc/rfc9380#section-5\n * @param hash hash output from SHA3 or a similar function\n * @param groupOrder size of subgroup - (e.g. secp256k1.CURVE.n)\n * @param isLE interpret hash bytes as LE num\n * @returns valid private scalar\n */\nfunction mapHashToField(key, fieldOrder, isLE = false) {\n    const len = key.length;\n    const fieldLen = getFieldBytesLength(fieldOrder);\n    const minLen = getMinHashLength(fieldOrder);\n    // No small numbers: need to understand bias story. No huge numbers: easier to detect JS timings.\n    if (len < 16 || len < minLen || len > 1024)\n        throw new Error('expected ' + minLen + '-1024 bytes of input, got ' + len);\n    const num = isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberLE)(key) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(key);\n    // `mod(x, 11)` can sometimes produce 0. `mod(x, 10) + 1` is the same, but no 0\n    const reduced = mod(num, fieldOrder - _1n) + _1n;\n    return isLE ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesLE)(reduced, fieldLen) : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToBytesBE)(reduced, fieldLen);\n}\n//# sourceMappingURL=modular.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC9tb2R1bGFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0o7QUFDbEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQyw0QkFBNEI7QUFDNUIscUNBQXFDO0FBQ3JDLGlDQUFpQztBQUNqQztBQUNBLGlDQUFpQztBQUNqQyxtQ0FBbUM7QUFDbkMscUNBQXFDO0FBQ3JDLHFDQUFxQztBQUNyQywyQ0FBMkM7QUFDM0MsMkNBQTJDO0FBQzNDLHFDQUFxQztBQUNyQyxxQ0FBcUM7QUFDckMsMkNBQTJDO0FBQzNDLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNHO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsV0FBVyxzREFBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBZSxTQUFTLDBEQUFlO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBZSxRQUFRLDBEQUFlO0FBQzdEO0FBQ0E7QUFDQSxrQkFBa0IsMERBQWUsc0JBQXNCLDBEQUFlO0FBQ3RFO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vYWJzdHJhY3QvbW9kdWxhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFV0aWxzIGZvciBtb2R1bGFyIGRpdmlzaW9uIGFuZCBmaWVsZHMuXG4gKiBGaWVsZCBvdmVyIDExIGlzIGEgZmluaXRlIChHYWxvaXMpIGZpZWxkIGlzIGludGVnZXIgbnVtYmVyIG9wZXJhdGlvbnMgYG1vZCAxMWAuXG4gKiBUaGVyZSBpcyBubyBkaXZpc2lvbjogaXQgaXMgcmVwbGFjZWQgYnkgbW9kdWxhciBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlLlxuICogQG1vZHVsZVxuICovXG4vKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovXG5pbXBvcnQgeyBfdmFsaWRhdGVPYmplY3QsIGFudW1iZXIsIGJpdE1hc2ssIGJ5dGVzVG9OdW1iZXJCRSwgYnl0ZXNUb051bWJlckxFLCBlbnN1cmVCeXRlcywgbnVtYmVyVG9CeXRlc0JFLCBudW1iZXJUb0J5dGVzTEUsIH0gZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IF8wbiA9IEJpZ0ludCgwKSwgXzFuID0gQmlnSW50KDEpLCBfMm4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDIpLCBfM24gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDMpO1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBfNG4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDQpLCBfNW4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDUpLCBfN24gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDcpO1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBfOG4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDgpLCBfOW4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDkpLCBfMTZuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCgxNik7XG4vLyBDYWxjdWxhdGVzIGEgbW9kdWxvIGJcbmV4cG9ydCBmdW5jdGlvbiBtb2QoYSwgYikge1xuICAgIGNvbnN0IHJlc3VsdCA9IGEgJSBiO1xuICAgIHJldHVybiByZXN1bHQgPj0gXzBuID8gcmVzdWx0IDogYiArIHJlc3VsdDtcbn1cbi8qKlxuICogRWZmaWNpZW50bHkgcmFpc2UgbnVtIHRvIHBvd2VyIGFuZCBkbyBtb2R1bGFyIGRpdmlzaW9uLlxuICogVW5zYWZlIGluIHNvbWUgY29udGV4dHM6IHVzZXMgbGFkZGVyLCBzbyBjYW4gZXhwb3NlIGJpZ2ludCBiaXRzLlxuICogQGV4YW1wbGVcbiAqIHBvdygybiwgNm4sIDExbikgLy8gNjRuICUgMTFuID09IDluXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb3cobnVtLCBwb3dlciwgbW9kdWxvKSB7XG4gICAgcmV0dXJuIEZwUG93KEZpZWxkKG1vZHVsbyksIG51bSwgcG93ZXIpO1xufVxuLyoqIERvZXMgYHheKDJecG93ZXIpYCBtb2QgcC4gYHBvdzIoMzAsIDQpYCA9PSBgMzBeKDJeNClgICovXG5leHBvcnQgZnVuY3Rpb24gcG93Mih4LCBwb3dlciwgbW9kdWxvKSB7XG4gICAgbGV0IHJlcyA9IHg7XG4gICAgd2hpbGUgKHBvd2VyLS0gPiBfMG4pIHtcbiAgICAgICAgcmVzICo9IHJlcztcbiAgICAgICAgcmVzICU9IG1vZHVsbztcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8qKlxuICogSW52ZXJzZXMgbnVtYmVyIG92ZXIgbW9kdWxvLlxuICogSW1wbGVtZW50ZWQgdXNpbmcgW0V1Y2xpZGVhbiBHQ0RdKGh0dHBzOi8vYnJpbGxpYW50Lm9yZy93aWtpL2V4dGVuZGVkLWV1Y2xpZGVhbi1hbGdvcml0aG0vKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChudW1iZXIsIG1vZHVsbykge1xuICAgIGlmIChudW1iZXIgPT09IF8wbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZlcnQ6IGV4cGVjdGVkIG5vbi16ZXJvIG51bWJlcicpO1xuICAgIGlmIChtb2R1bG8gPD0gXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmVydDogZXhwZWN0ZWQgcG9zaXRpdmUgbW9kdWx1cywgZ290ICcgKyBtb2R1bG8pO1xuICAgIC8vIEZlcm1hdCdzIGxpdHRsZSB0aGVvcmVtIFwiQ1QtbGlrZVwiIHZlcnNpb24gaW52KG4pID0gbl4obS0yKSBtb2QgbSBpcyAzMHggc2xvd2VyLlxuICAgIGxldCBhID0gbW9kKG51bWJlciwgbW9kdWxvKTtcbiAgICBsZXQgYiA9IG1vZHVsbztcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBsZXQgeCA9IF8wbiwgeSA9IF8xbiwgdSA9IF8xbiwgdiA9IF8wbjtcbiAgICB3aGlsZSAoYSAhPT0gXzBuKSB7XG4gICAgICAgIC8vIEpJVCBhcHBsaWVzIG9wdGltaXphdGlvbiBpZiB0aG9zZSB0d28gbGluZXMgZm9sbG93IGVhY2ggb3RoZXJcbiAgICAgICAgY29uc3QgcSA9IGIgLyBhO1xuICAgICAgICBjb25zdCByID0gYiAlIGE7XG4gICAgICAgIGNvbnN0IG0gPSB4IC0gdSAqIHE7XG4gICAgICAgIGNvbnN0IG4gPSB5IC0gdiAqIHE7XG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICBiID0gYSwgYSA9IHIsIHggPSB1LCB5ID0gdiwgdSA9IG0sIHYgPSBuO1xuICAgIH1cbiAgICBjb25zdCBnY2QgPSBiO1xuICAgIGlmIChnY2QgIT09IF8xbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZlcnQ6IGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgcmV0dXJuIG1vZCh4LCBtb2R1bG8pO1xufVxuZnVuY3Rpb24gYXNzZXJ0SXNTcXVhcmUoRnAsIHJvb3QsIG4pIHtcbiAgICBpZiAoIUZwLmVxbChGcC5zcXIocm9vdCksIG4pKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290Jyk7XG59XG4vLyBOb3QgYWxsIHJvb3RzIGFyZSBwb3NzaWJsZSEgRXhhbXBsZSB3aGljaCB3aWxsIHRocm93OlxuLy8gY29uc3QgTlVNID1cbi8vIG4gPSA3MjA1NzU5NDAzNzkyNzgxNm47XG4vLyBGcCA9IEZpZWxkKEJpZ0ludCgnMHgxYTAxMTFlYTM5N2ZlNjlhNGIxYmE3YjY0MzRiYWNkNzY0Nzc0Yjg0ZjM4NTEyYmY2NzMwZDJhMGY2YjBmNjI0MWVhYmZmZmViMTUzZmZmZmI5ZmVmZmZmZmZmZmFhYWInKSk7XG5mdW5jdGlvbiBzcXJ0M21vZDQoRnAsIG4pIHtcbiAgICBjb25zdCBwMWRpdjQgPSAoRnAuT1JERVIgKyBfMW4pIC8gXzRuO1xuICAgIGNvbnN0IHJvb3QgPSBGcC5wb3cobiwgcDFkaXY0KTtcbiAgICBhc3NlcnRJc1NxdWFyZShGcCwgcm9vdCwgbik7XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5mdW5jdGlvbiBzcXJ0NW1vZDgoRnAsIG4pIHtcbiAgICBjb25zdCBwNWRpdjggPSAoRnAuT1JERVIgLSBfNW4pIC8gXzhuO1xuICAgIGNvbnN0IG4yID0gRnAubXVsKG4sIF8ybik7XG4gICAgY29uc3QgdiA9IEZwLnBvdyhuMiwgcDVkaXY4KTtcbiAgICBjb25zdCBudiA9IEZwLm11bChuLCB2KTtcbiAgICBjb25zdCBpID0gRnAubXVsKEZwLm11bChudiwgXzJuKSwgdik7XG4gICAgY29uc3Qgcm9vdCA9IEZwLm11bChudiwgRnAuc3ViKGksIEZwLk9ORSkpO1xuICAgIGFzc2VydElzU3F1YXJlKEZwLCByb290LCBuKTtcbiAgICByZXR1cm4gcm9vdDtcbn1cbi8vIEJhc2VkIG9uIFJGQzkzODAsIEtvbmcgYWxnb3JpdGhtXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIHNxcnQ5bW9kMTYoUCkge1xuICAgIGNvbnN0IEZwXyA9IEZpZWxkKFApO1xuICAgIGNvbnN0IHRuID0gdG9uZWxsaVNoYW5rcyhQKTtcbiAgICBjb25zdCBjMSA9IHRuKEZwXywgRnBfLm5lZyhGcF8uT05FKSk7IC8vICAxLiBjMSA9IHNxcnQoLTEpIGluIEYsIGkuZS4sIChjMV4yKSA9PSAtMSBpbiBGXG4gICAgY29uc3QgYzIgPSB0bihGcF8sIGMxKTsgLy8gIDIuIGMyID0gc3FydChjMSkgaW4gRiwgaS5lLiwgKGMyXjIpID09IGMxIGluIEZcbiAgICBjb25zdCBjMyA9IHRuKEZwXywgRnBfLm5lZyhjMSkpOyAvLyAgMy4gYzMgPSBzcXJ0KC1jMSkgaW4gRiwgaS5lLiwgKGMzXjIpID09IC1jMSBpbiBGXG4gICAgY29uc3QgYzQgPSAoUCArIF83bikgLyBfMTZuOyAvLyAgNC4gYzQgPSAocSArIDcpIC8gMTYgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgcmV0dXJuIChGcCwgbikgPT4ge1xuICAgICAgICBsZXQgdHYxID0gRnAucG93KG4sIGM0KTsgLy8gIDEuIHR2MSA9IHheYzRcbiAgICAgICAgbGV0IHR2MiA9IEZwLm11bCh0djEsIGMxKTsgLy8gIDIuIHR2MiA9IGMxICogdHYxXG4gICAgICAgIGNvbnN0IHR2MyA9IEZwLm11bCh0djEsIGMyKTsgLy8gIDMuIHR2MyA9IGMyICogdHYxXG4gICAgICAgIGNvbnN0IHR2NCA9IEZwLm11bCh0djEsIGMzKTsgLy8gIDQuIHR2NCA9IGMzICogdHYxXG4gICAgICAgIGNvbnN0IGUxID0gRnAuZXFsKEZwLnNxcih0djIpLCBuKTsgLy8gIDUuICBlMSA9ICh0djJeMikgPT0geFxuICAgICAgICBjb25zdCBlMiA9IEZwLmVxbChGcC5zcXIodHYzKSwgbik7IC8vICA2LiAgZTIgPSAodHYzXjIpID09IHhcbiAgICAgICAgdHYxID0gRnAuY21vdih0djEsIHR2MiwgZTEpOyAvLyAgNy4gdHYxID0gQ01PVih0djEsIHR2MiwgZTEpICAjIFNlbGVjdCB0djIgaWYgKHR2Ml4yKSA9PSB4XG4gICAgICAgIHR2MiA9IEZwLmNtb3YodHY0LCB0djMsIGUyKTsgLy8gIDguIHR2MiA9IENNT1YodHY0LCB0djMsIGUyKSAgIyBTZWxlY3QgdHYzIGlmICh0djNeMikgPT0geFxuICAgICAgICBjb25zdCBlMyA9IEZwLmVxbChGcC5zcXIodHYyKSwgbik7IC8vICA5LiAgZTMgPSAodHYyXjIpID09IHhcbiAgICAgICAgY29uc3Qgcm9vdCA9IEZwLmNtb3YodHYxLCB0djIsIGUzKTsgLy8gMTAuICB6ID0gQ01PVih0djEsIHR2MiwgZTMpICAgIyBTZWxlY3Qgc3FydCBmcm9tIHR2MSAmIHR2MlxuICAgICAgICBhc3NlcnRJc1NxdWFyZShGcCwgcm9vdCwgbik7XG4gICAgICAgIHJldHVybiByb290O1xuICAgIH07XG59XG4vKipcbiAqIFRvbmVsbGktU2hhbmtzIHNxdWFyZSByb290IHNlYXJjaCBhbGdvcml0aG0uXG4gKiAxLiBodHRwczovL2VwcmludC5pYWNyLm9yZy8yMDEyLzY4NS5wZGYgKHBhZ2UgMTIpXG4gKiAyLiBTcXVhcmUgUm9vdHMgZnJvbSAxOyAyNCwgNTEsIDEwIHRvIERhbiBTaGFua3NcbiAqIEBwYXJhbSBQIGZpZWxkIG9yZGVyXG4gKiBAcmV0dXJucyBmdW5jdGlvbiB0aGF0IHRha2VzIGZpZWxkIEZwIChjcmVhdGVkIGZyb20gUCkgYW5kIG51bWJlciBuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b25lbGxpU2hhbmtzKFApIHtcbiAgICAvLyBJbml0aWFsaXphdGlvbiAocHJlY29tcHV0YXRpb24pLlxuICAgIC8vIENhY2hpbmcgaW5pdGlhbGl6YXRpb24gY291bGQgYm9vc3QgcGVyZiBieSA3JS5cbiAgICBpZiAoUCA8IF8zbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzcXJ0IGlzIG5vdCBkZWZpbmVkIGZvciBzbWFsbCBmaWVsZCcpO1xuICAgIC8vIEZhY3RvciBQIC0gMSA9IFEgKiAyXlMsIHdoZXJlIFEgaXMgb2RkXG4gICAgbGV0IFEgPSBQIC0gXzFuO1xuICAgIGxldCBTID0gMDtcbiAgICB3aGlsZSAoUSAlIF8ybiA9PT0gXzBuKSB7XG4gICAgICAgIFEgLz0gXzJuO1xuICAgICAgICBTKys7XG4gICAgfVxuICAgIC8vIEZpbmQgdGhlIGZpcnN0IHF1YWRyYXRpYyBub24tcmVzaWR1ZSBaID49IDJcbiAgICBsZXQgWiA9IF8ybjtcbiAgICBjb25zdCBfRnAgPSBGaWVsZChQKTtcbiAgICB3aGlsZSAoRnBMZWdlbmRyZShfRnAsIFopID09PSAxKSB7XG4gICAgICAgIC8vIEJhc2ljIHByaW1hbGl0eSB0ZXN0IGZvciBQLiBBZnRlciB4IGl0ZXJhdGlvbnMsIGNoYW5jZSBvZlxuICAgICAgICAvLyBub3QgZmluZGluZyBxdWFkcmF0aWMgbm9uLXJlc2lkdWUgaXMgMl54LCBzbyAyXjEwMDAuXG4gICAgICAgIGlmIChaKysgPiAxMDAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBzcXVhcmUgcm9vdDogcHJvYmFibHkgbm9uLXByaW1lIFAnKTtcbiAgICB9XG4gICAgLy8gRmFzdC1wYXRoOyB1c3VhbGx5IGRvbmUgYmVmb3JlIFosIGJ1dCB3ZSBkbyBcInByaW1hbGl0eSB0ZXN0XCIuXG4gICAgaWYgKFMgPT09IDEpXG4gICAgICAgIHJldHVybiBzcXJ0M21vZDQ7XG4gICAgLy8gU2xvdy1wYXRoXG4gICAgLy8gVE9ETzogdGVzdCBvbiBGcDIgYW5kIG90aGVyc1xuICAgIGxldCBjYyA9IF9GcC5wb3coWiwgUSk7IC8vIGMgPSB6XlFcbiAgICBjb25zdCBRMWRpdjIgPSAoUSArIF8xbikgLyBfMm47XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHRvbmVsbGlTbG93KEZwLCBuKSB7XG4gICAgICAgIGlmIChGcC5pczAobikpXG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgLy8gQ2hlY2sgaWYgbiBpcyBhIHF1YWRyYXRpYyByZXNpZHVlIHVzaW5nIExlZ2VuZHJlIHN5bWJvbFxuICAgICAgICBpZiAoRnBMZWdlbmRyZShGcCwgbikgIT09IDEpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290Jyk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgdmFyaWFibGVzIGZvciB0aGUgbWFpbiBsb29wXG4gICAgICAgIGxldCBNID0gUztcbiAgICAgICAgbGV0IGMgPSBGcC5tdWwoRnAuT05FLCBjYyk7IC8vIGMgPSB6XlEsIG1vdmUgY2MgZnJvbSBmaWVsZCBfRnAgaW50byBmaWVsZCBGcFxuICAgICAgICBsZXQgdCA9IEZwLnBvdyhuLCBRKTsgLy8gdCA9IG5eUSwgZmlyc3QgZ3Vlc3MgYXQgdGhlIGZ1ZGdlIGZhY3RvclxuICAgICAgICBsZXQgUiA9IEZwLnBvdyhuLCBRMWRpdjIpOyAvLyBSID0gbl4oKFErMSkvMiksIGZpcnN0IGd1ZXNzIGF0IHRoZSBzcXVhcmUgcm9vdFxuICAgICAgICAvLyBNYWluIGxvb3BcbiAgICAgICAgLy8gd2hpbGUgdCAhPSAxXG4gICAgICAgIHdoaWxlICghRnAuZXFsKHQsIEZwLk9ORSkpIHtcbiAgICAgICAgICAgIGlmIChGcC5pczAodCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIEZwLlpFUk87IC8vIGlmIHQ9MCByZXR1cm4gUj0wXG4gICAgICAgICAgICBsZXQgaSA9IDE7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBzbWFsbGVzdCBpID49IDEgc3VjaCB0aGF0IHReKDJeaSkg4omhIDEgKG1vZCBQKVxuICAgICAgICAgICAgbGV0IHRfdG1wID0gRnAuc3FyKHQpOyAvLyB0XigyXjEpXG4gICAgICAgICAgICB3aGlsZSAoIUZwLmVxbCh0X3RtcCwgRnAuT05FKSkge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB0X3RtcCA9IEZwLnNxcih0X3RtcCk7IC8vIHReKDJeMikuLi5cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gTSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBzcXVhcmUgcm9vdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBleHBvbmVudCBmb3IgYjogMl4oTSAtIGkgLSAxKVxuICAgICAgICAgICAgY29uc3QgZXhwb25lbnQgPSBfMW4gPDwgQmlnSW50KE0gLSBpIC0gMSk7IC8vIGJpZ2ludCBpcyBpbXBvcnRhbnRcbiAgICAgICAgICAgIGNvbnN0IGIgPSBGcC5wb3coYywgZXhwb25lbnQpOyAvLyBiID0gMl4oTSAtIGkgLSAxKVxuICAgICAgICAgICAgLy8gVXBkYXRlIHZhcmlhYmxlc1xuICAgICAgICAgICAgTSA9IGk7XG4gICAgICAgICAgICBjID0gRnAuc3FyKGIpOyAvLyBjID0gYl4yXG4gICAgICAgICAgICB0ID0gRnAubXVsKHQsIGMpOyAvLyB0ID0gKHQgKiBiXjIpXG4gICAgICAgICAgICBSID0gRnAubXVsKFIsIGIpOyAvLyBSID0gUipiXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFI7XG4gICAgfTtcbn1cbi8qKlxuICogU3F1YXJlIHJvb3QgZm9yIGEgZmluaXRlIGZpZWxkLiBXaWxsIHRyeSBvcHRpbWl6ZWQgdmVyc2lvbnMgZmlyc3Q6XG4gKlxuICogMS4gUCDiiaEgMyAobW9kIDQpXG4gKiAyLiBQIOKJoSA1IChtb2QgOClcbiAqIDMuIFAg4omhIDkgKG1vZCAxNilcbiAqIDQuIFRvbmVsbGktU2hhbmtzIGFsZ29yaXRobVxuICpcbiAqIERpZmZlcmVudCBhbGdvcml0aG1zIGNhbiBnaXZlIGRpZmZlcmVudCByb290cywgaXQgaXMgdXAgdG8gdXNlciB0byBkZWNpZGUgd2hpY2ggb25lIHRoZXkgd2FudC5cbiAqIEZvciBleGFtcGxlIHRoZXJlIGlzIEZwU3FydE9kZC9GcFNxcnRFdmVuIHRvIGNob2ljZSByb290IGJhc2VkIG9uIG9kZG5lc3MgKHVzZWQgZm9yIGhhc2gtdG8tY3VydmUpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gRnBTcXJ0KFApIHtcbiAgICAvLyBQIOKJoSAzIChtb2QgNCkgPT4g4oiabiA9IG5eKChQKzEpLzQpXG4gICAgaWYgKFAgJSBfNG4gPT09IF8zbilcbiAgICAgICAgcmV0dXJuIHNxcnQzbW9kNDtcbiAgICAvLyBQIOKJoSA1IChtb2QgOCkgPT4gQXRraW4gYWxnb3JpdGhtLCBwYWdlIDEwIG9mIGh0dHBzOi8vZXByaW50LmlhY3Iub3JnLzIwMTIvNjg1LnBkZlxuICAgIGlmIChQICUgXzhuID09PSBfNW4pXG4gICAgICAgIHJldHVybiBzcXJ0NW1vZDg7XG4gICAgLy8gUCDiiaEgOSAobW9kIDE2KSA9PiBLb25nIGFsZ29yaXRobSwgcGFnZSAxMSBvZiBodHRwczovL2VwcmludC5pYWNyLm9yZy8yMDEyLzY4NS5wZGYgKGFsZ29yaXRobSA0KVxuICAgIGlmIChQICUgXzE2biA9PT0gXzluKVxuICAgICAgICByZXR1cm4gc3FydDltb2QxNihQKTtcbiAgICAvLyBUb25lbGxpLVNoYW5rcyBhbGdvcml0aG1cbiAgICByZXR1cm4gdG9uZWxsaVNoYW5rcyhQKTtcbn1cbi8vIExpdHRsZS1lbmRpYW4gY2hlY2sgZm9yIGZpcnN0IExFIGJpdCAobGFzdCBCRSBiaXQpO1xuZXhwb3J0IGNvbnN0IGlzTmVnYXRpdmVMRSA9IChudW0sIG1vZHVsbykgPT4gKG1vZChudW0sIG1vZHVsbykgJiBfMW4pID09PSBfMW47XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IEZJRUxEX0ZJRUxEUyA9IFtcbiAgICAnY3JlYXRlJywgJ2lzVmFsaWQnLCAnaXMwJywgJ25lZycsICdpbnYnLCAnc3FydCcsICdzcXInLFxuICAgICdlcWwnLCAnYWRkJywgJ3N1YicsICdtdWwnLCAncG93JywgJ2RpdicsXG4gICAgJ2FkZE4nLCAnc3ViTicsICdtdWxOJywgJ3Nxck4nXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRmllbGQoZmllbGQpIHtcbiAgICBjb25zdCBpbml0aWFsID0ge1xuICAgICAgICBPUkRFUjogJ2JpZ2ludCcsXG4gICAgICAgIE1BU0s6ICdiaWdpbnQnLFxuICAgICAgICBCWVRFUzogJ251bWJlcicsXG4gICAgICAgIEJJVFM6ICdudW1iZXInLFxuICAgIH07XG4gICAgY29uc3Qgb3B0cyA9IEZJRUxEX0ZJRUxEUy5yZWR1Y2UoKG1hcCwgdmFsKSA9PiB7XG4gICAgICAgIG1hcFt2YWxdID0gJ2Z1bmN0aW9uJztcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9LCBpbml0aWFsKTtcbiAgICBfdmFsaWRhdGVPYmplY3QoZmllbGQsIG9wdHMpO1xuICAgIC8vIGNvbnN0IG1heCA9IDE2Mzg0O1xuICAgIC8vIGlmIChmaWVsZC5CWVRFUyA8IDEgfHwgZmllbGQuQllURVMgPiBtYXgpIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmaWVsZCcpO1xuICAgIC8vIGlmIChmaWVsZC5CSVRTIDwgMSB8fCBmaWVsZC5CSVRTID4gOCAqIG1heCkgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZpZWxkJyk7XG4gICAgcmV0dXJuIGZpZWxkO1xufVxuLy8gR2VuZXJpYyBmaWVsZCBmdW5jdGlvbnNcbi8qKlxuICogU2FtZSBhcyBgcG93YCBidXQgZm9yIEZwOiBub24tY29uc3RhbnQtdGltZS5cbiAqIFVuc2FmZSBpbiBzb21lIGNvbnRleHRzOiB1c2VzIGxhZGRlciwgc28gY2FuIGV4cG9zZSBiaWdpbnQgYml0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZwUG93KEZwLCBudW0sIHBvd2VyKSB7XG4gICAgaWYgKHBvd2VyIDwgXzBuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZXhwb25lbnQsIG5lZ2F0aXZlcyB1bnN1cHBvcnRlZCcpO1xuICAgIGlmIChwb3dlciA9PT0gXzBuKVxuICAgICAgICByZXR1cm4gRnAuT05FO1xuICAgIGlmIChwb3dlciA9PT0gXzFuKVxuICAgICAgICByZXR1cm4gbnVtO1xuICAgIGxldCBwID0gRnAuT05FO1xuICAgIGxldCBkID0gbnVtO1xuICAgIHdoaWxlIChwb3dlciA+IF8wbikge1xuICAgICAgICBpZiAocG93ZXIgJiBfMW4pXG4gICAgICAgICAgICBwID0gRnAubXVsKHAsIGQpO1xuICAgICAgICBkID0gRnAuc3FyKGQpO1xuICAgICAgICBwb3dlciA+Pj0gXzFuO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cbi8qKlxuICogRWZmaWNpZW50bHkgaW52ZXJ0IGFuIGFycmF5IG9mIEZpZWxkIGVsZW1lbnRzLlxuICogRXhjZXB0aW9uLWZyZWUuIFdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIGZvciAwIGVsZW1lbnRzLlxuICogQHBhcmFtIHBhc3NaZXJvIG1hcCAwIHRvIDAgKGluc3RlYWQgb2YgdW5kZWZpbmVkKVxuICovXG5leHBvcnQgZnVuY3Rpb24gRnBJbnZlcnRCYXRjaChGcCwgbnVtcywgcGFzc1plcm8gPSBmYWxzZSkge1xuICAgIGNvbnN0IGludmVydGVkID0gbmV3IEFycmF5KG51bXMubGVuZ3RoKS5maWxsKHBhc3NaZXJvID8gRnAuWkVSTyA6IHVuZGVmaW5lZCk7XG4gICAgLy8gV2FsayBmcm9tIGZpcnN0IHRvIGxhc3QsIG11bHRpcGx5IHRoZW0gYnkgZWFjaCBvdGhlciBNT0QgcFxuICAgIGNvbnN0IG11bHRpcGxpZWRBY2MgPSBudW1zLnJlZHVjZSgoYWNjLCBudW0sIGkpID0+IHtcbiAgICAgICAgaWYgKEZwLmlzMChudW0pKVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgaW52ZXJ0ZWRbaV0gPSBhY2M7XG4gICAgICAgIHJldHVybiBGcC5tdWwoYWNjLCBudW0pO1xuICAgIH0sIEZwLk9ORSk7XG4gICAgLy8gSW52ZXJ0IGxhc3QgZWxlbWVudFxuICAgIGNvbnN0IGludmVydGVkQWNjID0gRnAuaW52KG11bHRpcGxpZWRBY2MpO1xuICAgIC8vIFdhbGsgZnJvbSBsYXN0IHRvIGZpcnN0LCBtdWx0aXBseSB0aGVtIGJ5IGludmVydGVkIGVhY2ggb3RoZXIgTU9EIHBcbiAgICBudW1zLnJlZHVjZVJpZ2h0KChhY2MsIG51bSwgaSkgPT4ge1xuICAgICAgICBpZiAoRnAuaXMwKG51bSkpXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICBpbnZlcnRlZFtpXSA9IEZwLm11bChhY2MsIGludmVydGVkW2ldKTtcbiAgICAgICAgcmV0dXJuIEZwLm11bChhY2MsIG51bSk7XG4gICAgfSwgaW52ZXJ0ZWRBY2MpO1xuICAgIHJldHVybiBpbnZlcnRlZDtcbn1cbi8vIFRPRE86IHJlbW92ZVxuZXhwb3J0IGZ1bmN0aW9uIEZwRGl2KEZwLCBsaHMsIHJocykge1xuICAgIHJldHVybiBGcC5tdWwobGhzLCB0eXBlb2YgcmhzID09PSAnYmlnaW50JyA/IGludmVydChyaHMsIEZwLk9SREVSKSA6IEZwLmludihyaHMpKTtcbn1cbi8qKlxuICogTGVnZW5kcmUgc3ltYm9sLlxuICogTGVnZW5kcmUgY29uc3RhbnQgaXMgdXNlZCB0byBjYWxjdWxhdGUgTGVnZW5kcmUgc3ltYm9sIChhIHwgcClcbiAqIHdoaWNoIGRlbm90ZXMgdGhlIHZhbHVlIG9mIGFeKChwLTEpLzIpIChtb2QgcCkuXG4gKlxuICogKiAoYSB8IHApIOKJoSAxICAgIGlmIGEgaXMgYSBzcXVhcmUgKG1vZCBwKSwgcXVhZHJhdGljIHJlc2lkdWVcbiAqICogKGEgfCBwKSDiiaEgLTEgICBpZiBhIGlzIG5vdCBhIHNxdWFyZSAobW9kIHApLCBxdWFkcmF0aWMgbm9uIHJlc2lkdWVcbiAqICogKGEgfCBwKSDiiaEgMCAgICBpZiBhIOKJoSAwIChtb2QgcClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZwTGVnZW5kcmUoRnAsIG4pIHtcbiAgICAvLyBXZSBjYW4gdXNlIDNyZCBhcmd1bWVudCBhcyBvcHRpb25hbCBjYWNoZSBvZiB0aGlzIHZhbHVlXG4gICAgLy8gYnV0IHNlZW1zIHVubmVlZGVkIGZvciBub3cuIFRoZSBvcGVyYXRpb24gaXMgdmVyeSBmYXN0LlxuICAgIGNvbnN0IHAxbW9kMiA9IChGcC5PUkRFUiAtIF8xbikgLyBfMm47XG4gICAgY29uc3QgcG93ZXJlZCA9IEZwLnBvdyhuLCBwMW1vZDIpO1xuICAgIGNvbnN0IHllcyA9IEZwLmVxbChwb3dlcmVkLCBGcC5PTkUpO1xuICAgIGNvbnN0IHplcm8gPSBGcC5lcWwocG93ZXJlZCwgRnAuWkVSTyk7XG4gICAgY29uc3Qgbm8gPSBGcC5lcWwocG93ZXJlZCwgRnAubmVnKEZwLk9ORSkpO1xuICAgIGlmICgheWVzICYmICF6ZXJvICYmICFubylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIExlZ2VuZHJlIHN5bWJvbCByZXN1bHQnKTtcbiAgICByZXR1cm4geWVzID8gMSA6IHplcm8gPyAwIDogLTE7XG59XG4vLyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgVHJ1ZSB3aGVuZXZlciB0aGUgdmFsdWUgeCBpcyBhIHNxdWFyZSBpbiB0aGUgZmllbGQgRi5cbmV4cG9ydCBmdW5jdGlvbiBGcElzU3F1YXJlKEZwLCBuKSB7XG4gICAgY29uc3QgbCA9IEZwTGVnZW5kcmUoRnAsIG4pO1xuICAgIHJldHVybiBsID09PSAxO1xufVxuLy8gQ1VSVkUubiBsZW5ndGhzXG5leHBvcnQgZnVuY3Rpb24gbkxlbmd0aChuLCBuQml0TGVuZ3RoKSB7XG4gICAgLy8gQml0IHNpemUsIGJ5dGUgc2l6ZSBvZiBDVVJWRS5uXG4gICAgaWYgKG5CaXRMZW5ndGggIT09IHVuZGVmaW5lZClcbiAgICAgICAgYW51bWJlcihuQml0TGVuZ3RoKTtcbiAgICBjb25zdCBfbkJpdExlbmd0aCA9IG5CaXRMZW5ndGggIT09IHVuZGVmaW5lZCA/IG5CaXRMZW5ndGggOiBuLnRvU3RyaW5nKDIpLmxlbmd0aDtcbiAgICBjb25zdCBuQnl0ZUxlbmd0aCA9IE1hdGguY2VpbChfbkJpdExlbmd0aCAvIDgpO1xuICAgIHJldHVybiB7IG5CaXRMZW5ndGg6IF9uQml0TGVuZ3RoLCBuQnl0ZUxlbmd0aCB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgZmluaXRlIGZpZWxkLiBNYWpvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25zOlxuICogKiAxLiBEZW5vcm1hbGl6ZWQgb3BlcmF0aW9ucyBsaWtlIG11bE4gaW5zdGVhZCBvZiBtdWwuXG4gKiAqIDIuIElkZW50aWNhbCBvYmplY3Qgc2hhcGU6IG5ldmVyIGFkZCBvciByZW1vdmUga2V5cy5cbiAqICogMy4gYE9iamVjdC5mcmVlemVgLlxuICogRnJhZ2lsZTogYWx3YXlzIHJ1biBhIGJlbmNobWFyayBvbiBhIGNoYW5nZS5cbiAqIFNlY3VyaXR5IG5vdGU6IG9wZXJhdGlvbnMgZG9uJ3QgY2hlY2sgJ2lzVmFsaWQnIGZvciBhbGwgZWxlbWVudHMgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsXG4gKiBpdCBpcyBjYWxsZXIgcmVzcG9uc2liaWxpdHkgdG8gY2hlY2sgdGhpcy5cbiAqIFRoaXMgaXMgbG93LWxldmVsIGNvZGUsIHBsZWFzZSBtYWtlIHN1cmUgeW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmcuXG4gKlxuICogTm90ZSBhYm91dCBmaWVsZCBwcm9wZXJ0aWVzOlxuICogKiBDSEFSQUNURVJJU1RJQyBwID0gcHJpbWUgbnVtYmVyLCBudW1iZXIgb2YgZWxlbWVudHMgaW4gbWFpbiBzdWJncm91cC5cbiAqICogT1JERVIgcSA9IHNpbWlsYXIgdG8gY29mYWN0b3IgaW4gY3VydmVzLCBtYXkgYmUgY29tcG9zaXRlIGBxID0gcF5tYC5cbiAqXG4gKiBAcGFyYW0gT1JERVIgZmllbGQgb3JkZXIsIHByb2JhYmx5IHByaW1lLCBvciBjb3VsZCBiZSBjb21wb3NpdGVcbiAqIEBwYXJhbSBiaXRMZW4gaG93IG1hbnkgYml0cyB0aGUgZmllbGQgY29uc3VtZXNcbiAqIEBwYXJhbSBpc0xFIChkZWZhdWx0OiBmYWxzZSkgaWYgZW5jb2RpbmcgLyBkZWNvZGluZyBzaG91bGQgYmUgaW4gbGl0dGxlLWVuZGlhblxuICogQHBhcmFtIHJlZGVmIG9wdGlvbmFsIGZhc3RlciByZWRlZmluaXRpb25zIG9mIHNxcnQgYW5kIG90aGVyIG1ldGhvZHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZpZWxkKE9SREVSLCBiaXRMZW5Pck9wdHMsIC8vIFRPRE86IHVzZSBvcHRzIG9ubHkgaW4gdjI/XG5pc0xFID0gZmFsc2UsIG9wdHMgPSB7fSkge1xuICAgIGlmIChPUkRFUiA8PSBfMG4pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmaWVsZDogZXhwZWN0ZWQgT1JERVIgPiAwLCBnb3QgJyArIE9SREVSKTtcbiAgICBsZXQgX25iaXRMZW5ndGggPSB1bmRlZmluZWQ7XG4gICAgbGV0IF9zcXJ0ID0gdW5kZWZpbmVkO1xuICAgIGxldCBtb2RGcm9tQnl0ZXMgPSBmYWxzZTtcbiAgICBsZXQgYWxsb3dlZExlbmd0aHMgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHR5cGVvZiBiaXRMZW5Pck9wdHMgPT09ICdvYmplY3QnICYmIGJpdExlbk9yT3B0cyAhPSBudWxsKSB7XG4gICAgICAgIGlmIChvcHRzLnNxcnQgfHwgaXNMRSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IHNwZWNpZnkgb3B0cyBpbiB0d28gYXJndW1lbnRzJyk7XG4gICAgICAgIGNvbnN0IF9vcHRzID0gYml0TGVuT3JPcHRzO1xuICAgICAgICBpZiAoX29wdHMuQklUUylcbiAgICAgICAgICAgIF9uYml0TGVuZ3RoID0gX29wdHMuQklUUztcbiAgICAgICAgaWYgKF9vcHRzLnNxcnQpXG4gICAgICAgICAgICBfc3FydCA9IF9vcHRzLnNxcnQ7XG4gICAgICAgIGlmICh0eXBlb2YgX29wdHMuaXNMRSA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICAgICAgaXNMRSA9IF9vcHRzLmlzTEU7XG4gICAgICAgIGlmICh0eXBlb2YgX29wdHMubW9kRnJvbUJ5dGVzID09PSAnYm9vbGVhbicpXG4gICAgICAgICAgICBtb2RGcm9tQnl0ZXMgPSBfb3B0cy5tb2RGcm9tQnl0ZXM7XG4gICAgICAgIGFsbG93ZWRMZW5ndGhzID0gX29wdHMuYWxsb3dlZExlbmd0aHM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIGJpdExlbk9yT3B0cyA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICBfbmJpdExlbmd0aCA9IGJpdExlbk9yT3B0cztcbiAgICAgICAgaWYgKG9wdHMuc3FydClcbiAgICAgICAgICAgIF9zcXJ0ID0gb3B0cy5zcXJ0O1xuICAgIH1cbiAgICBjb25zdCB7IG5CaXRMZW5ndGg6IEJJVFMsIG5CeXRlTGVuZ3RoOiBCWVRFUyB9ID0gbkxlbmd0aChPUkRFUiwgX25iaXRMZW5ndGgpO1xuICAgIGlmIChCWVRFUyA+IDIwNDgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBmaWVsZDogZXhwZWN0ZWQgT1JERVIgb2YgPD0gMjA0OCBieXRlcycpO1xuICAgIGxldCBzcXJ0UDsgLy8gY2FjaGVkIHNxcnRQXG4gICAgY29uc3QgZiA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBPUkRFUixcbiAgICAgICAgaXNMRSxcbiAgICAgICAgQklUUyxcbiAgICAgICAgQllURVMsXG4gICAgICAgIE1BU0s6IGJpdE1hc2soQklUUyksXG4gICAgICAgIFpFUk86IF8wbixcbiAgICAgICAgT05FOiBfMW4sXG4gICAgICAgIGFsbG93ZWRMZW5ndGhzOiBhbGxvd2VkTGVuZ3RocyxcbiAgICAgICAgY3JlYXRlOiAobnVtKSA9PiBtb2QobnVtLCBPUkRFUiksXG4gICAgICAgIGlzVmFsaWQ6IChudW0pID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbnVtICE9PSAnYmlnaW50JylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZmllbGQgZWxlbWVudDogZXhwZWN0ZWQgYmlnaW50LCBnb3QgJyArIHR5cGVvZiBudW0pO1xuICAgICAgICAgICAgcmV0dXJuIF8wbiA8PSBudW0gJiYgbnVtIDwgT1JERVI7IC8vIDAgaXMgdmFsaWQgZWxlbWVudCwgYnV0IGl0J3Mgbm90IGludmVydGlibGVcbiAgICAgICAgfSxcbiAgICAgICAgaXMwOiAobnVtKSA9PiBudW0gPT09IF8wbixcbiAgICAgICAgLy8gaXMgdmFsaWQgYW5kIGludmVydGlibGVcbiAgICAgICAgaXNWYWxpZE5vdDA6IChudW0pID0+ICFmLmlzMChudW0pICYmIGYuaXNWYWxpZChudW0pLFxuICAgICAgICBpc09kZDogKG51bSkgPT4gKG51bSAmIF8xbikgPT09IF8xbixcbiAgICAgICAgbmVnOiAobnVtKSA9PiBtb2QoLW51bSwgT1JERVIpLFxuICAgICAgICBlcWw6IChsaHMsIHJocykgPT4gbGhzID09PSByaHMsXG4gICAgICAgIHNxcjogKG51bSkgPT4gbW9kKG51bSAqIG51bSwgT1JERVIpLFxuICAgICAgICBhZGQ6IChsaHMsIHJocykgPT4gbW9kKGxocyArIHJocywgT1JERVIpLFxuICAgICAgICBzdWI6IChsaHMsIHJocykgPT4gbW9kKGxocyAtIHJocywgT1JERVIpLFxuICAgICAgICBtdWw6IChsaHMsIHJocykgPT4gbW9kKGxocyAqIHJocywgT1JERVIpLFxuICAgICAgICBwb3c6IChudW0sIHBvd2VyKSA9PiBGcFBvdyhmLCBudW0sIHBvd2VyKSxcbiAgICAgICAgZGl2OiAobGhzLCByaHMpID0+IG1vZChsaHMgKiBpbnZlcnQocmhzLCBPUkRFUiksIE9SREVSKSxcbiAgICAgICAgLy8gU2FtZSBhcyBhYm92ZSwgYnV0IGRvZXNuJ3Qgbm9ybWFsaXplXG4gICAgICAgIHNxck46IChudW0pID0+IG51bSAqIG51bSxcbiAgICAgICAgYWRkTjogKGxocywgcmhzKSA9PiBsaHMgKyByaHMsXG4gICAgICAgIHN1Yk46IChsaHMsIHJocykgPT4gbGhzIC0gcmhzLFxuICAgICAgICBtdWxOOiAobGhzLCByaHMpID0+IGxocyAqIHJocyxcbiAgICAgICAgaW52OiAobnVtKSA9PiBpbnZlcnQobnVtLCBPUkRFUiksXG4gICAgICAgIHNxcnQ6IF9zcXJ0IHx8XG4gICAgICAgICAgICAoKG4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXNxcnRQKVxuICAgICAgICAgICAgICAgICAgICBzcXJ0UCA9IEZwU3FydChPUkRFUik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNxcnRQKGYsIG4pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgIHRvQnl0ZXM6IChudW0pID0+IChpc0xFID8gbnVtYmVyVG9CeXRlc0xFKG51bSwgQllURVMpIDogbnVtYmVyVG9CeXRlc0JFKG51bSwgQllURVMpKSxcbiAgICAgICAgZnJvbUJ5dGVzOiAoYnl0ZXMsIHNraXBWYWxpZGF0aW9uID0gdHJ1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFsbG93ZWRMZW5ndGhzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhbGxvd2VkTGVuZ3Rocy5pbmNsdWRlcyhieXRlcy5sZW5ndGgpIHx8IGJ5dGVzLmxlbmd0aCA+IEJZVEVTKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmllbGQuZnJvbUJ5dGVzOiBleHBlY3RlZCAnICsgYWxsb3dlZExlbmd0aHMgKyAnIGJ5dGVzLCBnb3QgJyArIGJ5dGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhZGRlZCA9IG5ldyBVaW50OEFycmF5KEJZVEVTKTtcbiAgICAgICAgICAgICAgICAvLyBpc0xFIGFkZCAwIHRvIHJpZ2h0LCAhaXNMRSB0byB0aGUgbGVmdC5cbiAgICAgICAgICAgICAgICBwYWRkZWQuc2V0KGJ5dGVzLCBpc0xFID8gMCA6IHBhZGRlZC5sZW5ndGggLSBieXRlcy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGJ5dGVzID0gcGFkZGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ5dGVzLmxlbmd0aCAhPT0gQllURVMpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaWVsZC5mcm9tQnl0ZXM6IGV4cGVjdGVkICcgKyBCWVRFUyArICcgYnl0ZXMsIGdvdCAnICsgYnl0ZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGxldCBzY2FsYXIgPSBpc0xFID8gYnl0ZXNUb051bWJlckxFKGJ5dGVzKSA6IGJ5dGVzVG9OdW1iZXJCRShieXRlcyk7XG4gICAgICAgICAgICBpZiAobW9kRnJvbUJ5dGVzKVxuICAgICAgICAgICAgICAgIHNjYWxhciA9IG1vZChzY2FsYXIsIE9SREVSKTtcbiAgICAgICAgICAgIGlmICghc2tpcFZhbGlkYXRpb24pXG4gICAgICAgICAgICAgICAgaWYgKCFmLmlzVmFsaWQoc2NhbGFyKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZpZWxkIGVsZW1lbnQ6IG91dHNpZGUgb2YgcmFuZ2UgMC4uT1JERVInKTtcbiAgICAgICAgICAgIC8vIE5PVEU6IHdlIGRvbid0IHZhbGlkYXRlIHNjYWxhciBoZXJlLCBwbGVhc2UgdXNlIGlzVmFsaWQuIFRoaXMgZG9uZSBzdWNoIHdheSBiZWNhdXNlIHNvbWVcbiAgICAgICAgICAgIC8vIHByb3RvY29sIG1heSBhbGxvdyBub24tcmVkdWNlZCBzY2FsYXIgdGhhdCByZWR1Y2VkIGxhdGVyIG9yIGNoYW5nZWQgc29tZSBvdGhlciB3YXkuXG4gICAgICAgICAgICByZXR1cm4gc2NhbGFyO1xuICAgICAgICB9LFxuICAgICAgICAvLyBUT0RPOiB3ZSBkb24ndCBuZWVkIGl0IGhlcmUsIG1vdmUgb3V0IHRvIHNlcGFyYXRlIGZuXG4gICAgICAgIGludmVydEJhdGNoOiAobHN0KSA9PiBGcEludmVydEJhdGNoKGYsIGxzdCksXG4gICAgICAgIC8vIFdlIGNhbid0IG1vdmUgdGhpcyBvdXQgYmVjYXVzZSBGcDYsIEZwMTIgaW1wbGVtZW50IGl0XG4gICAgICAgIC8vIGFuZCBpdCdzIHVuY2xlYXIgd2hhdCB0byByZXR1cm4gaW4gdGhlcmUuXG4gICAgICAgIGNtb3Y6IChhLCBiLCBjKSA9PiAoYyA/IGIgOiBhKSxcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShmKTtcbn1cbi8vIEdlbmVyaWMgcmFuZG9tIHNjYWxhciwgd2UgY2FuIGRvIHNhbWUgZm9yIG90aGVyIGZpZWxkcyBpZiB2aWEgRnAyLm11bChGcDIuT05FLCBGcDIucmFuZG9tKT9cbi8vIFRoaXMgYWxsb3dzIHVuc2FmZSBtZXRob2RzIGxpa2UgaWdub3JlIGJpYXMgb3IgemVyby4gVGhlc2UgdW5zYWZlLCBidXQgb2Z0ZW4gdXNlZCBpbiBkaWZmZXJlbnQgcHJvdG9jb2xzIChpZiBkZXRlcm1pbmlzdGljIFJORykuXG4vLyB3aGljaCBtZWFuIHdlIGNhbm5vdCBmb3JjZSB0aGlzIHZpYSBvcHRzLlxuLy8gTm90IHN1cmUgd2hhdCB0byBkbyB3aXRoIHJhbmRvbUJ5dGVzLCB3ZSBjYW4gYWNjZXB0IGl0IGluc2lkZSBvcHRzIGlmIHdhbnRlZC5cbi8vIFByb2JhYmx5IG5lZWQgdG8gZXhwb3J0IGdldE1pbkhhc2hMZW5ndGggc29tZXdoZXJlP1xuLy8gcmFuZG9tKGJ5dGVzPzogVWludDhBcnJheSwgdW5zYWZlQWxsb3daZXJvID0gZmFsc2UsIHVuc2FmZUFsbG93QmlhcyA9IGZhbHNlKSB7XG4vLyAgIGNvbnN0IExFTiA9ICF1bnNhZmVBbGxvd0JpYXMgPyBnZXRNaW5IYXNoTGVuZ3RoKE9SREVSKSA6IEJZVEVTO1xuLy8gICBpZiAoYnl0ZXMgPT09IHVuZGVmaW5lZCkgYnl0ZXMgPSByYW5kb21CeXRlcyhMRU4pOyAvLyBfb3B0cy5yYW5kb21CeXRlcz9cbi8vICAgY29uc3QgbnVtID0gaXNMRSA/IGJ5dGVzVG9OdW1iZXJMRShieXRlcykgOiBieXRlc1RvTnVtYmVyQkUoYnl0ZXMpO1xuLy8gICAvLyBgbW9kKHgsIDExKWAgY2FuIHNvbWV0aW1lcyBwcm9kdWNlIDAuIGBtb2QoeCwgMTApICsgMWAgaXMgdGhlIHNhbWUsIGJ1dCBubyAwXG4vLyAgIGNvbnN0IHJlZHVjZWQgPSB1bnNhZmVBbGxvd1plcm8gPyBtb2QobnVtLCBPUkRFUikgOiBtb2QobnVtLCBPUkRFUiAtIF8xbikgKyBfMW47XG4vLyAgIHJldHVybiByZWR1Y2VkO1xuLy8gfSxcbmV4cG9ydCBmdW5jdGlvbiBGcFNxcnRPZGQoRnAsIGVsbSkge1xuICAgIGlmICghRnAuaXNPZGQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3QgaGF2ZSBpc09kZFwiKTtcbiAgICBjb25zdCByb290ID0gRnAuc3FydChlbG0pO1xuICAgIHJldHVybiBGcC5pc09kZChyb290KSA/IHJvb3QgOiBGcC5uZWcocm9vdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gRnBTcXJ0RXZlbihGcCwgZWxtKSB7XG4gICAgaWYgKCFGcC5pc09kZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgZG9lc24ndCBoYXZlIGlzT2RkXCIpO1xuICAgIGNvbnN0IHJvb3QgPSBGcC5zcXJ0KGVsbSk7XG4gICAgcmV0dXJuIEZwLmlzT2RkKHJvb3QpID8gRnAubmVnKHJvb3QpIDogcm9vdDtcbn1cbi8qKlxuICogXCJDb25zdGFudC10aW1lXCIgcHJpdmF0ZSBrZXkgZ2VuZXJhdGlvbiB1dGlsaXR5LlxuICogU2FtZSBhcyBtYXBLZXlUb0ZpZWxkLCBidXQgYWNjZXB0cyBsZXNzIGJ5dGVzICg0MCBpbnN0ZWFkIG9mIDQ4IGZvciAzMi1ieXRlIGZpZWxkKS5cbiAqIFdoaWNoIG1ha2VzIGl0IHNsaWdodGx5IG1vcmUgYmlhc2VkLCBsZXNzIHNlY3VyZS5cbiAqIEBkZXByZWNhdGVkIHVzZSBgbWFwS2V5VG9GaWVsZGAgaW5zdGVhZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaFRvUHJpdmF0ZVNjYWxhcihoYXNoLCBncm91cE9yZGVyLCBpc0xFID0gZmFsc2UpIHtcbiAgICBoYXNoID0gZW5zdXJlQnl0ZXMoJ3ByaXZhdGVIYXNoJywgaGFzaCk7XG4gICAgY29uc3QgaGFzaExlbiA9IGhhc2gubGVuZ3RoO1xuICAgIGNvbnN0IG1pbkxlbiA9IG5MZW5ndGgoZ3JvdXBPcmRlcikubkJ5dGVMZW5ndGggKyA4O1xuICAgIGlmIChtaW5MZW4gPCAyNCB8fCBoYXNoTGVuIDwgbWluTGVuIHx8IGhhc2hMZW4gPiAxMDI0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhc2hUb1ByaXZhdGVTY2FsYXI6IGV4cGVjdGVkICcgKyBtaW5MZW4gKyAnLTEwMjQgYnl0ZXMgb2YgaW5wdXQsIGdvdCAnICsgaGFzaExlbik7XG4gICAgY29uc3QgbnVtID0gaXNMRSA/IGJ5dGVzVG9OdW1iZXJMRShoYXNoKSA6IGJ5dGVzVG9OdW1iZXJCRShoYXNoKTtcbiAgICByZXR1cm4gbW9kKG51bSwgZ3JvdXBPcmRlciAtIF8xbikgKyBfMW47XG59XG4vKipcbiAqIFJldHVybnMgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIGNvbnN1bWVkIGJ5IHRoZSBmaWVsZCBlbGVtZW50LlxuICogRm9yIGV4YW1wbGUsIDMyIGJ5dGVzIGZvciB1c3VhbCAyNTYtYml0IHdlaWVyc3RyYXNzIGN1cnZlLlxuICogQHBhcmFtIGZpZWxkT3JkZXIgbnVtYmVyIG9mIGZpZWxkIGVsZW1lbnRzLCB1c3VhbGx5IENVUlZFLm5cbiAqIEByZXR1cm5zIGJ5dGUgbGVuZ3RoIG9mIGZpZWxkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWVsZEJ5dGVzTGVuZ3RoKGZpZWxkT3JkZXIpIHtcbiAgICBpZiAodHlwZW9mIGZpZWxkT3JkZXIgIT09ICdiaWdpbnQnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpZWxkIG9yZGVyIG11c3QgYmUgYmlnaW50Jyk7XG4gICAgY29uc3QgYml0TGVuZ3RoID0gZmllbGRPcmRlci50b1N0cmluZygyKS5sZW5ndGg7XG4gICAgcmV0dXJuIE1hdGguY2VpbChiaXRMZW5ndGggLyA4KTtcbn1cbi8qKlxuICogUmV0dXJucyBtaW5pbWFsIGFtb3VudCBvZiBieXRlcyB0aGF0IGNhbiBiZSBzYWZlbHkgcmVkdWNlZFxuICogYnkgZmllbGQgb3JkZXIuXG4gKiBTaG91bGQgYmUgMl4tMTI4IGZvciAxMjgtYml0IGN1cnZlIHN1Y2ggYXMgUDI1Ni5cbiAqIEBwYXJhbSBmaWVsZE9yZGVyIG51bWJlciBvZiBmaWVsZCBlbGVtZW50cywgdXN1YWxseSBDVVJWRS5uXG4gKiBAcmV0dXJucyBieXRlIGxlbmd0aCBvZiB0YXJnZXQgaGFzaFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWluSGFzaExlbmd0aChmaWVsZE9yZGVyKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gZ2V0RmllbGRCeXRlc0xlbmd0aChmaWVsZE9yZGVyKTtcbiAgICByZXR1cm4gbGVuZ3RoICsgTWF0aC5jZWlsKGxlbmd0aCAvIDIpO1xufVxuLyoqXG4gKiBcIkNvbnN0YW50LXRpbWVcIiBwcml2YXRlIGtleSBnZW5lcmF0aW9uIHV0aWxpdHkuXG4gKiBDYW4gdGFrZSAobiArIG4vMikgb3IgbW9yZSBieXRlcyBvZiB1bmlmb3JtIGlucHV0IGUuZy4gZnJvbSBDU1BSTkcgb3IgS0RGXG4gKiBhbmQgY29udmVydCB0aGVtIGludG8gcHJpdmF0ZSBzY2FsYXIsIHdpdGggdGhlIG1vZHVsbyBiaWFzIGJlaW5nIG5lZ2xpZ2libGUuXG4gKiBOZWVkcyBhdCBsZWFzdCA0OCBieXRlcyBvZiBpbnB1dCBmb3IgMzItYnl0ZSBwcml2YXRlIGtleS5cbiAqIGh0dHBzOi8vcmVzZWFyY2gua3VkZWxza2lzZWN1cml0eS5jb20vMjAyMC8wNy8yOC90aGUtZGVmaW5pdGl2ZS1ndWlkZS10by1tb2R1bG8tYmlhcy1hbmQtaG93LXRvLWF2b2lkLWl0L1xuICogRklQUyAxODYtNSwgQS4yIGh0dHBzOi8vY3NyYy5uaXN0Lmdvdi9wdWJsaWNhdGlvbnMvZGV0YWlsL2ZpcHMvMTg2LzUvZmluYWxcbiAqIFJGQyA5MzgwLCBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTM4MCNzZWN0aW9uLTVcbiAqIEBwYXJhbSBoYXNoIGhhc2ggb3V0cHV0IGZyb20gU0hBMyBvciBhIHNpbWlsYXIgZnVuY3Rpb25cbiAqIEBwYXJhbSBncm91cE9yZGVyIHNpemUgb2Ygc3ViZ3JvdXAgLSAoZS5nLiBzZWNwMjU2azEuQ1VSVkUubilcbiAqIEBwYXJhbSBpc0xFIGludGVycHJldCBoYXNoIGJ5dGVzIGFzIExFIG51bVxuICogQHJldHVybnMgdmFsaWQgcHJpdmF0ZSBzY2FsYXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcEhhc2hUb0ZpZWxkKGtleSwgZmllbGRPcmRlciwgaXNMRSA9IGZhbHNlKSB7XG4gICAgY29uc3QgbGVuID0ga2V5Lmxlbmd0aDtcbiAgICBjb25zdCBmaWVsZExlbiA9IGdldEZpZWxkQnl0ZXNMZW5ndGgoZmllbGRPcmRlcik7XG4gICAgY29uc3QgbWluTGVuID0gZ2V0TWluSGFzaExlbmd0aChmaWVsZE9yZGVyKTtcbiAgICAvLyBObyBzbWFsbCBudW1iZXJzOiBuZWVkIHRvIHVuZGVyc3RhbmQgYmlhcyBzdG9yeS4gTm8gaHVnZSBudW1iZXJzOiBlYXNpZXIgdG8gZGV0ZWN0IEpTIHRpbWluZ3MuXG4gICAgaWYgKGxlbiA8IDE2IHx8IGxlbiA8IG1pbkxlbiB8fCBsZW4gPiAxMDI0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGVkICcgKyBtaW5MZW4gKyAnLTEwMjQgYnl0ZXMgb2YgaW5wdXQsIGdvdCAnICsgbGVuKTtcbiAgICBjb25zdCBudW0gPSBpc0xFID8gYnl0ZXNUb051bWJlckxFKGtleSkgOiBieXRlc1RvTnVtYmVyQkUoa2V5KTtcbiAgICAvLyBgbW9kKHgsIDExKWAgY2FuIHNvbWV0aW1lcyBwcm9kdWNlIDAuIGBtb2QoeCwgMTApICsgMWAgaXMgdGhlIHNhbWUsIGJ1dCBubyAwXG4gICAgY29uc3QgcmVkdWNlZCA9IG1vZChudW0sIGZpZWxkT3JkZXIgLSBfMW4pICsgXzFuO1xuICAgIHJldHVybiBpc0xFID8gbnVtYmVyVG9CeXRlc0xFKHJlZHVjZWQsIGZpZWxkTGVuKSA6IG51bWJlclRvQnl0ZXNCRShyZWR1Y2VkLCBmaWVsZExlbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2R1bGFyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/weierstrass.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/weierstrass.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DER: () => (/* binding */ DER),\n/* harmony export */   DERErr: () => (/* binding */ DERErr),\n/* harmony export */   SWUFpSqrtRatio: () => (/* binding */ SWUFpSqrtRatio),\n/* harmony export */   _legacyHelperEquat: () => (/* binding */ _legacyHelperEquat),\n/* harmony export */   _normFnElement: () => (/* binding */ _normFnElement),\n/* harmony export */   _splitEndoScalar: () => (/* binding */ _splitEndoScalar),\n/* harmony export */   ecdh: () => (/* binding */ ecdh),\n/* harmony export */   ecdsa: () => (/* binding */ ecdsa),\n/* harmony export */   mapToCurveSimpleSWU: () => (/* binding */ mapToCurveSimpleSWU),\n/* harmony export */   weierstrass: () => (/* binding */ weierstrass),\n/* harmony export */   weierstrassN: () => (/* binding */ weierstrassN),\n/* harmony export */   weierstrassPoints: () => (/* binding */ weierstrassPoints)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_hmac_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @noble/hashes/hmac.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/hmac.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/utils.js\");\n/* harmony import */ var _curve_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./curve.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/curve.js\");\n/* harmony import */ var _modular_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modular.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js\");\n/**\n * Short Weierstrass curve methods. The formula is: y = x + ax + b.\n *\n * ### Design rationale for types\n *\n * * Interaction between classes from different curves should fail:\n *   `k256.Point.BASE.add(p256.Point.BASE)`\n * * For this purpose we want to use `instanceof` operator, which is fast and works during runtime\n * * Different calls of `curve()` would return different classes -\n *   `curve(params) !== curve(params)`: if somebody decided to monkey-patch their curve,\n *   it won't affect others\n *\n * TypeScript can't infer types for classes created inside a function. Classes is one instance\n * of nominative types in TypeScript and interfaces only check for shape, so it's hard to create\n * unique type for every function call.\n *\n * We can use generic types via some param, like curve opts, but that would:\n *     1. Enable interaction between `curve(params)` and `curve(params)` (curves of same params)\n *     which is hard to debug.\n *     2. Params can be generic and we can't enforce them to be constant value:\n *     if somebody creates curve from non-constant params,\n *     it would be allowed to interact with other curves with non-constant params\n *\n * @todo https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#unique-symbol\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n\n\n\n// We construct basis in such way that den is always positive and equals n, but num sign depends on basis (not on secret value)\nconst divNearest = (num, den) => (num + (num >= 0 ? den : -den) / _2n) / den;\n/**\n * Splits scalar for GLV endomorphism.\n */\nfunction _splitEndoScalar(k, basis, n) {\n    // Split scalar into two such that part is ~half bits: `abs(part) < sqrt(N)`\n    // Since part can be negative, we need to do this on point.\n    // TODO: verifyScalar function which consumes lambda\n    const [[a1, b1], [a2, b2]] = basis;\n    const c1 = divNearest(b2 * k, n);\n    const c2 = divNearest(-b1 * k, n);\n    // |k1|/|k2| is < sqrt(N), but can be negative.\n    // If we do `k1 mod N`, we'll get big scalar (`> sqrt(N)`): so, we do cheaper negation instead.\n    let k1 = k - c1 * a1 - c2 * a2;\n    let k2 = -c1 * b1 - c2 * b2;\n    const k1neg = k1 < _0n;\n    const k2neg = k2 < _0n;\n    if (k1neg)\n        k1 = -k1;\n    if (k2neg)\n        k2 = -k2;\n    // Double check that resulting scalar less than half bits of N: otherwise wNAF will fail.\n    // This should only happen on wrong basises. Also, math inside is too complex and I don't trust it.\n    const MAX_NUM = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask)(Math.ceil((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitLen)(n) / 2)) + _1n; // Half bits of N\n    if (k1 < _0n || k1 >= MAX_NUM || k2 < _0n || k2 >= MAX_NUM) {\n        throw new Error('splitScalar (endomorphism): failed, k=' + k);\n    }\n    return { k1neg, k1, k2neg, k2 };\n}\nfunction validateSigFormat(format) {\n    if (!['compact', 'recovered', 'der'].includes(format))\n        throw new Error('Signature format must be \"compact\", \"recovered\", or \"der\"');\n    return format;\n}\nfunction validateSigOpts(opts, def) {\n    const optsn = {};\n    for (let optName of Object.keys(def)) {\n        // @ts-ignore\n        optsn[optName] = opts[optName] === undefined ? def[optName] : opts[optName];\n    }\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abool2)(optsn.lowS, 'lowS');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abool2)(optsn.prehash, 'prehash');\n    if (optsn.format !== undefined)\n        validateSigFormat(optsn.format);\n    return optsn;\n}\nclass DERErr extends Error {\n    constructor(m = '') {\n        super(m);\n    }\n}\n/**\n * ASN.1 DER encoding utilities. ASN is very complex & fragile. Format:\n *\n *     [0x30 (SEQUENCE), bytelength, 0x02 (INTEGER), intLength, R, 0x02 (INTEGER), intLength, S]\n *\n * Docs: https://letsencrypt.org/docs/a-warm-welcome-to-asn1-and-der/, https://luca.ntop.org/Teaching/Appunti/asn1.html\n */\nconst DER = {\n    // asn.1 DER encoding utils\n    Err: DERErr,\n    // Basic building block is TLV (Tag-Length-Value)\n    _tlv: {\n        encode: (tag, data) => {\n            const { Err: E } = DER;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length & 1)\n                throw new E('tlv.encode: unpadded data');\n            const dataLen = data.length / 2;\n            const len = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded)(dataLen);\n            if ((len.length / 2) & 128)\n                throw new E('tlv.encode: long form length too big');\n            // length of length with long form flag\n            const lenLen = dataLen > 127 ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded)((len.length / 2) | 128) : '';\n            const t = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded)(tag);\n            return t + lenLen + len + data;\n        },\n        // v - value, l - left bytes (unparsed)\n        decode(tag, data) {\n            const { Err: E } = DER;\n            let pos = 0;\n            if (tag < 0 || tag > 256)\n                throw new E('tlv.encode: wrong tag');\n            if (data.length < 2 || data[pos++] !== tag)\n                throw new E('tlv.decode: wrong tlv');\n            const first = data[pos++];\n            const isLong = !!(first & 128); // First bit of first length byte is flag for short/long form\n            let length = 0;\n            if (!isLong)\n                length = first;\n            else {\n                // Long form: [longFlag(1bit), lengthLength(7bit), length (BE)]\n                const lenLen = first & 127;\n                if (!lenLen)\n                    throw new E('tlv.decode(long): indefinite length not supported');\n                if (lenLen > 4)\n                    throw new E('tlv.decode(long): byte length is too big'); // this will overflow u32 in js\n                const lengthBytes = data.subarray(pos, pos + lenLen);\n                if (lengthBytes.length !== lenLen)\n                    throw new E('tlv.decode: length bytes not complete');\n                if (lengthBytes[0] === 0)\n                    throw new E('tlv.decode(long): zero leftmost byte');\n                for (const b of lengthBytes)\n                    length = (length << 8) | b;\n                pos += lenLen;\n                if (length < 128)\n                    throw new E('tlv.decode(long): not minimal encoding');\n            }\n            const v = data.subarray(pos, pos + length);\n            if (v.length !== length)\n                throw new E('tlv.decode: wrong value length');\n            return { v, l: data.subarray(pos + length) };\n        },\n    },\n    // https://crypto.stackexchange.com/a/57734 Leftmost bit of first byte is 'negative' flag,\n    // since we always use positive integers here. It must always be empty:\n    // - add zero byte if exists\n    // - if next byte doesn't have a flag, leading zero is not allowed (minimal encoding)\n    _int: {\n        encode(num) {\n            const { Err: E } = DER;\n            if (num < _0n)\n                throw new E('integer: negative integers are not allowed');\n            let hex = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.numberToHexUnpadded)(num);\n            // Pad with zero byte if negative flag is present\n            if (Number.parseInt(hex[0], 16) & 0b1000)\n                hex = '00' + hex;\n            if (hex.length & 1)\n                throw new E('unexpected DER parsing assertion: unpadded hex');\n            return hex;\n        },\n        decode(data) {\n            const { Err: E } = DER;\n            if (data[0] & 128)\n                throw new E('invalid signature integer: negative');\n            if (data[0] === 0x00 && !(data[1] & 128))\n                throw new E('invalid signature integer: unnecessary leading zero');\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(data);\n        },\n    },\n    toSig(hex) {\n        // parse DER signature\n        const { Err: E, _int: int, _tlv: tlv } = DER;\n        const data = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('signature', hex);\n        const { v: seqBytes, l: seqLeftBytes } = tlv.decode(0x30, data);\n        if (seqLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        const { v: rBytes, l: rLeftBytes } = tlv.decode(0x02, seqBytes);\n        const { v: sBytes, l: sLeftBytes } = tlv.decode(0x02, rLeftBytes);\n        if (sLeftBytes.length)\n            throw new E('invalid signature: left bytes after parsing');\n        return { r: int.decode(rBytes), s: int.decode(sBytes) };\n    },\n    hexFromSig(sig) {\n        const { _tlv: tlv, _int: int } = DER;\n        const rs = tlv.encode(0x02, int.encode(sig.r));\n        const ss = tlv.encode(0x02, int.encode(sig.s));\n        const seq = rs + ss;\n        return tlv.encode(0x30, seq);\n    },\n};\n// Be friendly to bad ECMAScript parsers by not using bigint literals\n// prettier-ignore\nconst _0n = BigInt(0), _1n = BigInt(1), _2n = BigInt(2), _3n = BigInt(3), _4n = BigInt(4);\nfunction _normFnElement(Fn, key) {\n    const { BYTES: expected } = Fn;\n    let num;\n    if (typeof key === 'bigint') {\n        num = key;\n    }\n    else {\n        let bytes = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('private key', key);\n        try {\n            num = Fn.fromBytes(bytes);\n        }\n        catch (error) {\n            throw new Error(`invalid private key: expected ui8a of size ${expected}, got ${typeof key}`);\n        }\n    }\n    if (!Fn.isValidNot0(num))\n        throw new Error('invalid private key: out of range [1..N-1]');\n    return num;\n}\n/**\n * Creates weierstrass Point constructor, based on specified curve options.\n *\n * @example\n```js\nconst opts = {\n  p: BigInt('0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff'),\n  n: BigInt('0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551'),\n  h: BigInt(1),\n  a: BigInt('0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc'),\n  b: BigInt('0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b'),\n  Gx: BigInt('0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296'),\n  Gy: BigInt('0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5'),\n};\nconst p256_Point = weierstrass(opts);\n```\n */\nfunction weierstrassN(params, extraOpts = {}) {\n    const validated = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__._createCurveFields)('weierstrass', params, extraOpts);\n    const { Fp, Fn } = validated;\n    let CURVE = validated.CURVE;\n    const { h: cofactor, n: CURVE_ORDER } = CURVE;\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._validateObject)(extraOpts, {}, {\n        allowInfinityPoint: 'boolean',\n        clearCofactor: 'function',\n        isTorsionFree: 'function',\n        fromBytes: 'function',\n        toBytes: 'function',\n        endo: 'object',\n        wrapPrivateKey: 'boolean',\n    });\n    const { endo } = extraOpts;\n    if (endo) {\n        // validateObject(endo, { beta: 'bigint', splitScalar: 'function' });\n        if (!Fp.is0(CURVE.a) || typeof endo.beta !== 'bigint' || !Array.isArray(endo.basises)) {\n            throw new Error('invalid endo: expected \"beta\": bigint and \"basises\": array');\n        }\n    }\n    const lengths = getWLengths(Fp, Fn);\n    function assertCompressionIsSupported() {\n        if (!Fp.isOdd)\n            throw new Error('compression is not supported: Field does not have .isOdd()');\n    }\n    // Implements IEEE P1363 point encoding\n    function pointToBytes(_c, point, isCompressed) {\n        const { x, y } = point.toAffine();\n        const bx = Fp.toBytes(x);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abool2)(isCompressed, 'isCompressed');\n        if (isCompressed) {\n            assertCompressionIsSupported();\n            const hasEvenY = !Fp.isOdd(y);\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)(pprefix(hasEvenY), bx);\n        }\n        else {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)(Uint8Array.of(0x04), bx, Fp.toBytes(y));\n        }\n    }\n    function pointFromBytes(bytes) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abytes2)(bytes, undefined, 'Point');\n        const { publicKey: comp, publicKeyUncompressed: uncomp } = lengths; // e.g. for 32-byte: 33, 65\n        const length = bytes.length;\n        const head = bytes[0];\n        const tail = bytes.subarray(1);\n        // No actual validation is done here: use .assertValidity()\n        if (length === comp && (head === 0x02 || head === 0x03)) {\n            const x = Fp.fromBytes(tail);\n            if (!Fp.isValid(x))\n                throw new Error('bad point: is not on curve, wrong x');\n            const y2 = weierstrassEquation(x); // y = x + ax + b\n            let y;\n            try {\n                y = Fp.sqrt(y2); // y = y ^ (p+1)/4\n            }\n            catch (sqrtError) {\n                const err = sqrtError instanceof Error ? ': ' + sqrtError.message : '';\n                throw new Error('bad point: is not on curve, sqrt error' + err);\n            }\n            assertCompressionIsSupported();\n            const isYOdd = Fp.isOdd(y); // (y & _1n) === _1n;\n            const isHeadOdd = (head & 1) === 1; // ECDSA-specific\n            if (isHeadOdd !== isYOdd)\n                y = Fp.neg(y);\n            return { x, y };\n        }\n        else if (length === uncomp && head === 0x04) {\n            // TODO: more checks\n            const L = Fp.BYTES;\n            const x = Fp.fromBytes(tail.subarray(0, L));\n            const y = Fp.fromBytes(tail.subarray(L, L * 2));\n            if (!isValidXY(x, y))\n                throw new Error('bad point: is not on curve');\n            return { x, y };\n        }\n        else {\n            throw new Error(`bad point: got length ${length}, expected compressed=${comp} or uncompressed=${uncomp}`);\n        }\n    }\n    const encodePoint = extraOpts.toBytes || pointToBytes;\n    const decodePoint = extraOpts.fromBytes || pointFromBytes;\n    function weierstrassEquation(x) {\n        const x2 = Fp.sqr(x); // x * x\n        const x3 = Fp.mul(x2, x); // x * x\n        return Fp.add(Fp.add(x3, Fp.mul(x, CURVE.a)), CURVE.b); // x + a * x + b\n    }\n    // TODO: move top-level\n    /** Checks whether equation holds for given x, y: y == x + ax + b */\n    function isValidXY(x, y) {\n        const left = Fp.sqr(y); // y\n        const right = weierstrassEquation(x); // x + ax + b\n        return Fp.eql(left, right);\n    }\n    // Validate whether the passed curve params are valid.\n    // Test 1: equation y = x + ax + b should work for generator point.\n    if (!isValidXY(CURVE.Gx, CURVE.Gy))\n        throw new Error('bad curve params: generator point');\n    // Test 2: discriminant  part should be non-zero: 4a + 27b != 0.\n    // Guarantees curve is genus-1, smooth (non-singular).\n    const _4a3 = Fp.mul(Fp.pow(CURVE.a, _3n), _4n);\n    const _27b2 = Fp.mul(Fp.sqr(CURVE.b), BigInt(27));\n    if (Fp.is0(Fp.add(_4a3, _27b2)))\n        throw new Error('bad curve params: a or b');\n    /** Asserts coordinate is valid: 0 <= n < Fp.ORDER. */\n    function acoord(title, n, banZero = false) {\n        if (!Fp.isValid(n) || (banZero && Fp.is0(n)))\n            throw new Error(`bad point coordinate ${title}`);\n        return n;\n    }\n    function aprjpoint(other) {\n        if (!(other instanceof Point))\n            throw new Error('ProjectivePoint expected');\n    }\n    function splitEndoScalarN(k) {\n        if (!endo || !endo.basises)\n            throw new Error('no endo');\n        return _splitEndoScalar(k, endo.basises, Fn.ORDER);\n    }\n    // Memoized toAffine / validity check. They are heavy. Points are immutable.\n    // Converts Projective point to affine (x, y) coordinates.\n    // Can accept precomputed Z^-1 - for example, from invertBatch.\n    // (X, Y, Z)  (x=X/Z, y=Y/Z)\n    const toAffineMemo = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.memoized)((p, iz) => {\n        const { X, Y, Z } = p;\n        // Fast-path for normalized points\n        if (Fp.eql(Z, Fp.ONE))\n            return { x: X, y: Y };\n        const is0 = p.is0();\n        // If invZ was 0, we return zero point. However we still want to execute\n        // all operations, so we replace invZ with a random number, 1.\n        if (iz == null)\n            iz = is0 ? Fp.ONE : Fp.inv(Z);\n        const x = Fp.mul(X, iz);\n        const y = Fp.mul(Y, iz);\n        const zz = Fp.mul(Z, iz);\n        if (is0)\n            return { x: Fp.ZERO, y: Fp.ZERO };\n        if (!Fp.eql(zz, Fp.ONE))\n            throw new Error('invZ was invalid');\n        return { x, y };\n    });\n    // NOTE: on exception this will crash 'cached' and no value will be set.\n    // Otherwise true will be return\n    const assertValidMemo = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.memoized)((p) => {\n        if (p.is0()) {\n            // (0, 1, 0) aka ZERO is invalid in most contexts.\n            // In BLS, ZERO can be serialized, so we allow it.\n            // (0, 0, 0) is invalid representation of ZERO.\n            if (extraOpts.allowInfinityPoint && !Fp.is0(p.Y))\n                return;\n            throw new Error('bad point: ZERO');\n        }\n        // Some 3rd-party test vectors require different wording between here & `fromCompressedHex`\n        const { x, y } = p.toAffine();\n        if (!Fp.isValid(x) || !Fp.isValid(y))\n            throw new Error('bad point: x or y not field elements');\n        if (!isValidXY(x, y))\n            throw new Error('bad point: equation left != right');\n        if (!p.isTorsionFree())\n            throw new Error('bad point: not in prime-order subgroup');\n        return true;\n    });\n    function finishEndo(endoBeta, k1p, k2p, k1neg, k2neg) {\n        k2p = new Point(Fp.mul(k2p.X, endoBeta), k2p.Y, k2p.Z);\n        k1p = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.negateCt)(k1neg, k1p);\n        k2p = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.negateCt)(k2neg, k2p);\n        return k1p.add(k2p);\n    }\n    /**\n     * Projective Point works in 3d / projective (homogeneous) coordinates:(X, Y, Z)  (x=X/Z, y=Y/Z).\n     * Default Point works in 2d / affine coordinates: (x, y).\n     * We're doing calculations in projective, because its operations don't require costly inversion.\n     */\n    class Point {\n        /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n        constructor(X, Y, Z) {\n            this.X = acoord('x', X);\n            this.Y = acoord('y', Y, true);\n            this.Z = acoord('z', Z);\n            Object.freeze(this);\n        }\n        static CURVE() {\n            return CURVE;\n        }\n        /** Does NOT validate if the point is valid. Use `.assertValidity()`. */\n        static fromAffine(p) {\n            const { x, y } = p || {};\n            if (!p || !Fp.isValid(x) || !Fp.isValid(y))\n                throw new Error('invalid affine point');\n            if (p instanceof Point)\n                throw new Error('projective point not allowed');\n            // (0, 0) would've produced (0, 0, 1) - instead, we need (0, 1, 0)\n            if (Fp.is0(x) && Fp.is0(y))\n                return Point.ZERO;\n            return new Point(x, y, Fp.ONE);\n        }\n        static fromBytes(bytes) {\n            const P = Point.fromAffine(decodePoint((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abytes2)(bytes, undefined, 'point')));\n            P.assertValidity();\n            return P;\n        }\n        static fromHex(hex) {\n            return Point.fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('pointHex', hex));\n        }\n        get x() {\n            return this.toAffine().x;\n        }\n        get y() {\n            return this.toAffine().y;\n        }\n        /**\n         *\n         * @param windowSize\n         * @param isLazy true will defer table computation until the first multiplication\n         * @returns\n         */\n        precompute(windowSize = 8, isLazy = true) {\n            wnaf.createCache(this, windowSize);\n            if (!isLazy)\n                this.multiply(_3n); // random number\n            return this;\n        }\n        // TODO: return `this`\n        /** A point on curve is valid if it conforms to equation. */\n        assertValidity() {\n            assertValidMemo(this);\n        }\n        hasEvenY() {\n            const { y } = this.toAffine();\n            if (!Fp.isOdd)\n                throw new Error(\"Field doesn't support isOdd\");\n            return !Fp.isOdd(y);\n        }\n        /** Compare one point to another. */\n        equals(other) {\n            aprjpoint(other);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const { X: X2, Y: Y2, Z: Z2 } = other;\n            const U1 = Fp.eql(Fp.mul(X1, Z2), Fp.mul(X2, Z1));\n            const U2 = Fp.eql(Fp.mul(Y1, Z2), Fp.mul(Y2, Z1));\n            return U1 && U2;\n        }\n        /** Flips point to one corresponding to (x, -y) in Affine coordinates. */\n        negate() {\n            return new Point(this.X, Fp.neg(this.Y), this.Z);\n        }\n        // Renes-Costello-Batina exception-free doubling formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 3\n        // Cost: 8M + 3S + 3*a + 2*b3 + 15add.\n        double() {\n            const { a, b } = CURVE;\n            const b3 = Fp.mul(b, _3n);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            let t0 = Fp.mul(X1, X1); // step 1\n            let t1 = Fp.mul(Y1, Y1);\n            let t2 = Fp.mul(Z1, Z1);\n            let t3 = Fp.mul(X1, Y1);\n            t3 = Fp.add(t3, t3); // step 5\n            Z3 = Fp.mul(X1, Z1);\n            Z3 = Fp.add(Z3, Z3);\n            X3 = Fp.mul(a, Z3);\n            Y3 = Fp.mul(b3, t2);\n            Y3 = Fp.add(X3, Y3); // step 10\n            X3 = Fp.sub(t1, Y3);\n            Y3 = Fp.add(t1, Y3);\n            Y3 = Fp.mul(X3, Y3);\n            X3 = Fp.mul(t3, X3);\n            Z3 = Fp.mul(b3, Z3); // step 15\n            t2 = Fp.mul(a, t2);\n            t3 = Fp.sub(t0, t2);\n            t3 = Fp.mul(a, t3);\n            t3 = Fp.add(t3, Z3);\n            Z3 = Fp.add(t0, t0); // step 20\n            t0 = Fp.add(Z3, t0);\n            t0 = Fp.add(t0, t2);\n            t0 = Fp.mul(t0, t3);\n            Y3 = Fp.add(Y3, t0);\n            t2 = Fp.mul(Y1, Z1); // step 25\n            t2 = Fp.add(t2, t2);\n            t0 = Fp.mul(t2, t3);\n            X3 = Fp.sub(X3, t0);\n            Z3 = Fp.mul(t2, t1);\n            Z3 = Fp.add(Z3, Z3); // step 30\n            Z3 = Fp.add(Z3, Z3);\n            return new Point(X3, Y3, Z3);\n        }\n        // Renes-Costello-Batina exception-free addition formula.\n        // There is 30% faster Jacobian formula, but it is not complete.\n        // https://eprint.iacr.org/2015/1060, algorithm 1\n        // Cost: 12M + 0S + 3*a + 3*b3 + 23add.\n        add(other) {\n            aprjpoint(other);\n            const { X: X1, Y: Y1, Z: Z1 } = this;\n            const { X: X2, Y: Y2, Z: Z2 } = other;\n            let X3 = Fp.ZERO, Y3 = Fp.ZERO, Z3 = Fp.ZERO; // prettier-ignore\n            const a = CURVE.a;\n            const b3 = Fp.mul(CURVE.b, _3n);\n            let t0 = Fp.mul(X1, X2); // step 1\n            let t1 = Fp.mul(Y1, Y2);\n            let t2 = Fp.mul(Z1, Z2);\n            let t3 = Fp.add(X1, Y1);\n            let t4 = Fp.add(X2, Y2); // step 5\n            t3 = Fp.mul(t3, t4);\n            t4 = Fp.add(t0, t1);\n            t3 = Fp.sub(t3, t4);\n            t4 = Fp.add(X1, Z1);\n            let t5 = Fp.add(X2, Z2); // step 10\n            t4 = Fp.mul(t4, t5);\n            t5 = Fp.add(t0, t2);\n            t4 = Fp.sub(t4, t5);\n            t5 = Fp.add(Y1, Z1);\n            X3 = Fp.add(Y2, Z2); // step 15\n            t5 = Fp.mul(t5, X3);\n            X3 = Fp.add(t1, t2);\n            t5 = Fp.sub(t5, X3);\n            Z3 = Fp.mul(a, t4);\n            X3 = Fp.mul(b3, t2); // step 20\n            Z3 = Fp.add(X3, Z3);\n            X3 = Fp.sub(t1, Z3);\n            Z3 = Fp.add(t1, Z3);\n            Y3 = Fp.mul(X3, Z3);\n            t1 = Fp.add(t0, t0); // step 25\n            t1 = Fp.add(t1, t0);\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.mul(b3, t4);\n            t1 = Fp.add(t1, t2);\n            t2 = Fp.sub(t0, t2); // step 30\n            t2 = Fp.mul(a, t2);\n            t4 = Fp.add(t4, t2);\n            t0 = Fp.mul(t1, t4);\n            Y3 = Fp.add(Y3, t0);\n            t0 = Fp.mul(t5, t4); // step 35\n            X3 = Fp.mul(t3, X3);\n            X3 = Fp.sub(X3, t0);\n            t0 = Fp.mul(t3, t1);\n            Z3 = Fp.mul(t5, Z3);\n            Z3 = Fp.add(Z3, t0); // step 40\n            return new Point(X3, Y3, Z3);\n        }\n        subtract(other) {\n            return this.add(other.negate());\n        }\n        is0() {\n            return this.equals(Point.ZERO);\n        }\n        /**\n         * Constant time multiplication.\n         * Uses wNAF method. Windowed method may be 10% faster,\n         * but takes 2x longer to generate and consumes 2x memory.\n         * Uses precomputes when available.\n         * Uses endomorphism for Koblitz curves.\n         * @param scalar by which the point would be multiplied\n         * @returns New point\n         */\n        multiply(scalar) {\n            const { endo } = extraOpts;\n            if (!Fn.isValidNot0(scalar))\n                throw new Error('invalid scalar: out of range'); // 0 is invalid\n            let point, fake; // Fake point is used to const-time mult\n            const mul = (n) => wnaf.cached(this, n, (p) => (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.normalizeZ)(Point, p));\n            /** See docs for {@link EndomorphismOpts} */\n            if (endo) {\n                const { k1neg, k1, k2neg, k2 } = splitEndoScalarN(scalar);\n                const { p: k1p, f: k1f } = mul(k1);\n                const { p: k2p, f: k2f } = mul(k2);\n                fake = k1f.add(k2f);\n                point = finishEndo(endo.beta, k1p, k2p, k1neg, k2neg);\n            }\n            else {\n                const { p, f } = mul(scalar);\n                point = p;\n                fake = f;\n            }\n            // Normalize `z` for both points, but return only real one\n            return (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.normalizeZ)(Point, [point, fake])[0];\n        }\n        /**\n         * Non-constant-time multiplication. Uses double-and-add algorithm.\n         * It's faster, but should only be used when you don't care about\n         * an exposed secret key e.g. sig verification, which works over *public* keys.\n         */\n        multiplyUnsafe(sc) {\n            const { endo } = extraOpts;\n            const p = this;\n            if (!Fn.isValid(sc))\n                throw new Error('invalid scalar: out of range'); // 0 is valid\n            if (sc === _0n || p.is0())\n                return Point.ZERO;\n            if (sc === _1n)\n                return p; // fast-path\n            if (wnaf.hasCache(this))\n                return this.multiply(sc);\n            if (endo) {\n                const { k1neg, k1, k2neg, k2 } = splitEndoScalarN(sc);\n                const { p1, p2 } = (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.mulEndoUnsafe)(Point, p, k1, k2); // 30% faster vs wnaf.unsafe\n                return finishEndo(endo.beta, p1, p2, k1neg, k2neg);\n            }\n            else {\n                return wnaf.unsafe(p, sc);\n            }\n        }\n        multiplyAndAddUnsafe(Q, a, b) {\n            const sum = this.multiplyUnsafe(a).add(Q.multiplyUnsafe(b));\n            return sum.is0() ? undefined : sum;\n        }\n        /**\n         * Converts Projective point to affine (x, y) coordinates.\n         * @param invertedZ Z^-1 (inverted zero) - optional, precomputation is useful for invertBatch\n         */\n        toAffine(invertedZ) {\n            return toAffineMemo(this, invertedZ);\n        }\n        /**\n         * Checks whether Point is free of torsion elements (is in prime subgroup).\n         * Always torsion-free for cofactor=1 curves.\n         */\n        isTorsionFree() {\n            const { isTorsionFree } = extraOpts;\n            if (cofactor === _1n)\n                return true;\n            if (isTorsionFree)\n                return isTorsionFree(Point, this);\n            return wnaf.unsafe(this, CURVE_ORDER).is0();\n        }\n        clearCofactor() {\n            const { clearCofactor } = extraOpts;\n            if (cofactor === _1n)\n                return this; // Fast-path\n            if (clearCofactor)\n                return clearCofactor(Point, this);\n            return this.multiplyUnsafe(cofactor);\n        }\n        isSmallOrder() {\n            // can we use this.clearCofactor()?\n            return this.multiplyUnsafe(cofactor).is0();\n        }\n        toBytes(isCompressed = true) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abool2)(isCompressed, 'isCompressed');\n            this.assertValidity();\n            return encodePoint(Point, this, isCompressed);\n        }\n        toHex(isCompressed = true) {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.bytesToHex)(this.toBytes(isCompressed));\n        }\n        toString() {\n            return `<Point ${this.is0() ? 'ZERO' : this.toHex()}>`;\n        }\n        // TODO: remove\n        get px() {\n            return this.X;\n        }\n        get py() {\n            return this.X;\n        }\n        get pz() {\n            return this.Z;\n        }\n        toRawBytes(isCompressed = true) {\n            return this.toBytes(isCompressed);\n        }\n        _setWindowSize(windowSize) {\n            this.precompute(windowSize);\n        }\n        static normalizeZ(points) {\n            return (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.normalizeZ)(Point, points);\n        }\n        static msm(points, scalars) {\n            return (0,_curve_js__WEBPACK_IMPORTED_MODULE_1__.pippenger)(Point, Fn, points, scalars);\n        }\n        static fromPrivateKey(privateKey) {\n            return Point.BASE.multiply(_normFnElement(Fn, privateKey));\n        }\n    }\n    // base / generator point\n    Point.BASE = new Point(CURVE.Gx, CURVE.Gy, Fp.ONE);\n    // zero / infinity / identity point\n    Point.ZERO = new Point(Fp.ZERO, Fp.ONE, Fp.ZERO); // 0, 1, 0\n    // math field\n    Point.Fp = Fp;\n    // scalar field\n    Point.Fn = Fn;\n    const bits = Fn.BITS;\n    const wnaf = new _curve_js__WEBPACK_IMPORTED_MODULE_1__.wNAF(Point, extraOpts.endo ? Math.ceil(bits / 2) : bits);\n    Point.BASE.precompute(8); // Enable precomputes. Slows down first publicKey computation by 20ms.\n    return Point;\n}\n// Points start with byte 0x02 when y is even; otherwise 0x03\nfunction pprefix(hasEvenY) {\n    return Uint8Array.of(hasEvenY ? 0x02 : 0x03);\n}\n/**\n * Implementation of the Shallue and van de Woestijne method for any weierstrass curve.\n * TODO: check if there is a way to merge this with uvRatio in Edwards; move to modular.\n * b = True and y = sqrt(u / v) if (u / v) is square in F, and\n * b = False and y = sqrt(Z * (u / v)) otherwise.\n * @param Fp\n * @param Z\n * @returns\n */\nfunction SWUFpSqrtRatio(Fp, Z) {\n    // Generic implementation\n    const q = Fp.ORDER;\n    let l = _0n;\n    for (let o = q - _1n; o % _2n === _0n; o /= _2n)\n        l += _1n;\n    const c1 = l; // 1. c1, the largest integer such that 2^c1 divides q - 1.\n    // We need 2n ** c1 and 2n ** (c1-1). We can't use **; but we can use <<.\n    // 2n ** c1 == 2n << (c1-1)\n    const _2n_pow_c1_1 = _2n << (c1 - _1n - _1n);\n    const _2n_pow_c1 = _2n_pow_c1_1 * _2n;\n    const c2 = (q - _1n) / _2n_pow_c1; // 2. c2 = (q - 1) / (2^c1)  # Integer arithmetic\n    const c3 = (c2 - _1n) / _2n; // 3. c3 = (c2 - 1) / 2            # Integer arithmetic\n    const c4 = _2n_pow_c1 - _1n; // 4. c4 = 2^c1 - 1                # Integer arithmetic\n    const c5 = _2n_pow_c1_1; // 5. c5 = 2^(c1 - 1)                  # Integer arithmetic\n    const c6 = Fp.pow(Z, c2); // 6. c6 = Z^c2\n    const c7 = Fp.pow(Z, (c2 + _1n) / _2n); // 7. c7 = Z^((c2 + 1) / 2)\n    let sqrtRatio = (u, v) => {\n        let tv1 = c6; // 1. tv1 = c6\n        let tv2 = Fp.pow(v, c4); // 2. tv2 = v^c4\n        let tv3 = Fp.sqr(tv2); // 3. tv3 = tv2^2\n        tv3 = Fp.mul(tv3, v); // 4. tv3 = tv3 * v\n        let tv5 = Fp.mul(u, tv3); // 5. tv5 = u * tv3\n        tv5 = Fp.pow(tv5, c3); // 6. tv5 = tv5^c3\n        tv5 = Fp.mul(tv5, tv2); // 7. tv5 = tv5 * tv2\n        tv2 = Fp.mul(tv5, v); // 8. tv2 = tv5 * v\n        tv3 = Fp.mul(tv5, u); // 9. tv3 = tv5 * u\n        let tv4 = Fp.mul(tv3, tv2); // 10. tv4 = tv3 * tv2\n        tv5 = Fp.pow(tv4, c5); // 11. tv5 = tv4^c5\n        let isQR = Fp.eql(tv5, Fp.ONE); // 12. isQR = tv5 == 1\n        tv2 = Fp.mul(tv3, c7); // 13. tv2 = tv3 * c7\n        tv5 = Fp.mul(tv4, tv1); // 14. tv5 = tv4 * tv1\n        tv3 = Fp.cmov(tv2, tv3, isQR); // 15. tv3 = CMOV(tv2, tv3, isQR)\n        tv4 = Fp.cmov(tv5, tv4, isQR); // 16. tv4 = CMOV(tv5, tv4, isQR)\n        // 17. for i in (c1, c1 - 1, ..., 2):\n        for (let i = c1; i > _1n; i--) {\n            let tv5 = i - _2n; // 18.    tv5 = i - 2\n            tv5 = _2n << (tv5 - _1n); // 19.    tv5 = 2^tv5\n            let tvv5 = Fp.pow(tv4, tv5); // 20.    tv5 = tv4^tv5\n            const e1 = Fp.eql(tvv5, Fp.ONE); // 21.    e1 = tv5 == 1\n            tv2 = Fp.mul(tv3, tv1); // 22.    tv2 = tv3 * tv1\n            tv1 = Fp.mul(tv1, tv1); // 23.    tv1 = tv1 * tv1\n            tvv5 = Fp.mul(tv4, tv1); // 24.    tv5 = tv4 * tv1\n            tv3 = Fp.cmov(tv2, tv3, e1); // 25.    tv3 = CMOV(tv2, tv3, e1)\n            tv4 = Fp.cmov(tvv5, tv4, e1); // 26.    tv4 = CMOV(tv5, tv4, e1)\n        }\n        return { isValid: isQR, value: tv3 };\n    };\n    if (Fp.ORDER % _4n === _3n) {\n        // sqrt_ratio_3mod4(u, v)\n        const c1 = (Fp.ORDER - _3n) / _4n; // 1. c1 = (q - 3) / 4     # Integer arithmetic\n        const c2 = Fp.sqrt(Fp.neg(Z)); // 2. c2 = sqrt(-Z)\n        sqrtRatio = (u, v) => {\n            let tv1 = Fp.sqr(v); // 1. tv1 = v^2\n            const tv2 = Fp.mul(u, v); // 2. tv2 = u * v\n            tv1 = Fp.mul(tv1, tv2); // 3. tv1 = tv1 * tv2\n            let y1 = Fp.pow(tv1, c1); // 4. y1 = tv1^c1\n            y1 = Fp.mul(y1, tv2); // 5. y1 = y1 * tv2\n            const y2 = Fp.mul(y1, c2); // 6. y2 = y1 * c2\n            const tv3 = Fp.mul(Fp.sqr(y1), v); // 7. tv3 = y1^2; 8. tv3 = tv3 * v\n            const isQR = Fp.eql(tv3, u); // 9. isQR = tv3 == u\n            let y = Fp.cmov(y2, y1, isQR); // 10. y = CMOV(y2, y1, isQR)\n            return { isValid: isQR, value: y }; // 11. return (isQR, y) isQR ? y : y*c2\n        };\n    }\n    // No curves uses that\n    // if (Fp.ORDER % _8n === _5n) // sqrt_ratio_5mod8\n    return sqrtRatio;\n}\n/**\n * Simplified Shallue-van de Woestijne-Ulas Method\n * https://www.rfc-editor.org/rfc/rfc9380#section-6.6.2\n */\nfunction mapToCurveSimpleSWU(Fp, opts) {\n    (0,_modular_js__WEBPACK_IMPORTED_MODULE_3__.validateField)(Fp);\n    const { A, B, Z } = opts;\n    if (!Fp.isValid(A) || !Fp.isValid(B) || !Fp.isValid(Z))\n        throw new Error('mapToCurveSimpleSWU: invalid opts');\n    const sqrtRatio = SWUFpSqrtRatio(Fp, Z);\n    if (!Fp.isOdd)\n        throw new Error('Field does not have .isOdd()');\n    // Input: u, an element of F.\n    // Output: (x, y), a point on E.\n    return (u) => {\n        // prettier-ignore\n        let tv1, tv2, tv3, tv4, tv5, tv6, x, y;\n        tv1 = Fp.sqr(u); // 1.  tv1 = u^2\n        tv1 = Fp.mul(tv1, Z); // 2.  tv1 = Z * tv1\n        tv2 = Fp.sqr(tv1); // 3.  tv2 = tv1^2\n        tv2 = Fp.add(tv2, tv1); // 4.  tv2 = tv2 + tv1\n        tv3 = Fp.add(tv2, Fp.ONE); // 5.  tv3 = tv2 + 1\n        tv3 = Fp.mul(tv3, B); // 6.  tv3 = B * tv3\n        tv4 = Fp.cmov(Z, Fp.neg(tv2), !Fp.eql(tv2, Fp.ZERO)); // 7.  tv4 = CMOV(Z, -tv2, tv2 != 0)\n        tv4 = Fp.mul(tv4, A); // 8.  tv4 = A * tv4\n        tv2 = Fp.sqr(tv3); // 9.  tv2 = tv3^2\n        tv6 = Fp.sqr(tv4); // 10. tv6 = tv4^2\n        tv5 = Fp.mul(tv6, A); // 11. tv5 = A * tv6\n        tv2 = Fp.add(tv2, tv5); // 12. tv2 = tv2 + tv5\n        tv2 = Fp.mul(tv2, tv3); // 13. tv2 = tv2 * tv3\n        tv6 = Fp.mul(tv6, tv4); // 14. tv6 = tv6 * tv4\n        tv5 = Fp.mul(tv6, B); // 15. tv5 = B * tv6\n        tv2 = Fp.add(tv2, tv5); // 16. tv2 = tv2 + tv5\n        x = Fp.mul(tv1, tv3); // 17.   x = tv1 * tv3\n        const { isValid, value } = sqrtRatio(tv2, tv6); // 18. (is_gx1_square, y1) = sqrt_ratio(tv2, tv6)\n        y = Fp.mul(tv1, u); // 19.   y = tv1 * u  -> Z * u^3 * y1\n        y = Fp.mul(y, value); // 20.   y = y * y1\n        x = Fp.cmov(x, tv3, isValid); // 21.   x = CMOV(x, tv3, is_gx1_square)\n        y = Fp.cmov(y, value, isValid); // 22.   y = CMOV(y, y1, is_gx1_square)\n        const e1 = Fp.isOdd(u) === Fp.isOdd(y); // 23.  e1 = sgn0(u) == sgn0(y)\n        y = Fp.cmov(Fp.neg(y), y, e1); // 24.   y = CMOV(-y, y, e1)\n        const tv4_inv = (0,_modular_js__WEBPACK_IMPORTED_MODULE_3__.FpInvertBatch)(Fp, [tv4], true)[0];\n        x = Fp.mul(x, tv4_inv); // 25.   x = x / tv4\n        return { x, y };\n    };\n}\nfunction getWLengths(Fp, Fn) {\n    return {\n        secretKey: Fn.BYTES,\n        publicKey: 1 + Fp.BYTES,\n        publicKeyUncompressed: 1 + 2 * Fp.BYTES,\n        publicKeyHasPrefix: true,\n        signature: 2 * Fn.BYTES,\n    };\n}\n/**\n * Sometimes users only need getPublicKey, getSharedSecret, and secret key handling.\n * This helper ensures no signature functionality is present. Less code, smaller bundle size.\n */\nfunction ecdh(Point, ecdhOpts = {}) {\n    const { Fn } = Point;\n    const randomBytes_ = ecdhOpts.randomBytes || _utils_js__WEBPACK_IMPORTED_MODULE_2__.randomBytes;\n    const lengths = Object.assign(getWLengths(Point.Fp, Fn), { seed: (0,_modular_js__WEBPACK_IMPORTED_MODULE_3__.getMinHashLength)(Fn.ORDER) });\n    function isValidSecretKey(secretKey) {\n        try {\n            return !!_normFnElement(Fn, secretKey);\n        }\n        catch (error) {\n            return false;\n        }\n    }\n    function isValidPublicKey(publicKey, isCompressed) {\n        const { publicKey: comp, publicKeyUncompressed } = lengths;\n        try {\n            const l = publicKey.length;\n            if (isCompressed === true && l !== comp)\n                return false;\n            if (isCompressed === false && l !== publicKeyUncompressed)\n                return false;\n            return !!Point.fromBytes(publicKey);\n        }\n        catch (error) {\n            return false;\n        }\n    }\n    /**\n     * Produces cryptographically secure secret key from random of size\n     * (groupLen + ceil(groupLen / 2)) with modulo bias being negligible.\n     */\n    function randomSecretKey(seed = randomBytes_(lengths.seed)) {\n        return (0,_modular_js__WEBPACK_IMPORTED_MODULE_3__.mapHashToField)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abytes2)(seed, lengths.seed, 'seed'), Fn.ORDER);\n    }\n    /**\n     * Computes public key for a secret key. Checks for validity of the secret key.\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns Public key, full when isCompressed=false; short when isCompressed=true\n     */\n    function getPublicKey(secretKey, isCompressed = true) {\n        return Point.BASE.multiply(_normFnElement(Fn, secretKey)).toBytes(isCompressed);\n    }\n    function keygen(seed) {\n        const secretKey = randomSecretKey(seed);\n        return { secretKey, publicKey: getPublicKey(secretKey) };\n    }\n    /**\n     * Quick and dirty check for item being public key. Does not validate hex, or being on-curve.\n     */\n    function isProbPub(item) {\n        if (typeof item === 'bigint')\n            return false;\n        if (item instanceof Point)\n            return true;\n        const { secretKey, publicKey, publicKeyUncompressed } = lengths;\n        if (Fn.allowedLengths || secretKey === publicKey)\n            return undefined;\n        const l = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('key', item).length;\n        return l === publicKey || l === publicKeyUncompressed;\n    }\n    /**\n     * ECDH (Elliptic Curve Diffie Hellman).\n     * Computes shared public key from secret key A and public key B.\n     * Checks: 1) secret key validity 2) shared key is on-curve.\n     * Does NOT hash the result.\n     * @param isCompressed whether to return compact (default), or full key\n     * @returns shared public key\n     */\n    function getSharedSecret(secretKeyA, publicKeyB, isCompressed = true) {\n        if (isProbPub(secretKeyA) === true)\n            throw new Error('first arg must be private key');\n        if (isProbPub(publicKeyB) === false)\n            throw new Error('second arg must be public key');\n        const s = _normFnElement(Fn, secretKeyA);\n        const b = Point.fromHex(publicKeyB); // checks for being on-curve\n        return b.multiply(s).toBytes(isCompressed);\n    }\n    const utils = {\n        isValidSecretKey,\n        isValidPublicKey,\n        randomSecretKey,\n        // TODO: remove\n        isValidPrivateKey: isValidSecretKey,\n        randomPrivateKey: randomSecretKey,\n        normPrivateKeyToScalar: (key) => _normFnElement(Fn, key),\n        precompute(windowSize = 8, point = Point.BASE) {\n            return point.precompute(windowSize, false);\n        },\n    };\n    return Object.freeze({ getPublicKey, getSharedSecret, keygen, Point, utils, lengths });\n}\n/**\n * Creates ECDSA signing interface for given elliptic curve `Point` and `hash` function.\n * We need `hash` for 2 features:\n * 1. Message prehash-ing. NOT used if `sign` / `verify` are called with `prehash: false`\n * 2. k generation in `sign`, using HMAC-drbg(hash)\n *\n * ECDSAOpts are only rarely needed.\n *\n * @example\n * ```js\n * const p256_Point = weierstrass(...);\n * const p256_sha256 = ecdsa(p256_Point, sha256);\n * const p256_sha224 = ecdsa(p256_Point, sha224);\n * const p256_sha224_r = ecdsa(p256_Point, sha224, { randomBytes: (length) => { ... } });\n * ```\n */\nfunction ecdsa(Point, hash, ecdsaOpts = {}) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.ahash)(hash);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._validateObject)(ecdsaOpts, {}, {\n        hmac: 'function',\n        lowS: 'boolean',\n        randomBytes: 'function',\n        bits2int: 'function',\n        bits2int_modN: 'function',\n    });\n    const randomBytes = ecdsaOpts.randomBytes || _utils_js__WEBPACK_IMPORTED_MODULE_2__.randomBytes;\n    const hmac = ecdsaOpts.hmac ||\n        ((key, ...msgs) => (0,_noble_hashes_hmac_js__WEBPACK_IMPORTED_MODULE_4__.hmac)(hash, key, (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)(...msgs)));\n    const { Fp, Fn } = Point;\n    const { ORDER: CURVE_ORDER, BITS: fnBits } = Fn;\n    const { keygen, getPublicKey, getSharedSecret, utils, lengths } = ecdh(Point, ecdsaOpts);\n    const defaultSigOpts = {\n        prehash: false,\n        lowS: typeof ecdsaOpts.lowS === 'boolean' ? ecdsaOpts.lowS : false,\n        format: undefined, //'compact' as ECDSASigFormat,\n        extraEntropy: false,\n    };\n    const defaultSigOpts_format = 'compact';\n    function isBiggerThanHalfOrder(number) {\n        const HALF = CURVE_ORDER >> _1n;\n        return number > HALF;\n    }\n    function validateRS(title, num) {\n        if (!Fn.isValidNot0(num))\n            throw new Error(`invalid signature ${title}: out of range 1..Point.Fn.ORDER`);\n        return num;\n    }\n    function validateSigLength(bytes, format) {\n        validateSigFormat(format);\n        const size = lengths.signature;\n        const sizer = format === 'compact' ? size : format === 'recovered' ? size + 1 : undefined;\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abytes2)(bytes, sizer, `${format} signature`);\n    }\n    /**\n     * ECDSA signature with its (r, s) properties. Supports compact, recovered & DER representations.\n     */\n    class Signature {\n        constructor(r, s, recovery) {\n            this.r = validateRS('r', r); // r in [1..N-1];\n            this.s = validateRS('s', s); // s in [1..N-1];\n            if (recovery != null)\n                this.recovery = recovery;\n            Object.freeze(this);\n        }\n        static fromBytes(bytes, format = defaultSigOpts_format) {\n            validateSigLength(bytes, format);\n            let recid;\n            if (format === 'der') {\n                const { r, s } = DER.toSig((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abytes2)(bytes));\n                return new Signature(r, s);\n            }\n            if (format === 'recovered') {\n                recid = bytes[0];\n                format = 'compact';\n                bytes = bytes.subarray(1);\n            }\n            const L = Fn.BYTES;\n            const r = bytes.subarray(0, L);\n            const s = bytes.subarray(L, L * 2);\n            return new Signature(Fn.fromBytes(r), Fn.fromBytes(s), recid);\n        }\n        static fromHex(hex, format) {\n            return this.fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex), format);\n        }\n        addRecoveryBit(recovery) {\n            return new Signature(this.r, this.s, recovery);\n        }\n        recoverPublicKey(messageHash) {\n            const FIELD_ORDER = Fp.ORDER;\n            const { r, s, recovery: rec } = this;\n            if (rec == null || ![0, 1, 2, 3].includes(rec))\n                throw new Error('recovery id invalid');\n            // ECDSA recovery is hard for cofactor > 1 curves.\n            // In sign, `r = q.x mod n`, and here we recover q.x from r.\n            // While recovering q.x >= n, we need to add r+n for cofactor=1 curves.\n            // However, for cofactor>1, r+n may not get q.x:\n            // r+n*i would need to be done instead where i is unknown.\n            // To easily get i, we either need to:\n            // a. increase amount of valid recid values (4, 5...); OR\n            // b. prohibit non-prime-order signatures (recid > 1).\n            const hasCofactor = CURVE_ORDER * _2n < FIELD_ORDER;\n            if (hasCofactor && rec > 1)\n                throw new Error('recovery id is ambiguous for h>1 curve');\n            const radj = rec === 2 || rec === 3 ? r + CURVE_ORDER : r;\n            if (!Fp.isValid(radj))\n                throw new Error('recovery id 2 or 3 invalid');\n            const x = Fp.toBytes(radj);\n            const R = Point.fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)(pprefix((rec & 1) === 0), x));\n            const ir = Fn.inv(radj); // r^-1\n            const h = bits2int_modN((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('msgHash', messageHash)); // Truncate hash\n            const u1 = Fn.create(-h * ir); // -hr^-1\n            const u2 = Fn.create(s * ir); // sr^-1\n            // (sr^-1)R-(hr^-1)G = -(hr^-1)G + (sr^-1). unsafe is fine: there is no private data.\n            const Q = Point.BASE.multiplyUnsafe(u1).add(R.multiplyUnsafe(u2));\n            if (Q.is0())\n                throw new Error('point at infinify');\n            Q.assertValidity();\n            return Q;\n        }\n        // Signatures should be low-s, to prevent malleability.\n        hasHighS() {\n            return isBiggerThanHalfOrder(this.s);\n        }\n        toBytes(format = defaultSigOpts_format) {\n            validateSigFormat(format);\n            if (format === 'der')\n                return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(DER.hexFromSig(this));\n            const r = Fn.toBytes(this.r);\n            const s = Fn.toBytes(this.s);\n            if (format === 'recovered') {\n                if (this.recovery == null)\n                    throw new Error('recovery bit must be present');\n                return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)(Uint8Array.of(this.recovery), r, s);\n            }\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)(r, s);\n        }\n        toHex(format) {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.bytesToHex)(this.toBytes(format));\n        }\n        // TODO: remove\n        assertValidity() { }\n        static fromCompact(hex) {\n            return Signature.fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('sig', hex), 'compact');\n        }\n        static fromDER(hex) {\n            return Signature.fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('sig', hex), 'der');\n        }\n        normalizeS() {\n            return this.hasHighS() ? new Signature(this.r, Fn.neg(this.s), this.recovery) : this;\n        }\n        toDERRawBytes() {\n            return this.toBytes('der');\n        }\n        toDERHex() {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.bytesToHex)(this.toBytes('der'));\n        }\n        toCompactRawBytes() {\n            return this.toBytes('compact');\n        }\n        toCompactHex() {\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.bytesToHex)(this.toBytes('compact'));\n        }\n    }\n    // RFC6979: ensure ECDSA msg is X bytes and < N. RFC suggests optional truncating via bits2octets.\n    // FIPS 186-4 4.6 suggests the leftmost min(nBitLen, outLen) bits, which matches bits2int.\n    // bits2int can produce res>N, we can do mod(res, N) since the bitLen is the same.\n    // int2octets can't be used; pads small msgs with 0: unacceptatble for trunc as per RFC vectors\n    const bits2int = ecdsaOpts.bits2int ||\n        function bits2int_def(bytes) {\n            // Our custom check \"just in case\", for protection against DoS\n            if (bytes.length > 8192)\n                throw new Error('input is too large');\n            // For curves with nBitLength % 8 !== 0: bits2octets(bits2octets(m)) !== bits2octets(m)\n            // for some cases, since bytes.length * 8 is not actual bitLength.\n            const num = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToNumberBE)(bytes); // check for == u8 done here\n            const delta = bytes.length * 8 - fnBits; // truncate to nBitLength leftmost bits\n            return delta > 0 ? num >> BigInt(delta) : num;\n        };\n    const bits2int_modN = ecdsaOpts.bits2int_modN ||\n        function bits2int_modN_def(bytes) {\n            return Fn.create(bits2int(bytes)); // can't use bytesToNumberBE here\n        };\n    // Pads output with zero as per spec\n    const ORDER_MASK = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bitMask)(fnBits);\n    /** Converts to bytes. Checks if num in `[0..ORDER_MASK-1]` e.g.: `[0..2^256-1]`. */\n    function int2octets(num) {\n        // IMPORTANT: the check ensures working for case `Fn.BYTES != Fn.BITS * 8`\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.aInRange)('num < 2^' + fnBits, num, _0n, ORDER_MASK);\n        return Fn.toBytes(num);\n    }\n    function validateMsgAndHash(message, prehash) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abytes2)(message, undefined, 'message');\n        return prehash ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._abytes2)(hash(message), undefined, 'prehashed message') : message;\n    }\n    /**\n     * Steps A, D of RFC6979 3.2.\n     * Creates RFC6979 seed; converts msg/privKey to numbers.\n     * Used only in sign, not in verify.\n     *\n     * Warning: we cannot assume here that message has same amount of bytes as curve order,\n     * this will be invalid at least for P521. Also it can be bigger for P224 + SHA256.\n     */\n    function prepSig(message, privateKey, opts) {\n        if (['recovered', 'canonical'].some((k) => k in opts))\n            throw new Error('sign() legacy options not supported');\n        const { lowS, prehash, extraEntropy } = validateSigOpts(opts, defaultSigOpts);\n        message = validateMsgAndHash(message, prehash); // RFC6979 3.2 A: h1 = H(m)\n        // We can't later call bits2octets, since nested bits2int is broken for curves\n        // with fnBits % 8 !== 0. Because of that, we unwrap it here as int2octets call.\n        // const bits2octets = (bits) => int2octets(bits2int_modN(bits))\n        const h1int = bits2int_modN(message);\n        const d = _normFnElement(Fn, privateKey); // validate secret key, convert to bigint\n        const seedArgs = [int2octets(d), int2octets(h1int)];\n        // extraEntropy. RFC6979 3.6: additional k' (optional).\n        if (extraEntropy != null && extraEntropy !== false) {\n            // K = HMAC_K(V || 0x00 || int2octets(x) || bits2octets(h1) || k')\n            // gen random bytes OR pass as-is\n            const e = extraEntropy === true ? randomBytes(lengths.secretKey) : extraEntropy;\n            seedArgs.push((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('extraEntropy', e)); // check for being bytes\n        }\n        const seed = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.concatBytes)(...seedArgs); // Step D of RFC6979 3.2\n        const m = h1int; // NOTE: no need to call bits2int second time here, it is inside truncateHash!\n        // Converts signature params into point w r/s, checks result for validity.\n        // To transform k => Signature:\n        // q = kG\n        // r = q.x mod n\n        // s = k^-1(m + rd) mod n\n        // Can use scalar blinding b^-1(bm + bdr) where b  [1,q1] according to\n        // https://tches.iacr.org/index.php/TCHES/article/view/7337/6509. We've decided against it:\n        // a) dependency on CSPRNG b) 15% slowdown c) doesn't really help since bigints are not CT\n        function k2sig(kBytes) {\n            // RFC 6979 Section 3.2, step 3: k = bits2int(T)\n            // Important: all mod() calls here must be done over N\n            const k = bits2int(kBytes); // mod n, not mod p\n            if (!Fn.isValidNot0(k))\n                return; // Valid scalars (including k) must be in 1..N-1\n            const ik = Fn.inv(k); // k^-1 mod n\n            const q = Point.BASE.multiply(k).toAffine(); // q = kG\n            const r = Fn.create(q.x); // r = q.x mod n\n            if (r === _0n)\n                return;\n            const s = Fn.create(ik * Fn.create(m + r * d)); // Not using blinding here, see comment above\n            if (s === _0n)\n                return;\n            let recovery = (q.x === r ? 0 : 2) | Number(q.y & _1n); // recovery bit (2 or 3, when q.x > n)\n            let normS = s;\n            if (lowS && isBiggerThanHalfOrder(s)) {\n                normS = Fn.neg(s); // if lowS was passed, ensure s is always\n                recovery ^= 1; // // in the bottom half of N\n            }\n            return new Signature(r, normS, recovery); // use normS, not s\n        }\n        return { seed, k2sig };\n    }\n    /**\n     * Signs message hash with a secret key.\n     *\n     * ```\n     * sign(m, d) where\n     *   k = rfc6979_hmac_drbg(m, d)\n     *   (x, y) = G  k\n     *   r = x mod n\n     *   s = (m + dr) / k mod n\n     * ```\n     */\n    function sign(message, secretKey, opts = {}) {\n        message = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('message', message);\n        const { seed, k2sig } = prepSig(message, secretKey, opts); // Steps A, D of RFC6979 3.2.\n        const drbg = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createHmacDrbg)(hash.outputLen, Fn.BYTES, hmac);\n        const sig = drbg(seed, k2sig); // Steps B, C, D, E, F, G\n        return sig;\n    }\n    function tryParsingSig(sg) {\n        // Try to deduce format\n        let sig = undefined;\n        const isHex = typeof sg === 'string' || (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isBytes)(sg);\n        const isObj = !isHex &&\n            sg !== null &&\n            typeof sg === 'object' &&\n            typeof sg.r === 'bigint' &&\n            typeof sg.s === 'bigint';\n        if (!isHex && !isObj)\n            throw new Error('invalid signature, expected Uint8Array, hex string or Signature instance');\n        if (isObj) {\n            sig = new Signature(sg.r, sg.s);\n        }\n        else if (isHex) {\n            try {\n                sig = Signature.fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('sig', sg), 'der');\n            }\n            catch (derError) {\n                if (!(derError instanceof DER.Err))\n                    throw derError;\n            }\n            if (!sig) {\n                try {\n                    sig = Signature.fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('sig', sg), 'compact');\n                }\n                catch (error) {\n                    return false;\n                }\n            }\n        }\n        if (!sig)\n            return false;\n        return sig;\n    }\n    /**\n     * Verifies a signature against message and public key.\n     * Rejects lowS signatures by default: see {@link ECDSAVerifyOpts}.\n     * Implements section 4.1.4 from https://www.secg.org/sec1-v2.pdf:\n     *\n     * ```\n     * verify(r, s, h, P) where\n     *   u1 = hs^-1 mod n\n     *   u2 = rs^-1 mod n\n     *   R = u1G + u2P\n     *   mod(R.x, n) == r\n     * ```\n     */\n    function verify(signature, message, publicKey, opts = {}) {\n        const { lowS, prehash, format } = validateSigOpts(opts, defaultSigOpts);\n        publicKey = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('publicKey', publicKey);\n        message = validateMsgAndHash((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('message', message), prehash);\n        if ('strict' in opts)\n            throw new Error('options.strict was renamed to lowS');\n        const sig = format === undefined\n            ? tryParsingSig(signature)\n            : Signature.fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.ensureBytes)('sig', signature), format);\n        if (sig === false)\n            return false;\n        try {\n            const P = Point.fromBytes(publicKey);\n            if (lowS && sig.hasHighS())\n                return false;\n            const { r, s } = sig;\n            const h = bits2int_modN(message); // mod n, not mod p\n            const is = Fn.inv(s); // s^-1 mod n\n            const u1 = Fn.create(h * is); // u1 = hs^-1 mod n\n            const u2 = Fn.create(r * is); // u2 = rs^-1 mod n\n            const R = Point.BASE.multiplyUnsafe(u1).add(P.multiplyUnsafe(u2)); // u1G + u2P\n            if (R.is0())\n                return false;\n            const v = Fn.create(R.x); // v = r.x mod n\n            return v === r;\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    function recoverPublicKey(signature, message, opts = {}) {\n        const { prehash } = validateSigOpts(opts, defaultSigOpts);\n        message = validateMsgAndHash(message, prehash);\n        return Signature.fromBytes(signature, 'recovered').recoverPublicKey(message).toBytes();\n    }\n    return Object.freeze({\n        keygen,\n        getPublicKey,\n        getSharedSecret,\n        utils,\n        lengths,\n        Point,\n        sign,\n        verify,\n        recoverPublicKey,\n        Signature,\n        hash,\n    });\n}\n/** @deprecated use `weierstrass` in newer releases */\nfunction weierstrassPoints(c) {\n    const { CURVE, curveOpts } = _weierstrass_legacy_opts_to_new(c);\n    const Point = weierstrassN(CURVE, curveOpts);\n    return _weierstrass_new_output_to_legacy(c, Point);\n}\nfunction _weierstrass_legacy_opts_to_new(c) {\n    const CURVE = {\n        a: c.a,\n        b: c.b,\n        p: c.Fp.ORDER,\n        n: c.n,\n        h: c.h,\n        Gx: c.Gx,\n        Gy: c.Gy,\n    };\n    const Fp = c.Fp;\n    let allowedLengths = c.allowedPrivateKeyLengths\n        ? Array.from(new Set(c.allowedPrivateKeyLengths.map((l) => Math.ceil(l / 2))))\n        : undefined;\n    const Fn = (0,_modular_js__WEBPACK_IMPORTED_MODULE_3__.Field)(CURVE.n, {\n        BITS: c.nBitLength,\n        allowedLengths: allowedLengths,\n        modFromBytes: c.wrapPrivateKey,\n    });\n    const curveOpts = {\n        Fp,\n        Fn,\n        allowInfinityPoint: c.allowInfinityPoint,\n        endo: c.endo,\n        isTorsionFree: c.isTorsionFree,\n        clearCofactor: c.clearCofactor,\n        fromBytes: c.fromBytes,\n        toBytes: c.toBytes,\n    };\n    return { CURVE, curveOpts };\n}\nfunction _ecdsa_legacy_opts_to_new(c) {\n    const { CURVE, curveOpts } = _weierstrass_legacy_opts_to_new(c);\n    const ecdsaOpts = {\n        hmac: c.hmac,\n        randomBytes: c.randomBytes,\n        lowS: c.lowS,\n        bits2int: c.bits2int,\n        bits2int_modN: c.bits2int_modN,\n    };\n    return { CURVE, curveOpts, hash: c.hash, ecdsaOpts };\n}\nfunction _legacyHelperEquat(Fp, a, b) {\n    /**\n     * y = x + ax + b: Short weierstrass curve formula. Takes x, returns y.\n     * @returns y\n     */\n    function weierstrassEquation(x) {\n        const x2 = Fp.sqr(x); // x * x\n        const x3 = Fp.mul(x2, x); // x * x\n        return Fp.add(Fp.add(x3, Fp.mul(x, a)), b); // x + a * x + b\n    }\n    return weierstrassEquation;\n}\nfunction _weierstrass_new_output_to_legacy(c, Point) {\n    const { Fp, Fn } = Point;\n    function isWithinCurveOrder(num) {\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.inRange)(num, _1n, Fn.ORDER);\n    }\n    const weierstrassEquation = _legacyHelperEquat(Fp, c.a, c.b);\n    return Object.assign({}, {\n        CURVE: c,\n        Point: Point,\n        ProjectivePoint: Point,\n        normPrivateKeyToScalar: (key) => _normFnElement(Fn, key),\n        weierstrassEquation,\n        isWithinCurveOrder,\n    });\n}\nfunction _ecdsa_new_output_to_legacy(c, _ecdsa) {\n    const Point = _ecdsa.Point;\n    return Object.assign({}, _ecdsa, {\n        ProjectivePoint: Point,\n        CURVE: Object.assign({}, c, (0,_modular_js__WEBPACK_IMPORTED_MODULE_3__.nLength)(Point.Fn.ORDER, Point.Fn.BITS)),\n    });\n}\n// _ecdsa_legacy\nfunction weierstrass(c) {\n    const { CURVE, curveOpts, hash, ecdsaOpts } = _ecdsa_legacy_opts_to_new(c);\n    const Point = weierstrassN(CURVE, curveOpts);\n    const signs = ecdsa(Point, hash, ecdsaOpts);\n    return _ecdsa_new_output_to_legacy(c, signs);\n}\n//# sourceMappingURL=weierstrass.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9hYnN0cmFjdC93ZWllcnN0cmFzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMwRDtBQUNkO0FBQ3VPO0FBQzVLO0FBQ1E7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtEQUFPLFdBQVcsaURBQU0saUJBQWlCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGtEQUFLO0FBQ1QsSUFBSSxrREFBSztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4REFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDhEQUFtQjtBQUM5RCxzQkFBc0IsOERBQW1CO0FBQ3pDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNB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QStFO0FBQy9FO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNELGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCxZQUFZLG1CQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrREFBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLGtDQUFrQztBQUNsQyxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQSxlQUFlLGtEQUFPO0FBQ3RCO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLCtCQUErQixLQUFLLG9EQUFPO0FBQzNDLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCxZQUFZLG9DQUFvQztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL2Fic3RyYWN0L3dlaWVyc3RyYXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2hvcnQgV2VpZXJzdHJhc3MgY3VydmUgbWV0aG9kcy4gVGhlIGZvcm11bGEgaXM6IHnCsiA9IHjCsyArIGF4ICsgYi5cbiAqXG4gKiAjIyMgRGVzaWduIHJhdGlvbmFsZSBmb3IgdHlwZXNcbiAqXG4gKiAqIEludGVyYWN0aW9uIGJldHdlZW4gY2xhc3NlcyBmcm9tIGRpZmZlcmVudCBjdXJ2ZXMgc2hvdWxkIGZhaWw6XG4gKiAgIGBrMjU2LlBvaW50LkJBU0UuYWRkKHAyNTYuUG9pbnQuQkFTRSlgXG4gKiAqIEZvciB0aGlzIHB1cnBvc2Ugd2Ugd2FudCB0byB1c2UgYGluc3RhbmNlb2ZgIG9wZXJhdG9yLCB3aGljaCBpcyBmYXN0IGFuZCB3b3JrcyBkdXJpbmcgcnVudGltZVxuICogKiBEaWZmZXJlbnQgY2FsbHMgb2YgYGN1cnZlKClgIHdvdWxkIHJldHVybiBkaWZmZXJlbnQgY2xhc3NlcyAtXG4gKiAgIGBjdXJ2ZShwYXJhbXMpICE9PSBjdXJ2ZShwYXJhbXMpYDogaWYgc29tZWJvZHkgZGVjaWRlZCB0byBtb25rZXktcGF0Y2ggdGhlaXIgY3VydmUsXG4gKiAgIGl0IHdvbid0IGFmZmVjdCBvdGhlcnNcbiAqXG4gKiBUeXBlU2NyaXB0IGNhbid0IGluZmVyIHR5cGVzIGZvciBjbGFzc2VzIGNyZWF0ZWQgaW5zaWRlIGEgZnVuY3Rpb24uIENsYXNzZXMgaXMgb25lIGluc3RhbmNlXG4gKiBvZiBub21pbmF0aXZlIHR5cGVzIGluIFR5cGVTY3JpcHQgYW5kIGludGVyZmFjZXMgb25seSBjaGVjayBmb3Igc2hhcGUsIHNvIGl0J3MgaGFyZCB0byBjcmVhdGVcbiAqIHVuaXF1ZSB0eXBlIGZvciBldmVyeSBmdW5jdGlvbiBjYWxsLlxuICpcbiAqIFdlIGNhbiB1c2UgZ2VuZXJpYyB0eXBlcyB2aWEgc29tZSBwYXJhbSwgbGlrZSBjdXJ2ZSBvcHRzLCBidXQgdGhhdCB3b3VsZDpcbiAqICAgICAxLiBFbmFibGUgaW50ZXJhY3Rpb24gYmV0d2VlbiBgY3VydmUocGFyYW1zKWAgYW5kIGBjdXJ2ZShwYXJhbXMpYCAoY3VydmVzIG9mIHNhbWUgcGFyYW1zKVxuICogICAgIHdoaWNoIGlzIGhhcmQgdG8gZGVidWcuXG4gKiAgICAgMi4gUGFyYW1zIGNhbiBiZSBnZW5lcmljIGFuZCB3ZSBjYW4ndCBlbmZvcmNlIHRoZW0gdG8gYmUgY29uc3RhbnQgdmFsdWU6XG4gKiAgICAgaWYgc29tZWJvZHkgY3JlYXRlcyBjdXJ2ZSBmcm9tIG5vbi1jb25zdGFudCBwYXJhbXMsXG4gKiAgICAgaXQgd291bGQgYmUgYWxsb3dlZCB0byBpbnRlcmFjdCB3aXRoIG90aGVyIGN1cnZlcyB3aXRoIG5vbi1jb25zdGFudCBwYXJhbXNcbiAqXG4gKiBAdG9kbyBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9yZWxlYXNlLW5vdGVzL3R5cGVzY3JpcHQtMi03Lmh0bWwjdW5pcXVlLXN5bWJvbFxuICogQG1vZHVsZVxuICovXG4vKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovXG5pbXBvcnQgeyBobWFjIGFzIG5vYmxlSG1hYyB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvaG1hYy5qcyc7XG5pbXBvcnQgeyBhaGFzaCB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvdXRpbHMnO1xuaW1wb3J0IHsgX3ZhbGlkYXRlT2JqZWN0LCBfYWJvb2wyIGFzIGFib29sLCBfYWJ5dGVzMiBhcyBhYnl0ZXMsIGFJblJhbmdlLCBiaXRMZW4sIGJpdE1hc2ssIGJ5dGVzVG9IZXgsIGJ5dGVzVG9OdW1iZXJCRSwgY29uY2F0Qnl0ZXMsIGNyZWF0ZUhtYWNEcmJnLCBlbnN1cmVCeXRlcywgaGV4VG9CeXRlcywgaW5SYW5nZSwgaXNCeXRlcywgbWVtb2l6ZWQsIG51bWJlclRvSGV4VW5wYWRkZWQsIHJhbmRvbUJ5dGVzIGFzIHJhbmRvbUJ5dGVzV2ViLCB9IGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgX2NyZWF0ZUN1cnZlRmllbGRzLCBtdWxFbmRvVW5zYWZlLCBuZWdhdGVDdCwgbm9ybWFsaXplWiwgcGlwcGVuZ2VyLCB3TkFGLCB9IGZyb20gXCIuL2N1cnZlLmpzXCI7XG5pbXBvcnQgeyBGaWVsZCwgRnBJbnZlcnRCYXRjaCwgZ2V0TWluSGFzaExlbmd0aCwgbWFwSGFzaFRvRmllbGQsIG5MZW5ndGgsIHZhbGlkYXRlRmllbGQsIH0gZnJvbSBcIi4vbW9kdWxhci5qc1wiO1xuLy8gV2UgY29uc3RydWN0IGJhc2lzIGluIHN1Y2ggd2F5IHRoYXQgZGVuIGlzIGFsd2F5cyBwb3NpdGl2ZSBhbmQgZXF1YWxzIG4sIGJ1dCBudW0gc2lnbiBkZXBlbmRzIG9uIGJhc2lzIChub3Qgb24gc2VjcmV0IHZhbHVlKVxuY29uc3QgZGl2TmVhcmVzdCA9IChudW0sIGRlbikgPT4gKG51bSArIChudW0gPj0gMCA/IGRlbiA6IC1kZW4pIC8gXzJuKSAvIGRlbjtcbi8qKlxuICogU3BsaXRzIHNjYWxhciBmb3IgR0xWIGVuZG9tb3JwaGlzbS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9zcGxpdEVuZG9TY2FsYXIoaywgYmFzaXMsIG4pIHtcbiAgICAvLyBTcGxpdCBzY2FsYXIgaW50byB0d28gc3VjaCB0aGF0IHBhcnQgaXMgfmhhbGYgYml0czogYGFicyhwYXJ0KSA8IHNxcnQoTilgXG4gICAgLy8gU2luY2UgcGFydCBjYW4gYmUgbmVnYXRpdmUsIHdlIG5lZWQgdG8gZG8gdGhpcyBvbiBwb2ludC5cbiAgICAvLyBUT0RPOiB2ZXJpZnlTY2FsYXIgZnVuY3Rpb24gd2hpY2ggY29uc3VtZXMgbGFtYmRhXG4gICAgY29uc3QgW1thMSwgYjFdLCBbYTIsIGIyXV0gPSBiYXNpcztcbiAgICBjb25zdCBjMSA9IGRpdk5lYXJlc3QoYjIgKiBrLCBuKTtcbiAgICBjb25zdCBjMiA9IGRpdk5lYXJlc3QoLWIxICogaywgbik7XG4gICAgLy8gfGsxfC98azJ8IGlzIDwgc3FydChOKSwgYnV0IGNhbiBiZSBuZWdhdGl2ZS5cbiAgICAvLyBJZiB3ZSBkbyBgazEgbW9kIE5gLCB3ZSdsbCBnZXQgYmlnIHNjYWxhciAoYD4gc3FydChOKWApOiBzbywgd2UgZG8gY2hlYXBlciBuZWdhdGlvbiBpbnN0ZWFkLlxuICAgIGxldCBrMSA9IGsgLSBjMSAqIGExIC0gYzIgKiBhMjtcbiAgICBsZXQgazIgPSAtYzEgKiBiMSAtIGMyICogYjI7XG4gICAgY29uc3QgazFuZWcgPSBrMSA8IF8wbjtcbiAgICBjb25zdCBrMm5lZyA9IGsyIDwgXzBuO1xuICAgIGlmIChrMW5lZylcbiAgICAgICAgazEgPSAtazE7XG4gICAgaWYgKGsybmVnKVxuICAgICAgICBrMiA9IC1rMjtcbiAgICAvLyBEb3VibGUgY2hlY2sgdGhhdCByZXN1bHRpbmcgc2NhbGFyIGxlc3MgdGhhbiBoYWxmIGJpdHMgb2YgTjogb3RoZXJ3aXNlIHdOQUYgd2lsbCBmYWlsLlxuICAgIC8vIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIG9uIHdyb25nIGJhc2lzZXMuIEFsc28sIG1hdGggaW5zaWRlIGlzIHRvbyBjb21wbGV4IGFuZCBJIGRvbid0IHRydXN0IGl0LlxuICAgIGNvbnN0IE1BWF9OVU0gPSBiaXRNYXNrKE1hdGguY2VpbChiaXRMZW4obikgLyAyKSkgKyBfMW47IC8vIEhhbGYgYml0cyBvZiBOXG4gICAgaWYgKGsxIDwgXzBuIHx8IGsxID49IE1BWF9OVU0gfHwgazIgPCBfMG4gfHwgazIgPj0gTUFYX05VTSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NwbGl0U2NhbGFyIChlbmRvbW9ycGhpc20pOiBmYWlsZWQsIGs9JyArIGspO1xuICAgIH1cbiAgICByZXR1cm4geyBrMW5lZywgazEsIGsybmVnLCBrMiB9O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVTaWdGb3JtYXQoZm9ybWF0KSB7XG4gICAgaWYgKCFbJ2NvbXBhY3QnLCAncmVjb3ZlcmVkJywgJ2RlciddLmluY2x1ZGVzKGZvcm1hdCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2lnbmF0dXJlIGZvcm1hdCBtdXN0IGJlIFwiY29tcGFjdFwiLCBcInJlY292ZXJlZFwiLCBvciBcImRlclwiJyk7XG4gICAgcmV0dXJuIGZvcm1hdDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlU2lnT3B0cyhvcHRzLCBkZWYpIHtcbiAgICBjb25zdCBvcHRzbiA9IHt9O1xuICAgIGZvciAobGV0IG9wdE5hbWUgb2YgT2JqZWN0LmtleXMoZGVmKSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG9wdHNuW29wdE5hbWVdID0gb3B0c1tvcHROYW1lXSA9PT0gdW5kZWZpbmVkID8gZGVmW29wdE5hbWVdIDogb3B0c1tvcHROYW1lXTtcbiAgICB9XG4gICAgYWJvb2wob3B0c24ubG93UywgJ2xvd1MnKTtcbiAgICBhYm9vbChvcHRzbi5wcmVoYXNoLCAncHJlaGFzaCcpO1xuICAgIGlmIChvcHRzbi5mb3JtYXQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgdmFsaWRhdGVTaWdGb3JtYXQob3B0c24uZm9ybWF0KTtcbiAgICByZXR1cm4gb3B0c247XG59XG5leHBvcnQgY2xhc3MgREVSRXJyIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG0gPSAnJykge1xuICAgICAgICBzdXBlcihtKTtcbiAgICB9XG59XG4vKipcbiAqIEFTTi4xIERFUiBlbmNvZGluZyB1dGlsaXRpZXMuIEFTTiBpcyB2ZXJ5IGNvbXBsZXggJiBmcmFnaWxlLiBGb3JtYXQ6XG4gKlxuICogICAgIFsweDMwIChTRVFVRU5DRSksIGJ5dGVsZW5ndGgsIDB4MDIgKElOVEVHRVIpLCBpbnRMZW5ndGgsIFIsIDB4MDIgKElOVEVHRVIpLCBpbnRMZW5ndGgsIFNdXG4gKlxuICogRG9jczogaHR0cHM6Ly9sZXRzZW5jcnlwdC5vcmcvZG9jcy9hLXdhcm0td2VsY29tZS10by1hc24xLWFuZC1kZXIvLCBodHRwczovL2x1Y2EubnRvcC5vcmcvVGVhY2hpbmcvQXBwdW50aS9hc24xLmh0bWxcbiAqL1xuZXhwb3J0IGNvbnN0IERFUiA9IHtcbiAgICAvLyBhc24uMSBERVIgZW5jb2RpbmcgdXRpbHNcbiAgICBFcnI6IERFUkVycixcbiAgICAvLyBCYXNpYyBidWlsZGluZyBibG9jayBpcyBUTFYgKFRhZy1MZW5ndGgtVmFsdWUpXG4gICAgX3Rsdjoge1xuICAgICAgICBlbmNvZGU6ICh0YWcsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgRXJyOiBFIH0gPSBERVI7XG4gICAgICAgICAgICBpZiAodGFnIDwgMCB8fCB0YWcgPiAyNTYpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5lbmNvZGU6IHdyb25nIHRhZycpO1xuICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoICYgMSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmVuY29kZTogdW5wYWRkZWQgZGF0YScpO1xuICAgICAgICAgICAgY29uc3QgZGF0YUxlbiA9IGRhdGEubGVuZ3RoIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IG51bWJlclRvSGV4VW5wYWRkZWQoZGF0YUxlbik7XG4gICAgICAgICAgICBpZiAoKGxlbi5sZW5ndGggLyAyKSAmIDEyOClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmVuY29kZTogbG9uZyBmb3JtIGxlbmd0aCB0b28gYmlnJyk7XG4gICAgICAgICAgICAvLyBsZW5ndGggb2YgbGVuZ3RoIHdpdGggbG9uZyBmb3JtIGZsYWdcbiAgICAgICAgICAgIGNvbnN0IGxlbkxlbiA9IGRhdGFMZW4gPiAxMjcgPyBudW1iZXJUb0hleFVucGFkZGVkKChsZW4ubGVuZ3RoIC8gMikgfCAxMjgpIDogJyc7XG4gICAgICAgICAgICBjb25zdCB0ID0gbnVtYmVyVG9IZXhVbnBhZGRlZCh0YWcpO1xuICAgICAgICAgICAgcmV0dXJuIHQgKyBsZW5MZW4gKyBsZW4gKyBkYXRhO1xuICAgICAgICB9LFxuICAgICAgICAvLyB2IC0gdmFsdWUsIGwgLSBsZWZ0IGJ5dGVzICh1bnBhcnNlZClcbiAgICAgICAgZGVjb2RlKHRhZywgZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgeyBFcnI6IEUgfSA9IERFUjtcbiAgICAgICAgICAgIGxldCBwb3MgPSAwO1xuICAgICAgICAgICAgaWYgKHRhZyA8IDAgfHwgdGFnID4gMjU2KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZW5jb2RlOiB3cm9uZyB0YWcnKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA8IDIgfHwgZGF0YVtwb3MrK10gIT09IHRhZylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmRlY29kZTogd3JvbmcgdGx2Jyk7XG4gICAgICAgICAgICBjb25zdCBmaXJzdCA9IGRhdGFbcG9zKytdO1xuICAgICAgICAgICAgY29uc3QgaXNMb25nID0gISEoZmlyc3QgJiAxMjgpOyAvLyBGaXJzdCBiaXQgb2YgZmlyc3QgbGVuZ3RoIGJ5dGUgaXMgZmxhZyBmb3Igc2hvcnQvbG9uZyBmb3JtXG4gICAgICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGlmICghaXNMb25nKVxuICAgICAgICAgICAgICAgIGxlbmd0aCA9IGZpcnN0O1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTG9uZyBmb3JtOiBbbG9uZ0ZsYWcoMWJpdCksIGxlbmd0aExlbmd0aCg3Yml0KSwgbGVuZ3RoIChCRSldXG4gICAgICAgICAgICAgICAgY29uc3QgbGVuTGVuID0gZmlyc3QgJiAxMjc7XG4gICAgICAgICAgICAgICAgaWYgKCFsZW5MZW4pXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZGVjb2RlKGxvbmcpOiBpbmRlZmluaXRlIGxlbmd0aCBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICAgICAgaWYgKGxlbkxlbiA+IDQpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZGVjb2RlKGxvbmcpOiBieXRlIGxlbmd0aCBpcyB0b28gYmlnJyk7IC8vIHRoaXMgd2lsbCBvdmVyZmxvdyB1MzIgaW4ganNcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGhCeXRlcyA9IGRhdGEuc3ViYXJyYXkocG9zLCBwb3MgKyBsZW5MZW4pO1xuICAgICAgICAgICAgICAgIGlmIChsZW5ndGhCeXRlcy5sZW5ndGggIT09IGxlbkxlbilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5kZWNvZGU6IGxlbmd0aCBieXRlcyBub3QgY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoQnl0ZXNbMF0gPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCd0bHYuZGVjb2RlKGxvbmcpOiB6ZXJvIGxlZnRtb3N0IGJ5dGUnKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGIgb2YgbGVuZ3RoQnl0ZXMpXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IChsZW5ndGggPDwgOCkgfCBiO1xuICAgICAgICAgICAgICAgIHBvcyArPSBsZW5MZW47XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aCA8IDEyOClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3Rsdi5kZWNvZGUobG9uZyk6IG5vdCBtaW5pbWFsIGVuY29kaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2ID0gZGF0YS5zdWJhcnJheShwb3MsIHBvcyArIGxlbmd0aCk7XG4gICAgICAgICAgICBpZiAodi5sZW5ndGggIT09IGxlbmd0aClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRSgndGx2LmRlY29kZTogd3JvbmcgdmFsdWUgbGVuZ3RoJyk7XG4gICAgICAgICAgICByZXR1cm4geyB2LCBsOiBkYXRhLnN1YmFycmF5KHBvcyArIGxlbmd0aCkgfTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIGh0dHBzOi8vY3J5cHRvLnN0YWNrZXhjaGFuZ2UuY29tL2EvNTc3MzQgTGVmdG1vc3QgYml0IG9mIGZpcnN0IGJ5dGUgaXMgJ25lZ2F0aXZlJyBmbGFnLFxuICAgIC8vIHNpbmNlIHdlIGFsd2F5cyB1c2UgcG9zaXRpdmUgaW50ZWdlcnMgaGVyZS4gSXQgbXVzdCBhbHdheXMgYmUgZW1wdHk6XG4gICAgLy8gLSBhZGQgemVybyBieXRlIGlmIGV4aXN0c1xuICAgIC8vIC0gaWYgbmV4dCBieXRlIGRvZXNuJ3QgaGF2ZSBhIGZsYWcsIGxlYWRpbmcgemVybyBpcyBub3QgYWxsb3dlZCAobWluaW1hbCBlbmNvZGluZylcbiAgICBfaW50OiB7XG4gICAgICAgIGVuY29kZShudW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgRXJyOiBFIH0gPSBERVI7XG4gICAgICAgICAgICBpZiAobnVtIDwgXzBuKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCdpbnRlZ2VyOiBuZWdhdGl2ZSBpbnRlZ2VycyBhcmUgbm90IGFsbG93ZWQnKTtcbiAgICAgICAgICAgIGxldCBoZXggPSBudW1iZXJUb0hleFVucGFkZGVkKG51bSk7XG4gICAgICAgICAgICAvLyBQYWQgd2l0aCB6ZXJvIGJ5dGUgaWYgbmVnYXRpdmUgZmxhZyBpcyBwcmVzZW50XG4gICAgICAgICAgICBpZiAoTnVtYmVyLnBhcnNlSW50KGhleFswXSwgMTYpICYgMGIxMDAwKVxuICAgICAgICAgICAgICAgIGhleCA9ICcwMCcgKyBoZXg7XG4gICAgICAgICAgICBpZiAoaGV4Lmxlbmd0aCAmIDEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ3VuZXhwZWN0ZWQgREVSIHBhcnNpbmcgYXNzZXJ0aW9uOiB1bnBhZGRlZCBoZXgnKTtcbiAgICAgICAgICAgIHJldHVybiBoZXg7XG4gICAgICAgIH0sXG4gICAgICAgIGRlY29kZShkYXRhKSB7XG4gICAgICAgICAgICBjb25zdCB7IEVycjogRSB9ID0gREVSO1xuICAgICAgICAgICAgaWYgKGRhdGFbMF0gJiAxMjgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ2ludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IG5lZ2F0aXZlJyk7XG4gICAgICAgICAgICBpZiAoZGF0YVswXSA9PT0gMHgwMCAmJiAhKGRhdGFbMV0gJiAxMjgpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFKCdpbnZhbGlkIHNpZ25hdHVyZSBpbnRlZ2VyOiB1bm5lY2Vzc2FyeSBsZWFkaW5nIHplcm8nKTtcbiAgICAgICAgICAgIHJldHVybiBieXRlc1RvTnVtYmVyQkUoZGF0YSk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB0b1NpZyhoZXgpIHtcbiAgICAgICAgLy8gcGFyc2UgREVSIHNpZ25hdHVyZVxuICAgICAgICBjb25zdCB7IEVycjogRSwgX2ludDogaW50LCBfdGx2OiB0bHYgfSA9IERFUjtcbiAgICAgICAgY29uc3QgZGF0YSA9IGVuc3VyZUJ5dGVzKCdzaWduYXR1cmUnLCBoZXgpO1xuICAgICAgICBjb25zdCB7IHY6IHNlcUJ5dGVzLCBsOiBzZXFMZWZ0Qnl0ZXMgfSA9IHRsdi5kZWNvZGUoMHgzMCwgZGF0YSk7XG4gICAgICAgIGlmIChzZXFMZWZ0Qnl0ZXMubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ2ludmFsaWQgc2lnbmF0dXJlOiBsZWZ0IGJ5dGVzIGFmdGVyIHBhcnNpbmcnKTtcbiAgICAgICAgY29uc3QgeyB2OiByQnl0ZXMsIGw6IHJMZWZ0Qnl0ZXMgfSA9IHRsdi5kZWNvZGUoMHgwMiwgc2VxQnl0ZXMpO1xuICAgICAgICBjb25zdCB7IHY6IHNCeXRlcywgbDogc0xlZnRCeXRlcyB9ID0gdGx2LmRlY29kZSgweDAyLCByTGVmdEJ5dGVzKTtcbiAgICAgICAgaWYgKHNMZWZ0Qnl0ZXMubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEUoJ2ludmFsaWQgc2lnbmF0dXJlOiBsZWZ0IGJ5dGVzIGFmdGVyIHBhcnNpbmcnKTtcbiAgICAgICAgcmV0dXJuIHsgcjogaW50LmRlY29kZShyQnl0ZXMpLCBzOiBpbnQuZGVjb2RlKHNCeXRlcykgfTtcbiAgICB9LFxuICAgIGhleEZyb21TaWcoc2lnKSB7XG4gICAgICAgIGNvbnN0IHsgX3RsdjogdGx2LCBfaW50OiBpbnQgfSA9IERFUjtcbiAgICAgICAgY29uc3QgcnMgPSB0bHYuZW5jb2RlKDB4MDIsIGludC5lbmNvZGUoc2lnLnIpKTtcbiAgICAgICAgY29uc3Qgc3MgPSB0bHYuZW5jb2RlKDB4MDIsIGludC5lbmNvZGUoc2lnLnMpKTtcbiAgICAgICAgY29uc3Qgc2VxID0gcnMgKyBzcztcbiAgICAgICAgcmV0dXJuIHRsdi5lbmNvZGUoMHgzMCwgc2VxKTtcbiAgICB9LFxufTtcbi8vIEJlIGZyaWVuZGx5IHRvIGJhZCBFQ01BU2NyaXB0IHBhcnNlcnMgYnkgbm90IHVzaW5nIGJpZ2ludCBsaXRlcmFsc1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBfMG4gPSBCaWdJbnQoMCksIF8xbiA9IEJpZ0ludCgxKSwgXzJuID0gQmlnSW50KDIpLCBfM24gPSBCaWdJbnQoMyksIF80biA9IEJpZ0ludCg0KTtcbmV4cG9ydCBmdW5jdGlvbiBfbm9ybUZuRWxlbWVudChGbiwga2V5KSB7XG4gICAgY29uc3QgeyBCWVRFUzogZXhwZWN0ZWQgfSA9IEZuO1xuICAgIGxldCBudW07XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdiaWdpbnQnKSB7XG4gICAgICAgIG51bSA9IGtleTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBieXRlcyA9IGVuc3VyZUJ5dGVzKCdwcml2YXRlIGtleScsIGtleSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBudW0gPSBGbi5mcm9tQnl0ZXMoYnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHByaXZhdGUga2V5OiBleHBlY3RlZCB1aThhIG9mIHNpemUgJHtleHBlY3RlZH0sIGdvdCAke3R5cGVvZiBrZXl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFGbi5pc1ZhbGlkTm90MChudW0pKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcHJpdmF0ZSBrZXk6IG91dCBvZiByYW5nZSBbMS4uTi0xXScpO1xuICAgIHJldHVybiBudW07XG59XG4vKipcbiAqIENyZWF0ZXMgd2VpZXJzdHJhc3MgUG9pbnQgY29uc3RydWN0b3IsIGJhc2VkIG9uIHNwZWNpZmllZCBjdXJ2ZSBvcHRpb25zLlxuICpcbiAqIEBleGFtcGxlXG5gYGBqc1xuY29uc3Qgb3B0cyA9IHtcbiAgcDogQmlnSW50KCcweGZmZmZmZmZmMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYnKSxcbiAgbjogQmlnSW50KCcweGZmZmZmZmZmMDAwMDAwMDBmZmZmZmZmZmZmZmZmZmZmYmNlNmZhYWRhNzE3OWU4NGYzYjljYWMyZmM2MzI1NTEnKSxcbiAgaDogQmlnSW50KDEpLFxuICBhOiBCaWdJbnQoJzB4ZmZmZmZmZmYwMDAwMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYycpLFxuICBiOiBCaWdJbnQoJzB4NWFjNjM1ZDhhYTNhOTNlN2IzZWJiZDU1NzY5ODg2YmM2NTFkMDZiMGNjNTNiMGY2M2JjZTNjM2UyN2QyNjA0YicpLFxuICBHeDogQmlnSW50KCcweDZiMTdkMWYyZTEyYzQyNDdmOGJjZTZlNTYzYTQ0MGYyNzcwMzdkODEyZGViMzNhMGY0YTEzOTQ1ZDg5OGMyOTYnKSxcbiAgR3k6IEJpZ0ludCgnMHg0ZmUzNDJlMmZlMWE3ZjliOGVlN2ViNGE3YzBmOWUxNjJiY2UzMzU3NmIzMTVlY2VjYmI2NDA2ODM3YmY1MWY1JyksXG59O1xuY29uc3QgcDI1Nl9Qb2ludCA9IHdlaWVyc3RyYXNzKG9wdHMpO1xuYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3ZWllcnN0cmFzc04ocGFyYW1zLCBleHRyYU9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHZhbGlkYXRlZCA9IF9jcmVhdGVDdXJ2ZUZpZWxkcygnd2VpZXJzdHJhc3MnLCBwYXJhbXMsIGV4dHJhT3B0cyk7XG4gICAgY29uc3QgeyBGcCwgRm4gfSA9IHZhbGlkYXRlZDtcbiAgICBsZXQgQ1VSVkUgPSB2YWxpZGF0ZWQuQ1VSVkU7XG4gICAgY29uc3QgeyBoOiBjb2ZhY3RvciwgbjogQ1VSVkVfT1JERVIgfSA9IENVUlZFO1xuICAgIF92YWxpZGF0ZU9iamVjdChleHRyYU9wdHMsIHt9LCB7XG4gICAgICAgIGFsbG93SW5maW5pdHlQb2ludDogJ2Jvb2xlYW4nLFxuICAgICAgICBjbGVhckNvZmFjdG9yOiAnZnVuY3Rpb24nLFxuICAgICAgICBpc1RvcnNpb25GcmVlOiAnZnVuY3Rpb24nLFxuICAgICAgICBmcm9tQnl0ZXM6ICdmdW5jdGlvbicsXG4gICAgICAgIHRvQnl0ZXM6ICdmdW5jdGlvbicsXG4gICAgICAgIGVuZG86ICdvYmplY3QnLFxuICAgICAgICB3cmFwUHJpdmF0ZUtleTogJ2Jvb2xlYW4nLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZW5kbyB9ID0gZXh0cmFPcHRzO1xuICAgIGlmIChlbmRvKSB7XG4gICAgICAgIC8vIHZhbGlkYXRlT2JqZWN0KGVuZG8sIHsgYmV0YTogJ2JpZ2ludCcsIHNwbGl0U2NhbGFyOiAnZnVuY3Rpb24nIH0pO1xuICAgICAgICBpZiAoIUZwLmlzMChDVVJWRS5hKSB8fCB0eXBlb2YgZW5kby5iZXRhICE9PSAnYmlnaW50JyB8fCAhQXJyYXkuaXNBcnJheShlbmRvLmJhc2lzZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZW5kbzogZXhwZWN0ZWQgXCJiZXRhXCI6IGJpZ2ludCBhbmQgXCJiYXNpc2VzXCI6IGFycmF5Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbGVuZ3RocyA9IGdldFdMZW5ndGhzKEZwLCBGbik7XG4gICAgZnVuY3Rpb24gYXNzZXJ0Q29tcHJlc3Npb25Jc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgaWYgKCFGcC5pc09kZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY29tcHJlc3Npb24gaXMgbm90IHN1cHBvcnRlZDogRmllbGQgZG9lcyBub3QgaGF2ZSAuaXNPZGQoKScpO1xuICAgIH1cbiAgICAvLyBJbXBsZW1lbnRzIElFRUUgUDEzNjMgcG9pbnQgZW5jb2RpbmdcbiAgICBmdW5jdGlvbiBwb2ludFRvQnl0ZXMoX2MsIHBvaW50LCBpc0NvbXByZXNzZWQpIHtcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBwb2ludC50b0FmZmluZSgpO1xuICAgICAgICBjb25zdCBieCA9IEZwLnRvQnl0ZXMoeCk7XG4gICAgICAgIGFib29sKGlzQ29tcHJlc3NlZCwgJ2lzQ29tcHJlc3NlZCcpO1xuICAgICAgICBpZiAoaXNDb21wcmVzc2VkKSB7XG4gICAgICAgICAgICBhc3NlcnRDb21wcmVzc2lvbklzU3VwcG9ydGVkKCk7XG4gICAgICAgICAgICBjb25zdCBoYXNFdmVuWSA9ICFGcC5pc09kZCh5KTtcbiAgICAgICAgICAgIHJldHVybiBjb25jYXRCeXRlcyhwcHJlZml4KGhhc0V2ZW5ZKSwgYngpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmNhdEJ5dGVzKFVpbnQ4QXJyYXkub2YoMHgwNCksIGJ4LCBGcC50b0J5dGVzKHkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwb2ludEZyb21CeXRlcyhieXRlcykge1xuICAgICAgICBhYnl0ZXMoYnl0ZXMsIHVuZGVmaW5lZCwgJ1BvaW50Jyk7XG4gICAgICAgIGNvbnN0IHsgcHVibGljS2V5OiBjb21wLCBwdWJsaWNLZXlVbmNvbXByZXNzZWQ6IHVuY29tcCB9ID0gbGVuZ3RoczsgLy8gZS5nLiBmb3IgMzItYnl0ZTogMzMsIDY1XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgaGVhZCA9IGJ5dGVzWzBdO1xuICAgICAgICBjb25zdCB0YWlsID0gYnl0ZXMuc3ViYXJyYXkoMSk7XG4gICAgICAgIC8vIE5vIGFjdHVhbCB2YWxpZGF0aW9uIGlzIGRvbmUgaGVyZTogdXNlIC5hc3NlcnRWYWxpZGl0eSgpXG4gICAgICAgIGlmIChsZW5ndGggPT09IGNvbXAgJiYgKGhlYWQgPT09IDB4MDIgfHwgaGVhZCA9PT0gMHgwMykpIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBGcC5mcm9tQnl0ZXModGFpbCk7XG4gICAgICAgICAgICBpZiAoIUZwLmlzVmFsaWQoeCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgcG9pbnQ6IGlzIG5vdCBvbiBjdXJ2ZSwgd3JvbmcgeCcpO1xuICAgICAgICAgICAgY29uc3QgeTIgPSB3ZWllcnN0cmFzc0VxdWF0aW9uKHgpOyAvLyB5wrIgPSB4wrMgKyBheCArIGJcbiAgICAgICAgICAgIGxldCB5O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB5ID0gRnAuc3FydCh5Mik7IC8vIHkgPSB5wrIgXiAocCsxKS80XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoc3FydEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyID0gc3FydEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyAnOiAnICsgc3FydEVycm9yLm1lc3NhZ2UgOiAnJztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb2ludDogaXMgbm90IG9uIGN1cnZlLCBzcXJ0IGVycm9yJyArIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NlcnRDb21wcmVzc2lvbklzU3VwcG9ydGVkKCk7XG4gICAgICAgICAgICBjb25zdCBpc1lPZGQgPSBGcC5pc09kZCh5KTsgLy8gKHkgJiBfMW4pID09PSBfMW47XG4gICAgICAgICAgICBjb25zdCBpc0hlYWRPZGQgPSAoaGVhZCAmIDEpID09PSAxOyAvLyBFQ0RTQS1zcGVjaWZpY1xuICAgICAgICAgICAgaWYgKGlzSGVhZE9kZCAhPT0gaXNZT2RkKVxuICAgICAgICAgICAgICAgIHkgPSBGcC5uZWcoeSk7XG4gICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGVuZ3RoID09PSB1bmNvbXAgJiYgaGVhZCA9PT0gMHgwNCkge1xuICAgICAgICAgICAgLy8gVE9ETzogbW9yZSBjaGVja3NcbiAgICAgICAgICAgIGNvbnN0IEwgPSBGcC5CWVRFUztcbiAgICAgICAgICAgIGNvbnN0IHggPSBGcC5mcm9tQnl0ZXModGFpbC5zdWJhcnJheSgwLCBMKSk7XG4gICAgICAgICAgICBjb25zdCB5ID0gRnAuZnJvbUJ5dGVzKHRhaWwuc3ViYXJyYXkoTCwgTCAqIDIpKTtcbiAgICAgICAgICAgIGlmICghaXNWYWxpZFhZKHgsIHkpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIHBvaW50OiBpcyBub3Qgb24gY3VydmUnKTtcbiAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgYmFkIHBvaW50OiBnb3QgbGVuZ3RoICR7bGVuZ3RofSwgZXhwZWN0ZWQgY29tcHJlc3NlZD0ke2NvbXB9IG9yIHVuY29tcHJlc3NlZD0ke3VuY29tcH1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlbmNvZGVQb2ludCA9IGV4dHJhT3B0cy50b0J5dGVzIHx8IHBvaW50VG9CeXRlcztcbiAgICBjb25zdCBkZWNvZGVQb2ludCA9IGV4dHJhT3B0cy5mcm9tQnl0ZXMgfHwgcG9pbnRGcm9tQnl0ZXM7XG4gICAgZnVuY3Rpb24gd2VpZXJzdHJhc3NFcXVhdGlvbih4KSB7XG4gICAgICAgIGNvbnN0IHgyID0gRnAuc3FyKHgpOyAvLyB4ICogeFxuICAgICAgICBjb25zdCB4MyA9IEZwLm11bCh4MiwgeCk7IC8vIHjCsiAqIHhcbiAgICAgICAgcmV0dXJuIEZwLmFkZChGcC5hZGQoeDMsIEZwLm11bCh4LCBDVVJWRS5hKSksIENVUlZFLmIpOyAvLyB4wrMgKyBhICogeCArIGJcbiAgICB9XG4gICAgLy8gVE9ETzogbW92ZSB0b3AtbGV2ZWxcbiAgICAvKiogQ2hlY2tzIHdoZXRoZXIgZXF1YXRpb24gaG9sZHMgZm9yIGdpdmVuIHgsIHk6IHnCsiA9PSB4wrMgKyBheCArIGIgKi9cbiAgICBmdW5jdGlvbiBpc1ZhbGlkWFkoeCwgeSkge1xuICAgICAgICBjb25zdCBsZWZ0ID0gRnAuc3FyKHkpOyAvLyB5wrJcbiAgICAgICAgY29uc3QgcmlnaHQgPSB3ZWllcnN0cmFzc0VxdWF0aW9uKHgpOyAvLyB4wrMgKyBheCArIGJcbiAgICAgICAgcmV0dXJuIEZwLmVxbChsZWZ0LCByaWdodCk7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIHdoZXRoZXIgdGhlIHBhc3NlZCBjdXJ2ZSBwYXJhbXMgYXJlIHZhbGlkLlxuICAgIC8vIFRlc3QgMTogZXF1YXRpb24gecKyID0geMKzICsgYXggKyBiIHNob3VsZCB3b3JrIGZvciBnZW5lcmF0b3IgcG9pbnQuXG4gICAgaWYgKCFpc1ZhbGlkWFkoQ1VSVkUuR3gsIENVUlZFLkd5KSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY3VydmUgcGFyYW1zOiBnZW5lcmF0b3IgcG9pbnQnKTtcbiAgICAvLyBUZXN0IDI6IGRpc2NyaW1pbmFudCDOlCBwYXJ0IHNob3VsZCBiZSBub24temVybzogNGHCsyArIDI3YsKyICE9IDAuXG4gICAgLy8gR3VhcmFudGVlcyBjdXJ2ZSBpcyBnZW51cy0xLCBzbW9vdGggKG5vbi1zaW5ndWxhcikuXG4gICAgY29uc3QgXzRhMyA9IEZwLm11bChGcC5wb3coQ1VSVkUuYSwgXzNuKSwgXzRuKTtcbiAgICBjb25zdCBfMjdiMiA9IEZwLm11bChGcC5zcXIoQ1VSVkUuYiksIEJpZ0ludCgyNykpO1xuICAgIGlmIChGcC5pczAoRnAuYWRkKF80YTMsIF8yN2IyKSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGN1cnZlIHBhcmFtczogYSBvciBiJyk7XG4gICAgLyoqIEFzc2VydHMgY29vcmRpbmF0ZSBpcyB2YWxpZDogMCA8PSBuIDwgRnAuT1JERVIuICovXG4gICAgZnVuY3Rpb24gYWNvb3JkKHRpdGxlLCBuLCBiYW5aZXJvID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCFGcC5pc1ZhbGlkKG4pIHx8IChiYW5aZXJvICYmIEZwLmlzMChuKSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGJhZCBwb2ludCBjb29yZGluYXRlICR7dGl0bGV9YCk7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcHJqcG9pbnQob3RoZXIpIHtcbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBQb2ludCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2plY3RpdmVQb2ludCBleHBlY3RlZCcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzcGxpdEVuZG9TY2FsYXJOKGspIHtcbiAgICAgICAgaWYgKCFlbmRvIHx8ICFlbmRvLmJhc2lzZXMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGVuZG8nKTtcbiAgICAgICAgcmV0dXJuIF9zcGxpdEVuZG9TY2FsYXIoaywgZW5kby5iYXNpc2VzLCBGbi5PUkRFUik7XG4gICAgfVxuICAgIC8vIE1lbW9pemVkIHRvQWZmaW5lIC8gdmFsaWRpdHkgY2hlY2suIFRoZXkgYXJlIGhlYXZ5LiBQb2ludHMgYXJlIGltbXV0YWJsZS5cbiAgICAvLyBDb252ZXJ0cyBQcm9qZWN0aXZlIHBvaW50IHRvIGFmZmluZSAoeCwgeSkgY29vcmRpbmF0ZXMuXG4gICAgLy8gQ2FuIGFjY2VwdCBwcmVjb21wdXRlZCBaXi0xIC0gZm9yIGV4YW1wbGUsIGZyb20gaW52ZXJ0QmF0Y2guXG4gICAgLy8gKFgsIFksIFopIOKIiyAoeD1YL1osIHk9WS9aKVxuICAgIGNvbnN0IHRvQWZmaW5lTWVtbyA9IG1lbW9pemVkKChwLCBpeikgPT4ge1xuICAgICAgICBjb25zdCB7IFgsIFksIFogfSA9IHA7XG4gICAgICAgIC8vIEZhc3QtcGF0aCBmb3Igbm9ybWFsaXplZCBwb2ludHNcbiAgICAgICAgaWYgKEZwLmVxbChaLCBGcC5PTkUpKVxuICAgICAgICAgICAgcmV0dXJuIHsgeDogWCwgeTogWSB9O1xuICAgICAgICBjb25zdCBpczAgPSBwLmlzMCgpO1xuICAgICAgICAvLyBJZiBpbnZaIHdhcyAwLCB3ZSByZXR1cm4gemVybyBwb2ludC4gSG93ZXZlciB3ZSBzdGlsbCB3YW50IHRvIGV4ZWN1dGVcbiAgICAgICAgLy8gYWxsIG9wZXJhdGlvbnMsIHNvIHdlIHJlcGxhY2UgaW52WiB3aXRoIGEgcmFuZG9tIG51bWJlciwgMS5cbiAgICAgICAgaWYgKGl6ID09IG51bGwpXG4gICAgICAgICAgICBpeiA9IGlzMCA/IEZwLk9ORSA6IEZwLmludihaKTtcbiAgICAgICAgY29uc3QgeCA9IEZwLm11bChYLCBpeik7XG4gICAgICAgIGNvbnN0IHkgPSBGcC5tdWwoWSwgaXopO1xuICAgICAgICBjb25zdCB6eiA9IEZwLm11bChaLCBpeik7XG4gICAgICAgIGlmIChpczApXG4gICAgICAgICAgICByZXR1cm4geyB4OiBGcC5aRVJPLCB5OiBGcC5aRVJPIH07XG4gICAgICAgIGlmICghRnAuZXFsKHp6LCBGcC5PTkUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZaIHdhcyBpbnZhbGlkJyk7XG4gICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICB9KTtcbiAgICAvLyBOT1RFOiBvbiBleGNlcHRpb24gdGhpcyB3aWxsIGNyYXNoICdjYWNoZWQnIGFuZCBubyB2YWx1ZSB3aWxsIGJlIHNldC5cbiAgICAvLyBPdGhlcndpc2UgdHJ1ZSB3aWxsIGJlIHJldHVyblxuICAgIGNvbnN0IGFzc2VydFZhbGlkTWVtbyA9IG1lbW9pemVkKChwKSA9PiB7XG4gICAgICAgIGlmIChwLmlzMCgpKSB7XG4gICAgICAgICAgICAvLyAoMCwgMSwgMCkgYWthIFpFUk8gaXMgaW52YWxpZCBpbiBtb3N0IGNvbnRleHRzLlxuICAgICAgICAgICAgLy8gSW4gQkxTLCBaRVJPIGNhbiBiZSBzZXJpYWxpemVkLCBzbyB3ZSBhbGxvdyBpdC5cbiAgICAgICAgICAgIC8vICgwLCAwLCAwKSBpcyBpbnZhbGlkIHJlcHJlc2VudGF0aW9uIG9mIFpFUk8uXG4gICAgICAgICAgICBpZiAoZXh0cmFPcHRzLmFsbG93SW5maW5pdHlQb2ludCAmJiAhRnAuaXMwKHAuWSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgcG9pbnQ6IFpFUk8nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTb21lIDNyZC1wYXJ0eSB0ZXN0IHZlY3RvcnMgcmVxdWlyZSBkaWZmZXJlbnQgd29yZGluZyBiZXR3ZWVuIGhlcmUgJiBgZnJvbUNvbXByZXNzZWRIZXhgXG4gICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gcC50b0FmZmluZSgpO1xuICAgICAgICBpZiAoIUZwLmlzVmFsaWQoeCkgfHwgIUZwLmlzVmFsaWQoeSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb2ludDogeCBvciB5IG5vdCBmaWVsZCBlbGVtZW50cycpO1xuICAgICAgICBpZiAoIWlzVmFsaWRYWSh4LCB5KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIHBvaW50OiBlcXVhdGlvbiBsZWZ0ICE9IHJpZ2h0Jyk7XG4gICAgICAgIGlmICghcC5pc1RvcnNpb25GcmVlKCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb2ludDogbm90IGluIHByaW1lLW9yZGVyIHN1Ymdyb3VwJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGZpbmlzaEVuZG8oZW5kb0JldGEsIGsxcCwgazJwLCBrMW5lZywgazJuZWcpIHtcbiAgICAgICAgazJwID0gbmV3IFBvaW50KEZwLm11bChrMnAuWCwgZW5kb0JldGEpLCBrMnAuWSwgazJwLlopO1xuICAgICAgICBrMXAgPSBuZWdhdGVDdChrMW5lZywgazFwKTtcbiAgICAgICAgazJwID0gbmVnYXRlQ3QoazJuZWcsIGsycCk7XG4gICAgICAgIHJldHVybiBrMXAuYWRkKGsycCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2plY3RpdmUgUG9pbnQgd29ya3MgaW4gM2QgLyBwcm9qZWN0aXZlIChob21vZ2VuZW91cykgY29vcmRpbmF0ZXM6KFgsIFksIFopIOKIiyAoeD1YL1osIHk9WS9aKS5cbiAgICAgKiBEZWZhdWx0IFBvaW50IHdvcmtzIGluIDJkIC8gYWZmaW5lIGNvb3JkaW5hdGVzOiAoeCwgeSkuXG4gICAgICogV2UncmUgZG9pbmcgY2FsY3VsYXRpb25zIGluIHByb2plY3RpdmUsIGJlY2F1c2UgaXRzIG9wZXJhdGlvbnMgZG9uJ3QgcmVxdWlyZSBjb3N0bHkgaW52ZXJzaW9uLlxuICAgICAqL1xuICAgIGNsYXNzIFBvaW50IHtcbiAgICAgICAgLyoqIERvZXMgTk9UIHZhbGlkYXRlIGlmIHRoZSBwb2ludCBpcyB2YWxpZC4gVXNlIGAuYXNzZXJ0VmFsaWRpdHkoKWAuICovXG4gICAgICAgIGNvbnN0cnVjdG9yKFgsIFksIFopIHtcbiAgICAgICAgICAgIHRoaXMuWCA9IGFjb29yZCgneCcsIFgpO1xuICAgICAgICAgICAgdGhpcy5ZID0gYWNvb3JkKCd5JywgWSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLlogPSBhY29vcmQoJ3onLCBaKTtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIENVUlZFKCkge1xuICAgICAgICAgICAgcmV0dXJuIENVUlZFO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBEb2VzIE5PVCB2YWxpZGF0ZSBpZiB0aGUgcG9pbnQgaXMgdmFsaWQuIFVzZSBgLmFzc2VydFZhbGlkaXR5KClgLiAqL1xuICAgICAgICBzdGF0aWMgZnJvbUFmZmluZShwKSB7XG4gICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHAgfHwge307XG4gICAgICAgICAgICBpZiAoIXAgfHwgIUZwLmlzVmFsaWQoeCkgfHwgIUZwLmlzVmFsaWQoeSkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGFmZmluZSBwb2ludCcpO1xuICAgICAgICAgICAgaWYgKHAgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2plY3RpdmUgcG9pbnQgbm90IGFsbG93ZWQnKTtcbiAgICAgICAgICAgIC8vICgwLCAwKSB3b3VsZCd2ZSBwcm9kdWNlZCAoMCwgMCwgMSkgLSBpbnN0ZWFkLCB3ZSBuZWVkICgwLCAxLCAwKVxuICAgICAgICAgICAgaWYgKEZwLmlzMCh4KSAmJiBGcC5pczAoeSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBvaW50LlpFUk87XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHksIEZwLk9ORSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIGZyb21CeXRlcyhieXRlcykge1xuICAgICAgICAgICAgY29uc3QgUCA9IFBvaW50LmZyb21BZmZpbmUoZGVjb2RlUG9pbnQoYWJ5dGVzKGJ5dGVzLCB1bmRlZmluZWQsICdwb2ludCcpKSk7XG4gICAgICAgICAgICBQLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgICAgICByZXR1cm4gUDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgZnJvbUhleChoZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBQb2ludC5mcm9tQnl0ZXMoZW5zdXJlQnl0ZXMoJ3BvaW50SGV4JywgaGV4KSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHgoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0FmZmluZSgpLng7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0FmZmluZSgpLnk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB3aW5kb3dTaXplXG4gICAgICAgICAqIEBwYXJhbSBpc0xhenkgdHJ1ZSB3aWxsIGRlZmVyIHRhYmxlIGNvbXB1dGF0aW9uIHVudGlsIHRoZSBmaXJzdCBtdWx0aXBsaWNhdGlvblxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKi9cbiAgICAgICAgcHJlY29tcHV0ZSh3aW5kb3dTaXplID0gOCwgaXNMYXp5ID0gdHJ1ZSkge1xuICAgICAgICAgICAgd25hZi5jcmVhdGVDYWNoZSh0aGlzLCB3aW5kb3dTaXplKTtcbiAgICAgICAgICAgIGlmICghaXNMYXp5KVxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbHkoXzNuKTsgLy8gcmFuZG9tIG51bWJlclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogcmV0dXJuIGB0aGlzYFxuICAgICAgICAvKiogQSBwb2ludCBvbiBjdXJ2ZSBpcyB2YWxpZCBpZiBpdCBjb25mb3JtcyB0byBlcXVhdGlvbi4gKi9cbiAgICAgICAgYXNzZXJ0VmFsaWRpdHkoKSB7XG4gICAgICAgICAgICBhc3NlcnRWYWxpZE1lbW8odGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzRXZlblkoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHkgfSA9IHRoaXMudG9BZmZpbmUoKTtcbiAgICAgICAgICAgIGlmICghRnAuaXNPZGQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgZG9lc24ndCBzdXBwb3J0IGlzT2RkXCIpO1xuICAgICAgICAgICAgcmV0dXJuICFGcC5pc09kZCh5KTtcbiAgICAgICAgfVxuICAgICAgICAvKiogQ29tcGFyZSBvbmUgcG9pbnQgdG8gYW5vdGhlci4gKi9cbiAgICAgICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgICAgICBhcHJqcG9pbnQob3RoZXIpO1xuICAgICAgICAgICAgY29uc3QgeyBYOiBYMSwgWTogWTEsIFo6IFoxIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBYOiBYMiwgWTogWTIsIFo6IFoyIH0gPSBvdGhlcjtcbiAgICAgICAgICAgIGNvbnN0IFUxID0gRnAuZXFsKEZwLm11bChYMSwgWjIpLCBGcC5tdWwoWDIsIFoxKSk7XG4gICAgICAgICAgICBjb25zdCBVMiA9IEZwLmVxbChGcC5tdWwoWTEsIFoyKSwgRnAubXVsKFkyLCBaMSkpO1xuICAgICAgICAgICAgcmV0dXJuIFUxICYmIFUyO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBGbGlwcyBwb2ludCB0byBvbmUgY29ycmVzcG9uZGluZyB0byAoeCwgLXkpIGluIEFmZmluZSBjb29yZGluYXRlcy4gKi9cbiAgICAgICAgbmVnYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLlgsIEZwLm5lZyh0aGlzLlkpLCB0aGlzLlopO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmVzLUNvc3RlbGxvLUJhdGluYSBleGNlcHRpb24tZnJlZSBkb3VibGluZyBmb3JtdWxhLlxuICAgICAgICAvLyBUaGVyZSBpcyAzMCUgZmFzdGVyIEphY29iaWFuIGZvcm11bGEsIGJ1dCBpdCBpcyBub3QgY29tcGxldGUuXG4gICAgICAgIC8vIGh0dHBzOi8vZXByaW50LmlhY3Iub3JnLzIwMTUvMTA2MCwgYWxnb3JpdGhtIDNcbiAgICAgICAgLy8gQ29zdDogOE0gKyAzUyArIDMqYSArIDIqYjMgKyAxNWFkZC5cbiAgICAgICAgZG91YmxlKCkge1xuICAgICAgICAgICAgY29uc3QgeyBhLCBiIH0gPSBDVVJWRTtcbiAgICAgICAgICAgIGNvbnN0IGIzID0gRnAubXVsKGIsIF8zbik7XG4gICAgICAgICAgICBjb25zdCB7IFg6IFgxLCBZOiBZMSwgWjogWjEgfSA9IHRoaXM7XG4gICAgICAgICAgICBsZXQgWDMgPSBGcC5aRVJPLCBZMyA9IEZwLlpFUk8sIFozID0gRnAuWkVSTzsgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICBsZXQgdDAgPSBGcC5tdWwoWDEsIFgxKTsgLy8gc3RlcCAxXG4gICAgICAgICAgICBsZXQgdDEgPSBGcC5tdWwoWTEsIFkxKTtcbiAgICAgICAgICAgIGxldCB0MiA9IEZwLm11bChaMSwgWjEpO1xuICAgICAgICAgICAgbGV0IHQzID0gRnAubXVsKFgxLCBZMSk7XG4gICAgICAgICAgICB0MyA9IEZwLmFkZCh0MywgdDMpOyAvLyBzdGVwIDVcbiAgICAgICAgICAgIFozID0gRnAubXVsKFgxLCBaMSk7XG4gICAgICAgICAgICBaMyA9IEZwLmFkZChaMywgWjMpO1xuICAgICAgICAgICAgWDMgPSBGcC5tdWwoYSwgWjMpO1xuICAgICAgICAgICAgWTMgPSBGcC5tdWwoYjMsIHQyKTtcbiAgICAgICAgICAgIFkzID0gRnAuYWRkKFgzLCBZMyk7IC8vIHN0ZXAgMTBcbiAgICAgICAgICAgIFgzID0gRnAuc3ViKHQxLCBZMyk7XG4gICAgICAgICAgICBZMyA9IEZwLmFkZCh0MSwgWTMpO1xuICAgICAgICAgICAgWTMgPSBGcC5tdWwoWDMsIFkzKTtcbiAgICAgICAgICAgIFgzID0gRnAubXVsKHQzLCBYMyk7XG4gICAgICAgICAgICBaMyA9IEZwLm11bChiMywgWjMpOyAvLyBzdGVwIDE1XG4gICAgICAgICAgICB0MiA9IEZwLm11bChhLCB0Mik7XG4gICAgICAgICAgICB0MyA9IEZwLnN1Yih0MCwgdDIpO1xuICAgICAgICAgICAgdDMgPSBGcC5tdWwoYSwgdDMpO1xuICAgICAgICAgICAgdDMgPSBGcC5hZGQodDMsIFozKTtcbiAgICAgICAgICAgIFozID0gRnAuYWRkKHQwLCB0MCk7IC8vIHN0ZXAgMjBcbiAgICAgICAgICAgIHQwID0gRnAuYWRkKFozLCB0MCk7XG4gICAgICAgICAgICB0MCA9IEZwLmFkZCh0MCwgdDIpO1xuICAgICAgICAgICAgdDAgPSBGcC5tdWwodDAsIHQzKTtcbiAgICAgICAgICAgIFkzID0gRnAuYWRkKFkzLCB0MCk7XG4gICAgICAgICAgICB0MiA9IEZwLm11bChZMSwgWjEpOyAvLyBzdGVwIDI1XG4gICAgICAgICAgICB0MiA9IEZwLmFkZCh0MiwgdDIpO1xuICAgICAgICAgICAgdDAgPSBGcC5tdWwodDIsIHQzKTtcbiAgICAgICAgICAgIFgzID0gRnAuc3ViKFgzLCB0MCk7XG4gICAgICAgICAgICBaMyA9IEZwLm11bCh0MiwgdDEpO1xuICAgICAgICAgICAgWjMgPSBGcC5hZGQoWjMsIFozKTsgLy8gc3RlcCAzMFxuICAgICAgICAgICAgWjMgPSBGcC5hZGQoWjMsIFozKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoWDMsIFkzLCBaMyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVuZXMtQ29zdGVsbG8tQmF0aW5hIGV4Y2VwdGlvbi1mcmVlIGFkZGl0aW9uIGZvcm11bGEuXG4gICAgICAgIC8vIFRoZXJlIGlzIDMwJSBmYXN0ZXIgSmFjb2JpYW4gZm9ybXVsYSwgYnV0IGl0IGlzIG5vdCBjb21wbGV0ZS5cbiAgICAgICAgLy8gaHR0cHM6Ly9lcHJpbnQuaWFjci5vcmcvMjAxNS8xMDYwLCBhbGdvcml0aG0gMVxuICAgICAgICAvLyBDb3N0OiAxMk0gKyAwUyArIDMqYSArIDMqYjMgKyAyM2FkZC5cbiAgICAgICAgYWRkKG90aGVyKSB7XG4gICAgICAgICAgICBhcHJqcG9pbnQob3RoZXIpO1xuICAgICAgICAgICAgY29uc3QgeyBYOiBYMSwgWTogWTEsIFo6IFoxIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgeyBYOiBYMiwgWTogWTIsIFo6IFoyIH0gPSBvdGhlcjtcbiAgICAgICAgICAgIGxldCBYMyA9IEZwLlpFUk8sIFkzID0gRnAuWkVSTywgWjMgPSBGcC5aRVJPOyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IGEgPSBDVVJWRS5hO1xuICAgICAgICAgICAgY29uc3QgYjMgPSBGcC5tdWwoQ1VSVkUuYiwgXzNuKTtcbiAgICAgICAgICAgIGxldCB0MCA9IEZwLm11bChYMSwgWDIpOyAvLyBzdGVwIDFcbiAgICAgICAgICAgIGxldCB0MSA9IEZwLm11bChZMSwgWTIpO1xuICAgICAgICAgICAgbGV0IHQyID0gRnAubXVsKFoxLCBaMik7XG4gICAgICAgICAgICBsZXQgdDMgPSBGcC5hZGQoWDEsIFkxKTtcbiAgICAgICAgICAgIGxldCB0NCA9IEZwLmFkZChYMiwgWTIpOyAvLyBzdGVwIDVcbiAgICAgICAgICAgIHQzID0gRnAubXVsKHQzLCB0NCk7XG4gICAgICAgICAgICB0NCA9IEZwLmFkZCh0MCwgdDEpO1xuICAgICAgICAgICAgdDMgPSBGcC5zdWIodDMsIHQ0KTtcbiAgICAgICAgICAgIHQ0ID0gRnAuYWRkKFgxLCBaMSk7XG4gICAgICAgICAgICBsZXQgdDUgPSBGcC5hZGQoWDIsIFoyKTsgLy8gc3RlcCAxMFxuICAgICAgICAgICAgdDQgPSBGcC5tdWwodDQsIHQ1KTtcbiAgICAgICAgICAgIHQ1ID0gRnAuYWRkKHQwLCB0Mik7XG4gICAgICAgICAgICB0NCA9IEZwLnN1Yih0NCwgdDUpO1xuICAgICAgICAgICAgdDUgPSBGcC5hZGQoWTEsIFoxKTtcbiAgICAgICAgICAgIFgzID0gRnAuYWRkKFkyLCBaMik7IC8vIHN0ZXAgMTVcbiAgICAgICAgICAgIHQ1ID0gRnAubXVsKHQ1LCBYMyk7XG4gICAgICAgICAgICBYMyA9IEZwLmFkZCh0MSwgdDIpO1xuICAgICAgICAgICAgdDUgPSBGcC5zdWIodDUsIFgzKTtcbiAgICAgICAgICAgIFozID0gRnAubXVsKGEsIHQ0KTtcbiAgICAgICAgICAgIFgzID0gRnAubXVsKGIzLCB0Mik7IC8vIHN0ZXAgMjBcbiAgICAgICAgICAgIFozID0gRnAuYWRkKFgzLCBaMyk7XG4gICAgICAgICAgICBYMyA9IEZwLnN1Yih0MSwgWjMpO1xuICAgICAgICAgICAgWjMgPSBGcC5hZGQodDEsIFozKTtcbiAgICAgICAgICAgIFkzID0gRnAubXVsKFgzLCBaMyk7XG4gICAgICAgICAgICB0MSA9IEZwLmFkZCh0MCwgdDApOyAvLyBzdGVwIDI1XG4gICAgICAgICAgICB0MSA9IEZwLmFkZCh0MSwgdDApO1xuICAgICAgICAgICAgdDIgPSBGcC5tdWwoYSwgdDIpO1xuICAgICAgICAgICAgdDQgPSBGcC5tdWwoYjMsIHQ0KTtcbiAgICAgICAgICAgIHQxID0gRnAuYWRkKHQxLCB0Mik7XG4gICAgICAgICAgICB0MiA9IEZwLnN1Yih0MCwgdDIpOyAvLyBzdGVwIDMwXG4gICAgICAgICAgICB0MiA9IEZwLm11bChhLCB0Mik7XG4gICAgICAgICAgICB0NCA9IEZwLmFkZCh0NCwgdDIpO1xuICAgICAgICAgICAgdDAgPSBGcC5tdWwodDEsIHQ0KTtcbiAgICAgICAgICAgIFkzID0gRnAuYWRkKFkzLCB0MCk7XG4gICAgICAgICAgICB0MCA9IEZwLm11bCh0NSwgdDQpOyAvLyBzdGVwIDM1XG4gICAgICAgICAgICBYMyA9IEZwLm11bCh0MywgWDMpO1xuICAgICAgICAgICAgWDMgPSBGcC5zdWIoWDMsIHQwKTtcbiAgICAgICAgICAgIHQwID0gRnAubXVsKHQzLCB0MSk7XG4gICAgICAgICAgICBaMyA9IEZwLm11bCh0NSwgWjMpO1xuICAgICAgICAgICAgWjMgPSBGcC5hZGQoWjMsIHQwKTsgLy8gc3RlcCA0MFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludChYMywgWTMsIFozKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJ0cmFjdChvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkKG90aGVyLm5lZ2F0ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBpczAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcXVhbHMoUG9pbnQuWkVSTyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0YW50IHRpbWUgbXVsdGlwbGljYXRpb24uXG4gICAgICAgICAqIFVzZXMgd05BRiBtZXRob2QuIFdpbmRvd2VkIG1ldGhvZCBtYXkgYmUgMTAlIGZhc3RlcixcbiAgICAgICAgICogYnV0IHRha2VzIDJ4IGxvbmdlciB0byBnZW5lcmF0ZSBhbmQgY29uc3VtZXMgMnggbWVtb3J5LlxuICAgICAgICAgKiBVc2VzIHByZWNvbXB1dGVzIHdoZW4gYXZhaWxhYmxlLlxuICAgICAgICAgKiBVc2VzIGVuZG9tb3JwaGlzbSBmb3IgS29ibGl0eiBjdXJ2ZXMuXG4gICAgICAgICAqIEBwYXJhbSBzY2FsYXIgYnkgd2hpY2ggdGhlIHBvaW50IHdvdWxkIGJlIG11bHRpcGxpZWRcbiAgICAgICAgICogQHJldHVybnMgTmV3IHBvaW50XG4gICAgICAgICAqL1xuICAgICAgICBtdWx0aXBseShzY2FsYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZW5kbyB9ID0gZXh0cmFPcHRzO1xuICAgICAgICAgICAgaWYgKCFGbi5pc1ZhbGlkTm90MChzY2FsYXIpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzY2FsYXI6IG91dCBvZiByYW5nZScpOyAvLyAwIGlzIGludmFsaWRcbiAgICAgICAgICAgIGxldCBwb2ludCwgZmFrZTsgLy8gRmFrZSBwb2ludCBpcyB1c2VkIHRvIGNvbnN0LXRpbWUgbXVsdFxuICAgICAgICAgICAgY29uc3QgbXVsID0gKG4pID0+IHduYWYuY2FjaGVkKHRoaXMsIG4sIChwKSA9PiBub3JtYWxpemVaKFBvaW50LCBwKSk7XG4gICAgICAgICAgICAvKiogU2VlIGRvY3MgZm9yIHtAbGluayBFbmRvbW9ycGhpc21PcHRzfSAqL1xuICAgICAgICAgICAgaWYgKGVuZG8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGsxbmVnLCBrMSwgazJuZWcsIGsyIH0gPSBzcGxpdEVuZG9TY2FsYXJOKHNjYWxhcik7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwOiBrMXAsIGY6IGsxZiB9ID0gbXVsKGsxKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHA6IGsycCwgZjogazJmIH0gPSBtdWwoazIpO1xuICAgICAgICAgICAgICAgIGZha2UgPSBrMWYuYWRkKGsyZik7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBmaW5pc2hFbmRvKGVuZG8uYmV0YSwgazFwLCBrMnAsIGsxbmVnLCBrMm5lZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHAsIGYgfSA9IG11bChzY2FsYXIpO1xuICAgICAgICAgICAgICAgIHBvaW50ID0gcDtcbiAgICAgICAgICAgICAgICBmYWtlID0gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBgemAgZm9yIGJvdGggcG9pbnRzLCBidXQgcmV0dXJuIG9ubHkgcmVhbCBvbmVcbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpemVaKFBvaW50LCBbcG9pbnQsIGZha2VdKVswXTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogTm9uLWNvbnN0YW50LXRpbWUgbXVsdGlwbGljYXRpb24uIFVzZXMgZG91YmxlLWFuZC1hZGQgYWxnb3JpdGhtLlxuICAgICAgICAgKiBJdCdzIGZhc3RlciwgYnV0IHNob3VsZCBvbmx5IGJlIHVzZWQgd2hlbiB5b3UgZG9uJ3QgY2FyZSBhYm91dFxuICAgICAgICAgKiBhbiBleHBvc2VkIHNlY3JldCBrZXkgZS5nLiBzaWcgdmVyaWZpY2F0aW9uLCB3aGljaCB3b3JrcyBvdmVyICpwdWJsaWMqIGtleXMuXG4gICAgICAgICAqL1xuICAgICAgICBtdWx0aXBseVVuc2FmZShzYykge1xuICAgICAgICAgICAgY29uc3QgeyBlbmRvIH0gPSBleHRyYU9wdHM7XG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcztcbiAgICAgICAgICAgIGlmICghRm4uaXNWYWxpZChzYykpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHNjYWxhcjogb3V0IG9mIHJhbmdlJyk7IC8vIDAgaXMgdmFsaWRcbiAgICAgICAgICAgIGlmIChzYyA9PT0gXzBuIHx8IHAuaXMwKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBvaW50LlpFUk87XG4gICAgICAgICAgICBpZiAoc2MgPT09IF8xbilcbiAgICAgICAgICAgICAgICByZXR1cm4gcDsgLy8gZmFzdC1wYXRoXG4gICAgICAgICAgICBpZiAod25hZi5oYXNDYWNoZSh0aGlzKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseShzYyk7XG4gICAgICAgICAgICBpZiAoZW5kbykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgazFuZWcsIGsxLCBrMm5lZywgazIgfSA9IHNwbGl0RW5kb1NjYWxhck4oc2MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcDEsIHAyIH0gPSBtdWxFbmRvVW5zYWZlKFBvaW50LCBwLCBrMSwgazIpOyAvLyAzMCUgZmFzdGVyIHZzIHduYWYudW5zYWZlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbmlzaEVuZG8oZW5kby5iZXRhLCBwMSwgcDIsIGsxbmVnLCBrMm5lZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd25hZi51bnNhZmUocCwgc2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG11bHRpcGx5QW5kQWRkVW5zYWZlKFEsIGEsIGIpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1bSA9IHRoaXMubXVsdGlwbHlVbnNhZmUoYSkuYWRkKFEubXVsdGlwbHlVbnNhZmUoYikpO1xuICAgICAgICAgICAgcmV0dXJuIHN1bS5pczAoKSA/IHVuZGVmaW5lZCA6IHN1bTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydHMgUHJvamVjdGl2ZSBwb2ludCB0byBhZmZpbmUgKHgsIHkpIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKiBAcGFyYW0gaW52ZXJ0ZWRaIFpeLTEgKGludmVydGVkIHplcm8pIC0gb3B0aW9uYWwsIHByZWNvbXB1dGF0aW9uIGlzIHVzZWZ1bCBmb3IgaW52ZXJ0QmF0Y2hcbiAgICAgICAgICovXG4gICAgICAgIHRvQWZmaW5lKGludmVydGVkWikge1xuICAgICAgICAgICAgcmV0dXJuIHRvQWZmaW5lTWVtbyh0aGlzLCBpbnZlcnRlZFopO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVja3Mgd2hldGhlciBQb2ludCBpcyBmcmVlIG9mIHRvcnNpb24gZWxlbWVudHMgKGlzIGluIHByaW1lIHN1Ymdyb3VwKS5cbiAgICAgICAgICogQWx3YXlzIHRvcnNpb24tZnJlZSBmb3IgY29mYWN0b3I9MSBjdXJ2ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBpc1RvcnNpb25GcmVlKCkge1xuICAgICAgICAgICAgY29uc3QgeyBpc1RvcnNpb25GcmVlIH0gPSBleHRyYU9wdHM7XG4gICAgICAgICAgICBpZiAoY29mYWN0b3IgPT09IF8xbilcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChpc1RvcnNpb25GcmVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBpc1RvcnNpb25GcmVlKFBvaW50LCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB3bmFmLnVuc2FmZSh0aGlzLCBDVVJWRV9PUkRFUikuaXMwKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJDb2ZhY3RvcigpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY2xlYXJDb2ZhY3RvciB9ID0gZXh0cmFPcHRzO1xuICAgICAgICAgICAgaWYgKGNvZmFjdG9yID09PSBfMW4pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7IC8vIEZhc3QtcGF0aFxuICAgICAgICAgICAgaWYgKGNsZWFyQ29mYWN0b3IpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsZWFyQ29mYWN0b3IoUG9pbnQsIHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlVbnNhZmUoY29mYWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGlzU21hbGxPcmRlcigpIHtcbiAgICAgICAgICAgIC8vIGNhbiB3ZSB1c2UgdGhpcy5jbGVhckNvZmFjdG9yKCk/XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseVVuc2FmZShjb2ZhY3RvcikuaXMwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdG9CeXRlcyhpc0NvbXByZXNzZWQgPSB0cnVlKSB7XG4gICAgICAgICAgICBhYm9vbChpc0NvbXByZXNzZWQsICdpc0NvbXByZXNzZWQnKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZXJ0VmFsaWRpdHkoKTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVQb2ludChQb2ludCwgdGhpcywgaXNDb21wcmVzc2VkKTtcbiAgICAgICAgfVxuICAgICAgICB0b0hleChpc0NvbXByZXNzZWQgPSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYnl0ZXNUb0hleCh0aGlzLnRvQnl0ZXMoaXNDb21wcmVzc2VkKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gYDxQb2ludCAke3RoaXMuaXMwKCkgPyAnWkVSTycgOiB0aGlzLnRvSGV4KCl9PmA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlXG4gICAgICAgIGdldCBweCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlg7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHB5KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuWDtcbiAgICAgICAgfVxuICAgICAgICBnZXQgcHooKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5aO1xuICAgICAgICB9XG4gICAgICAgIHRvUmF3Qnl0ZXMoaXNDb21wcmVzc2VkID0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9CeXRlcyhpc0NvbXByZXNzZWQpO1xuICAgICAgICB9XG4gICAgICAgIF9zZXRXaW5kb3dTaXplKHdpbmRvd1NpemUpIHtcbiAgICAgICAgICAgIHRoaXMucHJlY29tcHV0ZSh3aW5kb3dTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgbm9ybWFsaXplWihwb2ludHMpIHtcbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpemVaKFBvaW50LCBwb2ludHMpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBtc20ocG9pbnRzLCBzY2FsYXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gcGlwcGVuZ2VyKFBvaW50LCBGbiwgcG9pbnRzLCBzY2FsYXJzKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgZnJvbVByaXZhdGVLZXkocHJpdmF0ZUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIFBvaW50LkJBU0UubXVsdGlwbHkoX25vcm1GbkVsZW1lbnQoRm4sIHByaXZhdGVLZXkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBiYXNlIC8gZ2VuZXJhdG9yIHBvaW50XG4gICAgUG9pbnQuQkFTRSA9IG5ldyBQb2ludChDVVJWRS5HeCwgQ1VSVkUuR3ksIEZwLk9ORSk7XG4gICAgLy8gemVybyAvIGluZmluaXR5IC8gaWRlbnRpdHkgcG9pbnRcbiAgICBQb2ludC5aRVJPID0gbmV3IFBvaW50KEZwLlpFUk8sIEZwLk9ORSwgRnAuWkVSTyk7IC8vIDAsIDEsIDBcbiAgICAvLyBtYXRoIGZpZWxkXG4gICAgUG9pbnQuRnAgPSBGcDtcbiAgICAvLyBzY2FsYXIgZmllbGRcbiAgICBQb2ludC5GbiA9IEZuO1xuICAgIGNvbnN0IGJpdHMgPSBGbi5CSVRTO1xuICAgIGNvbnN0IHduYWYgPSBuZXcgd05BRihQb2ludCwgZXh0cmFPcHRzLmVuZG8gPyBNYXRoLmNlaWwoYml0cyAvIDIpIDogYml0cyk7XG4gICAgUG9pbnQuQkFTRS5wcmVjb21wdXRlKDgpOyAvLyBFbmFibGUgcHJlY29tcHV0ZXMuIFNsb3dzIGRvd24gZmlyc3QgcHVibGljS2V5IGNvbXB1dGF0aW9uIGJ5IDIwbXMuXG4gICAgcmV0dXJuIFBvaW50O1xufVxuLy8gUG9pbnRzIHN0YXJ0IHdpdGggYnl0ZSAweDAyIHdoZW4geSBpcyBldmVuOyBvdGhlcndpc2UgMHgwM1xuZnVuY3Rpb24gcHByZWZpeChoYXNFdmVuWSkge1xuICAgIHJldHVybiBVaW50OEFycmF5Lm9mKGhhc0V2ZW5ZID8gMHgwMiA6IDB4MDMpO1xufVxuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2hhbGx1ZSBhbmQgdmFuIGRlIFdvZXN0aWpuZSBtZXRob2QgZm9yIGFueSB3ZWllcnN0cmFzcyBjdXJ2ZS5cbiAqIFRPRE86IGNoZWNrIGlmIHRoZXJlIGlzIGEgd2F5IHRvIG1lcmdlIHRoaXMgd2l0aCB1dlJhdGlvIGluIEVkd2FyZHM7IG1vdmUgdG8gbW9kdWxhci5cbiAqIGIgPSBUcnVlIGFuZCB5ID0gc3FydCh1IC8gdikgaWYgKHUgLyB2KSBpcyBzcXVhcmUgaW4gRiwgYW5kXG4gKiBiID0gRmFsc2UgYW5kIHkgPSBzcXJ0KFogKiAodSAvIHYpKSBvdGhlcndpc2UuXG4gKiBAcGFyYW0gRnBcbiAqIEBwYXJhbSBaXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gU1dVRnBTcXJ0UmF0aW8oRnAsIFopIHtcbiAgICAvLyBHZW5lcmljIGltcGxlbWVudGF0aW9uXG4gICAgY29uc3QgcSA9IEZwLk9SREVSO1xuICAgIGxldCBsID0gXzBuO1xuICAgIGZvciAobGV0IG8gPSBxIC0gXzFuOyBvICUgXzJuID09PSBfMG47IG8gLz0gXzJuKVxuICAgICAgICBsICs9IF8xbjtcbiAgICBjb25zdCBjMSA9IGw7IC8vIDEuIGMxLCB0aGUgbGFyZ2VzdCBpbnRlZ2VyIHN1Y2ggdGhhdCAyXmMxIGRpdmlkZXMgcSAtIDEuXG4gICAgLy8gV2UgbmVlZCAybiAqKiBjMSBhbmQgMm4gKiogKGMxLTEpLiBXZSBjYW4ndCB1c2UgKio7IGJ1dCB3ZSBjYW4gdXNlIDw8LlxuICAgIC8vIDJuICoqIGMxID09IDJuIDw8IChjMS0xKVxuICAgIGNvbnN0IF8ybl9wb3dfYzFfMSA9IF8ybiA8PCAoYzEgLSBfMW4gLSBfMW4pO1xuICAgIGNvbnN0IF8ybl9wb3dfYzEgPSBfMm5fcG93X2MxXzEgKiBfMm47XG4gICAgY29uc3QgYzIgPSAocSAtIF8xbikgLyBfMm5fcG93X2MxOyAvLyAyLiBjMiA9IChxIC0gMSkgLyAoMl5jMSkgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzMgPSAoYzIgLSBfMW4pIC8gXzJuOyAvLyAzLiBjMyA9IChjMiAtIDEpIC8gMiAgICAgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzQgPSBfMm5fcG93X2MxIC0gXzFuOyAvLyA0LiBjNCA9IDJeYzEgLSAxICAgICAgICAgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzUgPSBfMm5fcG93X2MxXzE7IC8vIDUuIGM1ID0gMl4oYzEgLSAxKSAgICAgICAgICAgICAgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgY29uc3QgYzYgPSBGcC5wb3coWiwgYzIpOyAvLyA2LiBjNiA9IFpeYzJcbiAgICBjb25zdCBjNyA9IEZwLnBvdyhaLCAoYzIgKyBfMW4pIC8gXzJuKTsgLy8gNy4gYzcgPSBaXigoYzIgKyAxKSAvIDIpXG4gICAgbGV0IHNxcnRSYXRpbyA9ICh1LCB2KSA9PiB7XG4gICAgICAgIGxldCB0djEgPSBjNjsgLy8gMS4gdHYxID0gYzZcbiAgICAgICAgbGV0IHR2MiA9IEZwLnBvdyh2LCBjNCk7IC8vIDIuIHR2MiA9IHZeYzRcbiAgICAgICAgbGV0IHR2MyA9IEZwLnNxcih0djIpOyAvLyAzLiB0djMgPSB0djJeMlxuICAgICAgICB0djMgPSBGcC5tdWwodHYzLCB2KTsgLy8gNC4gdHYzID0gdHYzICogdlxuICAgICAgICBsZXQgdHY1ID0gRnAubXVsKHUsIHR2Myk7IC8vIDUuIHR2NSA9IHUgKiB0djNcbiAgICAgICAgdHY1ID0gRnAucG93KHR2NSwgYzMpOyAvLyA2LiB0djUgPSB0djVeYzNcbiAgICAgICAgdHY1ID0gRnAubXVsKHR2NSwgdHYyKTsgLy8gNy4gdHY1ID0gdHY1ICogdHYyXG4gICAgICAgIHR2MiA9IEZwLm11bCh0djUsIHYpOyAvLyA4LiB0djIgPSB0djUgKiB2XG4gICAgICAgIHR2MyA9IEZwLm11bCh0djUsIHUpOyAvLyA5LiB0djMgPSB0djUgKiB1XG4gICAgICAgIGxldCB0djQgPSBGcC5tdWwodHYzLCB0djIpOyAvLyAxMC4gdHY0ID0gdHYzICogdHYyXG4gICAgICAgIHR2NSA9IEZwLnBvdyh0djQsIGM1KTsgLy8gMTEuIHR2NSA9IHR2NF5jNVxuICAgICAgICBsZXQgaXNRUiA9IEZwLmVxbCh0djUsIEZwLk9ORSk7IC8vIDEyLiBpc1FSID0gdHY1ID09IDFcbiAgICAgICAgdHYyID0gRnAubXVsKHR2MywgYzcpOyAvLyAxMy4gdHYyID0gdHYzICogYzdcbiAgICAgICAgdHY1ID0gRnAubXVsKHR2NCwgdHYxKTsgLy8gMTQuIHR2NSA9IHR2NCAqIHR2MVxuICAgICAgICB0djMgPSBGcC5jbW92KHR2MiwgdHYzLCBpc1FSKTsgLy8gMTUuIHR2MyA9IENNT1YodHYyLCB0djMsIGlzUVIpXG4gICAgICAgIHR2NCA9IEZwLmNtb3YodHY1LCB0djQsIGlzUVIpOyAvLyAxNi4gdHY0ID0gQ01PVih0djUsIHR2NCwgaXNRUilcbiAgICAgICAgLy8gMTcuIGZvciBpIGluIChjMSwgYzEgLSAxLCAuLi4sIDIpOlxuICAgICAgICBmb3IgKGxldCBpID0gYzE7IGkgPiBfMW47IGktLSkge1xuICAgICAgICAgICAgbGV0IHR2NSA9IGkgLSBfMm47IC8vIDE4LiAgICB0djUgPSBpIC0gMlxuICAgICAgICAgICAgdHY1ID0gXzJuIDw8ICh0djUgLSBfMW4pOyAvLyAxOS4gICAgdHY1ID0gMl50djVcbiAgICAgICAgICAgIGxldCB0dnY1ID0gRnAucG93KHR2NCwgdHY1KTsgLy8gMjAuICAgIHR2NSA9IHR2NF50djVcbiAgICAgICAgICAgIGNvbnN0IGUxID0gRnAuZXFsKHR2djUsIEZwLk9ORSk7IC8vIDIxLiAgICBlMSA9IHR2NSA9PSAxXG4gICAgICAgICAgICB0djIgPSBGcC5tdWwodHYzLCB0djEpOyAvLyAyMi4gICAgdHYyID0gdHYzICogdHYxXG4gICAgICAgICAgICB0djEgPSBGcC5tdWwodHYxLCB0djEpOyAvLyAyMy4gICAgdHYxID0gdHYxICogdHYxXG4gICAgICAgICAgICB0dnY1ID0gRnAubXVsKHR2NCwgdHYxKTsgLy8gMjQuICAgIHR2NSA9IHR2NCAqIHR2MVxuICAgICAgICAgICAgdHYzID0gRnAuY21vdih0djIsIHR2MywgZTEpOyAvLyAyNS4gICAgdHYzID0gQ01PVih0djIsIHR2MywgZTEpXG4gICAgICAgICAgICB0djQgPSBGcC5jbW92KHR2djUsIHR2NCwgZTEpOyAvLyAyNi4gICAgdHY0ID0gQ01PVih0djUsIHR2NCwgZTEpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaXNWYWxpZDogaXNRUiwgdmFsdWU6IHR2MyB9O1xuICAgIH07XG4gICAgaWYgKEZwLk9SREVSICUgXzRuID09PSBfM24pIHtcbiAgICAgICAgLy8gc3FydF9yYXRpb18zbW9kNCh1LCB2KVxuICAgICAgICBjb25zdCBjMSA9IChGcC5PUkRFUiAtIF8zbikgLyBfNG47IC8vIDEuIGMxID0gKHEgLSAzKSAvIDQgICAgICMgSW50ZWdlciBhcml0aG1ldGljXG4gICAgICAgIGNvbnN0IGMyID0gRnAuc3FydChGcC5uZWcoWikpOyAvLyAyLiBjMiA9IHNxcnQoLVopXG4gICAgICAgIHNxcnRSYXRpbyA9ICh1LCB2KSA9PiB7XG4gICAgICAgICAgICBsZXQgdHYxID0gRnAuc3FyKHYpOyAvLyAxLiB0djEgPSB2XjJcbiAgICAgICAgICAgIGNvbnN0IHR2MiA9IEZwLm11bCh1LCB2KTsgLy8gMi4gdHYyID0gdSAqIHZcbiAgICAgICAgICAgIHR2MSA9IEZwLm11bCh0djEsIHR2Mik7IC8vIDMuIHR2MSA9IHR2MSAqIHR2MlxuICAgICAgICAgICAgbGV0IHkxID0gRnAucG93KHR2MSwgYzEpOyAvLyA0LiB5MSA9IHR2MV5jMVxuICAgICAgICAgICAgeTEgPSBGcC5tdWwoeTEsIHR2Mik7IC8vIDUuIHkxID0geTEgKiB0djJcbiAgICAgICAgICAgIGNvbnN0IHkyID0gRnAubXVsKHkxLCBjMik7IC8vIDYuIHkyID0geTEgKiBjMlxuICAgICAgICAgICAgY29uc3QgdHYzID0gRnAubXVsKEZwLnNxcih5MSksIHYpOyAvLyA3LiB0djMgPSB5MV4yOyA4LiB0djMgPSB0djMgKiB2XG4gICAgICAgICAgICBjb25zdCBpc1FSID0gRnAuZXFsKHR2MywgdSk7IC8vIDkuIGlzUVIgPSB0djMgPT0gdVxuICAgICAgICAgICAgbGV0IHkgPSBGcC5jbW92KHkyLCB5MSwgaXNRUik7IC8vIDEwLiB5ID0gQ01PVih5MiwgeTEsIGlzUVIpXG4gICAgICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiBpc1FSLCB2YWx1ZTogeSB9OyAvLyAxMS4gcmV0dXJuIChpc1FSLCB5KSBpc1FSID8geSA6IHkqYzJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gTm8gY3VydmVzIHVzZXMgdGhhdFxuICAgIC8vIGlmIChGcC5PUkRFUiAlIF84biA9PT0gXzVuKSAvLyBzcXJ0X3JhdGlvXzVtb2Q4XG4gICAgcmV0dXJuIHNxcnRSYXRpbztcbn1cbi8qKlxuICogU2ltcGxpZmllZCBTaGFsbHVlLXZhbiBkZSBXb2VzdGlqbmUtVWxhcyBNZXRob2RcbiAqIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5MzgwI3NlY3Rpb24tNi42LjJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcFRvQ3VydmVTaW1wbGVTV1UoRnAsIG9wdHMpIHtcbiAgICB2YWxpZGF0ZUZpZWxkKEZwKTtcbiAgICBjb25zdCB7IEEsIEIsIFogfSA9IG9wdHM7XG4gICAgaWYgKCFGcC5pc1ZhbGlkKEEpIHx8ICFGcC5pc1ZhbGlkKEIpIHx8ICFGcC5pc1ZhbGlkKFopKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcFRvQ3VydmVTaW1wbGVTV1U6IGludmFsaWQgb3B0cycpO1xuICAgIGNvbnN0IHNxcnRSYXRpbyA9IFNXVUZwU3FydFJhdGlvKEZwLCBaKTtcbiAgICBpZiAoIUZwLmlzT2RkKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpZWxkIGRvZXMgbm90IGhhdmUgLmlzT2RkKCknKTtcbiAgICAvLyBJbnB1dDogdSwgYW4gZWxlbWVudCBvZiBGLlxuICAgIC8vIE91dHB1dDogKHgsIHkpLCBhIHBvaW50IG9uIEUuXG4gICAgcmV0dXJuICh1KSA9PiB7XG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICBsZXQgdHYxLCB0djIsIHR2MywgdHY0LCB0djUsIHR2NiwgeCwgeTtcbiAgICAgICAgdHYxID0gRnAuc3FyKHUpOyAvLyAxLiAgdHYxID0gdV4yXG4gICAgICAgIHR2MSA9IEZwLm11bCh0djEsIFopOyAvLyAyLiAgdHYxID0gWiAqIHR2MVxuICAgICAgICB0djIgPSBGcC5zcXIodHYxKTsgLy8gMy4gIHR2MiA9IHR2MV4yXG4gICAgICAgIHR2MiA9IEZwLmFkZCh0djIsIHR2MSk7IC8vIDQuICB0djIgPSB0djIgKyB0djFcbiAgICAgICAgdHYzID0gRnAuYWRkKHR2MiwgRnAuT05FKTsgLy8gNS4gIHR2MyA9IHR2MiArIDFcbiAgICAgICAgdHYzID0gRnAubXVsKHR2MywgQik7IC8vIDYuICB0djMgPSBCICogdHYzXG4gICAgICAgIHR2NCA9IEZwLmNtb3YoWiwgRnAubmVnKHR2MiksICFGcC5lcWwodHYyLCBGcC5aRVJPKSk7IC8vIDcuICB0djQgPSBDTU9WKFosIC10djIsIHR2MiAhPSAwKVxuICAgICAgICB0djQgPSBGcC5tdWwodHY0LCBBKTsgLy8gOC4gIHR2NCA9IEEgKiB0djRcbiAgICAgICAgdHYyID0gRnAuc3FyKHR2Myk7IC8vIDkuICB0djIgPSB0djNeMlxuICAgICAgICB0djYgPSBGcC5zcXIodHY0KTsgLy8gMTAuIHR2NiA9IHR2NF4yXG4gICAgICAgIHR2NSA9IEZwLm11bCh0djYsIEEpOyAvLyAxMS4gdHY1ID0gQSAqIHR2NlxuICAgICAgICB0djIgPSBGcC5hZGQodHYyLCB0djUpOyAvLyAxMi4gdHYyID0gdHYyICsgdHY1XG4gICAgICAgIHR2MiA9IEZwLm11bCh0djIsIHR2Myk7IC8vIDEzLiB0djIgPSB0djIgKiB0djNcbiAgICAgICAgdHY2ID0gRnAubXVsKHR2NiwgdHY0KTsgLy8gMTQuIHR2NiA9IHR2NiAqIHR2NFxuICAgICAgICB0djUgPSBGcC5tdWwodHY2LCBCKTsgLy8gMTUuIHR2NSA9IEIgKiB0djZcbiAgICAgICAgdHYyID0gRnAuYWRkKHR2MiwgdHY1KTsgLy8gMTYuIHR2MiA9IHR2MiArIHR2NVxuICAgICAgICB4ID0gRnAubXVsKHR2MSwgdHYzKTsgLy8gMTcuICAgeCA9IHR2MSAqIHR2M1xuICAgICAgICBjb25zdCB7IGlzVmFsaWQsIHZhbHVlIH0gPSBzcXJ0UmF0aW8odHYyLCB0djYpOyAvLyAxOC4gKGlzX2d4MV9zcXVhcmUsIHkxKSA9IHNxcnRfcmF0aW8odHYyLCB0djYpXG4gICAgICAgIHkgPSBGcC5tdWwodHYxLCB1KTsgLy8gMTkuICAgeSA9IHR2MSAqIHUgIC0+IFogKiB1XjMgKiB5MVxuICAgICAgICB5ID0gRnAubXVsKHksIHZhbHVlKTsgLy8gMjAuICAgeSA9IHkgKiB5MVxuICAgICAgICB4ID0gRnAuY21vdih4LCB0djMsIGlzVmFsaWQpOyAvLyAyMS4gICB4ID0gQ01PVih4LCB0djMsIGlzX2d4MV9zcXVhcmUpXG4gICAgICAgIHkgPSBGcC5jbW92KHksIHZhbHVlLCBpc1ZhbGlkKTsgLy8gMjIuICAgeSA9IENNT1YoeSwgeTEsIGlzX2d4MV9zcXVhcmUpXG4gICAgICAgIGNvbnN0IGUxID0gRnAuaXNPZGQodSkgPT09IEZwLmlzT2RkKHkpOyAvLyAyMy4gIGUxID0gc2duMCh1KSA9PSBzZ24wKHkpXG4gICAgICAgIHkgPSBGcC5jbW92KEZwLm5lZyh5KSwgeSwgZTEpOyAvLyAyNC4gICB5ID0gQ01PVigteSwgeSwgZTEpXG4gICAgICAgIGNvbnN0IHR2NF9pbnYgPSBGcEludmVydEJhdGNoKEZwLCBbdHY0XSwgdHJ1ZSlbMF07XG4gICAgICAgIHggPSBGcC5tdWwoeCwgdHY0X2ludik7IC8vIDI1LiAgIHggPSB4IC8gdHY0XG4gICAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0V0xlbmd0aHMoRnAsIEZuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VjcmV0S2V5OiBGbi5CWVRFUyxcbiAgICAgICAgcHVibGljS2V5OiAxICsgRnAuQllURVMsXG4gICAgICAgIHB1YmxpY0tleVVuY29tcHJlc3NlZDogMSArIDIgKiBGcC5CWVRFUyxcbiAgICAgICAgcHVibGljS2V5SGFzUHJlZml4OiB0cnVlLFxuICAgICAgICBzaWduYXR1cmU6IDIgKiBGbi5CWVRFUyxcbiAgICB9O1xufVxuLyoqXG4gKiBTb21ldGltZXMgdXNlcnMgb25seSBuZWVkIGdldFB1YmxpY0tleSwgZ2V0U2hhcmVkU2VjcmV0LCBhbmQgc2VjcmV0IGtleSBoYW5kbGluZy5cbiAqIFRoaXMgaGVscGVyIGVuc3VyZXMgbm8gc2lnbmF0dXJlIGZ1bmN0aW9uYWxpdHkgaXMgcHJlc2VudC4gTGVzcyBjb2RlLCBzbWFsbGVyIGJ1bmRsZSBzaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWNkaChQb2ludCwgZWNkaE9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgRm4gfSA9IFBvaW50O1xuICAgIGNvbnN0IHJhbmRvbUJ5dGVzXyA9IGVjZGhPcHRzLnJhbmRvbUJ5dGVzIHx8IHJhbmRvbUJ5dGVzV2ViO1xuICAgIGNvbnN0IGxlbmd0aHMgPSBPYmplY3QuYXNzaWduKGdldFdMZW5ndGhzKFBvaW50LkZwLCBGbiksIHsgc2VlZDogZ2V0TWluSGFzaExlbmd0aChGbi5PUkRFUikgfSk7XG4gICAgZnVuY3Rpb24gaXNWYWxpZFNlY3JldEtleShzZWNyZXRLZXkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAhIV9ub3JtRm5FbGVtZW50KEZuLCBzZWNyZXRLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRQdWJsaWNLZXkocHVibGljS2V5LCBpc0NvbXByZXNzZWQpIHtcbiAgICAgICAgY29uc3QgeyBwdWJsaWNLZXk6IGNvbXAsIHB1YmxpY0tleVVuY29tcHJlc3NlZCB9ID0gbGVuZ3RocztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGwgPSBwdWJsaWNLZXkubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGlzQ29tcHJlc3NlZCA9PT0gdHJ1ZSAmJiBsICE9PSBjb21wKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpc0NvbXByZXNzZWQgPT09IGZhbHNlICYmIGwgIT09IHB1YmxpY0tleVVuY29tcHJlc3NlZClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gISFQb2ludC5mcm9tQnl0ZXMocHVibGljS2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBjcnlwdG9ncmFwaGljYWxseSBzZWN1cmUgc2VjcmV0IGtleSBmcm9tIHJhbmRvbSBvZiBzaXplXG4gICAgICogKGdyb3VwTGVuICsgY2VpbChncm91cExlbiAvIDIpKSB3aXRoIG1vZHVsbyBiaWFzIGJlaW5nIG5lZ2xpZ2libGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tU2VjcmV0S2V5KHNlZWQgPSByYW5kb21CeXRlc18obGVuZ3Rocy5zZWVkKSkge1xuICAgICAgICByZXR1cm4gbWFwSGFzaFRvRmllbGQoYWJ5dGVzKHNlZWQsIGxlbmd0aHMuc2VlZCwgJ3NlZWQnKSwgRm4uT1JERVIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBwdWJsaWMga2V5IGZvciBhIHNlY3JldCBrZXkuIENoZWNrcyBmb3IgdmFsaWRpdHkgb2YgdGhlIHNlY3JldCBrZXkuXG4gICAgICogQHBhcmFtIGlzQ29tcHJlc3NlZCB3aGV0aGVyIHRvIHJldHVybiBjb21wYWN0IChkZWZhdWx0KSwgb3IgZnVsbCBrZXlcbiAgICAgKiBAcmV0dXJucyBQdWJsaWMga2V5LCBmdWxsIHdoZW4gaXNDb21wcmVzc2VkPWZhbHNlOyBzaG9ydCB3aGVuIGlzQ29tcHJlc3NlZD10cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UHVibGljS2V5KHNlY3JldEtleSwgaXNDb21wcmVzc2VkID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gUG9pbnQuQkFTRS5tdWx0aXBseShfbm9ybUZuRWxlbWVudChGbiwgc2VjcmV0S2V5KSkudG9CeXRlcyhpc0NvbXByZXNzZWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBrZXlnZW4oc2VlZCkge1xuICAgICAgICBjb25zdCBzZWNyZXRLZXkgPSByYW5kb21TZWNyZXRLZXkoc2VlZCk7XG4gICAgICAgIHJldHVybiB7IHNlY3JldEtleSwgcHVibGljS2V5OiBnZXRQdWJsaWNLZXkoc2VjcmV0S2V5KSB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWljayBhbmQgZGlydHkgY2hlY2sgZm9yIGl0ZW0gYmVpbmcgcHVibGljIGtleS4gRG9lcyBub3QgdmFsaWRhdGUgaGV4LCBvciBiZWluZyBvbi1jdXJ2ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb2JQdWIoaXRlbSkge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdiaWdpbnQnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnN0IHsgc2VjcmV0S2V5LCBwdWJsaWNLZXksIHB1YmxpY0tleVVuY29tcHJlc3NlZCB9ID0gbGVuZ3RocztcbiAgICAgICAgaWYgKEZuLmFsbG93ZWRMZW5ndGhzIHx8IHNlY3JldEtleSA9PT0gcHVibGljS2V5KVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgbCA9IGVuc3VyZUJ5dGVzKCdrZXknLCBpdGVtKS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBsID09PSBwdWJsaWNLZXkgfHwgbCA9PT0gcHVibGljS2V5VW5jb21wcmVzc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFQ0RIIChFbGxpcHRpYyBDdXJ2ZSBEaWZmaWUgSGVsbG1hbikuXG4gICAgICogQ29tcHV0ZXMgc2hhcmVkIHB1YmxpYyBrZXkgZnJvbSBzZWNyZXQga2V5IEEgYW5kIHB1YmxpYyBrZXkgQi5cbiAgICAgKiBDaGVja3M6IDEpIHNlY3JldCBrZXkgdmFsaWRpdHkgMikgc2hhcmVkIGtleSBpcyBvbi1jdXJ2ZS5cbiAgICAgKiBEb2VzIE5PVCBoYXNoIHRoZSByZXN1bHQuXG4gICAgICogQHBhcmFtIGlzQ29tcHJlc3NlZCB3aGV0aGVyIHRvIHJldHVybiBjb21wYWN0IChkZWZhdWx0KSwgb3IgZnVsbCBrZXlcbiAgICAgKiBAcmV0dXJucyBzaGFyZWQgcHVibGljIGtleVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFNoYXJlZFNlY3JldChzZWNyZXRLZXlBLCBwdWJsaWNLZXlCLCBpc0NvbXByZXNzZWQgPSB0cnVlKSB7XG4gICAgICAgIGlmIChpc1Byb2JQdWIoc2VjcmV0S2V5QSkgPT09IHRydWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZyBtdXN0IGJlIHByaXZhdGUga2V5Jyk7XG4gICAgICAgIGlmIChpc1Byb2JQdWIocHVibGljS2V5QikgPT09IGZhbHNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZWNvbmQgYXJnIG11c3QgYmUgcHVibGljIGtleScpO1xuICAgICAgICBjb25zdCBzID0gX25vcm1GbkVsZW1lbnQoRm4sIHNlY3JldEtleUEpO1xuICAgICAgICBjb25zdCBiID0gUG9pbnQuZnJvbUhleChwdWJsaWNLZXlCKTsgLy8gY2hlY2tzIGZvciBiZWluZyBvbi1jdXJ2ZVxuICAgICAgICByZXR1cm4gYi5tdWx0aXBseShzKS50b0J5dGVzKGlzQ29tcHJlc3NlZCk7XG4gICAgfVxuICAgIGNvbnN0IHV0aWxzID0ge1xuICAgICAgICBpc1ZhbGlkU2VjcmV0S2V5LFxuICAgICAgICBpc1ZhbGlkUHVibGljS2V5LFxuICAgICAgICByYW5kb21TZWNyZXRLZXksXG4gICAgICAgIC8vIFRPRE86IHJlbW92ZVxuICAgICAgICBpc1ZhbGlkUHJpdmF0ZUtleTogaXNWYWxpZFNlY3JldEtleSxcbiAgICAgICAgcmFuZG9tUHJpdmF0ZUtleTogcmFuZG9tU2VjcmV0S2V5LFxuICAgICAgICBub3JtUHJpdmF0ZUtleVRvU2NhbGFyOiAoa2V5KSA9PiBfbm9ybUZuRWxlbWVudChGbiwga2V5KSxcbiAgICAgICAgcHJlY29tcHV0ZSh3aW5kb3dTaXplID0gOCwgcG9pbnQgPSBQb2ludC5CQVNFKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9pbnQucHJlY29tcHV0ZSh3aW5kb3dTaXplLCBmYWxzZSk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7IGdldFB1YmxpY0tleSwgZ2V0U2hhcmVkU2VjcmV0LCBrZXlnZW4sIFBvaW50LCB1dGlscywgbGVuZ3RocyB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBFQ0RTQSBzaWduaW5nIGludGVyZmFjZSBmb3IgZ2l2ZW4gZWxsaXB0aWMgY3VydmUgYFBvaW50YCBhbmQgYGhhc2hgIGZ1bmN0aW9uLlxuICogV2UgbmVlZCBgaGFzaGAgZm9yIDIgZmVhdHVyZXM6XG4gKiAxLiBNZXNzYWdlIHByZWhhc2gtaW5nLiBOT1QgdXNlZCBpZiBgc2lnbmAgLyBgdmVyaWZ5YCBhcmUgY2FsbGVkIHdpdGggYHByZWhhc2g6IGZhbHNlYFxuICogMi4gayBnZW5lcmF0aW9uIGluIGBzaWduYCwgdXNpbmcgSE1BQy1kcmJnKGhhc2gpXG4gKlxuICogRUNEU0FPcHRzIGFyZSBvbmx5IHJhcmVseSBuZWVkZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBjb25zdCBwMjU2X1BvaW50ID0gd2VpZXJzdHJhc3MoLi4uKTtcbiAqIGNvbnN0IHAyNTZfc2hhMjU2ID0gZWNkc2EocDI1Nl9Qb2ludCwgc2hhMjU2KTtcbiAqIGNvbnN0IHAyNTZfc2hhMjI0ID0gZWNkc2EocDI1Nl9Qb2ludCwgc2hhMjI0KTtcbiAqIGNvbnN0IHAyNTZfc2hhMjI0X3IgPSBlY2RzYShwMjU2X1BvaW50LCBzaGEyMjQsIHsgcmFuZG9tQnl0ZXM6IChsZW5ndGgpID0+IHsgLi4uIH0gfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVjZHNhKFBvaW50LCBoYXNoLCBlY2RzYU9wdHMgPSB7fSkge1xuICAgIGFoYXNoKGhhc2gpO1xuICAgIF92YWxpZGF0ZU9iamVjdChlY2RzYU9wdHMsIHt9LCB7XG4gICAgICAgIGhtYWM6ICdmdW5jdGlvbicsXG4gICAgICAgIGxvd1M6ICdib29sZWFuJyxcbiAgICAgICAgcmFuZG9tQnl0ZXM6ICdmdW5jdGlvbicsXG4gICAgICAgIGJpdHMyaW50OiAnZnVuY3Rpb24nLFxuICAgICAgICBiaXRzMmludF9tb2ROOiAnZnVuY3Rpb24nLFxuICAgIH0pO1xuICAgIGNvbnN0IHJhbmRvbUJ5dGVzID0gZWNkc2FPcHRzLnJhbmRvbUJ5dGVzIHx8IHJhbmRvbUJ5dGVzV2ViO1xuICAgIGNvbnN0IGhtYWMgPSBlY2RzYU9wdHMuaG1hYyB8fFxuICAgICAgICAoKGtleSwgLi4ubXNncykgPT4gbm9ibGVIbWFjKGhhc2gsIGtleSwgY29uY2F0Qnl0ZXMoLi4ubXNncykpKTtcbiAgICBjb25zdCB7IEZwLCBGbiB9ID0gUG9pbnQ7XG4gICAgY29uc3QgeyBPUkRFUjogQ1VSVkVfT1JERVIsIEJJVFM6IGZuQml0cyB9ID0gRm47XG4gICAgY29uc3QgeyBrZXlnZW4sIGdldFB1YmxpY0tleSwgZ2V0U2hhcmVkU2VjcmV0LCB1dGlscywgbGVuZ3RocyB9ID0gZWNkaChQb2ludCwgZWNkc2FPcHRzKTtcbiAgICBjb25zdCBkZWZhdWx0U2lnT3B0cyA9IHtcbiAgICAgICAgcHJlaGFzaDogZmFsc2UsXG4gICAgICAgIGxvd1M6IHR5cGVvZiBlY2RzYU9wdHMubG93UyA9PT0gJ2Jvb2xlYW4nID8gZWNkc2FPcHRzLmxvd1MgOiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiB1bmRlZmluZWQsIC8vJ2NvbXBhY3QnIGFzIEVDRFNBU2lnRm9ybWF0LFxuICAgICAgICBleHRyYUVudHJvcHk6IGZhbHNlLFxuICAgIH07XG4gICAgY29uc3QgZGVmYXVsdFNpZ09wdHNfZm9ybWF0ID0gJ2NvbXBhY3QnO1xuICAgIGZ1bmN0aW9uIGlzQmlnZ2VyVGhhbkhhbGZPcmRlcihudW1iZXIpIHtcbiAgICAgICAgY29uc3QgSEFMRiA9IENVUlZFX09SREVSID4+IF8xbjtcbiAgICAgICAgcmV0dXJuIG51bWJlciA+IEhBTEY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlUlModGl0bGUsIG51bSkge1xuICAgICAgICBpZiAoIUZuLmlzVmFsaWROb3QwKG51bSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgc2lnbmF0dXJlICR7dGl0bGV9OiBvdXQgb2YgcmFuZ2UgMS4uUG9pbnQuRm4uT1JERVJgKTtcbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVTaWdMZW5ndGgoYnl0ZXMsIGZvcm1hdCkge1xuICAgICAgICB2YWxpZGF0ZVNpZ0Zvcm1hdChmb3JtYXQpO1xuICAgICAgICBjb25zdCBzaXplID0gbGVuZ3Rocy5zaWduYXR1cmU7XG4gICAgICAgIGNvbnN0IHNpemVyID0gZm9ybWF0ID09PSAnY29tcGFjdCcgPyBzaXplIDogZm9ybWF0ID09PSAncmVjb3ZlcmVkJyA/IHNpemUgKyAxIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gYWJ5dGVzKGJ5dGVzLCBzaXplciwgYCR7Zm9ybWF0fSBzaWduYXR1cmVgKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRUNEU0Egc2lnbmF0dXJlIHdpdGggaXRzIChyLCBzKSBwcm9wZXJ0aWVzLiBTdXBwb3J0cyBjb21wYWN0LCByZWNvdmVyZWQgJiBERVIgcmVwcmVzZW50YXRpb25zLlxuICAgICAqL1xuICAgIGNsYXNzIFNpZ25hdHVyZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHIsIHMsIHJlY292ZXJ5KSB7XG4gICAgICAgICAgICB0aGlzLnIgPSB2YWxpZGF0ZVJTKCdyJywgcik7IC8vIHIgaW4gWzEuLk4tMV07XG4gICAgICAgICAgICB0aGlzLnMgPSB2YWxpZGF0ZVJTKCdzJywgcyk7IC8vIHMgaW4gWzEuLk4tMV07XG4gICAgICAgICAgICBpZiAocmVjb3ZlcnkgIT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aGlzLnJlY292ZXJ5ID0gcmVjb3Zlcnk7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBmcm9tQnl0ZXMoYnl0ZXMsIGZvcm1hdCA9IGRlZmF1bHRTaWdPcHRzX2Zvcm1hdCkge1xuICAgICAgICAgICAgdmFsaWRhdGVTaWdMZW5ndGgoYnl0ZXMsIGZvcm1hdCk7XG4gICAgICAgICAgICBsZXQgcmVjaWQ7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGVyJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgciwgcyB9ID0gREVSLnRvU2lnKGFieXRlcyhieXRlcykpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU2lnbmF0dXJlKHIsIHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ3JlY292ZXJlZCcpIHtcbiAgICAgICAgICAgICAgICByZWNpZCA9IGJ5dGVzWzBdO1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9ICdjb21wYWN0JztcbiAgICAgICAgICAgICAgICBieXRlcyA9IGJ5dGVzLnN1YmFycmF5KDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgTCA9IEZuLkJZVEVTO1xuICAgICAgICAgICAgY29uc3QgciA9IGJ5dGVzLnN1YmFycmF5KDAsIEwpO1xuICAgICAgICAgICAgY29uc3QgcyA9IGJ5dGVzLnN1YmFycmF5KEwsIEwgKiAyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2lnbmF0dXJlKEZuLmZyb21CeXRlcyhyKSwgRm4uZnJvbUJ5dGVzKHMpLCByZWNpZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIGZyb21IZXgoaGV4LCBmb3JtYXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21CeXRlcyhoZXhUb0J5dGVzKGhleCksIGZvcm1hdCk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkUmVjb3ZlcnlCaXQocmVjb3ZlcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2lnbmF0dXJlKHRoaXMuciwgdGhpcy5zLCByZWNvdmVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVjb3ZlclB1YmxpY0tleShtZXNzYWdlSGFzaCkge1xuICAgICAgICAgICAgY29uc3QgRklFTERfT1JERVIgPSBGcC5PUkRFUjtcbiAgICAgICAgICAgIGNvbnN0IHsgciwgcywgcmVjb3Zlcnk6IHJlYyB9ID0gdGhpcztcbiAgICAgICAgICAgIGlmIChyZWMgPT0gbnVsbCB8fCAhWzAsIDEsIDIsIDNdLmluY2x1ZGVzKHJlYykpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZWNvdmVyeSBpZCBpbnZhbGlkJyk7XG4gICAgICAgICAgICAvLyBFQ0RTQSByZWNvdmVyeSBpcyBoYXJkIGZvciBjb2ZhY3RvciA+IDEgY3VydmVzLlxuICAgICAgICAgICAgLy8gSW4gc2lnbiwgYHIgPSBxLnggbW9kIG5gLCBhbmQgaGVyZSB3ZSByZWNvdmVyIHEueCBmcm9tIHIuXG4gICAgICAgICAgICAvLyBXaGlsZSByZWNvdmVyaW5nIHEueCA+PSBuLCB3ZSBuZWVkIHRvIGFkZCByK24gZm9yIGNvZmFjdG9yPTEgY3VydmVzLlxuICAgICAgICAgICAgLy8gSG93ZXZlciwgZm9yIGNvZmFjdG9yPjEsIHIrbiBtYXkgbm90IGdldCBxLng6XG4gICAgICAgICAgICAvLyByK24qaSB3b3VsZCBuZWVkIHRvIGJlIGRvbmUgaW5zdGVhZCB3aGVyZSBpIGlzIHVua25vd24uXG4gICAgICAgICAgICAvLyBUbyBlYXNpbHkgZ2V0IGksIHdlIGVpdGhlciBuZWVkIHRvOlxuICAgICAgICAgICAgLy8gYS4gaW5jcmVhc2UgYW1vdW50IG9mIHZhbGlkIHJlY2lkIHZhbHVlcyAoNCwgNS4uLik7IE9SXG4gICAgICAgICAgICAvLyBiLiBwcm9oaWJpdCBub24tcHJpbWUtb3JkZXIgc2lnbmF0dXJlcyAocmVjaWQgPiAxKS5cbiAgICAgICAgICAgIGNvbnN0IGhhc0NvZmFjdG9yID0gQ1VSVkVfT1JERVIgKiBfMm4gPCBGSUVMRF9PUkRFUjtcbiAgICAgICAgICAgIGlmIChoYXNDb2ZhY3RvciAmJiByZWMgPiAxKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVjb3ZlcnkgaWQgaXMgYW1iaWd1b3VzIGZvciBoPjEgY3VydmUnKTtcbiAgICAgICAgICAgIGNvbnN0IHJhZGogPSByZWMgPT09IDIgfHwgcmVjID09PSAzID8gciArIENVUlZFX09SREVSIDogcjtcbiAgICAgICAgICAgIGlmICghRnAuaXNWYWxpZChyYWRqKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlY292ZXJ5IGlkIDIgb3IgMyBpbnZhbGlkJyk7XG4gICAgICAgICAgICBjb25zdCB4ID0gRnAudG9CeXRlcyhyYWRqKTtcbiAgICAgICAgICAgIGNvbnN0IFIgPSBQb2ludC5mcm9tQnl0ZXMoY29uY2F0Qnl0ZXMocHByZWZpeCgocmVjICYgMSkgPT09IDApLCB4KSk7XG4gICAgICAgICAgICBjb25zdCBpciA9IEZuLmludihyYWRqKTsgLy8gcl4tMVxuICAgICAgICAgICAgY29uc3QgaCA9IGJpdHMyaW50X21vZE4oZW5zdXJlQnl0ZXMoJ21zZ0hhc2gnLCBtZXNzYWdlSGFzaCkpOyAvLyBUcnVuY2F0ZSBoYXNoXG4gICAgICAgICAgICBjb25zdCB1MSA9IEZuLmNyZWF0ZSgtaCAqIGlyKTsgLy8gLWhyXi0xXG4gICAgICAgICAgICBjb25zdCB1MiA9IEZuLmNyZWF0ZShzICogaXIpOyAvLyBzcl4tMVxuICAgICAgICAgICAgLy8gKHNyXi0xKVItKGhyXi0xKUcgPSAtKGhyXi0xKUcgKyAoc3JeLTEpLiB1bnNhZmUgaXMgZmluZTogdGhlcmUgaXMgbm8gcHJpdmF0ZSBkYXRhLlxuICAgICAgICAgICAgY29uc3QgUSA9IFBvaW50LkJBU0UubXVsdGlwbHlVbnNhZmUodTEpLmFkZChSLm11bHRpcGx5VW5zYWZlKHUyKSk7XG4gICAgICAgICAgICBpZiAoUS5pczAoKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BvaW50IGF0IGluZmluaWZ5Jyk7XG4gICAgICAgICAgICBRLmFzc2VydFZhbGlkaXR5KCk7XG4gICAgICAgICAgICByZXR1cm4gUTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaWduYXR1cmVzIHNob3VsZCBiZSBsb3ctcywgdG8gcHJldmVudCBtYWxsZWFiaWxpdHkuXG4gICAgICAgIGhhc0hpZ2hTKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzQmlnZ2VyVGhhbkhhbGZPcmRlcih0aGlzLnMpO1xuICAgICAgICB9XG4gICAgICAgIHRvQnl0ZXMoZm9ybWF0ID0gZGVmYXVsdFNpZ09wdHNfZm9ybWF0KSB7XG4gICAgICAgICAgICB2YWxpZGF0ZVNpZ0Zvcm1hdChmb3JtYXQpO1xuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RlcicpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhleFRvQnl0ZXMoREVSLmhleEZyb21TaWcodGhpcykpO1xuICAgICAgICAgICAgY29uc3QgciA9IEZuLnRvQnl0ZXModGhpcy5yKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBGbi50b0J5dGVzKHRoaXMucyk7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAncmVjb3ZlcmVkJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY292ZXJ5ID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVjb3ZlcnkgYml0IG11c3QgYmUgcHJlc2VudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25jYXRCeXRlcyhVaW50OEFycmF5Lm9mKHRoaXMucmVjb3ZlcnkpLCByLCBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25jYXRCeXRlcyhyLCBzKTtcbiAgICAgICAgfVxuICAgICAgICB0b0hleChmb3JtYXQpIHtcbiAgICAgICAgICAgIHJldHVybiBieXRlc1RvSGV4KHRoaXMudG9CeXRlcyhmb3JtYXQpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiByZW1vdmVcbiAgICAgICAgYXNzZXJ0VmFsaWRpdHkoKSB7IH1cbiAgICAgICAgc3RhdGljIGZyb21Db21wYWN0KGhleCkge1xuICAgICAgICAgICAgcmV0dXJuIFNpZ25hdHVyZS5mcm9tQnl0ZXMoZW5zdXJlQnl0ZXMoJ3NpZycsIGhleCksICdjb21wYWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIGZyb21ERVIoaGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gU2lnbmF0dXJlLmZyb21CeXRlcyhlbnN1cmVCeXRlcygnc2lnJywgaGV4KSwgJ2RlcicpO1xuICAgICAgICB9XG4gICAgICAgIG5vcm1hbGl6ZVMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYXNIaWdoUygpID8gbmV3IFNpZ25hdHVyZSh0aGlzLnIsIEZuLm5lZyh0aGlzLnMpLCB0aGlzLnJlY292ZXJ5KSA6IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdG9ERVJSYXdCeXRlcygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQnl0ZXMoJ2RlcicpO1xuICAgICAgICB9XG4gICAgICAgIHRvREVSSGV4KCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ5dGVzVG9IZXgodGhpcy50b0J5dGVzKCdkZXInKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9Db21wYWN0UmF3Qnl0ZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0J5dGVzKCdjb21wYWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdG9Db21wYWN0SGV4KCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ5dGVzVG9IZXgodGhpcy50b0J5dGVzKCdjb21wYWN0JykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJGQzY5Nzk6IGVuc3VyZSBFQ0RTQSBtc2cgaXMgWCBieXRlcyBhbmQgPCBOLiBSRkMgc3VnZ2VzdHMgb3B0aW9uYWwgdHJ1bmNhdGluZyB2aWEgYml0czJvY3RldHMuXG4gICAgLy8gRklQUyAxODYtNCA0LjYgc3VnZ2VzdHMgdGhlIGxlZnRtb3N0IG1pbihuQml0TGVuLCBvdXRMZW4pIGJpdHMsIHdoaWNoIG1hdGNoZXMgYml0czJpbnQuXG4gICAgLy8gYml0czJpbnQgY2FuIHByb2R1Y2UgcmVzPk4sIHdlIGNhbiBkbyBtb2QocmVzLCBOKSBzaW5jZSB0aGUgYml0TGVuIGlzIHRoZSBzYW1lLlxuICAgIC8vIGludDJvY3RldHMgY2FuJ3QgYmUgdXNlZDsgcGFkcyBzbWFsbCBtc2dzIHdpdGggMDogdW5hY2NlcHRhdGJsZSBmb3IgdHJ1bmMgYXMgcGVyIFJGQyB2ZWN0b3JzXG4gICAgY29uc3QgYml0czJpbnQgPSBlY2RzYU9wdHMuYml0czJpbnQgfHxcbiAgICAgICAgZnVuY3Rpb24gYml0czJpbnRfZGVmKGJ5dGVzKSB7XG4gICAgICAgICAgICAvLyBPdXIgY3VzdG9tIGNoZWNrIFwianVzdCBpbiBjYXNlXCIsIGZvciBwcm90ZWN0aW9uIGFnYWluc3QgRG9TXG4gICAgICAgICAgICBpZiAoYnl0ZXMubGVuZ3RoID4gODE5MilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lucHV0IGlzIHRvbyBsYXJnZScpO1xuICAgICAgICAgICAgLy8gRm9yIGN1cnZlcyB3aXRoIG5CaXRMZW5ndGggJSA4ICE9PSAwOiBiaXRzMm9jdGV0cyhiaXRzMm9jdGV0cyhtKSkgIT09IGJpdHMyb2N0ZXRzKG0pXG4gICAgICAgICAgICAvLyBmb3Igc29tZSBjYXNlcywgc2luY2UgYnl0ZXMubGVuZ3RoICogOCBpcyBub3QgYWN0dWFsIGJpdExlbmd0aC5cbiAgICAgICAgICAgIGNvbnN0IG51bSA9IGJ5dGVzVG9OdW1iZXJCRShieXRlcyk7IC8vIGNoZWNrIGZvciA9PSB1OCBkb25lIGhlcmVcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gYnl0ZXMubGVuZ3RoICogOCAtIGZuQml0czsgLy8gdHJ1bmNhdGUgdG8gbkJpdExlbmd0aCBsZWZ0bW9zdCBiaXRzXG4gICAgICAgICAgICByZXR1cm4gZGVsdGEgPiAwID8gbnVtID4+IEJpZ0ludChkZWx0YSkgOiBudW07XG4gICAgICAgIH07XG4gICAgY29uc3QgYml0czJpbnRfbW9kTiA9IGVjZHNhT3B0cy5iaXRzMmludF9tb2ROIHx8XG4gICAgICAgIGZ1bmN0aW9uIGJpdHMyaW50X21vZE5fZGVmKGJ5dGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gRm4uY3JlYXRlKGJpdHMyaW50KGJ5dGVzKSk7IC8vIGNhbid0IHVzZSBieXRlc1RvTnVtYmVyQkUgaGVyZVxuICAgICAgICB9O1xuICAgIC8vIFBhZHMgb3V0cHV0IHdpdGggemVybyBhcyBwZXIgc3BlY1xuICAgIGNvbnN0IE9SREVSX01BU0sgPSBiaXRNYXNrKGZuQml0cyk7XG4gICAgLyoqIENvbnZlcnRzIHRvIGJ5dGVzLiBDaGVja3MgaWYgbnVtIGluIGBbMC4uT1JERVJfTUFTSy0xXWAgZS5nLjogYFswLi4yXjI1Ni0xXWAuICovXG4gICAgZnVuY3Rpb24gaW50Mm9jdGV0cyhudW0pIHtcbiAgICAgICAgLy8gSU1QT1JUQU5UOiB0aGUgY2hlY2sgZW5zdXJlcyB3b3JraW5nIGZvciBjYXNlIGBGbi5CWVRFUyAhPSBGbi5CSVRTICogOGBcbiAgICAgICAgYUluUmFuZ2UoJ251bSA8IDJeJyArIGZuQml0cywgbnVtLCBfMG4sIE9SREVSX01BU0spO1xuICAgICAgICByZXR1cm4gRm4udG9CeXRlcyhudW0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZU1zZ0FuZEhhc2gobWVzc2FnZSwgcHJlaGFzaCkge1xuICAgICAgICBhYnl0ZXMobWVzc2FnZSwgdW5kZWZpbmVkLCAnbWVzc2FnZScpO1xuICAgICAgICByZXR1cm4gcHJlaGFzaCA/IGFieXRlcyhoYXNoKG1lc3NhZ2UpLCB1bmRlZmluZWQsICdwcmVoYXNoZWQgbWVzc2FnZScpIDogbWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RlcHMgQSwgRCBvZiBSRkM2OTc5IDMuMi5cbiAgICAgKiBDcmVhdGVzIFJGQzY5Nzkgc2VlZDsgY29udmVydHMgbXNnL3ByaXZLZXkgdG8gbnVtYmVycy5cbiAgICAgKiBVc2VkIG9ubHkgaW4gc2lnbiwgbm90IGluIHZlcmlmeS5cbiAgICAgKlxuICAgICAqIFdhcm5pbmc6IHdlIGNhbm5vdCBhc3N1bWUgaGVyZSB0aGF0IG1lc3NhZ2UgaGFzIHNhbWUgYW1vdW50IG9mIGJ5dGVzIGFzIGN1cnZlIG9yZGVyLFxuICAgICAqIHRoaXMgd2lsbCBiZSBpbnZhbGlkIGF0IGxlYXN0IGZvciBQNTIxLiBBbHNvIGl0IGNhbiBiZSBiaWdnZXIgZm9yIFAyMjQgKyBTSEEyNTYuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJlcFNpZyhtZXNzYWdlLCBwcml2YXRlS2V5LCBvcHRzKSB7XG4gICAgICAgIGlmIChbJ3JlY292ZXJlZCcsICdjYW5vbmljYWwnXS5zb21lKChrKSA9PiBrIGluIG9wdHMpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduKCkgbGVnYWN5IG9wdGlvbnMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICBjb25zdCB7IGxvd1MsIHByZWhhc2gsIGV4dHJhRW50cm9weSB9ID0gdmFsaWRhdGVTaWdPcHRzKG9wdHMsIGRlZmF1bHRTaWdPcHRzKTtcbiAgICAgICAgbWVzc2FnZSA9IHZhbGlkYXRlTXNnQW5kSGFzaChtZXNzYWdlLCBwcmVoYXNoKTsgLy8gUkZDNjk3OSAzLjIgQTogaDEgPSBIKG0pXG4gICAgICAgIC8vIFdlIGNhbid0IGxhdGVyIGNhbGwgYml0czJvY3RldHMsIHNpbmNlIG5lc3RlZCBiaXRzMmludCBpcyBicm9rZW4gZm9yIGN1cnZlc1xuICAgICAgICAvLyB3aXRoIGZuQml0cyAlIDggIT09IDAuIEJlY2F1c2Ugb2YgdGhhdCwgd2UgdW53cmFwIGl0IGhlcmUgYXMgaW50Mm9jdGV0cyBjYWxsLlxuICAgICAgICAvLyBjb25zdCBiaXRzMm9jdGV0cyA9IChiaXRzKSA9PiBpbnQyb2N0ZXRzKGJpdHMyaW50X21vZE4oYml0cykpXG4gICAgICAgIGNvbnN0IGgxaW50ID0gYml0czJpbnRfbW9kTihtZXNzYWdlKTtcbiAgICAgICAgY29uc3QgZCA9IF9ub3JtRm5FbGVtZW50KEZuLCBwcml2YXRlS2V5KTsgLy8gdmFsaWRhdGUgc2VjcmV0IGtleSwgY29udmVydCB0byBiaWdpbnRcbiAgICAgICAgY29uc3Qgc2VlZEFyZ3MgPSBbaW50Mm9jdGV0cyhkKSwgaW50Mm9jdGV0cyhoMWludCldO1xuICAgICAgICAvLyBleHRyYUVudHJvcHkuIFJGQzY5NzkgMy42OiBhZGRpdGlvbmFsIGsnIChvcHRpb25hbCkuXG4gICAgICAgIGlmIChleHRyYUVudHJvcHkgIT0gbnVsbCAmJiBleHRyYUVudHJvcHkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBLID0gSE1BQ19LKFYgfHwgMHgwMCB8fCBpbnQyb2N0ZXRzKHgpIHx8IGJpdHMyb2N0ZXRzKGgxKSB8fCBrJylcbiAgICAgICAgICAgIC8vIGdlbiByYW5kb20gYnl0ZXMgT1IgcGFzcyBhcy1pc1xuICAgICAgICAgICAgY29uc3QgZSA9IGV4dHJhRW50cm9weSA9PT0gdHJ1ZSA/IHJhbmRvbUJ5dGVzKGxlbmd0aHMuc2VjcmV0S2V5KSA6IGV4dHJhRW50cm9weTtcbiAgICAgICAgICAgIHNlZWRBcmdzLnB1c2goZW5zdXJlQnl0ZXMoJ2V4dHJhRW50cm9weScsIGUpKTsgLy8gY2hlY2sgZm9yIGJlaW5nIGJ5dGVzXG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VlZCA9IGNvbmNhdEJ5dGVzKC4uLnNlZWRBcmdzKTsgLy8gU3RlcCBEIG9mIFJGQzY5NzkgMy4yXG4gICAgICAgIGNvbnN0IG0gPSBoMWludDsgLy8gTk9URTogbm8gbmVlZCB0byBjYWxsIGJpdHMyaW50IHNlY29uZCB0aW1lIGhlcmUsIGl0IGlzIGluc2lkZSB0cnVuY2F0ZUhhc2ghXG4gICAgICAgIC8vIENvbnZlcnRzIHNpZ25hdHVyZSBwYXJhbXMgaW50byBwb2ludCB3IHIvcywgY2hlY2tzIHJlc3VsdCBmb3IgdmFsaWRpdHkuXG4gICAgICAgIC8vIFRvIHRyYW5zZm9ybSBrID0+IFNpZ25hdHVyZTpcbiAgICAgICAgLy8gcSA9IGvii4VHXG4gICAgICAgIC8vIHIgPSBxLnggbW9kIG5cbiAgICAgICAgLy8gcyA9IGteLTEobSArIHJkKSBtb2QgblxuICAgICAgICAvLyBDYW4gdXNlIHNjYWxhciBibGluZGluZyBiXi0xKGJtICsgYmRyKSB3aGVyZSBiIOKIiCBbMSxx4oiSMV0gYWNjb3JkaW5nIHRvXG4gICAgICAgIC8vIGh0dHBzOi8vdGNoZXMuaWFjci5vcmcvaW5kZXgucGhwL1RDSEVTL2FydGljbGUvdmlldy83MzM3LzY1MDkuIFdlJ3ZlIGRlY2lkZWQgYWdhaW5zdCBpdDpcbiAgICAgICAgLy8gYSkgZGVwZW5kZW5jeSBvbiBDU1BSTkcgYikgMTUlIHNsb3dkb3duIGMpIGRvZXNuJ3QgcmVhbGx5IGhlbHAgc2luY2UgYmlnaW50cyBhcmUgbm90IENUXG4gICAgICAgIGZ1bmN0aW9uIGsyc2lnKGtCeXRlcykge1xuICAgICAgICAgICAgLy8gUkZDIDY5NzkgU2VjdGlvbiAzLjIsIHN0ZXAgMzogayA9IGJpdHMyaW50KFQpXG4gICAgICAgICAgICAvLyBJbXBvcnRhbnQ6IGFsbCBtb2QoKSBjYWxscyBoZXJlIG11c3QgYmUgZG9uZSBvdmVyIE5cbiAgICAgICAgICAgIGNvbnN0IGsgPSBiaXRzMmludChrQnl0ZXMpOyAvLyBtb2Qgbiwgbm90IG1vZCBwXG4gICAgICAgICAgICBpZiAoIUZuLmlzVmFsaWROb3QwKGspKVxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gVmFsaWQgc2NhbGFycyAoaW5jbHVkaW5nIGspIG11c3QgYmUgaW4gMS4uTi0xXG4gICAgICAgICAgICBjb25zdCBpayA9IEZuLmludihrKTsgLy8ga14tMSBtb2QgblxuICAgICAgICAgICAgY29uc3QgcSA9IFBvaW50LkJBU0UubXVsdGlwbHkoaykudG9BZmZpbmUoKTsgLy8gcSA9IGvii4VHXG4gICAgICAgICAgICBjb25zdCByID0gRm4uY3JlYXRlKHEueCk7IC8vIHIgPSBxLnggbW9kIG5cbiAgICAgICAgICAgIGlmIChyID09PSBfMG4pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgcyA9IEZuLmNyZWF0ZShpayAqIEZuLmNyZWF0ZShtICsgciAqIGQpKTsgLy8gTm90IHVzaW5nIGJsaW5kaW5nIGhlcmUsIHNlZSBjb21tZW50IGFib3ZlXG4gICAgICAgICAgICBpZiAocyA9PT0gXzBuKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCByZWNvdmVyeSA9IChxLnggPT09IHIgPyAwIDogMikgfCBOdW1iZXIocS55ICYgXzFuKTsgLy8gcmVjb3ZlcnkgYml0ICgyIG9yIDMsIHdoZW4gcS54ID4gbilcbiAgICAgICAgICAgIGxldCBub3JtUyA9IHM7XG4gICAgICAgICAgICBpZiAobG93UyAmJiBpc0JpZ2dlclRoYW5IYWxmT3JkZXIocykpIHtcbiAgICAgICAgICAgICAgICBub3JtUyA9IEZuLm5lZyhzKTsgLy8gaWYgbG93UyB3YXMgcGFzc2VkLCBlbnN1cmUgcyBpcyBhbHdheXNcbiAgICAgICAgICAgICAgICByZWNvdmVyeSBePSAxOyAvLyAvLyBpbiB0aGUgYm90dG9tIGhhbGYgb2YgTlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUociwgbm9ybVMsIHJlY292ZXJ5KTsgLy8gdXNlIG5vcm1TLCBub3Qgc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHNlZWQsIGsyc2lnIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpZ25zIG1lc3NhZ2UgaGFzaCB3aXRoIGEgc2VjcmV0IGtleS5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIHNpZ24obSwgZCkgd2hlcmVcbiAgICAgKiAgIGsgPSByZmM2OTc5X2htYWNfZHJiZyhtLCBkKVxuICAgICAqICAgKHgsIHkpID0gRyDDlyBrXG4gICAgICogICByID0geCBtb2QgblxuICAgICAqICAgcyA9IChtICsgZHIpIC8gayBtb2QgblxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpZ24obWVzc2FnZSwgc2VjcmV0S2V5LCBvcHRzID0ge30pIHtcbiAgICAgICAgbWVzc2FnZSA9IGVuc3VyZUJ5dGVzKCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IHsgc2VlZCwgazJzaWcgfSA9IHByZXBTaWcobWVzc2FnZSwgc2VjcmV0S2V5LCBvcHRzKTsgLy8gU3RlcHMgQSwgRCBvZiBSRkM2OTc5IDMuMi5cbiAgICAgICAgY29uc3QgZHJiZyA9IGNyZWF0ZUhtYWNEcmJnKGhhc2gub3V0cHV0TGVuLCBGbi5CWVRFUywgaG1hYyk7XG4gICAgICAgIGNvbnN0IHNpZyA9IGRyYmcoc2VlZCwgazJzaWcpOyAvLyBTdGVwcyBCLCBDLCBELCBFLCBGLCBHXG4gICAgICAgIHJldHVybiBzaWc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyeVBhcnNpbmdTaWcoc2cpIHtcbiAgICAgICAgLy8gVHJ5IHRvIGRlZHVjZSBmb3JtYXRcbiAgICAgICAgbGV0IHNpZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgaXNIZXggPSB0eXBlb2Ygc2cgPT09ICdzdHJpbmcnIHx8IGlzQnl0ZXMoc2cpO1xuICAgICAgICBjb25zdCBpc09iaiA9ICFpc0hleCAmJlxuICAgICAgICAgICAgc2cgIT09IG51bGwgJiZcbiAgICAgICAgICAgIHR5cGVvZiBzZyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIHR5cGVvZiBzZy5yID09PSAnYmlnaW50JyAmJlxuICAgICAgICAgICAgdHlwZW9mIHNnLnMgPT09ICdiaWdpbnQnO1xuICAgICAgICBpZiAoIWlzSGV4ICYmICFpc09iailcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzaWduYXR1cmUsIGV4cGVjdGVkIFVpbnQ4QXJyYXksIGhleCBzdHJpbmcgb3IgU2lnbmF0dXJlIGluc3RhbmNlJyk7XG4gICAgICAgIGlmIChpc09iaikge1xuICAgICAgICAgICAgc2lnID0gbmV3IFNpZ25hdHVyZShzZy5yLCBzZy5zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0hleCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzaWcgPSBTaWduYXR1cmUuZnJvbUJ5dGVzKGVuc3VyZUJ5dGVzKCdzaWcnLCBzZyksICdkZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChkZXJFcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghKGRlckVycm9yIGluc3RhbmNlb2YgREVSLkVycikpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGRlckVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzaWcpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzaWcgPSBTaWduYXR1cmUuZnJvbUJ5dGVzKGVuc3VyZUJ5dGVzKCdzaWcnLCBzZyksICdjb21wYWN0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghc2lnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gc2lnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWZXJpZmllcyBhIHNpZ25hdHVyZSBhZ2FpbnN0IG1lc3NhZ2UgYW5kIHB1YmxpYyBrZXkuXG4gICAgICogUmVqZWN0cyBsb3dTIHNpZ25hdHVyZXMgYnkgZGVmYXVsdDogc2VlIHtAbGluayBFQ0RTQVZlcmlmeU9wdHN9LlxuICAgICAqIEltcGxlbWVudHMgc2VjdGlvbiA0LjEuNCBmcm9tIGh0dHBzOi8vd3d3LnNlY2cub3JnL3NlYzEtdjIucGRmOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogdmVyaWZ5KHIsIHMsIGgsIFApIHdoZXJlXG4gICAgICogICB1MSA9IGhzXi0xIG1vZCBuXG4gICAgICogICB1MiA9IHJzXi0xIG1vZCBuXG4gICAgICogICBSID0gdTHii4VHICsgdTLii4VQXG4gICAgICogICBtb2QoUi54LCBuKSA9PSByXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmVyaWZ5KHNpZ25hdHVyZSwgbWVzc2FnZSwgcHVibGljS2V5LCBvcHRzID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBsb3dTLCBwcmVoYXNoLCBmb3JtYXQgfSA9IHZhbGlkYXRlU2lnT3B0cyhvcHRzLCBkZWZhdWx0U2lnT3B0cyk7XG4gICAgICAgIHB1YmxpY0tleSA9IGVuc3VyZUJ5dGVzKCdwdWJsaWNLZXknLCBwdWJsaWNLZXkpO1xuICAgICAgICBtZXNzYWdlID0gdmFsaWRhdGVNc2dBbmRIYXNoKGVuc3VyZUJ5dGVzKCdtZXNzYWdlJywgbWVzc2FnZSksIHByZWhhc2gpO1xuICAgICAgICBpZiAoJ3N0cmljdCcgaW4gb3B0cylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb3B0aW9ucy5zdHJpY3Qgd2FzIHJlbmFtZWQgdG8gbG93UycpO1xuICAgICAgICBjb25zdCBzaWcgPSBmb3JtYXQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0cnlQYXJzaW5nU2lnKHNpZ25hdHVyZSlcbiAgICAgICAgICAgIDogU2lnbmF0dXJlLmZyb21CeXRlcyhlbnN1cmVCeXRlcygnc2lnJywgc2lnbmF0dXJlKSwgZm9ybWF0KTtcbiAgICAgICAgaWYgKHNpZyA9PT0gZmFsc2UpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBQID0gUG9pbnQuZnJvbUJ5dGVzKHB1YmxpY0tleSk7XG4gICAgICAgICAgICBpZiAobG93UyAmJiBzaWcuaGFzSGlnaFMoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCB7IHIsIHMgfSA9IHNpZztcbiAgICAgICAgICAgIGNvbnN0IGggPSBiaXRzMmludF9tb2ROKG1lc3NhZ2UpOyAvLyBtb2Qgbiwgbm90IG1vZCBwXG4gICAgICAgICAgICBjb25zdCBpcyA9IEZuLmludihzKTsgLy8gc14tMSBtb2QgblxuICAgICAgICAgICAgY29uc3QgdTEgPSBGbi5jcmVhdGUoaCAqIGlzKTsgLy8gdTEgPSBoc14tMSBtb2QgblxuICAgICAgICAgICAgY29uc3QgdTIgPSBGbi5jcmVhdGUociAqIGlzKTsgLy8gdTIgPSByc14tMSBtb2QgblxuICAgICAgICAgICAgY29uc3QgUiA9IFBvaW50LkJBU0UubXVsdGlwbHlVbnNhZmUodTEpLmFkZChQLm11bHRpcGx5VW5zYWZlKHUyKSk7IC8vIHUx4ouFRyArIHUy4ouFUFxuICAgICAgICAgICAgaWYgKFIuaXMwKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgdiA9IEZuLmNyZWF0ZShSLngpOyAvLyB2ID0gci54IG1vZCBuXG4gICAgICAgICAgICByZXR1cm4gdiA9PT0gcjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY292ZXJQdWJsaWNLZXkoc2lnbmF0dXJlLCBtZXNzYWdlLCBvcHRzID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBwcmVoYXNoIH0gPSB2YWxpZGF0ZVNpZ09wdHMob3B0cywgZGVmYXVsdFNpZ09wdHMpO1xuICAgICAgICBtZXNzYWdlID0gdmFsaWRhdGVNc2dBbmRIYXNoKG1lc3NhZ2UsIHByZWhhc2gpO1xuICAgICAgICByZXR1cm4gU2lnbmF0dXJlLmZyb21CeXRlcyhzaWduYXR1cmUsICdyZWNvdmVyZWQnKS5yZWNvdmVyUHVibGljS2V5KG1lc3NhZ2UpLnRvQnl0ZXMoKTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgICAgICBrZXlnZW4sXG4gICAgICAgIGdldFB1YmxpY0tleSxcbiAgICAgICAgZ2V0U2hhcmVkU2VjcmV0LFxuICAgICAgICB1dGlscyxcbiAgICAgICAgbGVuZ3RocyxcbiAgICAgICAgUG9pbnQsXG4gICAgICAgIHNpZ24sXG4gICAgICAgIHZlcmlmeSxcbiAgICAgICAgcmVjb3ZlclB1YmxpY0tleSxcbiAgICAgICAgU2lnbmF0dXJlLFxuICAgICAgICBoYXNoLFxuICAgIH0pO1xufVxuLyoqIEBkZXByZWNhdGVkIHVzZSBgd2VpZXJzdHJhc3NgIGluIG5ld2VyIHJlbGVhc2VzICovXG5leHBvcnQgZnVuY3Rpb24gd2VpZXJzdHJhc3NQb2ludHMoYykge1xuICAgIGNvbnN0IHsgQ1VSVkUsIGN1cnZlT3B0cyB9ID0gX3dlaWVyc3RyYXNzX2xlZ2FjeV9vcHRzX3RvX25ldyhjKTtcbiAgICBjb25zdCBQb2ludCA9IHdlaWVyc3RyYXNzTihDVVJWRSwgY3VydmVPcHRzKTtcbiAgICByZXR1cm4gX3dlaWVyc3RyYXNzX25ld19vdXRwdXRfdG9fbGVnYWN5KGMsIFBvaW50KTtcbn1cbmZ1bmN0aW9uIF93ZWllcnN0cmFzc19sZWdhY3lfb3B0c190b19uZXcoYykge1xuICAgIGNvbnN0IENVUlZFID0ge1xuICAgICAgICBhOiBjLmEsXG4gICAgICAgIGI6IGMuYixcbiAgICAgICAgcDogYy5GcC5PUkRFUixcbiAgICAgICAgbjogYy5uLFxuICAgICAgICBoOiBjLmgsXG4gICAgICAgIEd4OiBjLkd4LFxuICAgICAgICBHeTogYy5HeSxcbiAgICB9O1xuICAgIGNvbnN0IEZwID0gYy5GcDtcbiAgICBsZXQgYWxsb3dlZExlbmd0aHMgPSBjLmFsbG93ZWRQcml2YXRlS2V5TGVuZ3Roc1xuICAgICAgICA/IEFycmF5LmZyb20obmV3IFNldChjLmFsbG93ZWRQcml2YXRlS2V5TGVuZ3Rocy5tYXAoKGwpID0+IE1hdGguY2VpbChsIC8gMikpKSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgRm4gPSBGaWVsZChDVVJWRS5uLCB7XG4gICAgICAgIEJJVFM6IGMubkJpdExlbmd0aCxcbiAgICAgICAgYWxsb3dlZExlbmd0aHM6IGFsbG93ZWRMZW5ndGhzLFxuICAgICAgICBtb2RGcm9tQnl0ZXM6IGMud3JhcFByaXZhdGVLZXksXG4gICAgfSk7XG4gICAgY29uc3QgY3VydmVPcHRzID0ge1xuICAgICAgICBGcCxcbiAgICAgICAgRm4sXG4gICAgICAgIGFsbG93SW5maW5pdHlQb2ludDogYy5hbGxvd0luZmluaXR5UG9pbnQsXG4gICAgICAgIGVuZG86IGMuZW5kbyxcbiAgICAgICAgaXNUb3JzaW9uRnJlZTogYy5pc1RvcnNpb25GcmVlLFxuICAgICAgICBjbGVhckNvZmFjdG9yOiBjLmNsZWFyQ29mYWN0b3IsXG4gICAgICAgIGZyb21CeXRlczogYy5mcm9tQnl0ZXMsXG4gICAgICAgIHRvQnl0ZXM6IGMudG9CeXRlcyxcbiAgICB9O1xuICAgIHJldHVybiB7IENVUlZFLCBjdXJ2ZU9wdHMgfTtcbn1cbmZ1bmN0aW9uIF9lY2RzYV9sZWdhY3lfb3B0c190b19uZXcoYykge1xuICAgIGNvbnN0IHsgQ1VSVkUsIGN1cnZlT3B0cyB9ID0gX3dlaWVyc3RyYXNzX2xlZ2FjeV9vcHRzX3RvX25ldyhjKTtcbiAgICBjb25zdCBlY2RzYU9wdHMgPSB7XG4gICAgICAgIGhtYWM6IGMuaG1hYyxcbiAgICAgICAgcmFuZG9tQnl0ZXM6IGMucmFuZG9tQnl0ZXMsXG4gICAgICAgIGxvd1M6IGMubG93UyxcbiAgICAgICAgYml0czJpbnQ6IGMuYml0czJpbnQsXG4gICAgICAgIGJpdHMyaW50X21vZE46IGMuYml0czJpbnRfbW9kTixcbiAgICB9O1xuICAgIHJldHVybiB7IENVUlZFLCBjdXJ2ZU9wdHMsIGhhc2g6IGMuaGFzaCwgZWNkc2FPcHRzIH07XG59XG5leHBvcnQgZnVuY3Rpb24gX2xlZ2FjeUhlbHBlckVxdWF0KEZwLCBhLCBiKSB7XG4gICAgLyoqXG4gICAgICogecKyID0geMKzICsgYXggKyBiOiBTaG9ydCB3ZWllcnN0cmFzcyBjdXJ2ZSBmb3JtdWxhLiBUYWtlcyB4LCByZXR1cm5zIHnCsi5cbiAgICAgKiBAcmV0dXJucyB5wrJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3ZWllcnN0cmFzc0VxdWF0aW9uKHgpIHtcbiAgICAgICAgY29uc3QgeDIgPSBGcC5zcXIoeCk7IC8vIHggKiB4XG4gICAgICAgIGNvbnN0IHgzID0gRnAubXVsKHgyLCB4KTsgLy8geMKyICogeFxuICAgICAgICByZXR1cm4gRnAuYWRkKEZwLmFkZCh4MywgRnAubXVsKHgsIGEpKSwgYik7IC8vIHjCsyArIGEgKiB4ICsgYlxuICAgIH1cbiAgICByZXR1cm4gd2VpZXJzdHJhc3NFcXVhdGlvbjtcbn1cbmZ1bmN0aW9uIF93ZWllcnN0cmFzc19uZXdfb3V0cHV0X3RvX2xlZ2FjeShjLCBQb2ludCkge1xuICAgIGNvbnN0IHsgRnAsIEZuIH0gPSBQb2ludDtcbiAgICBmdW5jdGlvbiBpc1dpdGhpbkN1cnZlT3JkZXIobnVtKSB7XG4gICAgICAgIHJldHVybiBpblJhbmdlKG51bSwgXzFuLCBGbi5PUkRFUik7XG4gICAgfVxuICAgIGNvbnN0IHdlaWVyc3RyYXNzRXF1YXRpb24gPSBfbGVnYWN5SGVscGVyRXF1YXQoRnAsIGMuYSwgYy5iKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICBDVVJWRTogYyxcbiAgICAgICAgUG9pbnQ6IFBvaW50LFxuICAgICAgICBQcm9qZWN0aXZlUG9pbnQ6IFBvaW50LFxuICAgICAgICBub3JtUHJpdmF0ZUtleVRvU2NhbGFyOiAoa2V5KSA9PiBfbm9ybUZuRWxlbWVudChGbiwga2V5KSxcbiAgICAgICAgd2VpZXJzdHJhc3NFcXVhdGlvbixcbiAgICAgICAgaXNXaXRoaW5DdXJ2ZU9yZGVyLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gX2VjZHNhX25ld19vdXRwdXRfdG9fbGVnYWN5KGMsIF9lY2RzYSkge1xuICAgIGNvbnN0IFBvaW50ID0gX2VjZHNhLlBvaW50O1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBfZWNkc2EsIHtcbiAgICAgICAgUHJvamVjdGl2ZVBvaW50OiBQb2ludCxcbiAgICAgICAgQ1VSVkU6IE9iamVjdC5hc3NpZ24oe30sIGMsIG5MZW5ndGgoUG9pbnQuRm4uT1JERVIsIFBvaW50LkZuLkJJVFMpKSxcbiAgICB9KTtcbn1cbi8vIF9lY2RzYV9sZWdhY3lcbmV4cG9ydCBmdW5jdGlvbiB3ZWllcnN0cmFzcyhjKSB7XG4gICAgY29uc3QgeyBDVVJWRSwgY3VydmVPcHRzLCBoYXNoLCBlY2RzYU9wdHMgfSA9IF9lY2RzYV9sZWdhY3lfb3B0c190b19uZXcoYyk7XG4gICAgY29uc3QgUG9pbnQgPSB3ZWllcnN0cmFzc04oQ1VSVkUsIGN1cnZlT3B0cyk7XG4gICAgY29uc3Qgc2lnbnMgPSBlY2RzYShQb2ludCwgaGFzaCwgZWNkc2FPcHRzKTtcbiAgICByZXR1cm4gX2VjZHNhX25ld19vdXRwdXRfdG9fbGVnYWN5KGMsIHNpZ25zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlaWVyc3RyYXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/weierstrass.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/secp256k1.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/secp256k1.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeToCurve: () => (/* binding */ encodeToCurve),\n/* harmony export */   hashToCurve: () => (/* binding */ hashToCurve),\n/* harmony export */   schnorr: () => (/* binding */ schnorr),\n/* harmony export */   secp256k1: () => (/* binding */ secp256k1),\n/* harmony export */   secp256k1_hasher: () => (/* binding */ secp256k1_hasher)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_sha2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @noble/hashes/sha2.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/sha2.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js\");\n/* harmony import */ var _shortw_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_shortw_utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/_shortw_utils.js\");\n/* harmony import */ var _abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./abstract/hash-to-curve.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/hash-to-curve.js\");\n/* harmony import */ var _abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract/modular.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/modular.js\");\n/* harmony import */ var _abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./abstract/weierstrass.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/abstract/weierstrass.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/utils.js\");\n/**\n * SECG secp256k1. See [pdf](https://www.secg.org/sec2-v2.pdf).\n *\n * Belongs to Koblitz curves: it has efficiently-computable GLV endomorphism ,\n * check out {@link EndomorphismOpts}. Seems to be rigid (not backdoored).\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\n\n\n\n\n\n// Seems like generator was produced from some seed:\n// `Point.BASE.multiply(Point.Fn.inv(2n, N)).toAffine().x`\n// // gives short x 0x3b78ce563f89a0ed9414f5aa28ad0d96d6795f9c63n\nconst secp256k1_CURVE = {\n    p: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n    n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n    h: BigInt(1),\n    a: BigInt(0),\n    b: BigInt(7),\n    Gx: BigInt('0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n    Gy: BigInt('0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8'),\n};\nconst secp256k1_ENDO = {\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n    basises: [\n        [BigInt('0x3086d221a7d46bcde86c90e49284eb15'), -BigInt('0xe4437ed6010e88286f547fa90abfe4c3')],\n        [BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8'), BigInt('0x3086d221a7d46bcde86c90e49284eb15')],\n    ],\n};\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nconst _2n = /* @__PURE__ */ BigInt(2);\n/**\n * n = n^((p+1)/4) for fields p = 3 mod 4. We unwrap the loop and multiply bit-by-bit.\n * (P+1n/4n).toString(2) would produce bits [223x 1, 0, 22x 1, 4x 0, 11, 00]\n */\nfunction sqrtMod(y) {\n    const P = secp256k1_CURVE.p;\n    // prettier-ignore\n    const _3n = BigInt(3), _6n = BigInt(6), _11n = BigInt(11), _22n = BigInt(22);\n    // prettier-ignore\n    const _23n = BigInt(23), _44n = BigInt(44), _88n = BigInt(88);\n    const b2 = (y * y * y) % P; // x^3, 11\n    const b3 = (b2 * b2 * y) % P; // x^7\n    const b6 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b3, _3n, P) * b3) % P;\n    const b9 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b6, _3n, P) * b3) % P;\n    const b11 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b9, _2n, P) * b2) % P;\n    const b22 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b11, _11n, P) * b11) % P;\n    const b44 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b22, _22n, P) * b22) % P;\n    const b88 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b44, _44n, P) * b44) % P;\n    const b176 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b88, _88n, P) * b88) % P;\n    const b220 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b176, _44n, P) * b44) % P;\n    const b223 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b220, _3n, P) * b3) % P;\n    const t1 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(b223, _23n, P) * b22) % P;\n    const t2 = ((0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(t1, _6n, P) * b2) % P;\n    const root = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.pow2)(t2, _2n, P);\n    if (!Fpk1.eql(Fpk1.sqr(root), y))\n        throw new Error('Cannot find square root');\n    return root;\n}\nconst Fpk1 = (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.Field)(secp256k1_CURVE.p, { sqrt: sqrtMod });\n/**\n * secp256k1 curve, ECDSA and ECDH methods.\n *\n * Field: `2n**256n - 2n**32n - 2n**9n - 2n**8n - 2n**7n - 2n**6n - 2n**4n - 1n`\n *\n * @example\n * ```js\n * import { secp256k1 } from '@noble/curves/secp256k1';\n * const { secretKey, publicKey } = secp256k1.keygen();\n * const msg = new TextEncoder().encode('hello');\n * const sig = secp256k1.sign(msg, secretKey);\n * const isValid = secp256k1.verify(sig, msg, publicKey) === true;\n * ```\n */\nconst secp256k1 = (0,_shortw_utils_js__WEBPACK_IMPORTED_MODULE_1__.createCurve)({ ...secp256k1_CURVE, Fp: Fpk1, lowS: true, endo: secp256k1_ENDO }, _noble_hashes_sha2_js__WEBPACK_IMPORTED_MODULE_2__.sha256);\n// Schnorr signatures are superior to ECDSA from above. Below is Schnorr-specific BIP0340 code.\n// https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES = {};\nfunction taggedHash(tag, ...messages) {\n    let tagP = TAGGED_HASH_PREFIXES[tag];\n    if (tagP === undefined) {\n        const tagH = (0,_noble_hashes_sha2_js__WEBPACK_IMPORTED_MODULE_2__.sha256)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.utf8ToBytes)(tag));\n        tagP = (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.concatBytes)(tagH, tagH);\n        TAGGED_HASH_PREFIXES[tag] = tagP;\n    }\n    return (0,_noble_hashes_sha2_js__WEBPACK_IMPORTED_MODULE_2__.sha256)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.concatBytes)(tagP, ...messages));\n}\n// ECDSA compact points are 33-byte. Schnorr is 32: we strip first byte 0x02 or 0x03\nconst pointToBytes = (point) => point.toBytes(true).slice(1);\nconst Pointk1 = /* @__PURE__ */ (() => secp256k1.Point)();\nconst hasEven = (y) => y % _2n === _0n;\n// Calculate point, scalar and bytes\nfunction schnorrGetExtPubKey(priv) {\n    const { Fn, BASE } = Pointk1;\n    const d_ = (0,_abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_4__._normFnElement)(Fn, priv);\n    const p = BASE.multiply(d_); // P = d'G; 0 < d' < n check is done inside\n    const scalar = hasEven(p.y) ? d_ : Fn.neg(d_);\n    return { scalar, bytes: pointToBytes(p) };\n}\n/**\n * lift_x from BIP340. Convert 32-byte x coordinate to elliptic curve point.\n * @returns valid point checked for being on-curve\n */\nfunction lift_x(x) {\n    const Fp = Fpk1;\n    if (!Fp.isValidNot0(x))\n        throw new Error('invalid x: Fail if x  p');\n    const xx = Fp.create(x * x);\n    const c = Fp.create(xx * x + BigInt(7)); // Let c = x + 7 mod p.\n    let y = Fp.sqrt(c); // Let y = c^(p+1)/4 mod p. Same as sqrt().\n    // Return the unique point P such that x(P) = x and\n    // y(P) = y if y mod 2 = 0 or y(P) = p-y otherwise.\n    if (!hasEven(y))\n        y = Fp.neg(y);\n    const p = Pointk1.fromAffine({ x, y });\n    p.assertValidity();\n    return p;\n}\nconst num = _utils_js__WEBPACK_IMPORTED_MODULE_5__.bytesToNumberBE;\n/**\n * Create tagged hash, convert it to bigint, reduce modulo-n.\n */\nfunction challenge(...args) {\n    return Pointk1.Fn.create(num(taggedHash('BIP0340/challenge', ...args)));\n}\n/**\n * Schnorr public key is just `x` coordinate of Point as per BIP340.\n */\nfunction schnorrGetPublicKey(secretKey) {\n    return schnorrGetExtPubKey(secretKey).bytes; // d'=int(sk). Fail if d'=0 or d'n. Ret bytes(d'G)\n}\n/**\n * Creates Schnorr signature as per BIP340. Verifies itself before returning anything.\n * auxRand is optional and is not the sole source of k generation: bad CSPRNG won't be dangerous.\n */\nfunction schnorrSign(message, secretKey, auxRand = (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.randomBytes)(32)) {\n    const { Fn } = Pointk1;\n    const m = (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.ensureBytes)('message', message);\n    const { bytes: px, scalar: d } = schnorrGetExtPubKey(secretKey); // checks for isWithinCurveOrder\n    const a = (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.ensureBytes)('auxRand', auxRand, 32); // Auxiliary random data a: a 32-byte array\n    const t = Fn.toBytes(d ^ num(taggedHash('BIP0340/aux', a))); // Let t be the byte-wise xor of bytes(d) and hash/aux(a)\n    const rand = taggedHash('BIP0340/nonce', t, px, m); // Let rand = hash/nonce(t || bytes(P) || m)\n    // Let k' = int(rand) mod n. Fail if k' = 0. Let R = k'G\n    const { bytes: rx, scalar: k } = schnorrGetExtPubKey(rand);\n    const e = challenge(rx, px, m); // Let e = int(hash/challenge(bytes(R) || bytes(P) || m)) mod n.\n    const sig = new Uint8Array(64); // Let sig = bytes(R) || bytes((k + ed) mod n).\n    sig.set(rx, 0);\n    sig.set(Fn.toBytes(Fn.create(k + e * d)), 32);\n    // If Verify(bytes(P), m, sig) (see below) returns failure, abort\n    if (!schnorrVerify(sig, m, px))\n        throw new Error('sign: Invalid signature produced');\n    return sig;\n}\n/**\n * Verifies Schnorr signature.\n * Will swallow errors & return false except for initial type validation of arguments.\n */\nfunction schnorrVerify(signature, message, publicKey) {\n    const { Fn, BASE } = Pointk1;\n    const sig = (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.ensureBytes)('signature', signature, 64);\n    const m = (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.ensureBytes)('message', message);\n    const pub = (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.ensureBytes)('publicKey', publicKey, 32);\n    try {\n        const P = lift_x(num(pub)); // P = lift_x(int(pk)); fail if that fails\n        const r = num(sig.subarray(0, 32)); // Let r = int(sig[0:32]); fail if r  p.\n        if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.inRange)(r, _1n, secp256k1_CURVE.p))\n            return false;\n        const s = num(sig.subarray(32, 64)); // Let s = int(sig[32:64]); fail if s  n.\n        if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.inRange)(s, _1n, secp256k1_CURVE.n))\n            return false;\n        // int(challenge(bytes(r)||bytes(P)||m))%n\n        const e = challenge(Fn.toBytes(r), pointToBytes(P), m);\n        // R = sG - eP, where -eP == (n-e)P\n        const R = BASE.multiplyUnsafe(s).add(P.multiplyUnsafe(Fn.neg(e)));\n        const { x, y } = R.toAffine();\n        // Fail if is_infinite(R) / not has_even_y(R) / x(R)  r.\n        if (R.is0() || !hasEven(y) || x !== r)\n            return false;\n        return true;\n    }\n    catch (error) {\n        return false;\n    }\n}\n/**\n * Schnorr signatures over secp256k1.\n * https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki\n * @example\n * ```js\n * import { schnorr } from '@noble/curves/secp256k1';\n * const { secretKey, publicKey } = schnorr.keygen();\n * // const publicKey = schnorr.getPublicKey(secretKey);\n * const msg = new TextEncoder().encode('hello');\n * const sig = schnorr.sign(msg, secretKey);\n * const isValid = schnorr.verify(sig, msg, publicKey);\n * ```\n */\nconst schnorr = /* @__PURE__ */ (() => {\n    const size = 32;\n    const seedLength = 48;\n    const randomSecretKey = (seed = (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.randomBytes)(seedLength)) => {\n        return (0,_abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mapHashToField)(seed, secp256k1_CURVE.n);\n    };\n    // TODO: remove\n    secp256k1.utils.randomSecretKey;\n    function keygen(seed) {\n        const secretKey = randomSecretKey(seed);\n        return { secretKey, publicKey: schnorrGetPublicKey(secretKey) };\n    }\n    return {\n        keygen,\n        getPublicKey: schnorrGetPublicKey,\n        sign: schnorrSign,\n        verify: schnorrVerify,\n        Point: Pointk1,\n        utils: {\n            randomSecretKey: randomSecretKey,\n            randomPrivateKey: randomSecretKey,\n            taggedHash,\n            // TODO: remove\n            lift_x,\n            pointToBytes,\n            numberToBytesBE: _utils_js__WEBPACK_IMPORTED_MODULE_5__.numberToBytesBE,\n            bytesToNumberBE: _utils_js__WEBPACK_IMPORTED_MODULE_5__.bytesToNumberBE,\n            mod: _abstract_modular_js__WEBPACK_IMPORTED_MODULE_0__.mod,\n        },\n        lengths: {\n            secretKey: size,\n            publicKey: size,\n            publicKeyHasPrefix: false,\n            signature: size * 2,\n            seed: seedLength,\n        },\n    };\n})();\nconst isoMap = /* @__PURE__ */ (() => (0,_abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_6__.isogenyMap)(Fpk1, [\n    // xNum\n    [\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7',\n        '0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581',\n        '0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262',\n        '0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c',\n    ],\n    // xDen\n    [\n        '0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b',\n        '0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n    // yNum\n    [\n        '0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c',\n        '0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3',\n        '0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931',\n        '0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84',\n    ],\n    // yDen\n    [\n        '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b',\n        '0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573',\n        '0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f',\n        '0x0000000000000000000000000000000000000000000000000000000000000001', // LAST 1\n    ],\n].map((i) => i.map((j) => BigInt(j)))))();\nconst mapSWU = /* @__PURE__ */ (() => (0,_abstract_weierstrass_js__WEBPACK_IMPORTED_MODULE_4__.mapToCurveSimpleSWU)(Fpk1, {\n    A: BigInt('0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533'),\n    B: BigInt('1771'),\n    Z: Fpk1.create(BigInt('-11')),\n}))();\n/** Hashing / encoding to secp256k1 points / field. RFC 9380 methods. */\nconst secp256k1_hasher = /* @__PURE__ */ (() => (0,_abstract_hash_to_curve_js__WEBPACK_IMPORTED_MODULE_6__.createHasher)(secp256k1.Point, (scalars) => {\n    const { x, y } = mapSWU(Fpk1.create(scalars[0]));\n    return isoMap(x, y);\n}, {\n    DST: 'secp256k1_XMD:SHA-256_SSWU_RO_',\n    encodeDST: 'secp256k1_XMD:SHA-256_SSWU_NU_',\n    p: Fpk1.ORDER,\n    m: 1,\n    k: 128,\n    expand: 'xmd',\n    hash: _noble_hashes_sha2_js__WEBPACK_IMPORTED_MODULE_2__.sha256,\n}))();\n/** @deprecated use `import { secp256k1_hasher } from '@noble/curves/secp256k1.js';` */\nconst hashToCurve = /* @__PURE__ */ (() => secp256k1_hasher.hashToCurve)();\n/** @deprecated use `import { secp256k1_hasher } from '@noble/curves/secp256k1.js';` */\nconst encodeToCurve = /* @__PURE__ */ (() => secp256k1_hasher.encodeToCurve)();\n//# sourceMappingURL=secp256k1.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS9zZWNwMjU2azEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDK0M7QUFDTTtBQUNKO0FBQ3VCO0FBQ0M7QUFDUTtBQUM4QjtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLGtDQUFrQztBQUNsQyxnQkFBZ0IsMERBQUk7QUFDcEIsZ0JBQWdCLDBEQUFJO0FBQ3BCLGlCQUFpQiwwREFBSTtBQUNyQixpQkFBaUIsMERBQUk7QUFDckIsaUJBQWlCLDBEQUFJO0FBQ3JCLGlCQUFpQiwwREFBSTtBQUNyQixrQkFBa0IsMERBQUk7QUFDdEIsa0JBQWtCLDBEQUFJO0FBQ3RCLGtCQUFrQiwwREFBSTtBQUN0QixnQkFBZ0IsMERBQUk7QUFDcEIsZ0JBQWdCLDBEQUFJO0FBQ3BCLGlCQUFpQiwwREFBSTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkRBQUssc0JBQXNCLGVBQWU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEIsV0FBVyx1QkFBdUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGtCQUFrQiw2REFBVyxHQUFHLGdFQUFnRSxFQUFFLHlEQUFNO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZEQUFNLENBQUMsc0RBQVc7QUFDdkMsZUFBZSxzREFBVztBQUMxQjtBQUNBO0FBQ0EsV0FBVyw2REFBTSxDQUFDLHNEQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCLGVBQWUsd0VBQWM7QUFDN0IsaUNBQWlDLGFBQWE7QUFDOUM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0Msd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE1BQU07QUFDekM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHNEQUFXO0FBQzlELFlBQVksS0FBSztBQUNqQixjQUFjLHNEQUFXO0FBQ3pCLFlBQVksdUJBQXVCLGtDQUFrQztBQUNyRSxjQUFjLHNEQUFXLDBCQUEwQjtBQUNuRCxpRUFBaUU7QUFDakUsd0RBQXdEO0FBQ3hEO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkMsb0NBQW9DO0FBQ3BDLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFdBQVc7QUFDdkIsZ0JBQWdCLHNEQUFXO0FBQzNCLGNBQWMsc0RBQVc7QUFDekIsZ0JBQWdCLHNEQUFXO0FBQzNCO0FBQ0Esb0NBQW9DLHdCQUF3QjtBQUM1RCw0Q0FBNEMsMkJBQTJCO0FBQ3ZFLGFBQWEsa0RBQU87QUFDcEI7QUFDQSw2Q0FBNkMsNEJBQTRCO0FBQ3pFLGFBQWEsa0RBQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsV0FBVyx1QkFBdUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esb0NBQW9DLHNEQUFXO0FBQy9DLGVBQWUsb0VBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQixlQUFlO0FBQ2YsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLENBQUM7QUFDRCxzQ0FBc0Msc0VBQVU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkVBQW1CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPLGdEQUFnRCx3RUFBWTtBQUNuRSxZQUFZLE9BQU87QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx5REFBTTtBQUNoQixDQUFDO0FBQ0QsOEJBQThCLG1CQUFtQixrQ0FBa0M7QUFDNUU7QUFDUCw4QkFBOEIsbUJBQW1CLGtDQUFrQztBQUM1RTtBQUNQIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXIvbm9kZV9tb2R1bGVzL3ZpZW0vbm9kZV9tb2R1bGVzL0Bub2JsZS9jdXJ2ZXMvZXNtL3NlY3AyNTZrMS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNFQ0cgc2VjcDI1NmsxLiBTZWUgW3BkZl0oaHR0cHM6Ly93d3cuc2VjZy5vcmcvc2VjMi12Mi5wZGYpLlxuICpcbiAqIEJlbG9uZ3MgdG8gS29ibGl0eiBjdXJ2ZXM6IGl0IGhhcyBlZmZpY2llbnRseS1jb21wdXRhYmxlIEdMViBlbmRvbW9ycGhpc20gz4gsXG4gKiBjaGVjayBvdXQge0BsaW5rIEVuZG9tb3JwaGlzbU9wdHN9LiBTZWVtcyB0byBiZSByaWdpZCAobm90IGJhY2tkb29yZWQpLlxuICogQG1vZHVsZVxuICovXG4vKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovXG5pbXBvcnQgeyBzaGEyNTYgfSBmcm9tICdAbm9ibGUvaGFzaGVzL3NoYTIuanMnO1xuaW1wb3J0IHsgcmFuZG9tQnl0ZXMgfSBmcm9tICdAbm9ibGUvaGFzaGVzL3V0aWxzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUN1cnZlIH0gZnJvbSBcIi4vX3Nob3J0d191dGlscy5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlSGFzaGVyLCBpc29nZW55TWFwLCB9IGZyb20gXCIuL2Fic3RyYWN0L2hhc2gtdG8tY3VydmUuanNcIjtcbmltcG9ydCB7IEZpZWxkLCBtYXBIYXNoVG9GaWVsZCwgbW9kLCBwb3cyIH0gZnJvbSBcIi4vYWJzdHJhY3QvbW9kdWxhci5qc1wiO1xuaW1wb3J0IHsgX25vcm1GbkVsZW1lbnQsIG1hcFRvQ3VydmVTaW1wbGVTV1UsIH0gZnJvbSBcIi4vYWJzdHJhY3Qvd2VpZXJzdHJhc3MuanNcIjtcbmltcG9ydCB7IGJ5dGVzVG9OdW1iZXJCRSwgY29uY2F0Qnl0ZXMsIGVuc3VyZUJ5dGVzLCBpblJhbmdlLCBudW1iZXJUb0J5dGVzQkUsIHV0ZjhUb0J5dGVzLCB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG4vLyBTZWVtcyBsaWtlIGdlbmVyYXRvciB3YXMgcHJvZHVjZWQgZnJvbSBzb21lIHNlZWQ6XG4vLyBgUG9pbnQuQkFTRS5tdWx0aXBseShQb2ludC5Gbi5pbnYoMm4sIE4pKS50b0FmZmluZSgpLnhgXG4vLyAvLyBnaXZlcyBzaG9ydCB4IDB4M2I3OGNlNTYzZjg5YTBlZDk0MTRmNWFhMjhhZDBkOTZkNjc5NWY5YzYzblxuY29uc3Qgc2VjcDI1NmsxX0NVUlZFID0ge1xuICAgIHA6IEJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWZmZmZmYzJmJyksXG4gICAgbjogQmlnSW50KCcweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlYmFhZWRjZTZhZjQ4YTAzYmJmZDI1ZThjZDAzNjQxNDEnKSxcbiAgICBoOiBCaWdJbnQoMSksXG4gICAgYTogQmlnSW50KDApLFxuICAgIGI6IEJpZ0ludCg3KSxcbiAgICBHeDogQmlnSW50KCcweDc5YmU2NjdlZjlkY2JiYWM1NWEwNjI5NWNlODcwYjA3MDI5YmZjZGIyZGNlMjhkOTU5ZjI4MTViMTZmODE3OTgnKSxcbiAgICBHeTogQmlnSW50KCcweDQ4M2FkYTc3MjZhM2M0NjU1ZGE0ZmJmYzBlMTEwOGE4ZmQxN2I0NDhhNjg1NTQxOTljNDdkMDhmZmIxMGQ0YjgnKSxcbn07XG5jb25zdCBzZWNwMjU2azFfRU5ETyA9IHtcbiAgICBiZXRhOiBCaWdJbnQoJzB4N2FlOTZhMmI2NTdjMDcxMDZlNjQ0NzllYWMzNDM0ZTk5Y2YwNDk3NTEyZjU4OTk1YzEzOTZjMjg3MTk1MDFlZScpLFxuICAgIGJhc2lzZXM6IFtcbiAgICAgICAgW0JpZ0ludCgnMHgzMDg2ZDIyMWE3ZDQ2YmNkZTg2YzkwZTQ5Mjg0ZWIxNScpLCAtQmlnSW50KCcweGU0NDM3ZWQ2MDEwZTg4Mjg2ZjU0N2ZhOTBhYmZlNGMzJyldLFxuICAgICAgICBbQmlnSW50KCcweDExNGNhNTBmN2E4ZTJmM2Y2NTdjMTEwOGQ5ZDQ0Y2ZkOCcpLCBCaWdJbnQoJzB4MzA4NmQyMjFhN2Q0NmJjZGU4NmM5MGU0OTI4NGViMTUnKV0sXG4gICAgXSxcbn07XG5jb25zdCBfMG4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDApO1xuY29uc3QgXzFuID0gLyogQF9fUFVSRV9fICovIEJpZ0ludCgxKTtcbmNvbnN0IF8ybiA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoMik7XG4vKipcbiAqIOKImm4gPSBuXigocCsxKS80KSBmb3IgZmllbGRzIHAgPSAzIG1vZCA0LiBXZSB1bndyYXAgdGhlIGxvb3AgYW5kIG11bHRpcGx5IGJpdC1ieS1iaXQuXG4gKiAoUCsxbi80bikudG9TdHJpbmcoMikgd291bGQgcHJvZHVjZSBiaXRzIFsyMjN4IDEsIDAsIDIyeCAxLCA0eCAwLCAxMSwgMDBdXG4gKi9cbmZ1bmN0aW9uIHNxcnRNb2QoeSkge1xuICAgIGNvbnN0IFAgPSBzZWNwMjU2azFfQ1VSVkUucDtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBfM24gPSBCaWdJbnQoMyksIF82biA9IEJpZ0ludCg2KSwgXzExbiA9IEJpZ0ludCgxMSksIF8yMm4gPSBCaWdJbnQoMjIpO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IF8yM24gPSBCaWdJbnQoMjMpLCBfNDRuID0gQmlnSW50KDQ0KSwgXzg4biA9IEJpZ0ludCg4OCk7XG4gICAgY29uc3QgYjIgPSAoeSAqIHkgKiB5KSAlIFA7IC8vIHheMywgMTFcbiAgICBjb25zdCBiMyA9IChiMiAqIGIyICogeSkgJSBQOyAvLyB4XjdcbiAgICBjb25zdCBiNiA9IChwb3cyKGIzLCBfM24sIFApICogYjMpICUgUDtcbiAgICBjb25zdCBiOSA9IChwb3cyKGI2LCBfM24sIFApICogYjMpICUgUDtcbiAgICBjb25zdCBiMTEgPSAocG93MihiOSwgXzJuLCBQKSAqIGIyKSAlIFA7XG4gICAgY29uc3QgYjIyID0gKHBvdzIoYjExLCBfMTFuLCBQKSAqIGIxMSkgJSBQO1xuICAgIGNvbnN0IGI0NCA9IChwb3cyKGIyMiwgXzIybiwgUCkgKiBiMjIpICUgUDtcbiAgICBjb25zdCBiODggPSAocG93MihiNDQsIF80NG4sIFApICogYjQ0KSAlIFA7XG4gICAgY29uc3QgYjE3NiA9IChwb3cyKGI4OCwgXzg4biwgUCkgKiBiODgpICUgUDtcbiAgICBjb25zdCBiMjIwID0gKHBvdzIoYjE3NiwgXzQ0biwgUCkgKiBiNDQpICUgUDtcbiAgICBjb25zdCBiMjIzID0gKHBvdzIoYjIyMCwgXzNuLCBQKSAqIGIzKSAlIFA7XG4gICAgY29uc3QgdDEgPSAocG93MihiMjIzLCBfMjNuLCBQKSAqIGIyMikgJSBQO1xuICAgIGNvbnN0IHQyID0gKHBvdzIodDEsIF82biwgUCkgKiBiMikgJSBQO1xuICAgIGNvbnN0IHJvb3QgPSBwb3cyKHQyLCBfMm4sIFApO1xuICAgIGlmICghRnBrMS5lcWwoRnBrMS5zcXIocm9vdCksIHkpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIHNxdWFyZSByb290Jyk7XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5jb25zdCBGcGsxID0gRmllbGQoc2VjcDI1NmsxX0NVUlZFLnAsIHsgc3FydDogc3FydE1vZCB9KTtcbi8qKlxuICogc2VjcDI1NmsxIGN1cnZlLCBFQ0RTQSBhbmQgRUNESCBtZXRob2RzLlxuICpcbiAqIEZpZWxkOiBgMm4qKjI1Nm4gLSAybioqMzJuIC0gMm4qKjluIC0gMm4qKjhuIC0gMm4qKjduIC0gMm4qKjZuIC0gMm4qKjRuIC0gMW5gXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBzZWNwMjU2azEgfSBmcm9tICdAbm9ibGUvY3VydmVzL3NlY3AyNTZrMSc7XG4gKiBjb25zdCB7IHNlY3JldEtleSwgcHVibGljS2V5IH0gPSBzZWNwMjU2azEua2V5Z2VuKCk7XG4gKiBjb25zdCBtc2cgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoJ2hlbGxvJyk7XG4gKiBjb25zdCBzaWcgPSBzZWNwMjU2azEuc2lnbihtc2csIHNlY3JldEtleSk7XG4gKiBjb25zdCBpc1ZhbGlkID0gc2VjcDI1NmsxLnZlcmlmeShzaWcsIG1zZywgcHVibGljS2V5KSA9PT0gdHJ1ZTtcbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3Qgc2VjcDI1NmsxID0gY3JlYXRlQ3VydmUoeyAuLi5zZWNwMjU2azFfQ1VSVkUsIEZwOiBGcGsxLCBsb3dTOiB0cnVlLCBlbmRvOiBzZWNwMjU2azFfRU5ETyB9LCBzaGEyNTYpO1xuLy8gU2Nobm9yciBzaWduYXR1cmVzIGFyZSBzdXBlcmlvciB0byBFQ0RTQSBmcm9tIGFib3ZlLiBCZWxvdyBpcyBTY2hub3JyLXNwZWNpZmljIEJJUDAzNDAgY29kZS5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luL2JpcHMvYmxvYi9tYXN0ZXIvYmlwLTAzNDAubWVkaWF3aWtpXG4vKiogQW4gb2JqZWN0IG1hcHBpbmcgdGFncyB0byB0aGVpciB0YWdnZWQgaGFzaCBwcmVmaXggb2YgW1NIQTI1Nih0YWcpIHwgU0hBMjU2KHRhZyldICovXG5jb25zdCBUQUdHRURfSEFTSF9QUkVGSVhFUyA9IHt9O1xuZnVuY3Rpb24gdGFnZ2VkSGFzaCh0YWcsIC4uLm1lc3NhZ2VzKSB7XG4gICAgbGV0IHRhZ1AgPSBUQUdHRURfSEFTSF9QUkVGSVhFU1t0YWddO1xuICAgIGlmICh0YWdQID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgdGFnSCA9IHNoYTI1Nih1dGY4VG9CeXRlcyh0YWcpKTtcbiAgICAgICAgdGFnUCA9IGNvbmNhdEJ5dGVzKHRhZ0gsIHRhZ0gpO1xuICAgICAgICBUQUdHRURfSEFTSF9QUkVGSVhFU1t0YWddID0gdGFnUDtcbiAgICB9XG4gICAgcmV0dXJuIHNoYTI1Nihjb25jYXRCeXRlcyh0YWdQLCAuLi5tZXNzYWdlcykpO1xufVxuLy8gRUNEU0EgY29tcGFjdCBwb2ludHMgYXJlIDMzLWJ5dGUuIFNjaG5vcnIgaXMgMzI6IHdlIHN0cmlwIGZpcnN0IGJ5dGUgMHgwMiBvciAweDAzXG5jb25zdCBwb2ludFRvQnl0ZXMgPSAocG9pbnQpID0+IHBvaW50LnRvQnl0ZXModHJ1ZSkuc2xpY2UoMSk7XG5jb25zdCBQb2ludGsxID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBzZWNwMjU2azEuUG9pbnQpKCk7XG5jb25zdCBoYXNFdmVuID0gKHkpID0+IHkgJSBfMm4gPT09IF8wbjtcbi8vIENhbGN1bGF0ZSBwb2ludCwgc2NhbGFyIGFuZCBieXRlc1xuZnVuY3Rpb24gc2Nobm9yckdldEV4dFB1YktleShwcml2KSB7XG4gICAgY29uc3QgeyBGbiwgQkFTRSB9ID0gUG9pbnRrMTtcbiAgICBjb25zdCBkXyA9IF9ub3JtRm5FbGVtZW50KEZuLCBwcml2KTtcbiAgICBjb25zdCBwID0gQkFTRS5tdWx0aXBseShkXyk7IC8vIFAgPSBkJ+KLhUc7IDAgPCBkJyA8IG4gY2hlY2sgaXMgZG9uZSBpbnNpZGVcbiAgICBjb25zdCBzY2FsYXIgPSBoYXNFdmVuKHAueSkgPyBkXyA6IEZuLm5lZyhkXyk7XG4gICAgcmV0dXJuIHsgc2NhbGFyLCBieXRlczogcG9pbnRUb0J5dGVzKHApIH07XG59XG4vKipcbiAqIGxpZnRfeCBmcm9tIEJJUDM0MC4gQ29udmVydCAzMi1ieXRlIHggY29vcmRpbmF0ZSB0byBlbGxpcHRpYyBjdXJ2ZSBwb2ludC5cbiAqIEByZXR1cm5zIHZhbGlkIHBvaW50IGNoZWNrZWQgZm9yIGJlaW5nIG9uLWN1cnZlXG4gKi9cbmZ1bmN0aW9uIGxpZnRfeCh4KSB7XG4gICAgY29uc3QgRnAgPSBGcGsxO1xuICAgIGlmICghRnAuaXNWYWxpZE5vdDAoeCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB4OiBGYWlsIGlmIHgg4omlIHAnKTtcbiAgICBjb25zdCB4eCA9IEZwLmNyZWF0ZSh4ICogeCk7XG4gICAgY29uc3QgYyA9IEZwLmNyZWF0ZSh4eCAqIHggKyBCaWdJbnQoNykpOyAvLyBMZXQgYyA9IHjCsyArIDcgbW9kIHAuXG4gICAgbGV0IHkgPSBGcC5zcXJ0KGMpOyAvLyBMZXQgeSA9IGNeKHArMSkvNCBtb2QgcC4gU2FtZSBhcyBzcXJ0KCkuXG4gICAgLy8gUmV0dXJuIHRoZSB1bmlxdWUgcG9pbnQgUCBzdWNoIHRoYXQgeChQKSA9IHggYW5kXG4gICAgLy8geShQKSA9IHkgaWYgeSBtb2QgMiA9IDAgb3IgeShQKSA9IHAteSBvdGhlcndpc2UuXG4gICAgaWYgKCFoYXNFdmVuKHkpKVxuICAgICAgICB5ID0gRnAubmVnKHkpO1xuICAgIGNvbnN0IHAgPSBQb2ludGsxLmZyb21BZmZpbmUoeyB4LCB5IH0pO1xuICAgIHAuYXNzZXJ0VmFsaWRpdHkoKTtcbiAgICByZXR1cm4gcDtcbn1cbmNvbnN0IG51bSA9IGJ5dGVzVG9OdW1iZXJCRTtcbi8qKlxuICogQ3JlYXRlIHRhZ2dlZCBoYXNoLCBjb252ZXJ0IGl0IHRvIGJpZ2ludCwgcmVkdWNlIG1vZHVsby1uLlxuICovXG5mdW5jdGlvbiBjaGFsbGVuZ2UoLi4uYXJncykge1xuICAgIHJldHVybiBQb2ludGsxLkZuLmNyZWF0ZShudW0odGFnZ2VkSGFzaCgnQklQMDM0MC9jaGFsbGVuZ2UnLCAuLi5hcmdzKSkpO1xufVxuLyoqXG4gKiBTY2hub3JyIHB1YmxpYyBrZXkgaXMganVzdCBgeGAgY29vcmRpbmF0ZSBvZiBQb2ludCBhcyBwZXIgQklQMzQwLlxuICovXG5mdW5jdGlvbiBzY2hub3JyR2V0UHVibGljS2V5KHNlY3JldEtleSkge1xuICAgIHJldHVybiBzY2hub3JyR2V0RXh0UHViS2V5KHNlY3JldEtleSkuYnl0ZXM7IC8vIGQnPWludChzaykuIEZhaWwgaWYgZCc9MCBvciBkJ+KJpW4uIFJldCBieXRlcyhkJ+KLhUcpXG59XG4vKipcbiAqIENyZWF0ZXMgU2Nobm9yciBzaWduYXR1cmUgYXMgcGVyIEJJUDM0MC4gVmVyaWZpZXMgaXRzZWxmIGJlZm9yZSByZXR1cm5pbmcgYW55dGhpbmcuXG4gKiBhdXhSYW5kIGlzIG9wdGlvbmFsIGFuZCBpcyBub3QgdGhlIHNvbGUgc291cmNlIG9mIGsgZ2VuZXJhdGlvbjogYmFkIENTUFJORyB3b24ndCBiZSBkYW5nZXJvdXMuXG4gKi9cbmZ1bmN0aW9uIHNjaG5vcnJTaWduKG1lc3NhZ2UsIHNlY3JldEtleSwgYXV4UmFuZCA9IHJhbmRvbUJ5dGVzKDMyKSkge1xuICAgIGNvbnN0IHsgRm4gfSA9IFBvaW50azE7XG4gICAgY29uc3QgbSA9IGVuc3VyZUJ5dGVzKCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgY29uc3QgeyBieXRlczogcHgsIHNjYWxhcjogZCB9ID0gc2Nobm9yckdldEV4dFB1YktleShzZWNyZXRLZXkpOyAvLyBjaGVja3MgZm9yIGlzV2l0aGluQ3VydmVPcmRlclxuICAgIGNvbnN0IGEgPSBlbnN1cmVCeXRlcygnYXV4UmFuZCcsIGF1eFJhbmQsIDMyKTsgLy8gQXV4aWxpYXJ5IHJhbmRvbSBkYXRhIGE6IGEgMzItYnl0ZSBhcnJheVxuICAgIGNvbnN0IHQgPSBGbi50b0J5dGVzKGQgXiBudW0odGFnZ2VkSGFzaCgnQklQMDM0MC9hdXgnLCBhKSkpOyAvLyBMZXQgdCBiZSB0aGUgYnl0ZS13aXNlIHhvciBvZiBieXRlcyhkKSBhbmQgaGFzaC9hdXgoYSlcbiAgICBjb25zdCByYW5kID0gdGFnZ2VkSGFzaCgnQklQMDM0MC9ub25jZScsIHQsIHB4LCBtKTsgLy8gTGV0IHJhbmQgPSBoYXNoL25vbmNlKHQgfHwgYnl0ZXMoUCkgfHwgbSlcbiAgICAvLyBMZXQgaycgPSBpbnQocmFuZCkgbW9kIG4uIEZhaWwgaWYgaycgPSAwLiBMZXQgUiA9IGsn4ouFR1xuICAgIGNvbnN0IHsgYnl0ZXM6IHJ4LCBzY2FsYXI6IGsgfSA9IHNjaG5vcnJHZXRFeHRQdWJLZXkocmFuZCk7XG4gICAgY29uc3QgZSA9IGNoYWxsZW5nZShyeCwgcHgsIG0pOyAvLyBMZXQgZSA9IGludChoYXNoL2NoYWxsZW5nZShieXRlcyhSKSB8fCBieXRlcyhQKSB8fCBtKSkgbW9kIG4uXG4gICAgY29uc3Qgc2lnID0gbmV3IFVpbnQ4QXJyYXkoNjQpOyAvLyBMZXQgc2lnID0gYnl0ZXMoUikgfHwgYnl0ZXMoKGsgKyBlZCkgbW9kIG4pLlxuICAgIHNpZy5zZXQocngsIDApO1xuICAgIHNpZy5zZXQoRm4udG9CeXRlcyhGbi5jcmVhdGUoayArIGUgKiBkKSksIDMyKTtcbiAgICAvLyBJZiBWZXJpZnkoYnl0ZXMoUCksIG0sIHNpZykgKHNlZSBiZWxvdykgcmV0dXJucyBmYWlsdXJlLCBhYm9ydFxuICAgIGlmICghc2Nobm9yclZlcmlmeShzaWcsIG0sIHB4KSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduOiBJbnZhbGlkIHNpZ25hdHVyZSBwcm9kdWNlZCcpO1xuICAgIHJldHVybiBzaWc7XG59XG4vKipcbiAqIFZlcmlmaWVzIFNjaG5vcnIgc2lnbmF0dXJlLlxuICogV2lsbCBzd2FsbG93IGVycm9ycyAmIHJldHVybiBmYWxzZSBleGNlcHQgZm9yIGluaXRpYWwgdHlwZSB2YWxpZGF0aW9uIG9mIGFyZ3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gc2Nobm9yclZlcmlmeShzaWduYXR1cmUsIG1lc3NhZ2UsIHB1YmxpY0tleSkge1xuICAgIGNvbnN0IHsgRm4sIEJBU0UgfSA9IFBvaW50azE7XG4gICAgY29uc3Qgc2lnID0gZW5zdXJlQnl0ZXMoJ3NpZ25hdHVyZScsIHNpZ25hdHVyZSwgNjQpO1xuICAgIGNvbnN0IG0gPSBlbnN1cmVCeXRlcygnbWVzc2FnZScsIG1lc3NhZ2UpO1xuICAgIGNvbnN0IHB1YiA9IGVuc3VyZUJ5dGVzKCdwdWJsaWNLZXknLCBwdWJsaWNLZXksIDMyKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBQID0gbGlmdF94KG51bShwdWIpKTsgLy8gUCA9IGxpZnRfeChpbnQocGspKTsgZmFpbCBpZiB0aGF0IGZhaWxzXG4gICAgICAgIGNvbnN0IHIgPSBudW0oc2lnLnN1YmFycmF5KDAsIDMyKSk7IC8vIExldCByID0gaW50KHNpZ1swOjMyXSk7IGZhaWwgaWYgciDiiaUgcC5cbiAgICAgICAgaWYgKCFpblJhbmdlKHIsIF8xbiwgc2VjcDI1NmsxX0NVUlZFLnApKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBzID0gbnVtKHNpZy5zdWJhcnJheSgzMiwgNjQpKTsgLy8gTGV0IHMgPSBpbnQoc2lnWzMyOjY0XSk7IGZhaWwgaWYgcyDiiaUgbi5cbiAgICAgICAgaWYgKCFpblJhbmdlKHMsIF8xbiwgc2VjcDI1NmsxX0NVUlZFLm4pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBpbnQoY2hhbGxlbmdlKGJ5dGVzKHIpfHxieXRlcyhQKXx8bSkpJW5cbiAgICAgICAgY29uc3QgZSA9IGNoYWxsZW5nZShGbi50b0J5dGVzKHIpLCBwb2ludFRvQnl0ZXMoUCksIG0pO1xuICAgICAgICAvLyBSID0gc+KLhUcgLSBl4ouFUCwgd2hlcmUgLWVQID09IChuLWUpUFxuICAgICAgICBjb25zdCBSID0gQkFTRS5tdWx0aXBseVVuc2FmZShzKS5hZGQoUC5tdWx0aXBseVVuc2FmZShGbi5uZWcoZSkpKTtcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBSLnRvQWZmaW5lKCk7XG4gICAgICAgIC8vIEZhaWwgaWYgaXNfaW5maW5pdGUoUikgLyBub3QgaGFzX2V2ZW5feShSKSAvIHgoUikg4omgIHIuXG4gICAgICAgIGlmIChSLmlzMCgpIHx8ICFoYXNFdmVuKHkpIHx8IHggIT09IHIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogU2Nobm9yciBzaWduYXR1cmVzIG92ZXIgc2VjcDI1NmsxLlxuICogaHR0cHM6Ly9naXRodWIuY29tL2JpdGNvaW4vYmlwcy9ibG9iL21hc3Rlci9iaXAtMDM0MC5tZWRpYXdpa2lcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgc2Nobm9yciB9IGZyb20gJ0Bub2JsZS9jdXJ2ZXMvc2VjcDI1NmsxJztcbiAqIGNvbnN0IHsgc2VjcmV0S2V5LCBwdWJsaWNLZXkgfSA9IHNjaG5vcnIua2V5Z2VuKCk7XG4gKiAvLyBjb25zdCBwdWJsaWNLZXkgPSBzY2hub3JyLmdldFB1YmxpY0tleShzZWNyZXRLZXkpO1xuICogY29uc3QgbXNnID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKCdoZWxsbycpO1xuICogY29uc3Qgc2lnID0gc2Nobm9yci5zaWduKG1zZywgc2VjcmV0S2V5KTtcbiAqIGNvbnN0IGlzVmFsaWQgPSBzY2hub3JyLnZlcmlmeShzaWcsIG1zZywgcHVibGljS2V5KTtcbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3Qgc2Nobm9yciA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4ge1xuICAgIGNvbnN0IHNpemUgPSAzMjtcbiAgICBjb25zdCBzZWVkTGVuZ3RoID0gNDg7XG4gICAgY29uc3QgcmFuZG9tU2VjcmV0S2V5ID0gKHNlZWQgPSByYW5kb21CeXRlcyhzZWVkTGVuZ3RoKSkgPT4ge1xuICAgICAgICByZXR1cm4gbWFwSGFzaFRvRmllbGQoc2VlZCwgc2VjcDI1NmsxX0NVUlZFLm4pO1xuICAgIH07XG4gICAgLy8gVE9ETzogcmVtb3ZlXG4gICAgc2VjcDI1NmsxLnV0aWxzLnJhbmRvbVNlY3JldEtleTtcbiAgICBmdW5jdGlvbiBrZXlnZW4oc2VlZCkge1xuICAgICAgICBjb25zdCBzZWNyZXRLZXkgPSByYW5kb21TZWNyZXRLZXkoc2VlZCk7XG4gICAgICAgIHJldHVybiB7IHNlY3JldEtleSwgcHVibGljS2V5OiBzY2hub3JyR2V0UHVibGljS2V5KHNlY3JldEtleSkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2V5Z2VuLFxuICAgICAgICBnZXRQdWJsaWNLZXk6IHNjaG5vcnJHZXRQdWJsaWNLZXksXG4gICAgICAgIHNpZ246IHNjaG5vcnJTaWduLFxuICAgICAgICB2ZXJpZnk6IHNjaG5vcnJWZXJpZnksXG4gICAgICAgIFBvaW50OiBQb2ludGsxLFxuICAgICAgICB1dGlsczoge1xuICAgICAgICAgICAgcmFuZG9tU2VjcmV0S2V5OiByYW5kb21TZWNyZXRLZXksXG4gICAgICAgICAgICByYW5kb21Qcml2YXRlS2V5OiByYW5kb21TZWNyZXRLZXksXG4gICAgICAgICAgICB0YWdnZWRIYXNoLFxuICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlXG4gICAgICAgICAgICBsaWZ0X3gsXG4gICAgICAgICAgICBwb2ludFRvQnl0ZXMsXG4gICAgICAgICAgICBudW1iZXJUb0J5dGVzQkUsXG4gICAgICAgICAgICBieXRlc1RvTnVtYmVyQkUsXG4gICAgICAgICAgICBtb2QsXG4gICAgICAgIH0sXG4gICAgICAgIGxlbmd0aHM6IHtcbiAgICAgICAgICAgIHNlY3JldEtleTogc2l6ZSxcbiAgICAgICAgICAgIHB1YmxpY0tleTogc2l6ZSxcbiAgICAgICAgICAgIHB1YmxpY0tleUhhc1ByZWZpeDogZmFsc2UsXG4gICAgICAgICAgICBzaWduYXR1cmU6IHNpemUgKiAyLFxuICAgICAgICAgICAgc2VlZDogc2VlZExlbmd0aCxcbiAgICAgICAgfSxcbiAgICB9O1xufSkoKTtcbmNvbnN0IGlzb01hcCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gaXNvZ2VueU1hcChGcGsxLCBbXG4gICAgLy8geE51bVxuICAgIFtcbiAgICAgICAgJzB4OGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGUzOGRhYWFhYThjNycsXG4gICAgICAgICcweDdkM2Q0YzgwYmMzMjFkNWI5ZjMxNWNlYTdmZDQ0YzVkNTk1ZDJmYzBiZjYzYjkyZGZmZjEwNDRmMTdjNjU4MScsXG4gICAgICAgICcweDUzNGMzMjhkMjNmMjM0ZTZlMmE0MTNkZWNhMjVjYWVjZTQ1MDYxNDQwMzdjNDAzMTRlY2JkMGI1M2Q5ZGQyNjInLFxuICAgICAgICAnMHg4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZGFhYWFhODhjJyxcbiAgICBdLFxuICAgIC8vIHhEZW5cbiAgICBbXG4gICAgICAgICcweGQzNTc3MTE5M2Q5NDkxOGE5Y2EzNGNjYmI3YjY0MGRkODZjZDQwOTU0MmY4NDg3ZDlmZTZiNzQ1NzgxZWI0OWInLFxuICAgICAgICAnMHhlZGFkYzZmNjQzODNkYzFkZjdjNGIyZDUxYjU0MjI1NDA2ZDM2YjY0MWY1ZTQxYmJjNTJhNTY2MTJhOGM2ZDE0JyxcbiAgICAgICAgJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsIC8vIExBU1QgMVxuICAgIF0sXG4gICAgLy8geU51bVxuICAgIFtcbiAgICAgICAgJzB4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGJkYTEyZjY4NGI4ZTM4ZTIzYycsXG4gICAgICAgICcweGM3NWUwYzMyZDVjYjdjMGZhOWQwYTU0YjEyYTBhNmQ1NjQ3YWIwNDZkNjg2ZGE2ZmRmZmM5MGZjMjAxZDcxYTMnLFxuICAgICAgICAnMHgyOWE2MTk0NjkxZjkxYTczNzE1MjA5ZWY2NTEyZTU3NjcyMjgzMGEyMDFiZTIwMThhNzY1ZTg1YTllY2VlOTMxJyxcbiAgICAgICAgJzB4MmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmYzOGUzOGQ4NCcsXG4gICAgXSxcbiAgICAvLyB5RGVuXG4gICAgW1xuICAgICAgICAnMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWZmZmZmOTNiJyxcbiAgICAgICAgJzB4N2EwNjUzNGJiOGJkYjQ5ZmQ1ZTllNjYzMjcyMmMyOTg5NDY3YzFiZmM4ZThkOTc4ZGZiNDI1ZDI2ODVjMjU3MycsXG4gICAgICAgICcweDY0ODRhYTcxNjU0NWNhMmNmM2E3MGMzZmE4ZmUzMzdlMGEzZDIxMTYyZjBkNjI5OWE3YmY4MTkyYmZkMmE3NmYnLFxuICAgICAgICAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJywgLy8gTEFTVCAxXG4gICAgXSxcbl0ubWFwKChpKSA9PiBpLm1hcCgoaikgPT4gQmlnSW50KGopKSkpKSgpO1xuY29uc3QgbWFwU1dVID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBtYXBUb0N1cnZlU2ltcGxlU1dVKEZwazEsIHtcbiAgICBBOiBCaWdJbnQoJzB4M2Y4NzMxYWJkZDY2MWFkY2EwOGE1NTU4ZjBmNWQyNzJlOTUzZDM2M2NiNmYwZTVkNDA1NDQ3YzAxYTQ0NDUzMycpLFxuICAgIEI6IEJpZ0ludCgnMTc3MScpLFxuICAgIFo6IEZwazEuY3JlYXRlKEJpZ0ludCgnLTExJykpLFxufSkpKCk7XG4vKiogSGFzaGluZyAvIGVuY29kaW5nIHRvIHNlY3AyNTZrMSBwb2ludHMgLyBmaWVsZC4gUkZDIDkzODAgbWV0aG9kcy4gKi9cbmV4cG9ydCBjb25zdCBzZWNwMjU2azFfaGFzaGVyID0gLyogQF9fUFVSRV9fICovICgoKSA9PiBjcmVhdGVIYXNoZXIoc2VjcDI1NmsxLlBvaW50LCAoc2NhbGFycykgPT4ge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gbWFwU1dVKEZwazEuY3JlYXRlKHNjYWxhcnNbMF0pKTtcbiAgICByZXR1cm4gaXNvTWFwKHgsIHkpO1xufSwge1xuICAgIERTVDogJ3NlY3AyNTZrMV9YTUQ6U0hBLTI1Nl9TU1dVX1JPXycsXG4gICAgZW5jb2RlRFNUOiAnc2VjcDI1NmsxX1hNRDpTSEEtMjU2X1NTV1VfTlVfJyxcbiAgICBwOiBGcGsxLk9SREVSLFxuICAgIG06IDEsXG4gICAgazogMTI4LFxuICAgIGV4cGFuZDogJ3htZCcsXG4gICAgaGFzaDogc2hhMjU2LFxufSkpKCk7XG4vKiogQGRlcHJlY2F0ZWQgdXNlIGBpbXBvcnQgeyBzZWNwMjU2azFfaGFzaGVyIH0gZnJvbSAnQG5vYmxlL2N1cnZlcy9zZWNwMjU2azEuanMnO2AgKi9cbmV4cG9ydCBjb25zdCBoYXNoVG9DdXJ2ZSA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gc2VjcDI1NmsxX2hhc2hlci5oYXNoVG9DdXJ2ZSkoKTtcbi8qKiBAZGVwcmVjYXRlZCB1c2UgYGltcG9ydCB7IHNlY3AyNTZrMV9oYXNoZXIgfSBmcm9tICdAbm9ibGUvY3VydmVzL3NlY3AyNTZrMS5qcyc7YCAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZVRvQ3VydmUgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IHNlY3AyNTZrMV9oYXNoZXIuZW5jb2RlVG9DdXJ2ZSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlY3AyNTZrMS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/secp256k1.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/utils.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/utils.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _abool2: () => (/* binding */ _abool2),\n/* harmony export */   _abytes2: () => (/* binding */ _abytes2),\n/* harmony export */   _validateObject: () => (/* binding */ _validateObject),\n/* harmony export */   aInRange: () => (/* binding */ aInRange),\n/* harmony export */   abool: () => (/* binding */ abool),\n/* harmony export */   abytes: () => (/* reexport safe */ _noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes),\n/* harmony export */   anumber: () => (/* reexport safe */ _noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.anumber),\n/* harmony export */   asciiToBytes: () => (/* binding */ asciiToBytes),\n/* harmony export */   bitGet: () => (/* binding */ bitGet),\n/* harmony export */   bitLen: () => (/* binding */ bitLen),\n/* harmony export */   bitMask: () => (/* binding */ bitMask),\n/* harmony export */   bitSet: () => (/* binding */ bitSet),\n/* harmony export */   bytesToHex: () => (/* reexport safe */ _noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex),\n/* harmony export */   bytesToNumberBE: () => (/* binding */ bytesToNumberBE),\n/* harmony export */   bytesToNumberLE: () => (/* binding */ bytesToNumberLE),\n/* harmony export */   bytesToUtf8: () => (/* reexport safe */ _noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToUtf8),\n/* harmony export */   concatBytes: () => (/* reexport safe */ _noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes),\n/* harmony export */   copyBytes: () => (/* binding */ copyBytes),\n/* harmony export */   createHmacDrbg: () => (/* binding */ createHmacDrbg),\n/* harmony export */   ensureBytes: () => (/* binding */ ensureBytes),\n/* harmony export */   equalBytes: () => (/* binding */ equalBytes),\n/* harmony export */   hexToBytes: () => (/* reexport safe */ _noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.hexToBytes),\n/* harmony export */   hexToNumber: () => (/* binding */ hexToNumber),\n/* harmony export */   inRange: () => (/* binding */ inRange),\n/* harmony export */   isBytes: () => (/* reexport safe */ _noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes),\n/* harmony export */   isHash: () => (/* binding */ isHash),\n/* harmony export */   memoized: () => (/* binding */ memoized),\n/* harmony export */   notImplemented: () => (/* binding */ notImplemented),\n/* harmony export */   numberToBytesBE: () => (/* binding */ numberToBytesBE),\n/* harmony export */   numberToBytesLE: () => (/* binding */ numberToBytesLE),\n/* harmony export */   numberToHexUnpadded: () => (/* binding */ numberToHexUnpadded),\n/* harmony export */   numberToVarBytesBE: () => (/* binding */ numberToVarBytesBE),\n/* harmony export */   randomBytes: () => (/* reexport safe */ _noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.randomBytes),\n/* harmony export */   utf8ToBytes: () => (/* reexport safe */ _noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes),\n/* harmony export */   validateObject: () => (/* binding */ validateObject)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/utils.js */ \"(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/@noble/hashes/esm/utils.js\");\n/**\n * Hex, bytes and number utilities.\n * @module\n */\n/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nfunction abool(title, value) {\n    if (typeof value !== 'boolean')\n        throw new Error(title + ' boolean expected, got ' + value);\n}\n// tmp name until v2\nfunction _abool2(value, title = '') {\n    if (typeof value !== 'boolean') {\n        const prefix = title && `\"${title}\"`;\n        throw new Error(prefix + 'expected boolean, got type=' + typeof value);\n    }\n    return value;\n}\n// tmp name until v2\n/** Asserts something is Uint8Array. */\nfunction _abytes2(value, length, title = '') {\n    const bytes = (0,_noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes)(value);\n    const len = value?.length;\n    const needsLen = length !== undefined;\n    if (!bytes || (needsLen && len !== length)) {\n        const prefix = title && `\"${title}\" `;\n        const ofLen = needsLen ? ` of length ${length}` : '';\n        const got = bytes ? `length=${len}` : `type=${typeof value}`;\n        throw new Error(prefix + 'expected Uint8Array' + ofLen + ', got ' + got);\n    }\n    return value;\n}\n// Used in weierstrass, der\nfunction numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? '0' + hex : hex;\n}\nfunction hexToNumber(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    return hex === '' ? _0n : BigInt('0x' + hex); // Big Endian\n}\n// BE: Big Endian, LE: Little Endian\nfunction bytesToNumberBE(bytes) {\n    return hexToNumber((0,_noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(bytes));\n}\nfunction bytesToNumberLE(bytes) {\n    (0,_noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.abytes)(bytes);\n    return hexToNumber((0,_noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(Uint8Array.from(bytes).reverse()));\n}\nfunction numberToBytesBE(n, len) {\n    return (0,_noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(n.toString(16).padStart(len * 2, '0'));\n}\nfunction numberToBytesLE(n, len) {\n    return numberToBytesBE(n, len).reverse();\n}\n// Unpadded, rarely used\nfunction numberToVarBytesBE(n) {\n    return (0,_noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(numberToHexUnpadded(n));\n}\n/**\n * Takes hex string or Uint8Array, converts to Uint8Array.\n * Validates output length.\n * Will throw error for other types.\n * @param title descriptive title for an error e.g. 'secret key'\n * @param hex hex string or Uint8Array\n * @param expectedLength optional, will compare to result array's length\n * @returns\n */\nfunction ensureBytes(title, hex, expectedLength) {\n    let res;\n    if (typeof hex === 'string') {\n        try {\n            res = (0,_noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(hex);\n        }\n        catch (e) {\n            throw new Error(title + ' must be hex string or Uint8Array, cause: ' + e);\n        }\n    }\n    else if ((0,_noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes)(hex)) {\n        // Uint8Array.from() instead of hash.slice() because node.js Buffer\n        // is instance of Uint8Array, and its slice() creates **mutable** copy\n        res = Uint8Array.from(hex);\n    }\n    else {\n        throw new Error(title + ' must be hex string or Uint8Array');\n    }\n    const len = res.length;\n    if (typeof expectedLength === 'number' && len !== expectedLength)\n        throw new Error(title + ' of length ' + expectedLength + ' expected, got ' + len);\n    return res;\n}\n// Compares 2 u8a-s in kinda constant time\nfunction equalBytes(a, b) {\n    if (a.length !== b.length)\n        return false;\n    let diff = 0;\n    for (let i = 0; i < a.length; i++)\n        diff |= a[i] ^ b[i];\n    return diff === 0;\n}\n/**\n * Copies Uint8Array. We can't use u8a.slice(), because u8a can be Buffer,\n * and Buffer#slice creates mutable copy. Never use Buffers!\n */\nfunction copyBytes(bytes) {\n    return Uint8Array.from(bytes);\n}\n/**\n * Decodes 7-bit ASCII string to Uint8Array, throws on non-ascii symbols\n * Should be safe to use for things expected to be ASCII.\n * Returns exact same result as utf8ToBytes for ASCII or throws.\n */\nfunction asciiToBytes(ascii) {\n    return Uint8Array.from(ascii, (c, i) => {\n        const charCode = c.charCodeAt(0);\n        if (c.length !== 1 || charCode > 127) {\n            throw new Error(`string contains non-ASCII character \"${ascii[i]}\" with code ${charCode} at position ${i}`);\n        }\n        return charCode;\n    });\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\n// export const utf8ToBytes: typeof utf8ToBytes_ = utf8ToBytes_;\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\n// export const bytesToUtf8: typeof bytesToUtf8_ = bytesToUtf8_;\n// Is positive bigint\nconst isPosBig = (n) => typeof n === 'bigint' && _0n <= n;\nfunction inRange(n, min, max) {\n    return isPosBig(n) && isPosBig(min) && isPosBig(max) && min <= n && n < max;\n}\n/**\n * Asserts min <= n < max. NOTE: It's < max and not <= max.\n * @example\n * aInRange('x', x, 1n, 256n); // would assume x is in (1n..255n)\n */\nfunction aInRange(title, n, min, max) {\n    // Why min <= n < max and not a (min < n < max) OR b (min <= n <= max)?\n    // consider P=256n, min=0n, max=P\n    // - a for min=0 would require -1:          `inRange('x', x, -1n, P)`\n    // - b would commonly require subtraction:  `inRange('x', x, 0n, P - 1n)`\n    // - our way is the cleanest:               `inRange('x', x, 0n, P)\n    if (!inRange(n, min, max))\n        throw new Error('expected valid ' + title + ': ' + min + ' <= n < ' + max + ', got ' + n);\n}\n// Bit operations\n/**\n * Calculates amount of bits in a bigint.\n * Same as `n.toString(2).length`\n * TODO: merge with nLength in modular\n */\nfunction bitLen(n) {\n    let len;\n    for (len = 0; n > _0n; n >>= _1n, len += 1)\n        ;\n    return len;\n}\n/**\n * Gets single bit at position.\n * NOTE: first bit position is 0 (same as arrays)\n * Same as `!!+Array.from(n.toString(2)).reverse()[pos]`\n */\nfunction bitGet(n, pos) {\n    return (n >> BigInt(pos)) & _1n;\n}\n/**\n * Sets single bit at position.\n */\nfunction bitSet(n, pos, value) {\n    return n | ((value ? _1n : _0n) << BigInt(pos));\n}\n/**\n * Calculate mask for N bits. Not using ** operator with bigints because of old engines.\n * Same as BigInt(`0b${Array(i).fill('1').join('')}`)\n */\nconst bitMask = (n) => (_1n << BigInt(n)) - _1n;\n/**\n * Minimal HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n * @returns function that will call DRBG until 2nd arg returns something meaningful\n * @example\n *   const drbg = createHmacDRBG<Key>(32, 32, hmac);\n *   drbg(seed, bytesToKey); // bytesToKey must return Key or undefined\n */\nfunction createHmacDrbg(hashLen, qByteLen, hmacFn) {\n    if (typeof hashLen !== 'number' || hashLen < 2)\n        throw new Error('hashLen must be a number');\n    if (typeof qByteLen !== 'number' || qByteLen < 2)\n        throw new Error('qByteLen must be a number');\n    if (typeof hmacFn !== 'function')\n        throw new Error('hmacFn must be a function');\n    // Step B, Step C: set hashLen to 8*ceil(hlen/8)\n    const u8n = (len) => new Uint8Array(len); // creates Uint8Array\n    const u8of = (byte) => Uint8Array.of(byte); // another shortcut\n    let v = u8n(hashLen); // Minimal non-full-spec HMAC-DRBG from NIST 800-90 for RFC6979 sigs.\n    let k = u8n(hashLen); // Steps B and C of RFC6979 3.2: set hashLen, in our case always same\n    let i = 0; // Iterations counter, will throw when over 1000\n    const reset = () => {\n        v.fill(1);\n        k.fill(0);\n        i = 0;\n    };\n    const h = (...b) => hmacFn(k, v, ...b); // hmac(k)(v, ...values)\n    const reseed = (seed = u8n(0)) => {\n        // HMAC-DRBG reseed() function. Steps D-G\n        k = h(u8of(0x00), seed); // k = hmac(k || v || 0x00 || seed)\n        v = h(); // v = hmac(k || v)\n        if (seed.length === 0)\n            return;\n        k = h(u8of(0x01), seed); // k = hmac(k || v || 0x01 || seed)\n        v = h(); // v = hmac(k || v)\n    };\n    const gen = () => {\n        // HMAC-DRBG generate() function\n        if (i++ >= 1000)\n            throw new Error('drbg: tried 1000 values');\n        let len = 0;\n        const out = [];\n        while (len < qByteLen) {\n            v = h();\n            const sl = v.slice();\n            out.push(sl);\n            len += v.length;\n        }\n        return (0,_noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(...out);\n    };\n    const genUntil = (seed, pred) => {\n        reset();\n        reseed(seed); // Steps D-G\n        let res = undefined; // Step H: grind until k is in [1..n-1]\n        while (!(res = pred(gen())))\n            reseed();\n        reset();\n        return res;\n    };\n    return genUntil;\n}\n// Validating curves and fields\nconst validatorFns = {\n    bigint: (val) => typeof val === 'bigint',\n    function: (val) => typeof val === 'function',\n    boolean: (val) => typeof val === 'boolean',\n    string: (val) => typeof val === 'string',\n    stringOrUint8Array: (val) => typeof val === 'string' || (0,_noble_hashes_utils_js__WEBPACK_IMPORTED_MODULE_0__.isBytes)(val),\n    isSafeInteger: (val) => Number.isSafeInteger(val),\n    array: (val) => Array.isArray(val),\n    field: (val, object) => object.Fp.isValid(val),\n    hash: (val) => typeof val === 'function' && Number.isSafeInteger(val.outputLen),\n};\n// type Record<K extends string | number | symbol, T> = { [P in K]: T; }\nfunction validateObject(object, validators, optValidators = {}) {\n    const checkField = (fieldName, type, isOptional) => {\n        const checkVal = validatorFns[type];\n        if (typeof checkVal !== 'function')\n            throw new Error('invalid validator function');\n        const val = object[fieldName];\n        if (isOptional && val === undefined)\n            return;\n        if (!checkVal(val, object)) {\n            throw new Error('param ' + String(fieldName) + ' is invalid. Expected ' + type + ', got ' + val);\n        }\n    };\n    for (const [fieldName, type] of Object.entries(validators))\n        checkField(fieldName, type, false);\n    for (const [fieldName, type] of Object.entries(optValidators))\n        checkField(fieldName, type, true);\n    return object;\n}\n// validate type tests\n// const o: { a: number; b: number; c: number } = { a: 1, b: 5, c: 6 };\n// const z0 = validateObject(o, { a: 'isSafeInteger' }, { c: 'bigint' }); // Ok!\n// // Should fail type-check\n// const z1 = validateObject(o, { a: 'tmp' }, { c: 'zz' });\n// const z2 = validateObject(o, { a: 'isSafeInteger' }, { c: 'zz' });\n// const z3 = validateObject(o, { test: 'boolean', z: 'bug' });\n// const z4 = validateObject(o, { a: 'boolean', z: 'bug' });\nfunction isHash(val) {\n    return typeof val === 'function' && Number.isSafeInteger(val.outputLen);\n}\nfunction _validateObject(object, fields, optFields = {}) {\n    if (!object || typeof object !== 'object')\n        throw new Error('expected valid options object');\n    function checkField(fieldName, expectedType, isOpt) {\n        const val = object[fieldName];\n        if (isOpt && val === undefined)\n            return;\n        const current = typeof val;\n        if (current !== expectedType || val === null)\n            throw new Error(`param \"${fieldName}\" is invalid: expected ${expectedType}, got ${current}`);\n    }\n    Object.entries(fields).forEach(([k, v]) => checkField(k, v, false));\n    Object.entries(optFields).forEach(([k, v]) => checkField(k, v, true));\n}\n/**\n * throws not implemented error\n */\nconst notImplemented = () => {\n    throw new Error('not implemented');\n};\n/**\n * Memoizes (caches) computation result.\n * Uses WeakMap: the value is going auto-cleaned by GC after last reference is removed.\n */\nfunction memoized(fn) {\n    const map = new WeakMap();\n    return (arg, ...args) => {\n        const val = map.get(arg);\n        if (val !== undefined)\n            return val;\n        const computed = fn(arg, ...args);\n        map.set(arg, computed);\n        return computed;\n    };\n}\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdW5pdmVyc2FsLXByb3ZpZGVyL25vZGVfbW9kdWxlcy92aWVtL25vZGVfbW9kdWxlcy9Abm9ibGUvY3VydmVzL2VzbS91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ29LO0FBQ3JCO0FBQy9JO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLG9DQUFvQyxNQUFNO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0JBQWtCLCtEQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxNQUFNO0FBQzFDLCtDQUErQyxPQUFPO0FBQ3RELHNDQUFzQyxJQUFJLFlBQVksYUFBYTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNPO0FBQ1AsdUJBQXVCLGtFQUFXO0FBQ2xDO0FBQ087QUFDUCxJQUFJLDhEQUFPO0FBQ1gsdUJBQXVCLGtFQUFXO0FBQ2xDO0FBQ087QUFDUCxXQUFXLGtFQUFXO0FBQ3RCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQLFdBQVcsa0VBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrRUFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwrREFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsU0FBUyxjQUFjLFVBQVUsY0FBYyxFQUFFO0FBQ3JIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDRCQUE0QjtBQUNuRDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMsZ0RBQWdEO0FBQ2hELDBCQUEwQjtBQUMxQiwwQkFBMEI7QUFDMUIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1FQUFZO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0Qiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsK0RBQVE7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUNuRCw4REFBOEQ7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxXQUFXLFdBQVcsWUFBWSxJQUFJO0FBQ3BELGtDQUFrQyxvQkFBb0IsSUFBSSxhQUFhLEdBQUc7QUFDMUU7QUFDQSxrQ0FBa0MsVUFBVSxJQUFJLFNBQVM7QUFDekQsa0NBQWtDLG9CQUFvQixJQUFJLFNBQVM7QUFDbkUsa0NBQWtDLDJCQUEyQjtBQUM3RCxrQ0FBa0Msd0JBQXdCO0FBQ25EO0FBQ1A7QUFDQTtBQUNPLHVEQUF1RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFVBQVUseUJBQXlCLGFBQWEsUUFBUSxRQUFRO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlci9ub2RlX21vZHVsZXMvdmllbS9ub2RlX21vZHVsZXMvQG5vYmxlL2N1cnZlcy9lc20vdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBIZXgsIGJ5dGVzIGFuZCBudW1iZXIgdXRpbGl0aWVzLlxuICogQG1vZHVsZVxuICovXG4vKiEgbm9ibGUtY3VydmVzIC0gTUlUIExpY2Vuc2UgKGMpIDIwMjIgUGF1bCBNaWxsZXIgKHBhdWxtaWxsci5jb20pICovXG5pbXBvcnQgeyBhYnl0ZXMgYXMgYWJ5dGVzXywgYnl0ZXNUb0hleCBhcyBieXRlc1RvSGV4XywgY29uY2F0Qnl0ZXMgYXMgY29uY2F0Qnl0ZXNfLCBoZXhUb0J5dGVzIGFzIGhleFRvQnl0ZXNfLCBpc0J5dGVzIGFzIGlzQnl0ZXNfLCB9IGZyb20gJ0Bub2JsZS9oYXNoZXMvdXRpbHMuanMnO1xuZXhwb3J0IHsgYWJ5dGVzLCBhbnVtYmVyLCBieXRlc1RvSGV4LCBieXRlc1RvVXRmOCwgY29uY2F0Qnl0ZXMsIGhleFRvQnl0ZXMsIGlzQnl0ZXMsIHJhbmRvbUJ5dGVzLCB1dGY4VG9CeXRlcywgfSBmcm9tICdAbm9ibGUvaGFzaGVzL3V0aWxzLmpzJztcbmNvbnN0IF8wbiA9IC8qIEBfX1BVUkVfXyAqLyBCaWdJbnQoMCk7XG5jb25zdCBfMW4gPSAvKiBAX19QVVJFX18gKi8gQmlnSW50KDEpO1xuZXhwb3J0IGZ1bmN0aW9uIGFib29sKHRpdGxlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRpdGxlICsgJyBib29sZWFuIGV4cGVjdGVkLCBnb3QgJyArIHZhbHVlKTtcbn1cbi8vIHRtcCBuYW1lIHVudGlsIHYyXG5leHBvcnQgZnVuY3Rpb24gX2Fib29sMih2YWx1ZSwgdGl0bGUgPSAnJykge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJykge1xuICAgICAgICBjb25zdCBwcmVmaXggPSB0aXRsZSAmJiBgXCIke3RpdGxlfVwiYDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCArICdleHBlY3RlZCBib29sZWFuLCBnb3QgdHlwZT0nICsgdHlwZW9mIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLy8gdG1wIG5hbWUgdW50aWwgdjJcbi8qKiBBc3NlcnRzIHNvbWV0aGluZyBpcyBVaW50OEFycmF5LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9hYnl0ZXMyKHZhbHVlLCBsZW5ndGgsIHRpdGxlID0gJycpIHtcbiAgICBjb25zdCBieXRlcyA9IGlzQnl0ZXNfKHZhbHVlKTtcbiAgICBjb25zdCBsZW4gPSB2YWx1ZT8ubGVuZ3RoO1xuICAgIGNvbnN0IG5lZWRzTGVuID0gbGVuZ3RoICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKCFieXRlcyB8fCAobmVlZHNMZW4gJiYgbGVuICE9PSBsZW5ndGgpKSB7XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IHRpdGxlICYmIGBcIiR7dGl0bGV9XCIgYDtcbiAgICAgICAgY29uc3Qgb2ZMZW4gPSBuZWVkc0xlbiA/IGAgb2YgbGVuZ3RoICR7bGVuZ3RofWAgOiAnJztcbiAgICAgICAgY29uc3QgZ290ID0gYnl0ZXMgPyBgbGVuZ3RoPSR7bGVufWAgOiBgdHlwZT0ke3R5cGVvZiB2YWx1ZX1gO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJlZml4ICsgJ2V4cGVjdGVkIFVpbnQ4QXJyYXknICsgb2ZMZW4gKyAnLCBnb3QgJyArIGdvdCk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8vIFVzZWQgaW4gd2VpZXJzdHJhc3MsIGRlclxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvSGV4VW5wYWRkZWQobnVtKSB7XG4gICAgY29uc3QgaGV4ID0gbnVtLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gaGV4Lmxlbmd0aCAmIDEgPyAnMCcgKyBoZXggOiBoZXg7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4VG9OdW1iZXIoaGV4KSB7XG4gICAgaWYgKHR5cGVvZiBoZXggIT09ICdzdHJpbmcnKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCAnICsgdHlwZW9mIGhleCk7XG4gICAgcmV0dXJuIGhleCA9PT0gJycgPyBfMG4gOiBCaWdJbnQoJzB4JyArIGhleCk7IC8vIEJpZyBFbmRpYW5cbn1cbi8vIEJFOiBCaWcgRW5kaWFuLCBMRTogTGl0dGxlIEVuZGlhblxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9OdW1iZXJCRShieXRlcykge1xuICAgIHJldHVybiBoZXhUb051bWJlcihieXRlc1RvSGV4XyhieXRlcykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9OdW1iZXJMRShieXRlcykge1xuICAgIGFieXRlc18oYnl0ZXMpO1xuICAgIHJldHVybiBoZXhUb051bWJlcihieXRlc1RvSGV4XyhVaW50OEFycmF5LmZyb20oYnl0ZXMpLnJldmVyc2UoKSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvQnl0ZXNCRShuLCBsZW4pIHtcbiAgICByZXR1cm4gaGV4VG9CeXRlc18obi50b1N0cmluZygxNikucGFkU3RhcnQobGVuICogMiwgJzAnKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyVG9CeXRlc0xFKG4sIGxlbikge1xuICAgIHJldHVybiBudW1iZXJUb0J5dGVzQkUobiwgbGVuKS5yZXZlcnNlKCk7XG59XG4vLyBVbnBhZGRlZCwgcmFyZWx5IHVzZWRcbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJUb1ZhckJ5dGVzQkUobikge1xuICAgIHJldHVybiBoZXhUb0J5dGVzXyhudW1iZXJUb0hleFVucGFkZGVkKG4pKTtcbn1cbi8qKlxuICogVGFrZXMgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjb252ZXJ0cyB0byBVaW50OEFycmF5LlxuICogVmFsaWRhdGVzIG91dHB1dCBsZW5ndGguXG4gKiBXaWxsIHRocm93IGVycm9yIGZvciBvdGhlciB0eXBlcy5cbiAqIEBwYXJhbSB0aXRsZSBkZXNjcmlwdGl2ZSB0aXRsZSBmb3IgYW4gZXJyb3IgZS5nLiAnc2VjcmV0IGtleSdcbiAqIEBwYXJhbSBoZXggaGV4IHN0cmluZyBvciBVaW50OEFycmF5XG4gKiBAcGFyYW0gZXhwZWN0ZWRMZW5ndGggb3B0aW9uYWwsIHdpbGwgY29tcGFyZSB0byByZXN1bHQgYXJyYXkncyBsZW5ndGhcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVCeXRlcyh0aXRsZSwgaGV4LCBleHBlY3RlZExlbmd0aCkge1xuICAgIGxldCByZXM7XG4gICAgaWYgKHR5cGVvZiBoZXggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXMgPSBoZXhUb0J5dGVzXyhoZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGl0bGUgKyAnIG11c3QgYmUgaGV4IHN0cmluZyBvciBVaW50OEFycmF5LCBjYXVzZTogJyArIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQnl0ZXNfKGhleCkpIHtcbiAgICAgICAgLy8gVWludDhBcnJheS5mcm9tKCkgaW5zdGVhZCBvZiBoYXNoLnNsaWNlKCkgYmVjYXVzZSBub2RlLmpzIEJ1ZmZlclxuICAgICAgICAvLyBpcyBpbnN0YW5jZSBvZiBVaW50OEFycmF5LCBhbmQgaXRzIHNsaWNlKCkgY3JlYXRlcyAqKm11dGFibGUqKiBjb3B5XG4gICAgICAgIHJlcyA9IFVpbnQ4QXJyYXkuZnJvbShoZXgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRpdGxlICsgJyBtdXN0IGJlIGhleCBzdHJpbmcgb3IgVWludDhBcnJheScpO1xuICAgIH1cbiAgICBjb25zdCBsZW4gPSByZXMubGVuZ3RoO1xuICAgIGlmICh0eXBlb2YgZXhwZWN0ZWRMZW5ndGggPT09ICdudW1iZXInICYmIGxlbiAhPT0gZXhwZWN0ZWRMZW5ndGgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0aXRsZSArICcgb2YgbGVuZ3RoICcgKyBleHBlY3RlZExlbmd0aCArICcgZXhwZWN0ZWQsIGdvdCAnICsgbGVuKTtcbiAgICByZXR1cm4gcmVzO1xufVxuLy8gQ29tcGFyZXMgMiB1OGEtcyBpbiBraW5kYSBjb25zdGFudCB0aW1lXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxCeXRlcyhhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBkaWZmID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGRpZmYgfD0gYVtpXSBeIGJbaV07XG4gICAgcmV0dXJuIGRpZmYgPT09IDA7XG59XG4vKipcbiAqIENvcGllcyBVaW50OEFycmF5LiBXZSBjYW4ndCB1c2UgdThhLnNsaWNlKCksIGJlY2F1c2UgdThhIGNhbiBiZSBCdWZmZXIsXG4gKiBhbmQgQnVmZmVyI3NsaWNlIGNyZWF0ZXMgbXV0YWJsZSBjb3B5LiBOZXZlciB1c2UgQnVmZmVycyFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvcHlCeXRlcyhieXRlcykge1xuICAgIHJldHVybiBVaW50OEFycmF5LmZyb20oYnl0ZXMpO1xufVxuLyoqXG4gKiBEZWNvZGVzIDctYml0IEFTQ0lJIHN0cmluZyB0byBVaW50OEFycmF5LCB0aHJvd3Mgb24gbm9uLWFzY2lpIHN5bWJvbHNcbiAqIFNob3VsZCBiZSBzYWZlIHRvIHVzZSBmb3IgdGhpbmdzIGV4cGVjdGVkIHRvIGJlIEFTQ0lJLlxuICogUmV0dXJucyBleGFjdCBzYW1lIHJlc3VsdCBhcyB1dGY4VG9CeXRlcyBmb3IgQVNDSUkgb3IgdGhyb3dzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNjaWlUb0J5dGVzKGFzY2lpKSB7XG4gICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShhc2NpaSwgKGMsIGkpID0+IHtcbiAgICAgICAgY29uc3QgY2hhckNvZGUgPSBjLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmIChjLmxlbmd0aCAhPT0gMSB8fCBjaGFyQ29kZSA+IDEyNykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdHJpbmcgY29udGFpbnMgbm9uLUFTQ0lJIGNoYXJhY3RlciBcIiR7YXNjaWlbaV19XCIgd2l0aCBjb2RlICR7Y2hhckNvZGV9IGF0IHBvc2l0aW9uICR7aX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhckNvZGU7XG4gICAgfSk7XG59XG4vKipcbiAqIEBleGFtcGxlIHV0ZjhUb0J5dGVzKCdhYmMnKSAvLyBuZXcgVWludDhBcnJheShbOTcsIDk4LCA5OV0pXG4gKi9cbi8vIGV4cG9ydCBjb25zdCB1dGY4VG9CeXRlczogdHlwZW9mIHV0ZjhUb0J5dGVzXyA9IHV0ZjhUb0J5dGVzXztcbi8qKlxuICogQ29udmVydHMgYnl0ZXMgdG8gc3RyaW5nIHVzaW5nIFVURjggZW5jb2RpbmcuXG4gKiBAZXhhbXBsZSBieXRlc1RvVXRmOChVaW50OEFycmF5LmZyb20oWzk3LCA5OCwgOTldKSkgLy8gJ2FiYydcbiAqL1xuLy8gZXhwb3J0IGNvbnN0IGJ5dGVzVG9VdGY4OiB0eXBlb2YgYnl0ZXNUb1V0ZjhfID0gYnl0ZXNUb1V0ZjhfO1xuLy8gSXMgcG9zaXRpdmUgYmlnaW50XG5jb25zdCBpc1Bvc0JpZyA9IChuKSA9PiB0eXBlb2YgbiA9PT0gJ2JpZ2ludCcgJiYgXzBuIDw9IG47XG5leHBvcnQgZnVuY3Rpb24gaW5SYW5nZShuLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBpc1Bvc0JpZyhuKSAmJiBpc1Bvc0JpZyhtaW4pICYmIGlzUG9zQmlnKG1heCkgJiYgbWluIDw9IG4gJiYgbiA8IG1heDtcbn1cbi8qKlxuICogQXNzZXJ0cyBtaW4gPD0gbiA8IG1heC4gTk9URTogSXQncyA8IG1heCBhbmQgbm90IDw9IG1heC5cbiAqIEBleGFtcGxlXG4gKiBhSW5SYW5nZSgneCcsIHgsIDFuLCAyNTZuKTsgLy8gd291bGQgYXNzdW1lIHggaXMgaW4gKDFuLi4yNTVuKVxuICovXG5leHBvcnQgZnVuY3Rpb24gYUluUmFuZ2UodGl0bGUsIG4sIG1pbiwgbWF4KSB7XG4gICAgLy8gV2h5IG1pbiA8PSBuIDwgbWF4IGFuZCBub3QgYSAobWluIDwgbiA8IG1heCkgT1IgYiAobWluIDw9IG4gPD0gbWF4KT9cbiAgICAvLyBjb25zaWRlciBQPTI1Nm4sIG1pbj0wbiwgbWF4PVBcbiAgICAvLyAtIGEgZm9yIG1pbj0wIHdvdWxkIHJlcXVpcmUgLTE6ICAgICAgICAgIGBpblJhbmdlKCd4JywgeCwgLTFuLCBQKWBcbiAgICAvLyAtIGIgd291bGQgY29tbW9ubHkgcmVxdWlyZSBzdWJ0cmFjdGlvbjogIGBpblJhbmdlKCd4JywgeCwgMG4sIFAgLSAxbilgXG4gICAgLy8gLSBvdXIgd2F5IGlzIHRoZSBjbGVhbmVzdDogICAgICAgICAgICAgICBgaW5SYW5nZSgneCcsIHgsIDBuLCBQKVxuICAgIGlmICghaW5SYW5nZShuLCBtaW4sIG1heCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgdmFsaWQgJyArIHRpdGxlICsgJzogJyArIG1pbiArICcgPD0gbiA8ICcgKyBtYXggKyAnLCBnb3QgJyArIG4pO1xufVxuLy8gQml0IG9wZXJhdGlvbnNcbi8qKlxuICogQ2FsY3VsYXRlcyBhbW91bnQgb2YgYml0cyBpbiBhIGJpZ2ludC5cbiAqIFNhbWUgYXMgYG4udG9TdHJpbmcoMikubGVuZ3RoYFxuICogVE9ETzogbWVyZ2Ugd2l0aCBuTGVuZ3RoIGluIG1vZHVsYXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpdExlbihuKSB7XG4gICAgbGV0IGxlbjtcbiAgICBmb3IgKGxlbiA9IDA7IG4gPiBfMG47IG4gPj49IF8xbiwgbGVuICs9IDEpXG4gICAgICAgIDtcbiAgICByZXR1cm4gbGVuO1xufVxuLyoqXG4gKiBHZXRzIHNpbmdsZSBiaXQgYXQgcG9zaXRpb24uXG4gKiBOT1RFOiBmaXJzdCBiaXQgcG9zaXRpb24gaXMgMCAoc2FtZSBhcyBhcnJheXMpXG4gKiBTYW1lIGFzIGAhIStBcnJheS5mcm9tKG4udG9TdHJpbmcoMikpLnJldmVyc2UoKVtwb3NdYFxuICovXG5leHBvcnQgZnVuY3Rpb24gYml0R2V0KG4sIHBvcykge1xuICAgIHJldHVybiAobiA+PiBCaWdJbnQocG9zKSkgJiBfMW47XG59XG4vKipcbiAqIFNldHMgc2luZ2xlIGJpdCBhdCBwb3NpdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpdFNldChuLCBwb3MsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG4gfCAoKHZhbHVlID8gXzFuIDogXzBuKSA8PCBCaWdJbnQocG9zKSk7XG59XG4vKipcbiAqIENhbGN1bGF0ZSBtYXNrIGZvciBOIGJpdHMuIE5vdCB1c2luZyAqKiBvcGVyYXRvciB3aXRoIGJpZ2ludHMgYmVjYXVzZSBvZiBvbGQgZW5naW5lcy5cbiAqIFNhbWUgYXMgQmlnSW50KGAwYiR7QXJyYXkoaSkuZmlsbCgnMScpLmpvaW4oJycpfWApXG4gKi9cbmV4cG9ydCBjb25zdCBiaXRNYXNrID0gKG4pID0+IChfMW4gPDwgQmlnSW50KG4pKSAtIF8xbjtcbi8qKlxuICogTWluaW1hbCBITUFDLURSQkcgZnJvbSBOSVNUIDgwMC05MCBmb3IgUkZDNjk3OSBzaWdzLlxuICogQHJldHVybnMgZnVuY3Rpb24gdGhhdCB3aWxsIGNhbGwgRFJCRyB1bnRpbCAybmQgYXJnIHJldHVybnMgc29tZXRoaW5nIG1lYW5pbmdmdWxcbiAqIEBleGFtcGxlXG4gKiAgIGNvbnN0IGRyYmcgPSBjcmVhdGVIbWFjRFJCRzxLZXk+KDMyLCAzMiwgaG1hYyk7XG4gKiAgIGRyYmcoc2VlZCwgYnl0ZXNUb0tleSk7IC8vIGJ5dGVzVG9LZXkgbXVzdCByZXR1cm4gS2V5IG9yIHVuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSG1hY0RyYmcoaGFzaExlbiwgcUJ5dGVMZW4sIGhtYWNGbikge1xuICAgIGlmICh0eXBlb2YgaGFzaExlbiAhPT0gJ251bWJlcicgfHwgaGFzaExlbiA8IDIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGFzaExlbiBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgaWYgKHR5cGVvZiBxQnl0ZUxlbiAhPT0gJ251bWJlcicgfHwgcUJ5dGVMZW4gPCAyKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3FCeXRlTGVuIG11c3QgYmUgYSBudW1iZXInKTtcbiAgICBpZiAodHlwZW9mIGhtYWNGbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdobWFjRm4gbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgLy8gU3RlcCBCLCBTdGVwIEM6IHNldCBoYXNoTGVuIHRvIDgqY2VpbChobGVuLzgpXG4gICAgY29uc3QgdThuID0gKGxlbikgPT4gbmV3IFVpbnQ4QXJyYXkobGVuKTsgLy8gY3JlYXRlcyBVaW50OEFycmF5XG4gICAgY29uc3QgdThvZiA9IChieXRlKSA9PiBVaW50OEFycmF5Lm9mKGJ5dGUpOyAvLyBhbm90aGVyIHNob3J0Y3V0XG4gICAgbGV0IHYgPSB1OG4oaGFzaExlbik7IC8vIE1pbmltYWwgbm9uLWZ1bGwtc3BlYyBITUFDLURSQkcgZnJvbSBOSVNUIDgwMC05MCBmb3IgUkZDNjk3OSBzaWdzLlxuICAgIGxldCBrID0gdThuKGhhc2hMZW4pOyAvLyBTdGVwcyBCIGFuZCBDIG9mIFJGQzY5NzkgMy4yOiBzZXQgaGFzaExlbiwgaW4gb3VyIGNhc2UgYWx3YXlzIHNhbWVcbiAgICBsZXQgaSA9IDA7IC8vIEl0ZXJhdGlvbnMgY291bnRlciwgd2lsbCB0aHJvdyB3aGVuIG92ZXIgMTAwMFxuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgICAgICB2LmZpbGwoMSk7XG4gICAgICAgIGsuZmlsbCgwKTtcbiAgICAgICAgaSA9IDA7XG4gICAgfTtcbiAgICBjb25zdCBoID0gKC4uLmIpID0+IGhtYWNGbihrLCB2LCAuLi5iKTsgLy8gaG1hYyhrKSh2LCAuLi52YWx1ZXMpXG4gICAgY29uc3QgcmVzZWVkID0gKHNlZWQgPSB1OG4oMCkpID0+IHtcbiAgICAgICAgLy8gSE1BQy1EUkJHIHJlc2VlZCgpIGZ1bmN0aW9uLiBTdGVwcyBELUdcbiAgICAgICAgayA9IGgodThvZigweDAwKSwgc2VlZCk7IC8vIGsgPSBobWFjKGsgfHwgdiB8fCAweDAwIHx8IHNlZWQpXG4gICAgICAgIHYgPSBoKCk7IC8vIHYgPSBobWFjKGsgfHwgdilcbiAgICAgICAgaWYgKHNlZWQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBrID0gaCh1OG9mKDB4MDEpLCBzZWVkKTsgLy8gayA9IGhtYWMoayB8fCB2IHx8IDB4MDEgfHwgc2VlZClcbiAgICAgICAgdiA9IGgoKTsgLy8gdiA9IGhtYWMoayB8fCB2KVxuICAgIH07XG4gICAgY29uc3QgZ2VuID0gKCkgPT4ge1xuICAgICAgICAvLyBITUFDLURSQkcgZ2VuZXJhdGUoKSBmdW5jdGlvblxuICAgICAgICBpZiAoaSsrID49IDEwMDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RyYmc6IHRyaWVkIDEwMDAgdmFsdWVzJyk7XG4gICAgICAgIGxldCBsZW4gPSAwO1xuICAgICAgICBjb25zdCBvdXQgPSBbXTtcbiAgICAgICAgd2hpbGUgKGxlbiA8IHFCeXRlTGVuKSB7XG4gICAgICAgICAgICB2ID0gaCgpO1xuICAgICAgICAgICAgY29uc3Qgc2wgPSB2LnNsaWNlKCk7XG4gICAgICAgICAgICBvdXQucHVzaChzbCk7XG4gICAgICAgICAgICBsZW4gKz0gdi5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbmNhdEJ5dGVzXyguLi5vdXQpO1xuICAgIH07XG4gICAgY29uc3QgZ2VuVW50aWwgPSAoc2VlZCwgcHJlZCkgPT4ge1xuICAgICAgICByZXNldCgpO1xuICAgICAgICByZXNlZWQoc2VlZCk7IC8vIFN0ZXBzIEQtR1xuICAgICAgICBsZXQgcmVzID0gdW5kZWZpbmVkOyAvLyBTdGVwIEg6IGdyaW5kIHVudGlsIGsgaXMgaW4gWzEuLm4tMV1cbiAgICAgICAgd2hpbGUgKCEocmVzID0gcHJlZChnZW4oKSkpKVxuICAgICAgICAgICAgcmVzZWVkKCk7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICByZXR1cm4gZ2VuVW50aWw7XG59XG4vLyBWYWxpZGF0aW5nIGN1cnZlcyBhbmQgZmllbGRzXG5jb25zdCB2YWxpZGF0b3JGbnMgPSB7XG4gICAgYmlnaW50OiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnYmlnaW50JyxcbiAgICBmdW5jdGlvbjogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJyxcbiAgICBib29sZWFuOiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnYm9vbGVhbicsXG4gICAgc3RyaW5nOiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyxcbiAgICBzdHJpbmdPclVpbnQ4QXJyYXk6ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnIHx8IGlzQnl0ZXNfKHZhbCksXG4gICAgaXNTYWZlSW50ZWdlcjogKHZhbCkgPT4gTnVtYmVyLmlzU2FmZUludGVnZXIodmFsKSxcbiAgICBhcnJheTogKHZhbCkgPT4gQXJyYXkuaXNBcnJheSh2YWwpLFxuICAgIGZpZWxkOiAodmFsLCBvYmplY3QpID0+IG9iamVjdC5GcC5pc1ZhbGlkKHZhbCksXG4gICAgaGFzaDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJyAmJiBOdW1iZXIuaXNTYWZlSW50ZWdlcih2YWwub3V0cHV0TGVuKSxcbn07XG4vLyB0eXBlIFJlY29yZDxLIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sLCBUPiA9IHsgW1AgaW4gS106IFQ7IH1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdChvYmplY3QsIHZhbGlkYXRvcnMsIG9wdFZhbGlkYXRvcnMgPSB7fSkge1xuICAgIGNvbnN0IGNoZWNrRmllbGQgPSAoZmllbGROYW1lLCB0eXBlLCBpc09wdGlvbmFsKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrVmFsID0gdmFsaWRhdG9yRm5zW3R5cGVdO1xuICAgICAgICBpZiAodHlwZW9mIGNoZWNrVmFsICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHZhbGlkYXRvciBmdW5jdGlvbicpO1xuICAgICAgICBjb25zdCB2YWwgPSBvYmplY3RbZmllbGROYW1lXTtcbiAgICAgICAgaWYgKGlzT3B0aW9uYWwgJiYgdmFsID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghY2hlY2tWYWwodmFsLCBvYmplY3QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcmFtICcgKyBTdHJpbmcoZmllbGROYW1lKSArICcgaXMgaW52YWxpZC4gRXhwZWN0ZWQgJyArIHR5cGUgKyAnLCBnb3QgJyArIHZhbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZvciAoY29uc3QgW2ZpZWxkTmFtZSwgdHlwZV0gb2YgT2JqZWN0LmVudHJpZXModmFsaWRhdG9ycykpXG4gICAgICAgIGNoZWNrRmllbGQoZmllbGROYW1lLCB0eXBlLCBmYWxzZSk7XG4gICAgZm9yIChjb25zdCBbZmllbGROYW1lLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhvcHRWYWxpZGF0b3JzKSlcbiAgICAgICAgY2hlY2tGaWVsZChmaWVsZE5hbWUsIHR5cGUsIHRydWUpO1xuICAgIHJldHVybiBvYmplY3Q7XG59XG4vLyB2YWxpZGF0ZSB0eXBlIHRlc3RzXG4vLyBjb25zdCBvOiB7IGE6IG51bWJlcjsgYjogbnVtYmVyOyBjOiBudW1iZXIgfSA9IHsgYTogMSwgYjogNSwgYzogNiB9O1xuLy8gY29uc3QgejAgPSB2YWxpZGF0ZU9iamVjdChvLCB7IGE6ICdpc1NhZmVJbnRlZ2VyJyB9LCB7IGM6ICdiaWdpbnQnIH0pOyAvLyBPayFcbi8vIC8vIFNob3VsZCBmYWlsIHR5cGUtY2hlY2tcbi8vIGNvbnN0IHoxID0gdmFsaWRhdGVPYmplY3QobywgeyBhOiAndG1wJyB9LCB7IGM6ICd6eicgfSk7XG4vLyBjb25zdCB6MiA9IHZhbGlkYXRlT2JqZWN0KG8sIHsgYTogJ2lzU2FmZUludGVnZXInIH0sIHsgYzogJ3p6JyB9KTtcbi8vIGNvbnN0IHozID0gdmFsaWRhdGVPYmplY3QobywgeyB0ZXN0OiAnYm9vbGVhbicsIHo6ICdidWcnIH0pO1xuLy8gY29uc3QgejQgPSB2YWxpZGF0ZU9iamVjdChvLCB7IGE6ICdib29sZWFuJywgejogJ2J1ZycgfSk7XG5leHBvcnQgZnVuY3Rpb24gaXNIYXNoKHZhbCkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nICYmIE51bWJlci5pc1NhZmVJbnRlZ2VyKHZhbC5vdXRwdXRMZW4pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF92YWxpZGF0ZU9iamVjdChvYmplY3QsIGZpZWxkcywgb3B0RmllbGRzID0ge30pIHtcbiAgICBpZiAoIW9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ICE9PSAnb2JqZWN0JylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCB2YWxpZCBvcHRpb25zIG9iamVjdCcpO1xuICAgIGZ1bmN0aW9uIGNoZWNrRmllbGQoZmllbGROYW1lLCBleHBlY3RlZFR5cGUsIGlzT3B0KSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IG9iamVjdFtmaWVsZE5hbWVdO1xuICAgICAgICBpZiAoaXNPcHQgJiYgdmFsID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0eXBlb2YgdmFsO1xuICAgICAgICBpZiAoY3VycmVudCAhPT0gZXhwZWN0ZWRUeXBlIHx8IHZhbCA9PT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcGFyYW0gXCIke2ZpZWxkTmFtZX1cIiBpcyBpbnZhbGlkOiBleHBlY3RlZCAke2V4cGVjdGVkVHlwZX0sIGdvdCAke2N1cnJlbnR9YCk7XG4gICAgfVxuICAgIE9iamVjdC5lbnRyaWVzKGZpZWxkcykuZm9yRWFjaCgoW2ssIHZdKSA9PiBjaGVja0ZpZWxkKGssIHYsIGZhbHNlKSk7XG4gICAgT2JqZWN0LmVudHJpZXMob3B0RmllbGRzKS5mb3JFYWNoKChbaywgdl0pID0+IGNoZWNrRmllbGQoaywgdiwgdHJ1ZSkpO1xufVxuLyoqXG4gKiB0aHJvd3Mgbm90IGltcGxlbWVudGVkIGVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBub3RJbXBsZW1lbnRlZCA9ICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xufTtcbi8qKlxuICogTWVtb2l6ZXMgKGNhY2hlcykgY29tcHV0YXRpb24gcmVzdWx0LlxuICogVXNlcyBXZWFrTWFwOiB0aGUgdmFsdWUgaXMgZ29pbmcgYXV0by1jbGVhbmVkIGJ5IEdDIGFmdGVyIGxhc3QgcmVmZXJlbmNlIGlzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplZChmbikge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgcmV0dXJuIChhcmcsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgdmFsID0gbWFwLmdldChhcmcpO1xuICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICBjb25zdCBjb21wdXRlZCA9IGZuKGFyZywgLi4uYXJncyk7XG4gICAgICAgIG1hcC5zZXQoYXJnLCBjb21wdXRlZCk7XG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/universal-provider/node_modules/viem/node_modules/@noble/curves/esm/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js":
/*!************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/dist/index.es.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BASE10: () => (/* binding */ fn),\n/* harmony export */   BASE16: () => (/* binding */ G),\n/* harmony export */   BASE64: () => (/* binding */ Ht),\n/* harmony export */   BASE64URL: () => (/* binding */ Ee),\n/* harmony export */   COLON: () => (/* binding */ Qo),\n/* harmony export */   DEFAULT_DEPTH: () => (/* binding */ Te),\n/* harmony export */   EMPTY_SPACE: () => (/* binding */ ae),\n/* harmony export */   ENV_MAP: () => (/* binding */ Y),\n/* harmony export */   INTERNAL_ERRORS: () => (/* binding */ bo),\n/* harmony export */   MemoryStore: () => (/* binding */ Ua),\n/* harmony export */   ONE_THOUSAND: () => (/* binding */ ti),\n/* harmony export */   REACT_NATIVE_PRODUCT: () => (/* binding */ $n),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ so),\n/* harmony export */   SDK_ERRORS: () => (/* binding */ wo),\n/* harmony export */   SDK_TYPE: () => (/* binding */ jn),\n/* harmony export */   SLASH: () => (/* binding */ Ln),\n/* harmony export */   TYPE_0: () => (/* binding */ ln),\n/* harmony export */   TYPE_1: () => (/* binding */ Kt),\n/* harmony export */   TYPE_2: () => (/* binding */ ne),\n/* harmony export */   UTF8: () => (/* binding */ qt),\n/* harmony export */   addResourceToRecap: () => (/* binding */ Er),\n/* harmony export */   appendToQueryString: () => (/* binding */ Cn),\n/* harmony export */   assertType: () => (/* binding */ ai),\n/* harmony export */   assignAbilityToActions: () => (/* binding */ De),\n/* harmony export */   base64Decode: () => (/* binding */ wr),\n/* harmony export */   base64Encode: () => (/* binding */ mr),\n/* harmony export */   buildApprovedNamespaces: () => (/* binding */ sa),\n/* harmony export */   buildAuthObject: () => (/* binding */ ss),\n/* harmony export */   buildNamespacesFromAuth: () => (/* binding */ ca),\n/* harmony export */   buildRecapStatement: () => (/* binding */ xr),\n/* harmony export */   calcExpiry: () => (/* binding */ Ei),\n/* harmony export */   capitalize: () => (/* binding */ pi),\n/* harmony export */   capitalizeWord: () => (/* binding */ qn),\n/* harmony export */   createDelayedPromise: () => (/* binding */ gi),\n/* harmony export */   createEncodedRecap: () => (/* binding */ fs),\n/* harmony export */   createExpiringPromise: () => (/* binding */ yi),\n/* harmony export */   createRecap: () => (/* binding */ br),\n/* harmony export */   decodeRecap: () => (/* binding */ yt),\n/* harmony export */   decodeTypeByte: () => (/* binding */ Bt),\n/* harmony export */   decodeTypeTwoEnvelope: () => (/* binding */ Hc),\n/* harmony export */   decrypt: () => (/* binding */ Mc),\n/* harmony export */   deriveSymKey: () => (/* binding */ Cc),\n/* harmony export */   deserialize: () => (/* binding */ ve),\n/* harmony export */   encodeRecap: () => (/* binding */ le),\n/* harmony export */   encodeTypeByte: () => (/* binding */ hn),\n/* harmony export */   encodeTypeTwoEnvelope: () => (/* binding */ Dc),\n/* harmony export */   encrypt: () => (/* binding */ Vc),\n/* harmony export */   engineEvent: () => (/* binding */ xi),\n/* harmony export */   enumify: () => (/* binding */ hi),\n/* harmony export */   extractSolanaTransactionId: () => (/* binding */ Ji),\n/* harmony export */   formatAccountId: () => (/* binding */ Bn),\n/* harmony export */   formatAccountWithChain: () => (/* binding */ Ho),\n/* harmony export */   formatChainId: () => (/* binding */ An),\n/* harmony export */   formatDeeplinkUrl: () => (/* binding */ Kn),\n/* harmony export */   formatExpirerTarget: () => (/* binding */ _e),\n/* harmony export */   formatIdTarget: () => (/* binding */ wi),\n/* harmony export */   formatMessage: () => (/* binding */ hr),\n/* harmony export */   formatMessageContext: () => (/* binding */ ui),\n/* harmony export */   formatRelayParams: () => (/* binding */ uo),\n/* harmony export */   formatRelayRpcUrl: () => (/* binding */ si),\n/* harmony export */   formatStatementFromRecap: () => (/* binding */ qe),\n/* harmony export */   formatTopicTarget: () => (/* binding */ mi),\n/* harmony export */   formatUA: () => (/* binding */ Mn),\n/* harmony export */   formatUri: () => (/* binding */ Wc),\n/* harmony export */   fromBase64: () => (/* binding */ Le),\n/* harmony export */   generateKeyPair: () => (/* binding */ Lc),\n/* harmony export */   generateRandomBytes32: () => (/* binding */ jc),\n/* harmony export */   getAccountsChains: () => (/* binding */ It),\n/* harmony export */   getAccountsFromNamespaces: () => (/* binding */ Ko),\n/* harmony export */   getAddressFromAccount: () => (/* binding */ In),\n/* harmony export */   getAddressesFromAccounts: () => (/* binding */ qo),\n/* harmony export */   getAppId: () => (/* binding */ ri),\n/* harmony export */   getAppMetadata: () => (/* binding */ Pn),\n/* harmony export */   getBrowserOnlineStatus: () => (/* binding */ To),\n/* harmony export */   getChainFromAccount: () => (/* binding */ Nn),\n/* harmony export */   getChainsFromAccounts: () => (/* binding */ Un),\n/* harmony export */   getChainsFromNamespace: () => (/* binding */ ce),\n/* harmony export */   getChainsFromNamespaces: () => (/* binding */ Fo),\n/* harmony export */   getChainsFromRecap: () => (/* binding */ hs),\n/* harmony export */   getChainsFromRequiredNamespaces: () => (/* binding */ zo),\n/* harmony export */   getCommonValuesInArrays: () => (/* binding */ $e),\n/* harmony export */   getCryptoKeyFromKeyData: () => (/* binding */ io),\n/* harmony export */   getDecodedRecapFromResources: () => (/* binding */ pr),\n/* harmony export */   getDeepLink: () => (/* binding */ Oi),\n/* harmony export */   getDidAddress: () => (/* binding */ Me),\n/* harmony export */   getDidAddressSegments: () => (/* binding */ fe),\n/* harmony export */   getDidChainId: () => (/* binding */ lr),\n/* harmony export */   getEnvironment: () => (/* binding */ xt),\n/* harmony export */   getHttpUrl: () => (/* binding */ ci),\n/* harmony export */   getInternalError: () => (/* binding */ ht),\n/* harmony export */   getJavascriptID: () => (/* binding */ Vn),\n/* harmony export */   getJavascriptOS: () => (/* binding */ kn),\n/* harmony export */   getLastItems: () => (/* binding */ Hn),\n/* harmony export */   getLinkModeURL: () => (/* binding */ Xc),\n/* harmony export */   getMethodsFromRecap: () => (/* binding */ ds),\n/* harmony export */   getNamespacedDidChainId: () => (/* binding */ dr),\n/* harmony export */   getNamespacesChains: () => (/* binding */ ho),\n/* harmony export */   getNamespacesEventsForChainId: () => (/* binding */ go),\n/* harmony export */   getNamespacesFromAccounts: () => (/* binding */ mo),\n/* harmony export */   getNamespacesMethodsForChainId: () => (/* binding */ po),\n/* harmony export */   getNodeOnlineStatus: () => (/* binding */ _o),\n/* harmony export */   getReCapActions: () => (/* binding */ yr),\n/* harmony export */   getReactNativeOnlineStatus: () => (/* binding */ Ro),\n/* harmony export */   getRecapAbilitiesFromResource: () => (/* binding */ us),\n/* harmony export */   getRecapFromResources: () => (/* binding */ de),\n/* harmony export */   getRecapResource: () => (/* binding */ gr),\n/* harmony export */   getRelayClientMetadata: () => (/* binding */ ii),\n/* harmony export */   getRelayProtocolApi: () => (/* binding */ Yc),\n/* harmony export */   getRelayProtocolName: () => (/* binding */ Zc),\n/* harmony export */   getRequiredNamespacesFromNamespaces: () => (/* binding */ ia),\n/* harmony export */   getSdkError: () => (/* binding */ Nt),\n/* harmony export */   getSearchParamFromURL: () => (/* binding */ Ai),\n/* harmony export */   getUniqueValues: () => (/* binding */ Ue),\n/* harmony export */   handleDeeplinkRedirect: () => (/* binding */ Si),\n/* harmony export */   hasOverlap: () => (/* binding */ gt),\n/* harmony export */   hashEthereumMessage: () => (/* binding */ ke),\n/* harmony export */   hashKey: () => (/* binding */ Pc),\n/* harmony export */   hashMessage: () => (/* binding */ kc),\n/* harmony export */   isAndroid: () => (/* binding */ ei),\n/* harmony export */   isBrowser: () => (/* binding */ Yt),\n/* harmony export */   isCaipNamespace: () => (/* binding */ gn),\n/* harmony export */   isConformingNamespaces: () => (/* binding */ No),\n/* harmony export */   isExpired: () => (/* binding */ vi),\n/* harmony export */   isIframe: () => (/* binding */ Zn),\n/* harmony export */   isIos: () => (/* binding */ ni),\n/* harmony export */   isNode: () => (/* binding */ Re),\n/* harmony export */   isOnline: () => (/* binding */ Ia),\n/* harmony export */   isProposalStruct: () => (/* binding */ fa),\n/* harmony export */   isReactNative: () => (/* binding */ pt),\n/* harmony export */   isRecap: () => (/* binding */ He),\n/* harmony export */   isSessionCompatible: () => (/* binding */ aa),\n/* harmony export */   isSessionStruct: () => (/* binding */ la),\n/* harmony export */   isTelegram: () => (/* binding */ zn),\n/* harmony export */   isTestRun: () => (/* binding */ Ii),\n/* harmony export */   isTypeOneEnvelope: () => (/* binding */ Kc),\n/* harmony export */   isTypeTwoEnvelope: () => (/* binding */ Fc),\n/* harmony export */   isUndefined: () => (/* binding */ Et),\n/* harmony export */   isValidAccountId: () => (/* binding */ Eo),\n/* harmony export */   isValidAccounts: () => (/* binding */ So),\n/* harmony export */   isValidActions: () => (/* binding */ Ao),\n/* harmony export */   isValidArray: () => (/* binding */ oe),\n/* harmony export */   isValidChainId: () => (/* binding */ ie),\n/* harmony export */   isValidChains: () => (/* binding */ vo),\n/* harmony export */   isValidController: () => (/* binding */ da),\n/* harmony export */   isValidEip1271Signature: () => (/* binding */ cr),\n/* harmony export */   isValidEip191Signature: () => (/* binding */ sr),\n/* harmony export */   isValidErrorReason: () => (/* binding */ ma),\n/* harmony export */   isValidEvent: () => (/* binding */ Ea),\n/* harmony export */   isValidId: () => (/* binding */ ga),\n/* harmony export */   isValidNamespaceAccounts: () => (/* binding */ Oo),\n/* harmony export */   isValidNamespaceActions: () => (/* binding */ wn),\n/* harmony export */   isValidNamespaceChains: () => (/* binding */ xo),\n/* harmony export */   isValidNamespaceMethodsOrEvents: () => (/* binding */ mn),\n/* harmony export */   isValidNamespaces: () => (/* binding */ Bo),\n/* harmony export */   isValidNamespacesChainId: () => (/* binding */ va),\n/* harmony export */   isValidNamespacesEvent: () => (/* binding */ Sa),\n/* harmony export */   isValidNamespacesRequest: () => (/* binding */ xa),\n/* harmony export */   isValidNumber: () => (/* binding */ Se),\n/* harmony export */   isValidObject: () => (/* binding */ xe),\n/* harmony export */   isValidParams: () => (/* binding */ ya),\n/* harmony export */   isValidRecap: () => (/* binding */ ct),\n/* harmony export */   isValidRelay: () => (/* binding */ Io),\n/* harmony export */   isValidRelays: () => (/* binding */ pa),\n/* harmony export */   isValidRequest: () => (/* binding */ wa),\n/* harmony export */   isValidRequestExpiry: () => (/* binding */ Ba),\n/* harmony export */   isValidRequiredNamespaces: () => (/* binding */ ha),\n/* harmony export */   isValidResponse: () => (/* binding */ ba),\n/* harmony export */   isValidString: () => (/* binding */ nt),\n/* harmony export */   isValidUrl: () => (/* binding */ ua),\n/* harmony export */   mapEntries: () => (/* binding */ di),\n/* harmony export */   mapToObj: () => (/* binding */ fi),\n/* harmony export */   mergeArrays: () => (/* binding */ at),\n/* harmony export */   mergeEncodedRecaps: () => (/* binding */ ls),\n/* harmony export */   mergeRecaps: () => (/* binding */ vr),\n/* harmony export */   normalizeNamespaces: () => (/* binding */ yn),\n/* harmony export */   objToMap: () => (/* binding */ li),\n/* harmony export */   openDeeplink: () => (/* binding */ Fn),\n/* harmony export */   parseAccountId: () => (/* binding */ Ne),\n/* harmony export */   parseChainId: () => (/* binding */ Ie),\n/* harmony export */   parseContextNames: () => (/* binding */ Dn),\n/* harmony export */   parseExpirerTarget: () => (/* binding */ bi),\n/* harmony export */   parseNamespaceKey: () => (/* binding */ yo),\n/* harmony export */   parseRelayParams: () => (/* binding */ co),\n/* harmony export */   parseTopic: () => (/* binding */ ao),\n/* harmony export */   parseUri: () => (/* binding */ Gc),\n/* harmony export */   populateAppMetadata: () => (/* binding */ oi),\n/* harmony export */   populateAuthPayload: () => (/* binding */ cs),\n/* harmony export */   recapHasResource: () => (/* binding */ as),\n/* harmony export */   serialize: () => (/* binding */ pn),\n/* harmony export */   sleep: () => (/* binding */ Ni),\n/* harmony export */   subscribeToBrowserNetworkChange: () => (/* binding */ $o),\n/* harmony export */   subscribeToNetworkChange: () => (/* binding */ Na),\n/* harmony export */   subscribeToReactNativeNetworkChange: () => (/* binding */ Lo),\n/* harmony export */   toBase64: () => (/* binding */ Yn),\n/* harmony export */   uuidv4: () => (/* binding */ Bi),\n/* harmony export */   validateDecoding: () => (/* binding */ qc),\n/* harmony export */   validateEncoding: () => (/* binding */ oo),\n/* harmony export */   validateSignedCacao: () => (/* binding */ is),\n/* harmony export */   verifyP256Jwt: () => (/* binding */ zc),\n/* harmony export */   verifySignature: () => (/* binding */ ir)\n/* harmony export */ });\n/* harmony import */ var detect_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! detect-browser */ \"(ssr)/./node_modules/detect-browser/es/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/window-metadata */ \"(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bs58 */ \"(ssr)/./node_modules/bs58/src/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-api */ \"(ssr)/./node_modules/@walletconnect/relay-api/dist/index.es.js\");\nconst se=\":\";function Ie(t){const[e,n]=t.split(se);return{namespace:e,reference:n}}function An(t){const{namespace:e,reference:n}=t;return[e,n].join(se)}function Ne(t){const[e,n,r]=t.split(se);return{namespace:e,reference:n,address:r}}function Bn(t){const{namespace:e,reference:n,address:r}=t;return[e,n,r].join(se)}function Ue(t,e){const n=[];return t.forEach(r=>{const o=e(r);n.includes(o)||n.push(o)}),n}function In(t){const{address:e}=Ne(t);return e}function Nn(t){const{namespace:e,reference:n}=Ne(t);return An({namespace:e,reference:n})}function Ho(t,e){const{namespace:n,reference:r}=Ie(e);return Bn({namespace:n,reference:r,address:t})}function qo(t){return Ue(t,In)}function Un(t){return Ue(t,Nn)}function Ko(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...o.accounts)}),n}function Fo(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...Un(o.accounts))}),n}function zo(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...ce(r,o))}),n}function ce(t,e){return t.includes(\":\")?[t]:e.chains||[]}var Zo=Object.defineProperty,Yo=Object.defineProperties,Go=Object.getOwnPropertyDescriptors,Tn=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,Rn=(t,e,n)=>e in t?Zo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_n=(t,e)=>{for(var n in e||(e={}))Wo.call(e,n)&&Rn(t,n,e[n]);if(Tn)for(var n of Tn(e))Xo.call(e,n)&&Rn(t,n,e[n]);return t},Jo=(t,e)=>Yo(t,Go(e));const $n=\"ReactNative\",Y={reactNative:\"react-native\",node:\"node\",browser:\"browser\",unknown:\"unknown\"},ae=\" \",Qo=\":\",Ln=\"/\",Te=2,ti=1e3,jn=\"js\";function Re(){return typeof process<\"u\"&&typeof process.versions<\"u\"&&typeof process.versions.node<\"u\"}function pt(){return!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&navigator.product===$n}function ei(){return pt()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"android\"}function ni(){return pt()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"ios\"}function Yt(){return!Re()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getNavigator)()&&!!(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)()}function xt(){return pt()?Y.reactNative:Re()?Y.node:Yt()?Y.browser:Y.unknown}function ri(){var t;try{return pt()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Application)<\"u\"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Cn(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const o=e[r];o!==void 0&&n.set(r,o)}return n.toString()}function oi(t){var e,n;const r=Pn();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(o=>o!==\"\")),Jo(_n(_n({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(o){return console.warn(\"Error populating app metadata\",o),t||r}}function Pn(){return (0,_walletconnect_window_metadata__WEBPACK_IMPORTED_MODULE_2__.getWindowMetadata)()||{name:\"\",description:\"\",url:\"\",icons:[\"\"]}}function ii(t,e){var n;const r=xt(),o={protocol:t,version:e,env:r};return r===\"browser\"&&(o.host=((n=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:n.host)||\"unknown\"),o}function kn(){if(xt()===Y.reactNative&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"){const{OS:n,Version:r}=global.Platform;return[n,r].join(\"-\")}const t=(0,detect_browser__WEBPACK_IMPORTED_MODULE_7__.detect)();if(t===null)return\"unknown\";const e=t.os?t.os.replace(\" \",\"\").toLowerCase():\"unknown\";return t.type===\"browser\"?[e,t.name,t.version].join(\"-\"):[e,t.version].join(\"-\")}function Vn(){var t;const e=xt();return e===Y.browser?[e,((t=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getLocation)())==null?void 0:t.host)||\"unknown\"].join(\":\"):e}function Mn(t,e,n){const r=kn(),o=Vn();return[[t,e].join(\"-\"),[jn,n].join(\"-\"),r,o].join(\"/\")}function si({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:o,projectId:i,useOnCloseEvent:s,bundleId:c,packageName:a}){const u=n.split(\"?\"),l=Mn(t,e,r),f={auth:o,ua:l,projectId:i,useOnCloseEvent:s||void 0,packageName:a||void 0,bundleId:c||void 0},h=Cn(u[1]||\"\",f);return u[0]+\"?\"+h}function ci(t){let e=(t.match(/^[^:]+(?=:\\/\\/)/gi)||[])[0];const n=typeof e<\"u\"?t.split(\"://\")[1]:t;return e=e===\"wss\"?\"https\":\"http\",[e,n].join(\"://\")}function ai(t,e,n){if(!t[e]||typeof t[e]!==n)throw new Error(`Missing or invalid \"${e}\" param`)}function Dn(t,e=Te){return Hn(t.split(Ln),e)}function ui(t){return Dn(t).join(ae)}function gt(t,e){return t.filter(n=>e.includes(n)).length===t.length}function Hn(t,e=Te){return t.slice(Math.max(t.length-e,0))}function fi(t){return Object.fromEntries(t.entries())}function li(t){return new Map(Object.entries(t))}function di(t,e){const n={};return Object.keys(t).forEach(r=>{n[r]=e(t[r])}),n}const hi=t=>t;function qn(t){return t.trim().replace(/^\\w/,e=>e.toUpperCase())}function pi(t){return t.split(ae).map(e=>qn(e)).join(ae)}function gi(t=_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES,e){const n=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t||_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.FIVE_MINUTES);let r,o,i,s;return{resolve:c=>{i&&r&&(clearTimeout(i),r(c),s=Promise.resolve(c))},reject:c=>{i&&o&&(clearTimeout(i),o(c))},done:()=>new Promise((c,a)=>{if(s)return c(s);i=setTimeout(()=>{const u=new Error(e);s=Promise.reject(u),a(u)},n),r=c,o=a})}}function yi(t,e,n){return new Promise(async(r,o)=>{const i=setTimeout(()=>o(new Error(n)),e);try{const s=await t;r(s)}catch(s){o(s)}clearTimeout(i)})}function _e(t,e){if(typeof e==\"string\"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()===\"topic\"){if(typeof e!=\"string\")throw new Error('Value must be \"string\" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()===\"id\"){if(typeof e!=\"number\")throw new Error('Value must be \"number\" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function mi(t){return _e(\"topic\",t)}function wi(t){return _e(\"id\",t)}function bi(t){const[e,n]=t.split(\":\"),r={id:void 0,topic:void 0};if(e===\"topic\"&&typeof n==\"string\")r.topic=n;else if(e===\"id\"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ei(t,e){return (0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.fromMiliseconds)((e||Date.now())+(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t))}function vi(t){return Date.now()>=(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_0__.toMiliseconds)(t)}function xi(t,e){return`${t}${e?`:${e}`:\"\"}`}function at(t=[],e=[]){return[...new Set([...t,...e])]}async function Si({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const o=typeof n==\"string\"?JSON.parse(n):n,i=o?.href;if(typeof i!=\"string\")return;const s=Kn(i,t,e),c=xt();if(c===Y.browser){if(!((r=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_1__.getDocument)())!=null&&r.hasFocus())){console.warn(\"Document does not have focus, skipping deeplink.\");return}Fn(s)}else c===Y.reactNative&&typeof(global==null?void 0:global.Linking)<\"u\"&&await global.Linking.openURL(s)}catch(o){console.error(o)}}function Kn(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith(\"/\")&&(t=t.slice(0,-1));let o=`${t}`;if(t.startsWith(\"https://t.me\")){const i=t.includes(\"?\")?\"&startapp=\":\"?startapp=\";o=`${o}${i}${Yn(r,!0)}`}else o=`${o}/wc?${r}`;return o}function Fn(t){let e=\"_self\";Zn()?e=\"_top\":(zn()||t.startsWith(\"https://\")||t.startsWith(\"http://\"))&&(e=\"_blank\"),window.open(t,e,\"noreferrer noopener\")}async function Oi(t,e){let n=\"\";try{if(Yt()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function $e(t,e){return t.filter(n=>e.includes(n))}function Ai(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Bi(){return typeof crypto<\"u\"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t===\"x\"?e:e&3|8).toString(16)})}function Ii(){return typeof process<\"u\"&&process.env.IS_VITEST===\"true\"}function zn(){return typeof window<\"u\"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Zn(){try{return window.self!==window.top}catch{return!1}}function Yn(t,e=!1){const n=Buffer.from(t).toString(\"base64\");return e?n.replace(/[=]/g,\"\"):n}function Le(t){return Buffer.from(t,\"base64\").toString(\"utf-8\")}function Ni(t){return new Promise(e=>setTimeout(e,t))}function Gt(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function Ui(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function Wt(t,...e){if(!Ui(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function je(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");Gt(t.outputLen),Gt(t.blockLen)}function Tt(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Gn(t,e){Wt(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}const ue=BigInt(2**32-1),Wn=BigInt(32);function Ti(t,e=!1){return e?{h:Number(t&ue),l:Number(t>>Wn&ue)}:{h:Number(t>>Wn&ue)|0,l:Number(t&ue)|0}}function Ri(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:s}=Ti(t[o],e);[n[o],r[o]]=[i,s]}return[n,r]}const _i=(t,e,n)=>t<<n|e>>>32-n,$i=(t,e,n)=>e<<n|t>>>32-n,Li=(t,e,n)=>e<<n-32|t>>>64-n,ji=(t,e,n)=>t<<n-32|e>>>64-n,Rt=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;function Ci(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ce(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function st(t,e){return t<<32-e|t>>>e}const Xn=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Pi(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Jn(t){for(let e=0;e<t.length;e++)t[e]=Pi(t[e])}function ki(t){if(typeof t!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function _t(t){return typeof t==\"string\"&&(t=ki(t)),Wt(t),t}function Vi(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Wt(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}class Pe{clone(){return this._cloneInto()}}function Qn(t){const e=r=>t().update(_t(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $t(t=32){if(Rt&&typeof Rt.getRandomValues==\"function\")return Rt.getRandomValues(new Uint8Array(t));if(Rt&&typeof Rt.randomBytes==\"function\")return Rt.randomBytes(t);throw new Error(\"crypto.getRandomValues must be defined\")}const tr=[],er=[],nr=[],Mi=BigInt(0),Xt=BigInt(1),Di=BigInt(2),Hi=BigInt(7),qi=BigInt(256),Ki=BigInt(113);for(let t=0,e=Xt,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],tr.push(2*(5*r+n)),er.push((t+1)*(t+2)/2%64);let o=Mi;for(let i=0;i<7;i++)e=(e<<Xt^(e>>Hi)*Ki)%qi,e&Di&&(o^=Xt<<(Xt<<BigInt(i))-Xt);nr.push(o)}const[Fi,zi]=Ri(nr,!0),rr=(t,e,n)=>n>32?Li(t,e,n):_i(t,e,n),or=(t,e,n)=>n>32?ji(t,e,n):$i(t,e,n);function Zi(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const c=(s+8)%10,a=(s+2)%10,u=n[a],l=n[a+1],f=rr(u,l,1)^n[c],h=or(u,l,1)^n[c+1];for(let y=0;y<50;y+=10)t[s+y]^=f,t[s+y+1]^=h}let o=t[2],i=t[3];for(let s=0;s<24;s++){const c=er[s],a=rr(o,i,c),u=or(o,i,c),l=tr[s];o=t[l],i=t[l+1],t[l]=a,t[l+1]=u}for(let s=0;s<50;s+=10){for(let c=0;c<10;c++)n[c]=t[s+c];for(let c=0;c<10;c++)t[s+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=Fi[r],t[1]^=zi[r]}n.fill(0)}class En extends Pe{constructor(e,n,r,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Gt(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=Ci(this.state)}keccak(){Xn||Jn(this.state32),Zi(this.state32,this.rounds),Xn||Jn(this.state32),this.posOut=0,this.pos=0}update(e){Tt(this);const{blockLen:n,state:r}=this;e=_t(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);for(let c=0;c<s;c++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Tt(this,!1),Wt(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-o);e.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return Gt(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Gn(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new En(n,r,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Yi=(t,e,n)=>Qn(()=>new En(e,t,n)),Gi=Yi(1,136,256/8),Wi=\"https://rpc.walletconnect.org/v1\";function ke(t){const e=`\u0019Ethereum Signed Message:\n${t.length}`,n=new TextEncoder().encode(e+t);return\"0x\"+Buffer.from(Gi(n)).toString(\"hex\")}async function ir(t,e,n,r,o,i){switch(n.t){case\"eip191\":return await sr(t,e,n.s);case\"eip1271\":return await cr(t,e,n.s,r,o,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function sr(t,e,n){return(await (0,viem__WEBPACK_IMPORTED_MODULE_8__.recoverAddress)({hash:ke(e),signature:n})).toLowerCase()===t.toLowerCase()}async function cr(t,e,n,r,o,i){const s=Ie(r);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c=\"0x1626ba7e\",a=\"0000000000000000000000000000000000000000000000000000000000000040\",u=\"0000000000000000000000000000000000000000000000000000000000000041\",l=n.substring(2),f=ke(e).substring(2),h=c+f+a+u+l,y=await fetch(`${i||Wi}/?chainId=${r}&projectId=${o}`,{method:\"POST\",body:JSON.stringify({id:Xi(),jsonrpc:\"2.0\",method:\"eth_call\",params:[{to:t,data:h},\"latest\"]})}),{result:E}=await y.json();return E?E.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error(\"isValidEip1271Signature: \",c),!1}}function Xi(){return Date.now()+Math.floor(Math.random()*1e3)}function Ji(t){const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);const r=n[0];if(r===0)throw new Error(\"No signatures found\");const o=1+r*64;if(n.length<o)throw new Error(\"Transaction data too short for claimed signature count\");if(n.length<100)throw new Error(\"Transaction too short\");const i=Buffer.from(t,\"base64\").slice(1,65);return bs58__WEBPACK_IMPORTED_MODULE_3__[\"default\"].encode(i)}var Qi=Object.defineProperty,ts=Object.defineProperties,es=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertySymbols,ns=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,ur=(t,e,n)=>e in t?Qi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ve=(t,e)=>{for(var n in e||(e={}))ns.call(e,n)&&ur(t,n,e[n]);if(ar)for(var n of ar(e))rs.call(e,n)&&ur(t,n,e[n]);return t},fr=(t,e)=>ts(t,es(e));const os=\"did:pkh:\",fe=t=>t?.split(\":\"),lr=t=>{const e=t&&fe(t);if(e)return t.includes(os)?e[3]:e[1]},dr=t=>{const e=t&&fe(t);if(e)return e[2]+\":\"+e[3]},Me=t=>{const e=t&&fe(t);if(e)return e.pop()};async function is(t){const{cacao:e,projectId:n}=t,{s:r,p:o}=e,i=hr(o,o.iss),s=Me(o.iss);return await ir(s,i,r,dr(o.iss),n)}const hr=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Me(e);if(!t.aud&&!t.uri)throw new Error(\"Either `aud` or `uri` is required to construct the message\");let o=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,s=`Version: ${t.version}`,c=`Chain ID: ${lr(e)}`,a=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,l=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,y=t.resources?`Resources:${t.resources.map(p=>`\n- ${p}`).join(\"\")}`:void 0,E=de(t.resources);if(E){const p=yt(E);o=qe(o,p)}return[n,r,\"\",o,\"\",i,s,c,a,u,l,f,h,y].filter(p=>p!=null).join(`\n`)};function ss(t,e,n){return n.includes(\"did:pkh:\")||(n=`did:pkh:${n}`),{h:{t:\"caip122\"},p:{iss:n,domain:t.domain,aud:t.aud,version:t.version,nonce:t.nonce,iat:t.iat,statement:t.statement,requestId:t.requestId,resources:t.resources,nbf:t.nbf,exp:t.exp},s:e}}function cs(t){var e;const{authPayload:n,chains:r,methods:o}=t,i=n.statement||\"\";if(!(r!=null&&r.length))return n;const s=n.chains,c=$e(s,r);if(!(c!=null&&c.length))throw new Error(\"No supported chains\");const a=pr(n.resources);if(!a)return n;ct(a);const u=gr(a,\"eip155\");let l=n?.resources||[];if(u!=null&&u.length){const f=yr(u),h=$e(f,o);if(!(h!=null&&h.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(f)}, supported: ${JSON.stringify(o)}`);const y=De(\"request\",h,{chains:c}),E=Er(a,\"eip155\",y);l=((e=n?.resources)==null?void 0:e.slice(0,-1))||[],l.push(le(E))}return fr(Ve({},n),{statement:xr(i,de(l)),chains:c,resources:n!=null&&n.resources||l.length>0?l:void 0})}function pr(t){const e=de(t);if(e&&He(e))return yt(e)}function as(t,e){var n;return(n=t?.att)==null?void 0:n.hasOwnProperty(e)}function gr(t,e){var n,r;return(n=t?.att)!=null&&n[e]?Object.keys((r=t?.att)==null?void 0:r[e]):[]}function us(t){return t?.map(e=>Object.keys(e))||[]}function yr(t){return t?.map(e=>{var n;return(n=e.split(\"/\"))==null?void 0:n[1]})||[]}function mr(t){return Buffer.from(JSON.stringify(t)).toString(\"base64\")}function wr(t){return JSON.parse(Buffer.from(t,\"base64\").toString(\"utf-8\"))}function ct(t){if(!t)throw new Error(\"No recap provided, value is undefined\");if(!t.att)throw new Error(\"No `att` property found\");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error(\"No resources found in `att` property\");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!=\"object\")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(o=>{const i=r[o];if(!Array.isArray(i))throw new Error(`Ability limits ${o} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${o} is empty array, must be an array with objects`);i.forEach(s=>{if(typeof s!=\"object\")throw new Error(`Ability limits (${o}) must be an array of objects, found: ${s}`)})})})}function br(t,e,n,r={}){return n?.sort((o,i)=>o.localeCompare(i)),{att:{[t]:De(e,n,r)}}}function Er(t,e,n){var r;t.att[e]=Ve({},n);const o=(r=Object.keys(t.att))==null?void 0:r.sort((s,c)=>s.localeCompare(c)),i={att:{}};return o.reduce((s,c)=>(s.att[c]=t.att[c],s),i)}function De(t,e,n={}){e=e?.sort((o,i)=>o.localeCompare(i));const r=e.map(o=>({[`${t}/${o}`]:[n]}));return Object.assign({},...r)}function le(t){return ct(t),`urn:recap:${mr(t).replace(/=/g,\"\")}`}function yt(t){const e=wr(t.replace(\"urn:recap:\",\"\"));return ct(e),e}function fs(t,e,n){const r=br(t,e,n);return le(r)}function He(t){return t&&t.includes(\"urn:recap:\")}function ls(t,e){const n=yt(t),r=yt(e),o=vr(n,r);return le(o)}function vr(t,e){ct(t),ct(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((o,i)=>o.localeCompare(i)),r={att:{}};return n.forEach(o=>{var i,s;Object.keys(((i=t.att)==null?void 0:i[o])||{}).concat(Object.keys(((s=e.att)==null?void 0:s[o])||{})).sort((c,a)=>c.localeCompare(a)).forEach(c=>{var a,u;r.att[o]=fr(Ve({},r.att[o]),{[c]:((a=t.att[o])==null?void 0:a[c])||((u=e.att[o])==null?void 0:u[c])})})}),r}function qe(t=\"\",e){ct(e);const n=\"I further authorize the stated URI to perform the following actions on my behalf: \";if(t.includes(n))return t;const r=[];let o=0;Object.keys(e.att).forEach(c=>{const a=Object.keys(e.att[c]).map(f=>({ability:f.split(\"/\")[0],action:f.split(\"/\")[1]}));a.sort((f,h)=>f.action.localeCompare(h.action));const u={};a.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action)});const l=Object.keys(u).map(f=>(o++,`(${o}) '${f}': '${u[f].join(\"', '\")}' for '${c}'.`));r.push(l.join(\", \").replace(\".,\",\".\"))});const i=r.join(\" \"),s=`${n}${i}`;return`${t?t+\" \":\"\"}${s}`}function ds(t){var e;const n=yt(t);ct(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(o=>o.split(\"/\")[1]):[]}function hs(t){const e=yt(t);ct(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(o=>{var i;(i=o?.[0])!=null&&i.chains&&n.push(o[0].chains)})}),[...new Set(n.flat())]}function xr(t,e){if(!e)return t;const n=yt(e);return ct(n),qe(t,n)}function de(t){if(!t)return;const e=t?.[t.length-1];return He(e)?e:void 0}function Ke(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function Sr(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function tt(t,...e){if(!Sr(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function Or(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function ps(t,e){tt(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function Ar(t){if(typeof t!=\"boolean\")throw new Error(`boolean expected, not ${t}`)}const mt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),gs=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ys=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ys)throw new Error(\"Non little-endian hardware is not supported\");function ms(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function Fe(t){if(typeof t==\"string\")t=ms(t);else if(Sr(t))t=ze(t);else throw new Error(\"Uint8Array expected, got \"+typeof t);return t}function ws(t,e){if(e==null||typeof e!=\"object\")throw new Error(\"options must be defined\");return Object.assign(t,e)}function bs(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Es=(t,e)=>{function n(r,...o){if(tt(r),t.nonceLength!==void 0){const l=o[0];if(!l)throw new Error(\"nonce / iv required\");t.varSizeNonce?tt(l):tt(l,t.nonceLength)}const i=t.tagLength;i&&o[1]!==void 0&&tt(o[1]);const s=e(r,...o),c=(l,f)=>{if(f!==void 0){if(l!==2)throw new Error(\"cipher output not supported\");tt(f)}};let a=!1;return{encrypt(l,f){if(a)throw new Error(\"cannot encrypt() twice with same key + nonce\");return a=!0,tt(l),c(s.encrypt.length,f),s.encrypt(l,f)},decrypt(l,f){if(tt(l),i&&l.length<i)throw new Error(\"invalid ciphertext length: smaller than tagLength=\"+i);return c(s.decrypt.length,f),s.decrypt(l,f)}}}return Object.assign(n,t),n};function Br(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error(\"invalid output length, expected \"+t+\", got: \"+e.length);if(n&&!vs(e))throw new Error(\"invalid output, must be aligned\");return e}function Ir(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=r?4:0,u=r?0:4;t.setUint32(e+a,s,r),t.setUint32(e+u,c,r)}function vs(t){return t.byteOffset%4===0}function ze(t){return Uint8Array.from(t)}function Lt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const Nr=t=>Uint8Array.from(t.split(\"\").map(e=>e.charCodeAt(0))),xs=Nr(\"expand 16-byte k\"),Ss=Nr(\"expand 32-byte k\"),Os=mt(xs),As=mt(Ss);function V(t,e){return t<<e|t>>>32-e}function Ze(t){return t.byteOffset%4===0}const he=64,Bs=16,Ur=2**32-1,Tr=new Uint32Array;function Is(t,e,n,r,o,i,s,c){const a=o.length,u=new Uint8Array(he),l=mt(u),f=Ze(o)&&Ze(i),h=f?mt(o):Tr,y=f?mt(i):Tr;for(let E=0;E<a;s++){if(t(e,n,r,l,s,c),s>=Ur)throw new Error(\"arx: counter overflow\");const p=Math.min(he,a-E);if(f&&p===he){const d=E/4;if(E%4!==0)throw new Error(\"arx: invalid block position\");for(let v=0,m;v<Bs;v++)m=d+v,y[m]=h[m]^l[v];E+=he;continue}for(let d=0,v;d<p;d++)v=E+d,i[v]=o[v]^u[d];E+=p}}function Ns(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:s}=ws({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!=\"function\")throw new Error(\"core must be a function\");return Ke(o),Ke(s),Ar(i),Ar(n),(c,a,u,l,f=0)=>{tt(c),tt(a),tt(u);const h=u.length;if(l===void 0&&(l=new Uint8Array(h)),tt(l),Ke(f),f<0||f>=Ur)throw new Error(\"arx: counter overflow\");if(l.length<h)throw new Error(`arx: output (${l.length}) is shorter than data (${h})`);const y=[];let E=c.length,p,d;if(E===32)y.push(p=ze(c)),d=As;else if(E===16&&n)p=new Uint8Array(32),p.set(c),p.set(c,16),d=Os,y.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);Ze(a)||y.push(a=ze(a));const v=mt(p);if(r){if(a.length!==24)throw new Error(\"arx: extended nonce must be 24 bytes\");r(d,v,mt(a.subarray(0,16)),v),a=a.subarray(16)}const m=16-o;if(m!==a.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(m!==12){const N=new Uint8Array(12);N.set(a,i?0:12-a.length),a=N,y.push(a)}const O=mt(a);return Is(t,d,v,O,u,l,f,s),Lt(...y),l}}const F=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Us{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Fe(e),tt(e,32);const n=F(e,0),r=F(e,2),o=F(e,4),i=F(e,6),s=F(e,8),c=F(e,10),a=F(e,12),u=F(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|c<<2)&8191,this.r[7]=(c>>>11|a<<5)&8065,this.r[8]=(a>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=F(e,16+2*l)}process(e,n,r=!1){const o=r?0:2048,{h:i,r:s}=this,c=s[0],a=s[1],u=s[2],l=s[3],f=s[4],h=s[5],y=s[6],E=s[7],p=s[8],d=s[9],v=F(e,n+0),m=F(e,n+2),O=F(e,n+4),N=F(e,n+6),$=F(e,n+8),B=F(e,n+10),A=F(e,n+12),T=F(e,n+14);let S=i[0]+(v&8191),L=i[1]+((v>>>13|m<<3)&8191),U=i[2]+((m>>>10|O<<6)&8191),_=i[3]+((O>>>7|N<<9)&8191),j=i[4]+((N>>>4|$<<12)&8191),g=i[5]+($>>>1&8191),w=i[6]+(($>>>14|B<<2)&8191),b=i[7]+((B>>>11|A<<5)&8191),I=i[8]+((A>>>8|T<<8)&8191),R=i[9]+(T>>>5|o),x=0,C=x+S*c+L*(5*d)+U*(5*p)+_*(5*E)+j*(5*y);x=C>>>13,C&=8191,C+=g*(5*h)+w*(5*f)+b*(5*l)+I*(5*u)+R*(5*a),x+=C>>>13,C&=8191;let P=x+S*a+L*c+U*(5*d)+_*(5*p)+j*(5*E);x=P>>>13,P&=8191,P+=g*(5*y)+w*(5*h)+b*(5*f)+I*(5*l)+R*(5*u),x+=P>>>13,P&=8191;let k=x+S*u+L*a+U*c+_*(5*d)+j*(5*p);x=k>>>13,k&=8191,k+=g*(5*E)+w*(5*y)+b*(5*h)+I*(5*f)+R*(5*l),x+=k>>>13,k&=8191;let M=x+S*l+L*u+U*a+_*c+j*(5*d);x=M>>>13,M&=8191,M+=g*(5*p)+w*(5*E)+b*(5*y)+I*(5*h)+R*(5*f),x+=M>>>13,M&=8191;let D=x+S*f+L*l+U*u+_*a+j*c;x=D>>>13,D&=8191,D+=g*(5*d)+w*(5*p)+b*(5*E)+I*(5*y)+R*(5*h),x+=D>>>13,D&=8191;let z=x+S*h+L*f+U*l+_*u+j*a;x=z>>>13,z&=8191,z+=g*c+w*(5*d)+b*(5*p)+I*(5*E)+R*(5*y),x+=z>>>13,z&=8191;let Z=x+S*y+L*h+U*f+_*l+j*u;x=Z>>>13,Z&=8191,Z+=g*a+w*c+b*(5*d)+I*(5*p)+R*(5*E),x+=Z>>>13,Z&=8191;let it=x+S*E+L*y+U*h+_*f+j*l;x=it>>>13,it&=8191,it+=g*u+w*a+b*c+I*(5*d)+R*(5*p),x+=it>>>13,it&=8191;let W=x+S*p+L*E+U*y+_*h+j*f;x=W>>>13,W&=8191,W+=g*l+w*u+b*a+I*c+R*(5*d),x+=W>>>13,W&=8191;let J=x+S*d+L*p+U*E+_*y+j*h;x=J>>>13,J&=8191,J+=g*f+w*l+b*u+I*a+R*c,x+=J>>>13,J&=8191,x=(x<<2)+x|0,x=x+C|0,C=x&8191,x=x>>>13,P+=x,i[0]=C,i[1]=P,i[2]=k,i[3]=M,i[4]=D,i[5]=z,i[6]=Z,i[7]=it,i[8]=W,i[9]=J}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=o,o=e[c]>>>13,e[c]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,r[0]=e[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let i=(o^1)-1;for(let c=0;c<10;c++)r[c]&=i;i=~i;for(let c=0;c<10;c++)e[c]=e[c]&i|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+n[0];e[0]=s&65535;for(let c=1;c<8;c++)s=(e[c]+n[c]|0)+(s>>>16)|0,e[c]=s&65535;Lt(r)}update(e){Or(this);const{buffer:n,blockLen:r}=this;e=Fe(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s===r){for(;r<=o-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Lt(this.h,this.r,this.buffer,this.pad)}digestInto(e){Or(this),ps(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=r[s]>>>0,e[i++]=r[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Ts(t){const e=(r,o)=>t(o).update(Fe(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Rs=Ts(t=>new Us(t));function _s(t,e,n,r,o,i=20){let s=t[0],c=t[1],a=t[2],u=t[3],l=e[0],f=e[1],h=e[2],y=e[3],E=e[4],p=e[5],d=e[6],v=e[7],m=o,O=n[0],N=n[1],$=n[2],B=s,A=c,T=a,S=u,L=l,U=f,_=h,j=y,g=E,w=p,b=d,I=v,R=m,x=O,C=N,P=$;for(let M=0;M<i;M+=2)B=B+L|0,R=V(R^B,16),g=g+R|0,L=V(L^g,12),B=B+L|0,R=V(R^B,8),g=g+R|0,L=V(L^g,7),A=A+U|0,x=V(x^A,16),w=w+x|0,U=V(U^w,12),A=A+U|0,x=V(x^A,8),w=w+x|0,U=V(U^w,7),T=T+_|0,C=V(C^T,16),b=b+C|0,_=V(_^b,12),T=T+_|0,C=V(C^T,8),b=b+C|0,_=V(_^b,7),S=S+j|0,P=V(P^S,16),I=I+P|0,j=V(j^I,12),S=S+j|0,P=V(P^S,8),I=I+P|0,j=V(j^I,7),B=B+U|0,P=V(P^B,16),b=b+P|0,U=V(U^b,12),B=B+U|0,P=V(P^B,8),b=b+P|0,U=V(U^b,7),A=A+_|0,R=V(R^A,16),I=I+R|0,_=V(_^I,12),A=A+_|0,R=V(R^A,8),I=I+R|0,_=V(_^I,7),T=T+j|0,x=V(x^T,16),g=g+x|0,j=V(j^g,12),T=T+j|0,x=V(x^T,8),g=g+x|0,j=V(j^g,7),S=S+L|0,C=V(C^S,16),w=w+C|0,L=V(L^w,12),S=S+L|0,C=V(C^S,8),w=w+C|0,L=V(L^w,7);let k=0;r[k++]=s+B|0,r[k++]=c+A|0,r[k++]=a+T|0,r[k++]=u+S|0,r[k++]=l+L|0,r[k++]=f+U|0,r[k++]=h+_|0,r[k++]=y+j|0,r[k++]=E+g|0,r[k++]=p+w|0,r[k++]=d+b|0,r[k++]=v+I|0,r[k++]=m+R|0,r[k++]=O+x|0,r[k++]=N+C|0,r[k++]=$+P|0}const $s=Ns(_s,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Ls=new Uint8Array(16),Rr=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Ls.subarray(n))},js=new Uint8Array(32);function _r(t,e,n,r,o){const i=t(e,n,js),s=Rs.create(i);o&&Rr(s,o),Rr(s,r);const c=new Uint8Array(16),a=gs(c);Ir(a,0,BigInt(o?o.length:0),!0),Ir(a,8,BigInt(r.length),!0),s.update(c);const u=s.digest();return Lt(i,c),u}const Cs=t=>(e,n,r)=>({encrypt(i,s){const c=i.length;s=Br(c+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const u=_r(t,e,n,a,r);return s.set(u,c),Lt(u),s},decrypt(i,s){s=Br(i.length-16,s,!1);const c=i.subarray(0,-16),a=i.subarray(-16),u=_r(t,e,n,c,r);if(!bs(a,u))throw new Error(\"invalid tag\");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Lt(u),s}}),$r=Es({blockSize:64,nonceLength:12,tagLength:16},Cs($s));class Lr extends Pe{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,je(e);const r=_t(n);if(this.iHash=e.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Tt(this),this.iHash.update(e),this}digestInto(e){Tt(this),Wt(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const pe=(t,e,n)=>new Lr(t,e).update(n).digest();pe.create=(t,e)=>new Lr(t,e);function Ps(t,e,n){return je(t),n===void 0&&(n=new Uint8Array(t.outputLen)),pe(t,_t(n),_t(e))}const Ye=new Uint8Array([0]),jr=new Uint8Array;function ks(t,e,n,r=32){if(je(t),Gt(r),r>255*t.outputLen)throw new Error(\"Length should be <= 255*HashLen\");const o=Math.ceil(r/t.outputLen);n===void 0&&(n=jr);const i=new Uint8Array(o*t.outputLen),s=pe.create(t,e),c=s._cloneInto(),a=new Uint8Array(s.outputLen);for(let u=0;u<o;u++)Ye[0]=u+1,c.update(u===0?jr:a).update(n).update(Ye).digestInto(a),i.set(a,t.outputLen*u),s._cloneInto(c);return s.destroy(),c.destroy(),a.fill(0),Ye.fill(0),i.slice(0,r)}const Vs=(t,e,n,r,o)=>ks(t,Ps(t,e,n),r,o);function Ms(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),c=Number(n&i),a=r?4:0,u=r?0:4;t.setUint32(e+a,s,r),t.setUint32(e+u,c,r)}function Ds(t,e,n){return t&e^~t&n}function Hs(t,e,n){return t&e^t&n^e&n}class qs extends Pe{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ce(this.buffer)}update(e){Tt(this);const{view:n,buffer:r,blockLen:o}=this;e=_t(e);const i=e.length;for(let s=0;s<i;){const c=Math.min(o-this.pos,i-s);if(c===o){const a=Ce(e);for(;o<=i-s;s+=o)this.process(a,s);continue}r.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tt(this),Gn(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let f=s;f<o;f++)n[f]=0;Ms(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=Ce(e),a=this.outputLen;if(a%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const u=a/4,l=this.get();if(u>l.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let f=0;f<u;f++)c.setUint32(4*f,l[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:c}=this;return e.length=o,e.pos=c,e.finished=i,e.destroyed=s,o%n&&e.buffer.set(r),e}}const Ks=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bt=new Uint32Array(64);class Fs extends qs{constructor(){super(64,32,8,!1),this.A=wt[0]|0,this.B=wt[1]|0,this.C=wt[2]|0,this.D=wt[3]|0,this.E=wt[4]|0,this.F=wt[5]|0,this.G=wt[6]|0,this.H=wt[7]|0}get(){const{A:e,B:n,C:r,D:o,E:i,F:s,G:c,H:a}=this;return[e,n,r,o,i,s,c,a]}set(e,n,r,o,i,s,c,a){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=a|0}process(e,n){for(let f=0;f<16;f++,n+=4)bt[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=bt[f-15],y=bt[f-2],E=st(h,7)^st(h,18)^h>>>3,p=st(y,17)^st(y,19)^y>>>10;bt[f]=p+bt[f-7]+E+bt[f-16]|0}let{A:r,B:o,C:i,D:s,E:c,F:a,G:u,H:l}=this;for(let f=0;f<64;f++){const h=st(c,6)^st(c,11)^st(c,25),y=l+h+Ds(c,a,u)+Ks[f]+bt[f]|0,p=(st(r,2)^st(r,13)^st(r,22))+Hs(r,o,i)|0;l=u,u=a,a=c,c=s+y|0,s=i,i=o,o=r,r=y+p|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,a=a+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,o,i,s,c,a,u,l)}roundClean(){bt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Jt=Qn(()=>new Fs);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ge=BigInt(0),ye=BigInt(1),zs=BigInt(2);function St(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function Qt(t){if(!St(t))throw new Error(\"Uint8Array expected\")}function jt(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}const Zs=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Ct(t){Qt(t);let e=\"\";for(let n=0;n<t.length;n++)e+=Zs[t[n]];return e}function Pt(t){const e=t.toString(16);return e.length&1?\"0\"+e:e}function Ge(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?ge:BigInt(\"0x\"+t)}const ut={_0:48,_9:57,A:65,F:70,a:97,f:102};function Cr(t){if(t>=ut._0&&t<=ut._9)return t-ut._0;if(t>=ut.A&&t<=ut.F)return t-(ut.A-10);if(t>=ut.a&&t<=ut.f)return t-(ut.a-10)}function kt(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const s=Cr(t.charCodeAt(i)),c=Cr(t.charCodeAt(i+1));if(s===void 0||c===void 0){const a=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character \"'+a+'\" at index '+i)}r[o]=s*16+c}return r}function Ot(t){return Ge(Ct(t))}function te(t){return Qt(t),Ge(Ct(Uint8Array.from(t).reverse()))}function Vt(t,e){return kt(t.toString(16).padStart(e*2,\"0\"))}function me(t,e){return Vt(t,e).reverse()}function Ys(t){return kt(Pt(t))}function et(t,e,n){let r;if(typeof e==\"string\")try{r=kt(e)}catch(i){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+i)}else if(St(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const o=r.length;if(typeof n==\"number\"&&o!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+o);return r}function ee(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Qt(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}function Gs(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Ws(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}const We=t=>typeof t==\"bigint\"&&ge<=t;function we(t,e,n){return We(t)&&We(e)&&We(n)&&e<=t&&t<n}function ft(t,e,n,r){if(!we(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function Pr(t){let e;for(e=0;t>ge;t>>=ye,e+=1);return e}function Xs(t,e){return t>>BigInt(e)&ye}function Js(t,e,n){return t|(n?ye:ge)<<BigInt(e)}const Xe=t=>(zs<<BigInt(t-1))-ye,Je=t=>new Uint8Array(t),kr=t=>Uint8Array.from(t);function Vr(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");let r=Je(t),o=Je(t),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},c=(...f)=>n(o,r,...f),a=(f=Je())=>{o=c(kr([0]),f),r=c(),f.length!==0&&(o=c(kr([1]),f),r=c())},u=()=>{if(i++>=1e3)throw new Error(\"drbg: tried 1000 values\");let f=0;const h=[];for(;f<e;){r=c();const y=r.slice();h.push(y),f+=r.length}return ee(...h)};return(f,h)=>{s(),a(f);let y;for(;!(y=h(u()));)a();return s(),y}}const Qs={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||St(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};function Mt(t,e,n={}){const r=(o,i,s)=>{const c=Qs[i];if(typeof c!=\"function\")throw new Error(\"invalid validator function\");const a=t[o];if(!(s&&a===void 0)&&!c(a,t))throw new Error(\"param \"+String(o)+\" is invalid. Expected \"+i+\", got \"+a)};for(const[o,i]of Object.entries(e))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return t}const tc=()=>{throw new Error(\"not implemented\")};function Qe(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t(n,...r);return e.set(n,i),i}}var ec=Object.freeze({__proto__:null,isBytes:St,abytes:Qt,abool:jt,bytesToHex:Ct,numberToHexUnpadded:Pt,hexToNumber:Ge,hexToBytes:kt,bytesToNumberBE:Ot,bytesToNumberLE:te,numberToBytesBE:Vt,numberToBytesLE:me,numberToVarBytesBE:Ys,ensureBytes:et,concatBytes:ee,equalBytes:Gs,utf8ToBytes:Ws,inRange:we,aInRange:ft,bitLen:Pr,bitGet:Xs,bitSet:Js,bitMask:Xe,createHmacDrbg:Vr,validateObject:Mt,notImplemented:tc,memoized:Qe});const q=BigInt(0),H=BigInt(1),At=BigInt(2),nc=BigInt(3),tn=BigInt(4),Mr=BigInt(5),Dr=BigInt(8);function X(t,e){const n=t%e;return n>=q?n:e+n}function Hr(t,e,n){if(e<q)throw new Error(\"invalid exponent, negatives unsupported\");if(n<=q)throw new Error(\"invalid modulus\");if(n===H)return q;let r=H;for(;e>q;)e&H&&(r=r*t%n),t=t*t%n,e>>=H;return r}function ot(t,e,n){let r=t;for(;e-- >q;)r*=r,r%=n;return r}function en(t,e){if(t===q)throw new Error(\"invert: expected non-zero number\");if(e<=q)throw new Error(\"invert: expected positive modulus, got \"+e);let n=X(t,e),r=e,o=q,i=H;for(;n!==q;){const c=r/n,a=r%n,u=o-i*c;r=n,n=a,o=i,i=u}if(r!==H)throw new Error(\"invert: does not exist\");return X(o,e)}function rc(t){const e=(t-H)/At;let n,r,o;for(n=t-H,r=0;n%At===q;n/=At,r++);for(o=At;o<t&&Hr(o,e,t)!==t-H;o++)if(o>1e3)throw new Error(\"Cannot find square root: likely non-prime P\");if(r===1){const s=(t+H)/tn;return function(a,u){const l=a.pow(u,s);if(!a.eql(a.sqr(l),u))throw new Error(\"Cannot find square root\");return l}}const i=(n+H)/At;return function(c,a){if(c.pow(a,e)===c.neg(c.ONE))throw new Error(\"Cannot find square root\");let u=r,l=c.pow(c.mul(c.ONE,o),n),f=c.pow(a,i),h=c.pow(a,n);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let y=1;for(let p=c.sqr(h);y<u&&!c.eql(p,c.ONE);y++)p=c.sqr(p);const E=c.pow(l,H<<BigInt(u-y-1));l=c.sqr(E),f=c.mul(f,E),h=c.mul(h,l),u=y}return f}}function oc(t){if(t%tn===nc){const e=(t+H)/tn;return function(r,o){const i=r.pow(o,e);if(!r.eql(r.sqr(i),o))throw new Error(\"Cannot find square root\");return i}}if(t%Dr===Mr){const e=(t-Mr)/Dr;return function(r,o){const i=r.mul(o,At),s=r.pow(i,e),c=r.mul(o,s),a=r.mul(r.mul(c,At),s),u=r.mul(c,r.sub(a,r.ONE));if(!r.eql(r.sqr(u),o))throw new Error(\"Cannot find square root\");return u}}return rc(t)}const ic=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function sc(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},n=ic.reduce((r,o)=>(r[o]=\"function\",r),e);return Mt(t,n)}function cc(t,e,n){if(n<q)throw new Error(\"invalid exponent, negatives unsupported\");if(n===q)return t.ONE;if(n===H)return e;let r=t.ONE,o=e;for(;n>q;)n&H&&(r=t.mul(r,o)),o=t.sqr(o),n>>=H;return r}function ac(t,e){const n=new Array(e.length),r=e.reduce((i,s,c)=>t.is0(s)?i:(n[c]=i,t.mul(i,s)),t.ONE),o=t.inv(r);return e.reduceRight((i,s,c)=>t.is0(s)?i:(n[c]=t.mul(i,n[c]),t.mul(i,s)),o),n}function qr(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Kr(t,e,n=!1,r={}){if(t<=q)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);const{nBitLength:o,nByteLength:i}=qr(t,e);if(i>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let s;const c=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:i,MASK:Xe(o),ZERO:q,ONE:H,create:a=>X(a,t),isValid:a=>{if(typeof a!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof a);return q<=a&&a<t},is0:a=>a===q,isOdd:a=>(a&H)===H,neg:a=>X(-a,t),eql:(a,u)=>a===u,sqr:a=>X(a*a,t),add:(a,u)=>X(a+u,t),sub:(a,u)=>X(a-u,t),mul:(a,u)=>X(a*u,t),pow:(a,u)=>cc(c,a,u),div:(a,u)=>X(a*en(u,t),t),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>en(a,t),sqrt:r.sqrt||(a=>(s||(s=oc(t)),s(c,a))),invertBatch:a=>ac(c,a),cmov:(a,u,l)=>l?u:a,toBytes:a=>n?me(a,i):Vt(a,i),fromBytes:a=>{if(a.length!==i)throw new Error(\"Field.fromBytes: expected \"+i+\" bytes, got \"+a.length);return n?te(a):Ot(a)}});return Object.freeze(c)}function Fr(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function zr(t){const e=Fr(t);return e+Math.ceil(e/2)}function uc(t,e,n=!1){const r=t.length,o=Fr(e),i=zr(e);if(r<16||r<i||r>1024)throw new Error(\"expected \"+i+\"-1024 bytes of input, got \"+r);const s=n?te(t):Ot(t),c=X(s,e-H)+H;return n?me(c,o):Vt(c,o)}const Zr=BigInt(0),be=BigInt(1);function nn(t,e){const n=e.negate();return t?n:e}function Yr(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function rn(t,e){Yr(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function fc(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function lc(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const on=new WeakMap,Gr=new WeakMap;function sn(t){return Gr.get(t)||1}function dc(t,e){return{constTimeNegate:nn,hasPrecomputes(n){return sn(n)!==1},unsafeLadder(n,r,o=t.ZERO){let i=n;for(;r>Zr;)r&be&&(o=o.add(i)),i=i.double(),r>>=be;return o},precomputeWindow(n,r){const{windows:o,windowSize:i}=rn(r,e),s=[];let c=n,a=c;for(let u=0;u<o;u++){a=c,s.push(a);for(let l=1;l<i;l++)a=a.add(c),s.push(a);c=a.double()}return s},wNAF(n,r,o){const{windows:i,windowSize:s}=rn(n,e);let c=t.ZERO,a=t.BASE;const u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let h=0;h<i;h++){const y=h*s;let E=Number(o&u);o>>=f,E>s&&(E-=l,o+=be);const p=y,d=y+Math.abs(E)-1,v=h%2!==0,m=E<0;E===0?a=a.add(nn(v,r[p])):c=c.add(nn(m,r[d]))}return{p:c,f:a}},wNAFUnsafe(n,r,o,i=t.ZERO){const{windows:s,windowSize:c}=rn(n,e),a=BigInt(2**n-1),u=2**n,l=BigInt(n);for(let f=0;f<s;f++){const h=f*c;if(o===Zr)break;let y=Number(o&a);if(o>>=l,y>c&&(y-=u,o+=be),y===0)continue;let E=r[h+Math.abs(y)-1];y<0&&(E=E.negate()),i=i.add(E)}return i},getPrecomputes(n,r,o){let i=on.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&on.set(r,o(i))),i},wNAFCached(n,r,o){const i=sn(n);return this.wNAF(i,this.getPrecomputes(i,n,o),r)},wNAFCachedUnsafe(n,r,o,i){const s=sn(n);return s===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,n,o),r,i)},setWindowSize(n,r){Yr(r,e),Gr.set(n,r),on.delete(n)}}}function hc(t,e,n,r){if(fc(n,t),lc(r,e),n.length!==r.length)throw new Error(\"arrays of points and scalars must have equal length\");const o=t.ZERO,i=Pr(BigInt(n.length)),s=i>12?i-3:i>4?i-2:i?2:1,c=(1<<s)-1,a=new Array(c+1).fill(o),u=Math.floor((e.BITS-1)/s)*s;let l=o;for(let f=u;f>=0;f-=s){a.fill(o);for(let y=0;y<r.length;y++){const E=r[y],p=Number(E>>BigInt(f)&BigInt(c));a[p]=a[p].add(n[y])}let h=o;for(let y=a.length-1,E=o;y>0;y--)E=E.add(a[y]),h=h.add(E);if(l=l.add(h),f!==0)for(let y=0;y<s;y++)l=l.double()}return l}function Wr(t){return sc(t.Fp),Mt(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...qr(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Dt=BigInt(0),cn=BigInt(1);function pc(t){return Mt(t,{a:\"bigint\"},{montgomeryBits:\"isSafeInteger\",nByteLength:\"isSafeInteger\",adjustScalarBytes:\"function\",domain:\"function\",powPminus2:\"function\",Gu:\"bigint\"}),Object.freeze({...t})}function gc(t){const e=pc(t),{P:n}=e,r=m=>X(m,n),o=e.montgomeryBits,i=Math.ceil(o/8),s=e.nByteLength,c=e.adjustScalarBytes||(m=>m),a=e.powPminus2||(m=>Hr(m,n-BigInt(2),n));function u(m,O,N){const $=r(m*(O-N));return O=r(O-$),N=r(N+$),[O,N]}const l=(e.a-BigInt(2))/BigInt(4);function f(m,O){ft(\"u\",m,Dt,n),ft(\"scalar\",O,Dt,n);const N=O,$=m;let B=cn,A=Dt,T=m,S=cn,L=Dt,U;for(let j=BigInt(o-1);j>=Dt;j--){const g=N>>j&cn;L^=g,U=u(L,B,T),B=U[0],T=U[1],U=u(L,A,S),A=U[0],S=U[1],L=g;const w=B+A,b=r(w*w),I=B-A,R=r(I*I),x=b-R,C=T+S,P=T-S,k=r(P*w),M=r(C*I),D=k+M,z=k-M;T=r(D*D),S=r($*r(z*z)),B=r(b*R),A=r(x*(b+r(l*x)))}U=u(L,B,T),B=U[0],T=U[1],U=u(L,A,S),A=U[0],S=U[1];const _=a(A);return r(B*_)}function h(m){return me(r(m),i)}function y(m){const O=et(\"u coordinate\",m,i);return s===32&&(O[31]&=127),te(O)}function E(m){const O=et(\"scalar\",m),N=O.length;if(N!==i&&N!==s){let $=\"\"+i+\" or \"+s;throw new Error(\"invalid scalar, expected \"+$+\" bytes, got \"+N)}return te(c(O))}function p(m,O){const N=y(O),$=E(m),B=f(N,$);if(B===Dt)throw new Error(\"invalid private or public key received\");return h(B)}const d=h(e.Gu);function v(m){return p(m,d)}return{scalarMult:p,scalarMultBase:v,getSharedSecret:(m,O)=>p(m,O),getPublicKey:m=>v(m),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:d}}const an=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\");BigInt(0);const yc=BigInt(1),Xr=BigInt(2),mc=BigInt(3),wc=BigInt(5);BigInt(8);function bc(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=an,c=t*t%i*t%i,a=ot(c,Xr,i)*c%i,u=ot(a,yc,i)*t%i,l=ot(u,wc,i)*u%i,f=ot(l,e,i)*l%i,h=ot(f,n,i)*f%i,y=ot(h,r,i)*h%i,E=ot(y,o,i)*y%i,p=ot(E,o,i)*y%i,d=ot(p,e,i)*l%i;return{pow_p_5_8:ot(d,Xr,i)*t%i,b2:c}}function Ec(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const un=gc({P:an,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=an,{pow_p_5_8:n,b2:r}=bc(t);return X(ot(n,mc,e)*r,e)},adjustScalarBytes:Ec,randomBytes:$t});function Jr(t){t.lowS!==void 0&&jt(\"lowS\",t.lowS),t.prehash!==void 0&&jt(\"prehash\",t.prehash)}function vc(t){const e=Wr(t);Mt(e,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});const{endo:n,Fp:r,a:o}=e;if(n){if(!r.eql(o,r.ZERO))throw new Error(\"invalid endomorphism, can only be defined for Koblitz curves that have a=0\");if(typeof n!=\"object\"||typeof n.beta!=\"bigint\"||typeof n.splitScalar!=\"function\")throw new Error(\"invalid endomorphism, expected beta: bigint and splitScalar: function\")}return Object.freeze({...e})}const{bytesToNumberBE:xc,hexToBytes:Sc}=ec;class Oc extends Error{constructor(e=\"\"){super(e)}}const lt={Err:Oc,_tlv:{encode:(t,e)=>{const{Err:n}=lt;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length&1)throw new n(\"tlv.encode: unpadded data\");const r=e.length/2,o=Pt(r);if(o.length/2&128)throw new n(\"tlv.encode: long form length too big\");const i=r>127?Pt(o.length/2|128):\"\";return Pt(t)+i+o+e},decode(t,e){const{Err:n}=lt;let r=0;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length<2||e[r++]!==t)throw new n(\"tlv.decode: wrong tlv\");const o=e[r++],i=!!(o&128);let s=0;if(!i)s=o;else{const a=o&127;if(!a)throw new n(\"tlv.decode(long): indefinite length not supported\");if(a>4)throw new n(\"tlv.decode(long): byte length is too big\");const u=e.subarray(r,r+a);if(u.length!==a)throw new n(\"tlv.decode: length bytes not complete\");if(u[0]===0)throw new n(\"tlv.decode(long): zero leftmost byte\");for(const l of u)s=s<<8|l;if(r+=a,s<128)throw new n(\"tlv.decode(long): not minimal encoding\")}const c=e.subarray(r,r+s);if(c.length!==s)throw new n(\"tlv.decode: wrong value length\");return{v:c,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=lt;if(t<dt)throw new e(\"integer: negative integers are not allowed\");let n=Pt(t);if(Number.parseInt(n[0],16)&8&&(n=\"00\"+n),n.length&1)throw new e(\"unexpected DER parsing assertion: unpadded hex\");return n},decode(t){const{Err:e}=lt;if(t[0]&128)throw new e(\"invalid signature integer: negative\");if(t[0]===0&&!(t[1]&128))throw new e(\"invalid signature integer: unnecessary leading zero\");return xc(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=lt,o=typeof t==\"string\"?Sc(t):t;Qt(o);const{v:i,l:s}=r.decode(48,o);if(s.length)throw new e(\"invalid signature: left bytes after parsing\");const{v:c,l:a}=r.decode(2,i),{v:u,l}=r.decode(2,a);if(l.length)throw new e(\"invalid signature: left bytes after parsing\");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=lt,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),i=r+o;return e.encode(48,i)}},dt=BigInt(0),K=BigInt(1);BigInt(2);const Qr=BigInt(3);BigInt(4);function Ac(t){const e=vc(t),{Fp:n}=e,r=Kr(e.n,e.nBitLength),o=e.toBytes||((p,d,v)=>{const m=d.toAffine();return ee(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),i=e.fromBytes||(p=>{const d=p.subarray(1),v=n.fromBytes(d.subarray(0,n.BYTES)),m=n.fromBytes(d.subarray(n.BYTES,2*n.BYTES));return{x:v,y:m}});function s(p){const{a:d,b:v}=e,m=n.sqr(p),O=n.mul(m,p);return n.add(n.add(O,n.mul(p,d)),v)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error(\"bad generator point: equation left != right\");function c(p){return we(p,K,e.n)}function a(p){const{allowedPrivateKeyLengths:d,nByteLength:v,wrapPrivateKey:m,n:O}=e;if(d&&typeof p!=\"bigint\"){if(St(p)&&(p=Ct(p)),typeof p!=\"string\"||!d.includes(p.length))throw new Error(\"invalid private key\");p=p.padStart(v*2,\"0\")}let N;try{N=typeof p==\"bigint\"?p:Ot(et(\"private key\",p,v))}catch{throw new Error(\"invalid private key, expected hex or \"+v+\" bytes, got \"+typeof p)}return m&&(N=X(N,O)),ft(\"private key\",N,K,O),N}function u(p){if(!(p instanceof h))throw new Error(\"ProjectivePoint expected\")}const l=Qe((p,d)=>{const{px:v,py:m,pz:O}=p;if(n.eql(O,n.ONE))return{x:v,y:m};const N=p.is0();d==null&&(d=N?n.ONE:n.inv(O));const $=n.mul(v,d),B=n.mul(m,d),A=n.mul(O,d);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error(\"invZ was invalid\");return{x:$,y:B}}),f=Qe(p=>{if(p.is0()){if(e.allowInfinityPoint&&!n.is0(p.py))return;throw new Error(\"bad point: ZERO\")}const{x:d,y:v}=p.toAffine();if(!n.isValid(d)||!n.isValid(v))throw new Error(\"bad point: x or y not FE\");const m=n.sqr(v),O=s(d);if(!n.eql(m,O))throw new Error(\"bad point: equation left != right\");if(!p.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});class h{constructor(d,v,m){if(this.px=d,this.py=v,this.pz=m,d==null||!n.isValid(d))throw new Error(\"x required\");if(v==null||!n.isValid(v))throw new Error(\"y required\");if(m==null||!n.isValid(m))throw new Error(\"z required\");Object.freeze(this)}static fromAffine(d){const{x:v,y:m}=d||{};if(!d||!n.isValid(v)||!n.isValid(m))throw new Error(\"invalid affine point\");if(d instanceof h)throw new Error(\"projective point not allowed\");const O=N=>n.eql(N,n.ZERO);return O(v)&&O(m)?h.ZERO:new h(v,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(d){const v=n.invertBatch(d.map(m=>m.pz));return d.map((m,O)=>m.toAffine(v[O])).map(h.fromAffine)}static fromHex(d){const v=h.fromAffine(i(et(\"pointHex\",d)));return v.assertValidity(),v}static fromPrivateKey(d){return h.BASE.multiply(a(d))}static msm(d,v){return hc(h,r,d,v)}_setWindowSize(d){E.setWindowSize(this,d)}assertValidity(){f(this)}hasEvenY(){const{y:d}=this.toAffine();if(n.isOdd)return!n.isOdd(d);throw new Error(\"Field doesn't support isOdd\")}equals(d){u(d);const{px:v,py:m,pz:O}=this,{px:N,py:$,pz:B}=d,A=n.eql(n.mul(v,B),n.mul(N,O)),T=n.eql(n.mul(m,B),n.mul($,O));return A&&T}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:d,b:v}=e,m=n.mul(v,Qr),{px:O,py:N,pz:$}=this;let B=n.ZERO,A=n.ZERO,T=n.ZERO,S=n.mul(O,O),L=n.mul(N,N),U=n.mul($,$),_=n.mul(O,N);return _=n.add(_,_),T=n.mul(O,$),T=n.add(T,T),B=n.mul(d,T),A=n.mul(m,U),A=n.add(B,A),B=n.sub(L,A),A=n.add(L,A),A=n.mul(B,A),B=n.mul(_,B),T=n.mul(m,T),U=n.mul(d,U),_=n.sub(S,U),_=n.mul(d,_),_=n.add(_,T),T=n.add(S,S),S=n.add(T,S),S=n.add(S,U),S=n.mul(S,_),A=n.add(A,S),U=n.mul(N,$),U=n.add(U,U),S=n.mul(U,_),B=n.sub(B,S),T=n.mul(U,L),T=n.add(T,T),T=n.add(T,T),new h(B,A,T)}add(d){u(d);const{px:v,py:m,pz:O}=this,{px:N,py:$,pz:B}=d;let A=n.ZERO,T=n.ZERO,S=n.ZERO;const L=e.a,U=n.mul(e.b,Qr);let _=n.mul(v,N),j=n.mul(m,$),g=n.mul(O,B),w=n.add(v,m),b=n.add(N,$);w=n.mul(w,b),b=n.add(_,j),w=n.sub(w,b),b=n.add(v,O);let I=n.add(N,B);return b=n.mul(b,I),I=n.add(_,g),b=n.sub(b,I),I=n.add(m,O),A=n.add($,B),I=n.mul(I,A),A=n.add(j,g),I=n.sub(I,A),S=n.mul(L,b),A=n.mul(U,g),S=n.add(A,S),A=n.sub(j,S),S=n.add(j,S),T=n.mul(A,S),j=n.add(_,_),j=n.add(j,_),g=n.mul(L,g),b=n.mul(U,b),j=n.add(j,g),g=n.sub(_,g),g=n.mul(L,g),b=n.add(b,g),_=n.mul(j,b),T=n.add(T,_),_=n.mul(I,b),A=n.mul(w,A),A=n.sub(A,_),_=n.mul(w,j),S=n.mul(I,S),S=n.add(S,_),new h(A,T,S)}subtract(d){return this.add(d.negate())}is0(){return this.equals(h.ZERO)}wNAF(d){return E.wNAFCached(this,d,h.normalizeZ)}multiplyUnsafe(d){const{endo:v,n:m}=e;ft(\"scalar\",d,dt,m);const O=h.ZERO;if(d===dt)return O;if(this.is0()||d===K)return this;if(!v||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,d,h.normalizeZ);let{k1neg:N,k1:$,k2neg:B,k2:A}=v.splitScalar(d),T=O,S=O,L=this;for(;$>dt||A>dt;)$&K&&(T=T.add(L)),A&K&&(S=S.add(L)),L=L.double(),$>>=K,A>>=K;return N&&(T=T.negate()),B&&(S=S.negate()),S=new h(n.mul(S.px,v.beta),S.py,S.pz),T.add(S)}multiply(d){const{endo:v,n:m}=e;ft(\"scalar\",d,K,m);let O,N;if(v){const{k1neg:$,k1:B,k2neg:A,k2:T}=v.splitScalar(d);let{p:S,f:L}=this.wNAF(B),{p:U,f:_}=this.wNAF(T);S=E.constTimeNegate($,S),U=E.constTimeNegate(A,U),U=new h(n.mul(U.px,v.beta),U.py,U.pz),O=S.add(U),N=L.add(_)}else{const{p:$,f:B}=this.wNAF(d);O=$,N=B}return h.normalizeZ([O,N])[0]}multiplyAndAddUnsafe(d,v,m){const O=h.BASE,N=(B,A)=>A===dt||A===K||!B.equals(O)?B.multiplyUnsafe(A):B.multiply(A),$=N(this,v).add(N(d,m));return $.is0()?void 0:$}toAffine(d){return l(this,d)}isTorsionFree(){const{h:d,isTorsionFree:v}=e;if(d===K)return!0;if(v)return v(h,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:d,clearCofactor:v}=e;return d===K?this:v?v(h,this):this.multiplyUnsafe(e.h)}toRawBytes(d=!0){return jt(\"isCompressed\",d),this.assertValidity(),o(h,this,d)}toHex(d=!0){return jt(\"isCompressed\",d),Ct(this.toRawBytes(d))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const y=e.nBitLength,E=dc(h,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:c}}function Bc(t){const e=Wr(t);return Mt(e,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...e})}function Ic(t){const e=Bc(t),{Fp:n,n:r}=e,o=n.BYTES+1,i=2*n.BYTES+1;function s(g){return X(g,r)}function c(g){return en(g,r)}const{ProjectivePoint:a,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=Ac({...e,toBytes(g,w,b){const I=w.toAffine(),R=n.toBytes(I.x),x=ee;return jt(\"isCompressed\",b),b?x(Uint8Array.from([w.hasEvenY()?2:3]),R):x(Uint8Array.from([4]),R,n.toBytes(I.y))},fromBytes(g){const w=g.length,b=g[0],I=g.subarray(1);if(w===o&&(b===2||b===3)){const R=Ot(I);if(!we(R,K,n.ORDER))throw new Error(\"Point is not on curve\");const x=l(R);let C;try{C=n.sqrt(x)}catch(M){const D=M instanceof Error?\": \"+M.message:\"\";throw new Error(\"Point is not on curve\"+D)}const P=(C&K)===K;return(b&1)===1!==P&&(C=n.neg(C)),{x:R,y:C}}else if(w===i&&b===4){const R=n.fromBytes(I.subarray(0,n.BYTES)),x=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:R,y:x}}else{const R=o,x=i;throw new Error(\"invalid Point, expected length of \"+R+\", or uncompressed \"+x+\", got \"+w)}}}),h=g=>Ct(Vt(g,e.nByteLength));function y(g){const w=r>>K;return g>w}function E(g){return y(g)?s(-g):g}const p=(g,w,b)=>Ot(g.slice(w,b));class d{constructor(w,b,I){this.r=w,this.s=b,this.recovery=I,this.assertValidity()}static fromCompact(w){const b=e.nByteLength;return w=et(\"compactSignature\",w,b*2),new d(p(w,0,b),p(w,b,2*b))}static fromDER(w){const{r:b,s:I}=lt.toSig(et(\"DER\",w));return new d(b,I)}assertValidity(){ft(\"r\",this.r,K,r),ft(\"s\",this.s,K,r)}addRecoveryBit(w){return new d(this.r,this.s,w)}recoverPublicKey(w){const{r:b,s:I,recovery:R}=this,x=B(et(\"msgHash\",w));if(R==null||![0,1,2,3].includes(R))throw new Error(\"recovery id invalid\");const C=R===2||R===3?b+e.n:b;if(C>=n.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const P=(R&1)===0?\"02\":\"03\",k=a.fromHex(P+h(C)),M=c(C),D=s(-x*M),z=s(I*M),Z=a.BASE.multiplyAndAddUnsafe(k,D,z);if(!Z)throw new Error(\"point at infinify\");return Z.assertValidity(),Z}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return kt(this.toDERHex())}toDERHex(){return lt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kt(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(g){try{return u(g),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const g=zr(e.n);return uc(e.randomBytes(g),e.n)},precompute(g=8,w=a.BASE){return w._setWindowSize(g),w.multiply(BigInt(3)),w}};function m(g,w=!0){return a.fromPrivateKey(g).toRawBytes(w)}function O(g){const w=St(g),b=typeof g==\"string\",I=(w||b)&&g.length;return w?I===o||I===i:b?I===2*o||I===2*i:g instanceof a}function N(g,w,b=!0){if(O(g))throw new Error(\"first arg must be private key\");if(!O(w))throw new Error(\"second arg must be public key\");return a.fromHex(w).multiply(u(g)).toRawBytes(b)}const $=e.bits2int||function(g){if(g.length>8192)throw new Error(\"input is too large\");const w=Ot(g),b=g.length*8-e.nBitLength;return b>0?w>>BigInt(b):w},B=e.bits2int_modN||function(g){return s($(g))},A=Xe(e.nBitLength);function T(g){return ft(\"num < 2^\"+e.nBitLength,g,dt,A),Vt(g,e.nByteLength)}function S(g,w,b=L){if([\"recovered\",\"canonical\"].some(W=>W in b))throw new Error(\"sign() legacy options not supported\");const{hash:I,randomBytes:R}=e;let{lowS:x,prehash:C,extraEntropy:P}=b;x==null&&(x=!0),g=et(\"msgHash\",g),Jr(b),C&&(g=et(\"prehashed msgHash\",I(g)));const k=B(g),M=u(w),D=[T(M),T(k)];if(P!=null&&P!==!1){const W=P===!0?R(n.BYTES):P;D.push(et(\"extraEntropy\",W))}const z=ee(...D),Z=k;function it(W){const J=$(W);if(!f(J))return;const Oe=c(J),Ft=a.BASE.multiply(J).toAffine(),vt=s(Ft.x);if(vt===dt)return;const zt=s(Oe*s(Z+vt*M));if(zt===dt)return;let Ut=(Ft.x===vt?0:2)|Number(Ft.y&K),vn=zt;return x&&y(zt)&&(vn=E(zt),Ut^=1),new d(vt,vn,Ut)}return{seed:z,k2sig:it}}const L={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function _(g,w,b=L){const{seed:I,k2sig:R}=S(g,w,b),x=e;return Vr(x.hash.outputLen,x.nByteLength,x.hmac)(I,R)}a.BASE._setWindowSize(8);function j(g,w,b,I=U){const R=g;w=et(\"msgHash\",w),b=et(\"publicKey\",b);const{lowS:x,prehash:C,format:P}=I;if(Jr(I),\"strict\"in I)throw new Error(\"options.strict was renamed to lowS\");if(P!==void 0&&P!==\"compact\"&&P!==\"der\")throw new Error(\"format must be compact or der\");const k=typeof R==\"string\"||St(R),M=!k&&!P&&typeof R==\"object\"&&R!==null&&typeof R.r==\"bigint\"&&typeof R.s==\"bigint\";if(!k&&!M)throw new Error(\"invalid signature, expected Uint8Array, hex string or Signature instance\");let D,z;try{if(M&&(D=new d(R.r,R.s)),k){try{P!==\"compact\"&&(D=d.fromDER(R))}catch(Ut){if(!(Ut instanceof lt.Err))throw Ut}!D&&P!==\"der\"&&(D=d.fromCompact(R))}z=a.fromHex(b)}catch{return!1}if(!D||x&&D.hasHighS())return!1;C&&(w=e.hash(w));const{r:Z,s:it}=D,W=B(w),J=c(it),Oe=s(W*J),Ft=s(Z*J),vt=a.BASE.multiplyAndAddUnsafe(z,Oe,Ft)?.toAffine();return vt?s(vt.x)===Z:!1}return{CURVE:e,getPublicKey:m,getSharedSecret:N,sign:_,verify:j,ProjectivePoint:a,Signature:d,utils:v}}function Nc(t){return{hash:t,hmac:(e,...n)=>pe(t,e,Vi(...n)),randomBytes:$t}}function Uc(t,e){const n=r=>Ic({...t,...Nc(r)});return{...n(e),create:n}}const to=Kr(BigInt(\"0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff\")),Tc=to.create(BigInt(\"-3\")),Rc=BigInt(\"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b\"),_c=Uc({a:Tc,b:Rc,Fp:to,n:BigInt(\"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\"),Gx:BigInt(\"0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\"),Gy:BigInt(\"0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\"),h:BigInt(1),lowS:!1},Jt),fn=\"base10\",G=\"base16\",Ht=\"base64pad\",Ee=\"base64url\",qt=\"utf8\",ln=0,Kt=1,ne=2,$c=0,eo=1,re=12,dn=32;function Lc(){const t=un.utils.randomPrivateKey(),e=un.getPublicKey(t);return{privateKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,G),publicKey:(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,G)}}function jc(){const t=$t(dn);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,G)}function Cc(t,e){const n=un.getSharedSecret((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,G),(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,G)),r=Vs(Jt,n,void 0,void 0,dn);return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(r,G)}function Pc(t){const e=Jt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,G));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,G)}function kc(t){const e=Jt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,qt));return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(e,G)}function hn(t){return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(`${t}`,fn)}function Bt(t){return Number((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(t,fn))}function no(t){return t.replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\")}function ro(t){const e=t.replace(/-/g,\"+\").replace(/_/g,\"/\"),n=(4-e.length%4)%4;return e+\"=\".repeat(n)}function Vc(t){const e=hn(typeof t.type<\"u\"?t.type:ln);if(Bt(e)===Kt&&typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");const n=typeof t.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.senderPublicKey,G):void 0,r=typeof t.iv<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.iv,G):$t(re),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,G),i=$r(o,r).encrypt((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.message,qt)),s=pn({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===Ee?no(s):s}function Mc(t){const e=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t.symKey,G),{sealed:n,iv:r}=ve({encoded:t.encoded,encoding:t.encoding}),o=$r(e,r).decrypt(n);if(o===null)throw new Error(\"Failed to decrypt\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(o,qt)}function Dc(t,e){const n=hn(ne),r=$t(re),o=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(t,qt),i=pn({type:n,sealed:o,iv:r});return e===Ee?no(i):i}function Hc(t,e){const{sealed:n}=ve({encoded:t,encoding:e});return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n,qt)}function pn(t){if(Bt(t.type)===ne)return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.sealed]),Ht);if(Bt(t.type)===Kt){if(typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.senderPublicKey,t.iv,t.sealed]),Ht)}return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([t.type,t.iv,t.sealed]),Ht)}function ve(t){const e=(t.encoding||Ht)===Ee?ro(t.encoded):t.encoded,n=(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.fromString)(e,Ht),r=n.slice($c,eo),o=eo;if(Bt(r)===Kt){const a=o+dn,u=a+re,l=n.slice(o,a),f=n.slice(a,u),h=n.slice(u);return{type:r,sealed:h,iv:f,senderPublicKey:l}}if(Bt(r)===ne){const a=n.slice(o),u=$t(re);return{type:r,sealed:a,iv:u}}const i=o+re,s=n.slice(o,i),c=n.slice(i);return{type:r,sealed:c,iv:s}}function qc(t,e){const n=ve({encoded:t,encoding:e?.encoding});return oo({type:Bt(n.type),senderPublicKey:typeof n.senderPublicKey<\"u\"?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.toString)(n.senderPublicKey,G):void 0,receiverPublicKey:e?.receiverPublicKey})}function oo(t){const e=t?.type||ln;if(e===Kt){if(typeof t?.senderPublicKey>\"u\")throw new Error(\"missing sender public key\");if(typeof t?.receiverPublicKey>\"u\")throw new Error(\"missing receiver public key\")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Kc(t){return t.type===Kt&&typeof t.senderPublicKey==\"string\"&&typeof t.receiverPublicKey==\"string\"}function Fc(t){return t.type===ne}function io(t){const e=Buffer.from(t.x,\"base64\"),n=Buffer.from(t.y,\"base64\");return (0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([new Uint8Array([4]),e,n])}function zc(t,e){const[n,r,o]=t.split(\".\"),i=Buffer.from(ro(o),\"base64\");if(i.length!==64)throw new Error(\"Invalid signature length\");const s=i.slice(0,32),c=i.slice(32,64),a=`${n}.${r}`,u=Jt(a),l=io(e);if(!_c.verify((0,uint8arrays__WEBPACK_IMPORTED_MODULE_5__.concat)([s,c]),u,l))throw new Error(\"Invalid signature\");return (0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_4__.decodeJWT)(t).payload}const so=\"irn\";function Zc(t){return t?.relay||{protocol:so}}function Yc(t){const e=_walletconnect_relay_api__WEBPACK_IMPORTED_MODULE_6__.RELAY_JSONRPC[t];if(typeof e>\"u\")throw new Error(`Relay Protocol not supported: ${t}`);return e}function co(t,e=\"-\"){const n={},r=\"relay\"+e;return Object.keys(t).forEach(o=>{if(o.startsWith(r)){const i=o.replace(r,\"\"),s=t[o];n[i]=s}}),n}function Gc(t){if(!t.includes(\"wc:\")){const u=Le(t);u!=null&&u.includes(\"wc:\")&&(t=u)}t=t.includes(\"wc://\")?t.replace(\"wc://\",\"\"):t,t=t.includes(\"wc:\")?t.replace(\"wc:\",\"\"):t;const e=t.indexOf(\":\"),n=t.indexOf(\"?\")!==-1?t.indexOf(\"?\"):void 0,r=t.substring(0,e),o=t.substring(e+1,n).split(\"@\"),i=typeof n<\"u\"?t.substring(n):\"\",s=new URLSearchParams(i),c={};s.forEach((u,l)=>{c[l]=u});const a=typeof c.methods==\"string\"?c.methods.split(\",\"):void 0;return{protocol:r,topic:ao(o[0]),version:parseInt(o[1],10),symKey:c.symKey,relay:co(c),methods:a,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function ao(t){return t.startsWith(\"//\")?t.substring(2):t}function uo(t,e=\"-\"){const n=\"relay\",r={};return Object.keys(t).forEach(o=>{const i=o,s=n+e+i;t[i]&&(r[s]=t[i])}),r}function Wc(t){const e=new URLSearchParams,n=uo(t.relay);Object.keys(n).sort().forEach(o=>{e.set(o,n[o])}),e.set(\"symKey\",t.symKey),t.expiryTimestamp&&e.set(\"expiryTimestamp\",t.expiryTimestamp.toString()),t.methods&&e.set(\"methods\",t.methods.join(\",\"));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Xc(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Jc=Object.defineProperty,Qc=Object.defineProperties,ta=Object.getOwnPropertyDescriptors,fo=Object.getOwnPropertySymbols,ea=Object.prototype.hasOwnProperty,na=Object.prototype.propertyIsEnumerable,lo=(t,e,n)=>e in t?Jc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ra=(t,e)=>{for(var n in e||(e={}))ea.call(e,n)&&lo(t,n,e[n]);if(fo)for(var n of fo(e))na.call(e,n)&&lo(t,n,e[n]);return t},oa=(t,e)=>Qc(t,ta(e));function It(t){const e=[];return t.forEach(n=>{const[r,o]=n.split(\":\");e.push(`${r}:${o}`)}),e}function ho(t){const e=[];return Object.values(t).forEach(n=>{e.push(...It(n.accounts))}),e}function po(t,e){const n=[];return Object.values(t).forEach(r=>{It(r.accounts).includes(e)&&n.push(...r.methods)}),n}function go(t,e){const n=[];return Object.values(t).forEach(r=>{It(r.accounts).includes(e)&&n.push(...r.events)}),n}function ia(t,e){const n=Bo(t,e);if(n)throw new Error(n.message);const r={};for(const[o,i]of Object.entries(t))r[o]={methods:i.methods,events:i.events,chains:i.accounts.map(s=>`${s.split(\":\")[0]}:${s.split(\":\")[1]}`)};return r}function sa(t){const{proposal:{requiredNamespaces:e,optionalNamespaces:n={}},supportedNamespaces:r}=t,o=yn(e),i=yn(n),s={};Object.keys(r).forEach(u=>{const l=r[u].chains,f=r[u].methods,h=r[u].events,y=r[u].accounts;l.forEach(E=>{if(!y.some(p=>p.includes(E)))throw new Error(`No accounts provided for chain ${E} in namespace ${u}`)}),s[u]={chains:l,methods:f,events:h,accounts:y}});const c=No(e,s,\"approve()\");if(c)throw new Error(c.message);const a={};return!Object.keys(e).length&&!Object.keys(n).length?s:(Object.keys(o).forEach(u=>{const l=r[u].chains.filter(E=>{var p,d;return(d=(p=o[u])==null?void 0:p.chains)==null?void 0:d.includes(E)}),f=r[u].methods.filter(E=>{var p,d;return(d=(p=o[u])==null?void 0:p.methods)==null?void 0:d.includes(E)}),h=r[u].events.filter(E=>{var p,d;return(d=(p=o[u])==null?void 0:p.events)==null?void 0:d.includes(E)}),y=l.map(E=>r[u].accounts.filter(p=>p.includes(`${E}:`))).flat();a[u]={chains:l,methods:f,events:h,accounts:y}}),Object.keys(i).forEach(u=>{var l,f,h,y,E,p;if(!r[u])return;const d=(f=(l=i[u])==null?void 0:l.chains)==null?void 0:f.filter(N=>r[u].chains.includes(N)),v=r[u].methods.filter(N=>{var $,B;return(B=($=i[u])==null?void 0:$.methods)==null?void 0:B.includes(N)}),m=r[u].events.filter(N=>{var $,B;return(B=($=i[u])==null?void 0:$.events)==null?void 0:B.includes(N)}),O=d?.map(N=>r[u].accounts.filter($=>$.includes(`${N}:`))).flat();a[u]={chains:at((h=a[u])==null?void 0:h.chains,d),methods:at((y=a[u])==null?void 0:y.methods,v),events:at((E=a[u])==null?void 0:E.events,m),accounts:at((p=a[u])==null?void 0:p.accounts,O)}}),a)}function gn(t){return t.includes(\":\")}function yo(t){return gn(t)?t.split(\":\")[0]:t}function yn(t){var e,n,r;const o={};if(!xe(t))return o;for(const[i,s]of Object.entries(t)){const c=gn(i)?[i]:s.chains,a=s.methods||[],u=s.events||[],l=yo(i);o[l]=oa(ra({},o[l]),{chains:at(c,(e=o[l])==null?void 0:e.chains),methods:at(a,(n=o[l])==null?void 0:n.methods),events:at(u,(r=o[l])==null?void 0:r.events)})}return o}function mo(t){const e={};return t?.forEach(n=>{var r;const[o,i]=n.split(\":\");e[o]||(e[o]={accounts:[],chains:[],events:[],methods:[]}),e[o].accounts.push(n),(r=e[o].chains)==null||r.push(`${o}:${i}`)}),e}function ca(t,e){e=e.map(r=>r.replace(\"did:pkh:\",\"\"));const n=mo(e);for(const[r,o]of Object.entries(n))o.methods?o.methods=at(o.methods,t):o.methods=t,o.events=[\"chainChanged\",\"accountsChanged\"];return n}const wo={INVALID_METHOD:{message:\"Invalid method.\",code:1001},INVALID_EVENT:{message:\"Invalid event.\",code:1002},INVALID_UPDATE_REQUEST:{message:\"Invalid update request.\",code:1003},INVALID_EXTEND_REQUEST:{message:\"Invalid extend request.\",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:\"Invalid session settle request.\",code:1005},UNAUTHORIZED_METHOD:{message:\"Unauthorized method.\",code:3001},UNAUTHORIZED_EVENT:{message:\"Unauthorized event.\",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:\"Unauthorized update request.\",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:\"Unauthorized extend request.\",code:3004},USER_REJECTED:{message:\"User rejected.\",code:5e3},USER_REJECTED_CHAINS:{message:\"User rejected chains.\",code:5001},USER_REJECTED_METHODS:{message:\"User rejected methods.\",code:5002},USER_REJECTED_EVENTS:{message:\"User rejected events.\",code:5003},UNSUPPORTED_CHAINS:{message:\"Unsupported chains.\",code:5100},UNSUPPORTED_METHODS:{message:\"Unsupported methods.\",code:5101},UNSUPPORTED_EVENTS:{message:\"Unsupported events.\",code:5102},UNSUPPORTED_ACCOUNTS:{message:\"Unsupported accounts.\",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:\"Unsupported namespace key.\",code:5104},USER_DISCONNECTED:{message:\"User disconnected.\",code:6e3},SESSION_SETTLEMENT_FAILED:{message:\"Session settlement failed.\",code:7e3},WC_METHOD_UNSUPPORTED:{message:\"Unsupported wc_ method.\",code:10001}},bo={NOT_INITIALIZED:{message:\"Not initialized.\",code:1},NO_MATCHING_KEY:{message:\"No matching key.\",code:2},RESTORE_WILL_OVERRIDE:{message:\"Restore will override.\",code:3},RESUBSCRIBED:{message:\"Resubscribed.\",code:4},MISSING_OR_INVALID:{message:\"Missing or invalid.\",code:5},EXPIRED:{message:\"Expired.\",code:6},UNKNOWN_TYPE:{message:\"Unknown type.\",code:7},MISMATCHED_TOPIC:{message:\"Mismatched topic.\",code:8},NON_CONFORMING_NAMESPACES:{message:\"Non conforming namespaces.\",code:9}};function ht(t,e){const{message:n,code:r}=bo[t];return{message:e?`${n} ${e}`:n,code:r}}function Nt(t,e){const{message:n,code:r}=wo[t];return{message:e?`${n} ${e}`:n,code:r}}function oe(t,e){return Array.isArray(t)?typeof e<\"u\"&&t.length?t.every(e):!0:!1}function xe(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Et(t){return typeof t>\"u\"}function nt(t,e){return e&&Et(t)?!0:typeof t==\"string\"&&!!t.trim().length}function Se(t,e){return e&&Et(t)?!0:typeof t==\"number\"&&!isNaN(t)}function aa(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),o=Object.keys(n);let i=!0;return gt(o,r)?(r.forEach(s=>{const{accounts:c,methods:a,events:u}=t.namespaces[s],l=It(c),f=n[s];(!gt(ce(s,f),l)||!gt(f.methods,a)||!gt(f.events,u))&&(i=!1)}),i):!1}function ie(t){return nt(t,!1)&&t.includes(\":\")?t.split(\":\").length===2:!1}function Eo(t){if(nt(t,!1)&&t.includes(\":\")){const e=t.split(\":\");if(e.length===3){const n=e[0]+\":\"+e[1];return!!e[2]&&ie(n)}}return!1}function ua(t){function e(n){try{return typeof new URL(n)<\"u\"}catch{return!1}}try{if(nt(t,!1)){if(e(t))return!0;const n=Le(t);return e(n)}}catch{}return!1}function fa(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function la(t){return t?.topic}function da(t,e){let n=null;return nt(t?.publicKey,!1)||(n=ht(\"MISSING_OR_INVALID\",`${e} controller public key should be a string`)),n}function mn(t){let e=!0;return oe(t)?t.length&&(e=t.every(n=>nt(n,!1))):e=!1,e}function vo(t,e,n){let r=null;return oe(e)&&e.length?e.forEach(o=>{r||ie(o)||(r=Nt(\"UNSUPPORTED_CHAINS\",`${n}, chain ${o} should be a string and conform to \"namespace:chainId\" format`))}):ie(t)||(r=Nt(\"UNSUPPORTED_CHAINS\",`${n}, chains must be defined as \"namespace:chainId\" e.g. \"eip155:1\": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: [\"eip155:1\", \"eip155:5\"] }`)),r}function xo(t,e,n){let r=null;return Object.entries(t).forEach(([o,i])=>{if(r)return;const s=vo(o,ce(o,i),`${e} ${n}`);s&&(r=s)}),r}function So(t,e){let n=null;return oe(t)?t.forEach(r=>{n||Eo(r)||(n=Nt(\"UNSUPPORTED_ACCOUNTS\",`${e}, account ${r} should be a string and conform to \"namespace:chainId:address\" format`))}):n=Nt(\"UNSUPPORTED_ACCOUNTS\",`${e}, accounts should be an array of strings conforming to \"namespace:chainId:address\" format`),n}function Oo(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=So(r?.accounts,`${e} namespace`);o&&(n=o)}),n}function Ao(t,e){let n=null;return mn(t?.methods)?mn(t?.events)||(n=Nt(\"UNSUPPORTED_EVENTS\",`${e}, events should be an array of strings or empty array for no events`)):n=Nt(\"UNSUPPORTED_METHODS\",`${e}, methods should be an array of strings or empty array for no methods`),n}function wn(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const o=Ao(r,`${e}, namespace`);o&&(n=o)}),n}function ha(t,e,n){let r=null;if(t&&xe(t)){const o=wn(t,e);o&&(r=o);const i=xo(t,e,n);i&&(r=i)}else r=ht(\"MISSING_OR_INVALID\",`${e}, ${n} should be an object with data`);return r}function Bo(t,e){let n=null;if(t&&xe(t)){const r=wn(t,e);r&&(n=r);const o=Oo(t,e);o&&(n=o)}else n=ht(\"MISSING_OR_INVALID\",`${e}, namespaces should be an object with data`);return n}function Io(t){return nt(t.protocol,!0)}function pa(t,e){let n=!1;return e&&!t?n=!0:t&&oe(t)&&t.length&&t.forEach(r=>{n=Io(r)}),n}function ga(t){return typeof t==\"number\"}function ya(t){return typeof t<\"u\"&&typeof t!==null}function ma(t){return!(!t||typeof t!=\"object\"||!t.code||!Se(t.code,!1)||!t.message||!nt(t.message,!1))}function wa(t){return!(Et(t)||!nt(t.method,!1))}function ba(t){return!(Et(t)||Et(t.result)&&Et(t.error)||!Se(t.id,!1)||!nt(t.jsonrpc,!1))}function Ea(t){return!(Et(t)||!nt(t.name,!1))}function va(t,e){return!(!ie(e)||!ho(t).includes(e))}function xa(t,e,n){return nt(n,!1)?po(t,e).includes(n):!1}function Sa(t,e,n){return nt(n,!1)?go(t,e).includes(n):!1}function No(t,e,n){let r=null;const o=Oa(t),i=Aa(e),s=Object.keys(o),c=Object.keys(i),a=Uo(Object.keys(t)),u=Uo(Object.keys(e)),l=a.filter(f=>!u.includes(f));return l.length&&(r=ht(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${l.toString()}\n      Received: ${Object.keys(e).toString()}`)),gt(s,c)||(r=ht(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${s.toString()}\n      Approved: ${c.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(\":\")||r)return;const h=It(e[f].accounts);h.includes(f)||(r=ht(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces accounts don't satisfy namespace accounts for ${f}\n        Required: ${f}\n        Approved: ${h.toString()}`))}),s.forEach(f=>{r||(gt(o[f].methods,i[f].methods)?gt(o[f].events,i[f].events)||(r=ht(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=ht(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function Oa(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(\":\")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(o=>{e[o]={methods:t[n].methods,events:t[n].events}})}),e}function Uo(t){return[...new Set(t.map(e=>e.includes(\":\")?e.split(\":\")[0]:e))]}function Aa(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(\":\"))e[n]=t[n];else{const r=It(t[n].accounts);r?.forEach(o=>{e[o]={accounts:t[n].accounts.filter(i=>i.includes(`${o}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Ba(t,e){return Se(t,!1)&&t<=e.max&&t>=e.min}function Ia(){const t=xt();return new Promise(e=>{switch(t){case Y.browser:e(To());break;case Y.reactNative:e(Ro());break;case Y.node:e(_o());break;default:e(!0)}})}function To(){return Yt()&&navigator?.onLine}async function Ro(){if(pt()&&typeof global<\"u\"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t?.isConnected}return!0}function _o(){return!0}function Na(t){switch(xt()){case Y.browser:$o(t);break;case Y.reactNative:Lo(t);break;case Y.node:break}}function $o(t){!pt()&&Yt()&&(window.addEventListener(\"online\",()=>t(!0)),window.addEventListener(\"offline\",()=>t(!1)))}function Lo(t){pt()&&typeof global<\"u\"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}const bn={};class Ua{static get(e){return bn[e]}static set(e,n){bn[e]=n}static delete(e){delete bn[e]}}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK2hCLGFBQWEsZUFBZSx1QkFBdUIsT0FBTyx5QkFBeUIsZUFBZSxNQUFNLHdCQUF3QixHQUFHLHFCQUFxQixlQUFlLHlCQUF5QixPQUFPLG1DQUFtQyxlQUFlLE1BQU0sa0NBQWtDLEdBQUcsdUJBQXVCLGlCQUFpQixXQUFXLHFCQUFxQixhQUFhLHlCQUF5QixJQUFJLGVBQWUsTUFBTSxVQUFVLE9BQU8sU0FBUyxlQUFlLE1BQU0sd0JBQXdCLE9BQU8sV0FBVyx3QkFBd0IsRUFBRSxpQkFBaUIsTUFBTSx3QkFBd0IsT0FBTyxXQUFXLGtDQUFrQyxFQUFFLGVBQWUsZ0JBQWdCLGVBQWUsZ0JBQWdCLG9CQUFvQixXQUFXLGtDQUFrQyxtQ0FBbUMsYUFBYSxzQkFBc0IsSUFBSSxvQkFBb0IsV0FBVyxrQ0FBa0MsbUNBQW1DLGFBQWEsMEJBQTBCLElBQUksb0JBQW9CLFdBQVcsa0NBQWtDLG1DQUFtQyxhQUFhLG1CQUFtQixJQUFJLGlCQUFpQix3Q0FBd0MsbU9BQW1PLGtEQUFrRCxvQkFBb0IscUJBQXFCLDZCQUE2QixvREFBb0QsU0FBUyx1QkFBdUIsMEJBQTBCLDJFQUEyRSwwQ0FBMEMsY0FBYyx5RkFBeUYsY0FBYyxPQUFPLDBFQUFFLE1BQU0sMkVBQUUsMkJBQTJCLGNBQWMsc0lBQXNJLGNBQWMsa0lBQWtJLGNBQWMsZUFBZSwyRUFBRSxNQUFNLDBF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TSwrQ0FBK0MsRUFBRSw4Q0FBOEMsR0FBRyxJQUFJLGlCQUFpQixvQ0FBb0MsY0FBYyxhQUFhLHVCQUF1QixVQUFVLHVCQUF1QixNQUFNLDJCQUEyQixNQUFNLG9CQUFvQixNQUFNLGVBQWUsRUFBRSxjQUFjLCtCQUErQixvQkFBb0IsMERBQTBELDBEQUEwRCxzQkFBc0IsU0FBUyxjQUFjLFNBQVMsZUFBZSxhQUFhLHFCQUFxQixNQUFNLHlCQUF5QixNQUFNLG1CQUFtQixlQUFlLHdHQUF3RyxlQUFlLDhHQUE4RyxZQUFZLFNBQVMsY0FBYyxhQUFhLGdCQUFnQixRQUFRLGlCQUFpQixjQUF5N0k7QUFDL21NIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9kaXN0L2luZGV4LmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtkZXRlY3QgYXMgam99ZnJvbVwiZGV0ZWN0LWJyb3dzZXJcIjtpbXBvcnR7dG9NaWxpc2Vjb25kcyBhcyBBZSxGSVZFX01JTlVURVMgYXMgeG4sZnJvbU1pbGlzZWNvbmRzIGFzIENvfWZyb21cIkB3YWxsZXRjb25uZWN0L3RpbWVcIjtpbXBvcnR7Z2V0RG9jdW1lbnQgYXMgQmUsZ2V0TmF2aWdhdG9yIGFzIFNuLGdldExvY2F0aW9uIGFzIE9ufWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1nZXR0ZXJzXCI7aW1wb3J0e2dldFdpbmRvd01ldGFkYXRhIGFzIFBvfWZyb21cIkB3YWxsZXRjb25uZWN0L3dpbmRvdy1tZXRhZGF0YVwiO2ltcG9ydHtyZWNvdmVyQWRkcmVzcyBhcyBrb31mcm9tXCJ2aWVtXCI7aW1wb3J0IFZvIGZyb21cImJzNThcIjtpbXBvcnR7ZGVjb2RlSldUIGFzIE1vfWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWF1dGhcIjtpbXBvcnR7dG9TdHJpbmcgYXMgUSxmcm9tU3RyaW5nIGFzIHJ0LGNvbmNhdCBhcyBadH1mcm9tXCJ1aW50OGFycmF5c1wiO2ltcG9ydHtSRUxBWV9KU09OUlBDIGFzIERvfWZyb21cIkB3YWxsZXRjb25uZWN0L3JlbGF5LWFwaVwiO2NvbnN0IHNlPVwiOlwiO2Z1bmN0aW9uIEllKHQpe2NvbnN0W2Usbl09dC5zcGxpdChzZSk7cmV0dXJue25hbWVzcGFjZTplLHJlZmVyZW5jZTpufX1mdW5jdGlvbiBBbih0KXtjb25zdHtuYW1lc3BhY2U6ZSxyZWZlcmVuY2U6bn09dDtyZXR1cm5bZSxuXS5qb2luKHNlKX1mdW5jdGlvbiBOZSh0KXtjb25zdFtlLG4scl09dC5zcGxpdChzZSk7cmV0dXJue25hbWVzcGFjZTplLHJlZmVyZW5jZTpuLGFkZHJlc3M6cn19ZnVuY3Rpb24gQm4odCl7Y29uc3R7bmFtZXNwYWNlOmUscmVmZXJlbmNlOm4sYWRkcmVzczpyfT10O3JldHVybltlLG4scl0uam9pbihzZSl9ZnVuY3Rpb24gVWUodCxlKXtjb25zdCBuPVtdO3JldHVybiB0LmZvckVhY2gocj0+e2NvbnN0IG89ZShyKTtuLmluY2x1ZGVzKG8pfHxuLnB1c2gobyl9KSxufWZ1bmN0aW9uIEluKHQpe2NvbnN0e2FkZHJlc3M6ZX09TmUodCk7cmV0dXJuIGV9ZnVuY3Rpb24gTm4odCl7Y29uc3R7bmFtZXNwYWNlOmUscmVmZXJlbmNlOm59PU5lKHQpO3JldHVybiBBbih7bmFtZXNwYWNlOmUscmVmZXJlbmNlOm59KX1mdW5jdGlvbiBIbyh0LGUpe2NvbnN0e25hbWVzcGFjZTpuLHJlZmVyZW5jZTpyfT1JZShlKTtyZXR1cm4gQm4oe25hbWVzcGFjZTpuLHJlZmVyZW5jZTpyLGFkZHJlc3M6dH0pfWZ1bmN0aW9uIHFvKHQpe3JldHVybiBVZSh0LEluKX1mdW5jdGlvbiBVbih0KXtyZXR1cm4gVWUodCxObil9ZnVuY3Rpb24gS28odCxlPVtdKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKHI9PntpZihlLmxlbmd0aCYmIWUuaW5jbHVkZXMocikpcmV0dXJuO2NvbnN0IG89dFtyXTtuLnB1c2goLi4uby5hY2NvdW50cyl9KSxufWZ1bmN0aW9uIEZvKHQsZT1bXSl7Y29uc3Qgbj1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57aWYoZS5sZW5ndGgmJiFlLmluY2x1ZGVzKHIpKXJldHVybjtjb25zdCBvPXRbcl07bi5wdXNoKC4uLlVuKG8uYWNjb3VudHMpKX0pLG59ZnVuY3Rpb24gem8odCxlPVtdKXtjb25zdCBuPVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKHI9PntpZihlLmxlbmd0aCYmIWUuaW5jbHVkZXMocikpcmV0dXJuO2NvbnN0IG89dFtyXTtuLnB1c2goLi4uY2UocixvKSl9KSxufWZ1bmN0aW9uIGNlKHQsZSl7cmV0dXJuIHQuaW5jbHVkZXMoXCI6XCIpP1t0XTplLmNoYWluc3x8W119dmFyIFpvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxZbz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxHbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxUbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFdvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWG89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxSbj0odCxlLG4pPT5lIGluIHQ/Wm8odCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSk6dFtlXT1uLF9uPSh0LGUpPT57Zm9yKHZhciBuIGluIGV8fChlPXt9KSlXby5jYWxsKGUsbikmJlJuKHQsbixlW25dKTtpZihUbilmb3IodmFyIG4gb2YgVG4oZSkpWG8uY2FsbChlLG4pJiZSbih0LG4sZVtuXSk7cmV0dXJuIHR9LEpvPSh0LGUpPT5Zbyh0LEdvKGUpKTtjb25zdCAkbj1cIlJlYWN0TmF0aXZlXCIsWT17cmVhY3ROYXRpdmU6XCJyZWFjdC1uYXRpdmVcIixub2RlOlwibm9kZVwiLGJyb3dzZXI6XCJicm93c2VyXCIsdW5rbm93bjpcInVua25vd25cIn0sYWU9XCIgXCIsUW89XCI6XCIsTG49XCIvXCIsVGU9Mix0aT0xZTMsam49XCJqc1wiO2Z1bmN0aW9uIFJlKCl7cmV0dXJuIHR5cGVvZiBwcm9jZXNzPFwidVwiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9uczxcInVcIiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZTxcInVcIn1mdW5jdGlvbiBwdCgpe3JldHVybiFCZSgpJiYhIVNuKCkmJm5hdmlnYXRvci5wcm9kdWN0PT09JG59ZnVuY3Rpb24gZWkoKXtyZXR1cm4gcHQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmdHlwZW9mKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLlBsYXRmb3JtKTxcInVcIiYmKGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLlBsYXRmb3JtLk9TKT09PVwiYW5kcm9pZFwifWZ1bmN0aW9uIG5pKCl7cmV0dXJuIHB0KCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybSk8XCJ1XCImJihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybS5PUyk9PT1cImlvc1wifWZ1bmN0aW9uIFl0KCl7cmV0dXJuIVJlKCkmJiEhU24oKSYmISFCZSgpfWZ1bmN0aW9uIHh0KCl7cmV0dXJuIHB0KCk/WS5yZWFjdE5hdGl2ZTpSZSgpP1kubm9kZTpZdCgpP1kuYnJvd3NlcjpZLnVua25vd259ZnVuY3Rpb24gcmkoKXt2YXIgdDt0cnl7cmV0dXJuIHB0KCkmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5BcHBsaWNhdGlvbik8XCJ1XCI/KHQ9Z2xvYmFsLkFwcGxpY2F0aW9uKT09bnVsbD92b2lkIDA6dC5hcHBsaWNhdGlvbklkOnZvaWQgMH1jYXRjaHtyZXR1cm59fWZ1bmN0aW9uIENuKHQsZSl7Y29uc3Qgbj1uZXcgVVJMU2VhcmNoUGFyYW1zKHQpO2Zvcihjb25zdCByIG9mIE9iamVjdC5rZXlzKGUpLnNvcnQoKSlpZihlLmhhc093blByb3BlcnR5KHIpKXtjb25zdCBvPWVbcl07byE9PXZvaWQgMCYmbi5zZXQocixvKX1yZXR1cm4gbi50b1N0cmluZygpfWZ1bmN0aW9uIG9pKHQpe3ZhciBlLG47Y29uc3Qgcj1QbigpO3RyeXtyZXR1cm4gdCE9bnVsbCYmdC51cmwmJnIudXJsJiZ0LnVybCE9PXIudXJsJiYoY29uc29sZS53YXJuKGBUaGUgY29uZmlndXJlZCBXYWxsZXRDb25uZWN0ICdtZXRhZGF0YS51cmwnOiR7dC51cmx9IGRpZmZlcnMgZnJvbSB0aGUgYWN0dWFsIHBhZ2UgdXJsOiR7ci51cmx9LiBUaGlzIGlzIHByb2JhYmx5IHVuaW50ZW5kZWQgYW5kIGNhbiBsZWFkIHRvIGlzc3Vlcy5gKSx0LnVybD1yLnVybCksKGU9dD8uaWNvbnMpIT1udWxsJiZlLmxlbmd0aCYmdC5pY29ucy5sZW5ndGg+MCYmKHQuaWNvbnM9dC5pY29ucy5maWx0ZXIobz0+byE9PVwiXCIpKSxKbyhfbihfbih7fSxyKSx0KSx7dXJsOnQ/LnVybHx8ci51cmwsbmFtZTp0Py5uYW1lfHxyLm5hbWUsZGVzY3JpcHRpb246dD8uZGVzY3JpcHRpb258fHIuZGVzY3JpcHRpb24saWNvbnM6KG49dD8uaWNvbnMpIT1udWxsJiZuLmxlbmd0aCYmdC5pY29ucy5sZW5ndGg+MD90Lmljb25zOnIuaWNvbnN9KX1jYXRjaChvKXtyZXR1cm4gY29uc29sZS53YXJuKFwiRXJyb3IgcG9wdWxhdGluZyBhcHAgbWV0YWRhdGFcIixvKSx0fHxyfX1mdW5jdGlvbiBQbigpe3JldHVybiBQbygpfHx7bmFtZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIsdXJsOlwiXCIsaWNvbnM6W1wiXCJdfX1mdW5jdGlvbiBpaSh0LGUpe3ZhciBuO2NvbnN0IHI9eHQoKSxvPXtwcm90b2NvbDp0LHZlcnNpb246ZSxlbnY6cn07cmV0dXJuIHI9PT1cImJyb3dzZXJcIiYmKG8uaG9zdD0oKG49T24oKSk9PW51bGw/dm9pZCAwOm4uaG9zdCl8fFwidW5rbm93blwiKSxvfWZ1bmN0aW9uIGtuKCl7aWYoeHQoKT09PVkucmVhY3ROYXRpdmUmJnR5cGVvZiBnbG9iYWw8XCJ1XCImJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5QbGF0Zm9ybSk8XCJ1XCIpe2NvbnN0e09TOm4sVmVyc2lvbjpyfT1nbG9iYWwuUGxhdGZvcm07cmV0dXJuW24scl0uam9pbihcIi1cIil9Y29uc3QgdD1qbygpO2lmKHQ9PT1udWxsKXJldHVyblwidW5rbm93blwiO2NvbnN0IGU9dC5vcz90Lm9zLnJlcGxhY2UoXCIgXCIsXCJcIikudG9Mb3dlckNhc2UoKTpcInVua25vd25cIjtyZXR1cm4gdC50eXBlPT09XCJicm93c2VyXCI/W2UsdC5uYW1lLHQudmVyc2lvbl0uam9pbihcIi1cIik6W2UsdC52ZXJzaW9uXS5qb2luKFwiLVwiKX1mdW5jdGlvbiBWbigpe3ZhciB0O2NvbnN0IGU9eHQoKTtyZXR1cm4gZT09PVkuYnJvd3Nlcj9bZSwoKHQ9T24oKSk9PW51bGw/dm9pZCAwOnQuaG9zdCl8fFwidW5rbm93blwiXS5qb2luKFwiOlwiKTplfWZ1bmN0aW9uIE1uKHQsZSxuKXtjb25zdCByPWtuKCksbz1WbigpO3JldHVybltbdCxlXS5qb2luKFwiLVwiKSxbam4sbl0uam9pbihcIi1cIikscixvXS5qb2luKFwiL1wiKX1mdW5jdGlvbiBzaSh7cHJvdG9jb2w6dCx2ZXJzaW9uOmUscmVsYXlVcmw6bixzZGtWZXJzaW9uOnIsYXV0aDpvLHByb2plY3RJZDppLHVzZU9uQ2xvc2VFdmVudDpzLGJ1bmRsZUlkOmMscGFja2FnZU5hbWU6YX0pe2NvbnN0IHU9bi5zcGxpdChcIj9cIiksbD1Nbih0LGUsciksZj17YXV0aDpvLHVhOmwscHJvamVjdElkOmksdXNlT25DbG9zZUV2ZW50OnN8fHZvaWQgMCxwYWNrYWdlTmFtZTphfHx2b2lkIDAsYnVuZGxlSWQ6Y3x8dm9pZCAwfSxoPUNuKHVbMV18fFwiXCIsZik7cmV0dXJuIHVbMF0rXCI/XCIraH1mdW5jdGlvbiBjaSh0KXtsZXQgZT0odC5tYXRjaCgvXlteOl0rKD89OlxcL1xcLykvZ2kpfHxbXSlbMF07Y29uc3Qgbj10eXBlb2YgZTxcInVcIj90LnNwbGl0KFwiOi8vXCIpWzFdOnQ7cmV0dXJuIGU9ZT09PVwid3NzXCI/XCJodHRwc1wiOlwiaHR0cFwiLFtlLG5dLmpvaW4oXCI6Ly9cIil9ZnVuY3Rpb24gYWkodCxlLG4pe2lmKCF0W2VdfHx0eXBlb2YgdFtlXSE9PW4pdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIG9yIGludmFsaWQgXCIke2V9XCIgcGFyYW1gKX1mdW5jdGlvbiBEbih0LGU9VGUpe3JldHVybiBIbih0LnNwbGl0KExuKSxlKX1mdW5jdGlvbiB1aSh0KXtyZXR1cm4gRG4odCkuam9pbihhZSl9ZnVuY3Rpb24gZ3QodCxlKXtyZXR1cm4gdC5maWx0ZXIobj0+ZS5pbmNsdWRlcyhuKSkubGVuZ3RoPT09dC5sZW5ndGh9ZnVuY3Rpb24gSG4odCxlPVRlKXtyZXR1cm4gdC5zbGljZShNYXRoLm1heCh0Lmxlbmd0aC1lLDApKX1mdW5jdGlvbiBmaSh0KXtyZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHQuZW50cmllcygpKX1mdW5jdGlvbiBsaSh0KXtyZXR1cm4gbmV3IE1hcChPYmplY3QuZW50cmllcyh0KSl9ZnVuY3Rpb24gZGkodCxlKXtjb25zdCBuPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKHI9PntuW3JdPWUodFtyXSl9KSxufWNvbnN0IGhpPXQ9PnQ7ZnVuY3Rpb24gcW4odCl7cmV0dXJuIHQudHJpbSgpLnJlcGxhY2UoL15cXHcvLGU9PmUudG9VcHBlckNhc2UoKSl9ZnVuY3Rpb24gcGkodCl7cmV0dXJuIHQuc3BsaXQoYWUpLm1hcChlPT5xbihlKSkuam9pbihhZSl9ZnVuY3Rpb24gZ2kodD14bixlKXtjb25zdCBuPUFlKHR8fHhuKTtsZXQgcixvLGkscztyZXR1cm57cmVzb2x2ZTpjPT57aSYmciYmKGNsZWFyVGltZW91dChpKSxyKGMpLHM9UHJvbWlzZS5yZXNvbHZlKGMpKX0scmVqZWN0OmM9PntpJiZvJiYoY2xlYXJUaW1lb3V0KGkpLG8oYykpfSxkb25lOigpPT5uZXcgUHJvbWlzZSgoYyxhKT0+e2lmKHMpcmV0dXJuIGMocyk7aT1zZXRUaW1lb3V0KCgpPT57Y29uc3QgdT1uZXcgRXJyb3IoZSk7cz1Qcm9taXNlLnJlamVjdCh1KSxhKHUpfSxuKSxyPWMsbz1hfSl9fWZ1bmN0aW9uIHlpKHQsZSxuKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMocixvKT0+e2NvbnN0IGk9c2V0VGltZW91dCgoKT0+byhuZXcgRXJyb3IobikpLGUpO3RyeXtjb25zdCBzPWF3YWl0IHQ7cihzKX1jYXRjaChzKXtvKHMpfWNsZWFyVGltZW91dChpKX0pfWZ1bmN0aW9uIF9lKHQsZSl7aWYodHlwZW9mIGU9PVwic3RyaW5nXCImJmUuc3RhcnRzV2l0aChgJHt0fTpgKSlyZXR1cm4gZTtpZih0LnRvTG93ZXJDYXNlKCk9PT1cInRvcGljXCIpe2lmKHR5cGVvZiBlIT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcignVmFsdWUgbXVzdCBiZSBcInN0cmluZ1wiIGZvciBleHBpcmVyIHRhcmdldCB0eXBlOiB0b3BpYycpO3JldHVybmB0b3BpYzoke2V9YH1lbHNlIGlmKHQudG9Mb3dlckNhc2UoKT09PVwiaWRcIil7aWYodHlwZW9mIGUhPVwibnVtYmVyXCIpdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBtdXN0IGJlIFwibnVtYmVyXCIgZm9yIGV4cGlyZXIgdGFyZ2V0IHR5cGU6IGlkJyk7cmV0dXJuYGlkOiR7ZX1gfXRocm93IG5ldyBFcnJvcihgVW5rbm93biBleHBpcmVyIHRhcmdldCB0eXBlOiAke3R9YCl9ZnVuY3Rpb24gbWkodCl7cmV0dXJuIF9lKFwidG9waWNcIix0KX1mdW5jdGlvbiB3aSh0KXtyZXR1cm4gX2UoXCJpZFwiLHQpfWZ1bmN0aW9uIGJpKHQpe2NvbnN0W2Usbl09dC5zcGxpdChcIjpcIikscj17aWQ6dm9pZCAwLHRvcGljOnZvaWQgMH07aWYoZT09PVwidG9waWNcIiYmdHlwZW9mIG49PVwic3RyaW5nXCIpci50b3BpYz1uO2Vsc2UgaWYoZT09PVwiaWRcIiYmTnVtYmVyLmlzSW50ZWdlcihOdW1iZXIobikpKXIuaWQ9TnVtYmVyKG4pO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRhcmdldCwgZXhwZWN0ZWQgaWQ6bnVtYmVyIG9yIHRvcGljOnN0cmluZywgZ290ICR7ZX06JHtufWApO3JldHVybiByfWZ1bmN0aW9uIEVpKHQsZSl7cmV0dXJuIENvKChlfHxEYXRlLm5vdygpKStBZSh0KSl9ZnVuY3Rpb24gdmkodCl7cmV0dXJuIERhdGUubm93KCk+PUFlKHQpfWZ1bmN0aW9uIHhpKHQsZSl7cmV0dXJuYCR7dH0ke2U/YDoke2V9YDpcIlwifWB9ZnVuY3Rpb24gYXQodD1bXSxlPVtdKXtyZXR1cm5bLi4ubmV3IFNldChbLi4udCwuLi5lXSldfWFzeW5jIGZ1bmN0aW9uIFNpKHtpZDp0LHRvcGljOmUsd2NEZWVwTGluazpufSl7dmFyIHI7dHJ5e2lmKCFuKXJldHVybjtjb25zdCBvPXR5cGVvZiBuPT1cInN0cmluZ1wiP0pTT04ucGFyc2Uobik6bixpPW8/LmhyZWY7aWYodHlwZW9mIGkhPVwic3RyaW5nXCIpcmV0dXJuO2NvbnN0IHM9S24oaSx0LGUpLGM9eHQoKTtpZihjPT09WS5icm93c2VyKXtpZighKChyPUJlKCkpIT1udWxsJiZyLmhhc0ZvY3VzKCkpKXtjb25zb2xlLndhcm4oXCJEb2N1bWVudCBkb2VzIG5vdCBoYXZlIGZvY3VzLCBza2lwcGluZyBkZWVwbGluay5cIik7cmV0dXJufUZuKHMpfWVsc2UgYz09PVkucmVhY3ROYXRpdmUmJnR5cGVvZihnbG9iYWw9PW51bGw/dm9pZCAwOmdsb2JhbC5MaW5raW5nKTxcInVcIiYmYXdhaXQgZ2xvYmFsLkxpbmtpbmcub3BlblVSTChzKX1jYXRjaChvKXtjb25zb2xlLmVycm9yKG8pfX1mdW5jdGlvbiBLbih0LGUsbil7Y29uc3Qgcj1gcmVxdWVzdElkPSR7ZX0mc2Vzc2lvblRvcGljPSR7bn1gO3QuZW5kc1dpdGgoXCIvXCIpJiYodD10LnNsaWNlKDAsLTEpKTtsZXQgbz1gJHt0fWA7aWYodC5zdGFydHNXaXRoKFwiaHR0cHM6Ly90Lm1lXCIpKXtjb25zdCBpPXQuaW5jbHVkZXMoXCI/XCIpP1wiJnN0YXJ0YXBwPVwiOlwiP3N0YXJ0YXBwPVwiO289YCR7b30ke2l9JHtZbihyLCEwKX1gfWVsc2Ugbz1gJHtvfS93Yz8ke3J9YDtyZXR1cm4gb31mdW5jdGlvbiBGbih0KXtsZXQgZT1cIl9zZWxmXCI7Wm4oKT9lPVwiX3RvcFwiOih6bigpfHx0LnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKXx8dC5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSkmJihlPVwiX2JsYW5rXCIpLHdpbmRvdy5vcGVuKHQsZSxcIm5vcmVmZXJyZXIgbm9vcGVuZXJcIil9YXN5bmMgZnVuY3Rpb24gT2kodCxlKXtsZXQgbj1cIlwiO3RyeXtpZihZdCgpJiYobj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKSxuKSlyZXR1cm4gbjtuPWF3YWl0IHQuZ2V0SXRlbShlKX1jYXRjaChyKXtjb25zb2xlLmVycm9yKHIpfXJldHVybiBufWZ1bmN0aW9uICRlKHQsZSl7cmV0dXJuIHQuZmlsdGVyKG49PmUuaW5jbHVkZXMobikpfWZ1bmN0aW9uIEFpKHQsZSl7aWYoIXQuaW5jbHVkZXMoZSkpcmV0dXJuIG51bGw7Y29uc3Qgbj10LnNwbGl0KC8oWyYsPyw9XSkvKSxyPW4uaW5kZXhPZihlKTtyZXR1cm4gbltyKzJdfWZ1bmN0aW9uIEJpKCl7cmV0dXJuIHR5cGVvZiBjcnlwdG88XCJ1XCImJmNyeXB0byE9bnVsbCYmY3J5cHRvLnJhbmRvbVVVSUQ/Y3J5cHRvLnJhbmRvbVVVSUQoKTpcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZ3UsdD0+e2NvbnN0IGU9TWF0aC5yYW5kb20oKSoxNnwwO3JldHVybih0PT09XCJ4XCI/ZTplJjN8OCkudG9TdHJpbmcoMTYpfSl9ZnVuY3Rpb24gSWkoKXtyZXR1cm4gdHlwZW9mIHByb2Nlc3M8XCJ1XCImJnByb2Nlc3MuZW52LklTX1ZJVEVTVD09PVwidHJ1ZVwifWZ1bmN0aW9uIHpuKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3c8XCJ1XCImJighIXdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eXx8ISF3aW5kb3cuVGVsZWdyYW18fCEhd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5UHJvdG8pfWZ1bmN0aW9uIFpuKCl7dHJ5e3JldHVybiB3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3B9Y2F0Y2h7cmV0dXJuITF9fWZ1bmN0aW9uIFluKHQsZT0hMSl7Y29uc3Qgbj1CdWZmZXIuZnJvbSh0KS50b1N0cmluZyhcImJhc2U2NFwiKTtyZXR1cm4gZT9uLnJlcGxhY2UoL1s9XS9nLFwiXCIpOm59ZnVuY3Rpb24gTGUodCl7cmV0dXJuIEJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGYtOFwiKX1mdW5jdGlvbiBOaSh0KXtyZXR1cm4gbmV3IFByb21pc2UoZT0+c2V0VGltZW91dChlLHQpKX1mdW5jdGlvbiBHdCh0KXtpZighTnVtYmVyLmlzU2FmZUludGVnZXIodCl8fHQ8MCl0aHJvdyBuZXcgRXJyb3IoXCJwb3NpdGl2ZSBpbnRlZ2VyIGV4cGVjdGVkLCBnb3QgXCIrdCl9ZnVuY3Rpb24gVWkodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJnQuY29uc3RydWN0b3IubmFtZT09PVwiVWludDhBcnJheVwifWZ1bmN0aW9uIFd0KHQsLi4uZSl7aWYoIVVpKHQpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWRcIik7aWYoZS5sZW5ndGg+MCYmIWUuaW5jbHVkZXModC5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWQgb2YgbGVuZ3RoIFwiK2UrXCIsIGdvdCBsZW5ndGg9XCIrdC5sZW5ndGgpfWZ1bmN0aW9uIGplKHQpe2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCJ8fHR5cGVvZiB0LmNyZWF0ZSE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcIkhhc2ggc2hvdWxkIGJlIHdyYXBwZWQgYnkgdXRpbHMud3JhcENvbnN0cnVjdG9yXCIpO0d0KHQub3V0cHV0TGVuKSxHdCh0LmJsb2NrTGVuKX1mdW5jdGlvbiBUdCh0LGU9ITApe2lmKHQuZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIkhhc2ggaW5zdGFuY2UgaGFzIGJlZW4gZGVzdHJveWVkXCIpO2lmKGUmJnQuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCNkaWdlc3QoKSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFwiKX1mdW5jdGlvbiBHbih0LGUpe1d0KHQpO2NvbnN0IG49ZS5vdXRwdXRMZW47aWYodC5sZW5ndGg8bil0aHJvdyBuZXcgRXJyb3IoXCJkaWdlc3RJbnRvKCkgZXhwZWN0cyBvdXRwdXQgYnVmZmVyIG9mIGxlbmd0aCBhdCBsZWFzdCBcIituKX1jb25zdCB1ZT1CaWdJbnQoMioqMzItMSksV249QmlnSW50KDMyKTtmdW5jdGlvbiBUaSh0LGU9ITEpe3JldHVybiBlP3toOk51bWJlcih0JnVlKSxsOk51bWJlcih0Pj5XbiZ1ZSl9OntoOk51bWJlcih0Pj5XbiZ1ZSl8MCxsOk51bWJlcih0JnVlKXwwfX1mdW5jdGlvbiBSaSh0LGU9ITEpe2xldCBuPW5ldyBVaW50MzJBcnJheSh0Lmxlbmd0aCkscj1uZXcgVWludDMyQXJyYXkodC5sZW5ndGgpO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdHtoOmksbDpzfT1UaSh0W29dLGUpO1tuW29dLHJbb11dPVtpLHNdfXJldHVybltuLHJdfWNvbnN0IF9pPSh0LGUsbik9PnQ8PG58ZT4+PjMyLW4sJGk9KHQsZSxuKT0+ZTw8bnx0Pj4+MzItbixMaT0odCxlLG4pPT5lPDxuLTMyfHQ+Pj42NC1uLGppPSh0LGUsbik9PnQ8PG4tMzJ8ZT4+PjY0LW4sUnQ9dHlwZW9mIGdsb2JhbFRoaXM9PVwib2JqZWN0XCImJlwiY3J5cHRvXCJpbiBnbG9iYWxUaGlzP2dsb2JhbFRoaXMuY3J5cHRvOnZvaWQgMDtmdW5jdGlvbiBDaSh0KXtyZXR1cm4gbmV3IFVpbnQzMkFycmF5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCxNYXRoLmZsb29yKHQuYnl0ZUxlbmd0aC80KSl9ZnVuY3Rpb24gQ2UodCl7cmV0dXJuIG5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX1mdW5jdGlvbiBzdCh0LGUpe3JldHVybiB0PDwzMi1lfHQ+Pj5lfWNvbnN0IFhuPW5ldyBVaW50OEFycmF5KG5ldyBVaW50MzJBcnJheShbMjg3NDU0MDIwXSkuYnVmZmVyKVswXT09PTY4O2Z1bmN0aW9uIFBpKHQpe3JldHVybiB0PDwyNCY0Mjc4MTkwMDgwfHQ8PDgmMTY3MTE2ODB8dD4+PjgmNjUyODB8dD4+PjI0JjI1NX1mdW5jdGlvbiBKbih0KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdPVBpKHRbZV0pfWZ1bmN0aW9uIGtpKHQpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcInV0ZjhUb0J5dGVzIGV4cGVjdGVkIHN0cmluZywgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHQpKX1mdW5jdGlvbiBfdCh0KXtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCImJih0PWtpKHQpKSxXdCh0KSx0fWZ1bmN0aW9uIFZpKC4uLnQpe2xldCBlPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG89dFtyXTtXdChvKSxlKz1vLmxlbmd0aH1jb25zdCBuPW5ldyBVaW50OEFycmF5KGUpO2ZvcihsZXQgcj0wLG89MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3QgaT10W3JdO24uc2V0KGksbyksbys9aS5sZW5ndGh9cmV0dXJuIG59Y2xhc3MgUGV7Y2xvbmUoKXtyZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCl9fWZ1bmN0aW9uIFFuKHQpe2NvbnN0IGU9cj0+dCgpLnVwZGF0ZShfdChyKSkuZGlnZXN0KCksbj10KCk7cmV0dXJuIGUub3V0cHV0TGVuPW4ub3V0cHV0TGVuLGUuYmxvY2tMZW49bi5ibG9ja0xlbixlLmNyZWF0ZT0oKT0+dCgpLGV9ZnVuY3Rpb24gJHQodD0zMil7aWYoUnQmJnR5cGVvZiBSdC5nZXRSYW5kb21WYWx1ZXM9PVwiZnVuY3Rpb25cIilyZXR1cm4gUnQuZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHQpKTtpZihSdCYmdHlwZW9mIFJ0LnJhbmRvbUJ5dGVzPT1cImZ1bmN0aW9uXCIpcmV0dXJuIFJ0LnJhbmRvbUJ5dGVzKHQpO3Rocm93IG5ldyBFcnJvcihcImNyeXB0by5nZXRSYW5kb21WYWx1ZXMgbXVzdCBiZSBkZWZpbmVkXCIpfWNvbnN0IHRyPVtdLGVyPVtdLG5yPVtdLE1pPUJpZ0ludCgwKSxYdD1CaWdJbnQoMSksRGk9QmlnSW50KDIpLEhpPUJpZ0ludCg3KSxxaT1CaWdJbnQoMjU2KSxLaT1CaWdJbnQoMTEzKTtmb3IobGV0IHQ9MCxlPVh0LG49MSxyPTA7dDwyNDt0Kyspe1tuLHJdPVtyLCgyKm4rMypyKSU1XSx0ci5wdXNoKDIqKDUqcituKSksZXIucHVzaCgodCsxKSoodCsyKS8yJTY0KTtsZXQgbz1NaTtmb3IobGV0IGk9MDtpPDc7aSsrKWU9KGU8PFh0XihlPj5IaSkqS2kpJXFpLGUmRGkmJihvXj1YdDw8KFh0PDxCaWdJbnQoaSkpLVh0KTtuci5wdXNoKG8pfWNvbnN0W0ZpLHppXT1SaShuciwhMCkscnI9KHQsZSxuKT0+bj4zMj9MaSh0LGUsbik6X2kodCxlLG4pLG9yPSh0LGUsbik9Pm4+MzI/amkodCxlLG4pOiRpKHQsZSxuKTtmdW5jdGlvbiBaaSh0LGU9MjQpe2NvbnN0IG49bmV3IFVpbnQzMkFycmF5KDEwKTtmb3IobGV0IHI9MjQtZTtyPDI0O3IrKyl7Zm9yKGxldCBzPTA7czwxMDtzKyspbltzXT10W3NdXnRbcysxMF1edFtzKzIwXV50W3MrMzBdXnRbcys0MF07Zm9yKGxldCBzPTA7czwxMDtzKz0yKXtjb25zdCBjPShzKzgpJTEwLGE9KHMrMiklMTAsdT1uW2FdLGw9blthKzFdLGY9cnIodSxsLDEpXm5bY10saD1vcih1LGwsMSlebltjKzFdO2ZvcihsZXQgeT0wO3k8NTA7eSs9MTApdFtzK3ldXj1mLHRbcyt5KzFdXj1ofWxldCBvPXRbMl0saT10WzNdO2ZvcihsZXQgcz0wO3M8MjQ7cysrKXtjb25zdCBjPWVyW3NdLGE9cnIobyxpLGMpLHU9b3IobyxpLGMpLGw9dHJbc107bz10W2xdLGk9dFtsKzFdLHRbbF09YSx0W2wrMV09dX1mb3IobGV0IHM9MDtzPDUwO3MrPTEwKXtmb3IobGV0IGM9MDtjPDEwO2MrKyluW2NdPXRbcytjXTtmb3IobGV0IGM9MDtjPDEwO2MrKyl0W3MrY11ePX5uWyhjKzIpJTEwXSZuWyhjKzQpJTEwXX10WzBdXj1GaVtyXSx0WzFdXj16aVtyXX1uLmZpbGwoMCl9Y2xhc3MgRW4gZXh0ZW5kcyBQZXtjb25zdHJ1Y3RvcihlLG4scixvPSExLGk9MjQpe2lmKHN1cGVyKCksdGhpcy5ibG9ja0xlbj1lLHRoaXMuc3VmZml4PW4sdGhpcy5vdXRwdXRMZW49cix0aGlzLmVuYWJsZVhPRj1vLHRoaXMucm91bmRzPWksdGhpcy5wb3M9MCx0aGlzLnBvc091dD0wLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsR3QociksMD49dGhpcy5ibG9ja0xlbnx8dGhpcy5ibG9ja0xlbj49MjAwKXRocm93IG5ldyBFcnJvcihcIlNoYTMgc3VwcG9ydHMgb25seSBrZWNjYWstZjE2MDAgZnVuY3Rpb25cIik7dGhpcy5zdGF0ZT1uZXcgVWludDhBcnJheSgyMDApLHRoaXMuc3RhdGUzMj1DaSh0aGlzLnN0YXRlKX1rZWNjYWsoKXtYbnx8Sm4odGhpcy5zdGF0ZTMyKSxaaSh0aGlzLnN0YXRlMzIsdGhpcy5yb3VuZHMpLFhufHxKbih0aGlzLnN0YXRlMzIpLHRoaXMucG9zT3V0PTAsdGhpcy5wb3M9MH11cGRhdGUoZSl7VHQodGhpcyk7Y29uc3R7YmxvY2tMZW46bixzdGF0ZTpyfT10aGlzO2U9X3QoZSk7Y29uc3Qgbz1lLmxlbmd0aDtmb3IobGV0IGk9MDtpPG87KXtjb25zdCBzPU1hdGgubWluKG4tdGhpcy5wb3Msby1pKTtmb3IobGV0IGM9MDtjPHM7YysrKXJbdGhpcy5wb3MrK11ePWVbaSsrXTt0aGlzLnBvcz09PW4mJnRoaXMua2VjY2FrKCl9cmV0dXJuIHRoaXN9ZmluaXNoKCl7aWYodGhpcy5maW5pc2hlZClyZXR1cm47dGhpcy5maW5pc2hlZD0hMDtjb25zdHtzdGF0ZTplLHN1ZmZpeDpuLHBvczpyLGJsb2NrTGVuOm99PXRoaXM7ZVtyXV49biwobiYxMjgpIT09MCYmcj09PW8tMSYmdGhpcy5rZWNjYWsoKSxlW28tMV1ePTEyOCx0aGlzLmtlY2NhaygpfXdyaXRlSW50byhlKXtUdCh0aGlzLCExKSxXdChlKSx0aGlzLmZpbmlzaCgpO2NvbnN0IG49dGhpcy5zdGF0ZSx7YmxvY2tMZW46cn09dGhpcztmb3IobGV0IG89MCxpPWUubGVuZ3RoO288aTspe3RoaXMucG9zT3V0Pj1yJiZ0aGlzLmtlY2NhaygpO2NvbnN0IHM9TWF0aC5taW4oci10aGlzLnBvc091dCxpLW8pO2Uuc2V0KG4uc3ViYXJyYXkodGhpcy5wb3NPdXQsdGhpcy5wb3NPdXQrcyksbyksdGhpcy5wb3NPdXQrPXMsbys9c31yZXR1cm4gZX14b2ZJbnRvKGUpe2lmKCF0aGlzLmVuYWJsZVhPRil0aHJvdyBuZXcgRXJyb3IoXCJYT0YgaXMgbm90IHBvc3NpYmxlIGZvciB0aGlzIGluc3RhbmNlXCIpO3JldHVybiB0aGlzLndyaXRlSW50byhlKX14b2YoZSl7cmV0dXJuIEd0KGUpLHRoaXMueG9mSW50byhuZXcgVWludDhBcnJheShlKSl9ZGlnZXN0SW50byhlKXtpZihHbihlLHRoaXMpLHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiZGlnZXN0KCkgd2FzIGFscmVhZHkgY2FsbGVkXCIpO3JldHVybiB0aGlzLndyaXRlSW50byhlKSx0aGlzLmRlc3Ryb3koKSxlfWRpZ2VzdCgpe3JldHVybiB0aGlzLmRpZ2VzdEludG8obmV3IFVpbnQ4QXJyYXkodGhpcy5vdXRwdXRMZW4pKX1kZXN0cm95KCl7dGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5zdGF0ZS5maWxsKDApfV9jbG9uZUludG8oZSl7Y29uc3R7YmxvY2tMZW46bixzdWZmaXg6cixvdXRwdXRMZW46byxyb3VuZHM6aSxlbmFibGVYT0Y6c309dGhpcztyZXR1cm4gZXx8KGU9bmV3IEVuKG4scixvLHMsaSkpLGUuc3RhdGUzMi5zZXQodGhpcy5zdGF0ZTMyKSxlLnBvcz10aGlzLnBvcyxlLnBvc091dD10aGlzLnBvc091dCxlLmZpbmlzaGVkPXRoaXMuZmluaXNoZWQsZS5yb3VuZHM9aSxlLnN1ZmZpeD1yLGUub3V0cHV0TGVuPW8sZS5lbmFibGVYT0Y9cyxlLmRlc3Ryb3llZD10aGlzLmRlc3Ryb3llZCxlfX1jb25zdCBZaT0odCxlLG4pPT5RbigoKT0+bmV3IEVuKGUsdCxuKSksR2k9WWkoMSwxMzYsMjU2LzgpLFdpPVwiaHR0cHM6Ly9ycGMud2FsbGV0Y29ubmVjdC5vcmcvdjFcIjtmdW5jdGlvbiBrZSh0KXtjb25zdCBlPWBcdTAwMTlFdGhlcmV1bSBTaWduZWQgTWVzc2FnZTpcbiR7dC5sZW5ndGh9YCxuPW5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShlK3QpO3JldHVyblwiMHhcIitCdWZmZXIuZnJvbShHaShuKSkudG9TdHJpbmcoXCJoZXhcIil9YXN5bmMgZnVuY3Rpb24gaXIodCxlLG4scixvLGkpe3N3aXRjaChuLnQpe2Nhc2VcImVpcDE5MVwiOnJldHVybiBhd2FpdCBzcih0LGUsbi5zKTtjYXNlXCJlaXAxMjcxXCI6cmV0dXJuIGF3YWl0IGNyKHQsZSxuLnMscixvLGkpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB2ZXJpZnlTaWduYXR1cmUgZmFpbGVkOiBBdHRlbXB0ZWQgdG8gdmVyaWZ5IENhY2FvU2lnbmF0dXJlIHdpdGggdW5rbm93biB0eXBlOiAke24udH1gKX19YXN5bmMgZnVuY3Rpb24gc3IodCxlLG4pe3JldHVybihhd2FpdCBrbyh7aGFzaDprZShlKSxzaWduYXR1cmU6bn0pKS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfWFzeW5jIGZ1bmN0aW9uIGNyKHQsZSxuLHIsbyxpKXtjb25zdCBzPUllKHIpO2lmKCFzLm5hbWVzcGFjZXx8IXMucmVmZXJlbmNlKXRocm93IG5ldyBFcnJvcihgaXNWYWxpZEVpcDEyNzFTaWduYXR1cmUgZmFpbGVkOiBjaGFpbklkIG11c3QgYmUgaW4gQ0FJUC0yIGZvcm1hdCwgcmVjZWl2ZWQ6ICR7cn1gKTt0cnl7Y29uc3QgYz1cIjB4MTYyNmJhN2VcIixhPVwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MFwiLHU9XCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQxXCIsbD1uLnN1YnN0cmluZygyKSxmPWtlKGUpLnN1YnN0cmluZygyKSxoPWMrZithK3UrbCx5PWF3YWl0IGZldGNoKGAke2l8fFdpfS8/Y2hhaW5JZD0ke3J9JnByb2plY3RJZD0ke299YCx7bWV0aG9kOlwiUE9TVFwiLGJvZHk6SlNPTi5zdHJpbmdpZnkoe2lkOlhpKCksanNvbnJwYzpcIjIuMFwiLG1ldGhvZDpcImV0aF9jYWxsXCIscGFyYW1zOlt7dG86dCxkYXRhOmh9LFwibGF0ZXN0XCJdfSl9KSx7cmVzdWx0OkV9PWF3YWl0IHkuanNvbigpO3JldHVybiBFP0Uuc2xpY2UoMCxjLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PWMudG9Mb3dlckNhc2UoKTohMX1jYXRjaChjKXtyZXR1cm4gY29uc29sZS5lcnJvcihcImlzVmFsaWRFaXAxMjcxU2lnbmF0dXJlOiBcIixjKSwhMX19ZnVuY3Rpb24gWGkoKXtyZXR1cm4gRGF0ZS5ub3coKStNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMWUzKX1mdW5jdGlvbiBKaSh0KXtjb25zdCBlPWF0b2IodCksbj1uZXcgVWludDhBcnJheShlLmxlbmd0aCk7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspbltzXT1lLmNoYXJDb2RlQXQocyk7Y29uc3Qgcj1uWzBdO2lmKHI9PT0wKXRocm93IG5ldyBFcnJvcihcIk5vIHNpZ25hdHVyZXMgZm91bmRcIik7Y29uc3Qgbz0xK3IqNjQ7aWYobi5sZW5ndGg8byl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2FjdGlvbiBkYXRhIHRvbyBzaG9ydCBmb3IgY2xhaW1lZCBzaWduYXR1cmUgY291bnRcIik7aWYobi5sZW5ndGg8MTAwKXRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIHRvbyBzaG9ydFwiKTtjb25zdCBpPUJ1ZmZlci5mcm9tKHQsXCJiYXNlNjRcIikuc2xpY2UoMSw2NSk7cmV0dXJuIFZvLmVuY29kZShpKX12YXIgUWk9T2JqZWN0LmRlZmluZVByb3BlcnR5LHRzPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLGVzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLGFyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsbnM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxycz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLHVyPSh0LGUsbik9PmUgaW4gdD9RaSh0LGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm59KTp0W2VdPW4sVmU9KHQsZSk9Pntmb3IodmFyIG4gaW4gZXx8KGU9e30pKW5zLmNhbGwoZSxuKSYmdXIodCxuLGVbbl0pO2lmKGFyKWZvcih2YXIgbiBvZiBhcihlKSlycy5jYWxsKGUsbikmJnVyKHQsbixlW25dKTtyZXR1cm4gdH0sZnI9KHQsZSk9PnRzKHQsZXMoZSkpO2NvbnN0IG9zPVwiZGlkOnBraDpcIixmZT10PT50Py5zcGxpdChcIjpcIiksbHI9dD0+e2NvbnN0IGU9dCYmZmUodCk7aWYoZSlyZXR1cm4gdC5pbmNsdWRlcyhvcyk/ZVszXTplWzFdfSxkcj10PT57Y29uc3QgZT10JiZmZSh0KTtpZihlKXJldHVybiBlWzJdK1wiOlwiK2VbM119LE1lPXQ9Pntjb25zdCBlPXQmJmZlKHQpO2lmKGUpcmV0dXJuIGUucG9wKCl9O2FzeW5jIGZ1bmN0aW9uIGlzKHQpe2NvbnN0e2NhY2FvOmUscHJvamVjdElkOm59PXQse3M6cixwOm99PWUsaT1ocihvLG8uaXNzKSxzPU1lKG8uaXNzKTtyZXR1cm4gYXdhaXQgaXIocyxpLHIsZHIoby5pc3MpLG4pfWNvbnN0IGhyPSh0LGUpPT57Y29uc3Qgbj1gJHt0LmRvbWFpbn0gd2FudHMgeW91IHRvIHNpZ24gaW4gd2l0aCB5b3VyIEV0aGVyZXVtIGFjY291bnQ6YCxyPU1lKGUpO2lmKCF0LmF1ZCYmIXQudXJpKXRocm93IG5ldyBFcnJvcihcIkVpdGhlciBgYXVkYCBvciBgdXJpYCBpcyByZXF1aXJlZCB0byBjb25zdHJ1Y3QgdGhlIG1lc3NhZ2VcIik7bGV0IG89dC5zdGF0ZW1lbnR8fHZvaWQgMDtjb25zdCBpPWBVUkk6ICR7dC5hdWR8fHQudXJpfWAscz1gVmVyc2lvbjogJHt0LnZlcnNpb259YCxjPWBDaGFpbiBJRDogJHtscihlKX1gLGE9YE5vbmNlOiAke3Qubm9uY2V9YCx1PWBJc3N1ZWQgQXQ6ICR7dC5pYXR9YCxsPXQuZXhwP2BFeHBpcmF0aW9uIFRpbWU6ICR7dC5leHB9YDp2b2lkIDAsZj10Lm5iZj9gTm90IEJlZm9yZTogJHt0Lm5iZn1gOnZvaWQgMCxoPXQucmVxdWVzdElkP2BSZXF1ZXN0IElEOiAke3QucmVxdWVzdElkfWA6dm9pZCAwLHk9dC5yZXNvdXJjZXM/YFJlc291cmNlczoke3QucmVzb3VyY2VzLm1hcChwPT5gXG4tICR7cH1gKS5qb2luKFwiXCIpfWA6dm9pZCAwLEU9ZGUodC5yZXNvdXJjZXMpO2lmKEUpe2NvbnN0IHA9eXQoRSk7bz1xZShvLHApfXJldHVybltuLHIsXCJcIixvLFwiXCIsaSxzLGMsYSx1LGwsZixoLHldLmZpbHRlcihwPT5wIT1udWxsKS5qb2luKGBcbmApfTtmdW5jdGlvbiBzcyh0LGUsbil7cmV0dXJuIG4uaW5jbHVkZXMoXCJkaWQ6cGtoOlwiKXx8KG49YGRpZDpwa2g6JHtufWApLHtoOnt0OlwiY2FpcDEyMlwifSxwOntpc3M6bixkb21haW46dC5kb21haW4sYXVkOnQuYXVkLHZlcnNpb246dC52ZXJzaW9uLG5vbmNlOnQubm9uY2UsaWF0OnQuaWF0LHN0YXRlbWVudDp0LnN0YXRlbWVudCxyZXF1ZXN0SWQ6dC5yZXF1ZXN0SWQscmVzb3VyY2VzOnQucmVzb3VyY2VzLG5iZjp0Lm5iZixleHA6dC5leHB9LHM6ZX19ZnVuY3Rpb24gY3ModCl7dmFyIGU7Y29uc3R7YXV0aFBheWxvYWQ6bixjaGFpbnM6cixtZXRob2RzOm99PXQsaT1uLnN0YXRlbWVudHx8XCJcIjtpZighKHIhPW51bGwmJnIubGVuZ3RoKSlyZXR1cm4gbjtjb25zdCBzPW4uY2hhaW5zLGM9JGUocyxyKTtpZighKGMhPW51bGwmJmMubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJObyBzdXBwb3J0ZWQgY2hhaW5zXCIpO2NvbnN0IGE9cHIobi5yZXNvdXJjZXMpO2lmKCFhKXJldHVybiBuO2N0KGEpO2NvbnN0IHU9Z3IoYSxcImVpcDE1NVwiKTtsZXQgbD1uPy5yZXNvdXJjZXN8fFtdO2lmKHUhPW51bGwmJnUubGVuZ3RoKXtjb25zdCBmPXlyKHUpLGg9JGUoZixvKTtpZighKGghPW51bGwmJmgubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoYFN1cHBvcnRlZCBtZXRob2RzIGRvbid0IHNhdGlzZnkgdGhlIHJlcXVlc3RlZDogJHtKU09OLnN0cmluZ2lmeShmKX0sIHN1cHBvcnRlZDogJHtKU09OLnN0cmluZ2lmeShvKX1gKTtjb25zdCB5PURlKFwicmVxdWVzdFwiLGgse2NoYWluczpjfSksRT1FcihhLFwiZWlwMTU1XCIseSk7bD0oKGU9bj8ucmVzb3VyY2VzKT09bnVsbD92b2lkIDA6ZS5zbGljZSgwLC0xKSl8fFtdLGwucHVzaChsZShFKSl9cmV0dXJuIGZyKFZlKHt9LG4pLHtzdGF0ZW1lbnQ6eHIoaSxkZShsKSksY2hhaW5zOmMscmVzb3VyY2VzOm4hPW51bGwmJm4ucmVzb3VyY2VzfHxsLmxlbmd0aD4wP2w6dm9pZCAwfSl9ZnVuY3Rpb24gcHIodCl7Y29uc3QgZT1kZSh0KTtpZihlJiZIZShlKSlyZXR1cm4geXQoZSl9ZnVuY3Rpb24gYXModCxlKXt2YXIgbjtyZXR1cm4obj10Py5hdHQpPT1udWxsP3ZvaWQgMDpuLmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIGdyKHQsZSl7dmFyIG4scjtyZXR1cm4obj10Py5hdHQpIT1udWxsJiZuW2VdP09iamVjdC5rZXlzKChyPXQ/LmF0dCk9PW51bGw/dm9pZCAwOnJbZV0pOltdfWZ1bmN0aW9uIHVzKHQpe3JldHVybiB0Py5tYXAoZT0+T2JqZWN0LmtleXMoZSkpfHxbXX1mdW5jdGlvbiB5cih0KXtyZXR1cm4gdD8ubWFwKGU9Pnt2YXIgbjtyZXR1cm4obj1lLnNwbGl0KFwiL1wiKSk9PW51bGw/dm9pZCAwOm5bMV19KXx8W119ZnVuY3Rpb24gbXIodCl7cmV0dXJuIEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHQpKS50b1N0cmluZyhcImJhc2U2NFwiKX1mdW5jdGlvbiB3cih0KXtyZXR1cm4gSlNPTi5wYXJzZShCdWZmZXIuZnJvbSh0LFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmLThcIikpfWZ1bmN0aW9uIGN0KHQpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIk5vIHJlY2FwIHByb3ZpZGVkLCB2YWx1ZSBpcyB1bmRlZmluZWRcIik7aWYoIXQuYXR0KXRocm93IG5ldyBFcnJvcihcIk5vIGBhdHRgIHByb3BlcnR5IGZvdW5kXCIpO2NvbnN0IGU9T2JqZWN0LmtleXModC5hdHQpO2lmKCEoZSE9bnVsbCYmZS5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihcIk5vIHJlc291cmNlcyBmb3VuZCBpbiBgYXR0YCBwcm9wZXJ0eVwiKTtlLmZvckVhY2gobj0+e2NvbnN0IHI9dC5hdHRbbl07aWYoQXJyYXkuaXNBcnJheShyKSl0aHJvdyBuZXcgRXJyb3IoYFJlc291cmNlIG11c3QgYmUgYW4gb2JqZWN0OiAke259YCk7aWYodHlwZW9mIHIhPVwib2JqZWN0XCIpdGhyb3cgbmV3IEVycm9yKGBSZXNvdXJjZSBtdXN0IGJlIGFuIG9iamVjdDogJHtufWApO2lmKCFPYmplY3Qua2V5cyhyKS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBSZXNvdXJjZSBvYmplY3QgaXMgZW1wdHk6ICR7bn1gKTtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKG89Pntjb25zdCBpPXJbb107aWYoIUFycmF5LmlzQXJyYXkoaSkpdGhyb3cgbmV3IEVycm9yKGBBYmlsaXR5IGxpbWl0cyAke299IG11c3QgYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZm91bmQ6ICR7aX1gKTtpZighaS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBWYWx1ZSBvZiAke299IGlzIGVtcHR5IGFycmF5LCBtdXN0IGJlIGFuIGFycmF5IHdpdGggb2JqZWN0c2ApO2kuZm9yRWFjaChzPT57aWYodHlwZW9mIHMhPVwib2JqZWN0XCIpdGhyb3cgbmV3IEVycm9yKGBBYmlsaXR5IGxpbWl0cyAoJHtvfSkgbXVzdCBiZSBhbiBhcnJheSBvZiBvYmplY3RzLCBmb3VuZDogJHtzfWApfSl9KX0pfWZ1bmN0aW9uIGJyKHQsZSxuLHI9e30pe3JldHVybiBuPy5zb3J0KChvLGkpPT5vLmxvY2FsZUNvbXBhcmUoaSkpLHthdHQ6e1t0XTpEZShlLG4scil9fX1mdW5jdGlvbiBFcih0LGUsbil7dmFyIHI7dC5hdHRbZV09VmUoe30sbik7Y29uc3Qgbz0ocj1PYmplY3Qua2V5cyh0LmF0dCkpPT1udWxsP3ZvaWQgMDpyLnNvcnQoKHMsYyk9PnMubG9jYWxlQ29tcGFyZShjKSksaT17YXR0Ont9fTtyZXR1cm4gby5yZWR1Y2UoKHMsYyk9PihzLmF0dFtjXT10LmF0dFtjXSxzKSxpKX1mdW5jdGlvbiBEZSh0LGUsbj17fSl7ZT1lPy5zb3J0KChvLGkpPT5vLmxvY2FsZUNvbXBhcmUoaSkpO2NvbnN0IHI9ZS5tYXAobz0+KHtbYCR7dH0vJHtvfWBdOltuXX0pKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwuLi5yKX1mdW5jdGlvbiBsZSh0KXtyZXR1cm4gY3QodCksYHVybjpyZWNhcDoke21yKHQpLnJlcGxhY2UoLz0vZyxcIlwiKX1gfWZ1bmN0aW9uIHl0KHQpe2NvbnN0IGU9d3IodC5yZXBsYWNlKFwidXJuOnJlY2FwOlwiLFwiXCIpKTtyZXR1cm4gY3QoZSksZX1mdW5jdGlvbiBmcyh0LGUsbil7Y29uc3Qgcj1icih0LGUsbik7cmV0dXJuIGxlKHIpfWZ1bmN0aW9uIEhlKHQpe3JldHVybiB0JiZ0LmluY2x1ZGVzKFwidXJuOnJlY2FwOlwiKX1mdW5jdGlvbiBscyh0LGUpe2NvbnN0IG49eXQodCkscj15dChlKSxvPXZyKG4scik7cmV0dXJuIGxlKG8pfWZ1bmN0aW9uIHZyKHQsZSl7Y3QodCksY3QoZSk7Y29uc3Qgbj1PYmplY3Qua2V5cyh0LmF0dCkuY29uY2F0KE9iamVjdC5rZXlzKGUuYXR0KSkuc29ydCgobyxpKT0+by5sb2NhbGVDb21wYXJlKGkpKSxyPXthdHQ6e319O3JldHVybiBuLmZvckVhY2gobz0+e3ZhciBpLHM7T2JqZWN0LmtleXMoKChpPXQuYXR0KT09bnVsbD92b2lkIDA6aVtvXSl8fHt9KS5jb25jYXQoT2JqZWN0LmtleXMoKChzPWUuYXR0KT09bnVsbD92b2lkIDA6c1tvXSl8fHt9KSkuc29ydCgoYyxhKT0+Yy5sb2NhbGVDb21wYXJlKGEpKS5mb3JFYWNoKGM9Pnt2YXIgYSx1O3IuYXR0W29dPWZyKFZlKHt9LHIuYXR0W29dKSx7W2NdOigoYT10LmF0dFtvXSk9PW51bGw/dm9pZCAwOmFbY10pfHwoKHU9ZS5hdHRbb10pPT1udWxsP3ZvaWQgMDp1W2NdKX0pfSl9KSxyfWZ1bmN0aW9uIHFlKHQ9XCJcIixlKXtjdChlKTtjb25zdCBuPVwiSSBmdXJ0aGVyIGF1dGhvcml6ZSB0aGUgc3RhdGVkIFVSSSB0byBwZXJmb3JtIHRoZSBmb2xsb3dpbmcgYWN0aW9ucyBvbiBteSBiZWhhbGY6IFwiO2lmKHQuaW5jbHVkZXMobikpcmV0dXJuIHQ7Y29uc3Qgcj1bXTtsZXQgbz0wO09iamVjdC5rZXlzKGUuYXR0KS5mb3JFYWNoKGM9Pntjb25zdCBhPU9iamVjdC5rZXlzKGUuYXR0W2NdKS5tYXAoZj0+KHthYmlsaXR5OmYuc3BsaXQoXCIvXCIpWzBdLGFjdGlvbjpmLnNwbGl0KFwiL1wiKVsxXX0pKTthLnNvcnQoKGYsaCk9PmYuYWN0aW9uLmxvY2FsZUNvbXBhcmUoaC5hY3Rpb24pKTtjb25zdCB1PXt9O2EuZm9yRWFjaChmPT57dVtmLmFiaWxpdHldfHwodVtmLmFiaWxpdHldPVtdKSx1W2YuYWJpbGl0eV0ucHVzaChmLmFjdGlvbil9KTtjb25zdCBsPU9iamVjdC5rZXlzKHUpLm1hcChmPT4obysrLGAoJHtvfSkgJyR7Zn0nOiAnJHt1W2ZdLmpvaW4oXCInLCAnXCIpfScgZm9yICcke2N9Jy5gKSk7ci5wdXNoKGwuam9pbihcIiwgXCIpLnJlcGxhY2UoXCIuLFwiLFwiLlwiKSl9KTtjb25zdCBpPXIuam9pbihcIiBcIikscz1gJHtufSR7aX1gO3JldHVybmAke3Q/dCtcIiBcIjpcIlwifSR7c31gfWZ1bmN0aW9uIGRzKHQpe3ZhciBlO2NvbnN0IG49eXQodCk7Y3Qobik7Y29uc3Qgcj0oZT1uLmF0dCk9PW51bGw/dm9pZCAwOmUuZWlwMTU1O3JldHVybiByP09iamVjdC5rZXlzKHIpLm1hcChvPT5vLnNwbGl0KFwiL1wiKVsxXSk6W119ZnVuY3Rpb24gaHModCl7Y29uc3QgZT15dCh0KTtjdChlKTtjb25zdCBuPVtdO3JldHVybiBPYmplY3QudmFsdWVzKGUuYXR0KS5mb3JFYWNoKHI9PntPYmplY3QudmFsdWVzKHIpLmZvckVhY2gobz0+e3ZhciBpOyhpPW8/LlswXSkhPW51bGwmJmkuY2hhaW5zJiZuLnB1c2gob1swXS5jaGFpbnMpfSl9KSxbLi4ubmV3IFNldChuLmZsYXQoKSldfWZ1bmN0aW9uIHhyKHQsZSl7aWYoIWUpcmV0dXJuIHQ7Y29uc3Qgbj15dChlKTtyZXR1cm4gY3QobikscWUodCxuKX1mdW5jdGlvbiBkZSh0KXtpZighdClyZXR1cm47Y29uc3QgZT10Py5bdC5sZW5ndGgtMV07cmV0dXJuIEhlKGUpP2U6dm9pZCAwfWZ1bmN0aW9uIEtlKHQpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KXx8dDwwKXRocm93IG5ldyBFcnJvcihcInBvc2l0aXZlIGludGVnZXIgZXhwZWN0ZWQsIGdvdCBcIit0KX1mdW5jdGlvbiBTcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEFycmF5QnVmZmVyLmlzVmlldyh0KSYmdC5jb25zdHJ1Y3Rvci5uYW1lPT09XCJVaW50OEFycmF5XCJ9ZnVuY3Rpb24gdHQodCwuLi5lKXtpZighU3IodCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKTtpZihlLmxlbmd0aD4wJiYhZS5pbmNsdWRlcyh0Lmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggXCIrZStcIiwgZ290IGxlbmd0aD1cIit0Lmxlbmd0aCl9ZnVuY3Rpb24gT3IodCxlPSEwKXtpZih0LmRlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoIGluc3RhbmNlIGhhcyBiZWVuIGRlc3Ryb3llZFwiKTtpZihlJiZ0LmZpbmlzaGVkKXRocm93IG5ldyBFcnJvcihcIkhhc2gjZGlnZXN0KCkgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWRcIil9ZnVuY3Rpb24gcHModCxlKXt0dCh0KTtjb25zdCBuPWUub3V0cHV0TGVuO2lmKHQubGVuZ3RoPG4pdGhyb3cgbmV3IEVycm9yKFwiZGlnZXN0SW50bygpIGV4cGVjdHMgb3V0cHV0IGJ1ZmZlciBvZiBsZW5ndGggYXQgbGVhc3QgXCIrbil9ZnVuY3Rpb24gQXIodCl7aWYodHlwZW9mIHQhPVwiYm9vbGVhblwiKXRocm93IG5ldyBFcnJvcihgYm9vbGVhbiBleHBlY3RlZCwgbm90ICR7dH1gKX1jb25zdCBtdD10PT5uZXcgVWludDMyQXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LE1hdGguZmxvb3IodC5ieXRlTGVuZ3RoLzQpKSxncz10PT5uZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCkseXM9bmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQzMkFycmF5KFsyODc0NTQwMjBdKS5idWZmZXIpWzBdPT09Njg7aWYoIXlzKXRocm93IG5ldyBFcnJvcihcIk5vbiBsaXR0bGUtZW5kaWFuIGhhcmR3YXJlIGlzIG5vdCBzdXBwb3J0ZWRcIik7ZnVuY3Rpb24gbXModCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwic3RyaW5nIGV4cGVjdGVkXCIpO3JldHVybiBuZXcgVWludDhBcnJheShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCkpfWZ1bmN0aW9uIEZlKHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXQ9bXModCk7ZWxzZSBpZihTcih0KSl0PXplKHQpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtyZXR1cm4gdH1mdW5jdGlvbiB3cyh0LGUpe2lmKGU9PW51bGx8fHR5cGVvZiBlIT1cIm9iamVjdFwiKXRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMgbXVzdCBiZSBkZWZpbmVkXCIpO3JldHVybiBPYmplY3QuYXNzaWduKHQsZSl9ZnVuY3Rpb24gYnModCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2xldCBuPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspbnw9dFtyXV5lW3JdO3JldHVybiBuPT09MH1jb25zdCBFcz0odCxlKT0+e2Z1bmN0aW9uIG4ociwuLi5vKXtpZih0dChyKSx0Lm5vbmNlTGVuZ3RoIT09dm9pZCAwKXtjb25zdCBsPW9bMF07aWYoIWwpdGhyb3cgbmV3IEVycm9yKFwibm9uY2UgLyBpdiByZXF1aXJlZFwiKTt0LnZhclNpemVOb25jZT90dChsKTp0dChsLHQubm9uY2VMZW5ndGgpfWNvbnN0IGk9dC50YWdMZW5ndGg7aSYmb1sxXSE9PXZvaWQgMCYmdHQob1sxXSk7Y29uc3Qgcz1lKHIsLi4ubyksYz0obCxmKT0+e2lmKGYhPT12b2lkIDApe2lmKGwhPT0yKXRocm93IG5ldyBFcnJvcihcImNpcGhlciBvdXRwdXQgbm90IHN1cHBvcnRlZFwiKTt0dChmKX19O2xldCBhPSExO3JldHVybntlbmNyeXB0KGwsZil7aWYoYSl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZW5jcnlwdCgpIHR3aWNlIHdpdGggc2FtZSBrZXkgKyBub25jZVwiKTtyZXR1cm4gYT0hMCx0dChsKSxjKHMuZW5jcnlwdC5sZW5ndGgsZikscy5lbmNyeXB0KGwsZil9LGRlY3J5cHQobCxmKXtpZih0dChsKSxpJiZsLmxlbmd0aDxpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgY2lwaGVydGV4dCBsZW5ndGg6IHNtYWxsZXIgdGhhbiB0YWdMZW5ndGg9XCIraSk7cmV0dXJuIGMocy5kZWNyeXB0Lmxlbmd0aCxmKSxzLmRlY3J5cHQobCxmKX19fXJldHVybiBPYmplY3QuYXNzaWduKG4sdCksbn07ZnVuY3Rpb24gQnIodCxlLG49ITApe2lmKGU9PT12b2lkIDApcmV0dXJuIG5ldyBVaW50OEFycmF5KHQpO2lmKGUubGVuZ3RoIT09dCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG91dHB1dCBsZW5ndGgsIGV4cGVjdGVkIFwiK3QrXCIsIGdvdDogXCIrZS5sZW5ndGgpO2lmKG4mJiF2cyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG91dHB1dCwgbXVzdCBiZSBhbGlnbmVkXCIpO3JldHVybiBlfWZ1bmN0aW9uIElyKHQsZSxuLHIpe2lmKHR5cGVvZiB0LnNldEJpZ1VpbnQ2ND09XCJmdW5jdGlvblwiKXJldHVybiB0LnNldEJpZ1VpbnQ2NChlLG4scik7Y29uc3Qgbz1CaWdJbnQoMzIpLGk9QmlnSW50KDQyOTQ5NjcyOTUpLHM9TnVtYmVyKG4+Pm8maSksYz1OdW1iZXIobiZpKSxhPXI/NDowLHU9cj8wOjQ7dC5zZXRVaW50MzIoZSthLHMsciksdC5zZXRVaW50MzIoZSt1LGMscil9ZnVuY3Rpb24gdnModCl7cmV0dXJuIHQuYnl0ZU9mZnNldCU0PT09MH1mdW5jdGlvbiB6ZSh0KXtyZXR1cm4gVWludDhBcnJheS5mcm9tKHQpfWZ1bmN0aW9uIEx0KC4uLnQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV0uZmlsbCgwKX1jb25zdCBOcj10PT5VaW50OEFycmF5LmZyb20odC5zcGxpdChcIlwiKS5tYXAoZT0+ZS5jaGFyQ29kZUF0KDApKSkseHM9TnIoXCJleHBhbmQgMTYtYnl0ZSBrXCIpLFNzPU5yKFwiZXhwYW5kIDMyLWJ5dGUga1wiKSxPcz1tdCh4cyksQXM9bXQoU3MpO2Z1bmN0aW9uIFYodCxlKXtyZXR1cm4gdDw8ZXx0Pj4+MzItZX1mdW5jdGlvbiBaZSh0KXtyZXR1cm4gdC5ieXRlT2Zmc2V0JTQ9PT0wfWNvbnN0IGhlPTY0LEJzPTE2LFVyPTIqKjMyLTEsVHI9bmV3IFVpbnQzMkFycmF5O2Z1bmN0aW9uIElzKHQsZSxuLHIsbyxpLHMsYyl7Y29uc3QgYT1vLmxlbmd0aCx1PW5ldyBVaW50OEFycmF5KGhlKSxsPW10KHUpLGY9WmUobykmJlplKGkpLGg9Zj9tdChvKTpUcix5PWY/bXQoaSk6VHI7Zm9yKGxldCBFPTA7RTxhO3MrKyl7aWYodChlLG4scixsLHMsYykscz49VXIpdGhyb3cgbmV3IEVycm9yKFwiYXJ4OiBjb3VudGVyIG92ZXJmbG93XCIpO2NvbnN0IHA9TWF0aC5taW4oaGUsYS1FKTtpZihmJiZwPT09aGUpe2NvbnN0IGQ9RS80O2lmKEUlNCE9PTApdGhyb3cgbmV3IEVycm9yKFwiYXJ4OiBpbnZhbGlkIGJsb2NrIHBvc2l0aW9uXCIpO2ZvcihsZXQgdj0wLG07djxCczt2KyspbT1kK3YseVttXT1oW21dXmxbdl07RSs9aGU7Y29udGludWV9Zm9yKGxldCBkPTAsdjtkPHA7ZCsrKXY9RStkLGlbdl09b1t2XV51W2RdO0UrPXB9fWZ1bmN0aW9uIE5zKHQsZSl7Y29uc3R7YWxsb3dTaG9ydEtleXM6bixleHRlbmROb25jZUZuOnIsY291bnRlckxlbmd0aDpvLGNvdW50ZXJSaWdodDppLHJvdW5kczpzfT13cyh7YWxsb3dTaG9ydEtleXM6ITEsY291bnRlckxlbmd0aDo4LGNvdW50ZXJSaWdodDohMSxyb3VuZHM6MjB9LGUpO2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEVycm9yKFwiY29yZSBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIEtlKG8pLEtlKHMpLEFyKGkpLEFyKG4pLChjLGEsdSxsLGY9MCk9Pnt0dChjKSx0dChhKSx0dCh1KTtjb25zdCBoPXUubGVuZ3RoO2lmKGw9PT12b2lkIDAmJihsPW5ldyBVaW50OEFycmF5KGgpKSx0dChsKSxLZShmKSxmPDB8fGY+PVVyKXRocm93IG5ldyBFcnJvcihcImFyeDogY291bnRlciBvdmVyZmxvd1wiKTtpZihsLmxlbmd0aDxoKXRocm93IG5ldyBFcnJvcihgYXJ4OiBvdXRwdXQgKCR7bC5sZW5ndGh9KSBpcyBzaG9ydGVyIHRoYW4gZGF0YSAoJHtofSlgKTtjb25zdCB5PVtdO2xldCBFPWMubGVuZ3RoLHAsZDtpZihFPT09MzIpeS5wdXNoKHA9emUoYykpLGQ9QXM7ZWxzZSBpZihFPT09MTYmJm4pcD1uZXcgVWludDhBcnJheSgzMikscC5zZXQoYykscC5zZXQoYywxNiksZD1Pcyx5LnB1c2gocCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYGFyeDogaW52YWxpZCAzMi1ieXRlIGtleSwgZ290IGxlbmd0aD0ke0V9YCk7WmUoYSl8fHkucHVzaChhPXplKGEpKTtjb25zdCB2PW10KHApO2lmKHIpe2lmKGEubGVuZ3RoIT09MjQpdGhyb3cgbmV3IEVycm9yKFwiYXJ4OiBleHRlbmRlZCBub25jZSBtdXN0IGJlIDI0IGJ5dGVzXCIpO3IoZCx2LG10KGEuc3ViYXJyYXkoMCwxNikpLHYpLGE9YS5zdWJhcnJheSgxNil9Y29uc3QgbT0xNi1vO2lmKG0hPT1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYGFyeDogbm9uY2UgbXVzdCBiZSAke219IG9yIDE2IGJ5dGVzYCk7aWYobSE9PTEyKXtjb25zdCBOPW5ldyBVaW50OEFycmF5KDEyKTtOLnNldChhLGk/MDoxMi1hLmxlbmd0aCksYT1OLHkucHVzaChhKX1jb25zdCBPPW10KGEpO3JldHVybiBJcyh0LGQsdixPLHUsbCxmLHMpLEx0KC4uLnkpLGx9fWNvbnN0IEY9KHQsZSk9PnRbZSsrXSYyNTV8KHRbZSsrXSYyNTUpPDw4O2NsYXNzIFVze2NvbnN0cnVjdG9yKGUpe3RoaXMuYmxvY2tMZW49MTYsdGhpcy5vdXRwdXRMZW49MTYsdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoMTYpLHRoaXMucj1uZXcgVWludDE2QXJyYXkoMTApLHRoaXMuaD1uZXcgVWludDE2QXJyYXkoMTApLHRoaXMucGFkPW5ldyBVaW50MTZBcnJheSg4KSx0aGlzLnBvcz0wLHRoaXMuZmluaXNoZWQ9ITEsZT1GZShlKSx0dChlLDMyKTtjb25zdCBuPUYoZSwwKSxyPUYoZSwyKSxvPUYoZSw0KSxpPUYoZSw2KSxzPUYoZSw4KSxjPUYoZSwxMCksYT1GKGUsMTIpLHU9RihlLDE0KTt0aGlzLnJbMF09biY4MTkxLHRoaXMuclsxXT0obj4+PjEzfHI8PDMpJjgxOTEsdGhpcy5yWzJdPShyPj4+MTB8bzw8NikmNzkzOSx0aGlzLnJbM109KG8+Pj43fGk8PDkpJjgxOTEsdGhpcy5yWzRdPShpPj4+NHxzPDwxMikmMjU1LHRoaXMucls1XT1zPj4+MSY4MTkwLHRoaXMucls2XT0ocz4+PjE0fGM8PDIpJjgxOTEsdGhpcy5yWzddPShjPj4+MTF8YTw8NSkmODA2NSx0aGlzLnJbOF09KGE+Pj44fHU8PDgpJjgxOTEsdGhpcy5yWzldPXU+Pj41JjEyNztmb3IobGV0IGw9MDtsPDg7bCsrKXRoaXMucGFkW2xdPUYoZSwxNisyKmwpfXByb2Nlc3MoZSxuLHI9ITEpe2NvbnN0IG89cj8wOjIwNDgse2g6aSxyOnN9PXRoaXMsYz1zWzBdLGE9c1sxXSx1PXNbMl0sbD1zWzNdLGY9c1s0XSxoPXNbNV0seT1zWzZdLEU9c1s3XSxwPXNbOF0sZD1zWzldLHY9RihlLG4rMCksbT1GKGUsbisyKSxPPUYoZSxuKzQpLE49RihlLG4rNiksJD1GKGUsbis4KSxCPUYoZSxuKzEwKSxBPUYoZSxuKzEyKSxUPUYoZSxuKzE0KTtsZXQgUz1pWzBdKyh2JjgxOTEpLEw9aVsxXSsoKHY+Pj4xM3xtPDwzKSY4MTkxKSxVPWlbMl0rKChtPj4+MTB8Tzw8NikmODE5MSksXz1pWzNdKygoTz4+Pjd8Tjw8OSkmODE5MSksaj1pWzRdKygoTj4+PjR8JDw8MTIpJjgxOTEpLGc9aVs1XSsoJD4+PjEmODE5MSksdz1pWzZdKygoJD4+PjE0fEI8PDIpJjgxOTEpLGI9aVs3XSsoKEI+Pj4xMXxBPDw1KSY4MTkxKSxJPWlbOF0rKChBPj4+OHxUPDw4KSY4MTkxKSxSPWlbOV0rKFQ+Pj41fG8pLHg9MCxDPXgrUypjK0wqKDUqZCkrVSooNSpwKStfKig1KkUpK2oqKDUqeSk7eD1DPj4+MTMsQyY9ODE5MSxDKz1nKig1KmgpK3cqKDUqZikrYiooNSpsKStJKig1KnUpK1IqKDUqYSkseCs9Qz4+PjEzLEMmPTgxOTE7bGV0IFA9eCtTKmErTCpjK1UqKDUqZCkrXyooNSpwKStqKig1KkUpO3g9UD4+PjEzLFAmPTgxOTEsUCs9ZyooNSp5KSt3Kig1KmgpK2IqKDUqZikrSSooNSpsKStSKig1KnUpLHgrPVA+Pj4xMyxQJj04MTkxO2xldCBrPXgrUyp1K0wqYStVKmMrXyooNSpkKStqKig1KnApO3g9az4+PjEzLGsmPTgxOTEsays9ZyooNSpFKSt3Kig1KnkpK2IqKDUqaCkrSSooNSpmKStSKig1KmwpLHgrPWs+Pj4xMyxrJj04MTkxO2xldCBNPXgrUypsK0wqdStVKmErXypjK2oqKDUqZCk7eD1NPj4+MTMsTSY9ODE5MSxNKz1nKig1KnApK3cqKDUqRSkrYiooNSp5KStJKig1KmgpK1IqKDUqZikseCs9TT4+PjEzLE0mPTgxOTE7bGV0IEQ9eCtTKmYrTCpsK1UqdStfKmEraipjO3g9RD4+PjEzLEQmPTgxOTEsRCs9ZyooNSpkKSt3Kig1KnApK2IqKDUqRSkrSSooNSp5KStSKig1KmgpLHgrPUQ+Pj4xMyxEJj04MTkxO2xldCB6PXgrUypoK0wqZitVKmwrXyp1K2oqYTt4PXo+Pj4xMyx6Jj04MTkxLHorPWcqYyt3Kig1KmQpK2IqKDUqcCkrSSooNSpFKStSKig1KnkpLHgrPXo+Pj4xMyx6Jj04MTkxO2xldCBaPXgrUyp5K0wqaCtVKmYrXypsK2oqdTt4PVo+Pj4xMyxaJj04MTkxLForPWcqYSt3KmMrYiooNSpkKStJKig1KnApK1IqKDUqRSkseCs9Wj4+PjEzLFomPTgxOTE7bGV0IGl0PXgrUypFK0wqeStVKmgrXypmK2oqbDt4PWl0Pj4+MTMsaXQmPTgxOTEsaXQrPWcqdSt3KmErYipjK0kqKDUqZCkrUiooNSpwKSx4Kz1pdD4+PjEzLGl0Jj04MTkxO2xldCBXPXgrUypwK0wqRStVKnkrXypoK2oqZjt4PVc+Pj4xMyxXJj04MTkxLFcrPWcqbCt3KnUrYiphK0kqYytSKig1KmQpLHgrPVc+Pj4xMyxXJj04MTkxO2xldCBKPXgrUypkK0wqcCtVKkUrXyp5K2oqaDt4PUo+Pj4xMyxKJj04MTkxLEorPWcqZit3KmwrYip1K0kqYStSKmMseCs9Sj4+PjEzLEomPTgxOTEseD0oeDw8MikreHwwLHg9eCtDfDAsQz14JjgxOTEseD14Pj4+MTMsUCs9eCxpWzBdPUMsaVsxXT1QLGlbMl09ayxpWzNdPU0saVs0XT1ELGlbNV09eixpWzZdPVosaVs3XT1pdCxpWzhdPVcsaVs5XT1KfWZpbmFsaXplKCl7Y29uc3R7aDplLHBhZDpufT10aGlzLHI9bmV3IFVpbnQxNkFycmF5KDEwKTtsZXQgbz1lWzFdPj4+MTM7ZVsxXSY9ODE5MTtmb3IobGV0IGM9MjtjPDEwO2MrKyllW2NdKz1vLG89ZVtjXT4+PjEzLGVbY10mPTgxOTE7ZVswXSs9byo1LG89ZVswXT4+PjEzLGVbMF0mPTgxOTEsZVsxXSs9byxvPWVbMV0+Pj4xMyxlWzFdJj04MTkxLGVbMl0rPW8sclswXT1lWzBdKzUsbz1yWzBdPj4+MTMsclswXSY9ODE5MTtmb3IobGV0IGM9MTtjPDEwO2MrKylyW2NdPWVbY10rbyxvPXJbY10+Pj4xMyxyW2NdJj04MTkxO3JbOV0tPTgxOTI7bGV0IGk9KG9eMSktMTtmb3IobGV0IGM9MDtjPDEwO2MrKylyW2NdJj1pO2k9fmk7Zm9yKGxldCBjPTA7YzwxMDtjKyspZVtjXT1lW2NdJml8cltjXTtlWzBdPShlWzBdfGVbMV08PDEzKSY2NTUzNSxlWzFdPShlWzFdPj4+M3xlWzJdPDwxMCkmNjU1MzUsZVsyXT0oZVsyXT4+PjZ8ZVszXTw8NykmNjU1MzUsZVszXT0oZVszXT4+Pjl8ZVs0XTw8NCkmNjU1MzUsZVs0XT0oZVs0XT4+PjEyfGVbNV08PDF8ZVs2XTw8MTQpJjY1NTM1LGVbNV09KGVbNl0+Pj4yfGVbN108PDExKSY2NTUzNSxlWzZdPShlWzddPj4+NXxlWzhdPDw4KSY2NTUzNSxlWzddPShlWzhdPj4+OHxlWzldPDw1KSY2NTUzNTtsZXQgcz1lWzBdK25bMF07ZVswXT1zJjY1NTM1O2ZvcihsZXQgYz0xO2M8ODtjKyspcz0oZVtjXStuW2NdfDApKyhzPj4+MTYpfDAsZVtjXT1zJjY1NTM1O0x0KHIpfXVwZGF0ZShlKXtPcih0aGlzKTtjb25zdHtidWZmZXI6bixibG9ja0xlbjpyfT10aGlzO2U9RmUoZSk7Y29uc3Qgbz1lLmxlbmd0aDtmb3IobGV0IGk9MDtpPG87KXtjb25zdCBzPU1hdGgubWluKHItdGhpcy5wb3Msby1pKTtpZihzPT09cil7Zm9yKDtyPD1vLWk7aSs9cil0aGlzLnByb2Nlc3MoZSxpKTtjb250aW51ZX1uLnNldChlLnN1YmFycmF5KGksaStzKSx0aGlzLnBvcyksdGhpcy5wb3MrPXMsaSs9cyx0aGlzLnBvcz09PXImJih0aGlzLnByb2Nlc3MobiwwLCExKSx0aGlzLnBvcz0wKX1yZXR1cm4gdGhpc31kZXN0cm95KCl7THQodGhpcy5oLHRoaXMucix0aGlzLmJ1ZmZlcix0aGlzLnBhZCl9ZGlnZXN0SW50byhlKXtPcih0aGlzKSxwcyhlLHRoaXMpLHRoaXMuZmluaXNoZWQ9ITA7Y29uc3R7YnVmZmVyOm4saDpyfT10aGlzO2xldHtwb3M6b309dGhpcztpZihvKXtmb3IobltvKytdPTE7bzwxNjtvKyspbltvXT0wO3RoaXMucHJvY2VzcyhuLDAsITApfXRoaXMuZmluYWxpemUoKTtsZXQgaT0wO2ZvcihsZXQgcz0wO3M8ODtzKyspZVtpKytdPXJbc10+Pj4wLGVbaSsrXT1yW3NdPj4+ODtyZXR1cm4gZX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9fWZ1bmN0aW9uIFRzKHQpe2NvbnN0IGU9KHIsbyk9PnQobykudXBkYXRlKEZlKHIpKS5kaWdlc3QoKSxuPXQobmV3IFVpbnQ4QXJyYXkoMzIpKTtyZXR1cm4gZS5vdXRwdXRMZW49bi5vdXRwdXRMZW4sZS5ibG9ja0xlbj1uLmJsb2NrTGVuLGUuY3JlYXRlPXI9PnQociksZX1jb25zdCBScz1Ucyh0PT5uZXcgVXModCkpO2Z1bmN0aW9uIF9zKHQsZSxuLHIsbyxpPTIwKXtsZXQgcz10WzBdLGM9dFsxXSxhPXRbMl0sdT10WzNdLGw9ZVswXSxmPWVbMV0saD1lWzJdLHk9ZVszXSxFPWVbNF0scD1lWzVdLGQ9ZVs2XSx2PWVbN10sbT1vLE89blswXSxOPW5bMV0sJD1uWzJdLEI9cyxBPWMsVD1hLFM9dSxMPWwsVT1mLF89aCxqPXksZz1FLHc9cCxiPWQsST12LFI9bSx4PU8sQz1OLFA9JDtmb3IobGV0IE09MDtNPGk7TSs9MilCPUIrTHwwLFI9VihSXkIsMTYpLGc9ZytSfDAsTD1WKExeZywxMiksQj1CK0x8MCxSPVYoUl5CLDgpLGc9ZytSfDAsTD1WKExeZyw3KSxBPUErVXwwLHg9Vih4XkEsMTYpLHc9dyt4fDAsVT1WKFVedywxMiksQT1BK1V8MCx4PVYoeF5BLDgpLHc9dyt4fDAsVT1WKFVedyw3KSxUPVQrX3wwLEM9VihDXlQsMTYpLGI9YitDfDAsXz1WKF9eYiwxMiksVD1UK198MCxDPVYoQ15ULDgpLGI9YitDfDAsXz1WKF9eYiw3KSxTPVMranwwLFA9VihQXlMsMTYpLEk9SStQfDAsaj1WKGpeSSwxMiksUz1TK2p8MCxQPVYoUF5TLDgpLEk9SStQfDAsaj1WKGpeSSw3KSxCPUIrVXwwLFA9VihQXkIsMTYpLGI9YitQfDAsVT1WKFVeYiwxMiksQj1CK1V8MCxQPVYoUF5CLDgpLGI9YitQfDAsVT1WKFVeYiw3KSxBPUErX3wwLFI9VihSXkEsMTYpLEk9SStSfDAsXz1WKF9eSSwxMiksQT1BK198MCxSPVYoUl5BLDgpLEk9SStSfDAsXz1WKF9eSSw3KSxUPVQranwwLHg9Vih4XlQsMTYpLGc9Zyt4fDAsaj1WKGpeZywxMiksVD1UK2p8MCx4PVYoeF5ULDgpLGc9Zyt4fDAsaj1WKGpeZyw3KSxTPVMrTHwwLEM9VihDXlMsMTYpLHc9dytDfDAsTD1WKExedywxMiksUz1TK0x8MCxDPVYoQ15TLDgpLHc9dytDfDAsTD1WKExedyw3KTtsZXQgaz0wO3JbaysrXT1zK0J8MCxyW2srK109YytBfDAscltrKytdPWErVHwwLHJbaysrXT11K1N8MCxyW2srK109bCtMfDAscltrKytdPWYrVXwwLHJbaysrXT1oK198MCxyW2srK109eStqfDAscltrKytdPUUrZ3wwLHJbaysrXT1wK3d8MCxyW2srK109ZCtifDAscltrKytdPXYrSXwwLHJbaysrXT1tK1J8MCxyW2srK109Tyt4fDAscltrKytdPU4rQ3wwLHJbaysrXT0kK1B8MH1jb25zdCAkcz1Ocyhfcyx7Y291bnRlclJpZ2h0OiExLGNvdW50ZXJMZW5ndGg6NCxhbGxvd1Nob3J0S2V5czohMX0pLExzPW5ldyBVaW50OEFycmF5KDE2KSxScj0odCxlKT0+e3QudXBkYXRlKGUpO2NvbnN0IG49ZS5sZW5ndGglMTY7biYmdC51cGRhdGUoTHMuc3ViYXJyYXkobikpfSxqcz1uZXcgVWludDhBcnJheSgzMik7ZnVuY3Rpb24gX3IodCxlLG4scixvKXtjb25zdCBpPXQoZSxuLGpzKSxzPVJzLmNyZWF0ZShpKTtvJiZScihzLG8pLFJyKHMscik7Y29uc3QgYz1uZXcgVWludDhBcnJheSgxNiksYT1ncyhjKTtJcihhLDAsQmlnSW50KG8/by5sZW5ndGg6MCksITApLElyKGEsOCxCaWdJbnQoci5sZW5ndGgpLCEwKSxzLnVwZGF0ZShjKTtjb25zdCB1PXMuZGlnZXN0KCk7cmV0dXJuIEx0KGksYyksdX1jb25zdCBDcz10PT4oZSxuLHIpPT4oe2VuY3J5cHQoaSxzKXtjb25zdCBjPWkubGVuZ3RoO3M9QnIoYysxNixzLCExKSxzLnNldChpKTtjb25zdCBhPXMuc3ViYXJyYXkoMCwtMTYpO3QoZSxuLGEsYSwxKTtjb25zdCB1PV9yKHQsZSxuLGEscik7cmV0dXJuIHMuc2V0KHUsYyksTHQodSksc30sZGVjcnlwdChpLHMpe3M9QnIoaS5sZW5ndGgtMTYscywhMSk7Y29uc3QgYz1pLnN1YmFycmF5KDAsLTE2KSxhPWkuc3ViYXJyYXkoLTE2KSx1PV9yKHQsZSxuLGMscik7aWYoIWJzKGEsdSkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB0YWdcIik7cmV0dXJuIHMuc2V0KGkuc3ViYXJyYXkoMCwtMTYpKSx0KGUsbixzLHMsMSksTHQodSksc319KSwkcj1Fcyh7YmxvY2tTaXplOjY0LG5vbmNlTGVuZ3RoOjEyLHRhZ0xlbmd0aDoxNn0sQ3MoJHMpKTtjbGFzcyBMciBleHRlbmRzIFBle2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoKSx0aGlzLmZpbmlzaGVkPSExLHRoaXMuZGVzdHJveWVkPSExLGplKGUpO2NvbnN0IHI9X3Qobik7aWYodGhpcy5pSGFzaD1lLmNyZWF0ZSgpLHR5cGVvZiB0aGlzLmlIYXNoLnVwZGF0ZSE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGluc3RhbmNlIG9mIGNsYXNzIHdoaWNoIGV4dGVuZHMgdXRpbHMuSGFzaFwiKTt0aGlzLmJsb2NrTGVuPXRoaXMuaUhhc2guYmxvY2tMZW4sdGhpcy5vdXRwdXRMZW49dGhpcy5pSGFzaC5vdXRwdXRMZW47Y29uc3Qgbz10aGlzLmJsb2NrTGVuLGk9bmV3IFVpbnQ4QXJyYXkobyk7aS5zZXQoci5sZW5ndGg+bz9lLmNyZWF0ZSgpLnVwZGF0ZShyKS5kaWdlc3QoKTpyKTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdXj01NDt0aGlzLmlIYXNoLnVwZGF0ZShpKSx0aGlzLm9IYXNoPWUuY3JlYXRlKCk7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspaVtzXV49MTA2O3RoaXMub0hhc2gudXBkYXRlKGkpLGkuZmlsbCgwKX11cGRhdGUoZSl7cmV0dXJuIFR0KHRoaXMpLHRoaXMuaUhhc2gudXBkYXRlKGUpLHRoaXN9ZGlnZXN0SW50byhlKXtUdCh0aGlzKSxXdChlLHRoaXMub3V0cHV0TGVuKSx0aGlzLmZpbmlzaGVkPSEwLHRoaXMuaUhhc2guZGlnZXN0SW50byhlKSx0aGlzLm9IYXNoLnVwZGF0ZShlKSx0aGlzLm9IYXNoLmRpZ2VzdEludG8oZSksdGhpcy5kZXN0cm95KCl9ZGlnZXN0KCl7Y29uc3QgZT1uZXcgVWludDhBcnJheSh0aGlzLm9IYXNoLm91dHB1dExlbik7cmV0dXJuIHRoaXMuZGlnZXN0SW50byhlKSxlfV9jbG9uZUludG8oZSl7ZXx8KGU9T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykse30pKTtjb25zdHtvSGFzaDpuLGlIYXNoOnIsZmluaXNoZWQ6byxkZXN0cm95ZWQ6aSxibG9ja0xlbjpzLG91dHB1dExlbjpjfT10aGlzO3JldHVybiBlPWUsZS5maW5pc2hlZD1vLGUuZGVzdHJveWVkPWksZS5ibG9ja0xlbj1zLGUub3V0cHV0TGVuPWMsZS5vSGFzaD1uLl9jbG9uZUludG8oZS5vSGFzaCksZS5pSGFzaD1yLl9jbG9uZUludG8oZS5pSGFzaCksZX1kZXN0cm95KCl7dGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5vSGFzaC5kZXN0cm95KCksdGhpcy5pSGFzaC5kZXN0cm95KCl9fWNvbnN0IHBlPSh0LGUsbik9Pm5ldyBMcih0LGUpLnVwZGF0ZShuKS5kaWdlc3QoKTtwZS5jcmVhdGU9KHQsZSk9Pm5ldyBMcih0LGUpO2Z1bmN0aW9uIFBzKHQsZSxuKXtyZXR1cm4gamUodCksbj09PXZvaWQgMCYmKG49bmV3IFVpbnQ4QXJyYXkodC5vdXRwdXRMZW4pKSxwZSh0LF90KG4pLF90KGUpKX1jb25zdCBZZT1uZXcgVWludDhBcnJheShbMF0pLGpyPW5ldyBVaW50OEFycmF5O2Z1bmN0aW9uIGtzKHQsZSxuLHI9MzIpe2lmKGplKHQpLEd0KHIpLHI+MjU1KnQub3V0cHV0TGVuKXRocm93IG5ldyBFcnJvcihcIkxlbmd0aCBzaG91bGQgYmUgPD0gMjU1Kkhhc2hMZW5cIik7Y29uc3Qgbz1NYXRoLmNlaWwoci90Lm91dHB1dExlbik7bj09PXZvaWQgMCYmKG49anIpO2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkobyp0Lm91dHB1dExlbikscz1wZS5jcmVhdGUodCxlKSxjPXMuX2Nsb25lSW50bygpLGE9bmV3IFVpbnQ4QXJyYXkocy5vdXRwdXRMZW4pO2ZvcihsZXQgdT0wO3U8bzt1KyspWWVbMF09dSsxLGMudXBkYXRlKHU9PT0wP2pyOmEpLnVwZGF0ZShuKS51cGRhdGUoWWUpLmRpZ2VzdEludG8oYSksaS5zZXQoYSx0Lm91dHB1dExlbip1KSxzLl9jbG9uZUludG8oYyk7cmV0dXJuIHMuZGVzdHJveSgpLGMuZGVzdHJveSgpLGEuZmlsbCgwKSxZZS5maWxsKDApLGkuc2xpY2UoMCxyKX1jb25zdCBWcz0odCxlLG4scixvKT0+a3ModCxQcyh0LGUsbikscixvKTtmdW5jdGlvbiBNcyh0LGUsbixyKXtpZih0eXBlb2YgdC5zZXRCaWdVaW50NjQ9PVwiZnVuY3Rpb25cIilyZXR1cm4gdC5zZXRCaWdVaW50NjQoZSxuLHIpO2NvbnN0IG89QmlnSW50KDMyKSxpPUJpZ0ludCg0Mjk0OTY3Mjk1KSxzPU51bWJlcihuPj5vJmkpLGM9TnVtYmVyKG4maSksYT1yPzQ6MCx1PXI/MDo0O3Quc2V0VWludDMyKGUrYSxzLHIpLHQuc2V0VWludDMyKGUrdSxjLHIpfWZ1bmN0aW9uIERzKHQsZSxuKXtyZXR1cm4gdCZlXn50Jm59ZnVuY3Rpb24gSHModCxlLG4pe3JldHVybiB0JmVedCZuXmUmbn1jbGFzcyBxcyBleHRlbmRzIFBle2NvbnN0cnVjdG9yKGUsbixyLG8pe3N1cGVyKCksdGhpcy5ibG9ja0xlbj1lLHRoaXMub3V0cHV0TGVuPW4sdGhpcy5wYWRPZmZzZXQ9cix0aGlzLmlzTEU9byx0aGlzLmZpbmlzaGVkPSExLHRoaXMubGVuZ3RoPTAsdGhpcy5wb3M9MCx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheShlKSx0aGlzLnZpZXc9Q2UodGhpcy5idWZmZXIpfXVwZGF0ZShlKXtUdCh0aGlzKTtjb25zdHt2aWV3Om4sYnVmZmVyOnIsYmxvY2tMZW46b309dGhpcztlPV90KGUpO2NvbnN0IGk9ZS5sZW5ndGg7Zm9yKGxldCBzPTA7czxpOyl7Y29uc3QgYz1NYXRoLm1pbihvLXRoaXMucG9zLGktcyk7aWYoYz09PW8pe2NvbnN0IGE9Q2UoZSk7Zm9yKDtvPD1pLXM7cys9byl0aGlzLnByb2Nlc3MoYSxzKTtjb250aW51ZX1yLnNldChlLnN1YmFycmF5KHMscytjKSx0aGlzLnBvcyksdGhpcy5wb3MrPWMscys9Yyx0aGlzLnBvcz09PW8mJih0aGlzLnByb2Nlc3MobiwwKSx0aGlzLnBvcz0wKX1yZXR1cm4gdGhpcy5sZW5ndGgrPWUubGVuZ3RoLHRoaXMucm91bmRDbGVhbigpLHRoaXN9ZGlnZXN0SW50byhlKXtUdCh0aGlzKSxHbihlLHRoaXMpLHRoaXMuZmluaXNoZWQ9ITA7Y29uc3R7YnVmZmVyOm4sdmlldzpyLGJsb2NrTGVuOm8saXNMRTppfT10aGlzO2xldHtwb3M6c309dGhpcztuW3MrK109MTI4LHRoaXMuYnVmZmVyLnN1YmFycmF5KHMpLmZpbGwoMCksdGhpcy5wYWRPZmZzZXQ+by1zJiYodGhpcy5wcm9jZXNzKHIsMCkscz0wKTtmb3IobGV0IGY9cztmPG87ZisrKW5bZl09MDtNcyhyLG8tOCxCaWdJbnQodGhpcy5sZW5ndGgqOCksaSksdGhpcy5wcm9jZXNzKHIsMCk7Y29uc3QgYz1DZShlKSxhPXRoaXMub3V0cHV0TGVuO2lmKGElNCl0aHJvdyBuZXcgRXJyb3IoXCJfc2hhMjogb3V0cHV0TGVuIHNob3VsZCBiZSBhbGlnbmVkIHRvIDMyYml0XCIpO2NvbnN0IHU9YS80LGw9dGhpcy5nZXQoKTtpZih1PmwubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIl9zaGEyOiBvdXRwdXRMZW4gYmlnZ2VyIHRoYW4gc3RhdGVcIik7Zm9yKGxldCBmPTA7Zjx1O2YrKyljLnNldFVpbnQzMig0KmYsbFtmXSxpKX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46bn09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgcj1lLnNsaWNlKDAsbik7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHJ9X2Nsb25lSW50byhlKXtlfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3RvciksZS5zZXQoLi4udGhpcy5nZXQoKSk7Y29uc3R7YmxvY2tMZW46bixidWZmZXI6cixsZW5ndGg6byxmaW5pc2hlZDppLGRlc3Ryb3llZDpzLHBvczpjfT10aGlzO3JldHVybiBlLmxlbmd0aD1vLGUucG9zPWMsZS5maW5pc2hlZD1pLGUuZGVzdHJveWVkPXMsbyVuJiZlLmJ1ZmZlci5zZXQociksZX19Y29uc3QgS3M9bmV3IFVpbnQzMkFycmF5KFsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdKSx3dD1uZXcgVWludDMyQXJyYXkoWzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XSksYnQ9bmV3IFVpbnQzMkFycmF5KDY0KTtjbGFzcyBGcyBleHRlbmRzIHFze2NvbnN0cnVjdG9yKCl7c3VwZXIoNjQsMzIsOCwhMSksdGhpcy5BPXd0WzBdfDAsdGhpcy5CPXd0WzFdfDAsdGhpcy5DPXd0WzJdfDAsdGhpcy5EPXd0WzNdfDAsdGhpcy5FPXd0WzRdfDAsdGhpcy5GPXd0WzVdfDAsdGhpcy5HPXd0WzZdfDAsdGhpcy5IPXd0WzddfDB9Z2V0KCl7Y29uc3R7QTplLEI6bixDOnIsRDpvLEU6aSxGOnMsRzpjLEg6YX09dGhpcztyZXR1cm5bZSxuLHIsbyxpLHMsYyxhXX1zZXQoZSxuLHIsbyxpLHMsYyxhKXt0aGlzLkE9ZXwwLHRoaXMuQj1ufDAsdGhpcy5DPXJ8MCx0aGlzLkQ9b3wwLHRoaXMuRT1pfDAsdGhpcy5GPXN8MCx0aGlzLkc9Y3wwLHRoaXMuSD1hfDB9cHJvY2VzcyhlLG4pe2ZvcihsZXQgZj0wO2Y8MTY7ZisrLG4rPTQpYnRbZl09ZS5nZXRVaW50MzIobiwhMSk7Zm9yKGxldCBmPTE2O2Y8NjQ7ZisrKXtjb25zdCBoPWJ0W2YtMTVdLHk9YnRbZi0yXSxFPXN0KGgsNylec3QoaCwxOCleaD4+PjMscD1zdCh5LDE3KV5zdCh5LDE5KV55Pj4+MTA7YnRbZl09cCtidFtmLTddK0UrYnRbZi0xNl18MH1sZXR7QTpyLEI6byxDOmksRDpzLEU6YyxGOmEsRzp1LEg6bH09dGhpcztmb3IobGV0IGY9MDtmPDY0O2YrKyl7Y29uc3QgaD1zdChjLDYpXnN0KGMsMTEpXnN0KGMsMjUpLHk9bCtoK0RzKGMsYSx1KStLc1tmXStidFtmXXwwLHA9KHN0KHIsMilec3QociwxMylec3QociwyMikpK0hzKHIsbyxpKXwwO2w9dSx1PWEsYT1jLGM9cyt5fDAscz1pLGk9byxvPXIscj15K3B8MH1yPXIrdGhpcy5BfDAsbz1vK3RoaXMuQnwwLGk9aSt0aGlzLkN8MCxzPXMrdGhpcy5EfDAsYz1jK3RoaXMuRXwwLGE9YSt0aGlzLkZ8MCx1PXUrdGhpcy5HfDAsbD1sK3RoaXMuSHwwLHRoaXMuc2V0KHIsbyxpLHMsYyxhLHUsbCl9cm91bmRDbGVhbigpe2J0LmZpbGwoMCl9ZGVzdHJveSgpe3RoaXMuc2V0KDAsMCwwLDAsMCwwLDAsMCksdGhpcy5idWZmZXIuZmlsbCgwKX19Y29uc3QgSnQ9UW4oKCk9Pm5ldyBGcyk7LyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqL2NvbnN0IGdlPUJpZ0ludCgwKSx5ZT1CaWdJbnQoMSksenM9QmlnSW50KDIpO2Z1bmN0aW9uIFN0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIn1mdW5jdGlvbiBRdCh0KXtpZighU3QodCkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKX1mdW5jdGlvbiBqdCh0LGUpe2lmKHR5cGVvZiBlIT1cImJvb2xlYW5cIil0aHJvdyBuZXcgRXJyb3IodCtcIiBib29sZWFuIGV4cGVjdGVkLCBnb3QgXCIrZSl9Y29uc3QgWnM9QXJyYXkuZnJvbSh7bGVuZ3RoOjI1Nn0sKHQsZSk9PmUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKTtmdW5jdGlvbiBDdCh0KXtRdCh0KTtsZXQgZT1cIlwiO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWUrPVpzW3Rbbl1dO3JldHVybiBlfWZ1bmN0aW9uIFB0KHQpe2NvbnN0IGU9dC50b1N0cmluZygxNik7cmV0dXJuIGUubGVuZ3RoJjE/XCIwXCIrZTplfWZ1bmN0aW9uIEdlKHQpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBcIit0eXBlb2YgdCk7cmV0dXJuIHQ9PT1cIlwiP2dlOkJpZ0ludChcIjB4XCIrdCl9Y29uc3QgdXQ9e18wOjQ4LF85OjU3LEE6NjUsRjo3MCxhOjk3LGY6MTAyfTtmdW5jdGlvbiBDcih0KXtpZih0Pj11dC5fMCYmdDw9dXQuXzkpcmV0dXJuIHQtdXQuXzA7aWYodD49dXQuQSYmdDw9dXQuRilyZXR1cm4gdC0odXQuQS0xMCk7aWYodD49dXQuYSYmdDw9dXQuZilyZXR1cm4gdC0odXQuYS0xMCl9ZnVuY3Rpb24ga3QodCl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiB0KTtjb25zdCBlPXQubGVuZ3RoLG49ZS8yO2lmKGUlMil0aHJvdyBuZXcgRXJyb3IoXCJoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgdW5wYWRkZWQgaGV4IG9mIGxlbmd0aCBcIitlKTtjb25zdCByPW5ldyBVaW50OEFycmF5KG4pO2ZvcihsZXQgbz0wLGk9MDtvPG47bysrLGkrPTIpe2NvbnN0IHM9Q3IodC5jaGFyQ29kZUF0KGkpKSxjPUNyKHQuY2hhckNvZGVBdChpKzEpKTtpZihzPT09dm9pZCAwfHxjPT09dm9pZCAwKXtjb25zdCBhPXRbaV0rdFtpKzFdO3Rocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IG5vbi1oZXggY2hhcmFjdGVyIFwiJythKydcIiBhdCBpbmRleCAnK2kpfXJbb109cyoxNitjfXJldHVybiByfWZ1bmN0aW9uIE90KHQpe3JldHVybiBHZShDdCh0KSl9ZnVuY3Rpb24gdGUodCl7cmV0dXJuIFF0KHQpLEdlKEN0KFVpbnQ4QXJyYXkuZnJvbSh0KS5yZXZlcnNlKCkpKX1mdW5jdGlvbiBWdCh0LGUpe3JldHVybiBrdCh0LnRvU3RyaW5nKDE2KS5wYWRTdGFydChlKjIsXCIwXCIpKX1mdW5jdGlvbiBtZSh0LGUpe3JldHVybiBWdCh0LGUpLnJldmVyc2UoKX1mdW5jdGlvbiBZcyh0KXtyZXR1cm4ga3QoUHQodCkpfWZ1bmN0aW9uIGV0KHQsZSxuKXtsZXQgcjtpZih0eXBlb2YgZT09XCJzdHJpbmdcIil0cnl7cj1rdChlKX1jYXRjaChpKXt0aHJvdyBuZXcgRXJyb3IodCtcIiBtdXN0IGJlIGhleCBzdHJpbmcgb3IgVWludDhBcnJheSwgY2F1c2U6IFwiK2kpfWVsc2UgaWYoU3QoZSkpcj1VaW50OEFycmF5LmZyb20oZSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IodCtcIiBtdXN0IGJlIGhleCBzdHJpbmcgb3IgVWludDhBcnJheVwiKTtjb25zdCBvPXIubGVuZ3RoO2lmKHR5cGVvZiBuPT1cIm51bWJlclwiJiZvIT09bil0aHJvdyBuZXcgRXJyb3IodCtcIiBvZiBsZW5ndGggXCIrbitcIiBleHBlY3RlZCwgZ290IFwiK28pO3JldHVybiByfWZ1bmN0aW9uIGVlKC4uLnQpe2xldCBlPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG89dFtyXTtRdChvKSxlKz1vLmxlbmd0aH1jb25zdCBuPW5ldyBVaW50OEFycmF5KGUpO2ZvcihsZXQgcj0wLG89MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3QgaT10W3JdO24uc2V0KGksbyksbys9aS5sZW5ndGh9cmV0dXJuIG59ZnVuY3Rpb24gR3ModCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2xldCBuPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspbnw9dFtyXV5lW3JdO3JldHVybiBuPT09MH1mdW5jdGlvbiBXcyh0KXtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoXCJzdHJpbmcgZXhwZWN0ZWRcIik7cmV0dXJuIG5ldyBVaW50OEFycmF5KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KSl9Y29uc3QgV2U9dD0+dHlwZW9mIHQ9PVwiYmlnaW50XCImJmdlPD10O2Z1bmN0aW9uIHdlKHQsZSxuKXtyZXR1cm4gV2UodCkmJldlKGUpJiZXZShuKSYmZTw9dCYmdDxufWZ1bmN0aW9uIGZ0KHQsZSxuLHIpe2lmKCF3ZShlLG4scikpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgdmFsaWQgXCIrdCtcIjogXCIrbitcIiA8PSBuIDwgXCIrcitcIiwgZ290IFwiK2UpfWZ1bmN0aW9uIFByKHQpe2xldCBlO2ZvcihlPTA7dD5nZTt0Pj49eWUsZSs9MSk7cmV0dXJuIGV9ZnVuY3Rpb24gWHModCxlKXtyZXR1cm4gdD4+QmlnSW50KGUpJnllfWZ1bmN0aW9uIEpzKHQsZSxuKXtyZXR1cm4gdHwobj95ZTpnZSk8PEJpZ0ludChlKX1jb25zdCBYZT10PT4oenM8PEJpZ0ludCh0LTEpKS15ZSxKZT10PT5uZXcgVWludDhBcnJheSh0KSxrcj10PT5VaW50OEFycmF5LmZyb20odCk7ZnVuY3Rpb24gVnIodCxlLG4pe2lmKHR5cGVvZiB0IT1cIm51bWJlclwifHx0PDIpdGhyb3cgbmV3IEVycm9yKFwiaGFzaExlbiBtdXN0IGJlIGEgbnVtYmVyXCIpO2lmKHR5cGVvZiBlIT1cIm51bWJlclwifHxlPDIpdGhyb3cgbmV3IEVycm9yKFwicUJ5dGVMZW4gbXVzdCBiZSBhIG51bWJlclwiKTtpZih0eXBlb2YgbiE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcImhtYWNGbiBtdXN0IGJlIGEgZnVuY3Rpb25cIik7bGV0IHI9SmUodCksbz1KZSh0KSxpPTA7Y29uc3Qgcz0oKT0+e3IuZmlsbCgxKSxvLmZpbGwoMCksaT0wfSxjPSguLi5mKT0+bihvLHIsLi4uZiksYT0oZj1KZSgpKT0+e289YyhrcihbMF0pLGYpLHI9YygpLGYubGVuZ3RoIT09MCYmKG89YyhrcihbMV0pLGYpLHI9YygpKX0sdT0oKT0+e2lmKGkrKz49MWUzKXRocm93IG5ldyBFcnJvcihcImRyYmc6IHRyaWVkIDEwMDAgdmFsdWVzXCIpO2xldCBmPTA7Y29uc3QgaD1bXTtmb3IoO2Y8ZTspe3I9YygpO2NvbnN0IHk9ci5zbGljZSgpO2gucHVzaCh5KSxmKz1yLmxlbmd0aH1yZXR1cm4gZWUoLi4uaCl9O3JldHVybihmLGgpPT57cygpLGEoZik7bGV0IHk7Zm9yKDshKHk9aCh1KCkpKTspYSgpO3JldHVybiBzKCkseX19Y29uc3QgUXM9e2JpZ2ludDp0PT50eXBlb2YgdD09XCJiaWdpbnRcIixmdW5jdGlvbjp0PT50eXBlb2YgdD09XCJmdW5jdGlvblwiLGJvb2xlYW46dD0+dHlwZW9mIHQ9PVwiYm9vbGVhblwiLHN0cmluZzp0PT50eXBlb2YgdD09XCJzdHJpbmdcIixzdHJpbmdPclVpbnQ4QXJyYXk6dD0+dHlwZW9mIHQ9PVwic3RyaW5nXCJ8fFN0KHQpLGlzU2FmZUludGVnZXI6dD0+TnVtYmVyLmlzU2FmZUludGVnZXIodCksYXJyYXk6dD0+QXJyYXkuaXNBcnJheSh0KSxmaWVsZDoodCxlKT0+ZS5GcC5pc1ZhbGlkKHQpLGhhc2g6dD0+dHlwZW9mIHQ9PVwiZnVuY3Rpb25cIiYmTnVtYmVyLmlzU2FmZUludGVnZXIodC5vdXRwdXRMZW4pfTtmdW5jdGlvbiBNdCh0LGUsbj17fSl7Y29uc3Qgcj0obyxpLHMpPT57Y29uc3QgYz1Rc1tpXTtpZih0eXBlb2YgYyE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgdmFsaWRhdG9yIGZ1bmN0aW9uXCIpO2NvbnN0IGE9dFtvXTtpZighKHMmJmE9PT12b2lkIDApJiYhYyhhLHQpKXRocm93IG5ldyBFcnJvcihcInBhcmFtIFwiK1N0cmluZyhvKStcIiBpcyBpbnZhbGlkLiBFeHBlY3RlZCBcIitpK1wiLCBnb3QgXCIrYSl9O2Zvcihjb25zdFtvLGldb2YgT2JqZWN0LmVudHJpZXMoZSkpcihvLGksITEpO2Zvcihjb25zdFtvLGldb2YgT2JqZWN0LmVudHJpZXMobikpcihvLGksITApO3JldHVybiB0fWNvbnN0IHRjPSgpPT57dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfTtmdW5jdGlvbiBRZSh0KXtjb25zdCBlPW5ldyBXZWFrTWFwO3JldHVybihuLC4uLnIpPT57Y29uc3Qgbz1lLmdldChuKTtpZihvIT09dm9pZCAwKXJldHVybiBvO2NvbnN0IGk9dChuLC4uLnIpO3JldHVybiBlLnNldChuLGkpLGl9fXZhciBlYz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpc0J5dGVzOlN0LGFieXRlczpRdCxhYm9vbDpqdCxieXRlc1RvSGV4OkN0LG51bWJlclRvSGV4VW5wYWRkZWQ6UHQsaGV4VG9OdW1iZXI6R2UsaGV4VG9CeXRlczprdCxieXRlc1RvTnVtYmVyQkU6T3QsYnl0ZXNUb051bWJlckxFOnRlLG51bWJlclRvQnl0ZXNCRTpWdCxudW1iZXJUb0J5dGVzTEU6bWUsbnVtYmVyVG9WYXJCeXRlc0JFOllzLGVuc3VyZUJ5dGVzOmV0LGNvbmNhdEJ5dGVzOmVlLGVxdWFsQnl0ZXM6R3MsdXRmOFRvQnl0ZXM6V3MsaW5SYW5nZTp3ZSxhSW5SYW5nZTpmdCxiaXRMZW46UHIsYml0R2V0OlhzLGJpdFNldDpKcyxiaXRNYXNrOlhlLGNyZWF0ZUhtYWNEcmJnOlZyLHZhbGlkYXRlT2JqZWN0Ok10LG5vdEltcGxlbWVudGVkOnRjLG1lbW9pemVkOlFlfSk7Y29uc3QgcT1CaWdJbnQoMCksSD1CaWdJbnQoMSksQXQ9QmlnSW50KDIpLG5jPUJpZ0ludCgzKSx0bj1CaWdJbnQoNCksTXI9QmlnSW50KDUpLERyPUJpZ0ludCg4KTtmdW5jdGlvbiBYKHQsZSl7Y29uc3Qgbj10JWU7cmV0dXJuIG4+PXE/bjplK259ZnVuY3Rpb24gSHIodCxlLG4pe2lmKGU8cSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGV4cG9uZW50LCBuZWdhdGl2ZXMgdW5zdXBwb3J0ZWRcIik7aWYobjw9cSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG1vZHVsdXNcIik7aWYobj09PUgpcmV0dXJuIHE7bGV0IHI9SDtmb3IoO2U+cTspZSZIJiYocj1yKnQlbiksdD10KnQlbixlPj49SDtyZXR1cm4gcn1mdW5jdGlvbiBvdCh0LGUsbil7bGV0IHI9dDtmb3IoO2UtLSA+cTspcio9cixyJT1uO3JldHVybiByfWZ1bmN0aW9uIGVuKHQsZSl7aWYodD09PXEpdGhyb3cgbmV3IEVycm9yKFwiaW52ZXJ0OiBleHBlY3RlZCBub24temVybyBudW1iZXJcIik7aWYoZTw9cSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZlcnQ6IGV4cGVjdGVkIHBvc2l0aXZlIG1vZHVsdXMsIGdvdCBcIitlKTtsZXQgbj1YKHQsZSkscj1lLG89cSxpPUg7Zm9yKDtuIT09cTspe2NvbnN0IGM9ci9uLGE9ciVuLHU9by1pKmM7cj1uLG49YSxvPWksaT11fWlmKHIhPT1IKXRocm93IG5ldyBFcnJvcihcImludmVydDogZG9lcyBub3QgZXhpc3RcIik7cmV0dXJuIFgobyxlKX1mdW5jdGlvbiByYyh0KXtjb25zdCBlPSh0LUgpL0F0O2xldCBuLHIsbztmb3Iobj10LUgscj0wO24lQXQ9PT1xO24vPUF0LHIrKyk7Zm9yKG89QXQ7bzx0JiZIcihvLGUsdCkhPT10LUg7bysrKWlmKG8+MWUzKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290OiBsaWtlbHkgbm9uLXByaW1lIFBcIik7aWYocj09PTEpe2NvbnN0IHM9KHQrSCkvdG47cmV0dXJuIGZ1bmN0aW9uKGEsdSl7Y29uc3QgbD1hLnBvdyh1LHMpO2lmKCFhLmVxbChhLnNxcihsKSx1KSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKTtyZXR1cm4gbH19Y29uc3QgaT0obitIKS9BdDtyZXR1cm4gZnVuY3Rpb24oYyxhKXtpZihjLnBvdyhhLGUpPT09Yy5uZWcoYy5PTkUpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO2xldCB1PXIsbD1jLnBvdyhjLm11bChjLk9ORSxvKSxuKSxmPWMucG93KGEsaSksaD1jLnBvdyhhLG4pO2Zvcig7IWMuZXFsKGgsYy5PTkUpOyl7aWYoYy5lcWwoaCxjLlpFUk8pKXJldHVybiBjLlpFUk87bGV0IHk9MTtmb3IobGV0IHA9Yy5zcXIoaCk7eTx1JiYhYy5lcWwocCxjLk9ORSk7eSsrKXA9Yy5zcXIocCk7Y29uc3QgRT1jLnBvdyhsLEg8PEJpZ0ludCh1LXktMSkpO2w9Yy5zcXIoRSksZj1jLm11bChmLEUpLGg9Yy5tdWwoaCxsKSx1PXl9cmV0dXJuIGZ9fWZ1bmN0aW9uIG9jKHQpe2lmKHQldG49PT1uYyl7Y29uc3QgZT0odCtIKS90bjtyZXR1cm4gZnVuY3Rpb24ocixvKXtjb25zdCBpPXIucG93KG8sZSk7aWYoIXIuZXFsKHIuc3FyKGkpLG8pKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO3JldHVybiBpfX1pZih0JURyPT09TXIpe2NvbnN0IGU9KHQtTXIpL0RyO3JldHVybiBmdW5jdGlvbihyLG8pe2NvbnN0IGk9ci5tdWwobyxBdCkscz1yLnBvdyhpLGUpLGM9ci5tdWwobyxzKSxhPXIubXVsKHIubXVsKGMsQXQpLHMpLHU9ci5tdWwoYyxyLnN1YihhLHIuT05FKSk7aWYoIXIuZXFsKHIuc3FyKHUpLG8pKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO3JldHVybiB1fX1yZXR1cm4gcmModCl9Y29uc3QgaWM9W1wiY3JlYXRlXCIsXCJpc1ZhbGlkXCIsXCJpczBcIixcIm5lZ1wiLFwiaW52XCIsXCJzcXJ0XCIsXCJzcXJcIixcImVxbFwiLFwiYWRkXCIsXCJzdWJcIixcIm11bFwiLFwicG93XCIsXCJkaXZcIixcImFkZE5cIixcInN1Yk5cIixcIm11bE5cIixcInNxck5cIl07ZnVuY3Rpb24gc2ModCl7Y29uc3QgZT17T1JERVI6XCJiaWdpbnRcIixNQVNLOlwiYmlnaW50XCIsQllURVM6XCJpc1NhZmVJbnRlZ2VyXCIsQklUUzpcImlzU2FmZUludGVnZXJcIn0sbj1pYy5yZWR1Y2UoKHIsbyk9PihyW29dPVwiZnVuY3Rpb25cIixyKSxlKTtyZXR1cm4gTXQodCxuKX1mdW5jdGlvbiBjYyh0LGUsbil7aWYobjxxKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgZXhwb25lbnQsIG5lZ2F0aXZlcyB1bnN1cHBvcnRlZFwiKTtpZihuPT09cSlyZXR1cm4gdC5PTkU7aWYobj09PUgpcmV0dXJuIGU7bGV0IHI9dC5PTkUsbz1lO2Zvcig7bj5xOyluJkgmJihyPXQubXVsKHIsbykpLG89dC5zcXIobyksbj4+PUg7cmV0dXJuIHJ9ZnVuY3Rpb24gYWModCxlKXtjb25zdCBuPW5ldyBBcnJheShlLmxlbmd0aCkscj1lLnJlZHVjZSgoaSxzLGMpPT50LmlzMChzKT9pOihuW2NdPWksdC5tdWwoaSxzKSksdC5PTkUpLG89dC5pbnYocik7cmV0dXJuIGUucmVkdWNlUmlnaHQoKGkscyxjKT0+dC5pczAocyk/aToobltjXT10Lm11bChpLG5bY10pLHQubXVsKGkscykpLG8pLG59ZnVuY3Rpb24gcXIodCxlKXtjb25zdCBuPWUhPT12b2lkIDA/ZTp0LnRvU3RyaW5nKDIpLmxlbmd0aCxyPU1hdGguY2VpbChuLzgpO3JldHVybntuQml0TGVuZ3RoOm4sbkJ5dGVMZW5ndGg6cn19ZnVuY3Rpb24gS3IodCxlLG49ITEscj17fSl7aWYodDw9cSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZpZWxkOiBleHBlY3RlZCBPUkRFUiA+IDAsIGdvdCBcIit0KTtjb25zdHtuQml0TGVuZ3RoOm8sbkJ5dGVMZW5ndGg6aX09cXIodCxlKTtpZihpPjIwNDgpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZDogZXhwZWN0ZWQgT1JERVIgb2YgPD0gMjA0OCBieXRlc1wiKTtsZXQgcztjb25zdCBjPU9iamVjdC5mcmVlemUoe09SREVSOnQsaXNMRTpuLEJJVFM6byxCWVRFUzppLE1BU0s6WGUobyksWkVSTzpxLE9ORTpILGNyZWF0ZTphPT5YKGEsdCksaXNWYWxpZDphPT57aWYodHlwZW9mIGEhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmaWVsZCBlbGVtZW50OiBleHBlY3RlZCBiaWdpbnQsIGdvdCBcIit0eXBlb2YgYSk7cmV0dXJuIHE8PWEmJmE8dH0saXMwOmE9PmE9PT1xLGlzT2RkOmE9PihhJkgpPT09SCxuZWc6YT0+WCgtYSx0KSxlcWw6KGEsdSk9PmE9PT11LHNxcjphPT5YKGEqYSx0KSxhZGQ6KGEsdSk9PlgoYSt1LHQpLHN1YjooYSx1KT0+WChhLXUsdCksbXVsOihhLHUpPT5YKGEqdSx0KSxwb3c6KGEsdSk9PmNjKGMsYSx1KSxkaXY6KGEsdSk9PlgoYSplbih1LHQpLHQpLHNxck46YT0+YSphLGFkZE46KGEsdSk9PmErdSxzdWJOOihhLHUpPT5hLXUsbXVsTjooYSx1KT0+YSp1LGludjphPT5lbihhLHQpLHNxcnQ6ci5zcXJ0fHwoYT0+KHN8fChzPW9jKHQpKSxzKGMsYSkpKSxpbnZlcnRCYXRjaDphPT5hYyhjLGEpLGNtb3Y6KGEsdSxsKT0+bD91OmEsdG9CeXRlczphPT5uP21lKGEsaSk6VnQoYSxpKSxmcm9tQnl0ZXM6YT0+e2lmKGEubGVuZ3RoIT09aSl0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZC5mcm9tQnl0ZXM6IGV4cGVjdGVkIFwiK2krXCIgYnl0ZXMsIGdvdCBcIithLmxlbmd0aCk7cmV0dXJuIG4/dGUoYSk6T3QoYSl9fSk7cmV0dXJuIE9iamVjdC5mcmVlemUoYyl9ZnVuY3Rpb24gRnIodCl7aWYodHlwZW9mIHQhPVwiYmlnaW50XCIpdGhyb3cgbmV3IEVycm9yKFwiZmllbGQgb3JkZXIgbXVzdCBiZSBiaWdpbnRcIik7Y29uc3QgZT10LnRvU3RyaW5nKDIpLmxlbmd0aDtyZXR1cm4gTWF0aC5jZWlsKGUvOCl9ZnVuY3Rpb24genIodCl7Y29uc3QgZT1Gcih0KTtyZXR1cm4gZStNYXRoLmNlaWwoZS8yKX1mdW5jdGlvbiB1Yyh0LGUsbj0hMSl7Y29uc3Qgcj10Lmxlbmd0aCxvPUZyKGUpLGk9enIoZSk7aWYocjwxNnx8cjxpfHxyPjEwMjQpdGhyb3cgbmV3IEVycm9yKFwiZXhwZWN0ZWQgXCIraStcIi0xMDI0IGJ5dGVzIG9mIGlucHV0LCBnb3QgXCIrcik7Y29uc3Qgcz1uP3RlKHQpOk90KHQpLGM9WChzLGUtSCkrSDtyZXR1cm4gbj9tZShjLG8pOlZ0KGMsbyl9Y29uc3QgWnI9QmlnSW50KDApLGJlPUJpZ0ludCgxKTtmdW5jdGlvbiBubih0LGUpe2NvbnN0IG49ZS5uZWdhdGUoKTtyZXR1cm4gdD9uOmV9ZnVuY3Rpb24gWXIodCxlKXtpZighTnVtYmVyLmlzU2FmZUludGVnZXIodCl8fHQ8PTB8fHQ+ZSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHdpbmRvdyBzaXplLCBleHBlY3RlZCBbMS4uXCIrZStcIl0sIGdvdCBXPVwiK3QpfWZ1bmN0aW9uIHJuKHQsZSl7WXIodCxlKTtjb25zdCBuPU1hdGguY2VpbChlL3QpKzEscj0yKioodC0xKTtyZXR1cm57d2luZG93czpuLHdpbmRvd1NpemU6cn19ZnVuY3Rpb24gZmModCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBleHBlY3RlZFwiKTt0LmZvckVhY2goKG4scik9PntpZighKG4gaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBvaW50IGF0IGluZGV4IFwiK3IpfSl9ZnVuY3Rpb24gbGModCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheSBvZiBzY2FsYXJzIGV4cGVjdGVkXCIpO3QuZm9yRWFjaCgobixyKT0+e2lmKCFlLmlzVmFsaWQobikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzY2FsYXIgYXQgaW5kZXggXCIrcil9KX1jb25zdCBvbj1uZXcgV2Vha01hcCxHcj1uZXcgV2Vha01hcDtmdW5jdGlvbiBzbih0KXtyZXR1cm4gR3IuZ2V0KHQpfHwxfWZ1bmN0aW9uIGRjKHQsZSl7cmV0dXJue2NvbnN0VGltZU5lZ2F0ZTpubixoYXNQcmVjb21wdXRlcyhuKXtyZXR1cm4gc24obikhPT0xfSx1bnNhZmVMYWRkZXIobixyLG89dC5aRVJPKXtsZXQgaT1uO2Zvcig7cj5acjspciZiZSYmKG89by5hZGQoaSkpLGk9aS5kb3VibGUoKSxyPj49YmU7cmV0dXJuIG99LHByZWNvbXB1dGVXaW5kb3cobixyKXtjb25zdHt3aW5kb3dzOm8sd2luZG93U2l6ZTppfT1ybihyLGUpLHM9W107bGV0IGM9bixhPWM7Zm9yKGxldCB1PTA7dTxvO3UrKyl7YT1jLHMucHVzaChhKTtmb3IobGV0IGw9MTtsPGk7bCsrKWE9YS5hZGQoYykscy5wdXNoKGEpO2M9YS5kb3VibGUoKX1yZXR1cm4gc30sd05BRihuLHIsbyl7Y29uc3R7d2luZG93czppLHdpbmRvd1NpemU6c309cm4obixlKTtsZXQgYz10LlpFUk8sYT10LkJBU0U7Y29uc3QgdT1CaWdJbnQoMioqbi0xKSxsPTIqKm4sZj1CaWdJbnQobik7Zm9yKGxldCBoPTA7aDxpO2grKyl7Y29uc3QgeT1oKnM7bGV0IEU9TnVtYmVyKG8mdSk7bz4+PWYsRT5zJiYoRS09bCxvKz1iZSk7Y29uc3QgcD15LGQ9eStNYXRoLmFicyhFKS0xLHY9aCUyIT09MCxtPUU8MDtFPT09MD9hPWEuYWRkKG5uKHYscltwXSkpOmM9Yy5hZGQobm4obSxyW2RdKSl9cmV0dXJue3A6YyxmOmF9fSx3TkFGVW5zYWZlKG4scixvLGk9dC5aRVJPKXtjb25zdHt3aW5kb3dzOnMsd2luZG93U2l6ZTpjfT1ybihuLGUpLGE9QmlnSW50KDIqKm4tMSksdT0yKipuLGw9QmlnSW50KG4pO2ZvcihsZXQgZj0wO2Y8cztmKyspe2NvbnN0IGg9ZipjO2lmKG89PT1acilicmVhaztsZXQgeT1OdW1iZXIobyZhKTtpZihvPj49bCx5PmMmJih5LT11LG8rPWJlKSx5PT09MCljb250aW51ZTtsZXQgRT1yW2grTWF0aC5hYnMoeSktMV07eTwwJiYoRT1FLm5lZ2F0ZSgpKSxpPWkuYWRkKEUpfXJldHVybiBpfSxnZXRQcmVjb21wdXRlcyhuLHIsbyl7bGV0IGk9b24uZ2V0KHIpO3JldHVybiBpfHwoaT10aGlzLnByZWNvbXB1dGVXaW5kb3cocixuKSxuIT09MSYmb24uc2V0KHIsbyhpKSkpLGl9LHdOQUZDYWNoZWQobixyLG8pe2NvbnN0IGk9c24obik7cmV0dXJuIHRoaXMud05BRihpLHRoaXMuZ2V0UHJlY29tcHV0ZXMoaSxuLG8pLHIpfSx3TkFGQ2FjaGVkVW5zYWZlKG4scixvLGkpe2NvbnN0IHM9c24obik7cmV0dXJuIHM9PT0xP3RoaXMudW5zYWZlTGFkZGVyKG4scixpKTp0aGlzLndOQUZVbnNhZmUocyx0aGlzLmdldFByZWNvbXB1dGVzKHMsbixvKSxyLGkpfSxzZXRXaW5kb3dTaXplKG4scil7WXIocixlKSxHci5zZXQobixyKSxvbi5kZWxldGUobil9fX1mdW5jdGlvbiBoYyh0LGUsbixyKXtpZihmYyhuLHQpLGxjKHIsZSksbi5sZW5ndGghPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJhcnJheXMgb2YgcG9pbnRzIGFuZCBzY2FsYXJzIG11c3QgaGF2ZSBlcXVhbCBsZW5ndGhcIik7Y29uc3Qgbz10LlpFUk8saT1QcihCaWdJbnQobi5sZW5ndGgpKSxzPWk+MTI/aS0zOmk+ND9pLTI6aT8yOjEsYz0oMTw8cyktMSxhPW5ldyBBcnJheShjKzEpLmZpbGwobyksdT1NYXRoLmZsb29yKChlLkJJVFMtMSkvcykqcztsZXQgbD1vO2ZvcihsZXQgZj11O2Y+PTA7Zi09cyl7YS5maWxsKG8pO2ZvcihsZXQgeT0wO3k8ci5sZW5ndGg7eSsrKXtjb25zdCBFPXJbeV0scD1OdW1iZXIoRT4+QmlnSW50KGYpJkJpZ0ludChjKSk7YVtwXT1hW3BdLmFkZChuW3ldKX1sZXQgaD1vO2ZvcihsZXQgeT1hLmxlbmd0aC0xLEU9bzt5PjA7eS0tKUU9RS5hZGQoYVt5XSksaD1oLmFkZChFKTtpZihsPWwuYWRkKGgpLGYhPT0wKWZvcihsZXQgeT0wO3k8czt5KyspbD1sLmRvdWJsZSgpfXJldHVybiBsfWZ1bmN0aW9uIFdyKHQpe3JldHVybiBzYyh0LkZwKSxNdCh0LHtuOlwiYmlnaW50XCIsaDpcImJpZ2ludFwiLEd4OlwiZmllbGRcIixHeTpcImZpZWxkXCJ9LHtuQml0TGVuZ3RoOlwiaXNTYWZlSW50ZWdlclwiLG5CeXRlTGVuZ3RoOlwiaXNTYWZlSW50ZWdlclwifSksT2JqZWN0LmZyZWV6ZSh7Li4ucXIodC5uLHQubkJpdExlbmd0aCksLi4udCxwOnQuRnAuT1JERVJ9KX1CaWdJbnQoMCksQmlnSW50KDEpLEJpZ0ludCgyKSxCaWdJbnQoOCk7Y29uc3QgRHQ9QmlnSW50KDApLGNuPUJpZ0ludCgxKTtmdW5jdGlvbiBwYyh0KXtyZXR1cm4gTXQodCx7YTpcImJpZ2ludFwifSx7bW9udGdvbWVyeUJpdHM6XCJpc1NhZmVJbnRlZ2VyXCIsbkJ5dGVMZW5ndGg6XCJpc1NhZmVJbnRlZ2VyXCIsYWRqdXN0U2NhbGFyQnl0ZXM6XCJmdW5jdGlvblwiLGRvbWFpbjpcImZ1bmN0aW9uXCIscG93UG1pbnVzMjpcImZ1bmN0aW9uXCIsR3U6XCJiaWdpbnRcIn0pLE9iamVjdC5mcmVlemUoey4uLnR9KX1mdW5jdGlvbiBnYyh0KXtjb25zdCBlPXBjKHQpLHtQOm59PWUscj1tPT5YKG0sbiksbz1lLm1vbnRnb21lcnlCaXRzLGk9TWF0aC5jZWlsKG8vOCkscz1lLm5CeXRlTGVuZ3RoLGM9ZS5hZGp1c3RTY2FsYXJCeXRlc3x8KG09Pm0pLGE9ZS5wb3dQbWludXMyfHwobT0+SHIobSxuLUJpZ0ludCgyKSxuKSk7ZnVuY3Rpb24gdShtLE8sTil7Y29uc3QgJD1yKG0qKE8tTikpO3JldHVybiBPPXIoTy0kKSxOPXIoTiskKSxbTyxOXX1jb25zdCBsPShlLmEtQmlnSW50KDIpKS9CaWdJbnQoNCk7ZnVuY3Rpb24gZihtLE8pe2Z0KFwidVwiLG0sRHQsbiksZnQoXCJzY2FsYXJcIixPLER0LG4pO2NvbnN0IE49TywkPW07bGV0IEI9Y24sQT1EdCxUPW0sUz1jbixMPUR0LFU7Zm9yKGxldCBqPUJpZ0ludChvLTEpO2o+PUR0O2otLSl7Y29uc3QgZz1OPj5qJmNuO0xePWcsVT11KEwsQixUKSxCPVVbMF0sVD1VWzFdLFU9dShMLEEsUyksQT1VWzBdLFM9VVsxXSxMPWc7Y29uc3Qgdz1CK0EsYj1yKHcqdyksST1CLUEsUj1yKEkqSSkseD1iLVIsQz1UK1MsUD1ULVMsaz1yKFAqdyksTT1yKEMqSSksRD1rK00sej1rLU07VD1yKEQqRCksUz1yKCQqcih6KnopKSxCPXIoYipSKSxBPXIoeCooYityKGwqeCkpKX1VPXUoTCxCLFQpLEI9VVswXSxUPVVbMV0sVT11KEwsQSxTKSxBPVVbMF0sUz1VWzFdO2NvbnN0IF89YShBKTtyZXR1cm4gcihCKl8pfWZ1bmN0aW9uIGgobSl7cmV0dXJuIG1lKHIobSksaSl9ZnVuY3Rpb24geShtKXtjb25zdCBPPWV0KFwidSBjb29yZGluYXRlXCIsbSxpKTtyZXR1cm4gcz09PTMyJiYoT1szMV0mPTEyNyksdGUoTyl9ZnVuY3Rpb24gRShtKXtjb25zdCBPPWV0KFwic2NhbGFyXCIsbSksTj1PLmxlbmd0aDtpZihOIT09aSYmTiE9PXMpe2xldCAkPVwiXCIraStcIiBvciBcIitzO3Rocm93IG5ldyBFcnJvcihcImludmFsaWQgc2NhbGFyLCBleHBlY3RlZCBcIiskK1wiIGJ5dGVzLCBnb3QgXCIrTil9cmV0dXJuIHRlKGMoTykpfWZ1bmN0aW9uIHAobSxPKXtjb25zdCBOPXkoTyksJD1FKG0pLEI9ZihOLCQpO2lmKEI9PT1EdCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHByaXZhdGUgb3IgcHVibGljIGtleSByZWNlaXZlZFwiKTtyZXR1cm4gaChCKX1jb25zdCBkPWgoZS5HdSk7ZnVuY3Rpb24gdihtKXtyZXR1cm4gcChtLGQpfXJldHVybntzY2FsYXJNdWx0OnAsc2NhbGFyTXVsdEJhc2U6dixnZXRTaGFyZWRTZWNyZXQ6KG0sTyk9PnAobSxPKSxnZXRQdWJsaWNLZXk6bT0+dihtKSx1dGlsczp7cmFuZG9tUHJpdmF0ZUtleTooKT0+ZS5yYW5kb21CeXRlcyhlLm5CeXRlTGVuZ3RoKX0sR3VCeXRlczpkfX1jb25zdCBhbj1CaWdJbnQoXCI1Nzg5NjA0NDYxODY1ODA5NzcxMTc4NTQ5MjUwNDM0Mzk1MzkyNjYzNDk5MjMzMjgyMDI4MjAxOTcyODc5MjAwMzk1NjU2NDgxOTk0OVwiKTtCaWdJbnQoMCk7Y29uc3QgeWM9QmlnSW50KDEpLFhyPUJpZ0ludCgyKSxtYz1CaWdJbnQoMyksd2M9QmlnSW50KDUpO0JpZ0ludCg4KTtmdW5jdGlvbiBiYyh0KXtjb25zdCBlPUJpZ0ludCgxMCksbj1CaWdJbnQoMjApLHI9QmlnSW50KDQwKSxvPUJpZ0ludCg4MCksaT1hbixjPXQqdCVpKnQlaSxhPW90KGMsWHIsaSkqYyVpLHU9b3QoYSx5YyxpKSp0JWksbD1vdCh1LHdjLGkpKnUlaSxmPW90KGwsZSxpKSpsJWksaD1vdChmLG4saSkqZiVpLHk9b3QoaCxyLGkpKmglaSxFPW90KHksbyxpKSp5JWkscD1vdChFLG8saSkqeSVpLGQ9b3QocCxlLGkpKmwlaTtyZXR1cm57cG93X3BfNV84Om90KGQsWHIsaSkqdCVpLGIyOmN9fWZ1bmN0aW9uIEVjKHQpe3JldHVybiB0WzBdJj0yNDgsdFszMV0mPTEyNyx0WzMxXXw9NjQsdH1jb25zdCB1bj1nYyh7UDphbixhOkJpZ0ludCg0ODY2NjIpLG1vbnRnb21lcnlCaXRzOjI1NSxuQnl0ZUxlbmd0aDozMixHdTpCaWdJbnQoOSkscG93UG1pbnVzMjp0PT57Y29uc3QgZT1hbix7cG93X3BfNV84Om4sYjI6cn09YmModCk7cmV0dXJuIFgob3QobixtYyxlKSpyLGUpfSxhZGp1c3RTY2FsYXJCeXRlczpFYyxyYW5kb21CeXRlczokdH0pO2Z1bmN0aW9uIEpyKHQpe3QubG93UyE9PXZvaWQgMCYmanQoXCJsb3dTXCIsdC5sb3dTKSx0LnByZWhhc2ghPT12b2lkIDAmJmp0KFwicHJlaGFzaFwiLHQucHJlaGFzaCl9ZnVuY3Rpb24gdmModCl7Y29uc3QgZT1Xcih0KTtNdChlLHthOlwiZmllbGRcIixiOlwiZmllbGRcIn0se2FsbG93ZWRQcml2YXRlS2V5TGVuZ3RoczpcImFycmF5XCIsd3JhcFByaXZhdGVLZXk6XCJib29sZWFuXCIsaXNUb3JzaW9uRnJlZTpcImZ1bmN0aW9uXCIsY2xlYXJDb2ZhY3RvcjpcImZ1bmN0aW9uXCIsYWxsb3dJbmZpbml0eVBvaW50OlwiYm9vbGVhblwiLGZyb21CeXRlczpcImZ1bmN0aW9uXCIsdG9CeXRlczpcImZ1bmN0aW9uXCJ9KTtjb25zdHtlbmRvOm4sRnA6cixhOm99PWU7aWYobil7aWYoIXIuZXFsKG8sci5aRVJPKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGVuZG9tb3JwaGlzbSwgY2FuIG9ubHkgYmUgZGVmaW5lZCBmb3IgS29ibGl0eiBjdXJ2ZXMgdGhhdCBoYXZlIGE9MFwiKTtpZih0eXBlb2YgbiE9XCJvYmplY3RcInx8dHlwZW9mIG4uYmV0YSE9XCJiaWdpbnRcInx8dHlwZW9mIG4uc3BsaXRTY2FsYXIhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGVuZG9tb3JwaGlzbSwgZXhwZWN0ZWQgYmV0YTogYmlnaW50IGFuZCBzcGxpdFNjYWxhcjogZnVuY3Rpb25cIil9cmV0dXJuIE9iamVjdC5mcmVlemUoey4uLmV9KX1jb25zdHtieXRlc1RvTnVtYmVyQkU6eGMsaGV4VG9CeXRlczpTY309ZWM7Y2xhc3MgT2MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlPVwiXCIpe3N1cGVyKGUpfX1jb25zdCBsdD17RXJyOk9jLF90bHY6e2VuY29kZToodCxlKT0+e2NvbnN0e0VycjpufT1sdDtpZih0PDB8fHQ+MjU2KXRocm93IG5ldyBuKFwidGx2LmVuY29kZTogd3JvbmcgdGFnXCIpO2lmKGUubGVuZ3RoJjEpdGhyb3cgbmV3IG4oXCJ0bHYuZW5jb2RlOiB1bnBhZGRlZCBkYXRhXCIpO2NvbnN0IHI9ZS5sZW5ndGgvMixvPVB0KHIpO2lmKG8ubGVuZ3RoLzImMTI4KXRocm93IG5ldyBuKFwidGx2LmVuY29kZTogbG9uZyBmb3JtIGxlbmd0aCB0b28gYmlnXCIpO2NvbnN0IGk9cj4xMjc/UHQoby5sZW5ndGgvMnwxMjgpOlwiXCI7cmV0dXJuIFB0KHQpK2krbytlfSxkZWNvZGUodCxlKXtjb25zdHtFcnI6bn09bHQ7bGV0IHI9MDtpZih0PDB8fHQ+MjU2KXRocm93IG5ldyBuKFwidGx2LmVuY29kZTogd3JvbmcgdGFnXCIpO2lmKGUubGVuZ3RoPDJ8fGVbcisrXSE9PXQpdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlOiB3cm9uZyB0bHZcIik7Y29uc3Qgbz1lW3IrK10saT0hIShvJjEyOCk7bGV0IHM9MDtpZighaSlzPW87ZWxzZXtjb25zdCBhPW8mMTI3O2lmKCFhKXRocm93IG5ldyBuKFwidGx2LmRlY29kZShsb25nKTogaW5kZWZpbml0ZSBsZW5ndGggbm90IHN1cHBvcnRlZFwiKTtpZihhPjQpdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlKGxvbmcpOiBieXRlIGxlbmd0aCBpcyB0b28gYmlnXCIpO2NvbnN0IHU9ZS5zdWJhcnJheShyLHIrYSk7aWYodS5sZW5ndGghPT1hKXRocm93IG5ldyBuKFwidGx2LmRlY29kZTogbGVuZ3RoIGJ5dGVzIG5vdCBjb21wbGV0ZVwiKTtpZih1WzBdPT09MCl0aHJvdyBuZXcgbihcInRsdi5kZWNvZGUobG9uZyk6IHplcm8gbGVmdG1vc3QgYnl0ZVwiKTtmb3IoY29uc3QgbCBvZiB1KXM9czw8OHxsO2lmKHIrPWEsczwxMjgpdGhyb3cgbmV3IG4oXCJ0bHYuZGVjb2RlKGxvbmcpOiBub3QgbWluaW1hbCBlbmNvZGluZ1wiKX1jb25zdCBjPWUuc3ViYXJyYXkocixyK3MpO2lmKGMubGVuZ3RoIT09cyl0aHJvdyBuZXcgbihcInRsdi5kZWNvZGU6IHdyb25nIHZhbHVlIGxlbmd0aFwiKTtyZXR1cm57djpjLGw6ZS5zdWJhcnJheShyK3MpfX19LF9pbnQ6e2VuY29kZSh0KXtjb25zdHtFcnI6ZX09bHQ7aWYodDxkdCl0aHJvdyBuZXcgZShcImludGVnZXI6IG5lZ2F0aXZlIGludGVnZXJzIGFyZSBub3QgYWxsb3dlZFwiKTtsZXQgbj1QdCh0KTtpZihOdW1iZXIucGFyc2VJbnQoblswXSwxNikmOCYmKG49XCIwMFwiK24pLG4ubGVuZ3RoJjEpdGhyb3cgbmV3IGUoXCJ1bmV4cGVjdGVkIERFUiBwYXJzaW5nIGFzc2VydGlvbjogdW5wYWRkZWQgaGV4XCIpO3JldHVybiBufSxkZWNvZGUodCl7Y29uc3R7RXJyOmV9PWx0O2lmKHRbMF0mMTI4KXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmUgaW50ZWdlcjogbmVnYXRpdmVcIik7aWYodFswXT09PTAmJiEodFsxXSYxMjgpKXRocm93IG5ldyBlKFwiaW52YWxpZCBzaWduYXR1cmUgaW50ZWdlcjogdW5uZWNlc3NhcnkgbGVhZGluZyB6ZXJvXCIpO3JldHVybiB4Yyh0KX19LHRvU2lnKHQpe2NvbnN0e0VycjplLF9pbnQ6bixfdGx2OnJ9PWx0LG89dHlwZW9mIHQ9PVwic3RyaW5nXCI/U2ModCk6dDtRdChvKTtjb25zdHt2OmksbDpzfT1yLmRlY29kZSg0OCxvKTtpZihzLmxlbmd0aCl0aHJvdyBuZXcgZShcImludmFsaWQgc2lnbmF0dXJlOiBsZWZ0IGJ5dGVzIGFmdGVyIHBhcnNpbmdcIik7Y29uc3R7djpjLGw6YX09ci5kZWNvZGUoMixpKSx7djp1LGx9PXIuZGVjb2RlKDIsYSk7aWYobC5sZW5ndGgpdGhyb3cgbmV3IGUoXCJpbnZhbGlkIHNpZ25hdHVyZTogbGVmdCBieXRlcyBhZnRlciBwYXJzaW5nXCIpO3JldHVybntyOm4uZGVjb2RlKGMpLHM6bi5kZWNvZGUodSl9fSxoZXhGcm9tU2lnKHQpe2NvbnN0e190bHY6ZSxfaW50Om59PWx0LHI9ZS5lbmNvZGUoMixuLmVuY29kZSh0LnIpKSxvPWUuZW5jb2RlKDIsbi5lbmNvZGUodC5zKSksaT1yK287cmV0dXJuIGUuZW5jb2RlKDQ4LGkpfX0sZHQ9QmlnSW50KDApLEs9QmlnSW50KDEpO0JpZ0ludCgyKTtjb25zdCBRcj1CaWdJbnQoMyk7QmlnSW50KDQpO2Z1bmN0aW9uIEFjKHQpe2NvbnN0IGU9dmModCkse0ZwOm59PWUscj1LcihlLm4sZS5uQml0TGVuZ3RoKSxvPWUudG9CeXRlc3x8KChwLGQsdik9Pntjb25zdCBtPWQudG9BZmZpbmUoKTtyZXR1cm4gZWUoVWludDhBcnJheS5mcm9tKFs0XSksbi50b0J5dGVzKG0ueCksbi50b0J5dGVzKG0ueSkpfSksaT1lLmZyb21CeXRlc3x8KHA9Pntjb25zdCBkPXAuc3ViYXJyYXkoMSksdj1uLmZyb21CeXRlcyhkLnN1YmFycmF5KDAsbi5CWVRFUykpLG09bi5mcm9tQnl0ZXMoZC5zdWJhcnJheShuLkJZVEVTLDIqbi5CWVRFUykpO3JldHVybnt4OnYseTptfX0pO2Z1bmN0aW9uIHMocCl7Y29uc3R7YTpkLGI6dn09ZSxtPW4uc3FyKHApLE89bi5tdWwobSxwKTtyZXR1cm4gbi5hZGQobi5hZGQoTyxuLm11bChwLGQpKSx2KX1pZighbi5lcWwobi5zcXIoZS5HeSkscyhlLkd4KSkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIGdlbmVyYXRvciBwb2ludDogZXF1YXRpb24gbGVmdCAhPSByaWdodFwiKTtmdW5jdGlvbiBjKHApe3JldHVybiB3ZShwLEssZS5uKX1mdW5jdGlvbiBhKHApe2NvbnN0e2FsbG93ZWRQcml2YXRlS2V5TGVuZ3RoczpkLG5CeXRlTGVuZ3RoOnYsd3JhcFByaXZhdGVLZXk6bSxuOk99PWU7aWYoZCYmdHlwZW9mIHAhPVwiYmlnaW50XCIpe2lmKFN0KHApJiYocD1DdChwKSksdHlwZW9mIHAhPVwic3RyaW5nXCJ8fCFkLmluY2x1ZGVzKHAubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHByaXZhdGUga2V5XCIpO3A9cC5wYWRTdGFydCh2KjIsXCIwXCIpfWxldCBOO3RyeXtOPXR5cGVvZiBwPT1cImJpZ2ludFwiP3A6T3QoZXQoXCJwcml2YXRlIGtleVwiLHAsdikpfWNhdGNoe3Rocm93IG5ldyBFcnJvcihcImludmFsaWQgcHJpdmF0ZSBrZXksIGV4cGVjdGVkIGhleCBvciBcIit2K1wiIGJ5dGVzLCBnb3QgXCIrdHlwZW9mIHApfXJldHVybiBtJiYoTj1YKE4sTykpLGZ0KFwicHJpdmF0ZSBrZXlcIixOLEssTyksTn1mdW5jdGlvbiB1KHApe2lmKCEocCBpbnN0YW5jZW9mIGgpKXRocm93IG5ldyBFcnJvcihcIlByb2plY3RpdmVQb2ludCBleHBlY3RlZFwiKX1jb25zdCBsPVFlKChwLGQpPT57Y29uc3R7cHg6dixweTptLHB6Ok99PXA7aWYobi5lcWwoTyxuLk9ORSkpcmV0dXJue3g6dix5Om19O2NvbnN0IE49cC5pczAoKTtkPT1udWxsJiYoZD1OP24uT05FOm4uaW52KE8pKTtjb25zdCAkPW4ubXVsKHYsZCksQj1uLm11bChtLGQpLEE9bi5tdWwoTyxkKTtpZihOKXJldHVybnt4Om4uWkVSTyx5Om4uWkVST307aWYoIW4uZXFsKEEsbi5PTkUpKXRocm93IG5ldyBFcnJvcihcImludlogd2FzIGludmFsaWRcIik7cmV0dXJue3g6JCx5OkJ9fSksZj1RZShwPT57aWYocC5pczAoKSl7aWYoZS5hbGxvd0luZmluaXR5UG9pbnQmJiFuLmlzMChwLnB5KSlyZXR1cm47dGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBaRVJPXCIpfWNvbnN0e3g6ZCx5OnZ9PXAudG9BZmZpbmUoKTtpZighbi5pc1ZhbGlkKGQpfHwhbi5pc1ZhbGlkKHYpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogeCBvciB5IG5vdCBGRVwiKTtjb25zdCBtPW4uc3FyKHYpLE89cyhkKTtpZighbi5lcWwobSxPKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHRcIik7aWYoIXAuaXNUb3JzaW9uRnJlZSgpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogbm90IGluIHByaW1lLW9yZGVyIHN1Ymdyb3VwXCIpO3JldHVybiEwfSk7Y2xhc3MgaHtjb25zdHJ1Y3RvcihkLHYsbSl7aWYodGhpcy5weD1kLHRoaXMucHk9dix0aGlzLnB6PW0sZD09bnVsbHx8IW4uaXNWYWxpZChkKSl0aHJvdyBuZXcgRXJyb3IoXCJ4IHJlcXVpcmVkXCIpO2lmKHY9PW51bGx8fCFuLmlzVmFsaWQodikpdGhyb3cgbmV3IEVycm9yKFwieSByZXF1aXJlZFwiKTtpZihtPT1udWxsfHwhbi5pc1ZhbGlkKG0pKXRocm93IG5ldyBFcnJvcihcInogcmVxdWlyZWRcIik7T2JqZWN0LmZyZWV6ZSh0aGlzKX1zdGF0aWMgZnJvbUFmZmluZShkKXtjb25zdHt4OnYseTptfT1kfHx7fTtpZighZHx8IW4uaXNWYWxpZCh2KXx8IW4uaXNWYWxpZChtKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGFmZmluZSBwb2ludFwiKTtpZihkIGluc3RhbmNlb2YgaCl0aHJvdyBuZXcgRXJyb3IoXCJwcm9qZWN0aXZlIHBvaW50IG5vdCBhbGxvd2VkXCIpO2NvbnN0IE89Tj0+bi5lcWwoTixuLlpFUk8pO3JldHVybiBPKHYpJiZPKG0pP2guWkVSTzpuZXcgaCh2LG0sbi5PTkUpfWdldCB4KCl7cmV0dXJuIHRoaXMudG9BZmZpbmUoKS54fWdldCB5KCl7cmV0dXJuIHRoaXMudG9BZmZpbmUoKS55fXN0YXRpYyBub3JtYWxpemVaKGQpe2NvbnN0IHY9bi5pbnZlcnRCYXRjaChkLm1hcChtPT5tLnB6KSk7cmV0dXJuIGQubWFwKChtLE8pPT5tLnRvQWZmaW5lKHZbT10pKS5tYXAoaC5mcm9tQWZmaW5lKX1zdGF0aWMgZnJvbUhleChkKXtjb25zdCB2PWguZnJvbUFmZmluZShpKGV0KFwicG9pbnRIZXhcIixkKSkpO3JldHVybiB2LmFzc2VydFZhbGlkaXR5KCksdn1zdGF0aWMgZnJvbVByaXZhdGVLZXkoZCl7cmV0dXJuIGguQkFTRS5tdWx0aXBseShhKGQpKX1zdGF0aWMgbXNtKGQsdil7cmV0dXJuIGhjKGgscixkLHYpfV9zZXRXaW5kb3dTaXplKGQpe0Uuc2V0V2luZG93U2l6ZSh0aGlzLGQpfWFzc2VydFZhbGlkaXR5KCl7Zih0aGlzKX1oYXNFdmVuWSgpe2NvbnN0e3k6ZH09dGhpcy50b0FmZmluZSgpO2lmKG4uaXNPZGQpcmV0dXJuIW4uaXNPZGQoZCk7dGhyb3cgbmV3IEVycm9yKFwiRmllbGQgZG9lc24ndCBzdXBwb3J0IGlzT2RkXCIpfWVxdWFscyhkKXt1KGQpO2NvbnN0e3B4OnYscHk6bSxwejpPfT10aGlzLHtweDpOLHB5OiQscHo6Qn09ZCxBPW4uZXFsKG4ubXVsKHYsQiksbi5tdWwoTixPKSksVD1uLmVxbChuLm11bChtLEIpLG4ubXVsKCQsTykpO3JldHVybiBBJiZUfW5lZ2F0ZSgpe3JldHVybiBuZXcgaCh0aGlzLnB4LG4ubmVnKHRoaXMucHkpLHRoaXMucHopfWRvdWJsZSgpe2NvbnN0e2E6ZCxiOnZ9PWUsbT1uLm11bCh2LFFyKSx7cHg6TyxweTpOLHB6OiR9PXRoaXM7bGV0IEI9bi5aRVJPLEE9bi5aRVJPLFQ9bi5aRVJPLFM9bi5tdWwoTyxPKSxMPW4ubXVsKE4sTiksVT1uLm11bCgkLCQpLF89bi5tdWwoTyxOKTtyZXR1cm4gXz1uLmFkZChfLF8pLFQ9bi5tdWwoTywkKSxUPW4uYWRkKFQsVCksQj1uLm11bChkLFQpLEE9bi5tdWwobSxVKSxBPW4uYWRkKEIsQSksQj1uLnN1YihMLEEpLEE9bi5hZGQoTCxBKSxBPW4ubXVsKEIsQSksQj1uLm11bChfLEIpLFQ9bi5tdWwobSxUKSxVPW4ubXVsKGQsVSksXz1uLnN1YihTLFUpLF89bi5tdWwoZCxfKSxfPW4uYWRkKF8sVCksVD1uLmFkZChTLFMpLFM9bi5hZGQoVCxTKSxTPW4uYWRkKFMsVSksUz1uLm11bChTLF8pLEE9bi5hZGQoQSxTKSxVPW4ubXVsKE4sJCksVT1uLmFkZChVLFUpLFM9bi5tdWwoVSxfKSxCPW4uc3ViKEIsUyksVD1uLm11bChVLEwpLFQ9bi5hZGQoVCxUKSxUPW4uYWRkKFQsVCksbmV3IGgoQixBLFQpfWFkZChkKXt1KGQpO2NvbnN0e3B4OnYscHk6bSxwejpPfT10aGlzLHtweDpOLHB5OiQscHo6Qn09ZDtsZXQgQT1uLlpFUk8sVD1uLlpFUk8sUz1uLlpFUk87Y29uc3QgTD1lLmEsVT1uLm11bChlLmIsUXIpO2xldCBfPW4ubXVsKHYsTiksaj1uLm11bChtLCQpLGc9bi5tdWwoTyxCKSx3PW4uYWRkKHYsbSksYj1uLmFkZChOLCQpO3c9bi5tdWwodyxiKSxiPW4uYWRkKF8saiksdz1uLnN1Yih3LGIpLGI9bi5hZGQodixPKTtsZXQgST1uLmFkZChOLEIpO3JldHVybiBiPW4ubXVsKGIsSSksST1uLmFkZChfLGcpLGI9bi5zdWIoYixJKSxJPW4uYWRkKG0sTyksQT1uLmFkZCgkLEIpLEk9bi5tdWwoSSxBKSxBPW4uYWRkKGosZyksST1uLnN1YihJLEEpLFM9bi5tdWwoTCxiKSxBPW4ubXVsKFUsZyksUz1uLmFkZChBLFMpLEE9bi5zdWIoaixTKSxTPW4uYWRkKGosUyksVD1uLm11bChBLFMpLGo9bi5hZGQoXyxfKSxqPW4uYWRkKGosXyksZz1uLm11bChMLGcpLGI9bi5tdWwoVSxiKSxqPW4uYWRkKGosZyksZz1uLnN1YihfLGcpLGc9bi5tdWwoTCxnKSxiPW4uYWRkKGIsZyksXz1uLm11bChqLGIpLFQ9bi5hZGQoVCxfKSxfPW4ubXVsKEksYiksQT1uLm11bCh3LEEpLEE9bi5zdWIoQSxfKSxfPW4ubXVsKHcsaiksUz1uLm11bChJLFMpLFM9bi5hZGQoUyxfKSxuZXcgaChBLFQsUyl9c3VidHJhY3QoZCl7cmV0dXJuIHRoaXMuYWRkKGQubmVnYXRlKCkpfWlzMCgpe3JldHVybiB0aGlzLmVxdWFscyhoLlpFUk8pfXdOQUYoZCl7cmV0dXJuIEUud05BRkNhY2hlZCh0aGlzLGQsaC5ub3JtYWxpemVaKX1tdWx0aXBseVVuc2FmZShkKXtjb25zdHtlbmRvOnYsbjptfT1lO2Z0KFwic2NhbGFyXCIsZCxkdCxtKTtjb25zdCBPPWguWkVSTztpZihkPT09ZHQpcmV0dXJuIE87aWYodGhpcy5pczAoKXx8ZD09PUspcmV0dXJuIHRoaXM7aWYoIXZ8fEUuaGFzUHJlY29tcHV0ZXModGhpcykpcmV0dXJuIEUud05BRkNhY2hlZFVuc2FmZSh0aGlzLGQsaC5ub3JtYWxpemVaKTtsZXR7azFuZWc6TixrMTokLGsybmVnOkIsazI6QX09di5zcGxpdFNjYWxhcihkKSxUPU8sUz1PLEw9dGhpcztmb3IoOyQ+ZHR8fEE+ZHQ7KSQmSyYmKFQ9VC5hZGQoTCkpLEEmSyYmKFM9Uy5hZGQoTCkpLEw9TC5kb3VibGUoKSwkPj49SyxBPj49SztyZXR1cm4gTiYmKFQ9VC5uZWdhdGUoKSksQiYmKFM9Uy5uZWdhdGUoKSksUz1uZXcgaChuLm11bChTLnB4LHYuYmV0YSksUy5weSxTLnB6KSxULmFkZChTKX1tdWx0aXBseShkKXtjb25zdHtlbmRvOnYsbjptfT1lO2Z0KFwic2NhbGFyXCIsZCxLLG0pO2xldCBPLE47aWYodil7Y29uc3R7azFuZWc6JCxrMTpCLGsybmVnOkEsazI6VH09di5zcGxpdFNjYWxhcihkKTtsZXR7cDpTLGY6TH09dGhpcy53TkFGKEIpLHtwOlUsZjpffT10aGlzLndOQUYoVCk7Uz1FLmNvbnN0VGltZU5lZ2F0ZSgkLFMpLFU9RS5jb25zdFRpbWVOZWdhdGUoQSxVKSxVPW5ldyBoKG4ubXVsKFUucHgsdi5iZXRhKSxVLnB5LFUucHopLE89Uy5hZGQoVSksTj1MLmFkZChfKX1lbHNle2NvbnN0e3A6JCxmOkJ9PXRoaXMud05BRihkKTtPPSQsTj1CfXJldHVybiBoLm5vcm1hbGl6ZVooW08sTl0pWzBdfW11bHRpcGx5QW5kQWRkVW5zYWZlKGQsdixtKXtjb25zdCBPPWguQkFTRSxOPShCLEEpPT5BPT09ZHR8fEE9PT1LfHwhQi5lcXVhbHMoTyk/Qi5tdWx0aXBseVVuc2FmZShBKTpCLm11bHRpcGx5KEEpLCQ9Tih0aGlzLHYpLmFkZChOKGQsbSkpO3JldHVybiAkLmlzMCgpP3ZvaWQgMDokfXRvQWZmaW5lKGQpe3JldHVybiBsKHRoaXMsZCl9aXNUb3JzaW9uRnJlZSgpe2NvbnN0e2g6ZCxpc1RvcnNpb25GcmVlOnZ9PWU7aWYoZD09PUspcmV0dXJuITA7aWYodilyZXR1cm4gdihoLHRoaXMpO3Rocm93IG5ldyBFcnJvcihcImlzVG9yc2lvbkZyZWUoKSBoYXMgbm90IGJlZW4gZGVjbGFyZWQgZm9yIHRoZSBlbGxpcHRpYyBjdXJ2ZVwiKX1jbGVhckNvZmFjdG9yKCl7Y29uc3R7aDpkLGNsZWFyQ29mYWN0b3I6dn09ZTtyZXR1cm4gZD09PUs/dGhpczp2P3YoaCx0aGlzKTp0aGlzLm11bHRpcGx5VW5zYWZlKGUuaCl9dG9SYXdCeXRlcyhkPSEwKXtyZXR1cm4ganQoXCJpc0NvbXByZXNzZWRcIixkKSx0aGlzLmFzc2VydFZhbGlkaXR5KCksbyhoLHRoaXMsZCl9dG9IZXgoZD0hMCl7cmV0dXJuIGp0KFwiaXNDb21wcmVzc2VkXCIsZCksQ3QodGhpcy50b1Jhd0J5dGVzKGQpKX19aC5CQVNFPW5ldyBoKGUuR3gsZS5HeSxuLk9ORSksaC5aRVJPPW5ldyBoKG4uWkVSTyxuLk9ORSxuLlpFUk8pO2NvbnN0IHk9ZS5uQml0TGVuZ3RoLEU9ZGMoaCxlLmVuZG8/TWF0aC5jZWlsKHkvMik6eSk7cmV0dXJue0NVUlZFOmUsUHJvamVjdGl2ZVBvaW50Omgsbm9ybVByaXZhdGVLZXlUb1NjYWxhcjphLHdlaWVyc3RyYXNzRXF1YXRpb246cyxpc1dpdGhpbkN1cnZlT3JkZXI6Y319ZnVuY3Rpb24gQmModCl7Y29uc3QgZT1Xcih0KTtyZXR1cm4gTXQoZSx7aGFzaDpcImhhc2hcIixobWFjOlwiZnVuY3Rpb25cIixyYW5kb21CeXRlczpcImZ1bmN0aW9uXCJ9LHtiaXRzMmludDpcImZ1bmN0aW9uXCIsYml0czJpbnRfbW9kTjpcImZ1bmN0aW9uXCIsbG93UzpcImJvb2xlYW5cIn0pLE9iamVjdC5mcmVlemUoe2xvd1M6ITAsLi4uZX0pfWZ1bmN0aW9uIEljKHQpe2NvbnN0IGU9QmModCkse0ZwOm4sbjpyfT1lLG89bi5CWVRFUysxLGk9MipuLkJZVEVTKzE7ZnVuY3Rpb24gcyhnKXtyZXR1cm4gWChnLHIpfWZ1bmN0aW9uIGMoZyl7cmV0dXJuIGVuKGcscil9Y29uc3R7UHJvamVjdGl2ZVBvaW50OmEsbm9ybVByaXZhdGVLZXlUb1NjYWxhcjp1LHdlaWVyc3RyYXNzRXF1YXRpb246bCxpc1dpdGhpbkN1cnZlT3JkZXI6Zn09QWMoey4uLmUsdG9CeXRlcyhnLHcsYil7Y29uc3QgST13LnRvQWZmaW5lKCksUj1uLnRvQnl0ZXMoSS54KSx4PWVlO3JldHVybiBqdChcImlzQ29tcHJlc3NlZFwiLGIpLGI/eChVaW50OEFycmF5LmZyb20oW3cuaGFzRXZlblkoKT8yOjNdKSxSKTp4KFVpbnQ4QXJyYXkuZnJvbShbNF0pLFIsbi50b0J5dGVzKEkueSkpfSxmcm9tQnl0ZXMoZyl7Y29uc3Qgdz1nLmxlbmd0aCxiPWdbMF0sST1nLnN1YmFycmF5KDEpO2lmKHc9PT1vJiYoYj09PTJ8fGI9PT0zKSl7Y29uc3QgUj1PdChJKTtpZighd2UoUixLLG4uT1JERVIpKXRocm93IG5ldyBFcnJvcihcIlBvaW50IGlzIG5vdCBvbiBjdXJ2ZVwiKTtjb25zdCB4PWwoUik7bGV0IEM7dHJ5e0M9bi5zcXJ0KHgpfWNhdGNoKE0pe2NvbnN0IEQ9TSBpbnN0YW5jZW9mIEVycm9yP1wiOiBcIitNLm1lc3NhZ2U6XCJcIjt0aHJvdyBuZXcgRXJyb3IoXCJQb2ludCBpcyBub3Qgb24gY3VydmVcIitEKX1jb25zdCBQPShDJkspPT09SztyZXR1cm4oYiYxKT09PTEhPT1QJiYoQz1uLm5lZyhDKSkse3g6Uix5OkN9fWVsc2UgaWYodz09PWkmJmI9PT00KXtjb25zdCBSPW4uZnJvbUJ5dGVzKEkuc3ViYXJyYXkoMCxuLkJZVEVTKSkseD1uLmZyb21CeXRlcyhJLnN1YmFycmF5KG4uQllURVMsMipuLkJZVEVTKSk7cmV0dXJue3g6Uix5Onh9fWVsc2V7Y29uc3QgUj1vLHg9aTt0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIFBvaW50LCBleHBlY3RlZCBsZW5ndGggb2YgXCIrUitcIiwgb3IgdW5jb21wcmVzc2VkIFwiK3grXCIsIGdvdCBcIit3KX19fSksaD1nPT5DdChWdChnLGUubkJ5dGVMZW5ndGgpKTtmdW5jdGlvbiB5KGcpe2NvbnN0IHc9cj4+SztyZXR1cm4gZz53fWZ1bmN0aW9uIEUoZyl7cmV0dXJuIHkoZyk/cygtZyk6Z31jb25zdCBwPShnLHcsYik9Pk90KGcuc2xpY2UodyxiKSk7Y2xhc3MgZHtjb25zdHJ1Y3Rvcih3LGIsSSl7dGhpcy5yPXcsdGhpcy5zPWIsdGhpcy5yZWNvdmVyeT1JLHRoaXMuYXNzZXJ0VmFsaWRpdHkoKX1zdGF0aWMgZnJvbUNvbXBhY3Qodyl7Y29uc3QgYj1lLm5CeXRlTGVuZ3RoO3JldHVybiB3PWV0KFwiY29tcGFjdFNpZ25hdHVyZVwiLHcsYioyKSxuZXcgZChwKHcsMCxiKSxwKHcsYiwyKmIpKX1zdGF0aWMgZnJvbURFUih3KXtjb25zdHtyOmIsczpJfT1sdC50b1NpZyhldChcIkRFUlwiLHcpKTtyZXR1cm4gbmV3IGQoYixJKX1hc3NlcnRWYWxpZGl0eSgpe2Z0KFwiclwiLHRoaXMucixLLHIpLGZ0KFwic1wiLHRoaXMucyxLLHIpfWFkZFJlY292ZXJ5Qml0KHcpe3JldHVybiBuZXcgZCh0aGlzLnIsdGhpcy5zLHcpfXJlY292ZXJQdWJsaWNLZXkodyl7Y29uc3R7cjpiLHM6SSxyZWNvdmVyeTpSfT10aGlzLHg9QihldChcIm1zZ0hhc2hcIix3KSk7aWYoUj09bnVsbHx8IVswLDEsMiwzXS5pbmNsdWRlcyhSKSl0aHJvdyBuZXcgRXJyb3IoXCJyZWNvdmVyeSBpZCBpbnZhbGlkXCIpO2NvbnN0IEM9Uj09PTJ8fFI9PT0zP2IrZS5uOmI7aWYoQz49bi5PUkRFUil0aHJvdyBuZXcgRXJyb3IoXCJyZWNvdmVyeSBpZCAyIG9yIDMgaW52YWxpZFwiKTtjb25zdCBQPShSJjEpPT09MD9cIjAyXCI6XCIwM1wiLGs9YS5mcm9tSGV4KFAraChDKSksTT1jKEMpLEQ9cygteCpNKSx6PXMoSSpNKSxaPWEuQkFTRS5tdWx0aXBseUFuZEFkZFVuc2FmZShrLEQseik7aWYoIVopdGhyb3cgbmV3IEVycm9yKFwicG9pbnQgYXQgaW5maW5pZnlcIik7cmV0dXJuIFouYXNzZXJ0VmFsaWRpdHkoKSxafWhhc0hpZ2hTKCl7cmV0dXJuIHkodGhpcy5zKX1ub3JtYWxpemVTKCl7cmV0dXJuIHRoaXMuaGFzSGlnaFMoKT9uZXcgZCh0aGlzLnIscygtdGhpcy5zKSx0aGlzLnJlY292ZXJ5KTp0aGlzfXRvREVSUmF3Qnl0ZXMoKXtyZXR1cm4ga3QodGhpcy50b0RFUkhleCgpKX10b0RFUkhleCgpe3JldHVybiBsdC5oZXhGcm9tU2lnKHtyOnRoaXMucixzOnRoaXMuc30pfXRvQ29tcGFjdFJhd0J5dGVzKCl7cmV0dXJuIGt0KHRoaXMudG9Db21wYWN0SGV4KCkpfXRvQ29tcGFjdEhleCgpe3JldHVybiBoKHRoaXMucikraCh0aGlzLnMpfX1jb25zdCB2PXtpc1ZhbGlkUHJpdmF0ZUtleShnKXt0cnl7cmV0dXJuIHUoZyksITB9Y2F0Y2h7cmV0dXJuITF9fSxub3JtUHJpdmF0ZUtleVRvU2NhbGFyOnUscmFuZG9tUHJpdmF0ZUtleTooKT0+e2NvbnN0IGc9enIoZS5uKTtyZXR1cm4gdWMoZS5yYW5kb21CeXRlcyhnKSxlLm4pfSxwcmVjb21wdXRlKGc9OCx3PWEuQkFTRSl7cmV0dXJuIHcuX3NldFdpbmRvd1NpemUoZyksdy5tdWx0aXBseShCaWdJbnQoMykpLHd9fTtmdW5jdGlvbiBtKGcsdz0hMCl7cmV0dXJuIGEuZnJvbVByaXZhdGVLZXkoZykudG9SYXdCeXRlcyh3KX1mdW5jdGlvbiBPKGcpe2NvbnN0IHc9U3QoZyksYj10eXBlb2YgZz09XCJzdHJpbmdcIixJPSh3fHxiKSYmZy5sZW5ndGg7cmV0dXJuIHc/ST09PW98fEk9PT1pOmI/ST09PTIqb3x8ST09PTIqaTpnIGluc3RhbmNlb2YgYX1mdW5jdGlvbiBOKGcsdyxiPSEwKXtpZihPKGcpKXRocm93IG5ldyBFcnJvcihcImZpcnN0IGFyZyBtdXN0IGJlIHByaXZhdGUga2V5XCIpO2lmKCFPKHcpKXRocm93IG5ldyBFcnJvcihcInNlY29uZCBhcmcgbXVzdCBiZSBwdWJsaWMga2V5XCIpO3JldHVybiBhLmZyb21IZXgodykubXVsdGlwbHkodShnKSkudG9SYXdCeXRlcyhiKX1jb25zdCAkPWUuYml0czJpbnR8fGZ1bmN0aW9uKGcpe2lmKGcubGVuZ3RoPjgxOTIpdGhyb3cgbmV3IEVycm9yKFwiaW5wdXQgaXMgdG9vIGxhcmdlXCIpO2NvbnN0IHc9T3QoZyksYj1nLmxlbmd0aCo4LWUubkJpdExlbmd0aDtyZXR1cm4gYj4wP3c+PkJpZ0ludChiKTp3fSxCPWUuYml0czJpbnRfbW9kTnx8ZnVuY3Rpb24oZyl7cmV0dXJuIHMoJChnKSl9LEE9WGUoZS5uQml0TGVuZ3RoKTtmdW5jdGlvbiBUKGcpe3JldHVybiBmdChcIm51bSA8IDJeXCIrZS5uQml0TGVuZ3RoLGcsZHQsQSksVnQoZyxlLm5CeXRlTGVuZ3RoKX1mdW5jdGlvbiBTKGcsdyxiPUwpe2lmKFtcInJlY292ZXJlZFwiLFwiY2Fub25pY2FsXCJdLnNvbWUoVz0+VyBpbiBiKSl0aHJvdyBuZXcgRXJyb3IoXCJzaWduKCkgbGVnYWN5IG9wdGlvbnMgbm90IHN1cHBvcnRlZFwiKTtjb25zdHtoYXNoOkkscmFuZG9tQnl0ZXM6Un09ZTtsZXR7bG93Uzp4LHByZWhhc2g6QyxleHRyYUVudHJvcHk6UH09Yjt4PT1udWxsJiYoeD0hMCksZz1ldChcIm1zZ0hhc2hcIixnKSxKcihiKSxDJiYoZz1ldChcInByZWhhc2hlZCBtc2dIYXNoXCIsSShnKSkpO2NvbnN0IGs9QihnKSxNPXUodyksRD1bVChNKSxUKGspXTtpZihQIT1udWxsJiZQIT09ITEpe2NvbnN0IFc9UD09PSEwP1Iobi5CWVRFUyk6UDtELnB1c2goZXQoXCJleHRyYUVudHJvcHlcIixXKSl9Y29uc3Qgej1lZSguLi5EKSxaPWs7ZnVuY3Rpb24gaXQoVyl7Y29uc3QgSj0kKFcpO2lmKCFmKEopKXJldHVybjtjb25zdCBPZT1jKEopLEZ0PWEuQkFTRS5tdWx0aXBseShKKS50b0FmZmluZSgpLHZ0PXMoRnQueCk7aWYodnQ9PT1kdClyZXR1cm47Y29uc3QgenQ9cyhPZSpzKFordnQqTSkpO2lmKHp0PT09ZHQpcmV0dXJuO2xldCBVdD0oRnQueD09PXZ0PzA6Mil8TnVtYmVyKEZ0LnkmSyksdm49enQ7cmV0dXJuIHgmJnkoenQpJiYodm49RSh6dCksVXRePTEpLG5ldyBkKHZ0LHZuLFV0KX1yZXR1cm57c2VlZDp6LGsyc2lnOml0fX1jb25zdCBMPXtsb3dTOmUubG93UyxwcmVoYXNoOiExfSxVPXtsb3dTOmUubG93UyxwcmVoYXNoOiExfTtmdW5jdGlvbiBfKGcsdyxiPUwpe2NvbnN0e3NlZWQ6SSxrMnNpZzpSfT1TKGcsdyxiKSx4PWU7cmV0dXJuIFZyKHguaGFzaC5vdXRwdXRMZW4seC5uQnl0ZUxlbmd0aCx4LmhtYWMpKEksUil9YS5CQVNFLl9zZXRXaW5kb3dTaXplKDgpO2Z1bmN0aW9uIGooZyx3LGIsST1VKXtjb25zdCBSPWc7dz1ldChcIm1zZ0hhc2hcIix3KSxiPWV0KFwicHVibGljS2V5XCIsYik7Y29uc3R7bG93Uzp4LHByZWhhc2g6Qyxmb3JtYXQ6UH09STtpZihKcihJKSxcInN0cmljdFwiaW4gSSl0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLnN0cmljdCB3YXMgcmVuYW1lZCB0byBsb3dTXCIpO2lmKFAhPT12b2lkIDAmJlAhPT1cImNvbXBhY3RcIiYmUCE9PVwiZGVyXCIpdGhyb3cgbmV3IEVycm9yKFwiZm9ybWF0IG11c3QgYmUgY29tcGFjdCBvciBkZXJcIik7Y29uc3Qgaz10eXBlb2YgUj09XCJzdHJpbmdcInx8U3QoUiksTT0hayYmIVAmJnR5cGVvZiBSPT1cIm9iamVjdFwiJiZSIT09bnVsbCYmdHlwZW9mIFIucj09XCJiaWdpbnRcIiYmdHlwZW9mIFIucz09XCJiaWdpbnRcIjtpZighayYmIU0pdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzaWduYXR1cmUsIGV4cGVjdGVkIFVpbnQ4QXJyYXksIGhleCBzdHJpbmcgb3IgU2lnbmF0dXJlIGluc3RhbmNlXCIpO2xldCBELHo7dHJ5e2lmKE0mJihEPW5ldyBkKFIucixSLnMpKSxrKXt0cnl7UCE9PVwiY29tcGFjdFwiJiYoRD1kLmZyb21ERVIoUikpfWNhdGNoKFV0KXtpZighKFV0IGluc3RhbmNlb2YgbHQuRXJyKSl0aHJvdyBVdH0hRCYmUCE9PVwiZGVyXCImJihEPWQuZnJvbUNvbXBhY3QoUikpfXo9YS5mcm9tSGV4KGIpfWNhdGNoe3JldHVybiExfWlmKCFEfHx4JiZELmhhc0hpZ2hTKCkpcmV0dXJuITE7QyYmKHc9ZS5oYXNoKHcpKTtjb25zdHtyOlosczppdH09RCxXPUIodyksSj1jKGl0KSxPZT1zKFcqSiksRnQ9cyhaKkopLHZ0PWEuQkFTRS5tdWx0aXBseUFuZEFkZFVuc2FmZSh6LE9lLEZ0KT8udG9BZmZpbmUoKTtyZXR1cm4gdnQ/cyh2dC54KT09PVo6ITF9cmV0dXJue0NVUlZFOmUsZ2V0UHVibGljS2V5Om0sZ2V0U2hhcmVkU2VjcmV0Ok4sc2lnbjpfLHZlcmlmeTpqLFByb2plY3RpdmVQb2ludDphLFNpZ25hdHVyZTpkLHV0aWxzOnZ9fWZ1bmN0aW9uIE5jKHQpe3JldHVybntoYXNoOnQsaG1hYzooZSwuLi5uKT0+cGUodCxlLFZpKC4uLm4pKSxyYW5kb21CeXRlczokdH19ZnVuY3Rpb24gVWModCxlKXtjb25zdCBuPXI9PkljKHsuLi50LC4uLk5jKHIpfSk7cmV0dXJuey4uLm4oZSksY3JlYXRlOm59fWNvbnN0IHRvPUtyKEJpZ0ludChcIjB4ZmZmZmZmZmYwMDAwMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlwiKSksVGM9dG8uY3JlYXRlKEJpZ0ludChcIi0zXCIpKSxSYz1CaWdJbnQoXCIweDVhYzYzNWQ4YWEzYTkzZTdiM2ViYmQ1NTc2OTg4NmJjNjUxZDA2YjBjYzUzYjBmNjNiY2UzYzNlMjdkMjYwNGJcIiksX2M9VWMoe2E6VGMsYjpSYyxGcDp0byxuOkJpZ0ludChcIjB4ZmZmZmZmZmYwMDAwMDAwMGZmZmZmZmZmZmZmZmZmZmZiY2U2ZmFhZGE3MTc5ZTg0ZjNiOWNhYzJmYzYzMjU1MVwiKSxHeDpCaWdJbnQoXCIweDZiMTdkMWYyZTEyYzQyNDdmOGJjZTZlNTYzYTQ0MGYyNzcwMzdkODEyZGViMzNhMGY0YTEzOTQ1ZDg5OGMyOTZcIiksR3k6QmlnSW50KFwiMHg0ZmUzNDJlMmZlMWE3ZjliOGVlN2ViNGE3YzBmOWUxNjJiY2UzMzU3NmIzMTVlY2VjYmI2NDA2ODM3YmY1MWY1XCIpLGg6QmlnSW50KDEpLGxvd1M6ITF9LEp0KSxmbj1cImJhc2UxMFwiLEc9XCJiYXNlMTZcIixIdD1cImJhc2U2NHBhZFwiLEVlPVwiYmFzZTY0dXJsXCIscXQ9XCJ1dGY4XCIsbG49MCxLdD0xLG5lPTIsJGM9MCxlbz0xLHJlPTEyLGRuPTMyO2Z1bmN0aW9uIExjKCl7Y29uc3QgdD11bi51dGlscy5yYW5kb21Qcml2YXRlS2V5KCksZT11bi5nZXRQdWJsaWNLZXkodCk7cmV0dXJue3ByaXZhdGVLZXk6USh0LEcpLHB1YmxpY0tleTpRKGUsRyl9fWZ1bmN0aW9uIGpjKCl7Y29uc3QgdD0kdChkbik7cmV0dXJuIFEodCxHKX1mdW5jdGlvbiBDYyh0LGUpe2NvbnN0IG49dW4uZ2V0U2hhcmVkU2VjcmV0KHJ0KHQsRykscnQoZSxHKSkscj1WcyhKdCxuLHZvaWQgMCx2b2lkIDAsZG4pO3JldHVybiBRKHIsRyl9ZnVuY3Rpb24gUGModCl7Y29uc3QgZT1KdChydCh0LEcpKTtyZXR1cm4gUShlLEcpfWZ1bmN0aW9uIGtjKHQpe2NvbnN0IGU9SnQocnQodCxxdCkpO3JldHVybiBRKGUsRyl9ZnVuY3Rpb24gaG4odCl7cmV0dXJuIHJ0KGAke3R9YCxmbil9ZnVuY3Rpb24gQnQodCl7cmV0dXJuIE51bWJlcihRKHQsZm4pKX1mdW5jdGlvbiBubyh0KXtyZXR1cm4gdC5yZXBsYWNlKC9cXCsvZyxcIi1cIikucmVwbGFjZSgvXFwvL2csXCJfXCIpLnJlcGxhY2UoLz0vZyxcIlwiKX1mdW5jdGlvbiBybyh0KXtjb25zdCBlPXQucmVwbGFjZSgvLS9nLFwiK1wiKS5yZXBsYWNlKC9fL2csXCIvXCIpLG49KDQtZS5sZW5ndGglNCklNDtyZXR1cm4gZStcIj1cIi5yZXBlYXQobil9ZnVuY3Rpb24gVmModCl7Y29uc3QgZT1obih0eXBlb2YgdC50eXBlPFwidVwiP3QudHlwZTpsbik7aWYoQnQoZSk9PT1LdCYmdHlwZW9mIHQuc2VuZGVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIk1pc3Npbmcgc2VuZGVyIHB1YmxpYyBrZXkgZm9yIHR5cGUgMSBlbnZlbG9wZVwiKTtjb25zdCBuPXR5cGVvZiB0LnNlbmRlclB1YmxpY0tleTxcInVcIj9ydCh0LnNlbmRlclB1YmxpY0tleSxHKTp2b2lkIDAscj10eXBlb2YgdC5pdjxcInVcIj9ydCh0Lml2LEcpOiR0KHJlKSxvPXJ0KHQuc3ltS2V5LEcpLGk9JHIobyxyKS5lbmNyeXB0KHJ0KHQubWVzc2FnZSxxdCkpLHM9cG4oe3R5cGU6ZSxzZWFsZWQ6aSxpdjpyLHNlbmRlclB1YmxpY0tleTpufSk7cmV0dXJuIHQuZW5jb2Rpbmc9PT1FZT9ubyhzKTpzfWZ1bmN0aW9uIE1jKHQpe2NvbnN0IGU9cnQodC5zeW1LZXksRykse3NlYWxlZDpuLGl2OnJ9PXZlKHtlbmNvZGVkOnQuZW5jb2RlZCxlbmNvZGluZzp0LmVuY29kaW5nfSksbz0kcihlLHIpLmRlY3J5cHQobik7aWYobz09PW51bGwpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGRlY3J5cHRcIik7cmV0dXJuIFEobyxxdCl9ZnVuY3Rpb24gRGModCxlKXtjb25zdCBuPWhuKG5lKSxyPSR0KHJlKSxvPXJ0KHQscXQpLGk9cG4oe3R5cGU6bixzZWFsZWQ6byxpdjpyfSk7cmV0dXJuIGU9PT1FZT9ubyhpKTppfWZ1bmN0aW9uIEhjKHQsZSl7Y29uc3R7c2VhbGVkOm59PXZlKHtlbmNvZGVkOnQsZW5jb2Rpbmc6ZX0pO3JldHVybiBRKG4scXQpfWZ1bmN0aW9uIHBuKHQpe2lmKEJ0KHQudHlwZSk9PT1uZSlyZXR1cm4gUShadChbdC50eXBlLHQuc2VhbGVkXSksSHQpO2lmKEJ0KHQudHlwZSk9PT1LdCl7aWYodHlwZW9mIHQuc2VuZGVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIk1pc3Npbmcgc2VuZGVyIHB1YmxpYyBrZXkgZm9yIHR5cGUgMSBlbnZlbG9wZVwiKTtyZXR1cm4gUShadChbdC50eXBlLHQuc2VuZGVyUHVibGljS2V5LHQuaXYsdC5zZWFsZWRdKSxIdCl9cmV0dXJuIFEoWnQoW3QudHlwZSx0Lml2LHQuc2VhbGVkXSksSHQpfWZ1bmN0aW9uIHZlKHQpe2NvbnN0IGU9KHQuZW5jb2Rpbmd8fEh0KT09PUVlP3JvKHQuZW5jb2RlZCk6dC5lbmNvZGVkLG49cnQoZSxIdCkscj1uLnNsaWNlKCRjLGVvKSxvPWVvO2lmKEJ0KHIpPT09S3Qpe2NvbnN0IGE9bytkbix1PWErcmUsbD1uLnNsaWNlKG8sYSksZj1uLnNsaWNlKGEsdSksaD1uLnNsaWNlKHUpO3JldHVybnt0eXBlOnIsc2VhbGVkOmgsaXY6ZixzZW5kZXJQdWJsaWNLZXk6bH19aWYoQnQocik9PT1uZSl7Y29uc3QgYT1uLnNsaWNlKG8pLHU9JHQocmUpO3JldHVybnt0eXBlOnIsc2VhbGVkOmEsaXY6dX19Y29uc3QgaT1vK3JlLHM9bi5zbGljZShvLGkpLGM9bi5zbGljZShpKTtyZXR1cm57dHlwZTpyLHNlYWxlZDpjLGl2OnN9fWZ1bmN0aW9uIHFjKHQsZSl7Y29uc3Qgbj12ZSh7ZW5jb2RlZDp0LGVuY29kaW5nOmU/LmVuY29kaW5nfSk7cmV0dXJuIG9vKHt0eXBlOkJ0KG4udHlwZSksc2VuZGVyUHVibGljS2V5OnR5cGVvZiBuLnNlbmRlclB1YmxpY0tleTxcInVcIj9RKG4uc2VuZGVyUHVibGljS2V5LEcpOnZvaWQgMCxyZWNlaXZlclB1YmxpY0tleTplPy5yZWNlaXZlclB1YmxpY0tleX0pfWZ1bmN0aW9uIG9vKHQpe2NvbnN0IGU9dD8udHlwZXx8bG47aWYoZT09PUt0KXtpZih0eXBlb2YgdD8uc2VuZGVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIm1pc3Npbmcgc2VuZGVyIHB1YmxpYyBrZXlcIik7aWYodHlwZW9mIHQ/LnJlY2VpdmVyUHVibGljS2V5PlwidVwiKXRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgcmVjZWl2ZXIgcHVibGljIGtleVwiKX1yZXR1cm57dHlwZTplLHNlbmRlclB1YmxpY0tleTp0Py5zZW5kZXJQdWJsaWNLZXkscmVjZWl2ZXJQdWJsaWNLZXk6dD8ucmVjZWl2ZXJQdWJsaWNLZXl9fWZ1bmN0aW9uIEtjKHQpe3JldHVybiB0LnR5cGU9PT1LdCYmdHlwZW9mIHQuc2VuZGVyUHVibGljS2V5PT1cInN0cmluZ1wiJiZ0eXBlb2YgdC5yZWNlaXZlclB1YmxpY0tleT09XCJzdHJpbmdcIn1mdW5jdGlvbiBGYyh0KXtyZXR1cm4gdC50eXBlPT09bmV9ZnVuY3Rpb24gaW8odCl7Y29uc3QgZT1CdWZmZXIuZnJvbSh0LngsXCJiYXNlNjRcIiksbj1CdWZmZXIuZnJvbSh0LnksXCJiYXNlNjRcIik7cmV0dXJuIFp0KFtuZXcgVWludDhBcnJheShbNF0pLGUsbl0pfWZ1bmN0aW9uIHpjKHQsZSl7Y29uc3RbbixyLG9dPXQuc3BsaXQoXCIuXCIpLGk9QnVmZmVyLmZyb20ocm8obyksXCJiYXNlNjRcIik7aWYoaS5sZW5ndGghPT02NCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hdHVyZSBsZW5ndGhcIik7Y29uc3Qgcz1pLnNsaWNlKDAsMzIpLGM9aS5zbGljZSgzMiw2NCksYT1gJHtufS4ke3J9YCx1PUp0KGEpLGw9aW8oZSk7aWYoIV9jLnZlcmlmeShadChbcyxjXSksdSxsKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNpZ25hdHVyZVwiKTtyZXR1cm4gTW8odCkucGF5bG9hZH1jb25zdCBzbz1cImlyblwiO2Z1bmN0aW9uIFpjKHQpe3JldHVybiB0Py5yZWxheXx8e3Byb3RvY29sOnNvfX1mdW5jdGlvbiBZYyh0KXtjb25zdCBlPURvW3RdO2lmKHR5cGVvZiBlPlwidVwiKXRocm93IG5ldyBFcnJvcihgUmVsYXkgUHJvdG9jb2wgbm90IHN1cHBvcnRlZDogJHt0fWApO3JldHVybiBlfWZ1bmN0aW9uIGNvKHQsZT1cIi1cIil7Y29uc3Qgbj17fSxyPVwicmVsYXlcIitlO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG89PntpZihvLnN0YXJ0c1dpdGgocikpe2NvbnN0IGk9by5yZXBsYWNlKHIsXCJcIikscz10W29dO25baV09c319KSxufWZ1bmN0aW9uIEdjKHQpe2lmKCF0LmluY2x1ZGVzKFwid2M6XCIpKXtjb25zdCB1PUxlKHQpO3UhPW51bGwmJnUuaW5jbHVkZXMoXCJ3YzpcIikmJih0PXUpfXQ9dC5pbmNsdWRlcyhcIndjOi8vXCIpP3QucmVwbGFjZShcIndjOi8vXCIsXCJcIik6dCx0PXQuaW5jbHVkZXMoXCJ3YzpcIik/dC5yZXBsYWNlKFwid2M6XCIsXCJcIik6dDtjb25zdCBlPXQuaW5kZXhPZihcIjpcIiksbj10LmluZGV4T2YoXCI/XCIpIT09LTE/dC5pbmRleE9mKFwiP1wiKTp2b2lkIDAscj10LnN1YnN0cmluZygwLGUpLG89dC5zdWJzdHJpbmcoZSsxLG4pLnNwbGl0KFwiQFwiKSxpPXR5cGVvZiBuPFwidVwiP3Quc3Vic3RyaW5nKG4pOlwiXCIscz1uZXcgVVJMU2VhcmNoUGFyYW1zKGkpLGM9e307cy5mb3JFYWNoKCh1LGwpPT57Y1tsXT11fSk7Y29uc3QgYT10eXBlb2YgYy5tZXRob2RzPT1cInN0cmluZ1wiP2MubWV0aG9kcy5zcGxpdChcIixcIik6dm9pZCAwO3JldHVybntwcm90b2NvbDpyLHRvcGljOmFvKG9bMF0pLHZlcnNpb246cGFyc2VJbnQob1sxXSwxMCksc3ltS2V5OmMuc3ltS2V5LHJlbGF5OmNvKGMpLG1ldGhvZHM6YSxleHBpcnlUaW1lc3RhbXA6Yy5leHBpcnlUaW1lc3RhbXA/cGFyc2VJbnQoYy5leHBpcnlUaW1lc3RhbXAsMTApOnZvaWQgMH19ZnVuY3Rpb24gYW8odCl7cmV0dXJuIHQuc3RhcnRzV2l0aChcIi8vXCIpP3Quc3Vic3RyaW5nKDIpOnR9ZnVuY3Rpb24gdW8odCxlPVwiLVwiKXtjb25zdCBuPVwicmVsYXlcIixyPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG89Pntjb25zdCBpPW8scz1uK2UraTt0W2ldJiYocltzXT10W2ldKX0pLHJ9ZnVuY3Rpb24gV2ModCl7Y29uc3QgZT1uZXcgVVJMU2VhcmNoUGFyYW1zLG49dW8odC5yZWxheSk7T2JqZWN0LmtleXMobikuc29ydCgpLmZvckVhY2gobz0+e2Uuc2V0KG8sbltvXSl9KSxlLnNldChcInN5bUtleVwiLHQuc3ltS2V5KSx0LmV4cGlyeVRpbWVzdGFtcCYmZS5zZXQoXCJleHBpcnlUaW1lc3RhbXBcIix0LmV4cGlyeVRpbWVzdGFtcC50b1N0cmluZygpKSx0Lm1ldGhvZHMmJmUuc2V0KFwibWV0aG9kc1wiLHQubWV0aG9kcy5qb2luKFwiLFwiKSk7Y29uc3Qgcj1lLnRvU3RyaW5nKCk7cmV0dXJuYCR7dC5wcm90b2NvbH06JHt0LnRvcGljfUAke3QudmVyc2lvbn0/JHtyfWB9ZnVuY3Rpb24gWGModCxlLG4pe3JldHVybmAke3R9P3djX2V2PSR7bn0mdG9waWM9JHtlfWB9dmFyIEpjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxRYz1PYmplY3QuZGVmaW5lUHJvcGVydGllcyx0YT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxmbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbmE9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxsbz0odCxlLG4pPT5lIGluIHQ/SmModCxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSk6dFtlXT1uLHJhPSh0LGUpPT57Zm9yKHZhciBuIGluIGV8fChlPXt9KSllYS5jYWxsKGUsbikmJmxvKHQsbixlW25dKTtpZihmbylmb3IodmFyIG4gb2YgZm8oZSkpbmEuY2FsbChlLG4pJiZsbyh0LG4sZVtuXSk7cmV0dXJuIHR9LG9hPSh0LGUpPT5RYyh0LHRhKGUpKTtmdW5jdGlvbiBJdCh0KXtjb25zdCBlPVtdO3JldHVybiB0LmZvckVhY2gobj0+e2NvbnN0W3Isb109bi5zcGxpdChcIjpcIik7ZS5wdXNoKGAke3J9OiR7b31gKX0pLGV9ZnVuY3Rpb24gaG8odCl7Y29uc3QgZT1bXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKG49PntlLnB1c2goLi4uSXQobi5hY2NvdW50cykpfSksZX1mdW5jdGlvbiBwbyh0LGUpe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC52YWx1ZXModCkuZm9yRWFjaChyPT57SXQoci5hY2NvdW50cykuaW5jbHVkZXMoZSkmJm4ucHVzaCguLi5yLm1ldGhvZHMpfSksbn1mdW5jdGlvbiBnbyh0LGUpe2NvbnN0IG49W107cmV0dXJuIE9iamVjdC52YWx1ZXModCkuZm9yRWFjaChyPT57SXQoci5hY2NvdW50cykuaW5jbHVkZXMoZSkmJm4ucHVzaCguLi5yLmV2ZW50cyl9KSxufWZ1bmN0aW9uIGlhKHQsZSl7Y29uc3Qgbj1Cbyh0LGUpO2lmKG4pdGhyb3cgbmV3IEVycm9yKG4ubWVzc2FnZSk7Y29uc3Qgcj17fTtmb3IoY29uc3RbbyxpXW9mIE9iamVjdC5lbnRyaWVzKHQpKXJbb109e21ldGhvZHM6aS5tZXRob2RzLGV2ZW50czppLmV2ZW50cyxjaGFpbnM6aS5hY2NvdW50cy5tYXAocz0+YCR7cy5zcGxpdChcIjpcIilbMF19OiR7cy5zcGxpdChcIjpcIilbMV19YCl9O3JldHVybiByfWZ1bmN0aW9uIHNhKHQpe2NvbnN0e3Byb3Bvc2FsOntyZXF1aXJlZE5hbWVzcGFjZXM6ZSxvcHRpb25hbE5hbWVzcGFjZXM6bj17fX0sc3VwcG9ydGVkTmFtZXNwYWNlczpyfT10LG89eW4oZSksaT15bihuKSxzPXt9O09iamVjdC5rZXlzKHIpLmZvckVhY2godT0+e2NvbnN0IGw9clt1XS5jaGFpbnMsZj1yW3VdLm1ldGhvZHMsaD1yW3VdLmV2ZW50cyx5PXJbdV0uYWNjb3VudHM7bC5mb3JFYWNoKEU9PntpZigheS5zb21lKHA9PnAuaW5jbHVkZXMoRSkpKXRocm93IG5ldyBFcnJvcihgTm8gYWNjb3VudHMgcHJvdmlkZWQgZm9yIGNoYWluICR7RX0gaW4gbmFtZXNwYWNlICR7dX1gKX0pLHNbdV09e2NoYWluczpsLG1ldGhvZHM6ZixldmVudHM6aCxhY2NvdW50czp5fX0pO2NvbnN0IGM9Tm8oZSxzLFwiYXBwcm92ZSgpXCIpO2lmKGMpdGhyb3cgbmV3IEVycm9yKGMubWVzc2FnZSk7Y29uc3QgYT17fTtyZXR1cm4hT2JqZWN0LmtleXMoZSkubGVuZ3RoJiYhT2JqZWN0LmtleXMobikubGVuZ3RoP3M6KE9iamVjdC5rZXlzKG8pLmZvckVhY2godT0+e2NvbnN0IGw9clt1XS5jaGFpbnMuZmlsdGVyKEU9Pnt2YXIgcCxkO3JldHVybihkPShwPW9bdV0pPT1udWxsP3ZvaWQgMDpwLmNoYWlucyk9PW51bGw/dm9pZCAwOmQuaW5jbHVkZXMoRSl9KSxmPXJbdV0ubWV0aG9kcy5maWx0ZXIoRT0+e3ZhciBwLGQ7cmV0dXJuKGQ9KHA9b1t1XSk9PW51bGw/dm9pZCAwOnAubWV0aG9kcyk9PW51bGw/dm9pZCAwOmQuaW5jbHVkZXMoRSl9KSxoPXJbdV0uZXZlbnRzLmZpbHRlcihFPT57dmFyIHAsZDtyZXR1cm4oZD0ocD1vW3VdKT09bnVsbD92b2lkIDA6cC5ldmVudHMpPT1udWxsP3ZvaWQgMDpkLmluY2x1ZGVzKEUpfSkseT1sLm1hcChFPT5yW3VdLmFjY291bnRzLmZpbHRlcihwPT5wLmluY2x1ZGVzKGAke0V9OmApKSkuZmxhdCgpO2FbdV09e2NoYWluczpsLG1ldGhvZHM6ZixldmVudHM6aCxhY2NvdW50czp5fX0pLE9iamVjdC5rZXlzKGkpLmZvckVhY2godT0+e3ZhciBsLGYsaCx5LEUscDtpZighclt1XSlyZXR1cm47Y29uc3QgZD0oZj0obD1pW3VdKT09bnVsbD92b2lkIDA6bC5jaGFpbnMpPT1udWxsP3ZvaWQgMDpmLmZpbHRlcihOPT5yW3VdLmNoYWlucy5pbmNsdWRlcyhOKSksdj1yW3VdLm1ldGhvZHMuZmlsdGVyKE49Pnt2YXIgJCxCO3JldHVybihCPSgkPWlbdV0pPT1udWxsP3ZvaWQgMDokLm1ldGhvZHMpPT1udWxsP3ZvaWQgMDpCLmluY2x1ZGVzKE4pfSksbT1yW3VdLmV2ZW50cy5maWx0ZXIoTj0+e3ZhciAkLEI7cmV0dXJuKEI9KCQ9aVt1XSk9PW51bGw/dm9pZCAwOiQuZXZlbnRzKT09bnVsbD92b2lkIDA6Qi5pbmNsdWRlcyhOKX0pLE89ZD8ubWFwKE49PnJbdV0uYWNjb3VudHMuZmlsdGVyKCQ9PiQuaW5jbHVkZXMoYCR7Tn06YCkpKS5mbGF0KCk7YVt1XT17Y2hhaW5zOmF0KChoPWFbdV0pPT1udWxsP3ZvaWQgMDpoLmNoYWlucyxkKSxtZXRob2RzOmF0KCh5PWFbdV0pPT1udWxsP3ZvaWQgMDp5Lm1ldGhvZHMsdiksZXZlbnRzOmF0KChFPWFbdV0pPT1udWxsP3ZvaWQgMDpFLmV2ZW50cyxtKSxhY2NvdW50czphdCgocD1hW3VdKT09bnVsbD92b2lkIDA6cC5hY2NvdW50cyxPKX19KSxhKX1mdW5jdGlvbiBnbih0KXtyZXR1cm4gdC5pbmNsdWRlcyhcIjpcIil9ZnVuY3Rpb24geW8odCl7cmV0dXJuIGduKHQpP3Quc3BsaXQoXCI6XCIpWzBdOnR9ZnVuY3Rpb24geW4odCl7dmFyIGUsbixyO2NvbnN0IG89e307aWYoIXhlKHQpKXJldHVybiBvO2Zvcihjb25zdFtpLHNdb2YgT2JqZWN0LmVudHJpZXModCkpe2NvbnN0IGM9Z24oaSk/W2ldOnMuY2hhaW5zLGE9cy5tZXRob2RzfHxbXSx1PXMuZXZlbnRzfHxbXSxsPXlvKGkpO29bbF09b2EocmEoe30sb1tsXSkse2NoYWluczphdChjLChlPW9bbF0pPT1udWxsP3ZvaWQgMDplLmNoYWlucyksbWV0aG9kczphdChhLChuPW9bbF0pPT1udWxsP3ZvaWQgMDpuLm1ldGhvZHMpLGV2ZW50czphdCh1LChyPW9bbF0pPT1udWxsP3ZvaWQgMDpyLmV2ZW50cyl9KX1yZXR1cm4gb31mdW5jdGlvbiBtbyh0KXtjb25zdCBlPXt9O3JldHVybiB0Py5mb3JFYWNoKG49Pnt2YXIgcjtjb25zdFtvLGldPW4uc3BsaXQoXCI6XCIpO2Vbb118fChlW29dPXthY2NvdW50czpbXSxjaGFpbnM6W10sZXZlbnRzOltdLG1ldGhvZHM6W119KSxlW29dLmFjY291bnRzLnB1c2gobiksKHI9ZVtvXS5jaGFpbnMpPT1udWxsfHxyLnB1c2goYCR7b306JHtpfWApfSksZX1mdW5jdGlvbiBjYSh0LGUpe2U9ZS5tYXAocj0+ci5yZXBsYWNlKFwiZGlkOnBraDpcIixcIlwiKSk7Y29uc3Qgbj1tbyhlKTtmb3IoY29uc3RbcixvXW9mIE9iamVjdC5lbnRyaWVzKG4pKW8ubWV0aG9kcz9vLm1ldGhvZHM9YXQoby5tZXRob2RzLHQpOm8ubWV0aG9kcz10LG8uZXZlbnRzPVtcImNoYWluQ2hhbmdlZFwiLFwiYWNjb3VudHNDaGFuZ2VkXCJdO3JldHVybiBufWNvbnN0IHdvPXtJTlZBTElEX01FVEhPRDp7bWVzc2FnZTpcIkludmFsaWQgbWV0aG9kLlwiLGNvZGU6MTAwMX0sSU5WQUxJRF9FVkVOVDp7bWVzc2FnZTpcIkludmFsaWQgZXZlbnQuXCIsY29kZToxMDAyfSxJTlZBTElEX1VQREFURV9SRVFVRVNUOnttZXNzYWdlOlwiSW52YWxpZCB1cGRhdGUgcmVxdWVzdC5cIixjb2RlOjEwMDN9LElOVkFMSURfRVhURU5EX1JFUVVFU1Q6e21lc3NhZ2U6XCJJbnZhbGlkIGV4dGVuZCByZXF1ZXN0LlwiLGNvZGU6MTAwNH0sSU5WQUxJRF9TRVNTSU9OX1NFVFRMRV9SRVFVRVNUOnttZXNzYWdlOlwiSW52YWxpZCBzZXNzaW9uIHNldHRsZSByZXF1ZXN0LlwiLGNvZGU6MTAwNX0sVU5BVVRIT1JJWkVEX01FVEhPRDp7bWVzc2FnZTpcIlVuYXV0aG9yaXplZCBtZXRob2QuXCIsY29kZTozMDAxfSxVTkFVVEhPUklaRURfRVZFTlQ6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgZXZlbnQuXCIsY29kZTozMDAyfSxVTkFVVEhPUklaRURfVVBEQVRFX1JFUVVFU1Q6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgdXBkYXRlIHJlcXVlc3QuXCIsY29kZTozMDAzfSxVTkFVVEhPUklaRURfRVhURU5EX1JFUVVFU1Q6e21lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgZXh0ZW5kIHJlcXVlc3QuXCIsY29kZTozMDA0fSxVU0VSX1JFSkVDVEVEOnttZXNzYWdlOlwiVXNlciByZWplY3RlZC5cIixjb2RlOjVlM30sVVNFUl9SRUpFQ1RFRF9DSEFJTlM6e21lc3NhZ2U6XCJVc2VyIHJlamVjdGVkIGNoYWlucy5cIixjb2RlOjUwMDF9LFVTRVJfUkVKRUNURURfTUVUSE9EUzp7bWVzc2FnZTpcIlVzZXIgcmVqZWN0ZWQgbWV0aG9kcy5cIixjb2RlOjUwMDJ9LFVTRVJfUkVKRUNURURfRVZFTlRTOnttZXNzYWdlOlwiVXNlciByZWplY3RlZCBldmVudHMuXCIsY29kZTo1MDAzfSxVTlNVUFBPUlRFRF9DSEFJTlM6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCBjaGFpbnMuXCIsY29kZTo1MTAwfSxVTlNVUFBPUlRFRF9NRVRIT0RTOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgbWV0aG9kcy5cIixjb2RlOjUxMDF9LFVOU1VQUE9SVEVEX0VWRU5UUzp7bWVzc2FnZTpcIlVuc3VwcG9ydGVkIGV2ZW50cy5cIixjb2RlOjUxMDJ9LFVOU1VQUE9SVEVEX0FDQ09VTlRTOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgYWNjb3VudHMuXCIsY29kZTo1MTAzfSxVTlNVUFBPUlRFRF9OQU1FU1BBQ0VfS0VZOnttZXNzYWdlOlwiVW5zdXBwb3J0ZWQgbmFtZXNwYWNlIGtleS5cIixjb2RlOjUxMDR9LFVTRVJfRElTQ09OTkVDVEVEOnttZXNzYWdlOlwiVXNlciBkaXNjb25uZWN0ZWQuXCIsY29kZTo2ZTN9LFNFU1NJT05fU0VUVExFTUVOVF9GQUlMRUQ6e21lc3NhZ2U6XCJTZXNzaW9uIHNldHRsZW1lbnQgZmFpbGVkLlwiLGNvZGU6N2UzfSxXQ19NRVRIT0RfVU5TVVBQT1JURUQ6e21lc3NhZ2U6XCJVbnN1cHBvcnRlZCB3Y18gbWV0aG9kLlwiLGNvZGU6MTAwMDF9fSxibz17Tk9UX0lOSVRJQUxJWkVEOnttZXNzYWdlOlwiTm90IGluaXRpYWxpemVkLlwiLGNvZGU6MX0sTk9fTUFUQ0hJTkdfS0VZOnttZXNzYWdlOlwiTm8gbWF0Y2hpbmcga2V5LlwiLGNvZGU6Mn0sUkVTVE9SRV9XSUxMX09WRVJSSURFOnttZXNzYWdlOlwiUmVzdG9yZSB3aWxsIG92ZXJyaWRlLlwiLGNvZGU6M30sUkVTVUJTQ1JJQkVEOnttZXNzYWdlOlwiUmVzdWJzY3JpYmVkLlwiLGNvZGU6NH0sTUlTU0lOR19PUl9JTlZBTElEOnttZXNzYWdlOlwiTWlzc2luZyBvciBpbnZhbGlkLlwiLGNvZGU6NX0sRVhQSVJFRDp7bWVzc2FnZTpcIkV4cGlyZWQuXCIsY29kZTo2fSxVTktOT1dOX1RZUEU6e21lc3NhZ2U6XCJVbmtub3duIHR5cGUuXCIsY29kZTo3fSxNSVNNQVRDSEVEX1RPUElDOnttZXNzYWdlOlwiTWlzbWF0Y2hlZCB0b3BpYy5cIixjb2RlOjh9LE5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVM6e21lc3NhZ2U6XCJOb24gY29uZm9ybWluZyBuYW1lc3BhY2VzLlwiLGNvZGU6OX19O2Z1bmN0aW9uIGh0KHQsZSl7Y29uc3R7bWVzc2FnZTpuLGNvZGU6cn09Ym9bdF07cmV0dXJue21lc3NhZ2U6ZT9gJHtufSAke2V9YDpuLGNvZGU6cn19ZnVuY3Rpb24gTnQodCxlKXtjb25zdHttZXNzYWdlOm4sY29kZTpyfT13b1t0XTtyZXR1cm57bWVzc2FnZTplP2Ake259ICR7ZX1gOm4sY29kZTpyfX1mdW5jdGlvbiBvZSh0LGUpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3R5cGVvZiBlPFwidVwiJiZ0Lmxlbmd0aD90LmV2ZXJ5KGUpOiEwOiExfWZ1bmN0aW9uIHhlKHQpe3JldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1PYmplY3QucHJvdG90eXBlJiZPYmplY3Qua2V5cyh0KS5sZW5ndGh9ZnVuY3Rpb24gRXQodCl7cmV0dXJuIHR5cGVvZiB0PlwidVwifWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIGUmJkV0KHQpPyEwOnR5cGVvZiB0PT1cInN0cmluZ1wiJiYhIXQudHJpbSgpLmxlbmd0aH1mdW5jdGlvbiBTZSh0LGUpe3JldHVybiBlJiZFdCh0KT8hMDp0eXBlb2YgdD09XCJudW1iZXJcIiYmIWlzTmFOKHQpfWZ1bmN0aW9uIGFhKHQsZSl7Y29uc3R7cmVxdWlyZWROYW1lc3BhY2VzOm59PWUscj1PYmplY3Qua2V5cyh0Lm5hbWVzcGFjZXMpLG89T2JqZWN0LmtleXMobik7bGV0IGk9ITA7cmV0dXJuIGd0KG8scik/KHIuZm9yRWFjaChzPT57Y29uc3R7YWNjb3VudHM6YyxtZXRob2RzOmEsZXZlbnRzOnV9PXQubmFtZXNwYWNlc1tzXSxsPUl0KGMpLGY9bltzXTsoIWd0KGNlKHMsZiksbCl8fCFndChmLm1ldGhvZHMsYSl8fCFndChmLmV2ZW50cyx1KSkmJihpPSExKX0pLGkpOiExfWZ1bmN0aW9uIGllKHQpe3JldHVybiBudCh0LCExKSYmdC5pbmNsdWRlcyhcIjpcIik/dC5zcGxpdChcIjpcIikubGVuZ3RoPT09MjohMX1mdW5jdGlvbiBFbyh0KXtpZihudCh0LCExKSYmdC5pbmNsdWRlcyhcIjpcIikpe2NvbnN0IGU9dC5zcGxpdChcIjpcIik7aWYoZS5sZW5ndGg9PT0zKXtjb25zdCBuPWVbMF0rXCI6XCIrZVsxXTtyZXR1cm4hIWVbMl0mJmllKG4pfX1yZXR1cm4hMX1mdW5jdGlvbiB1YSh0KXtmdW5jdGlvbiBlKG4pe3RyeXtyZXR1cm4gdHlwZW9mIG5ldyBVUkwobik8XCJ1XCJ9Y2F0Y2h7cmV0dXJuITF9fXRyeXtpZihudCh0LCExKSl7aWYoZSh0KSlyZXR1cm4hMDtjb25zdCBuPUxlKHQpO3JldHVybiBlKG4pfX1jYXRjaHt9cmV0dXJuITF9ZnVuY3Rpb24gZmEodCl7dmFyIGU7cmV0dXJuKGU9dD8ucHJvcG9zZXIpPT1udWxsP3ZvaWQgMDplLnB1YmxpY0tleX1mdW5jdGlvbiBsYSh0KXtyZXR1cm4gdD8udG9waWN9ZnVuY3Rpb24gZGEodCxlKXtsZXQgbj1udWxsO3JldHVybiBudCh0Py5wdWJsaWNLZXksITEpfHwobj1odChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9IGNvbnRyb2xsZXIgcHVibGljIGtleSBzaG91bGQgYmUgYSBzdHJpbmdgKSksbn1mdW5jdGlvbiBtbih0KXtsZXQgZT0hMDtyZXR1cm4gb2UodCk/dC5sZW5ndGgmJihlPXQuZXZlcnkobj0+bnQobiwhMSkpKTplPSExLGV9ZnVuY3Rpb24gdm8odCxlLG4pe2xldCByPW51bGw7cmV0dXJuIG9lKGUpJiZlLmxlbmd0aD9lLmZvckVhY2gobz0+e3J8fGllKG8pfHwocj1OdChcIlVOU1VQUE9SVEVEX0NIQUlOU1wiLGAke259LCBjaGFpbiAke299IHNob3VsZCBiZSBhIHN0cmluZyBhbmQgY29uZm9ybSB0byBcIm5hbWVzcGFjZTpjaGFpbklkXCIgZm9ybWF0YCkpfSk6aWUodCl8fChyPU50KFwiVU5TVVBQT1JURURfQ0hBSU5TXCIsYCR7bn0sIGNoYWlucyBtdXN0IGJlIGRlZmluZWQgYXMgXCJuYW1lc3BhY2U6Y2hhaW5JZFwiIGUuZy4gXCJlaXAxNTU6MVwiOiB7Li4ufSBpbiB0aGUgbmFtZXNwYWNlIGtleSBPUiBhcyBhbiBhcnJheSBvZiBDQUlQLTIgY2hhaW5JZHMgZS5nLiBlaXAxNTU6IHsgY2hhaW5zOiBbXCJlaXAxNTU6MVwiLCBcImVpcDE1NTo1XCJdIH1gKSkscn1mdW5jdGlvbiB4byh0LGUsbil7bGV0IHI9bnVsbDtyZXR1cm4gT2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW28saV0pPT57aWYocilyZXR1cm47Y29uc3Qgcz12byhvLGNlKG8saSksYCR7ZX0gJHtufWApO3MmJihyPXMpfSkscn1mdW5jdGlvbiBTbyh0LGUpe2xldCBuPW51bGw7cmV0dXJuIG9lKHQpP3QuZm9yRWFjaChyPT57bnx8RW8ocil8fChuPU50KFwiVU5TVVBQT1JURURfQUNDT1VOVFNcIixgJHtlfSwgYWNjb3VudCAke3J9IHNob3VsZCBiZSBhIHN0cmluZyBhbmQgY29uZm9ybSB0byBcIm5hbWVzcGFjZTpjaGFpbklkOmFkZHJlc3NcIiBmb3JtYXRgKSl9KTpuPU50KFwiVU5TVVBQT1JURURfQUNDT1VOVFNcIixgJHtlfSwgYWNjb3VudHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3MgY29uZm9ybWluZyB0byBcIm5hbWVzcGFjZTpjaGFpbklkOmFkZHJlc3NcIiBmb3JtYXRgKSxufWZ1bmN0aW9uIE9vKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntpZihuKXJldHVybjtjb25zdCBvPVNvKHI/LmFjY291bnRzLGAke2V9IG5hbWVzcGFjZWApO28mJihuPW8pfSksbn1mdW5jdGlvbiBBbyh0LGUpe2xldCBuPW51bGw7cmV0dXJuIG1uKHQ/Lm1ldGhvZHMpP21uKHQ/LmV2ZW50cyl8fChuPU50KFwiVU5TVVBQT1JURURfRVZFTlRTXCIsYCR7ZX0sIGV2ZW50cyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBvciBlbXB0eSBhcnJheSBmb3Igbm8gZXZlbnRzYCkpOm49TnQoXCJVTlNVUFBPUlRFRF9NRVRIT0RTXCIsYCR7ZX0sIG1ldGhvZHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgZW1wdHkgYXJyYXkgZm9yIG5vIG1ldGhvZHNgKSxufWZ1bmN0aW9uIHduKHQsZSl7bGV0IG49bnVsbDtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKHI9PntpZihuKXJldHVybjtjb25zdCBvPUFvKHIsYCR7ZX0sIG5hbWVzcGFjZWApO28mJihuPW8pfSksbn1mdW5jdGlvbiBoYSh0LGUsbil7bGV0IHI9bnVsbDtpZih0JiZ4ZSh0KSl7Y29uc3Qgbz13bih0LGUpO28mJihyPW8pO2NvbnN0IGk9eG8odCxlLG4pO2kmJihyPWkpfWVsc2Ugcj1odChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9LCAke259IHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBkYXRhYCk7cmV0dXJuIHJ9ZnVuY3Rpb24gQm8odCxlKXtsZXQgbj1udWxsO2lmKHQmJnhlKHQpKXtjb25zdCByPXduKHQsZSk7ciYmKG49cik7Y29uc3Qgbz1Pbyh0LGUpO28mJihuPW8pfWVsc2Ugbj1odChcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLGAke2V9LCBuYW1lc3BhY2VzIHNob3VsZCBiZSBhbiBvYmplY3Qgd2l0aCBkYXRhYCk7cmV0dXJuIG59ZnVuY3Rpb24gSW8odCl7cmV0dXJuIG50KHQucHJvdG9jb2wsITApfWZ1bmN0aW9uIHBhKHQsZSl7bGV0IG49ITE7cmV0dXJuIGUmJiF0P249ITA6dCYmb2UodCkmJnQubGVuZ3RoJiZ0LmZvckVhY2gocj0+e249SW8ocil9KSxufWZ1bmN0aW9uIGdhKHQpe3JldHVybiB0eXBlb2YgdD09XCJudW1iZXJcIn1mdW5jdGlvbiB5YSh0KXtyZXR1cm4gdHlwZW9mIHQ8XCJ1XCImJnR5cGVvZiB0IT09bnVsbH1mdW5jdGlvbiBtYSh0KXtyZXR1cm4hKCF0fHx0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQuY29kZXx8IVNlKHQuY29kZSwhMSl8fCF0Lm1lc3NhZ2V8fCFudCh0Lm1lc3NhZ2UsITEpKX1mdW5jdGlvbiB3YSh0KXtyZXR1cm4hKEV0KHQpfHwhbnQodC5tZXRob2QsITEpKX1mdW5jdGlvbiBiYSh0KXtyZXR1cm4hKEV0KHQpfHxFdCh0LnJlc3VsdCkmJkV0KHQuZXJyb3IpfHwhU2UodC5pZCwhMSl8fCFudCh0Lmpzb25ycGMsITEpKX1mdW5jdGlvbiBFYSh0KXtyZXR1cm4hKEV0KHQpfHwhbnQodC5uYW1lLCExKSl9ZnVuY3Rpb24gdmEodCxlKXtyZXR1cm4hKCFpZShlKXx8IWhvKHQpLmluY2x1ZGVzKGUpKX1mdW5jdGlvbiB4YSh0LGUsbil7cmV0dXJuIG50KG4sITEpP3BvKHQsZSkuaW5jbHVkZXMobik6ITF9ZnVuY3Rpb24gU2EodCxlLG4pe3JldHVybiBudChuLCExKT9nbyh0LGUpLmluY2x1ZGVzKG4pOiExfWZ1bmN0aW9uIE5vKHQsZSxuKXtsZXQgcj1udWxsO2NvbnN0IG89T2EodCksaT1BYShlKSxzPU9iamVjdC5rZXlzKG8pLGM9T2JqZWN0LmtleXMoaSksYT1VbyhPYmplY3Qua2V5cyh0KSksdT1VbyhPYmplY3Qua2V5cyhlKSksbD1hLmZpbHRlcihmPT4hdS5pbmNsdWRlcyhmKSk7cmV0dXJuIGwubGVuZ3RoJiYocj1odChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGtleXMgZG9uJ3Qgc2F0aXNmeSByZXF1aXJlZE5hbWVzcGFjZXMuXG4gICAgICBSZXF1aXJlZDogJHtsLnRvU3RyaW5nKCl9XG4gICAgICBSZWNlaXZlZDogJHtPYmplY3Qua2V5cyhlKS50b1N0cmluZygpfWApKSxndChzLGMpfHwocj1odChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGNoYWlucyBkb24ndCBzYXRpc2Z5IHJlcXVpcmVkIG5hbWVzcGFjZXMuXG4gICAgICBSZXF1aXJlZDogJHtzLnRvU3RyaW5nKCl9XG4gICAgICBBcHByb3ZlZDogJHtjLnRvU3RyaW5nKCl9YCkpLE9iamVjdC5rZXlzKGUpLmZvckVhY2goZj0+e2lmKCFmLmluY2x1ZGVzKFwiOlwiKXx8cilyZXR1cm47Y29uc3QgaD1JdChlW2ZdLmFjY291bnRzKTtoLmluY2x1ZGVzKGYpfHwocj1odChcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIixgJHtufSBuYW1lc3BhY2VzIGFjY291bnRzIGRvbid0IHNhdGlzZnkgbmFtZXNwYWNlIGFjY291bnRzIGZvciAke2Z9XG4gICAgICAgIFJlcXVpcmVkOiAke2Z9XG4gICAgICAgIEFwcHJvdmVkOiAke2gudG9TdHJpbmcoKX1gKSl9KSxzLmZvckVhY2goZj0+e3J8fChndChvW2ZdLm1ldGhvZHMsaVtmXS5tZXRob2RzKT9ndChvW2ZdLmV2ZW50cyxpW2ZdLmV2ZW50cyl8fChyPWh0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMgZXZlbnRzIGRvbid0IHNhdGlzZnkgbmFtZXNwYWNlIGV2ZW50cyBmb3IgJHtmfWApKTpyPWh0KFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLGAke259IG5hbWVzcGFjZXMgbWV0aG9kcyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBtZXRob2RzIGZvciAke2Z9YCkpfSkscn1mdW5jdGlvbiBPYSh0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49Pnt2YXIgcjtuLmluY2x1ZGVzKFwiOlwiKT9lW25dPXRbbl06KHI9dFtuXS5jaGFpbnMpPT1udWxsfHxyLmZvckVhY2gobz0+e2Vbb109e21ldGhvZHM6dFtuXS5tZXRob2RzLGV2ZW50czp0W25dLmV2ZW50c319KX0pLGV9ZnVuY3Rpb24gVW8odCl7cmV0dXJuWy4uLm5ldyBTZXQodC5tYXAoZT0+ZS5pbmNsdWRlcyhcIjpcIik/ZS5zcGxpdChcIjpcIilbMF06ZSkpXX1mdW5jdGlvbiBBYSh0KXtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49PntpZihuLmluY2x1ZGVzKFwiOlwiKSllW25dPXRbbl07ZWxzZXtjb25zdCByPUl0KHRbbl0uYWNjb3VudHMpO3I/LmZvckVhY2gobz0+e2Vbb109e2FjY291bnRzOnRbbl0uYWNjb3VudHMuZmlsdGVyKGk9PmkuaW5jbHVkZXMoYCR7b306YCkpLG1ldGhvZHM6dFtuXS5tZXRob2RzLGV2ZW50czp0W25dLmV2ZW50c319KX19KSxlfWZ1bmN0aW9uIEJhKHQsZSl7cmV0dXJuIFNlKHQsITEpJiZ0PD1lLm1heCYmdD49ZS5taW59ZnVuY3Rpb24gSWEoKXtjb25zdCB0PXh0KCk7cmV0dXJuIG5ldyBQcm9taXNlKGU9Pntzd2l0Y2godCl7Y2FzZSBZLmJyb3dzZXI6ZShUbygpKTticmVhaztjYXNlIFkucmVhY3ROYXRpdmU6ZShSbygpKTticmVhaztjYXNlIFkubm9kZTplKF9vKCkpO2JyZWFrO2RlZmF1bHQ6ZSghMCl9fSl9ZnVuY3Rpb24gVG8oKXtyZXR1cm4gWXQoKSYmbmF2aWdhdG9yPy5vbkxpbmV9YXN5bmMgZnVuY3Rpb24gUm8oKXtpZihwdCgpJiZ0eXBlb2YgZ2xvYmFsPFwidVwiJiZnbG9iYWwhPW51bGwmJmdsb2JhbC5OZXRJbmZvKXtjb25zdCB0PWF3YWl0KGdsb2JhbD09bnVsbD92b2lkIDA6Z2xvYmFsLk5ldEluZm8uZmV0Y2goKSk7cmV0dXJuIHQ/LmlzQ29ubmVjdGVkfXJldHVybiEwfWZ1bmN0aW9uIF9vKCl7cmV0dXJuITB9ZnVuY3Rpb24gTmEodCl7c3dpdGNoKHh0KCkpe2Nhc2UgWS5icm93c2VyOiRvKHQpO2JyZWFrO2Nhc2UgWS5yZWFjdE5hdGl2ZTpMbyh0KTticmVhaztjYXNlIFkubm9kZTpicmVha319ZnVuY3Rpb24gJG8odCl7IXB0KCkmJll0KCkmJih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCgpPT50KCEwKSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCk9PnQoITEpKSl9ZnVuY3Rpb24gTG8odCl7cHQoKSYmdHlwZW9mIGdsb2JhbDxcInVcIiYmZ2xvYmFsIT1udWxsJiZnbG9iYWwuTmV0SW5mbyYmZ2xvYmFsPy5OZXRJbmZvLmFkZEV2ZW50TGlzdGVuZXIoZT0+dChlPy5pc0Nvbm5lY3RlZCkpfWNvbnN0IGJuPXt9O2NsYXNzIFVhe3N0YXRpYyBnZXQoZSl7cmV0dXJuIGJuW2VdfXN0YXRpYyBzZXQoZSxuKXtibltlXT1ufXN0YXRpYyBkZWxldGUoZSl7ZGVsZXRlIGJuW2VdfX1leHBvcnR7Zm4gYXMgQkFTRTEwLEcgYXMgQkFTRTE2LEh0IGFzIEJBU0U2NCxFZSBhcyBCQVNFNjRVUkwsUW8gYXMgQ09MT04sVGUgYXMgREVGQVVMVF9ERVBUSCxhZSBhcyBFTVBUWV9TUEFDRSxZIGFzIEVOVl9NQVAsYm8gYXMgSU5URVJOQUxfRVJST1JTLFVhIGFzIE1lbW9yeVN0b3JlLHRpIGFzIE9ORV9USE9VU0FORCwkbiBhcyBSRUFDVF9OQVRJVkVfUFJPRFVDVCxzbyBhcyBSRUxBWUVSX0RFRkFVTFRfUFJPVE9DT0wsd28gYXMgU0RLX0VSUk9SUyxqbiBhcyBTREtfVFlQRSxMbiBhcyBTTEFTSCxsbiBhcyBUWVBFXzAsS3QgYXMgVFlQRV8xLG5lIGFzIFRZUEVfMixxdCBhcyBVVEY4LEVyIGFzIGFkZFJlc291cmNlVG9SZWNhcCxDbiBhcyBhcHBlbmRUb1F1ZXJ5U3RyaW5nLGFpIGFzIGFzc2VydFR5cGUsRGUgYXMgYXNzaWduQWJpbGl0eVRvQWN0aW9ucyx3ciBhcyBiYXNlNjREZWNvZGUsbXIgYXMgYmFzZTY0RW5jb2RlLHNhIGFzIGJ1aWxkQXBwcm92ZWROYW1lc3BhY2VzLHNzIGFzIGJ1aWxkQXV0aE9iamVjdCxjYSBhcyBidWlsZE5hbWVzcGFjZXNGcm9tQXV0aCx4ciBhcyBidWlsZFJlY2FwU3RhdGVtZW50LEVpIGFzIGNhbGNFeHBpcnkscGkgYXMgY2FwaXRhbGl6ZSxxbiBhcyBjYXBpdGFsaXplV29yZCxnaSBhcyBjcmVhdGVEZWxheWVkUHJvbWlzZSxmcyBhcyBjcmVhdGVFbmNvZGVkUmVjYXAseWkgYXMgY3JlYXRlRXhwaXJpbmdQcm9taXNlLGJyIGFzIGNyZWF0ZVJlY2FwLHl0IGFzIGRlY29kZVJlY2FwLEJ0IGFzIGRlY29kZVR5cGVCeXRlLEhjIGFzIGRlY29kZVR5cGVUd29FbnZlbG9wZSxNYyBhcyBkZWNyeXB0LENjIGFzIGRlcml2ZVN5bUtleSx2ZSBhcyBkZXNlcmlhbGl6ZSxsZSBhcyBlbmNvZGVSZWNhcCxobiBhcyBlbmNvZGVUeXBlQnl0ZSxEYyBhcyBlbmNvZGVUeXBlVHdvRW52ZWxvcGUsVmMgYXMgZW5jcnlwdCx4aSBhcyBlbmdpbmVFdmVudCxoaSBhcyBlbnVtaWZ5LEppIGFzIGV4dHJhY3RTb2xhbmFUcmFuc2FjdGlvbklkLEJuIGFzIGZvcm1hdEFjY291bnRJZCxIbyBhcyBmb3JtYXRBY2NvdW50V2l0aENoYWluLEFuIGFzIGZvcm1hdENoYWluSWQsS24gYXMgZm9ybWF0RGVlcGxpbmtVcmwsX2UgYXMgZm9ybWF0RXhwaXJlclRhcmdldCx3aSBhcyBmb3JtYXRJZFRhcmdldCxociBhcyBmb3JtYXRNZXNzYWdlLHVpIGFzIGZvcm1hdE1lc3NhZ2VDb250ZXh0LHVvIGFzIGZvcm1hdFJlbGF5UGFyYW1zLHNpIGFzIGZvcm1hdFJlbGF5UnBjVXJsLHFlIGFzIGZvcm1hdFN0YXRlbWVudEZyb21SZWNhcCxtaSBhcyBmb3JtYXRUb3BpY1RhcmdldCxNbiBhcyBmb3JtYXRVQSxXYyBhcyBmb3JtYXRVcmksTGUgYXMgZnJvbUJhc2U2NCxMYyBhcyBnZW5lcmF0ZUtleVBhaXIsamMgYXMgZ2VuZXJhdGVSYW5kb21CeXRlczMyLEl0IGFzIGdldEFjY291bnRzQ2hhaW5zLEtvIGFzIGdldEFjY291bnRzRnJvbU5hbWVzcGFjZXMsSW4gYXMgZ2V0QWRkcmVzc0Zyb21BY2NvdW50LHFvIGFzIGdldEFkZHJlc3Nlc0Zyb21BY2NvdW50cyxyaSBhcyBnZXRBcHBJZCxQbiBhcyBnZXRBcHBNZXRhZGF0YSxUbyBhcyBnZXRCcm93c2VyT25saW5lU3RhdHVzLE5uIGFzIGdldENoYWluRnJvbUFjY291bnQsVW4gYXMgZ2V0Q2hhaW5zRnJvbUFjY291bnRzLGNlIGFzIGdldENoYWluc0Zyb21OYW1lc3BhY2UsRm8gYXMgZ2V0Q2hhaW5zRnJvbU5hbWVzcGFjZXMsaHMgYXMgZ2V0Q2hhaW5zRnJvbVJlY2FwLHpvIGFzIGdldENoYWluc0Zyb21SZXF1aXJlZE5hbWVzcGFjZXMsJGUgYXMgZ2V0Q29tbW9uVmFsdWVzSW5BcnJheXMsaW8gYXMgZ2V0Q3J5cHRvS2V5RnJvbUtleURhdGEscHIgYXMgZ2V0RGVjb2RlZFJlY2FwRnJvbVJlc291cmNlcyxPaSBhcyBnZXREZWVwTGluayxNZSBhcyBnZXREaWRBZGRyZXNzLGZlIGFzIGdldERpZEFkZHJlc3NTZWdtZW50cyxsciBhcyBnZXREaWRDaGFpbklkLHh0IGFzIGdldEVudmlyb25tZW50LGNpIGFzIGdldEh0dHBVcmwsaHQgYXMgZ2V0SW50ZXJuYWxFcnJvcixWbiBhcyBnZXRKYXZhc2NyaXB0SUQsa24gYXMgZ2V0SmF2YXNjcmlwdE9TLEhuIGFzIGdldExhc3RJdGVtcyxYYyBhcyBnZXRMaW5rTW9kZVVSTCxkcyBhcyBnZXRNZXRob2RzRnJvbVJlY2FwLGRyIGFzIGdldE5hbWVzcGFjZWREaWRDaGFpbklkLGhvIGFzIGdldE5hbWVzcGFjZXNDaGFpbnMsZ28gYXMgZ2V0TmFtZXNwYWNlc0V2ZW50c0ZvckNoYWluSWQsbW8gYXMgZ2V0TmFtZXNwYWNlc0Zyb21BY2NvdW50cyxwbyBhcyBnZXROYW1lc3BhY2VzTWV0aG9kc0ZvckNoYWluSWQsX28gYXMgZ2V0Tm9kZU9ubGluZVN0YXR1cyx5ciBhcyBnZXRSZUNhcEFjdGlvbnMsUm8gYXMgZ2V0UmVhY3ROYXRpdmVPbmxpbmVTdGF0dXMsdXMgYXMgZ2V0UmVjYXBBYmlsaXRpZXNGcm9tUmVzb3VyY2UsZGUgYXMgZ2V0UmVjYXBGcm9tUmVzb3VyY2VzLGdyIGFzIGdldFJlY2FwUmVzb3VyY2UsaWkgYXMgZ2V0UmVsYXlDbGllbnRNZXRhZGF0YSxZYyBhcyBnZXRSZWxheVByb3RvY29sQXBpLFpjIGFzIGdldFJlbGF5UHJvdG9jb2xOYW1lLGlhIGFzIGdldFJlcXVpcmVkTmFtZXNwYWNlc0Zyb21OYW1lc3BhY2VzLE50IGFzIGdldFNka0Vycm9yLEFpIGFzIGdldFNlYXJjaFBhcmFtRnJvbVVSTCxVZSBhcyBnZXRVbmlxdWVWYWx1ZXMsU2kgYXMgaGFuZGxlRGVlcGxpbmtSZWRpcmVjdCxndCBhcyBoYXNPdmVybGFwLGtlIGFzIGhhc2hFdGhlcmV1bU1lc3NhZ2UsUGMgYXMgaGFzaEtleSxrYyBhcyBoYXNoTWVzc2FnZSxlaSBhcyBpc0FuZHJvaWQsWXQgYXMgaXNCcm93c2VyLGduIGFzIGlzQ2FpcE5hbWVzcGFjZSxObyBhcyBpc0NvbmZvcm1pbmdOYW1lc3BhY2VzLHZpIGFzIGlzRXhwaXJlZCxabiBhcyBpc0lmcmFtZSxuaSBhcyBpc0lvcyxSZSBhcyBpc05vZGUsSWEgYXMgaXNPbmxpbmUsZmEgYXMgaXNQcm9wb3NhbFN0cnVjdCxwdCBhcyBpc1JlYWN0TmF0aXZlLEhlIGFzIGlzUmVjYXAsYWEgYXMgaXNTZXNzaW9uQ29tcGF0aWJsZSxsYSBhcyBpc1Nlc3Npb25TdHJ1Y3Qsem4gYXMgaXNUZWxlZ3JhbSxJaSBhcyBpc1Rlc3RSdW4sS2MgYXMgaXNUeXBlT25lRW52ZWxvcGUsRmMgYXMgaXNUeXBlVHdvRW52ZWxvcGUsRXQgYXMgaXNVbmRlZmluZWQsRW8gYXMgaXNWYWxpZEFjY291bnRJZCxTbyBhcyBpc1ZhbGlkQWNjb3VudHMsQW8gYXMgaXNWYWxpZEFjdGlvbnMsb2UgYXMgaXNWYWxpZEFycmF5LGllIGFzIGlzVmFsaWRDaGFpbklkLHZvIGFzIGlzVmFsaWRDaGFpbnMsZGEgYXMgaXNWYWxpZENvbnRyb2xsZXIsY3IgYXMgaXNWYWxpZEVpcDEyNzFTaWduYXR1cmUsc3IgYXMgaXNWYWxpZEVpcDE5MVNpZ25hdHVyZSxtYSBhcyBpc1ZhbGlkRXJyb3JSZWFzb24sRWEgYXMgaXNWYWxpZEV2ZW50LGdhIGFzIGlzVmFsaWRJZCxPbyBhcyBpc1ZhbGlkTmFtZXNwYWNlQWNjb3VudHMsd24gYXMgaXNWYWxpZE5hbWVzcGFjZUFjdGlvbnMseG8gYXMgaXNWYWxpZE5hbWVzcGFjZUNoYWlucyxtbiBhcyBpc1ZhbGlkTmFtZXNwYWNlTWV0aG9kc09yRXZlbnRzLEJvIGFzIGlzVmFsaWROYW1lc3BhY2VzLHZhIGFzIGlzVmFsaWROYW1lc3BhY2VzQ2hhaW5JZCxTYSBhcyBpc1ZhbGlkTmFtZXNwYWNlc0V2ZW50LHhhIGFzIGlzVmFsaWROYW1lc3BhY2VzUmVxdWVzdCxTZSBhcyBpc1ZhbGlkTnVtYmVyLHhlIGFzIGlzVmFsaWRPYmplY3QseWEgYXMgaXNWYWxpZFBhcmFtcyxjdCBhcyBpc1ZhbGlkUmVjYXAsSW8gYXMgaXNWYWxpZFJlbGF5LHBhIGFzIGlzVmFsaWRSZWxheXMsd2EgYXMgaXNWYWxpZFJlcXVlc3QsQmEgYXMgaXNWYWxpZFJlcXVlc3RFeHBpcnksaGEgYXMgaXNWYWxpZFJlcXVpcmVkTmFtZXNwYWNlcyxiYSBhcyBpc1ZhbGlkUmVzcG9uc2UsbnQgYXMgaXNWYWxpZFN0cmluZyx1YSBhcyBpc1ZhbGlkVXJsLGRpIGFzIG1hcEVudHJpZXMsZmkgYXMgbWFwVG9PYmosYXQgYXMgbWVyZ2VBcnJheXMsbHMgYXMgbWVyZ2VFbmNvZGVkUmVjYXBzLHZyIGFzIG1lcmdlUmVjYXBzLHluIGFzIG5vcm1hbGl6ZU5hbWVzcGFjZXMsbGkgYXMgb2JqVG9NYXAsRm4gYXMgb3BlbkRlZXBsaW5rLE5lIGFzIHBhcnNlQWNjb3VudElkLEllIGFzIHBhcnNlQ2hhaW5JZCxEbiBhcyBwYXJzZUNvbnRleHROYW1lcyxiaSBhcyBwYXJzZUV4cGlyZXJUYXJnZXQseW8gYXMgcGFyc2VOYW1lc3BhY2VLZXksY28gYXMgcGFyc2VSZWxheVBhcmFtcyxhbyBhcyBwYXJzZVRvcGljLEdjIGFzIHBhcnNlVXJpLG9pIGFzIHBvcHVsYXRlQXBwTWV0YWRhdGEsY3MgYXMgcG9wdWxhdGVBdXRoUGF5bG9hZCxhcyBhcyByZWNhcEhhc1Jlc291cmNlLHBuIGFzIHNlcmlhbGl6ZSxOaSBhcyBzbGVlcCwkbyBhcyBzdWJzY3JpYmVUb0Jyb3dzZXJOZXR3b3JrQ2hhbmdlLE5hIGFzIHN1YnNjcmliZVRvTmV0d29ya0NoYW5nZSxMbyBhcyBzdWJzY3JpYmVUb1JlYWN0TmF0aXZlTmV0d29ya0NoYW5nZSxZbiBhcyB0b0Jhc2U2NCxCaSBhcyB1dWlkdjQscWMgYXMgdmFsaWRhdGVEZWNvZGluZyxvbyBhcyB2YWxpZGF0ZUVuY29kaW5nLGlzIGFzIHZhbGlkYXRlU2lnbmVkQ2FjYW8semMgYXMgdmVyaWZ5UDI1Nkp3dCxpciBhcyB2ZXJpZnlTaWduYXR1cmV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   publicKeyToAddress: () => (/* binding */ publicKeyToAddress)\n/* harmony export */ });\n/* harmony import */ var _utils_address_getAddress_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/address/getAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js\");\n/* harmony import */ var _utils_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/hash/keccak256.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js\");\n\n\n/**\n * @description Converts an ECDSA public key to an address.\n *\n * @param publicKey The public key to convert.\n *\n * @returns The address.\n */\nfunction publicKeyToAddress(publicKey) {\n    const address = (0,_utils_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_0__.keccak256)(`0x${publicKey.substring(4)}`).substring(26);\n    return (0,_utils_address_getAddress_js__WEBPACK_IMPORTED_MODULE_1__.checksumAddress)(`0x${address}`);\n}\n//# sourceMappingURL=publicKeyToAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9hY2NvdW50cy91dGlscy9wdWJsaWNLZXlUb0FkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFFO0FBQ1Y7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLG9CQUFvQixtRUFBUyxNQUFNLHVCQUF1QjtBQUMxRCxXQUFXLDZFQUFlLE1BQU0sUUFBUTtBQUN4QztBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL2FjY291bnRzL3V0aWxzL3B1YmxpY0tleVRvQWRkcmVzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGVja3N1bUFkZHJlc3MsIH0gZnJvbSAnLi4vLi4vdXRpbHMvYWRkcmVzcy9nZXRBZGRyZXNzLmpzJztcbmltcG9ydCB7IGtlY2NhazI1NiwgfSBmcm9tICcuLi8uLi91dGlscy9oYXNoL2tlY2NhazI1Ni5qcyc7XG4vKipcbiAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyBhbiBFQ0RTQSBwdWJsaWMga2V5IHRvIGFuIGFkZHJlc3MuXG4gKlxuICogQHBhcmFtIHB1YmxpY0tleSBUaGUgcHVibGljIGtleSB0byBjb252ZXJ0LlxuICpcbiAqIEByZXR1cm5zIFRoZSBhZGRyZXNzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHVibGljS2V5VG9BZGRyZXNzKHB1YmxpY0tleSkge1xuICAgIGNvbnN0IGFkZHJlc3MgPSBrZWNjYWsyNTYoYDB4JHtwdWJsaWNLZXkuc3Vic3RyaW5nKDQpfWApLnN1YnN0cmluZygyNik7XG4gICAgcmV0dXJuIGNoZWNrc3VtQWRkcmVzcyhgMHgke2FkZHJlc3N9YCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdWJsaWNLZXlUb0FkZHJlc3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidAddressError: () => (/* binding */ InvalidAddressError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n\nclass InvalidAddressError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ address }) {\n        super(`Address \"${address}\" is invalid.`, {\n            metaMessages: [\n                '- Address must be a hex value of 20 bytes (40 hex characters).',\n                '- Address must match its checksum counterpart.',\n            ],\n            name: 'InvalidAddressError',\n        });\n    }\n}\n//# sourceMappingURL=address.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYWRkcmVzcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQztBQUMvQixrQ0FBa0MsK0NBQVM7QUFDbEQsa0JBQWtCLFNBQVM7QUFDM0IsMEJBQTBCLFFBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2FkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZUVycm9yIH0gZnJvbSAnLi9iYXNlLmpzJztcbmV4cG9ydCBjbGFzcyBJbnZhbGlkQWRkcmVzc0Vycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGFkZHJlc3MgfSkge1xuICAgICAgICBzdXBlcihgQWRkcmVzcyBcIiR7YWRkcmVzc31cIiBpcyBpbnZhbGlkLmAsIHtcbiAgICAgICAgICAgIG1ldGFNZXNzYWdlczogW1xuICAgICAgICAgICAgICAgICctIEFkZHJlc3MgbXVzdCBiZSBhIGhleCB2YWx1ZSBvZiAyMCBieXRlcyAoNDAgaGV4IGNoYXJhY3RlcnMpLicsXG4gICAgICAgICAgICAgICAgJy0gQWRkcmVzcyBtdXN0IG1hdGNoIGl0cyBjaGVja3N1bSBjb3VudGVycGFydC4nLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG5hbWU6ICdJbnZhbGlkQWRkcmVzc0Vycm9yJyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkcmVzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseError: () => (/* binding */ BaseError),\n/* harmony export */   setErrorConfig: () => (/* binding */ setErrorConfig)\n/* harmony export */ });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./version.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js\");\n\nlet errorConfig = {\n    getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug, }) => docsPath\n        ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}`\n        : undefined,\n    version: `viem@${_version_js__WEBPACK_IMPORTED_MODULE_0__.version}`,\n};\nfunction setErrorConfig(config) {\n    errorConfig = config;\n}\nclass BaseError extends Error {\n    constructor(shortMessage, args = {}) {\n        const details = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.details;\n            if (args.cause?.message)\n                return args.cause.message;\n            return args.details;\n        })();\n        const docsPath = (() => {\n            if (args.cause instanceof BaseError)\n                return args.cause.docsPath || args.docsPath;\n            return args.docsPath;\n        })();\n        const docsUrl = errorConfig.getDocsUrl?.({ ...args, docsPath });\n        const message = [\n            shortMessage || 'An error occurred.',\n            '',\n            ...(args.metaMessages ? [...args.metaMessages, ''] : []),\n            ...(docsUrl ? [`Docs: ${docsUrl}`] : []),\n            ...(details ? [`Details: ${details}`] : []),\n            ...(errorConfig.version ? [`Version: ${errorConfig.version}`] : []),\n        ].join('\\n');\n        super(message, args.cause ? { cause: args.cause } : undefined);\n        Object.defineProperty(this, \"details\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"docsPath\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"metaMessages\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"shortMessage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"version\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'BaseError'\n        });\n        this.details = details;\n        this.docsPath = docsPath;\n        this.metaMessages = args.metaMessages;\n        this.name = args.name ?? this.name;\n        this.shortMessage = shortMessage;\n        this.version = _version_js__WEBPACK_IMPORTED_MODULE_0__.version;\n    }\n    walk(fn) {\n        return walk(this, fn);\n    }\n}\nfunction walk(err, fn) {\n    if (fn?.(err))\n        return err;\n    if (err &&\n        typeof err === 'object' &&\n        'cause' in err &&\n        err.cause !== undefined)\n        return walk(err.cause, fn);\n    return fn ? null : err;\n}\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUM7QUFDdkM7QUFDQSxtQkFBbUIsdUNBQXVDO0FBQzFELGFBQWEsaUNBQWlDLEVBQUUsU0FBUyxFQUFFLGVBQWUsU0FBUyxPQUFPO0FBQzFGO0FBQ0EscUJBQXFCLGdEQUFPLENBQUM7QUFDN0I7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbURBQW1ELG1CQUFtQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxRQUFRO0FBQzVDLHVDQUF1QyxRQUFRO0FBQy9DLG1EQUFtRCxvQkFBb0I7QUFDdkU7QUFDQSxzQ0FBc0Msb0JBQW9CO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0RBQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vZXJyb3JzL2Jhc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4vdmVyc2lvbi5qcyc7XG5sZXQgZXJyb3JDb25maWcgPSB7XG4gICAgZ2V0RG9jc1VybDogKHsgZG9jc0Jhc2VVcmwsIGRvY3NQYXRoID0gJycsIGRvY3NTbHVnLCB9KSA9PiBkb2NzUGF0aFxuICAgICAgICA/IGAke2RvY3NCYXNlVXJsID8/ICdodHRwczovL3ZpZW0uc2gnfSR7ZG9jc1BhdGh9JHtkb2NzU2x1ZyA/IGAjJHtkb2NzU2x1Z31gIDogJyd9YFxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB2ZXJzaW9uOiBgdmllbUAke3ZlcnNpb259YCxcbn07XG5leHBvcnQgZnVuY3Rpb24gc2V0RXJyb3JDb25maWcoY29uZmlnKSB7XG4gICAgZXJyb3JDb25maWcgPSBjb25maWc7XG59XG5leHBvcnQgY2xhc3MgQmFzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHNob3J0TWVzc2FnZSwgYXJncyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZ3MuY2F1c2UgaW5zdGFuY2VvZiBCYXNlRXJyb3IpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3MuY2F1c2UuZGV0YWlscztcbiAgICAgICAgICAgIGlmIChhcmdzLmNhdXNlPy5tZXNzYWdlKVxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzLmNhdXNlLm1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gYXJncy5kZXRhaWxzO1xuICAgICAgICB9KSgpO1xuICAgICAgICBjb25zdCBkb2NzUGF0aCA9ICgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoYXJncy5jYXVzZSBpbnN0YW5jZW9mIEJhc2VFcnJvcilcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncy5jYXVzZS5kb2NzUGF0aCB8fCBhcmdzLmRvY3NQYXRoO1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3MuZG9jc1BhdGg7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIGNvbnN0IGRvY3NVcmwgPSBlcnJvckNvbmZpZy5nZXREb2NzVXJsPy4oeyAuLi5hcmdzLCBkb2NzUGF0aCB9KTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IFtcbiAgICAgICAgICAgIHNob3J0TWVzc2FnZSB8fCAnQW4gZXJyb3Igb2NjdXJyZWQuJyxcbiAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgLi4uKGFyZ3MubWV0YU1lc3NhZ2VzID8gWy4uLmFyZ3MubWV0YU1lc3NhZ2VzLCAnJ10gOiBbXSksXG4gICAgICAgICAgICAuLi4oZG9jc1VybCA/IFtgRG9jczogJHtkb2NzVXJsfWBdIDogW10pLFxuICAgICAgICAgICAgLi4uKGRldGFpbHMgPyBbYERldGFpbHM6ICR7ZGV0YWlsc31gXSA6IFtdKSxcbiAgICAgICAgICAgIC4uLihlcnJvckNvbmZpZy52ZXJzaW9uID8gW2BWZXJzaW9uOiAke2Vycm9yQ29uZmlnLnZlcnNpb259YF0gOiBbXSksXG4gICAgICAgIF0uam9pbignXFxuJyk7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIGFyZ3MuY2F1c2UgPyB7IGNhdXNlOiBhcmdzLmNhdXNlIH0gOiB1bmRlZmluZWQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZXRhaWxzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRvY3NQYXRoXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1ldGFNZXNzYWdlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaG9ydE1lc3NhZ2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmVyc2lvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAnQmFzZUVycm9yJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gZGV0YWlscztcbiAgICAgICAgdGhpcy5kb2NzUGF0aCA9IGRvY3NQYXRoO1xuICAgICAgICB0aGlzLm1ldGFNZXNzYWdlcyA9IGFyZ3MubWV0YU1lc3NhZ2VzO1xuICAgICAgICB0aGlzLm5hbWUgPSBhcmdzLm5hbWUgPz8gdGhpcy5uYW1lO1xuICAgICAgICB0aGlzLnNob3J0TWVzc2FnZSA9IHNob3J0TWVzc2FnZTtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICB9XG4gICAgd2Fsayhmbikge1xuICAgICAgICByZXR1cm4gd2Fsayh0aGlzLCBmbik7XG4gICAgfVxufVxuZnVuY3Rpb24gd2FsayhlcnIsIGZuKSB7XG4gICAgaWYgKGZuPy4oZXJyKSlcbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICBpZiAoZXJyICYmXG4gICAgICAgIHR5cGVvZiBlcnIgPT09ICdvYmplY3QnICYmXG4gICAgICAgICdjYXVzZScgaW4gZXJyICYmXG4gICAgICAgIGVyci5jYXVzZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gd2FsayhlcnIuY2F1c2UsIGZuKTtcbiAgICByZXR1cm4gZm4gPyBudWxsIDogZXJyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidBytesLengthError: () => (/* binding */ InvalidBytesLengthError),\n/* harmony export */   SizeExceedsPaddingSizeError: () => (/* binding */ SizeExceedsPaddingSizeError),\n/* harmony export */   SliceOffsetOutOfBoundsError: () => (/* binding */ SliceOffsetOutOfBoundsError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n\nclass SliceOffsetOutOfBoundsError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ offset, position, size, }) {\n        super(`Slice ${position === 'start' ? 'starting' : 'ending'} at offset \"${offset}\" is out-of-bounds (size: ${size}).`, { name: 'SliceOffsetOutOfBoundsError' });\n    }\n}\nclass SizeExceedsPaddingSizeError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, { name: 'SizeExceedsPaddingSizeError' });\n    }\n}\nclass InvalidBytesLengthError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ size, targetSize, type, }) {\n        super(`${type.charAt(0).toUpperCase()}${type\n            .slice(1)\n            .toLowerCase()} is expected to be ${targetSize} ${type} long, but is ${size} ${type} long.`, { name: 'InvalidBytesLengthError' });\n    }\n}\n//# sourceMappingURL=data.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvZGF0YS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXNDO0FBQy9CLDBDQUEwQywrQ0FBUztBQUMxRCxrQkFBa0IseUJBQXlCO0FBQzNDLHVCQUF1Qiw4Q0FBOEMsYUFBYSxPQUFPLDRCQUE0QixLQUFLLE9BQU8scUNBQXFDO0FBQ3RLO0FBQ0E7QUFDTywwQ0FBMEMsK0NBQVM7QUFDMUQsa0JBQWtCLHlCQUF5QjtBQUMzQyxpQkFBaUIsNkJBQTZCLEVBQUU7QUFDaEQ7QUFDQSw0QkFBNEIsUUFBUSxLQUFLLDBCQUEwQixXQUFXLE9BQU8scUNBQXFDO0FBQzFIO0FBQ0E7QUFDTyxzQ0FBc0MsK0NBQVM7QUFDdEQsa0JBQWtCLHlCQUF5QjtBQUMzQyxpQkFBaUIsNkJBQTZCLEVBQUU7QUFDaEQ7QUFDQSw0QkFBNEIsb0JBQW9CLFlBQVksRUFBRSxNQUFNLGVBQWUsTUFBTSxFQUFFLE1BQU0sVUFBVSxpQ0FBaUM7QUFDNUk7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL2Vycm9ycy9kYXRhLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VFcnJvciB9IGZyb20gJy4vYmFzZS5qcyc7XG5leHBvcnQgY2xhc3MgU2xpY2VPZmZzZXRPdXRPZkJvdW5kc0Vycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG9mZnNldCwgcG9zaXRpb24sIHNpemUsIH0pIHtcbiAgICAgICAgc3VwZXIoYFNsaWNlICR7cG9zaXRpb24gPT09ICdzdGFydCcgPyAnc3RhcnRpbmcnIDogJ2VuZGluZyd9IGF0IG9mZnNldCBcIiR7b2Zmc2V0fVwiIGlzIG91dC1vZi1ib3VuZHMgKHNpemU6ICR7c2l6ZX0pLmAsIHsgbmFtZTogJ1NsaWNlT2Zmc2V0T3V0T2ZCb3VuZHNFcnJvcicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNpemVFeGNlZWRzUGFkZGluZ1NpemVFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBzaXplLCB0YXJnZXRTaXplLCB0eXBlLCB9KSB7XG4gICAgICAgIHN1cGVyKGAke3R5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9JHt0eXBlXG4gICAgICAgICAgICAuc2xpY2UoMSlcbiAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpfSBzaXplICgke3NpemV9KSBleGNlZWRzIHBhZGRpbmcgc2l6ZSAoJHt0YXJnZXRTaXplfSkuYCwgeyBuYW1lOiAnU2l6ZUV4Y2VlZHNQYWRkaW5nU2l6ZUVycm9yJyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEJ5dGVzTGVuZ3RoRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgc2l6ZSwgdGFyZ2V0U2l6ZSwgdHlwZSwgfSkge1xuICAgICAgICBzdXBlcihgJHt0eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfSR7dHlwZVxuICAgICAgICAgICAgLnNsaWNlKDEpXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKX0gaXMgZXhwZWN0ZWQgdG8gYmUgJHt0YXJnZXRTaXplfSAke3R5cGV9IGxvbmcsIGJ1dCBpcyAke3NpemV9ICR7dHlwZX0gbG9uZy5gLCB7IG5hbWU6ICdJbnZhbGlkQnl0ZXNMZW5ndGhFcnJvcicgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IntegerOutOfRangeError: () => (/* binding */ IntegerOutOfRangeError),\n/* harmony export */   InvalidBytesBooleanError: () => (/* binding */ InvalidBytesBooleanError),\n/* harmony export */   InvalidHexBooleanError: () => (/* binding */ InvalidHexBooleanError),\n/* harmony export */   InvalidHexValueError: () => (/* binding */ InvalidHexValueError),\n/* harmony export */   SizeOverflowError: () => (/* binding */ SizeOverflowError)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n\nclass IntegerOutOfRangeError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ max, min, signed, size, value, }) {\n        super(`Number \"${value}\" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, { name: 'IntegerOutOfRangeError' });\n    }\n}\nclass InvalidBytesBooleanError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(bytes) {\n        super(`Bytes value \"${bytes}\" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`, {\n            name: 'InvalidBytesBooleanError',\n        });\n    }\n}\nclass InvalidHexBooleanError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(hex) {\n        super(`Hex value \"${hex}\" is not a valid boolean. The hex value must be \"0x0\" (false) or \"0x1\" (true).`, { name: 'InvalidHexBooleanError' });\n    }\n}\nclass InvalidHexValueError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor(value) {\n        super(`Hex value \"${value}\" is an odd length (${value.length}). It must be an even length.`, { name: 'InvalidHexValueError' });\n    }\n}\nclass SizeOverflowError extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseError {\n    constructor({ givenSize, maxSize }) {\n        super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, { name: 'SizeOverflowError' });\n    }\n}\n//# sourceMappingURL=encoding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvZW5jb2RpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNDO0FBQy9CLHFDQUFxQywrQ0FBUztBQUNyRCxrQkFBa0IsZ0NBQWdDO0FBQ2xELHlCQUF5QixNQUFNLG1CQUFtQixVQUFVLFNBQVMsT0FBTyxnQ0FBZ0MsT0FBTyxnQkFBZ0IsVUFBVSxLQUFLLEtBQUssSUFBSSxlQUFlLElBQUksR0FBRyxLQUFLLGdDQUFnQztBQUN0TjtBQUNBO0FBQ08sdUNBQXVDLCtDQUFTO0FBQ3ZEO0FBQ0EsOEJBQThCLE1BQU07QUFDcEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNPLHFDQUFxQywrQ0FBUztBQUNyRDtBQUNBLDRCQUE0QixJQUFJLG1GQUFtRixnQ0FBZ0M7QUFDbko7QUFDQTtBQUNPLG1DQUFtQywrQ0FBUztBQUNuRDtBQUNBLDRCQUE0QixNQUFNLHNCQUFzQixhQUFhLGtDQUFrQyw4QkFBOEI7QUFDckk7QUFDQTtBQUNPLGdDQUFnQywrQ0FBUztBQUNoRCxrQkFBa0Isb0JBQW9CO0FBQ3RDLG9DQUFvQyxTQUFTLHFCQUFxQixXQUFXLFdBQVcsMkJBQTJCO0FBQ25IO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvZW5jb2RpbmcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZUVycm9yIH0gZnJvbSAnLi9iYXNlLmpzJztcbmV4cG9ydCBjbGFzcyBJbnRlZ2VyT3V0T2ZSYW5nZUVycm9yIGV4dGVuZHMgQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG1heCwgbWluLCBzaWduZWQsIHNpemUsIHZhbHVlLCB9KSB7XG4gICAgICAgIHN1cGVyKGBOdW1iZXIgXCIke3ZhbHVlfVwiIGlzIG5vdCBpbiBzYWZlICR7c2l6ZSA/IGAke3NpemUgKiA4fS1iaXQgJHtzaWduZWQgPyAnc2lnbmVkJyA6ICd1bnNpZ25lZCd9IGAgOiAnJ31pbnRlZ2VyIHJhbmdlICR7bWF4ID8gYCgke21pbn0gdG8gJHttYXh9KWAgOiBgKGFib3ZlICR7bWlufSlgfWAsIHsgbmFtZTogJ0ludGVnZXJPdXRPZlJhbmdlRXJyb3InIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQnl0ZXNCb29sZWFuRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGJ5dGVzKSB7XG4gICAgICAgIHN1cGVyKGBCeXRlcyB2YWx1ZSBcIiR7Ynl0ZXN9XCIgaXMgbm90IGEgdmFsaWQgYm9vbGVhbi4gVGhlIGJ5dGVzIGFycmF5IG11c3QgY29udGFpbiBhIHNpbmdsZSBieXRlIG9mIGVpdGhlciBhIDAgb3IgMSB2YWx1ZS5gLCB7XG4gICAgICAgICAgICBuYW1lOiAnSW52YWxpZEJ5dGVzQm9vbGVhbkVycm9yJyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRIZXhCb29sZWFuRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGhleCkge1xuICAgICAgICBzdXBlcihgSGV4IHZhbHVlIFwiJHtoZXh9XCIgaXMgbm90IGEgdmFsaWQgYm9vbGVhbi4gVGhlIGhleCB2YWx1ZSBtdXN0IGJlIFwiMHgwXCIgKGZhbHNlKSBvciBcIjB4MVwiICh0cnVlKS5gLCB7IG5hbWU6ICdJbnZhbGlkSGV4Qm9vbGVhbkVycm9yJyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEhleFZhbHVlRXJyb3IgZXh0ZW5kcyBCYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKGBIZXggdmFsdWUgXCIke3ZhbHVlfVwiIGlzIGFuIG9kZCBsZW5ndGggKCR7dmFsdWUubGVuZ3RofSkuIEl0IG11c3QgYmUgYW4gZXZlbiBsZW5ndGguYCwgeyBuYW1lOiAnSW52YWxpZEhleFZhbHVlRXJyb3InIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTaXplT3ZlcmZsb3dFcnJvciBleHRlbmRzIEJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBnaXZlblNpemUsIG1heFNpemUgfSkge1xuICAgICAgICBzdXBlcihgU2l6ZSBjYW5ub3QgZXhjZWVkICR7bWF4U2l6ZX0gYnl0ZXMuIEdpdmVuIHNpemU6ICR7Z2l2ZW5TaXplfSBieXRlcy5gLCB7IG5hbWU6ICdTaXplT3ZlcmZsb3dFcnJvcicgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jb2RpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\nconst version = '2.23.2';\n//# sourceMappingURL=version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvdmVyc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUCIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS9lcnJvcnMvdmVyc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdmVyc2lvbiA9ICcyLjIzLjInO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/version.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checksumAddress: () => (/* binding */ checksumAddress),\n/* harmony export */   getAddress: () => (/* binding */ getAddress)\n/* harmony export */ });\n/* harmony import */ var _errors_address_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../errors/address.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/address.js\");\n/* harmony import */ var _encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/toBytes.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n/* harmony import */ var _hash_keccak256_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hash/keccak256.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js\");\n/* harmony import */ var _lru_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js\");\n/* harmony import */ var _isAddress_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js\");\n\n\n\n\n\nconst checksumAddressCache = /*#__PURE__*/ new _lru_js__WEBPACK_IMPORTED_MODULE_0__.LruMap(8192);\nfunction checksumAddress(address_, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (checksumAddressCache.has(`${address_}.${chainId}`))\n        return checksumAddressCache.get(`${address_}.${chainId}`);\n    const hexAddress = chainId\n        ? `${chainId}${address_.toLowerCase()}`\n        : address_.substring(2).toLowerCase();\n    const hash = (0,_hash_keccak256_js__WEBPACK_IMPORTED_MODULE_1__.keccak256)((0,_encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.stringToBytes)(hexAddress), 'bytes');\n    const address = (chainId ? hexAddress.substring(`${chainId}0x`.length) : hexAddress).split('');\n    for (let i = 0; i < 40; i += 2) {\n        if (hash[i >> 1] >> 4 >= 8 && address[i]) {\n            address[i] = address[i].toUpperCase();\n        }\n        if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {\n            address[i + 1] = address[i + 1].toUpperCase();\n        }\n    }\n    const result = `0x${address.join('')}`;\n    checksumAddressCache.set(`${address_}.${chainId}`, result);\n    return result;\n}\nfunction getAddress(address, \n/**\n * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the\n * wider Ethereum ecosystem, meaning it will break when validated against an application/tool\n * that relies on EIP-55 checksum encoding (checksum without chainId).\n *\n * It is highly recommended to not use this feature unless you\n * know what you are doing.\n *\n * See more: https://github.com/ethereum/EIPs/issues/1121\n */\nchainId) {\n    if (!(0,_isAddress_js__WEBPACK_IMPORTED_MODULE_3__.isAddress)(address, { strict: false }))\n        throw new _errors_address_js__WEBPACK_IMPORTED_MODULE_4__.InvalidAddressError({ address });\n    return checksumAddress(address, chainId);\n}\n//# sourceMappingURL=getAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9hZGRyZXNzL2dldEFkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE4RDtBQUNOO0FBQ1A7QUFDZDtBQUNRO0FBQzNDLCtDQUErQywyQ0FBTTtBQUM5QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsU0FBUyxHQUFHLFFBQVE7QUFDeEQsMkNBQTJDLFNBQVMsR0FBRyxRQUFRO0FBQy9EO0FBQ0EsYUFBYSxRQUFRLEVBQUUsdUJBQXVCO0FBQzlDO0FBQ0EsaUJBQWlCLDZEQUFTLENBQUMsbUVBQWE7QUFDeEMsdURBQXVELFFBQVE7QUFDL0Qsb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDLGdDQUFnQyxTQUFTLEdBQUcsUUFBUTtBQUNwRDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3REFBUyxZQUFZLGVBQWU7QUFDN0Msa0JBQWtCLG1FQUFtQixHQUFHLFNBQVM7QUFDakQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2FkZHJlc3MvZ2V0QWRkcmVzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnZhbGlkQWRkcmVzc0Vycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3JzL2FkZHJlc3MuanMnO1xuaW1wb3J0IHsgc3RyaW5nVG9CeXRlcywgfSBmcm9tICcuLi9lbmNvZGluZy90b0J5dGVzLmpzJztcbmltcG9ydCB7IGtlY2NhazI1NiB9IGZyb20gJy4uL2hhc2gva2VjY2FrMjU2LmpzJztcbmltcG9ydCB7IExydU1hcCB9IGZyb20gJy4uL2xydS5qcyc7XG5pbXBvcnQgeyBpc0FkZHJlc3MgfSBmcm9tICcuL2lzQWRkcmVzcy5qcyc7XG5jb25zdCBjaGVja3N1bUFkZHJlc3NDYWNoZSA9IC8qI19fUFVSRV9fKi8gbmV3IExydU1hcCg4MTkyKTtcbmV4cG9ydCBmdW5jdGlvbiBjaGVja3N1bUFkZHJlc3MoYWRkcmVzc18sIFxuLyoqXG4gKiBXYXJuaW5nOiBFSVAtMTE5MSBjaGVja3N1bSBhZGRyZXNzZXMgYXJlIGdlbmVyYWxseSBub3QgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCB0aGVcbiAqIHdpZGVyIEV0aGVyZXVtIGVjb3N5c3RlbSwgbWVhbmluZyBpdCB3aWxsIGJyZWFrIHdoZW4gdmFsaWRhdGVkIGFnYWluc3QgYW4gYXBwbGljYXRpb24vdG9vbFxuICogdGhhdCByZWxpZXMgb24gRUlQLTU1IGNoZWNrc3VtIGVuY29kaW5nIChjaGVja3N1bSB3aXRob3V0IGNoYWluSWQpLlxuICpcbiAqIEl0IGlzIGhpZ2hseSByZWNvbW1lbmRlZCB0byBub3QgdXNlIHRoaXMgZmVhdHVyZSB1bmxlc3MgeW91XG4gKiBrbm93IHdoYXQgeW91IGFyZSBkb2luZy5cbiAqXG4gKiBTZWUgbW9yZTogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzExMjFcbiAqL1xuY2hhaW5JZCkge1xuICAgIGlmIChjaGVja3N1bUFkZHJlc3NDYWNoZS5oYXMoYCR7YWRkcmVzc199LiR7Y2hhaW5JZH1gKSlcbiAgICAgICAgcmV0dXJuIGNoZWNrc3VtQWRkcmVzc0NhY2hlLmdldChgJHthZGRyZXNzX30uJHtjaGFpbklkfWApO1xuICAgIGNvbnN0IGhleEFkZHJlc3MgPSBjaGFpbklkXG4gICAgICAgID8gYCR7Y2hhaW5JZH0ke2FkZHJlc3NfLnRvTG93ZXJDYXNlKCl9YFxuICAgICAgICA6IGFkZHJlc3NfLnN1YnN0cmluZygyKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGhhc2ggPSBrZWNjYWsyNTYoc3RyaW5nVG9CeXRlcyhoZXhBZGRyZXNzKSwgJ2J5dGVzJyk7XG4gICAgY29uc3QgYWRkcmVzcyA9IChjaGFpbklkID8gaGV4QWRkcmVzcy5zdWJzdHJpbmcoYCR7Y2hhaW5JZH0weGAubGVuZ3RoKSA6IGhleEFkZHJlc3MpLnNwbGl0KCcnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQwOyBpICs9IDIpIHtcbiAgICAgICAgaWYgKGhhc2hbaSA+PiAxXSA+PiA0ID49IDggJiYgYWRkcmVzc1tpXSkge1xuICAgICAgICAgICAgYWRkcmVzc1tpXSA9IGFkZHJlc3NbaV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGhhc2hbaSA+PiAxXSAmIDB4MGYpID49IDggJiYgYWRkcmVzc1tpICsgMV0pIHtcbiAgICAgICAgICAgIGFkZHJlc3NbaSArIDFdID0gYWRkcmVzc1tpICsgMV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBgMHgke2FkZHJlc3Muam9pbignJyl9YDtcbiAgICBjaGVja3N1bUFkZHJlc3NDYWNoZS5zZXQoYCR7YWRkcmVzc199LiR7Y2hhaW5JZH1gLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QWRkcmVzcyhhZGRyZXNzLCBcbi8qKlxuICogV2FybmluZzogRUlQLTExOTEgY2hlY2tzdW0gYWRkcmVzc2VzIGFyZSBnZW5lcmFsbHkgbm90IGJhY2t3YXJkcyBjb21wYXRpYmxlIHdpdGggdGhlXG4gKiB3aWRlciBFdGhlcmV1bSBlY29zeXN0ZW0sIG1lYW5pbmcgaXQgd2lsbCBicmVhayB3aGVuIHZhbGlkYXRlZCBhZ2FpbnN0IGFuIGFwcGxpY2F0aW9uL3Rvb2xcbiAqIHRoYXQgcmVsaWVzIG9uIEVJUC01NSBjaGVja3N1bSBlbmNvZGluZyAoY2hlY2tzdW0gd2l0aG91dCBjaGFpbklkKS5cbiAqXG4gKiBJdCBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gbm90IHVzZSB0aGlzIGZlYXR1cmUgdW5sZXNzIHlvdVxuICoga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcuXG4gKlxuICogU2VlIG1vcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2lzc3Vlcy8xMTIxXG4gKi9cbmNoYWluSWQpIHtcbiAgICBpZiAoIWlzQWRkcmVzcyhhZGRyZXNzLCB7IHN0cmljdDogZmFsc2UgfSkpXG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkQWRkcmVzc0Vycm9yKHsgYWRkcmVzcyB9KTtcbiAgICByZXR1cm4gY2hlY2tzdW1BZGRyZXNzKGFkZHJlc3MsIGNoYWluSWQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0QWRkcmVzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAddress: () => (/* binding */ isAddress),\n/* harmony export */   isAddressCache: () => (/* binding */ isAddressCache)\n/* harmony export */ });\n/* harmony import */ var _lru_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lru.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js\");\n/* harmony import */ var _getAddress_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/getAddress.js\");\n\n\nconst addressRegex = /^0x[a-fA-F0-9]{40}$/;\n/** @internal */\nconst isAddressCache = /*#__PURE__*/ new _lru_js__WEBPACK_IMPORTED_MODULE_0__.LruMap(8192);\nfunction isAddress(address, options) {\n    const { strict = true } = options ?? {};\n    const cacheKey = `${address}.${strict}`;\n    if (isAddressCache.has(cacheKey))\n        return isAddressCache.get(cacheKey);\n    const result = (() => {\n        if (!addressRegex.test(address))\n            return false;\n        if (address.toLowerCase() === address)\n            return true;\n        if (strict)\n            return (0,_getAddress_js__WEBPACK_IMPORTED_MODULE_1__.checksumAddress)(address) === address;\n        return true;\n    })();\n    isAddressCache.set(cacheKey, result);\n    return result;\n}\n//# sourceMappingURL=isAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9hZGRyZXNzL2lzQWRkcmVzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1DO0FBQ2U7QUFDbEQscUNBQXFDLEdBQUc7QUFDeEM7QUFDTyx5Q0FBeUMsMkNBQU07QUFDL0M7QUFDUCxZQUFZLGdCQUFnQjtBQUM1Qix3QkFBd0IsUUFBUSxHQUFHLE9BQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrREFBZTtBQUNsQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9hZGRyZXNzL2lzQWRkcmVzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMcnVNYXAgfSBmcm9tICcuLi9scnUuanMnO1xuaW1wb3J0IHsgY2hlY2tzdW1BZGRyZXNzIH0gZnJvbSAnLi9nZXRBZGRyZXNzLmpzJztcbmNvbnN0IGFkZHJlc3NSZWdleCA9IC9eMHhbYS1mQS1GMC05XXs0MH0kLztcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBpc0FkZHJlc3NDYWNoZSA9IC8qI19fUFVSRV9fKi8gbmV3IExydU1hcCg4MTkyKTtcbmV4cG9ydCBmdW5jdGlvbiBpc0FkZHJlc3MoYWRkcmVzcywgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgc3RyaWN0ID0gdHJ1ZSB9ID0gb3B0aW9ucyA/PyB7fTtcbiAgICBjb25zdCBjYWNoZUtleSA9IGAke2FkZHJlc3N9LiR7c3RyaWN0fWA7XG4gICAgaWYgKGlzQWRkcmVzc0NhY2hlLmhhcyhjYWNoZUtleSkpXG4gICAgICAgIHJldHVybiBpc0FkZHJlc3NDYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgIGNvbnN0IHJlc3VsdCA9ICgoKSA9PiB7XG4gICAgICAgIGlmICghYWRkcmVzc1JlZ2V4LnRlc3QoYWRkcmVzcykpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChhZGRyZXNzLnRvTG93ZXJDYXNlKCkgPT09IGFkZHJlc3MpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHN0cmljdClcbiAgICAgICAgICAgIHJldHVybiBjaGVja3N1bUFkZHJlc3MoYWRkcmVzcykgPT09IGFkZHJlc3M7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pKCk7XG4gICAgaXNBZGRyZXNzQ2FjaGUuc2V0KGNhY2hlS2V5LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FkZHJlc3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/address/isAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHex: () => (/* binding */ isHex)\n/* harmony export */ });\nfunction isHex(value, { strict = true } = {}) {\n    if (!value)\n        return false;\n    if (typeof value !== 'string')\n        return false;\n    return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');\n}\n//# sourceMappingURL=isHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL2lzSGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyx3QkFBd0IsZ0JBQWdCLElBQUk7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZGF0YS9pc0hleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNIZXgodmFsdWUsIHsgc3RyaWN0ID0gdHJ1ZSB9ID0ge30pIHtcbiAgICBpZiAoIXZhbHVlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gc3RyaWN0ID8gL14weFswLTlhLWZBLUZdKiQvLnRlc3QodmFsdWUpIDogdmFsdWUuc3RhcnRzV2l0aCgnMHgnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pad: () => (/* binding */ pad),\n/* harmony export */   padBytes: () => (/* binding */ padBytes),\n/* harmony export */   padHex: () => (/* binding */ padHex)\n/* harmony export */ });\n/* harmony import */ var _errors_data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors/data.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/data.js\");\n\nfunction pad(hexOrBytes, { dir, size = 32 } = {}) {\n    if (typeof hexOrBytes === 'string')\n        return padHex(hexOrBytes, { dir, size });\n    return padBytes(hexOrBytes, { dir, size });\n}\nfunction padHex(hex_, { dir, size = 32 } = {}) {\n    if (size === null)\n        return hex_;\n    const hex = hex_.replace('0x', '');\n    if (hex.length > size * 2)\n        throw new _errors_data_js__WEBPACK_IMPORTED_MODULE_0__.SizeExceedsPaddingSizeError({\n            size: Math.ceil(hex.length / 2),\n            targetSize: size,\n            type: 'hex',\n        });\n    return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;\n}\nfunction padBytes(bytes, { dir, size = 32 } = {}) {\n    if (size === null)\n        return bytes;\n    if (bytes.length > size)\n        throw new _errors_data_js__WEBPACK_IMPORTED_MODULE_0__.SizeExceedsPaddingSizeError({\n            size: bytes.length,\n            targetSize: size,\n            type: 'bytes',\n        });\n    const paddedBytes = new Uint8Array(size);\n    for (let i = 0; i < size; i++) {\n        const padEnd = dir === 'right';\n        paddedBytes[padEnd ? i : size - i - 1] =\n            bytes[padEnd ? i : bytes.length - i - 1];\n    }\n    return paddedBytes;\n}\n//# sourceMappingURL=pad.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3BhZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9FO0FBQzdELDJCQUEyQixpQkFBaUIsSUFBSTtBQUN2RDtBQUNBLG9DQUFvQyxXQUFXO0FBQy9DLGtDQUFrQyxXQUFXO0FBQzdDO0FBQ08sd0JBQXdCLGlCQUFpQixJQUFJO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUEyQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0JBQWdCLDREQUE0RDtBQUM1RTtBQUNPLDJCQUEyQixpQkFBaUIsSUFBSTtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0VBQTJCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2RhdGEvcGFkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNpemVFeGNlZWRzUGFkZGluZ1NpemVFcnJvciwgfSBmcm9tICcuLi8uLi9lcnJvcnMvZGF0YS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gcGFkKGhleE9yQnl0ZXMsIHsgZGlyLCBzaXplID0gMzIgfSA9IHt9KSB7XG4gICAgaWYgKHR5cGVvZiBoZXhPckJ5dGVzID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIHBhZEhleChoZXhPckJ5dGVzLCB7IGRpciwgc2l6ZSB9KTtcbiAgICByZXR1cm4gcGFkQnl0ZXMoaGV4T3JCeXRlcywgeyBkaXIsIHNpemUgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFkSGV4KGhleF8sIHsgZGlyLCBzaXplID0gMzIgfSA9IHt9KSB7XG4gICAgaWYgKHNpemUgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBoZXhfO1xuICAgIGNvbnN0IGhleCA9IGhleF8ucmVwbGFjZSgnMHgnLCAnJyk7XG4gICAgaWYgKGhleC5sZW5ndGggPiBzaXplICogMilcbiAgICAgICAgdGhyb3cgbmV3IFNpemVFeGNlZWRzUGFkZGluZ1NpemVFcnJvcih7XG4gICAgICAgICAgICBzaXplOiBNYXRoLmNlaWwoaGV4Lmxlbmd0aCAvIDIpLFxuICAgICAgICAgICAgdGFyZ2V0U2l6ZTogc2l6ZSxcbiAgICAgICAgICAgIHR5cGU6ICdoZXgnLFxuICAgICAgICB9KTtcbiAgICByZXR1cm4gYDB4JHtoZXhbZGlyID09PSAncmlnaHQnID8gJ3BhZEVuZCcgOiAncGFkU3RhcnQnXShzaXplICogMiwgJzAnKX1gO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhZEJ5dGVzKGJ5dGVzLCB7IGRpciwgc2l6ZSA9IDMyIH0gPSB7fSkge1xuICAgIGlmIChzaXplID09PSBudWxsKVxuICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgaWYgKGJ5dGVzLmxlbmd0aCA+IHNpemUpXG4gICAgICAgIHRocm93IG5ldyBTaXplRXhjZWVkc1BhZGRpbmdTaXplRXJyb3Ioe1xuICAgICAgICAgICAgc2l6ZTogYnl0ZXMubGVuZ3RoLFxuICAgICAgICAgICAgdGFyZ2V0U2l6ZTogc2l6ZSxcbiAgICAgICAgICAgIHR5cGU6ICdieXRlcycsXG4gICAgICAgIH0pO1xuICAgIGNvbnN0IHBhZGRlZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFkRW5kID0gZGlyID09PSAncmlnaHQnO1xuICAgICAgICBwYWRkZWRCeXRlc1twYWRFbmQgPyBpIDogc2l6ZSAtIGkgLSAxXSA9XG4gICAgICAgICAgICBieXRlc1twYWRFbmQgPyBpIDogYnl0ZXMubGVuZ3RoIC0gaSAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gcGFkZGVkQnl0ZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   size: () => (/* binding */ size)\n/* harmony export */ });\n/* harmony import */ var _isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n\n/**\n * @description Retrieves the size of the value (in bytes).\n *\n * @param value The value (hex or byte array) to retrieve the size of.\n * @returns The size of the value (in bytes).\n */\nfunction size(value) {\n    if ((0,_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(value, { strict: false }))\n        return Math.ceil((value.length - 2) / 2);\n    return value.length;\n}\n//# sourceMappingURL=size.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3NpemUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxRQUFRLGdEQUFLLFVBQVUsZUFBZTtBQUN0QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3NpemUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNIZXggfSBmcm9tICcuL2lzSGV4LmpzJztcbi8qKlxuICogQGRlc2NyaXB0aW9uIFJldHJpZXZlcyB0aGUgc2l6ZSBvZiB0aGUgdmFsdWUgKGluIGJ5dGVzKS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIChoZXggb3IgYnl0ZSBhcnJheSkgdG8gcmV0cmlldmUgdGhlIHNpemUgb2YuXG4gKiBAcmV0dXJucyBUaGUgc2l6ZSBvZiB0aGUgdmFsdWUgKGluIGJ5dGVzKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpemUodmFsdWUpIHtcbiAgICBpZiAoaXNIZXgodmFsdWUsIHsgc3RyaWN0OiBmYWxzZSB9KSlcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodmFsdWUubGVuZ3RoIC0gMikgLyAyKTtcbiAgICByZXR1cm4gdmFsdWUubGVuZ3RoO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2l6ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trim: () => (/* binding */ trim)\n/* harmony export */ });\nfunction trim(hexOrBytes, { dir = 'left' } = {}) {\n    let data = typeof hexOrBytes === 'string' ? hexOrBytes.replace('0x', '') : hexOrBytes;\n    let sliceLength = 0;\n    for (let i = 0; i < data.length - 1; i++) {\n        if (data[dir === 'left' ? i : data.length - i - 1].toString() === '0')\n            sliceLength++;\n        else\n            break;\n    }\n    data =\n        dir === 'left'\n            ? data.slice(sliceLength)\n            : data.slice(0, data.length - sliceLength);\n    if (typeof hexOrBytes === 'string') {\n        if (data.length === 1 && dir === 'right')\n            data = `${data}0`;\n        return `0x${data.length % 2 === 1 ? `0${data}` : data}`;\n    }\n    return data;\n}\n//# sourceMappingURL=trim.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9kYXRhL3RyaW0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLDRCQUE0QixlQUFlLElBQUk7QUFDdEQ7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixLQUFLO0FBQzNCLG9CQUFvQiw0QkFBNEIsS0FBSyxTQUFTO0FBQzlEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2RhdGEvdHJpbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gdHJpbShoZXhPckJ5dGVzLCB7IGRpciA9ICdsZWZ0JyB9ID0ge30pIHtcbiAgICBsZXQgZGF0YSA9IHR5cGVvZiBoZXhPckJ5dGVzID09PSAnc3RyaW5nJyA/IGhleE9yQnl0ZXMucmVwbGFjZSgnMHgnLCAnJykgOiBoZXhPckJ5dGVzO1xuICAgIGxldCBzbGljZUxlbmd0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBpZiAoZGF0YVtkaXIgPT09ICdsZWZ0JyA/IGkgOiBkYXRhLmxlbmd0aCAtIGkgLSAxXS50b1N0cmluZygpID09PSAnMCcpXG4gICAgICAgICAgICBzbGljZUxlbmd0aCsrO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgZGF0YSA9XG4gICAgICAgIGRpciA9PT0gJ2xlZnQnXG4gICAgICAgICAgICA/IGRhdGEuc2xpY2Uoc2xpY2VMZW5ndGgpXG4gICAgICAgICAgICA6IGRhdGEuc2xpY2UoMCwgZGF0YS5sZW5ndGggLSBzbGljZUxlbmd0aCk7XG4gICAgaWYgKHR5cGVvZiBoZXhPckJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDEgJiYgZGlyID09PSAncmlnaHQnKVxuICAgICAgICAgICAgZGF0YSA9IGAke2RhdGF9MGA7XG4gICAgICAgIHJldHVybiBgMHgke2RhdGEubGVuZ3RoICUgMiA9PT0gMSA/IGAwJHtkYXRhfWAgOiBkYXRhfWA7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJpbS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertSize: () => (/* binding */ assertSize),\n/* harmony export */   fromHex: () => (/* binding */ fromHex),\n/* harmony export */   hexToBigInt: () => (/* binding */ hexToBigInt),\n/* harmony export */   hexToBool: () => (/* binding */ hexToBool),\n/* harmony export */   hexToNumber: () => (/* binding */ hexToNumber),\n/* harmony export */   hexToString: () => (/* binding */ hexToString)\n/* harmony export */ });\n/* harmony import */ var _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors/encoding.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js\");\n/* harmony import */ var _data_size_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/size.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/size.js\");\n/* harmony import */ var _data_trim_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/trim.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/trim.js\");\n/* harmony import */ var _toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toBytes.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n\n\n\n\nfunction assertSize(hexOrBytes, { size }) {\n    if ((0,_data_size_js__WEBPACK_IMPORTED_MODULE_0__.size)(hexOrBytes) > size)\n        throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__.SizeOverflowError({\n            givenSize: (0,_data_size_js__WEBPACK_IMPORTED_MODULE_0__.size)(hexOrBytes),\n            maxSize: size,\n        });\n}\n/**\n * Decodes a hex string into a string, number, bigint, boolean, or byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex\n * - Example: https://viem.sh/docs/utilities/fromHex#usage\n *\n * @param hex Hex string to decode.\n * @param toOrOpts Type to convert to or options.\n * @returns Decoded value.\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x1a4', 'number')\n * // 420\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c6421', 'string')\n * // 'Hello world'\n *\n * @example\n * import { fromHex } from 'viem'\n * const data = fromHex('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *   size: 32,\n *   to: 'string'\n * })\n * // 'Hello world'\n */\nfunction fromHex(hex, toOrOpts) {\n    const opts = typeof toOrOpts === 'string' ? { to: toOrOpts } : toOrOpts;\n    const to = opts.to;\n    if (to === 'number')\n        return hexToNumber(hex, opts);\n    if (to === 'bigint')\n        return hexToBigInt(hex, opts);\n    if (to === 'string')\n        return hexToString(hex, opts);\n    if (to === 'boolean')\n        return hexToBool(hex, opts);\n    return (0,_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex, opts);\n}\n/**\n * Decodes a hex value into a bigint.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns BigInt value.\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x1a4', { signed: true })\n * // 420n\n *\n * @example\n * import { hexToBigInt } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420n\n */\nfunction hexToBigInt(hex, opts = {}) {\n    const { signed } = opts;\n    if (opts.size)\n        assertSize(hex, { size: opts.size });\n    const value = BigInt(hex);\n    if (!signed)\n        return value;\n    const size = (hex.length - 2) / 2;\n    const max = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n    if (value <= max)\n        return value;\n    return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;\n}\n/**\n * Decodes a hex value into a boolean.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextobool\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Boolean value.\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x01')\n * // true\n *\n * @example\n * import { hexToBool } from 'viem'\n * const data = hexToBool('0x0000000000000000000000000000000000000000000000000000000000000001', { size: 32 })\n * // true\n */\nfunction hexToBool(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        assertSize(hex, { size: opts.size });\n        hex = (0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex);\n    }\n    if ((0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex) === '0x00')\n        return false;\n    if ((0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(hex) === '0x01')\n        return true;\n    throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_1__.InvalidHexBooleanError(hex);\n}\n/**\n * Decodes a hex string into a number.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns Number value.\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToNumber('0x1a4')\n * // 420\n *\n * @example\n * import { hexToNumber } from 'viem'\n * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\n * // 420\n */\nfunction hexToNumber(hex, opts = {}) {\n    return Number(hexToBigInt(hex, opts));\n}\n/**\n * Decodes a hex value into a UTF-8 string.\n *\n * - Docs: https://viem.sh/docs/utilities/fromHex#hextostring\n *\n * @param hex Hex value to decode.\n * @param opts Options.\n * @returns String value.\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c6421')\n * // 'Hello world!'\n *\n * @example\n * import { hexToString } from 'viem'\n * const data = hexToString('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\n *  size: 32,\n * })\n * // 'Hello world'\n */\nfunction hexToString(hex, opts = {}) {\n    let bytes = (0,_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.hexToBytes)(hex);\n    if (opts.size) {\n        assertSize(bytes, { size: opts.size });\n        bytes = (0,_data_trim_js__WEBPACK_IMPORTED_MODULE_3__.trim)(bytes, { dir: 'right' });\n    }\n    return new TextDecoder().decode(bytes);\n}\n//# sourceMappingURL=fromHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy9mcm9tSGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBc0Y7QUFDdEM7QUFDVDtBQUNHO0FBQ25DLGtDQUFrQyxNQUFNO0FBQy9DLFFBQVEsbURBQUs7QUFDYixrQkFBa0Isa0VBQWlCO0FBQ25DLHVCQUF1QixtREFBSztBQUM1QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDTztBQUNQLGtEQUFrRCxlQUFlO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdURBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQix1Q0FBdUMsY0FBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsb0dBQW9HLFVBQVU7QUFDOUc7QUFDQTtBQUNPLG1DQUFtQztBQUMxQyxZQUFZLFNBQVM7QUFDckI7QUFDQSwwQkFBMEIsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDRCQUE0QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCLGtHQUFrRyxVQUFVO0FBQzVHO0FBQ0E7QUFDTyxrQ0FBa0M7QUFDekM7QUFDQTtBQUNBLDBCQUEwQixpQkFBaUI7QUFDM0MsY0FBYyxtREFBSTtBQUNsQjtBQUNBLFFBQVEsbURBQUk7QUFDWjtBQUNBLFFBQVEsbURBQUk7QUFDWjtBQUNBLGNBQWMsdUVBQXNCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsb0dBQW9HLFVBQVU7QUFDOUc7QUFDQTtBQUNPLG1DQUFtQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ08sbUNBQW1DO0FBQzFDLGdCQUFnQix1REFBVTtBQUMxQjtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0MsZ0JBQWdCLG1EQUFJLFVBQVUsY0FBYztBQUM1QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy9mcm9tSGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludmFsaWRIZXhCb29sZWFuRXJyb3IsIFNpemVPdmVyZmxvd0Vycm9yLCB9IGZyb20gJy4uLy4uL2Vycm9ycy9lbmNvZGluZy5qcyc7XG5pbXBvcnQgeyBzaXplIGFzIHNpemVfIH0gZnJvbSAnLi4vZGF0YS9zaXplLmpzJztcbmltcG9ydCB7IHRyaW0gfSBmcm9tICcuLi9kYXRhL3RyaW0uanMnO1xuaW1wb3J0IHsgaGV4VG9CeXRlcyB9IGZyb20gJy4vdG9CeXRlcy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0U2l6ZShoZXhPckJ5dGVzLCB7IHNpemUgfSkge1xuICAgIGlmIChzaXplXyhoZXhPckJ5dGVzKSA+IHNpemUpXG4gICAgICAgIHRocm93IG5ldyBTaXplT3ZlcmZsb3dFcnJvcih7XG4gICAgICAgICAgICBnaXZlblNpemU6IHNpemVfKGhleE9yQnl0ZXMpLFxuICAgICAgICAgICAgbWF4U2l6ZTogc2l6ZSxcbiAgICAgICAgfSk7XG59XG4vKipcbiAqIERlY29kZXMgYSBoZXggc3RyaW5nIGludG8gYSBzdHJpbmcsIG51bWJlciwgYmlnaW50LCBib29sZWFuLCBvciBieXRlIGFycmF5LlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL2Zyb21IZXhcbiAqIC0gRXhhbXBsZTogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL2Zyb21IZXgjdXNhZ2VcbiAqXG4gKiBAcGFyYW0gaGV4IEhleCBzdHJpbmcgdG8gZGVjb2RlLlxuICogQHBhcmFtIHRvT3JPcHRzIFR5cGUgdG8gY29udmVydCB0byBvciBvcHRpb25zLlxuICogQHJldHVybnMgRGVjb2RlZCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgZnJvbUhleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gZnJvbUhleCgnMHgxYTQnLCAnbnVtYmVyJylcbiAqIC8vIDQyMFxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBmcm9tSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBmcm9tSGV4KCcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMScsICdzdHJpbmcnKVxuICogLy8gJ0hlbGxvIHdvcmxkJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBmcm9tSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBmcm9tSGV4KCcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLCB7XG4gKiAgIHNpemU6IDMyLFxuICogICB0bzogJ3N0cmluZydcbiAqIH0pXG4gKiAvLyAnSGVsbG8gd29ybGQnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSGV4KGhleCwgdG9Pck9wdHMpIHtcbiAgICBjb25zdCBvcHRzID0gdHlwZW9mIHRvT3JPcHRzID09PSAnc3RyaW5nJyA/IHsgdG86IHRvT3JPcHRzIH0gOiB0b09yT3B0cztcbiAgICBjb25zdCB0byA9IG9wdHMudG87XG4gICAgaWYgKHRvID09PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIGhleFRvTnVtYmVyKGhleCwgb3B0cyk7XG4gICAgaWYgKHRvID09PSAnYmlnaW50JylcbiAgICAgICAgcmV0dXJuIGhleFRvQmlnSW50KGhleCwgb3B0cyk7XG4gICAgaWYgKHRvID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIGhleFRvU3RyaW5nKGhleCwgb3B0cyk7XG4gICAgaWYgKHRvID09PSAnYm9vbGVhbicpXG4gICAgICAgIHJldHVybiBoZXhUb0Jvb2woaGV4LCBvcHRzKTtcbiAgICByZXR1cm4gaGV4VG9CeXRlcyhoZXgsIG9wdHMpO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgaGV4IHZhbHVlIGludG8gYSBiaWdpbnQuXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvZnJvbUhleCNoZXh0b2JpZ2ludFxuICpcbiAqIEBwYXJhbSBoZXggSGV4IHZhbHVlIHRvIGRlY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCaWdJbnQgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvQmlnSW50IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0JpZ0ludCgnMHgxYTQnLCB7IHNpZ25lZDogdHJ1ZSB9KVxuICogLy8gNDIwblxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb0JpZ0ludCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9CaWdJbnQoJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDFhNCcsIHsgc2l6ZTogMzIgfSlcbiAqIC8vIDQyMG5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleFRvQmlnSW50KGhleCwgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgeyBzaWduZWQgfSA9IG9wdHM7XG4gICAgaWYgKG9wdHMuc2l6ZSlcbiAgICAgICAgYXNzZXJ0U2l6ZShoZXgsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgIGNvbnN0IHZhbHVlID0gQmlnSW50KGhleCk7XG4gICAgaWYgKCFzaWduZWQpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBjb25zdCBzaXplID0gKGhleC5sZW5ndGggLSAyKSAvIDI7XG4gICAgY29uc3QgbWF4ID0gKDFuIDw8IChCaWdJbnQoc2l6ZSkgKiA4biAtIDFuKSkgLSAxbjtcbiAgICBpZiAodmFsdWUgPD0gbWF4KVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlIC0gQmlnSW50KGAweCR7J2YnLnBhZFN0YXJ0KHNpemUgKiAyLCAnZicpfWApIC0gMW47XG59XG4vKipcbiAqIERlY29kZXMgYSBoZXggdmFsdWUgaW50byBhIGJvb2xlYW4uXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvZnJvbUhleCNoZXh0b2Jvb2xcbiAqXG4gKiBAcGFyYW0gaGV4IEhleCB2YWx1ZSB0byBkZWNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQm9vbGVhbiB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9Cb29sIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb0Jvb2woJzB4MDEnKVxuICogLy8gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb0Jvb2wgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQm9vbCgnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJywgeyBzaXplOiAzMiB9KVxuICogLy8gdHJ1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9Cb29sKGhleF8sIG9wdHMgPSB7fSkge1xuICAgIGxldCBoZXggPSBoZXhfO1xuICAgIGlmIChvcHRzLnNpemUpIHtcbiAgICAgICAgYXNzZXJ0U2l6ZShoZXgsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICBoZXggPSB0cmltKGhleCk7XG4gICAgfVxuICAgIGlmICh0cmltKGhleCkgPT09ICcweDAwJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0cmltKGhleCkgPT09ICcweDAxJylcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgdGhyb3cgbmV3IEludmFsaWRIZXhCb29sZWFuRXJyb3IoaGV4KTtcbn1cbi8qKlxuICogRGVjb2RlcyBhIGhleCBzdHJpbmcgaW50byBhIG51bWJlci5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy9mcm9tSGV4I2hleHRvbnVtYmVyXG4gKlxuICogQHBhcmFtIGhleCBIZXggdmFsdWUgdG8gZGVjb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIE51bWJlciB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9OdW1iZXIgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvTnVtYmVyKCcweDFhNCcpXG4gKiAvLyA0MjBcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9OdW1iZXIgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGhleFRvQmlnSW50KCcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxYTQnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyA0MjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleFRvTnVtYmVyKGhleCwgb3B0cyA9IHt9KSB7XG4gICAgcmV0dXJuIE51bWJlcihoZXhUb0JpZ0ludChoZXgsIG9wdHMpKTtcbn1cbi8qKlxuICogRGVjb2RlcyBhIGhleCB2YWx1ZSBpbnRvIGEgVVRGLTggc3RyaW5nLlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL2Zyb21IZXgjaGV4dG9zdHJpbmdcbiAqXG4gKiBAcGFyYW0gaGV4IEhleCB2YWx1ZSB0byBkZWNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgU3RyaW5nIHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBoZXhUb1N0cmluZyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9TdHJpbmcoJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxJylcbiAqIC8vICdIZWxsbyB3b3JsZCEnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGhleFRvU3RyaW5nIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBoZXhUb1N0cmluZygnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJywge1xuICogIHNpemU6IDMyLFxuICogfSlcbiAqIC8vICdIZWxsbyB3b3JsZCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleFRvU3RyaW5nKGhleCwgb3B0cyA9IHt9KSB7XG4gICAgbGV0IGJ5dGVzID0gaGV4VG9CeXRlcyhoZXgpO1xuICAgIGlmIChvcHRzLnNpemUpIHtcbiAgICAgICAgYXNzZXJ0U2l6ZShieXRlcywgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIGJ5dGVzID0gdHJpbShieXRlcywgeyBkaXI6ICdyaWdodCcgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoYnl0ZXMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUhleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boolToBytes: () => (/* binding */ boolToBytes),\n/* harmony export */   hexToBytes: () => (/* binding */ hexToBytes),\n/* harmony export */   numberToBytes: () => (/* binding */ numberToBytes),\n/* harmony export */   stringToBytes: () => (/* binding */ stringToBytes),\n/* harmony export */   toBytes: () => (/* binding */ toBytes)\n/* harmony export */ });\n/* harmony import */ var _errors_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../errors/base.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/base.js\");\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _data_pad_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/pad.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js\");\n/* harmony import */ var _fromHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fromHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n/* harmony import */ var _toHex_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\n\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes\n * - Example: https://viem.sh/docs/utilities/toBytes#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes('Hello world')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { toBytes } from 'viem'\n * const data = toBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nfunction toBytes(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToBytes(value, opts);\n    if (typeof value === 'boolean')\n        return boolToBytes(value, opts);\n    if ((0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(value))\n        return hexToBytes(value, opts);\n    return stringToBytes(value, opts);\n}\n/**\n * Encodes a boolean into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes\n *\n * @param value Boolean value to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true)\n * // Uint8Array([1])\n *\n * @example\n * import { boolToBytes } from 'viem'\n * const data = boolToBytes(true, { size: 32 })\n * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])\n */\nfunction boolToBytes(value, opts = {}) {\n    const bytes = new Uint8Array(1);\n    bytes[0] = Number(value);\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(bytes, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(bytes, { size: opts.size });\n    }\n    return bytes;\n}\n// We use very optimized technique to convert hex string to byte array\nconst charCodeMap = {\n    zero: 48,\n    nine: 57,\n    A: 65,\n    F: 70,\n    a: 97,\n    f: 102,\n};\nfunction charCodeToBase16(char) {\n    if (char >= charCodeMap.zero && char <= charCodeMap.nine)\n        return char - charCodeMap.zero;\n    if (char >= charCodeMap.A && char <= charCodeMap.F)\n        return char - (charCodeMap.A - 10);\n    if (char >= charCodeMap.a && char <= charCodeMap.f)\n        return char - (charCodeMap.a - 10);\n    return undefined;\n}\n/**\n * Encodes a hex string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes\n *\n * @param hex Hex string to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n *\n * @example\n * import { hexToBytes } from 'viem'\n * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nfunction hexToBytes(hex_, opts = {}) {\n    let hex = hex_;\n    if (opts.size) {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(hex, { size: opts.size });\n        hex = (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(hex, { dir: 'right', size: opts.size });\n    }\n    let hexString = hex.slice(2);\n    if (hexString.length % 2)\n        hexString = `0${hexString}`;\n    const length = hexString.length / 2;\n    const bytes = new Uint8Array(length);\n    for (let index = 0, j = 0; index < length; index++) {\n        const nibbleLeft = charCodeToBase16(hexString.charCodeAt(j++));\n        const nibbleRight = charCodeToBase16(hexString.charCodeAt(j++));\n        if (nibbleLeft === undefined || nibbleRight === undefined) {\n            throw new _errors_base_js__WEBPACK_IMPORTED_MODULE_3__.BaseError(`Invalid byte sequence (\"${hexString[j - 2]}${hexString[j - 1]}\" in \"${hexString}\").`);\n        }\n        bytes[index] = nibbleLeft * 16 + nibbleRight;\n    }\n    return bytes;\n}\n/**\n * Encodes a number into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes\n *\n * @param value Number to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420)\n * // Uint8Array([1, 164])\n *\n * @example\n * import { numberToBytes } from 'viem'\n * const data = numberToBytes(420, { size: 4 })\n * // Uint8Array([0, 0, 1, 164])\n */\nfunction numberToBytes(value, opts) {\n    const hex = (0,_toHex_js__WEBPACK_IMPORTED_MODULE_4__.numberToHex)(value, opts);\n    return hexToBytes(hex);\n}\n/**\n * Encodes a UTF-8 string into a byte array.\n *\n * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes\n *\n * @param value String to encode.\n * @param opts Options.\n * @returns Byte array value.\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!')\n * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])\n *\n * @example\n * import { stringToBytes } from 'viem'\n * const data = stringToBytes('Hello world!', { size: 32 })\n * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n */\nfunction stringToBytes(value, opts = {}) {\n    const bytes = encoder.encode(value);\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_1__.assertSize)(bytes, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_2__.pad)(bytes, { dir: 'right', size: opts.size });\n    }\n    return bytes;\n}\n//# sourceMappingURL=toBytes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy90b0J5dGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDUjtBQUNKO0FBQ0s7QUFDQTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsK0JBQStCLFNBQVM7QUFDeEM7QUFDQTtBQUNPLGlDQUFpQztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQixvQ0FBb0MsVUFBVTtBQUM5QztBQUNBO0FBQ08scUNBQXFDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQVUsVUFBVSxpQkFBaUI7QUFDN0MsZUFBZSxpREFBRyxVQUFVLGlCQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QiwyREFBMkQsVUFBVTtBQUNyRTtBQUNBO0FBQ08sbUNBQW1DO0FBQzFDO0FBQ0E7QUFDQSxRQUFRLHVEQUFVLFFBQVEsaUJBQWlCO0FBQzNDLGNBQWMsaURBQUcsUUFBUSwrQkFBK0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBLCtCQUErQixnQkFBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFTLDRCQUE0QixpQkFBaUIsRUFBRSxpQkFBaUIsUUFBUSxVQUFVO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUIscUNBQXFDLFNBQVM7QUFDOUM7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCLHNEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUIsZ0RBQWdELFVBQVU7QUFDMUQ7QUFDQTtBQUNPLHVDQUF1QztBQUM5QztBQUNBO0FBQ0EsUUFBUSx1REFBVSxVQUFVLGlCQUFpQjtBQUM3QyxlQUFlLGlEQUFHLFVBQVUsK0JBQStCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC91dGlscy9ub2RlX21vZHVsZXMvdmllbS9fZXNtL3V0aWxzL2VuY29kaW5nL3RvQnl0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZUVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3JzL2Jhc2UuanMnO1xuaW1wb3J0IHsgaXNIZXggfSBmcm9tICcuLi9kYXRhL2lzSGV4LmpzJztcbmltcG9ydCB7IHBhZCB9IGZyb20gJy4uL2RhdGEvcGFkLmpzJztcbmltcG9ydCB7IGFzc2VydFNpemUgfSBmcm9tICcuL2Zyb21IZXguanMnO1xuaW1wb3J0IHsgbnVtYmVyVG9IZXgsIH0gZnJvbSAnLi90b0hleC5qcyc7XG5jb25zdCBlbmNvZGVyID0gLyojX19QVVJFX18qLyBuZXcgVGV4dEVuY29kZXIoKTtcbi8qKlxuICogRW5jb2RlcyBhIFVURi04IHN0cmluZywgaGV4IHZhbHVlLCBiaWdpbnQsIG51bWJlciBvciBib29sZWFuIHRvIGEgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0J5dGVzXG4gKiAtIEV4YW1wbGU6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0J5dGVzI3VzYWdlXG4gKlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCeXRlIGFycmF5IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyB0b0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSB0b0J5dGVzKCdIZWxsbyB3b3JsZCcpXG4gKiAvLyBVaW50OEFycmF5KFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgODcsIDExMSwgMTE0LCAxMDgsIDEwMCwgMzNdKVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyB0b0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSB0b0J5dGVzKDQyMClcbiAqIC8vIFVpbnQ4QXJyYXkoWzEsIDE2NF0pXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHRvQnl0ZXMoNDIwLCB7IHNpemU6IDQgfSlcbiAqIC8vIFVpbnQ4QXJyYXkoWzAsIDAsIDEsIDE2NF0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0J5dGVzKHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdiaWdpbnQnKVxuICAgICAgICByZXR1cm4gbnVtYmVyVG9CeXRlcyh2YWx1ZSwgb3B0cyk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICByZXR1cm4gYm9vbFRvQnl0ZXModmFsdWUsIG9wdHMpO1xuICAgIGlmIChpc0hleCh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBoZXhUb0J5dGVzKHZhbHVlLCBvcHRzKTtcbiAgICByZXR1cm4gc3RyaW5nVG9CeXRlcyh2YWx1ZSwgb3B0cyk7XG59XG4vKipcbiAqIEVuY29kZXMgYSBib29sZWFuIGludG8gYSBieXRlIGFycmF5LlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvQnl0ZXMjYm9vbHRvYnl0ZXNcbiAqXG4gKiBAcGFyYW0gdmFsdWUgQm9vbGVhbiB2YWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQnl0ZSBhcnJheSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYm9vbFRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJvb2xUb0J5dGVzKHRydWUpXG4gKiAvLyBVaW50OEFycmF5KFsxXSlcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYm9vbFRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJvb2xUb0J5dGVzKHRydWUsIHsgc2l6ZTogMzIgfSlcbiAqIC8vIFVpbnQ4QXJyYXkoWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDFdKVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm9vbFRvQnl0ZXModmFsdWUsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMSk7XG4gICAgYnl0ZXNbMF0gPSBOdW1iZXIodmFsdWUpO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5zaXplID09PSAnbnVtYmVyJykge1xuICAgICAgICBhc3NlcnRTaXplKGJ5dGVzLCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgcmV0dXJuIHBhZChieXRlcywgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cbi8vIFdlIHVzZSB2ZXJ5IG9wdGltaXplZCB0ZWNobmlxdWUgdG8gY29udmVydCBoZXggc3RyaW5nIHRvIGJ5dGUgYXJyYXlcbmNvbnN0IGNoYXJDb2RlTWFwID0ge1xuICAgIHplcm86IDQ4LFxuICAgIG5pbmU6IDU3LFxuICAgIEE6IDY1LFxuICAgIEY6IDcwLFxuICAgIGE6IDk3LFxuICAgIGY6IDEwMixcbn07XG5mdW5jdGlvbiBjaGFyQ29kZVRvQmFzZTE2KGNoYXIpIHtcbiAgICBpZiAoY2hhciA+PSBjaGFyQ29kZU1hcC56ZXJvICYmIGNoYXIgPD0gY2hhckNvZGVNYXAubmluZSlcbiAgICAgICAgcmV0dXJuIGNoYXIgLSBjaGFyQ29kZU1hcC56ZXJvO1xuICAgIGlmIChjaGFyID49IGNoYXJDb2RlTWFwLkEgJiYgY2hhciA8PSBjaGFyQ29kZU1hcC5GKVxuICAgICAgICByZXR1cm4gY2hhciAtIChjaGFyQ29kZU1hcC5BIC0gMTApO1xuICAgIGlmIChjaGFyID49IGNoYXJDb2RlTWFwLmEgJiYgY2hhciA8PSBjaGFyQ29kZU1hcC5mKVxuICAgICAgICByZXR1cm4gY2hhciAtIChjaGFyQ29kZU1hcC5hIC0gMTApO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIEVuY29kZXMgYSBoZXggc3RyaW5nIGludG8gYSBieXRlIGFycmF5LlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvQnl0ZXMjaGV4dG9ieXRlc1xuICpcbiAqIEBwYXJhbSBoZXggSGV4IHN0cmluZyB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgQnl0ZSBhcnJheSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9CeXRlcygnMHg0ODY1NmM2YzZmMjA3NzZmNzI2YzY0MjEnKVxuICogLy8gVWludDhBcnJheShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDg3LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzXSlcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgaGV4VG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gaGV4VG9CeXRlcygnMHg0ODY1NmM2YzZmMjA3NzZmNzI2YzY0MjEnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyBVaW50OEFycmF5KFs3MiwgMTAxLCAxMDgsIDEwOCwgMTExLCAzMiwgODcsIDExMSwgMTE0LCAxMDgsIDEwMCwgMzMsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdKVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9CeXRlcyhoZXhfLCBvcHRzID0ge30pIHtcbiAgICBsZXQgaGV4ID0gaGV4XztcbiAgICBpZiAob3B0cy5zaXplKSB7XG4gICAgICAgIGFzc2VydFNpemUoaGV4LCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICAgICAgaGV4ID0gcGFkKGhleCwgeyBkaXI6ICdyaWdodCcsIHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICB9XG4gICAgbGV0IGhleFN0cmluZyA9IGhleC5zbGljZSgyKTtcbiAgICBpZiAoaGV4U3RyaW5nLmxlbmd0aCAlIDIpXG4gICAgICAgIGhleFN0cmluZyA9IGAwJHtoZXhTdHJpbmd9YDtcbiAgICBjb25zdCBsZW5ndGggPSBoZXhTdHJpbmcubGVuZ3RoIC8gMjtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwLCBqID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY29uc3QgbmliYmxlTGVmdCA9IGNoYXJDb2RlVG9CYXNlMTYoaGV4U3RyaW5nLmNoYXJDb2RlQXQoaisrKSk7XG4gICAgICAgIGNvbnN0IG5pYmJsZVJpZ2h0ID0gY2hhckNvZGVUb0Jhc2UxNihoZXhTdHJpbmcuY2hhckNvZGVBdChqKyspKTtcbiAgICAgICAgaWYgKG5pYmJsZUxlZnQgPT09IHVuZGVmaW5lZCB8fCBuaWJibGVSaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQmFzZUVycm9yKGBJbnZhbGlkIGJ5dGUgc2VxdWVuY2UgKFwiJHtoZXhTdHJpbmdbaiAtIDJdfSR7aGV4U3RyaW5nW2ogLSAxXX1cIiBpbiBcIiR7aGV4U3RyaW5nfVwiKS5gKTtcbiAgICAgICAgfVxuICAgICAgICBieXRlc1tpbmRleF0gPSBuaWJibGVMZWZ0ICogMTYgKyBuaWJibGVSaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuLyoqXG4gKiBFbmNvZGVzIGEgbnVtYmVyIGludG8gYSBieXRlIGFycmF5LlxuICpcbiAqIC0gRG9jczogaHR0cHM6Ly92aWVtLnNoL2RvY3MvdXRpbGl0aWVzL3RvQnl0ZXMjbnVtYmVydG9ieXRlc1xuICpcbiAqIEBwYXJhbSB2YWx1ZSBOdW1iZXIgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEJ5dGUgYXJyYXkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IG51bWJlclRvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IG51bWJlclRvQnl0ZXMoNDIwKVxuICogLy8gVWludDhBcnJheShbMSwgMTY0XSlcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgbnVtYmVyVG9CeXRlcyB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gbnVtYmVyVG9CeXRlcyg0MjAsIHsgc2l6ZTogNCB9KVxuICogLy8gVWludDhBcnJheShbMCwgMCwgMSwgMTY0XSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvQnl0ZXModmFsdWUsIG9wdHMpIHtcbiAgICBjb25zdCBoZXggPSBudW1iZXJUb0hleCh2YWx1ZSwgb3B0cyk7XG4gICAgcmV0dXJuIGhleFRvQnl0ZXMoaGV4KTtcbn1cbi8qKlxuICogRW5jb2RlcyBhIFVURi04IHN0cmluZyBpbnRvIGEgYnl0ZSBhcnJheS5cbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0J5dGVzI3N0cmluZ3RvYnl0ZXNcbiAqXG4gKiBAcGFyYW0gdmFsdWUgU3RyaW5nIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBCeXRlIGFycmF5IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBzdHJpbmdUb0J5dGVzIH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBzdHJpbmdUb0J5dGVzKCdIZWxsbyB3b3JsZCEnKVxuICogLy8gVWludDhBcnJheShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDExOSwgMTExLCAxMTQsIDEwOCwgMTAwLCAzM10pXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHN0cmluZ1RvQnl0ZXMgfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHN0cmluZ1RvQnl0ZXMoJ0hlbGxvIHdvcmxkIScsIHsgc2l6ZTogMzIgfSlcbiAqIC8vIFVpbnQ4QXJyYXkoWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCA4NywgMTExLCAxMTQsIDEwOCwgMTAwLCAzMywgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHZhbHVlLCBvcHRzID0ge30pIHtcbiAgICBjb25zdCBieXRlcyA9IGVuY29kZXIuZW5jb2RlKHZhbHVlKTtcbiAgICBpZiAodHlwZW9mIG9wdHMuc2l6ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgYXNzZXJ0U2l6ZShieXRlcywgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIHJldHVybiBwYWQoYnl0ZXMsIHsgZGlyOiAncmlnaHQnLCBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvQnl0ZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boolToHex: () => (/* binding */ boolToHex),\n/* harmony export */   bytesToHex: () => (/* binding */ bytesToHex),\n/* harmony export */   numberToHex: () => (/* binding */ numberToHex),\n/* harmony export */   stringToHex: () => (/* binding */ stringToHex),\n/* harmony export */   toHex: () => (/* binding */ toHex)\n/* harmony export */ });\n/* harmony import */ var _errors_encoding_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors/encoding.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/errors/encoding.js\");\n/* harmony import */ var _data_pad_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/pad.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/pad.js\");\n/* harmony import */ var _fromHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fromHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n\n\n\nconst hexes = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));\n/**\n * Encodes a string, number, bigint, or ByteArray into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex\n * - Example: https://viem.sh/docs/utilities/toHex#usage\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world')\n * // '0x48656c6c6f20776f726c6421'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex(420)\n * // '0x1a4'\n *\n * @example\n * import { toHex } from 'viem'\n * const data = toHex('Hello world', { size: 32 })\n * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'\n */\nfunction toHex(value, opts = {}) {\n    if (typeof value === 'number' || typeof value === 'bigint')\n        return numberToHex(value, opts);\n    if (typeof value === 'string') {\n        return stringToHex(value, opts);\n    }\n    if (typeof value === 'boolean')\n        return boolToHex(value, opts);\n    return bytesToHex(value, opts);\n}\n/**\n * Encodes a boolean into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#booltohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true)\n * // '0x1'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(false)\n * // '0x0'\n *\n * @example\n * import { boolToHex } from 'viem'\n * const data = boolToHex(true, { size: 32 })\n * // '0x0000000000000000000000000000000000000000000000000000000000000001'\n */\nfunction boolToHex(value, opts = {}) {\n    const hex = `0x${Number(value)}`;\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_0__.assertSize)(hex, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a bytes array into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { bytesToHex } from 'viem'\n * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nfunction bytesToHex(value, opts = {}) {\n    let string = '';\n    for (let i = 0; i < value.length; i++) {\n        string += hexes[value[i]];\n    }\n    const hex = `0x${string}`;\n    if (typeof opts.size === 'number') {\n        (0,_fromHex_js__WEBPACK_IMPORTED_MODULE_0__.assertSize)(hex, { size: opts.size });\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { dir: 'right', size: opts.size });\n    }\n    return hex;\n}\n/**\n * Encodes a number or bigint into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420)\n * // '0x1a4'\n *\n * @example\n * import { numberToHex } from 'viem'\n * const data = numberToHex(420, { size: 32 })\n * // '0x00000000000000000000000000000000000000000000000000000000000001a4'\n */\nfunction numberToHex(value_, opts = {}) {\n    const { signed, size } = opts;\n    const value = BigInt(value_);\n    let maxValue;\n    if (size) {\n        if (signed)\n            maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n;\n        else\n            maxValue = 2n ** (BigInt(size) * 8n) - 1n;\n    }\n    else if (typeof value_ === 'number') {\n        maxValue = BigInt(Number.MAX_SAFE_INTEGER);\n    }\n    const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;\n    if ((maxValue && value > maxValue) || value < minValue) {\n        const suffix = typeof value_ === 'bigint' ? 'n' : '';\n        throw new _errors_encoding_js__WEBPACK_IMPORTED_MODULE_2__.IntegerOutOfRangeError({\n            max: maxValue ? `${maxValue}${suffix}` : undefined,\n            min: `${minValue}${suffix}`,\n            signed,\n            size,\n            value: `${value_}${suffix}`,\n        });\n    }\n    const hex = `0x${(signed && value < 0 ? (1n << BigInt(size * 8)) + BigInt(value) : value).toString(16)}`;\n    if (size)\n        return (0,_data_pad_js__WEBPACK_IMPORTED_MODULE_1__.pad)(hex, { size });\n    return hex;\n}\nconst encoder = /*#__PURE__*/ new TextEncoder();\n/**\n * Encodes a UTF-8 string into a hex string\n *\n * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex\n *\n * @param value Value to encode.\n * @param opts Options.\n * @returns Hex value.\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!')\n * // '0x48656c6c6f20576f726c6421'\n *\n * @example\n * import { stringToHex } from 'viem'\n * const data = stringToHex('Hello World!', { size: 32 })\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\n */\nfunction stringToHex(value_, opts = {}) {\n    const value = encoder.encode(value_);\n    return bytesToHex(value, opts);\n}\n//# sourceMappingURL=toHex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9lbmNvZGluZy90b0hleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFtRTtBQUM5QjtBQUNLO0FBQzFDLHlDQUF5QyxhQUFhO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsdUNBQXVDLFVBQVU7QUFDakQ7QUFDQTtBQUNPLCtCQUErQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QixrQ0FBa0MsVUFBVTtBQUM1QztBQUNBO0FBQ08sbUNBQW1DO0FBQzFDLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0EsUUFBUSx1REFBVSxRQUFRLGlCQUFpQjtBQUMzQyxlQUFlLGlEQUFHLFFBQVEsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCLHdHQUF3RyxVQUFVO0FBQ2xIO0FBQ0E7QUFDTyxvQ0FBb0M7QUFDM0M7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQSxxQkFBcUIsT0FBTztBQUM1QjtBQUNBLFFBQVEsdURBQVUsUUFBUSxpQkFBaUI7QUFDM0MsZUFBZSxpREFBRyxRQUFRLCtCQUErQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQixtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ08sc0NBQXNDO0FBQzdDLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVFQUFzQjtBQUN4QywrQkFBK0IsU0FBUyxFQUFFLE9BQU87QUFDakQsb0JBQW9CLFNBQVMsRUFBRSxPQUFPO0FBQ3RDO0FBQ0E7QUFDQSxzQkFBc0IsT0FBTyxFQUFFLE9BQU87QUFDdEMsU0FBUztBQUNUO0FBQ0EscUJBQXFCLHNGQUFzRjtBQUMzRztBQUNBLGVBQWUsaURBQUcsUUFBUSxNQUFNO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLDhDQUE4QyxVQUFVO0FBQ3hEO0FBQ0E7QUFDTyxzQ0FBc0M7QUFDN0M7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3V0aWxzL25vZGVfbW9kdWxlcy92aWVtL19lc20vdXRpbHMvZW5jb2RpbmcvdG9IZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW50ZWdlck91dE9mUmFuZ2VFcnJvciwgfSBmcm9tICcuLi8uLi9lcnJvcnMvZW5jb2RpbmcuanMnO1xuaW1wb3J0IHsgcGFkIH0gZnJvbSAnLi4vZGF0YS9wYWQuanMnO1xuaW1wb3J0IHsgYXNzZXJ0U2l6ZSB9IGZyb20gJy4vZnJvbUhleC5qcyc7XG5jb25zdCBoZXhlcyA9IC8qI19fUFVSRV9fKi8gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjU2IH0sIChfdiwgaSkgPT4gaS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSk7XG4vKipcbiAqIEVuY29kZXMgYSBzdHJpbmcsIG51bWJlciwgYmlnaW50LCBvciBCeXRlQXJyYXkgaW50byBhIGhleCBzdHJpbmdcbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0hleFxuICogLSBFeGFtcGxlOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9IZXgjdXNhZ2VcbiAqXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZW5jb2RlLlxuICogQHBhcmFtIG9wdHMgT3B0aW9ucy5cbiAqIEByZXR1cm5zIEhleCB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgdG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IHRvSGV4KCdIZWxsbyB3b3JsZCcpXG4gKiAvLyAnMHg0ODY1NmM2YzZmMjA3NzZmNzI2YzY0MjEnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSB0b0hleCg0MjApXG4gKiAvLyAnMHgxYTQnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHRvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSB0b0hleCgnSGVsbG8gd29ybGQnLCB7IHNpemU6IDMyIH0pXG4gKiAvLyAnMHg0ODY1NmM2YzZmMjA3NzZmNzI2YzY0MjEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gdG9IZXgodmFsdWUsIG9wdHMgPSB7fSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcpXG4gICAgICAgIHJldHVybiBudW1iZXJUb0hleCh2YWx1ZSwgb3B0cyk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ1RvSGV4KHZhbHVlLCBvcHRzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICByZXR1cm4gYm9vbFRvSGV4KHZhbHVlLCBvcHRzKTtcbiAgICByZXR1cm4gYnl0ZXNUb0hleCh2YWx1ZSwgb3B0cyk7XG59XG4vKipcbiAqIEVuY29kZXMgYSBib29sZWFuIGludG8gYSBoZXggc3RyaW5nXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9IZXgjYm9vbHRvaGV4XG4gKlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIGVuY29kZS5cbiAqIEBwYXJhbSBvcHRzIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBIZXggdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJvb2xUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYm9vbFRvSGV4KHRydWUpXG4gKiAvLyAnMHgxJ1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBib29sVG9IZXggfSBmcm9tICd2aWVtJ1xuICogY29uc3QgZGF0YSA9IGJvb2xUb0hleChmYWxzZSlcbiAqIC8vICcweDAnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGJvb2xUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYm9vbFRvSGV4KHRydWUsIHsgc2l6ZTogMzIgfSlcbiAqIC8vICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib29sVG9IZXgodmFsdWUsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IGhleCA9IGAweCR7TnVtYmVyKHZhbHVlKX1gO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5zaXplID09PSAnbnVtYmVyJykge1xuICAgICAgICBhc3NlcnRTaXplKGhleCwgeyBzaXplOiBvcHRzLnNpemUgfSk7XG4gICAgICAgIHJldHVybiBwYWQoaGV4LCB7IHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbn1cbi8qKlxuICogRW5jb2RlcyBhIGJ5dGVzIGFycmF5IGludG8gYSBoZXggc3RyaW5nXG4gKlxuICogLSBEb2NzOiBodHRwczovL3ZpZW0uc2gvZG9jcy91dGlsaXRpZXMvdG9IZXgjYnl0ZXN0b2hleFxuICpcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgSGV4IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBieXRlc1RvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBieXRlc1RvSGV4KFVpbnQ4QXJyYXkuZnJvbShbNzIsIDEwMSwgMTA4LCAxMDgsIDExMSwgMzIsIDg3LCAxMTEsIDExNCwgMTA4LCAxMDAsIDMzXSlcbiAqIC8vICcweDQ4NjU2YzZjNmYyMDU3NmY3MjZjNjQyMSdcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgYnl0ZXNUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gYnl0ZXNUb0hleChVaW50OEFycmF5LmZyb20oWzcyLCAxMDEsIDEwOCwgMTA4LCAxMTEsIDMyLCA4NywgMTExLCAxMTQsIDEwOCwgMTAwLCAzM10pLCB7IHNpemU6IDMyIH0pXG4gKiAvLyAnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNUb0hleCh2YWx1ZSwgb3B0cyA9IHt9KSB7XG4gICAgbGV0IHN0cmluZyA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyaW5nICs9IGhleGVzW3ZhbHVlW2ldXTtcbiAgICB9XG4gICAgY29uc3QgaGV4ID0gYDB4JHtzdHJpbmd9YDtcbiAgICBpZiAodHlwZW9mIG9wdHMuc2l6ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgYXNzZXJ0U2l6ZShoZXgsIHsgc2l6ZTogb3B0cy5zaXplIH0pO1xuICAgICAgICByZXR1cm4gcGFkKGhleCwgeyBkaXI6ICdyaWdodCcsIHNpemU6IG9wdHMuc2l6ZSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbn1cbi8qKlxuICogRW5jb2RlcyBhIG51bWJlciBvciBiaWdpbnQgaW50byBhIGhleCBzdHJpbmdcbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0hleCNudW1iZXJ0b2hleFxuICpcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgSGV4IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBudW1iZXJUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gbnVtYmVyVG9IZXgoNDIwKVxuICogLy8gJzB4MWE0J1xuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBudW1iZXJUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gbnVtYmVyVG9IZXgoNDIwLCB7IHNpemU6IDMyIH0pXG4gKiAvLyAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMWE0J1xuICovXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyVG9IZXgodmFsdWVfLCBvcHRzID0ge30pIHtcbiAgICBjb25zdCB7IHNpZ25lZCwgc2l6ZSB9ID0gb3B0cztcbiAgICBjb25zdCB2YWx1ZSA9IEJpZ0ludCh2YWx1ZV8pO1xuICAgIGxldCBtYXhWYWx1ZTtcbiAgICBpZiAoc2l6ZSkge1xuICAgICAgICBpZiAoc2lnbmVkKVxuICAgICAgICAgICAgbWF4VmFsdWUgPSAoMW4gPDwgKEJpZ0ludChzaXplKSAqIDhuIC0gMW4pKSAtIDFuO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBtYXhWYWx1ZSA9IDJuICoqIChCaWdJbnQoc2l6ZSkgKiA4bikgLSAxbjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlXyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgbWF4VmFsdWUgPSBCaWdJbnQoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO1xuICAgIH1cbiAgICBjb25zdCBtaW5WYWx1ZSA9IHR5cGVvZiBtYXhWYWx1ZSA9PT0gJ2JpZ2ludCcgJiYgc2lnbmVkID8gLW1heFZhbHVlIC0gMW4gOiAwO1xuICAgIGlmICgobWF4VmFsdWUgJiYgdmFsdWUgPiBtYXhWYWx1ZSkgfHwgdmFsdWUgPCBtaW5WYWx1ZSkge1xuICAgICAgICBjb25zdCBzdWZmaXggPSB0eXBlb2YgdmFsdWVfID09PSAnYmlnaW50JyA/ICduJyA6ICcnO1xuICAgICAgICB0aHJvdyBuZXcgSW50ZWdlck91dE9mUmFuZ2VFcnJvcih7XG4gICAgICAgICAgICBtYXg6IG1heFZhbHVlID8gYCR7bWF4VmFsdWV9JHtzdWZmaXh9YCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1pbjogYCR7bWluVmFsdWV9JHtzdWZmaXh9YCxcbiAgICAgICAgICAgIHNpZ25lZCxcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICB2YWx1ZTogYCR7dmFsdWVffSR7c3VmZml4fWAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBoZXggPSBgMHgkeyhzaWduZWQgJiYgdmFsdWUgPCAwID8gKDFuIDw8IEJpZ0ludChzaXplICogOCkpICsgQmlnSW50KHZhbHVlKSA6IHZhbHVlKS50b1N0cmluZygxNil9YDtcbiAgICBpZiAoc2l6ZSlcbiAgICAgICAgcmV0dXJuIHBhZChoZXgsIHsgc2l6ZSB9KTtcbiAgICByZXR1cm4gaGV4O1xufVxuY29uc3QgZW5jb2RlciA9IC8qI19fUFVSRV9fKi8gbmV3IFRleHRFbmNvZGVyKCk7XG4vKipcbiAqIEVuY29kZXMgYSBVVEYtOCBzdHJpbmcgaW50byBhIGhleCBzdHJpbmdcbiAqXG4gKiAtIERvY3M6IGh0dHBzOi8vdmllbS5zaC9kb2NzL3V0aWxpdGllcy90b0hleCNzdHJpbmd0b2hleFxuICpcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBlbmNvZGUuXG4gKiBAcGFyYW0gb3B0cyBPcHRpb25zLlxuICogQHJldHVybnMgSGV4IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBzdHJpbmdUb0hleCB9IGZyb20gJ3ZpZW0nXG4gKiBjb25zdCBkYXRhID0gc3RyaW5nVG9IZXgoJ0hlbGxvIFdvcmxkIScpXG4gKiAvLyAnMHg0ODY1NmM2YzZmMjA1NzZmNzI2YzY0MjEnXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHN0cmluZ1RvSGV4IH0gZnJvbSAndmllbSdcbiAqIGNvbnN0IGRhdGEgPSBzdHJpbmdUb0hleCgnSGVsbG8gV29ybGQhJywgeyBzaXplOiAzMiB9KVxuICogLy8gJzB4NDg2NTZjNmM2ZjIwNTc2ZjcyNmM2NDIxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvSGV4KHZhbHVlXywgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgdmFsdWUgPSBlbmNvZGVyLmVuY29kZSh2YWx1ZV8pO1xuICAgIHJldHVybiBieXRlc1RvSGV4KHZhbHVlLCBvcHRzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvSGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keccak256: () => (/* binding */ keccak256)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/sha3 */ \"(ssr)/./node_modules/@noble/hashes/esm/sha3.js\");\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/toBytes.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toBytes.js\");\n/* harmony import */ var _encoding_toHex_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../encoding/toHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\nfunction keccak256(value, to_) {\n    const to = to_ || 'hex';\n    const bytes = (0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_0__.keccak_256)((0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_1__.isHex)(value, { strict: false }) ? (0,_encoding_toBytes_js__WEBPACK_IMPORTED_MODULE_2__.toBytes)(value) : value);\n    if (to === 'bytes')\n        return bytes;\n    return (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_3__.toHex)(bytes);\n}\n//# sourceMappingURL=keccak256.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9oYXNoL2tlY2NhazI1Ni5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnRDtBQUNQO0FBQ1E7QUFDSjtBQUN0QztBQUNQO0FBQ0Esa0JBQWtCLDhEQUFVLENBQUMscURBQUssVUFBVSxlQUFlLElBQUksNkRBQU87QUFDdEU7QUFDQTtBQUNBLFdBQVcseURBQUs7QUFDaEI7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9oYXNoL2tlY2NhazI1Ni5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBrZWNjYWtfMjU2IH0gZnJvbSAnQG5vYmxlL2hhc2hlcy9zaGEzJztcbmltcG9ydCB7IGlzSGV4IH0gZnJvbSAnLi4vZGF0YS9pc0hleC5qcyc7XG5pbXBvcnQgeyB0b0J5dGVzIH0gZnJvbSAnLi4vZW5jb2RpbmcvdG9CeXRlcy5qcyc7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gJy4uL2VuY29kaW5nL3RvSGV4LmpzJztcbmV4cG9ydCBmdW5jdGlvbiBrZWNjYWsyNTYodmFsdWUsIHRvXykge1xuICAgIGNvbnN0IHRvID0gdG9fIHx8ICdoZXgnO1xuICAgIGNvbnN0IGJ5dGVzID0ga2VjY2FrXzI1Nihpc0hleCh2YWx1ZSwgeyBzdHJpY3Q6IGZhbHNlIH0pID8gdG9CeXRlcyh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgaWYgKHRvID09PSAnYnl0ZXMnKVxuICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgcmV0dXJuIHRvSGV4KGJ5dGVzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlY2NhazI1Ni5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/hash/keccak256.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LruMap: () => (/* binding */ LruMap)\n/* harmony export */ });\n/**\n * Map with a LRU (Least recently used) policy.\n *\n * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU\n */\nclass LruMap extends Map {\n    constructor(size) {\n        super();\n        Object.defineProperty(this, \"maxSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.maxSize = size;\n    }\n    get(key) {\n        const value = super.get(key);\n        if (super.has(key) && value !== undefined) {\n            this.delete(key);\n            super.set(key, value);\n        }\n        return value;\n    }\n    set(key, value) {\n        super.set(key, value);\n        if (this.maxSize && this.size > this.maxSize) {\n            const firstKey = this.keys().next().value;\n            if (firstKey)\n                this.delete(firstKey);\n        }\n        return this;\n    }\n}\n//# sourceMappingURL=lru.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9scnUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9scnUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNYXAgd2l0aCBhIExSVSAoTGVhc3QgcmVjZW50bHkgdXNlZCkgcG9saWN5LlxuICpcbiAqIEBsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhY2hlX3JlcGxhY2VtZW50X3BvbGljaWVzI0xSVVxuICovXG5leHBvcnQgY2xhc3MgTHJ1TWFwIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3RvcihzaXplKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heFNpemVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXhTaXplID0gc2l6ZTtcbiAgICB9XG4gICAgZ2V0KGtleSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHN1cGVyLmdldChrZXkpO1xuICAgICAgICBpZiAoc3VwZXIuaGFzKGtleSkgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIHN1cGVyLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIHN1cGVyLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMubWF4U2l6ZSAmJiB0aGlzLnNpemUgPiB0aGlzLm1heFNpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0S2V5ID0gdGhpcy5rZXlzKCkubmV4dCgpLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGZpcnN0S2V5KVxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlKGZpcnN0S2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1scnUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/lru.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recoverAddress: () => (/* binding */ recoverAddress)\n/* harmony export */ });\n/* harmony import */ var _accounts_utils_publicKeyToAddress_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../accounts/utils/publicKeyToAddress.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/accounts/utils/publicKeyToAddress.js\");\n/* harmony import */ var _recoverPublicKey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./recoverPublicKey.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js\");\n\n\nasync function recoverAddress({ hash, signature, }) {\n    return (0,_accounts_utils_publicKeyToAddress_js__WEBPACK_IMPORTED_MODULE_0__.publicKeyToAddress)(await (0,_recoverPublicKey_js__WEBPACK_IMPORTED_MODULE_1__.recoverPublicKey)({ hash: hash, signature }));\n}\n//# sourceMappingURL=recoverAddress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9zaWduYXR1cmUvcmVjb3ZlckFkZHJlc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdGO0FBQ3ZCO0FBQ2xELGdDQUFnQyxrQkFBa0I7QUFDekQsV0FBVyx5RkFBa0IsT0FBTyxzRUFBZ0IsR0FBRyx1QkFBdUI7QUFDOUU7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9zaWduYXR1cmUvcmVjb3ZlckFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHVibGljS2V5VG9BZGRyZXNzIH0gZnJvbSAnLi4vLi4vYWNjb3VudHMvdXRpbHMvcHVibGljS2V5VG9BZGRyZXNzLmpzJztcbmltcG9ydCB7IHJlY292ZXJQdWJsaWNLZXkgfSBmcm9tICcuL3JlY292ZXJQdWJsaWNLZXkuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY292ZXJBZGRyZXNzKHsgaGFzaCwgc2lnbmF0dXJlLCB9KSB7XG4gICAgcmV0dXJuIHB1YmxpY0tleVRvQWRkcmVzcyhhd2FpdCByZWNvdmVyUHVibGljS2V5KHsgaGFzaDogaGFzaCwgc2lnbmF0dXJlIH0pKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY292ZXJBZGRyZXNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverAddress.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recoverPublicKey: () => (/* binding */ recoverPublicKey)\n/* harmony export */ });\n/* harmony import */ var _data_isHex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/isHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/data/isHex.js\");\n/* harmony import */ var _encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encoding/fromHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/fromHex.js\");\n/* harmony import */ var _encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../encoding/toHex.js */ \"(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\nasync function recoverPublicKey({ hash, signature, }) {\n    const hashHex = (0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(hash) ? hash : (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__.toHex)(hash);\n    const { secp256k1 } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @noble/curves/secp256k1 */ \"(ssr)/./node_modules/@noble/curves/esm/secp256k1.js\"));\n    const signature_ = (() => {\n        // typeof signature: `Signature`\n        if (typeof signature === 'object' && 'r' in signature && 's' in signature) {\n            const { r, s, v, yParity } = signature;\n            const yParityOrV = Number(yParity ?? v);\n            const recoveryBit = toRecoveryBit(yParityOrV);\n            return new secp256k1.Signature((0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToBigInt)(r), (0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToBigInt)(s)).addRecoveryBit(recoveryBit);\n        }\n        // typeof signature: `Hex | ByteArray`\n        const signatureHex = (0,_data_isHex_js__WEBPACK_IMPORTED_MODULE_0__.isHex)(signature) ? signature : (0,_encoding_toHex_js__WEBPACK_IMPORTED_MODULE_1__.toHex)(signature);\n        const yParityOrV = (0,_encoding_fromHex_js__WEBPACK_IMPORTED_MODULE_2__.hexToNumber)(`0x${signatureHex.slice(130)}`);\n        const recoveryBit = toRecoveryBit(yParityOrV);\n        return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);\n    })();\n    const publicKey = signature_\n        .recoverPublicKey(hashHex.substring(2))\n        .toHex(false);\n    return `0x${publicKey}`;\n}\nfunction toRecoveryBit(yParityOrV) {\n    if (yParityOrV === 0 || yParityOrV === 1)\n        return yParityOrV;\n    if (yParityOrV === 27)\n        return 0;\n    if (yParityOrV === 28)\n        return 1;\n    throw new Error('Invalid yParityOrV value');\n}\n//# sourceMappingURL=recoverPublicKey.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9zaWduYXR1cmUvcmVjb3ZlclB1YmxpY0tleS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDO0FBQzBCO0FBQ3RCO0FBQ3RDLGtDQUFrQyxrQkFBa0I7QUFDM0Qsb0JBQW9CLHFEQUFLLGdCQUFnQix5REFBSztBQUM5QyxZQUFZLFlBQVksUUFBUSwwS0FBaUM7QUFDakU7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0EsMkNBQTJDLGlFQUFXLEtBQUssaUVBQVc7QUFDdEU7QUFDQTtBQUNBLDZCQUE2QixxREFBSywwQkFBMEIseURBQUs7QUFDakUsMkJBQTJCLGlFQUFXLE1BQU0sd0JBQXdCO0FBQ3BFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phc2h3YW50aHBlZGRpc2V0dHkvRG9jdW1lbnRzL2V0aGdsb2JhbC9jb250ZXh0by9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvdXRpbHMvbm9kZV9tb2R1bGVzL3ZpZW0vX2VzbS91dGlscy9zaWduYXR1cmUvcmVjb3ZlclB1YmxpY0tleS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0hleCB9IGZyb20gJy4uL2RhdGEvaXNIZXguanMnO1xuaW1wb3J0IHsgaGV4VG9CaWdJbnQsIGhleFRvTnVtYmVyLCB9IGZyb20gJy4uL2VuY29kaW5nL2Zyb21IZXguanMnO1xuaW1wb3J0IHsgdG9IZXggfSBmcm9tICcuLi9lbmNvZGluZy90b0hleC5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVjb3ZlclB1YmxpY0tleSh7IGhhc2gsIHNpZ25hdHVyZSwgfSkge1xuICAgIGNvbnN0IGhhc2hIZXggPSBpc0hleChoYXNoKSA/IGhhc2ggOiB0b0hleChoYXNoKTtcbiAgICBjb25zdCB7IHNlY3AyNTZrMSB9ID0gYXdhaXQgaW1wb3J0KCdAbm9ibGUvY3VydmVzL3NlY3AyNTZrMScpO1xuICAgIGNvbnN0IHNpZ25hdHVyZV8gPSAoKCkgPT4ge1xuICAgICAgICAvLyB0eXBlb2Ygc2lnbmF0dXJlOiBgU2lnbmF0dXJlYFxuICAgICAgICBpZiAodHlwZW9mIHNpZ25hdHVyZSA9PT0gJ29iamVjdCcgJiYgJ3InIGluIHNpZ25hdHVyZSAmJiAncycgaW4gc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICBjb25zdCB7IHIsIHMsIHYsIHlQYXJpdHkgfSA9IHNpZ25hdHVyZTtcbiAgICAgICAgICAgIGNvbnN0IHlQYXJpdHlPclYgPSBOdW1iZXIoeVBhcml0eSA/PyB2KTtcbiAgICAgICAgICAgIGNvbnN0IHJlY292ZXJ5Qml0ID0gdG9SZWNvdmVyeUJpdCh5UGFyaXR5T3JWKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgc2VjcDI1NmsxLlNpZ25hdHVyZShoZXhUb0JpZ0ludChyKSwgaGV4VG9CaWdJbnQocykpLmFkZFJlY292ZXJ5Qml0KHJlY292ZXJ5Qml0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0eXBlb2Ygc2lnbmF0dXJlOiBgSGV4IHwgQnl0ZUFycmF5YFxuICAgICAgICBjb25zdCBzaWduYXR1cmVIZXggPSBpc0hleChzaWduYXR1cmUpID8gc2lnbmF0dXJlIDogdG9IZXgoc2lnbmF0dXJlKTtcbiAgICAgICAgY29uc3QgeVBhcml0eU9yViA9IGhleFRvTnVtYmVyKGAweCR7c2lnbmF0dXJlSGV4LnNsaWNlKDEzMCl9YCk7XG4gICAgICAgIGNvbnN0IHJlY292ZXJ5Qml0ID0gdG9SZWNvdmVyeUJpdCh5UGFyaXR5T3JWKTtcbiAgICAgICAgcmV0dXJuIHNlY3AyNTZrMS5TaWduYXR1cmUuZnJvbUNvbXBhY3Qoc2lnbmF0dXJlSGV4LnN1YnN0cmluZygyLCAxMzApKS5hZGRSZWNvdmVyeUJpdChyZWNvdmVyeUJpdCk7XG4gICAgfSkoKTtcbiAgICBjb25zdCBwdWJsaWNLZXkgPSBzaWduYXR1cmVfXG4gICAgICAgIC5yZWNvdmVyUHVibGljS2V5KGhhc2hIZXguc3Vic3RyaW5nKDIpKVxuICAgICAgICAudG9IZXgoZmFsc2UpO1xuICAgIHJldHVybiBgMHgke3B1YmxpY0tleX1gO1xufVxuZnVuY3Rpb24gdG9SZWNvdmVyeUJpdCh5UGFyaXR5T3JWKSB7XG4gICAgaWYgKHlQYXJpdHlPclYgPT09IDAgfHwgeVBhcml0eU9yViA9PT0gMSlcbiAgICAgICAgcmV0dXJuIHlQYXJpdHlPclY7XG4gICAgaWYgKHlQYXJpdHlPclYgPT09IDI3KVxuICAgICAgICByZXR1cm4gMDtcbiAgICBpZiAoeVBhcml0eU9yViA9PT0gMjgpXG4gICAgICAgIHJldHVybiAxO1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB5UGFyaXR5T3JWIHZhbHVlJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvdmVyUHVibGljS2V5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/utils/node_modules/viem/_esm/utils/signature/recoverPublicKey.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@walletconnect/window-getters/dist/cjs/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getLocalStorage = exports.getLocalStorageOrThrow = exports.getCrypto = exports.getCryptoOrThrow = exports.getLocation = exports.getLocationOrThrow = exports.getNavigator = exports.getNavigatorOrThrow = exports.getDocument = exports.getDocumentOrThrow = exports.getFromWindowOrThrow = exports.getFromWindow = void 0;\nfunction getFromWindow(name) {\n    let res = undefined;\n    if (typeof window !== \"undefined\" && typeof window[name] !== \"undefined\") {\n        res = window[name];\n    }\n    return res;\n}\nexports.getFromWindow = getFromWindow;\nfunction getFromWindowOrThrow(name) {\n    const res = getFromWindow(name);\n    if (!res) {\n        throw new Error(`${name} is not defined in Window`);\n    }\n    return res;\n}\nexports.getFromWindowOrThrow = getFromWindowOrThrow;\nfunction getDocumentOrThrow() {\n    return getFromWindowOrThrow(\"document\");\n}\nexports.getDocumentOrThrow = getDocumentOrThrow;\nfunction getDocument() {\n    return getFromWindow(\"document\");\n}\nexports.getDocument = getDocument;\nfunction getNavigatorOrThrow() {\n    return getFromWindowOrThrow(\"navigator\");\n}\nexports.getNavigatorOrThrow = getNavigatorOrThrow;\nfunction getNavigator() {\n    return getFromWindow(\"navigator\");\n}\nexports.getNavigator = getNavigator;\nfunction getLocationOrThrow() {\n    return getFromWindowOrThrow(\"location\");\n}\nexports.getLocationOrThrow = getLocationOrThrow;\nfunction getLocation() {\n    return getFromWindow(\"location\");\n}\nexports.getLocation = getLocation;\nfunction getCryptoOrThrow() {\n    return getFromWindowOrThrow(\"crypto\");\n}\nexports.getCryptoOrThrow = getCryptoOrThrow;\nfunction getCrypto() {\n    return getFromWindow(\"crypto\");\n}\nexports.getCrypto = getCrypto;\nfunction getLocalStorageOrThrow() {\n    return getFromWindowOrThrow(\"localStorage\");\n}\nexports.getLocalStorageOrThrow = getLocalStorageOrThrow;\nfunction getLocalStorage() {\n    return getFromWindow(\"localStorage\");\n}\nexports.getLocalStorage = getLocalStorage;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnMvZGlzdC9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsOEJBQThCLEdBQUcsaUJBQWlCLEdBQUcsd0JBQXdCLEdBQUcsbUJBQW1CLEdBQUcsMEJBQTBCLEdBQUcsb0JBQW9CLEdBQUcsMkJBQTJCLEdBQUcsbUJBQW1CLEdBQUcsMEJBQTBCLEdBQUcsNEJBQTRCLEdBQUcscUJBQXFCO0FBQ3pUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixNQUFNO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNod2FudGhwZWRkaXNldHR5L0RvY3VtZW50cy9ldGhnbG9iYWwvY29udGV4dG8vbm9kZV9tb2R1bGVzL0B3YWxsZXRjb25uZWN0L3dpbmRvdy1nZXR0ZXJzL2Rpc3QvY2pzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRMb2NhbFN0b3JhZ2UgPSBleHBvcnRzLmdldExvY2FsU3RvcmFnZU9yVGhyb3cgPSBleHBvcnRzLmdldENyeXB0byA9IGV4cG9ydHMuZ2V0Q3J5cHRvT3JUaHJvdyA9IGV4cG9ydHMuZ2V0TG9jYXRpb24gPSBleHBvcnRzLmdldExvY2F0aW9uT3JUaHJvdyA9IGV4cG9ydHMuZ2V0TmF2aWdhdG9yID0gZXhwb3J0cy5nZXROYXZpZ2F0b3JPclRocm93ID0gZXhwb3J0cy5nZXREb2N1bWVudCA9IGV4cG9ydHMuZ2V0RG9jdW1lbnRPclRocm93ID0gZXhwb3J0cy5nZXRGcm9tV2luZG93T3JUaHJvdyA9IGV4cG9ydHMuZ2V0RnJvbVdpbmRvdyA9IHZvaWQgMDtcbmZ1bmN0aW9uIGdldEZyb21XaW5kb3cobmFtZSkge1xuICAgIGxldCByZXMgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvd1tuYW1lXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXMgPSB3aW5kb3dbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5leHBvcnRzLmdldEZyb21XaW5kb3cgPSBnZXRGcm9tV2luZG93O1xuZnVuY3Rpb24gZ2V0RnJvbVdpbmRvd09yVGhyb3cobmFtZSkge1xuICAgIGNvbnN0IHJlcyA9IGdldEZyb21XaW5kb3cobmFtZSk7XG4gICAgaWYgKCFyZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke25hbWV9IGlzIG5vdCBkZWZpbmVkIGluIFdpbmRvd2ApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0cy5nZXRGcm9tV2luZG93T3JUaHJvdyA9IGdldEZyb21XaW5kb3dPclRocm93O1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnRPclRocm93KCkge1xuICAgIHJldHVybiBnZXRGcm9tV2luZG93T3JUaHJvdyhcImRvY3VtZW50XCIpO1xufVxuZXhwb3J0cy5nZXREb2N1bWVudE9yVGhyb3cgPSBnZXREb2N1bWVudE9yVGhyb3c7XG5mdW5jdGlvbiBnZXREb2N1bWVudCgpIHtcbiAgICByZXR1cm4gZ2V0RnJvbVdpbmRvdyhcImRvY3VtZW50XCIpO1xufVxuZXhwb3J0cy5nZXREb2N1bWVudCA9IGdldERvY3VtZW50O1xuZnVuY3Rpb24gZ2V0TmF2aWdhdG9yT3JUaHJvdygpIHtcbiAgICByZXR1cm4gZ2V0RnJvbVdpbmRvd09yVGhyb3coXCJuYXZpZ2F0b3JcIik7XG59XG5leHBvcnRzLmdldE5hdmlnYXRvck9yVGhyb3cgPSBnZXROYXZpZ2F0b3JPclRocm93O1xuZnVuY3Rpb24gZ2V0TmF2aWdhdG9yKCkge1xuICAgIHJldHVybiBnZXRGcm9tV2luZG93KFwibmF2aWdhdG9yXCIpO1xufVxuZXhwb3J0cy5nZXROYXZpZ2F0b3IgPSBnZXROYXZpZ2F0b3I7XG5mdW5jdGlvbiBnZXRMb2NhdGlvbk9yVGhyb3coKSB7XG4gICAgcmV0dXJuIGdldEZyb21XaW5kb3dPclRocm93KFwibG9jYXRpb25cIik7XG59XG5leHBvcnRzLmdldExvY2F0aW9uT3JUaHJvdyA9IGdldExvY2F0aW9uT3JUaHJvdztcbmZ1bmN0aW9uIGdldExvY2F0aW9uKCkge1xuICAgIHJldHVybiBnZXRGcm9tV2luZG93KFwibG9jYXRpb25cIik7XG59XG5leHBvcnRzLmdldExvY2F0aW9uID0gZ2V0TG9jYXRpb247XG5mdW5jdGlvbiBnZXRDcnlwdG9PclRocm93KCkge1xuICAgIHJldHVybiBnZXRGcm9tV2luZG93T3JUaHJvdyhcImNyeXB0b1wiKTtcbn1cbmV4cG9ydHMuZ2V0Q3J5cHRvT3JUaHJvdyA9IGdldENyeXB0b09yVGhyb3c7XG5mdW5jdGlvbiBnZXRDcnlwdG8oKSB7XG4gICAgcmV0dXJuIGdldEZyb21XaW5kb3coXCJjcnlwdG9cIik7XG59XG5leHBvcnRzLmdldENyeXB0byA9IGdldENyeXB0bztcbmZ1bmN0aW9uIGdldExvY2FsU3RvcmFnZU9yVGhyb3coKSB7XG4gICAgcmV0dXJuIGdldEZyb21XaW5kb3dPclRocm93KFwibG9jYWxTdG9yYWdlXCIpO1xufVxuZXhwb3J0cy5nZXRMb2NhbFN0b3JhZ2VPclRocm93ID0gZ2V0TG9jYWxTdG9yYWdlT3JUaHJvdztcbmZ1bmN0aW9uIGdldExvY2FsU3RvcmFnZSgpIHtcbiAgICByZXR1cm4gZ2V0RnJvbVdpbmRvdyhcImxvY2FsU3RvcmFnZVwiKTtcbn1cbmV4cG9ydHMuZ2V0TG9jYWxTdG9yYWdlID0gZ2V0TG9jYWxTdG9yYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@walletconnect/window-metadata/dist/cjs/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getWindowMetadata = void 0;\nconst window_getters_1 = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\nfunction getWindowMetadata() {\n    let doc;\n    let loc;\n    try {\n        doc = window_getters_1.getDocumentOrThrow();\n        loc = window_getters_1.getLocationOrThrow();\n    }\n    catch (e) {\n        return null;\n    }\n    function getIcons() {\n        const links = doc.getElementsByTagName(\"link\");\n        const icons = [];\n        for (let i = 0; i < links.length; i++) {\n            const link = links[i];\n            const rel = link.getAttribute(\"rel\");\n            if (rel) {\n                if (rel.toLowerCase().indexOf(\"icon\") > -1) {\n                    const href = link.getAttribute(\"href\");\n                    if (href) {\n                        if (href.toLowerCase().indexOf(\"https:\") === -1 &&\n                            href.toLowerCase().indexOf(\"http:\") === -1 &&\n                            href.indexOf(\"//\") !== 0) {\n                            let absoluteHref = loc.protocol + \"//\" + loc.host;\n                            if (href.indexOf(\"/\") === 0) {\n                                absoluteHref += href;\n                            }\n                            else {\n                                const path = loc.pathname.split(\"/\");\n                                path.pop();\n                                const finalPath = path.join(\"/\");\n                                absoluteHref += finalPath + \"/\" + href;\n                            }\n                            icons.push(absoluteHref);\n                        }\n                        else if (href.indexOf(\"//\") === 0) {\n                            const absoluteUrl = loc.protocol + href;\n                            icons.push(absoluteUrl);\n                        }\n                        else {\n                            icons.push(href);\n                        }\n                    }\n                }\n            }\n        }\n        return icons;\n    }\n    function getWindowMetadataOfAny(...args) {\n        const metaTags = doc.getElementsByTagName(\"meta\");\n        for (let i = 0; i < metaTags.length; i++) {\n            const tag = metaTags[i];\n            const attributes = [\"itemprop\", \"property\", \"name\"]\n                .map((target) => tag.getAttribute(target))\n                .filter((attr) => {\n                if (attr) {\n                    return args.includes(attr);\n                }\n                return false;\n            });\n            if (attributes.length && attributes) {\n                const content = tag.getAttribute(\"content\");\n                if (content) {\n                    return content;\n                }\n            }\n        }\n        return \"\";\n    }\n    function getName() {\n        let name = getWindowMetadataOfAny(\"name\", \"og:site_name\", \"og:title\", \"twitter:title\");\n        if (!name) {\n            name = doc.title;\n        }\n        return name;\n    }\n    function getDescription() {\n        const description = getWindowMetadataOfAny(\"description\", \"og:description\", \"twitter:description\", \"keywords\");\n        return description;\n    }\n    const name = getName();\n    const description = getDescription();\n    const url = loc.origin;\n    const icons = getIcons();\n    const meta = {\n        description,\n        url,\n        icons,\n        name,\n    };\n    return meta;\n}\nexports.getWindowMetadata = getWindowMetadata;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3Qvd2luZG93LW1ldGFkYXRhL2Rpc3QvY2pzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QjtBQUN6Qix5QkFBeUIsbUJBQU8sQ0FBQywyR0FBK0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0JBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyIvVXNlcnMvamFzaHdhbnRocGVkZGlzZXR0eS9Eb2N1bWVudHMvZXRoZ2xvYmFsL2NvbnRleHRvL25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC93aW5kb3ctbWV0YWRhdGEvZGlzdC9janMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldFdpbmRvd01ldGFkYXRhID0gdm9pZCAwO1xuY29uc3Qgd2luZG93X2dldHRlcnNfMSA9IHJlcXVpcmUoXCJAd2FsbGV0Y29ubmVjdC93aW5kb3ctZ2V0dGVyc1wiKTtcbmZ1bmN0aW9uIGdldFdpbmRvd01ldGFkYXRhKCkge1xuICAgIGxldCBkb2M7XG4gICAgbGV0IGxvYztcbiAgICB0cnkge1xuICAgICAgICBkb2MgPSB3aW5kb3dfZ2V0dGVyc18xLmdldERvY3VtZW50T3JUaHJvdygpO1xuICAgICAgICBsb2MgPSB3aW5kb3dfZ2V0dGVyc18xLmdldExvY2F0aW9uT3JUaHJvdygpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SWNvbnMoKSB7XG4gICAgICAgIGNvbnN0IGxpbmtzID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlua1wiKTtcbiAgICAgICAgY29uc3QgaWNvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGluayA9IGxpbmtzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVsID0gbGluay5nZXRBdHRyaWJ1dGUoXCJyZWxcIik7XG4gICAgICAgICAgICBpZiAocmVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJpY29uXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHJlZiA9IGxpbmsuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImh0dHBzOlwiKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImh0dHA6XCIpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWYuaW5kZXhPZihcIi8vXCIpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFic29sdXRlSHJlZiA9IGxvYy5wcm90b2NvbCArIFwiLy9cIiArIGxvYy5ob3N0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChocmVmLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFic29sdXRlSHJlZiArPSBocmVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGxvYy5wYXRobmFtZS5zcGxpdChcIi9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsUGF0aCA9IHBhdGguam9pbihcIi9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFic29sdXRlSHJlZiArPSBmaW5hbFBhdGggKyBcIi9cIiArIGhyZWY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25zLnB1c2goYWJzb2x1dGVIcmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhyZWYuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWJzb2x1dGVVcmwgPSBsb2MucHJvdG9jb2wgKyBocmVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25zLnB1c2goYWJzb2x1dGVVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbnMucHVzaChocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWNvbnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFdpbmRvd01ldGFkYXRhT2ZBbnkoLi4uYXJncykge1xuICAgICAgICBjb25zdCBtZXRhVGFncyA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm1ldGFcIik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWV0YVRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IG1ldGFUYWdzW2ldO1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtcIml0ZW1wcm9wXCIsIFwicHJvcGVydHlcIiwgXCJuYW1lXCJdXG4gICAgICAgICAgICAgICAgLm1hcCgodGFyZ2V0KSA9PiB0YWcuZ2V0QXR0cmlidXRlKHRhcmdldCkpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoYXR0cikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmdzLmluY2x1ZGVzKGF0dHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLmxlbmd0aCAmJiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHRhZy5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TmFtZSgpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBnZXRXaW5kb3dNZXRhZGF0YU9mQW55KFwibmFtZVwiLCBcIm9nOnNpdGVfbmFtZVwiLCBcIm9nOnRpdGxlXCIsIFwidHdpdHRlcjp0aXRsZVwiKTtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gZG9jLnRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREZXNjcmlwdGlvbigpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBnZXRXaW5kb3dNZXRhZGF0YU9mQW55KFwiZGVzY3JpcHRpb25cIiwgXCJvZzpkZXNjcmlwdGlvblwiLCBcInR3aXR0ZXI6ZGVzY3JpcHRpb25cIiwgXCJrZXl3b3Jkc1wiKTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBjb25zdCBuYW1lID0gZ2V0TmFtZSgpO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZ2V0RGVzY3JpcHRpb24oKTtcbiAgICBjb25zdCB1cmwgPSBsb2Mub3JpZ2luO1xuICAgIGNvbnN0IGljb25zID0gZ2V0SWNvbnMoKTtcbiAgICBjb25zdCBtZXRhID0ge1xuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgdXJsLFxuICAgICAgICBpY29ucyxcbiAgICAgICAgbmFtZSxcbiAgICB9O1xuICAgIHJldHVybiBtZXRhO1xufVxuZXhwb3J0cy5nZXRXaW5kb3dNZXRhZGF0YSA9IGdldFdpbmRvd01ldGFkYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@walletconnect/window-metadata/dist/cjs/index.js\n");

/***/ })

};
;